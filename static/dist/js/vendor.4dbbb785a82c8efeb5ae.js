webpackJsonp([39],{"+8+3":function(t,e,n){var i;i=function(){"use strict";var t,e={name:"zh_CN",messages:{_default:function(t){return t+"的值无效"},after:function(t,e){var n=e[0];return t+"必须在"+n+"之后"+(e[1]?"或等于"+n:"")},alpha:function(t){return t+"只能包含字母字符"},alpha_dash:function(t){return t+"能够包含字母数字字符、破折号和下划线"},alpha_num:function(t){return t+"只能包含字母数字字符"},alpha_spaces:function(t){return t+"只能包含字母字符和空格"},before:function(t,e){var n=e[0];return t+"必须在"+n+"之前"+(e[1]?"或等于"+n:"")},between:function(t,e){return t+"必须在"+e[0]+"与"+e[1]+"之间"},confirmed:function(t,e){return t+"不能和"+e[0]+"匹配"},credit_card:function(t){return t+"的格式错误"},date_between:function(t,e){return t+"必须在"+e[0]+"和"+e[1]+"之间"},date_format:function(t,e){return t+"必须符合"+e[0]+"格式"},decimal:function(t,e){void 0===e&&(e=[]);var n=e[0];return void 0===n&&(n="*"),t+"必须是数字，且能够保留"+("*"===n?"":n)+"位小数"},digits:function(t,e){return t+"必须是数字，且精确到"+e[0]+"位数"},dimensions:function(t,e){return t+"必须在"+e[0]+"像素与"+e[1]+"像素之间"},email:function(t){return t+"不是一个有效的邮箱"},excluded:function(t){return t+"不是一个有效值"},ext:function(t){return t+"不是一个有效的文件"},image:function(t){return t+"不是一张有效的图片"},included:function(t){return t+"不是一个有效值"},integer:function(t){return t+"必须是整数"},ip:function(t){return t+"不是一个有效的地址"},length:function(t,e){var n=e[0],i=e[1];return i?t+"长度必须在"+n+"到"+i+"之间":t+"长度必须为"+n},max:function(t,e){return t+"不能超过"+e[0]+"个字符"},max_value:function(t,e){return t+"必须小于或等于"+e[0]},mimes:function(t){return t+"不是一个有效的文件类型"},min:function(t,e){return t+"必须至少有"+e[0]+"个字符"},min_value:function(t,e){return t+"必须大于或等于"+e[0]},numeric:function(t){return t+"只能包含数字字符"},regex:function(t){return t+"格式无效"},required:function(t){return t+"是必须的"},size:function(t,e){return t+"必须小于"+function(t){var e=1024,n=0==(t=Number(t)*e)?0:Math.floor(Math.log(t)/Math.log(e));return 1*(t/Math.pow(e,n)).toFixed(2)+" "+["Byte","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}(e[0])},url:function(t){return t+"不是一个有效的url"}},attributes:{}};return"undefined"!=typeof VeeValidate&&VeeValidate.Validator.localize(((t={})[e.name]=e,t)),e},t.exports=i()},"+E39":function(t,e,n){t.exports=!n("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+ZMJ":function(t,e,n){var i=n("lOnJ");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},"+cvj":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n("Jsh2"))&&i.__esModule?i:{default:i};var o=function(t,e){for(var n=(0,r.default)(t,e),i=[],o=n.length,a=0;a<o;a+=1){i[a]=[];for(var s=0;s<o;s+=1)a===s?i[a][s]=0:0!==n[a][s]&&n[a][s]?i[a][s]=n[a][s]:i[a][s]=1/0}for(var l=0;l<o;l+=1)for(a=0;a<o;a+=1)for(s=0;s<o;s+=1)i[a][s]>i[a][l]+i[l][s]&&(i[a][s]=i[a][l]+i[l][s]);return i};e.default=o},"+ex3":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n("Z60a"),r=n.n(i),o=n("C9uT"),a=n.n(o),s=n("M1I4"),l=n.n(s),u=n("j/rp"),c=n.n(u),h=n("T/v0"),d=n.n(h),f=n("tNLN"),p=n.n(f),g=n("lVvd");function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=p()(t);if(e){var r=p()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d()(this,n)}}var m=function(t){c()(n,t);var e=v(n);function n(t){var i,o,a,s,u,c,h,d,f,p,v,m,y,b,x;return r()(this,n),(i=e.call(this,t)).dirtyFlag=void 0,i.localDirtyFlag=void 0,i.parent=null,i.localPosition=g.e.fromValues(0,0,0),i.localRotation=g.c.fromValues(0,0,0,1),i.localScale=g.e.fromValues(1,1,1),i.localTransform=g.b.create(),i.position=g.e.fromValues(0,0,0),i.rotation=g.c.fromValues(0,0,0,1),i.scaling=g.e.fromValues(1,1,1),i.worldTransform=g.b.create(),i.matrixTransform=(o=g.b.create(),function(t){g.b.multiply(o,i.getLocalTransform(),t),g.b.getScaling(i.localScale,o),g.b.getTranslation(i.localPosition,o),g.b.getRotation(i.localRotation,o)}),i.rotateRollPitchYaw=(a=g.c.create(),s=g.c.create(),u=g.c.create(),function(t,e,n){i.setDirty(),g.c.fromEuler(a,t,0,0),g.c.fromEuler(s,0,e,0),g.c.fromEuler(u,0,0,n),g.c.multiply(i.localRotation,a,i.localRotation),g.c.multiply(i.localRotation,i.localRotation,s),g.c.multiply(i.localRotation,u,i.localRotation),g.c.normalize(i.localRotation,i.localRotation)}),i.lerp=(c=g.e.create(),h=g.c.create(),d=g.e.create(),f=g.e.create(),p=g.c.create(),v=g.e.create(),function(t,e,n){i.setDirty(),g.b.getScaling(c,t.worldTransform),g.b.getTranslation(d,t.worldTransform),g.b.getRotation(h,t.worldTransform),g.b.getScaling(f,e.worldTransform),g.b.getTranslation(v,e.worldTransform),g.b.getRotation(p,e.worldTransform),g.e.lerp(i.localScale,c,f,n),g.c.slerp(i.localRotation,h,p,n),g.e.lerp(i.localPosition,d,v,n)}),i.translate=(m=g.e.create(),function(t){return g.e.add(m,i.getPosition(),t),i.setPosition(m),i.setDirty(!0),l()(i)}),i.translateLocal=function(t){return g.e.transformQuat(t,t,i.localRotation),g.e.add(i.localPosition,i.localPosition,t),i.setLocalDirty(!0),l()(i)},i.setPosition=(y=g.b.create(),function(t){return i.position=t,i.setLocalDirty(!0),null===i.parent?g.e.copy(i.localPosition,t):(g.b.copy(y,i.parent.worldTransform),g.b.invert(y,y),g.e.transformMat4(i.localPosition,t,y)),l()(i)}),i.rotate=(b=g.c.create(),function(t){if(null===i.parent)g.c.multiply(i.localRotation,i.localRotation,t),g.c.normalize(i.localRotation,i.localRotation);else{var e=i.getRotation(),n=i.parent.getRotation();g.c.copy(b,n),g.c.invert(b,b),g.c.multiply(b,b,t),g.c.multiply(i.localRotation,t,e),g.c.normalize(i.localRotation,i.localRotation)}return i.setLocalDirty(),l()(i)}),i.rotateLocal=function(t){return g.c.multiply(i.localRotation,i.localRotation,t),g.c.normalize(i.localRotation,i.localRotation),i.setLocalDirty(!0),l()(i)},i.setRotation=(x=g.c.create(),function(t){return null===i.parent?g.c.copy(i.localRotation,t):(g.c.copy(x,i.parent.getRotation()),g.c.invert(x,x),g.c.copy(i.localRotation,x),g.c.mul(i.localRotation,i.localRotation,t)),i.setLocalDirty(!0),l()(i)}),i}return a()(n,[{key:"setLocalPosition",value:function(t){g.e.copy(this.localPosition,t),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(t){g.e.copy(this.localScale,t),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(t){return g.c.copy(this.localRotation,t),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.dirtyFlag|=n.DIRTY:this.dirtyFlag&=~n.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?(this.localDirtyFlag|=n.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~n.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&null===this.parent&&(g.b.copy(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(t){g.b.multiply(this.worldTransform,t.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),g.b.getScaling(this.localScale,this.worldTransform),g.b.getTranslation(this.localPosition,this.worldTransform),g.b.getRotation(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=g.e.fromValues(0,0,0),this.localRotation=g.c.fromValues(0,0,0,1),this.localScale=g.e.fromValues(1,1,1)}},{key:"scaleLocal",value:function(t){return this.setLocalDirty(),g.e.multiply(this.localScale,this.localScale,t),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(g.b.fromRotationTranslationScale(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return this.isLocalDirty()||this.isDirty()?(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform):this.worldTransform}},{key:"getPosition",value:function(){return g.b.getTranslation(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return g.b.getRotation(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return g.b.getScaling(this.scaling,this.worldTransform),this.scaling}}]),n}(n("J4xG").a);m.DIRTY=1},"+gjU":function(t,e){t.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}},"+hGC":function(t,e,n){"use strict";n.d(e,"a",function(){return P});var i,r,o,a,s,l,u,c,h,d,f,p,g,v=n("En79"),m=n.n(v),y=n("7hDC"),b=n.n(y),x=n("dYct"),w=n.n(x),_=n("Z60a"),S=n.n(_),M=n("C9uT"),C=n.n(M),I=n("jb0h"),k=n.n(I),T=n("X6mv"),O=(n.n(T),n("YulH")),E=(n.n(O),n("Klor")),A=n("HuxX"),N=n("KqSj");function L(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var j={NONE:0,ENCODE:1,HIGHLIGHT:2},P=(i=Object(O.injectable)(),r=Object(O.inject)(E.a.RenderEngine),o=Object(O.inject)(E.a.ResourcePool),a=Object(O.inject)(E.a.RenderPassFactory),s=Object(O.inject)(E.a.MeshComponentManager),i((g=p=function(){function t(){var e=this;S()(this,t),w()(this,"engine",c,this),w()(this,"resourcePool",h,this),w()(this,"renderPassFactory",d,this),w()(this,"mesh",f,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(t,e,n){var i=t.createRenderTarget(e,"picking fbo",{width:1,height:1});n.data={output:e.write(t,i)},e.hasSideEffect=!0},this.execute=function(){var t=b()(m.a.mark(function t(n,i,r){var o,a,s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.views=r,!e.alreadyInRendering){t.next=3;break}return t.abrupt("return");case 3:o=L(r);try{for(s=function(){var t=a.value,r=t.getViewport(),o=r.width,s=r.height;e.alreadyInRendering=!0;var l=n.getResourceNode(i.data.output);e.pickingFBO=e.resourcePool.getOrCreateResource(l.resource),e.pickingFBO.resize({width:o,height:s}),e.engine.useFramebuffer(e.pickingFBO,function(){e.engine.clear({framebuffer:e.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n,i=e.renderPassFactory(N.a.IDENTIFIER),r=[],o=L(t.getScene().getEntities());try{for(o.s();!(n=o.n()).done;){var a=n.value,s=e.mesh.getComponentByEntity(a);s.material.setUniform("u_PickingStage",j.ENCODE),r.push(s)}}catch(t){o.e(t)}finally{o.f()}i.renderView(t),r.forEach(function(t){t.material.setUniform("u_PickingStage",j.HIGHLIGHT)}),e.alreadyInRendering=!1})},o.s();!(a=o.n()).done;)s()}catch(t){o.e(t)}finally{o.f()}case 5:case"end":return t.stop()}},t)}));return function(e,n,i){return t.apply(this,arguments)}}(),this.pick=function(t,n){var i,r,o=t.x,a=t.y,s=e.engine,l=s.readPixels,u=s.useFramebuffer,c=n.getViewport(),h=c.width,d=c.height,f=o*window.devicePixelRatio,p=a*window.devicePixelRatio;if(!(f>h||f<0||p>d||p<0))return u(e.pickingFBO,function(){0===(i=l({x:Math.round(f),y:Math.round(d-(a+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(4),framebuffer:e.pickingFBO}))[0]&&0===i[1]&&0===i[2]||(r=Object(A.a)(i),e.highlightEnabled&&e.highlightPickedFeature(i,n))}),r}}return C()(t,[{key:"enableHighlight",value:function(t){this.highlightEnabled=t}},{key:"setHighlightColor",value:function(t){this.highlightColor=t}},{key:"highlightPickedFeature",value:function(t,e){if(t){var n,i=L(e.getScene().getEntities());try{for(i.s();!(n=i.n()).done;){var r=n.value,o=this.mesh.getComponentByEntity(r).material;o.setUniform("u_PickingStage",j.HIGHLIGHT),o.setUniform("u_PickingColor",[t[0],t[1],t[2]]),o.setUniform("u_HighlightColor",this.highlightColor)}}catch(t){i.e(t)}finally{i.f()}}}}]),t}(),p.IDENTIFIER="PixelPicking Pass",u=g,c=k()(u.prototype,"engine",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k()(u.prototype,"resourcePool",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=k()(u.prototype,"renderPassFactory",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=k()(u.prototype,"mesh",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=u))||l)},"+tPU":function(t,e,n){n("xGkn");for(var i=n("7KvD"),r=n("hJx8"),o=n("/bQp"),a=n("dSzd")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=i[u],h=c&&c.prototype;h&&!h[a]&&r(h,a,u),o[u]=o.Array}},"+ymx":function(t,e,n){"use strict";e.c=function(t,e,n,i,r){var l=s(i-e,n-t);return{dx:a(l)*r,dy:o(l)*r}},e.b=function(t,e,n,i,r,o){"object"==typeof e.startArrow?c(t,e,n,i,r,o,!0):e.startArrow?u(t,e,n,i,r,o,!0):t.set("startArrowShape",null)},e.a=function(t,e,n,i,r,o){"object"==typeof e.endArrow?c(t,e,n,i,r,o,!1):e.endArrow?u(t,e,n,i,r,o,!1):t.set("startArrowShape",null)};var i=n("TToO"),r=n("3BVV"),o=Math.sin,a=Math.cos,s=Math.atan2,l=Math.PI;function u(t,e,n,i,u,c,h){var d=e.stroke,f=e.lineWidth,p=s(i-c,n-u),g=new r.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*a(l/6)+","+10*o(l/6)+" L0,0 L"+10*a(l/6)+",-"+10*o(l/6),stroke:d,lineWidth:f}});g.translate(u,c),g.rotateAtPoint(u,c,p),t.set(h?"startArrowShape":"endArrowShape",g)}function c(t,e,n,l,u,c,h){var d=e.startArrow,f=e.endArrow,p=e.stroke,g=e.lineWidth,v=h?d:f,m=v.d,y=v.fill,b=v.stroke,x=v.lineWidth,w=Object(i.__rest)(v,["d","fill","stroke","lineWidth"]),_=s(l-c,n-u);m&&(u-=a(_)*m,c-=o(_)*m);var S=new r.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:Object(i.__assign)(Object(i.__assign)({},w),{stroke:b||p,lineWidth:x||g,fill:y})});S.translate(u,c),S.rotateAtPoint(u,c,_),t.set(h?"startArrowShape":"endArrowShape",S)}},"//Fk":function(t,e,n){t.exports={default:n("U5ju"),__esModule:!0}},"/bQp":function(t,e){t.exports={}},"/gxq":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guid=function(){return g++},e.logError=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof console&&console.error.apply(console,t)},e.clone=v,e.merge=m,e.mergeAll=function(t,e){for(var n=t[0],i=1,r=t.length;i<r;i++)n=m(n,t[i],e);return n},e.extend=y,e.defaults=b,n.d(e,"createCanvas",function(){return x}),e.indexOf=function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1},e.inherits=function(t,e){var n=t.prototype;function i(){}for(var r in i.prototype=e.prototype,t.prototype=new i,n)n.hasOwnProperty(r)&&(t.prototype[r]=n[r]);t.prototype.constructor=t,t.superClass=e},e.mixin=function(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var o=i[r];"constructor"!==o&&(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}else b(t,e,n)},e.isArrayLike=function(t){if(!t)return!1;if("string"==typeof t)return!1;return"number"==typeof t.length},e.each=w,e.map=function(t,e,n){if(!t)return[];if(!e)return A(t);if(t.map&&t.map===h)return t.map(e,n);for(var i=[],r=0,o=t.length;r<o;r++)i.push(e.call(n,t[r],r,t));return i},e.reduce=_,e.filter=function(t,e,n){if(!t)return[];if(!e)return A(t);if(t.filter&&t.filter===u)return t.filter(e,n);for(var i=[],r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i},e.find=function(t,e,n){if(!t||!e)return;for(var i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return t[i]},e.keys=S,n.d(e,"bind",function(){return M}),n.d(e,"curry",function(){return C}),e.isArray=I,e.isFunction=k,e.isString=function(t){return"string"==typeof t},e.isStringSafe=function(t){return"[object String]"===a.call(t)},e.isNumber=function(t){return"number"==typeof t},e.isObject=T,e.isBuiltInObject=O,e.isTypedArray=function(t){return!!o[a.call(t)]},e.isDom=E,e.isGradientObject=function(t){return null!=t.colorStops},e.isImagePatternObject=function(t){return null!=t.image},e.isRegExp=function(t){return"[object RegExp]"===a.call(t)},e.eqNaN=function(t){return t!=t},e.retrieve=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=t.length;n<i;n++)if(null!=t[n])return t[n]},e.retrieve2=function(t,e){return null!=t?t:e},e.retrieve3=function(t,e,n){return null!=t?t:null!=e?e:n},e.slice=A,e.normalizeCssArray=function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];return t},e.assert=function(t,e){if(!t)throw new Error(e)},e.trim=function(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.setAsPrimitive=function(t){t[N]=!0},e.isPrimitive=L,n.d(e,"HashMap",function(){return D}),e.createHashMap=function(t){return new D(t)},e.concatArray=function(t,e){for(var n=new t.constructor(t.length+e.length),i=0;i<t.length;i++)n[i]=t[i];for(var r=t.length,i=0;i<e.length;i++)n[i+r]=e[i];return n},e.createObject=function(t,e){var n;if(Object.create)n=Object.create(t);else{var i=function(){};i.prototype=t,n=new i}e&&y(n,e);return n},e.disableUserSelect=function(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"},e.hasOwn=function(t,e){return t.hasOwnProperty(e)},e.noop=function(){},n.d(e,"RADIAN_TO_DEGREE",function(){return j});var i=n("OwOc"),r=_(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),o=_(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),a=Object.prototype.toString,s=Array.prototype,l=s.forEach,u=s.filter,c=s.slice,h=s.map,d=function(){}.constructor,f=d?d.prototype:null,p="__proto__",g=2311;function v(t){if(null==t||"object"!=typeof t)return t;var e=t,n=a.call(t);if("[object Array]"===n){if(!L(t)){e=[];for(var i=0,s=t.length;i<s;i++)e[i]=v(t[i])}}else if(o[n]){if(!L(t)){var l=t.constructor;if(l.from)e=l.from(t);else{e=new l(t.length);for(i=0,s=t.length;i<s;i++)e[i]=t[i]}}}else if(!r[n]&&!L(t)&&!E(t))for(var u in e={},t)t.hasOwnProperty(u)&&u!==p&&(e[u]=v(t[u]));return e}function m(t,e,n){if(!T(e)||!T(t))return n?v(e):t;for(var i in e)if(e.hasOwnProperty(i)&&i!==p){var r=t[i],o=e[i];!T(o)||!T(r)||I(o)||I(r)||E(o)||E(r)||O(o)||O(r)||L(o)||L(r)?!n&&i in t||(t[i]=v(e[i])):m(r,o,n)}return t}function y(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&n!==p&&(t[n]=e[n]);return t}function b(t,e,n){for(var i=S(e),r=0;r<i.length;r++){var o=i[r];(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}var x=i.d.createCanvas;function w(t,e,n){if(t&&e)if(t.forEach&&t.forEach===l)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function _(t,e,n,i){if(t&&e){for(var r=0,o=t.length;r<o;r++)n=e.call(i,n,t[r],r,t);return n}}function S(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}var M=f&&k(f.bind)?f.call.bind(f.bind):function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return function(){return t.apply(e,n.concat(c.call(arguments)))}};function C(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(c.call(arguments)))}}function I(t){return Array.isArray?Array.isArray(t):"[object Array]"===a.call(t)}function k(t){return"function"==typeof t}function T(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function O(t){return!!r[a.call(t)]}function E(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function A(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return c.apply(t,e)}var N="__ec_primitive__";function L(t){return t[N]}var D=function(){function t(e){this.data={};var n=I(e);this.data={};var i=this;function r(t,e){n?i.set(t,e):i.set(e,t)}e instanceof t?e.each(r):e&&w(e,r)}return t.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},t.prototype.set=function(t,e){return this.data[t]=e},t.prototype.each=function(t,e){for(var n in this.data)this.data.hasOwnProperty(n)&&t.call(e,this.data[n],n)},t.prototype.keys=function(){return S(this.data)},t.prototype.removeKey=function(t){delete this.data[t]},t}();var j=180/Math.PI},"/n6Q":function(t,e,n){n("zQR9"),n("+tPU"),t.exports=n("Kh4W").f("iterator")},"/ocq":function(t,e,n){"use strict";
/*!
  * vue-router v3.5.3
  * (c) 2021 Evan You
  * @license MIT
  */function i(t,e){for(var n in e)t[n]=e[n];return t}var r=/[!'()*]/g,o=function(t){return"%"+t.charCodeAt(0).toString(16)},a=/%2C/g,s=function(t){return encodeURIComponent(t).replace(r,o).replace(a,",")};function l(t){try{return decodeURIComponent(t)}catch(t){0}return t}var u=function(t){return null==t||"object"==typeof t?t:String(t)};function c(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("="),i=l(n.shift()),r=n.length>0?l(n.join("=")):null;void 0===e[i]?e[i]=r:Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]}),e):e}function h(t){var e=t?Object.keys(t).map(function(e){var n=t[e];if(void 0===n)return"";if(null===n)return s(e);if(Array.isArray(n)){var i=[];return n.forEach(function(t){void 0!==t&&(null===t?i.push(s(e)):i.push(s(e)+"="+s(t)))}),i.join("&")}return s(e)+"="+s(n)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var d=/\/?$/;function f(t,e,n,i){var r=i&&i.options.stringifyQuery,o=e.query||{};try{o=p(o)}catch(t){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:v(e,r),matched:t?function(t){var e=[];for(;t;)e.unshift(t),t=t.parent;return e}(t):[]};return n&&(a.redirectedFrom=v(n,r)),Object.freeze(a)}function p(t){if(Array.isArray(t))return t.map(p);if(t&&"object"==typeof t){var e={};for(var n in t)e[n]=p(t[n]);return e}return t}var g=f(null,{path:"/"});function v(t,e){var n=t.path,i=t.query;void 0===i&&(i={});var r=t.hash;return void 0===r&&(r=""),(n||"/")+(e||h)(i)+r}function m(t,e,n){return e===g?t===e:!!e&&(t.path&&e.path?t.path.replace(d,"")===e.path.replace(d,"")&&(n||t.hash===e.hash&&y(t.query,e.query)):!(!t.name||!e.name)&&(t.name===e.name&&(n||t.hash===e.hash&&y(t.query,e.query)&&y(t.params,e.params))))}function y(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t).sort(),i=Object.keys(e).sort();return n.length===i.length&&n.every(function(n,r){var o=t[n];if(i[r]!==n)return!1;var a=e[n];return null==o||null==a?o===a:"object"==typeof o&&"object"==typeof a?y(o,a):String(o)===String(a)})}function b(t){for(var e=0;e<t.matched.length;e++){var n=t.matched[e];for(var i in n.instances){var r=n.instances[i],o=n.enteredCbs[i];if(r&&o){delete n.enteredCbs[i];for(var a=0;a<o.length;a++)r._isBeingDestroyed||o[a](r)}}}}var x={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,r=e.children,o=e.parent,a=e.data;a.routerView=!0;for(var s=o.$createElement,l=n.name,u=o.$route,c=o._routerViewCache||(o._routerViewCache={}),h=0,d=!1;o&&o._routerRoot!==o;){var f=o.$vnode?o.$vnode.data:{};f.routerView&&h++,f.keepAlive&&o._directInactive&&o._inactive&&(d=!0),o=o.$parent}if(a.routerViewDepth=h,d){var p=c[l],g=p&&p.component;return g?(p.configProps&&w(g,a,p.route,p.configProps),s(g,a,r)):s()}var v=u.matched[h],m=v&&v.components[l];if(!v||!m)return c[l]=null,s();c[l]={component:m},a.registerRouteInstance=function(t,e){var n=v.instances[l];(e&&n!==t||!e&&n===t)&&(v.instances[l]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){v.instances[l]=e.componentInstance},a.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==v.instances[l]&&(v.instances[l]=t.componentInstance),b(u)};var y=v.props&&v.props[l];return y&&(i(c[l],{route:u,configProps:y}),w(m,a,u,y)),s(m,a,r)}};function w(t,e,n,r){var o=e.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}(n,r);if(o){o=e.props=i({},o);var a=e.attrs=e.attrs||{};for(var s in o)t.props&&s in t.props||(a[s]=o[s],delete o[s])}}function _(t,e,n){var i=t.charAt(0);if("/"===i)return t;if("?"===i||"#"===i)return e+t;var r=e.split("/");n&&r[r.length-1]||r.pop();for(var o=t.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?r.pop():"."!==s&&r.push(s)}return""!==r[0]&&r.unshift(""),r.join("/")}function S(t){return t.replace(/\/+/g,"/")}var M=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},C=B,I=A,k=function(t,e){return L(A(t,e),e)},T=L,O=z,E=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function A(t,e){for(var n,i=[],r=0,o=0,a="",s=e&&e.delimiter||"/";null!=(n=E.exec(t));){var l=n[0],u=n[1],c=n.index;if(a+=t.slice(o,c),o=c+l.length,u)a+=u[1];else{var h=t[o],d=n[2],f=n[3],p=n[4],g=n[5],v=n[6],m=n[7];a&&(i.push(a),a="");var y=null!=d&&null!=h&&h!==d,b="+"===v||"*"===v,x="?"===v||"*"===v,w=n[2]||s,_=p||g;i.push({name:f||r++,prefix:d||"",delimiter:w,optional:x,repeat:b,partial:y,asterisk:!!m,pattern:_?j(_):m?".*":"[^"+D(w)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&i.push(a),i}function N(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function L(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"==typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",R(e)));return function(e,i){for(var r="",o=e||{},a=(i||{}).pretty?N:encodeURIComponent,s=0;s<t.length;s++){var l=t[s];if("string"!=typeof l){var u,c=o[l.name];if(null==c){if(l.optional){l.partial&&(r+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(M(c)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(c)+"`");if(0===c.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<c.length;h++){if(u=a(c[h]),!n[s].test(u))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(u)+"`");r+=(0===h?l.prefix:l.delimiter)+u}}else{if(u=l.asterisk?encodeURI(c).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):a(c),!n[s].test(u))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+u+'"');r+=l.prefix+u}}else r+=l}return r}}function D(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function j(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function P(t,e){return t.keys=e,t}function R(t){return t&&t.sensitive?"":"i"}function z(t,e,n){M(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,r=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"==typeof s)o+=D(s);else{var l=D(s.prefix),u="(?:"+s.pattern+")";e.push(s),s.repeat&&(u+="(?:"+l+u+")*"),o+=u=s.optional?s.partial?l+"("+u+")?":"(?:"+l+"("+u+"))?":l+"("+u+")"}}var c=D(n.delimiter||"/"),h=o.slice(-c.length)===c;return i||(o=(h?o.slice(0,-c.length):o)+"(?:"+c+"(?=$))?"),o+=r?"$":i&&h?"":"(?="+c+"|$)",P(new RegExp("^"+o,R(n)),e)}function B(t,e,n){return M(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return P(t,e)}(t,e):M(t)?function(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(B(t[r],e,n).source);return P(new RegExp("(?:"+i.join("|")+")",R(n)),e)}(t,e,n):function(t,e,n){return z(A(t,n),e,n)}(t,e,n)}C.parse=I,C.compile=k,C.tokensToFunction=T,C.tokensToRegExp=O;var F=Object.create(null);function G(t,e,n){e=e||{};try{var i=F[t]||(F[t]=C.compile(t));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),i(e,{pretty:!0})}catch(t){return""}finally{delete e[0]}}function V(t,e,n,r){var o="string"==typeof t?{path:t}:t;if(o._normalized)return o;if(o.name){var a=(o=i({},t)).params;return a&&"object"==typeof a&&(o.params=i({},a)),o}if(!o.path&&o.params&&e){(o=i({},o))._normalized=!0;var s=i(i({},e.params),o.params);if(e.name)o.name=e.name,o.params=s;else if(e.matched.length){var l=e.matched[e.matched.length-1].path;o.path=G(l,s,e.path)}else 0;return o}var h=function(t){var e="",n="",i=t.indexOf("#");i>=0&&(e=t.slice(i),t=t.slice(0,i));var r=t.indexOf("?");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{path:t,query:n,hash:e}}(o.path||""),d=e&&e.path||"/",f=h.path?_(h.path,d,n||o.append):d,p=function(t,e,n){void 0===e&&(e={});var i,r=n||c;try{i=r(t||"")}catch(t){i={}}for(var o in e){var a=e[o];i[o]=Array.isArray(a)?a.map(u):u(a)}return i}(h.query,o.query,r&&r.options.parseQuery),g=o.hash||h.hash;return g&&"#"!==g.charAt(0)&&(g="#"+g),{_normalized:!0,path:f,query:p,hash:g}}var W,H=[String,Object],U=[String,Array],Y=function(){},J={name:"RouterLink",props:{to:{type:H,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:U,default:"click"}},render:function(t){var e=this,n=this.$router,r=this.$route,o=n.resolve(this.to,r,this.append),a=o.location,s=o.route,l=o.href,u={},c=n.options.linkActiveClass,h=n.options.linkExactActiveClass,p=null==c?"router-link-active":c,g=null==h?"router-link-exact-active":h,v=null==this.activeClass?p:this.activeClass,y=null==this.exactActiveClass?g:this.exactActiveClass,b=s.redirectedFrom?f(null,V(s.redirectedFrom),null,n):s;u[y]=m(r,b,this.exactPath),u[v]=this.exact||this.exactPath?u[y]:function(t,e){return 0===t.path.replace(d,"/").indexOf(e.path.replace(d,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var n in e)if(!(n in t))return!1;return!0}(t.query,e.query)}(r,b);var x=u[y]?this.ariaCurrentValue:null,w=function(t){Q(t)&&(e.replace?n.replace(a,Y):n.push(a,Y))},_={click:Q};Array.isArray(this.event)?this.event.forEach(function(t){_[t]=w}):_[this.event]=w;var S={class:u},M=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:s,navigate:w,isActive:u[v],isExactActive:u[y]});if(M){if(1===M.length)return M[0];if(M.length>1||!M.length)return 0===M.length?t():t("span",{},M)}if("a"===this.tag)S.on=_,S.attrs={href:l,"aria-current":x};else{var C=function t(e){if(e)for(var n,i=0;i<e.length;i++){if("a"===(n=e[i]).tag)return n;if(n.children&&(n=t(n.children)))return n}}(this.$slots.default);if(C){C.isStatic=!1;var I=C.data=i({},C.data);for(var k in I.on=I.on||{},I.on){var T=I.on[k];k in _&&(I.on[k]=Array.isArray(T)?T:[T])}for(var O in _)O in I.on?I.on[O].push(_[O]):I.on[O]=w;var E=C.data.attrs=i({},C.data.attrs);E.href=l,E["aria-current"]=x}else S.on=_}return t(this.tag,S,this.$slots.default)}};function Q(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Z(t){if(!Z.installed||W!==t){Z.installed=!0,W=t;var e=function(t){return void 0!==t},n=function(t,n){var i=t.$options._parentVnode;e(i)&&e(i=i.data)&&e(i=i.registerRouteInstance)&&i(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",x),t.component("RouterLink",J);var i=t.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}}var $="undefined"!=typeof window;function X(t,e,n,i,r){var o=e||[],a=n||Object.create(null),s=i||Object.create(null);t.forEach(function(t){!function t(e,n,i,r,o,a){var s=r.path;var l=r.name;0;var u=r.pathToRegexpOptions||{};var c=function(t,e,n){n||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return S(e.path+"/"+t)}(s,o,u.strict);"boolean"==typeof r.caseSensitive&&(u.sensitive=r.caseSensitive);var h={path:c,regex:function(t,e){var n=C(t,[],e);return n}(c,u),components:r.components||{default:r.component},alias:r.alias?"string"==typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:l,parent:o,matchAs:a,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};r.children&&r.children.forEach(function(r){var o=a?S(a+"/"+r.path):void 0;t(e,n,i,r,h,o)});n[h.path]||(e.push(h.path),n[h.path]=h);if(void 0!==r.alias)for(var d=Array.isArray(r.alias)?r.alias:[r.alias],f=0;f<d.length;++f){var p=d[f];0;var g={path:p,children:r.children};t(e,n,i,g,o,h.path||"/")}l&&(i[l]||(i[l]=h))}(o,a,s,t,r)});for(var l=0,u=o.length;l<u;l++)"*"===o[l]&&(o.push(o.splice(l,1)[0]),u--,l--);return{pathList:o,pathMap:a,nameMap:s}}function K(t,e){var n=X(t),i=n.pathList,r=n.pathMap,o=n.nameMap;function a(t,n,a){var s=V(t,n,!1,e),u=s.name;if(u){var c=o[u];if(!c)return l(null,s);var h=c.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof s.params&&(s.params={}),n&&"object"==typeof n.params)for(var d in n.params)!(d in s.params)&&h.indexOf(d)>-1&&(s.params[d]=n.params[d]);return s.path=G(c.path,s.params),l(c,s,a)}if(s.path){s.params={};for(var f=0;f<i.length;f++){var p=i[f],g=r[p];if(q(g.regex,s.path,s.params))return l(g,s,a)}}return l(null,s)}function s(t,n){var i=t.redirect,r="function"==typeof i?i(f(t,n,null,e)):i;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return l(null,n);var s=r,u=s.name,c=s.path,h=n.query,d=n.hash,p=n.params;if(h=s.hasOwnProperty("query")?s.query:h,d=s.hasOwnProperty("hash")?s.hash:d,p=s.hasOwnProperty("params")?s.params:p,u){o[u];return a({_normalized:!0,name:u,query:h,hash:d,params:p},void 0,n)}if(c){var g=function(t,e){return _(t,e.parent?e.parent.path:"/",!0)}(c,t);return a({_normalized:!0,path:G(g,p),query:h,hash:d},void 0,n)}return l(null,n)}function l(t,n,i){return t&&t.redirect?s(t,i||n):t&&t.matchAs?function(t,e,n){var i=a({_normalized:!0,path:G(n,e.params)});if(i){var r=i.matched,o=r[r.length-1];return e.params=i.params,l(o,e)}return l(null,e)}(0,n,t.matchAs):f(t,n,i,e)}return{match:a,addRoute:function(t,e){var n="object"!=typeof t?o[t]:void 0;X([e||t],i,r,o,n),n&&n.alias.length&&X(n.alias.map(function(t){return{path:t,children:[e]}}),i,r,o,n)},getRoutes:function(){return i.map(function(t){return r[t]})},addRoutes:function(t){X(t,i,r,o)}}}function q(t,e,n){var i=e.match(t);if(!i)return!1;if(!n)return!0;for(var r=1,o=i.length;r<o;++r){var a=t.keys[r-1];a&&(n[a.name||"pathMatch"]="string"==typeof i[r]?l(i[r]):i[r])}return!0}var tt=$&&window.performance&&window.performance.now?window.performance:Date;function et(){return tt.now().toFixed(3)}var nt=et();function it(){return nt}function rt(t){return nt=t}var ot=Object.create(null);function at(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=i({},window.history.state);return n.key=it(),window.history.replaceState(n,"",e),window.addEventListener("popstate",ut),function(){window.removeEventListener("popstate",ut)}}function st(t,e,n,i){if(t.app){var r=t.options.scrollBehavior;r&&t.app.$nextTick(function(){var o=function(){var t=it();if(t)return ot[t]}(),a=r.call(t,e,n,i?o:null);a&&("function"==typeof a.then?a.then(function(t){pt(t,o)}).catch(function(t){0}):pt(a,o))})}}function lt(){var t=it();t&&(ot[t]={x:window.pageXOffset,y:window.pageYOffset})}function ut(t){lt(),t.state&&t.state.key&&rt(t.state.key)}function ct(t){return dt(t.x)||dt(t.y)}function ht(t){return{x:dt(t.x)?t.x:window.pageXOffset,y:dt(t.y)?t.y:window.pageYOffset}}function dt(t){return"number"==typeof t}var ft=/^#\d/;function pt(t,e){var n,i="object"==typeof t;if(i&&"string"==typeof t.selector){var r=ft.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(r){var o=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-n.left-e.x,y:i.top-n.top-e.y}}(r,o={x:dt((n=o).x)?n.x:0,y:dt(n.y)?n.y:0})}else ct(t)&&(e=ht(t))}else i&&ct(t)&&(e=ht(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var gt,vt=$&&((-1===(gt=window.navigator.userAgent).indexOf("Android 2.")&&-1===gt.indexOf("Android 4.0")||-1===gt.indexOf("Mobile Safari")||-1!==gt.indexOf("Chrome")||-1!==gt.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function mt(t,e){lt();var n=window.history;try{if(e){var r=i({},n.state);r.key=it(),n.replaceState(r,"",t)}else n.pushState({key:rt(et())},"",t)}catch(n){window.location[e?"replace":"assign"](t)}}function yt(t){mt(t,!0)}function bt(t,e,n){var i=function(r){r>=t.length?n():t[r]?e(t[r],function(){i(r+1)}):i(r+1)};i(0)}var xt={redirected:2,aborted:4,cancelled:8,duplicated:16};function wt(t,e){return St(t,e,xt.redirected,'Redirected when going from "'+t.fullPath+'" to "'+function(t){if("string"==typeof t)return t;if("path"in t)return t.path;var e={};return Mt.forEach(function(n){n in t&&(e[n]=t[n])}),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function _t(t,e){return St(t,e,xt.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function St(t,e,n,i){var r=new Error(i);return r._isRouter=!0,r.from=t,r.to=e,r.type=n,r}var Mt=["params","query","hash"];function Ct(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function It(t,e){return Ct(t)&&t._isRouter&&(null==e||t.type===e)}function kt(t){return function(e,n,i){var r=!1,o=0,a=null;Tt(t,function(t,e,n,s){if("function"==typeof t&&void 0===t.cid){r=!0,o++;var l,u=At(function(e){var r;((r=e).__esModule||Et&&"Module"===r[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:W.extend(e),n.components[s]=e,--o<=0&&i()}),c=At(function(t){var e="Failed to resolve async component "+s+": "+t;a||(a=Ct(t)?t:new Error(e),i(a))});try{l=t(u,c)}catch(t){c(t)}if(l)if("function"==typeof l.then)l.then(u,c);else{var h=l.component;h&&"function"==typeof h.then&&h.then(u,c)}}}),r||i()}}function Tt(t,e){return Ot(t.map(function(t){return Object.keys(t.components).map(function(n){return e(t.components[n],t.instances[n],t,n)})}))}function Ot(t){return Array.prototype.concat.apply([],t)}var Et="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function At(t){var e=!1;return function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(!e)return e=!0,t.apply(this,n)}}var Nt=function(t,e){this.router=t,this.base=function(t){if(!t)if($){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=g,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Lt(t,e,n,i){var r=Tt(t,function(t,i,r,o){var a=function(t,e){"function"!=typeof t&&(t=W.extend(t));return t.options[e]}(t,e);if(a)return Array.isArray(a)?a.map(function(t){return n(t,i,r,o)}):n(a,i,r,o)});return Ot(i?r.reverse():r)}function Dt(t,e){if(e)return function(){return t.apply(e,arguments)}}Nt.prototype.listen=function(t){this.cb=t},Nt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},Nt.prototype.onError=function(t){this.errorCbs.push(t)},Nt.prototype.transitionTo=function(t,e,n){var i,r=this;try{i=this.router.match(t,this.current)}catch(t){throw this.errorCbs.forEach(function(e){e(t)}),t}var o=this.current;this.confirmTransition(i,function(){r.updateRoute(i),e&&e(i),r.ensureURL(),r.router.afterHooks.forEach(function(t){t&&t(i,o)}),r.ready||(r.ready=!0,r.readyCbs.forEach(function(t){t(i)}))},function(t){n&&n(t),t&&!r.ready&&(It(t,xt.redirected)&&o===g||(r.ready=!0,r.readyErrorCbs.forEach(function(e){e(t)})))})},Nt.prototype.confirmTransition=function(t,e,n){var i=this,r=this.current;this.pending=t;var o,a,s=function(t){!It(t)&&Ct(t)&&(i.errorCbs.length?i.errorCbs.forEach(function(e){e(t)}):console.error(t)),n&&n(t)},l=t.matched.length-1,u=r.matched.length-1;if(m(t,r)&&l===u&&t.matched[l]===r.matched[u])return this.ensureURL(),t.hash&&st(this.router,r,t,!1),s(((a=St(o=r,t,xt.duplicated,'Avoided redundant navigation to current location: "'+o.fullPath+'".')).name="NavigationDuplicated",a));var c=function(t,e){var n,i=Math.max(t.length,e.length);for(n=0;n<i&&t[n]===e[n];n++);return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}(this.current.matched,t.matched),h=c.updated,d=c.deactivated,f=c.activated,p=function(e,n){if(i.pending!==t)return s(_t(r,t));try{e(t,r,function(e){!1===e?(i.ensureURL(!0),s(function(t,e){return St(t,e,xt.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(r,t))):Ct(e)?(i.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(wt(r,t)),"object"==typeof e&&e.replace?i.replace(e):i.push(e)):n(e)})}catch(t){s(t)}};bt([].concat(function(t){return Lt(t,"beforeRouteLeave",Dt,!0)}(d),this.router.beforeHooks,function(t){return Lt(t,"beforeRouteUpdate",Dt)}(h),f.map(function(t){return t.beforeEnter}),kt(f)),p,function(){bt(function(t){return Lt(t,"beforeRouteEnter",function(t,e,n,i){return function(t,e,n){return function(i,r,o){return t(i,r,function(t){"function"==typeof t&&(e.enteredCbs[n]||(e.enteredCbs[n]=[]),e.enteredCbs[n].push(t)),o(t)})}}(t,n,i)})}(f).concat(i.router.resolveHooks),p,function(){if(i.pending!==t)return s(_t(r,t));i.pending=null,e(t),i.router.app&&i.router.app.$nextTick(function(){b(t)})})})},Nt.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},Nt.prototype.setupListeners=function(){},Nt.prototype.teardown=function(){this.listeners.forEach(function(t){t()}),this.listeners=[],this.current=g,this.pending=null};var jt=function(t){function e(e,n){t.call(this,e,n),this._startLocation=Pt(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,i=vt&&n;i&&this.listeners.push(at());var r=function(){var n=t.current,r=Pt(t.base);t.current===g&&r===t._startLocation||t.transitionTo(r,function(t){i&&st(e,t,n,!0)})};window.addEventListener("popstate",r),this.listeners.push(function(){window.removeEventListener("popstate",r)})}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){mt(S(i.base+t.fullPath)),st(i.router,t,r,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){yt(S(i.base+t.fullPath)),st(i.router,t,r,!1),e&&e(t)},n)},e.prototype.ensureURL=function(t){if(Pt(this.base)!==this.current.fullPath){var e=S(this.base+this.current.fullPath);t?mt(e):yt(e)}},e.prototype.getCurrentLocation=function(){return Pt(this.base)},e}(Nt);function Pt(t){var e=window.location.pathname,n=e.toLowerCase(),i=t.toLowerCase();return!t||n!==i&&0!==n.indexOf(S(i+"/"))||(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var Rt=function(t){function e(e,n,i){t.call(this,e,n),i&&function(t){var e=Pt(t);if(!/^\/#/.test(e))return window.location.replace(S(t+"/#"+e)),!0}(this.base)||zt()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,n=vt&&e;n&&this.listeners.push(at());var i=function(){var e=t.current;zt()&&t.transitionTo(Bt(),function(i){n&&st(t.router,i,e,!0),vt||Vt(i.fullPath)})},r=vt?"popstate":"hashchange";window.addEventListener(r,i),this.listeners.push(function(){window.removeEventListener(r,i)})}},e.prototype.push=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){Gt(t.fullPath),st(i.router,t,r,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){Vt(t.fullPath),st(i.router,t,r,!1),e&&e(t)},n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;Bt()!==e&&(t?Gt(e):Vt(e))},e.prototype.getCurrentLocation=function(){return Bt()},e}(Nt);function zt(){var t=Bt();return"/"===t.charAt(0)||(Vt("/"+t),!1)}function Bt(){var t=window.location.href,e=t.indexOf("#");return e<0?"":t=t.slice(e+1)}function Ft(t){var e=window.location.href,n=e.indexOf("#");return(n>=0?e.slice(0,n):e)+"#"+t}function Gt(t){vt?mt(Ft(t)):window.location.hash=t}function Vt(t){vt?yt(Ft(t)):window.location.replace(Ft(t))}var Wt=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var i=this;this.transitionTo(t,function(t){i.stack=i.stack.slice(0,i.index+1).concat(t),i.index++,e&&e(t)},n)},e.prototype.replace=function(t,e,n){var i=this;this.transitionTo(t,function(t){i.stack=i.stack.slice(0,i.index).concat(t),e&&e(t)},n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var i=this.stack[n];this.confirmTransition(i,function(){var t=e.current;e.index=n,e.updateRoute(i),e.router.afterHooks.forEach(function(e){e&&e(i,t)})},function(t){It(t,xt.duplicated)&&(e.index=n)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Nt),Ht=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=K(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!vt&&!1!==t.fallback,this.fallback&&(e="hash"),$||(e="abstract"),this.mode=e,e){case"history":this.history=new jt(this,t.base);break;case"hash":this.history=new Rt(this,t.base,this.fallback);break;case"abstract":this.history=new Wt(this,t.base);break;default:0}},Ut={currentRoute:{configurable:!0}};function Yt(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}Ht.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},Ut.currentRoute.get=function(){return this.history&&this.history.current},Ht.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()}),!this.app){this.app=t;var n=this.history;if(n instanceof jt||n instanceof Rt){var i=function(t){n.setupListeners(),function(t){var i=n.current,r=e.options.scrollBehavior;vt&&r&&"fullPath"in t&&st(e,t,i,!1)}(t)};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},Ht.prototype.beforeEach=function(t){return Yt(this.beforeHooks,t)},Ht.prototype.beforeResolve=function(t){return Yt(this.resolveHooks,t)},Ht.prototype.afterEach=function(t){return Yt(this.afterHooks,t)},Ht.prototype.onReady=function(t,e){this.history.onReady(t,e)},Ht.prototype.onError=function(t){this.history.onError(t)},Ht.prototype.push=function(t,e,n){var i=this;if(!e&&!n&&"undefined"!=typeof Promise)return new Promise(function(e,n){i.history.push(t,e,n)});this.history.push(t,e,n)},Ht.prototype.replace=function(t,e,n){var i=this;if(!e&&!n&&"undefined"!=typeof Promise)return new Promise(function(e,n){i.history.replace(t,e,n)});this.history.replace(t,e,n)},Ht.prototype.go=function(t){this.history.go(t)},Ht.prototype.back=function(){this.go(-1)},Ht.prototype.forward=function(){this.go(1)},Ht.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},Ht.prototype.resolve=function(t,e,n){var i=V(t,e=e||this.history.current,n,this),r=this.match(i,e),o=r.redirectedFrom||r.fullPath;return{location:i,route:r,href:function(t,e,n){var i="hash"===n?"#"+e:e;return t?S(t+"/"+i):i}(this.history.base,o,this.mode),normalizedTo:i,resolved:r}},Ht.prototype.getRoutes=function(){return this.matcher.getRoutes()},Ht.prototype.addRoute=function(t,e){this.matcher.addRoute(t,e),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Ht.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Ht.prototype,Ut),Ht.install=Z,Ht.version="3.5.3",Ht.isNavigationFailure=It,Ht.NavigationFailureType=xt,Ht.START_LOCATION=g,$&&window.Vue&&window.Vue.use(Ht),e.a=Ht},"/tIZ":function(t,e){t.exports=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}},"/vIy":function(t,e,n){"use strict";var i=n("eMM2"),r=n("x+ND");n("f4mV");n.d(e,!1,function(){return i.a}),n.d(e,!1,function(){}),n.d(e,!1,function(){return r.a})},"00+W":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryableString=void 0;var i=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var e,n=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},n)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();e.QueryableString=i},"06OY":function(t,e,n){var i=n("3Eo+")("meta"),r=n("EqjI"),o=n("D2L2"),a=n("evD5").f,s=0,l=Object.isExtensible||function(){return!0},u=!n("S82l")(function(){return l(Object.preventExtensions({}))}),c=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[i].w},onFreeze:function(t){return u&&h.NEED&&l(t)&&!o(t,i)&&c(t),t}}},"0buI":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){!function t(e,n,r,o){o.enter({current:n,previous:r});var a=e.edges,s=void 0===a?[]:a;(0,i.getNeighbors)(n,s,"target").forEach(function(i){o.allowTraversal({previous:r,current:n,next:i})&&t(e,i,n,o)});o.leave({current:n,previous:r})}(t,e,"",function(t){void 0===t&&(t={});var e=t,n=function(){},i=(r={},function(t){var e=t.next;return!r[e]&&(r[e]=!0,!0)});var r;return e.allowTraversal=t.allowTraversal||i,e.enter=t.enter||n,e.leave=t.leave||n,e}(n))};var i=n("lSAc")},"0hH8":function(t,e,n){"use strict";var i;!function(t){t.Normal="normal",t.PostProcessing="post-processing"}(i||(i={}))},"0yQY":function(t,e){},"13ij":function(t,e){t.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}},"1Qj1":function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t}},"1YJU":function(t,e){},"1aLP":function(t,e,n){t.exports=n("/tIZ")},"1bI3":function(t,e,n){(function(t,e){"use strict";l(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),l(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{});var n=Array.prototype,i=n.slice,r=n.map,o=function(){}.constructor,a=o?o.prototype:null;function s(t,e,n){if(!t)return[];if(!e)return function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return i.apply(t,e)}(t);if(t.map&&t.map===r)return t.map(e,n);for(var o=[],a=0,s=t.length;a<s;a++)o.push(e.call(n,t[a],a,t));return o}function l(t,e,n,i){if(t&&e){for(var r=0,o=t.length;r<o;r++)n=e.call(i,n,t[r],r,t);return n}}a&&"function"==typeof a.bind&&a.call.bind(a.bind);function u(t,e){return t.getAttribute(e)}function c(t,e){for(var n=t.firstChild;n;){if(1===n.nodeType&&n.nodeName.toLowerCase()===e.toLowerCase())return n;n=n.nextSibling}return null}function h(t,e){for(var n=t.firstChild,i=[];n;)n.nodeName.toLowerCase()===e.toLowerCase()&&i.push(n),n=n.nextSibling;return i}var d=Object.freeze({__proto__:null,parse:function(t){var e;if(!(e="string"==typeof t?(new DOMParser).parseFromString(t,"text/xml"):t)||e.getElementsByTagName("parsererror").length)return null;var n=c(e,"gexf");if(!n)return null;for(var i,r=c(n,"graph"),o=(i=c(r,"attributes"))?s(h(i,"attribute"),function(t){return{id:u(t,"id"),title:u(t,"title"),type:u(t,"type")}}):[],a={},l=0;l<o.length;l++)a[o[l].id]=o[l];return{nodes:function(t,e){return t?s(h(t,"node"),function(t){var n=u(t,"id"),i=u(t,"label"),r={id:n,name:i,itemStyle:{normal:{}}},o=c(t,"viz:size"),a=c(t,"viz:position"),s=c(t,"viz:color"),l=c(t,"attvalues");if(o&&(r.symbolSize=parseFloat(u(o,"value"))),a&&(r.x=parseFloat(u(a,"x")),r.y=parseFloat(u(a,"y"))),s&&(r.itemStyle.normal.color="rgb("+[0|u(s,"r"),0|u(s,"g"),0|u(s,"b")].join(",")+")"),l){var d=h(l,"attvalue");r.attributes={};for(var f=0;f<d.length;f++){var p=d[f],g=u(p,"for"),v=u(p,"value"),m=e[g];if(m){switch(m.type){case"integer":case"long":v=parseInt(v,10);break;case"float":case"double":v=parseFloat(v);break;case"boolean":v="true"===v.toLowerCase()}r.attributes[g]=v}}}return r}):[]}(c(r,"nodes"),a),links:function(t){return t?s(h(t,"edge"),function(t){var e=u(t,"id"),n=u(t,"label"),i=u(t,"source"),r=u(t,"target"),o={id:e,name:n,source:i,target:r,lineStyle:{normal:{}}},a=o.lineStyle.normal,s=c(t,"viz:thickness"),l=c(t,"viz:color");return s&&(a.width=parseFloat(s.getAttribute("value"))),l&&(a.color="rgb("+[0|u(l,"r"),0|u(l,"g"),0|u(l,"b")].join(",")+")"),o}):[]}(c(r,"edges"))}}});function f(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r}function p(t,e){for(var n,i=[],r=[],o=[],a=(e=e||{}).boundIQR,s="none"===a||0===a,l=0;l<t.length;l++){o.push(l+"");var u=((n=t[l].slice()).sort(function(t,e){return t-e}),n),c=f(u,.25),h=f(u,.5),d=f(u,.75),p=u[0],g=u[u.length-1],v=(null==a?1.5:a)*(d-c),m=s?p:Math.max(p,c-v),y=s?g:Math.min(g,d+v);i.push([m,c,h,d,y]);for(var b=0;b<u.length;b++){var x=u[b];if(x<m||x>y){var w=[l,x];"vertical"===e.layout&&w.reverse(),r.push(w)}}}return{boxData:i,outliers:r,axisData:o}}e.dataTool&&(e.dataTool.version="1.0.0",e.dataTool.gexf=d,e.dataTool.prepareBoxplotData=p),t.gexf=d,t.prepareBoxplotData=p,t.version="1.0.0",Object.defineProperty(t,"__esModule",{value:!0})})(e,n("XLwt"))},"1kS7":function(t,e){e.f=Object.getOwnPropertySymbols},"1wGD":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBindingDictionary=e.createMockRequest=e.plan=void 0;var i=n("7XBT"),r=n("tuOO"),o=n("3gih"),a=n("cEWm"),s=n("ATs6"),l=n("ETa/"),u=n("L6y9"),c=n("gNUp"),h=n("ggGI"),d=n("xtqr"),f=n("ZanO"),p=n("zI0I");function g(t){return t._bindingDictionary}function v(t,e,n,o,a){var s=m(n.container,a.serviceIdentifier),u=[];return s.length===i.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&t.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=m(n.container,a.serviceIdentifier)),u=e?s:s.filter(function(t){var e=new f.Request(t.serviceIdentifier,n,o,t,a);return t.constraint(e)}),function(t,e,n,o){switch(e.length){case i.BindingCount.NoBindingsAvailable:if(n.isOptional())return e;var a=l.getServiceIdentifierAsString(t),s=r.NOT_REGISTERED;throw s+=l.listMetadataForTarget(a,n),s+=l.listRegisteredBindingsForServiceIdentifier(o,a,m),new Error(s);case i.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return e;case i.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return e;var a=l.getServiceIdentifierAsString(t),s=r.AMBIGUOUS_MATCH+" "+a;throw s+=l.listRegisteredBindingsForServiceIdentifier(o,a,m),new Error(s)}}(a.serviceIdentifier,u,a,n.container),u}function m(t,e){var n=[],i=g(t);return i.hasKey(e)?n=i.get(e):null!==t.parent&&(n=m(t.parent,e)),n}e.getBindingDictionary=g,e.plan=function(t,e,n,i,g,m,y,b){void 0===b&&(b=!1);var x=new u.Context(e),w=function(t,e,n,i,r,o){var s=t?a.MULTI_INJECT_TAG:a.INJECT_TAG,l=new c.Metadata(s,n),u=new p.Target(e,i,n,l);if(void 0!==r){var h=new c.Metadata(r,o);u.metadata.push(h)}return u}(n,i,g,"",m,y);try{return function t(e,n,i,a,s,l){var u,c;if(null===s){u=v(e,n,a,null,l),c=new f.Request(i,a,null,u,l);var p=new h.Plan(a,c);a.addPlan(p)}else u=v(e,n,a,s,l),c=s.addChildRequest(l.serviceIdentifier,u,l);u.forEach(function(n){var i=null;if(l.isArray())i=c.addChildRequest(n.serviceIdentifier,n,l);else{if(n.cache)return;i=c}if(n.type===o.BindingTypeEnum.Instance&&null!==n.implementationType){var s=d.getDependencies(e,n.implementationType);if(!a.container.options.skipBaseClassChecks){var u=d.getBaseClassDependencyCount(e,n.implementationType);if(s.length<u){var h=r.ARGUMENTS_LENGTH_MISMATCH(d.getFunctionName(n.implementationType));throw new Error(h)}}s.forEach(function(n){t(e,!1,n.serviceIdentifier,a,i,n)})}})}(t,b,g,x,null,w),x}catch(t){throw s.isStackOverflowExeption(t)&&x.plan&&l.circularDependencyToException(x.plan.rootRequest),t}},e.createMockRequest=function(t,e,n,i){var r=new p.Target(o.TargetTypeEnum.Variable,"",e,new c.Metadata(n,i)),a=new u.Context(t);return new f.Request(e,a,null,[],r)}},"21It":function(t,e,n){"use strict";var i=n("FtD3");t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},"2Izx":function(t,e,n){"use strict";var i=this&&this.__spreadArray||function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveInstance=void 0;var r=n("tuOO"),o=n("3gih"),a=n("cEWm");e.resolveInstance=function(t,e,n){var s,l,u=null;if(e.length>0){var c=e.filter(function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ConstructorArgument}).map(n);l=c,u=function(t,e,n){var i=e.filter(function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ClassProperty}),r=i.map(n);return i.forEach(function(e,n){var i;i=e.target.name.value();var o=r[n];t[i]=o}),t}(u=new((s=t).bind.apply(s,i([void 0],l))),e,n)}else u=new t;return function(t,e){if(Reflect.hasMetadata(a.POST_CONSTRUCT,t)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,t);try{e[n.value]()}catch(e){throw new Error(r.POST_CONSTRUCT_ERROR(t.name,e.message))}}}(t,u),u}},"2KxR":function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},"2bAU":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i,r=n("Z60a"),o=n.n(r),a=n("M1I4"),s=n.n(a),l=n("j/rp"),u=n.n(l),c=n("T/v0"),h=n.n(c),d=n("tNLN"),f=n.n(d),p=n("J4xG");function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=f()(t);if(e){var r=f()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return h()(this,n)}}!function(t){t[t.Standard=0]="Standard"}(i||(i={}));var v=function(t){u()(n,t);var e=g(n);function n(t){var r;return o()(this,n),(r=e.call(this,t)).strategy=i.Standard,r.visibilityPlaneMask=0,r.visible=!1,Object.assign(s()(r),t),r}return n}(p.a)},"2j9C":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("TToO"),r=n("5eO5"),o=n("lSAc"),a=function(t,e,n,i){var r=t.nodes,a=void 0===r?[]:r,l=t.edges,u=void 0===l?[]:l,c=[],h={},d={},f={};a.forEach(function(t,n){var i=t.id;c.push(i),d[i]=1/0,i===e&&(d[i]=0)});for(var p=a.length,g=function(t){var e=function(t,e,n){for(var i,r=1/0,o=0;o<e.length;o++){var a=e[o].id;!n[a]&&t[a]<=r&&(r=t[a],i=e[o])}return i}(d,a,h),r=e.id;if(h[r]=!0,d[r]===1/0)return"continue";(n?(0,o.getOutEdgesNodeId)(r,u):(0,o.getEdgesByNodeId)(r,u)).forEach(function(t){var n=t.target,o=t.source,a=n===r?o:n,s=i&&t[i]?t[i]:1;d[a]>d[e.id]+s?(d[a]=d[e.id]+s,f[a]=[e.id]):d[a]===d[e.id]+s&&f[a].push(e.id)})},v=0;v<p;v++)g();f[e]=[e];var m={};for(var y in d)d[y]!==1/0&&s(e,y,f,m);var b={};for(var y in m)b[y]=m[y][0];return{length:d,path:b,allPath:m}};function s(t,e,n,o){if(t===e)return[t];if(o[e])return o[e];for(var a=[],l=0,u=n[e];l<u.length;l++){var c=s(t,u[l],n,o);if(!c)return;for(var h=0,d=c;h<d.length;h++){var f=d[h];(0,r.isArray)(f)?a.push((0,i.__spreadArray)((0,i.__spreadArray)([],f,!0),[e],!1)):a.push([f,e])}}return o[e]=a,o[e]}e.default=a},"2jKd":function(t,e,n){var i=n("QGUm");function r(){this._arr=[],this._keyIndices={}}t.exports=r,r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(t){return t.key})},r.prototype.has=function(t){return i.has(this._keyIndices,t)},r.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!i.has(n,t)){var r=this._arr,o=r.length;return n[t]=o,r.push({key:t,priority:e}),this._decrease(o),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},r.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},r.prototype._heapify=function(t){var e=this._arr,n=2*t,i=n+1,r=t;n<e.length&&(r=e[n].priority<e[r].priority?n:r,i<e.length&&(r=e[i].priority<e[r].priority?i:r),r!==t&&(this._swap(t,r),this._heapify(r)))},r.prototype._decrease=function(t){for(var e,n=this._arr,i=n[t].priority;0!==t&&!(n[e=t>>1].priority<i);)this._swap(t,e),t=e},r.prototype._swap=function(t,e){var n=this._arr,i=this._keyIndices,r=n[t],o=n[e];n[t]=o,n[e]=r,i[o.key]=t,i[r.key]=e}},"376U":function(t,e,n){"use strict";var i=n("3wub");e.a=i.a},"3BVV":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};n.d(i,"Base",function(){return u}),n.d(i,"Circle",function(){return c}),n.d(i,"Ellipse",function(){return d}),n.d(i,"Image",function(){return p}),n.d(i,"Line",function(){return y}),n.d(i,"Marker",function(){return _}),n.d(i,"Path",function(){return D}),n.d(i,"Polygon",function(){return P}),n.d(i,"Polyline",function(){return R}),n.d(i,"Rect",function(){return B}),n.d(i,"Text",function(){return F});var r=n("TToO"),o=n("i6H2"),a=n("PDVq"),s=n("gosJ"),l=n("SodV"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return i},e.prototype.getGroupBase=function(){return l.a},e.prototype.onCanvasChange=function(t){Object(s.h)(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=Object(o.getBBoxMethod)(t)(this),i=e/2,r=n.x-i,a=n.y-i,s=n.x+n.width+i,l=n.y+n.height+i;return{x:r,minX:r,y:a,minY:a,width:n.width+e,height:n.height+e,maxX:s,maxY:l}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,e){e&&(t.save(),Object(s.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);var i=this.getCanvasBBox();if(!Object(a.f)(e,i))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),Object(s.a)(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=Object(a.f)(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,i=e.opacity,r=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&(Object(a.i)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=i)),this.isStroke()&&n>0&&(Object(a.i)(r)||1===r||(t.globalAlpha=r),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),i=this.isFill(),r=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,i,r)},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(o.AbstractShape),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){var o=this.attr(),s=o.x,l=o.y,u=o.r,c=r/2,h=Object(a.b)(s,l,t,e);return i&&n?h<=u+c:i?h<=u:!!n&&(h>=u-c&&h<=u+c)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,i=e.y,r=e.r;t.beginPath(),t.arc(n,i,r,0,2*Math.PI,!1),t.closePath()},e}(u);function h(t,e,n,i){return t/(n*n)+e/(i*i)}var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){var o=this.attr(),a=r/2,s=o.x,l=o.y,u=o.rx,c=o.ry,d=(t-s)*(t-s),f=(e-l)*(e-l);return i&&n?h(d,f,u+a,c+a)<=1:i?h(d,f,u,c)<=1:!!n&&(h(d,f,u-a,c-a)>=1&&h(d,f,u+a,c+a)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,i=e.y,r=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,i,r,o,0,0,2*Math.PI,!1);else{var a=r>o?r:o,s=r>o?1:r/o,l=r>o?o/r:1;t.save(),t.translate(n,i),t.scale(s,l),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}},e}(u);function f(t){return t instanceof HTMLElement&&Object(a.k)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if(Object(a.k)(t)){var i=new Image;i.onload=function(){if(e.destroyed)return!1;e.attr("img",i),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},i.crossOrigin="Anonymous",i.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):f(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,i=e.y,r=e.width,o=e.height,s=e.sx,l=e.sy,u=e.swidth,c=e.sheight,h=e.img;(h instanceof Image||f(h))&&(Object(a.i)(s)||Object(a.i)(l)||Object(a.i)(u)||Object(a.i)(c)?t.drawImage(h,n,i,r,o):t.drawImage(h,s,l,u,c,n,i,r,o))},e}(u),g=n("6zlC");function v(t,e,n,i,r,o,a){var s=Math.min(t,n),l=Math.max(t,n),u=Math.min(e,i),c=Math.max(e,i),h=r/2;return o>=s-h&&o<=l+h&&a>=u-h&&a<=c+h&&g.c.pointToLine(t,e,n,i,o,a)<=r/2}var m=n("+ymx"),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,i=t.x2,r=t.y2,o=t.startArrow,a=t.endArrow;o&&m.b(this,t,i,r,e,n),a&&m.a(this,t,e,n,i,r)},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){if(!n||!r)return!1;var o=this.attr();return v(o.x1,o.y1,o.x2,o.y2,r,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,i=e.y1,r=e.x2,o=e.y2,a=e.startArrow,s=e.endArrow,l={dx:0,dy:0},u={dx:0,dy:0};a&&a.d&&(l=m.c(n,i,r,o,e.startArrow.d)),s&&s.d&&(u=m.c(n,i,r,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+l.dx,i+l.dy),t.lineTo(r-u.dx,o-u.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,i=t.x2,r=t.y2;return g.c.length(e,n,i,r)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,i=e.y1,r=e.x2,o=e.y2;return g.c.pointAt(n,i,r,o,t)},e}(u),b=n("hV/g"),x=n("wHEO"),w={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+i],["L",t,e-i],["L",t+n,e+i],["Z"]]},"triangle-down":function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-i],["L",t+n,e-i],["L",t,e+i],["Z"]]}},_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return Object(b.e)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,i=this.attr(),r=i.x,o=i.y,s=i.symbol||"circle",l=this._getR(i);if(Object(a.h)(s))n=(t=s)(r,o,l),n=Object(x.c)(n);else{if(!(t=e.Symbols[s]))return console.warn(s+" marker is not supported."),null;n=t(r,o,l)}return n},e.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");Object(s.e)(this,t,{path:e},n)},e.Symbols=w,e}(u);function S(t,e,n){var i=Object(o.getOffScreenContext)();return t.createPath(i),i.isPointInPath(e,n)}var M=1e-6;function C(t){return Math.abs(t)<M?0:t<0?-1:1}function I(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function k(t,e,n){var i=!1,r=t.length;if(r<=2)return!1;for(var o=0;o<r;o++){var a=t[o],s=t[(o+1)%r];if(I(a,s,[e,n]))return!0;C(a[1]-n)>0!=C(s[1]-n)>0&&C(e-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(i=!i)}return i}var T=n("IzBs"),O=n("YPq+");function E(t,e,n,i,r,o,s,l){var u=(Math.atan2(l-e,s-t)+2*Math.PI)%(2*Math.PI);if(u<i||u>r)return!1;var c={x:t+n*Math.cos(u),y:e+n*Math.sin(u)};return Object(a.b)(c.x,c.y,s,l)<=o/2}var A=T.a.transform;var N=Object(r.__assign)({hasArc:function(t){for(var e=!1,n=t.length,i=0;i<n;i++){var r=t[i][0];if("C"===r||"A"===r||"Q"===r){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],i=[],r=[],o=0;o<e;o++){var a=t[o],s=a[0];"M"===s?(r.length&&(i.push(r),r=[]),r.push([a[1],a[2]])):"Z"===s?r.length&&(n.push(r),r=[]):r.push([a[1],a[2]])}return r.length>0&&i.push(r),{polygons:n,polylines:i}},isPointInStroke:function(t,e,n,i,r){for(var o=!1,s=e/2,l=0;l<t.length;l++){var u=t[l],c=u.currentPoint,h=u.params,d=u.prePoint,f=u.box;if(!f||Object(a.e)(f.x-s,f.y-s,f.width+e,f.height+e,n,i)){switch(u.command){case"L":case"Z":o=v(d[0],d[1],c[0],c[1],e,n,i);break;case"Q":o=g.e.pointDistance(d[0],d[1],h[1],h[2],h[3],h[4],n,i)<=e/2;break;case"C":o=g.b.pointDistance(d[0],d[1],h[1],h[2],h[3],h[4],h[5],h[6],n,i,r)<=e/2;break;case"A":var p=u.arcParams,m=p.cx,y=p.cy,b=p.rx,x=p.ry,w=p.startAngle,_=p.endAngle,S=p.xRotation,M=[n,i,1],C=b>x?b:x,I=A(null,[["t",-m,-y],["r",-S],["s",1/(b>x?1:b/x),1/(b>x?x/b:1)]]);O.transformMat3(M,M,I),o=E(0,0,C,w,_,e,M[0],M[1])}if(o)break}}return o}},o.PathUtil);function L(t,e,n){for(var i=!1,r=0;r<t.length;r++){if(i=k(t[r],e,n))break}return i}var D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=Object(x.c)(t);var e=N.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Object(x.d)(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var i=this.getStartTangent();m.b(this,t,i[0][0],i[0][1],i[1][0],i[1][1])}if(n){i=this.getEndTangent();m.a(this,t,i[0][0],i[0][1],i[1][0],i[1][1])}},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){var o=this.getSegments(),a=this.get("hasArc"),s=!1;if(n){var l=this.getTotalLength();s=N.isPointInStroke(o,r,t,e,l)}if(!s&&i)if(a)s=S(this,t,e);else{var u=this.attr("path"),c=N.extractPolygons(u);s=L(c.polygons,t,e)||L(c.polylines,t,e)}return s},e.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");Object(s.e)(this,t,e,n)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return Object(b.e)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,i=this.get("tCache");i||(this._calculateCurve(),this._setTcache(),i=this.get("tCache"));var r=this.get("curve");if(!i||0===i.length)return r?{x:r[0][1],y:r[0][2]}:null;Object(b.b)(i,function(i,r){t>=i[0]&&t<=i[1]&&(e=(t-i[0])/(i[1]-i[0]),n=r)});var o=r[n];if(Object(b.e)(o)||Object(b.e)(n))return null;var a=o.length,s=r[n+1];return g.b.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",N.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,i,r=0,o=0,a=[],s=this.get("curve");s&&(Object(b.b)(s,function(t,e){n=s[e+1],i=t.length,n&&(r+=g.b.length(t[i-2],t[i-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)}),this.set("totalLength",r),0!==r?(Object(b.b)(s,function(l,u){n=s[u+1],i=l.length,n&&((t=[])[0]=o/r,e=g.b.length(l[i-2],l[i-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=e||0,t[1]=o/r,a.push(t))}),this.set("tCache",a)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,i=e[1].currentPoint,r=e[1].startTangent;t=[],r?(t.push([n[0]-r[0],n[1]-r[1]]),t.push([n[0],n[1]])):(t.push([i[0],i[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var i=e[n-2].currentPoint,r=e[n-1].currentPoint,o=e[n-1].endTangent;t=[],o?(t.push([r[0]-o[0],r[1]-o[1]]),t.push([r[0],r[1]])):(t.push([i[0],i[1]]),t.push([r[0],r[1]]))}return t},e}(u);function j(t,e,n,i,r){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(v(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,n,i))return!0}if(r){var s=t[0],l=t[o-1];if(v(s[0],s[1],l[0],l[1],e,n,i))return!0}return!1}var P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,i,r){var o=this.attr().points,a=!1;return n&&(a=j(o,r,t,e,!0)),!a&&i&&(a=k(o,t,e)),a},e.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var i=e[n];0===n?t.moveTo(i[0],i[1]):t.lineTo(i[0],i[1])}t.closePath()}},e}(u),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,i=e.startArrow,r=e.endArrow,o=n.length,a=n[0][0],s=n[0][1],l=n[o-1][0],u=n[o-1][1];i&&m.b(this,t,n[1][0],n[1][1],a,s),r&&m.a(this,t,n[o-2][0],n[o-2][1],l,u)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){return!(!n||!r)&&j(this.attr().points,r,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,i=e.startArrow,r=e.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],l=n[0][1],u=n[o-1][0],c=n[o-1][1];if(i&&i.d)s+=(a=m.c(s,l,n[1][0],n[1][1],i.d)).dx,l+=a.dy;if(r&&r.d)u-=(a=m.c(n[o-2][0],n[o-2][1],u,c,r.d)).dx,c-=a.dy;t.beginPath(),t.moveTo(s,l);for(var h=0;h<o-1;h++){var d=n[h];t.lineTo(d[0],d[1])}t.lineTo(u,c)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(b.e)(e)?(this.set("totalLength",g.d.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,i=this.attr().points,r=this.get("tCache");return r||(this._setTcache(),r=this.get("tCache")),Object(b.b)(r,function(i,r){t>=i[0]&&t<=i[1]&&(e=(t-i[0])/(i[1]-i[0]),n=r)}),g.c.pointAt(i[n][0],i[n][1],i[n+1][0],i[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,i,r=0,o=[];Object(b.b)(t,function(a,s){t[s+1]&&((n=[])[0]=r/e,i=g.c.length(a[0],a[1],t[s+1][0],t[s+1][1]),r+=i,n[1]=r/e,o.push(n))}),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(u),z=n("4KIz");var B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){var o=this.attr(),s=o.x,l=o.y,u=o.width,c=o.height,h=o.radius;if(h){var d=!1;return n&&(d=function(t,e,n,i,r,o,a,s){return v(t+r,e,t+n-r,e,o,a,s)||v(t+n,e+r,t+n,e+i-r,o,a,s)||v(t+n-r,e+i,t+r,e+i,o,a,s)||v(t,e+i-r,t,e+r,o,a,s)||E(t+n-r,e+r,r,1.5*Math.PI,2*Math.PI,o,a,s)||E(t+n-r,e+i-r,r,0,.5*Math.PI,o,a,s)||E(t+r,e+i-r,r,.5*Math.PI,Math.PI,o,a,s)||E(t+r,e+r,r,Math.PI,1.5*Math.PI,o,a,s)}(s,l,u,c,h,r,t,e)),!d&&i&&(d=S(this,t,e)),d}var f=r/2;return i&&n?Object(a.e)(s-f,l-f,u+f,c+f,t,e):i?Object(a.e)(s,l,u,c,t,e):n?function(t,e,n,i,r,o,s){var l=r/2;return Object(a.e)(t-l,e-l,n,r,o,s)||Object(a.e)(t+n-l,e-l,r,i,o,s)||Object(a.e)(t+l,e+i-l,n,r,o,s)||Object(a.e)(t-l,e+l,r,i,o,s)}(s,l,u,c,r,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,i=e.y,r=e.width,o=e.height,a=e.radius;if(t.beginPath(),0===a)t.rect(n,i,r,o);else{var s=Object(z.a)(a),l=s[0],u=s[1],c=s[2],h=s[3];t.moveTo(n+l,i),t.lineTo(n+r-u,i),0!==u&&t.arc(n+r-u,i+u,u,-Math.PI/2,0),t.lineTo(n+r,i+o-c),0!==c&&t.arc(n+r-c,i+o-c,c,0,Math.PI/2),t.lineTo(n+h,i+o),0!==h&&t.arc(n+h,i+o-h,h,Math.PI/2,Math.PI),t.lineTo(n,i+l),0!==l&&t.arc(n+l,i+l,l,Math.PI,1.5*Math.PI),t.closePath()}},e}(u),F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=Object(o.assembleFont)(t)},e.prototype._setText=function(t){var e=null;Object(a.k)(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var i,r=this.attrs,s=r.textBaseline,l=r.x,u=r.y,c=1*r.fontSize,h=this._getSpaceingY(),d=Object(o.getTextHeight)(r.text,r.fontSize,r.lineHeight);Object(a.c)(e,function(e,r){i=u+r*(h+c)-d+c,"middle"===s&&(i+=d-c-(d-c)/2),"top"===s&&(i+=d-c),Object(a.i)(e)||(n?t.fillText(e,l,i):t.strokeText(e,l,i))})},e.prototype._drawText=function(t,e){var n=this.attr(),i=n.x,r=n.y,o=this.get("textArr");if(o)this._drawTextArr(t,o,e);else{var s=n.text;Object(a.i)(s)||(e?t.fillText(s,i,r):t.strokeText(s,i,r))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,i=e.opacity,r=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&n>0&&(Object(a.i)(r)||1===r||(t.globalAlpha=i),this.stroke(t)),this.isFill()&&(Object(a.i)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=i)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(u);n.d(e,"Base",function(){return u}),n.d(e,"Circle",function(){return c}),n.d(e,"Ellipse",function(){return d}),n.d(e,"Image",function(){return p}),n.d(e,"Line",function(){return y}),n.d(e,"Marker",function(){return _}),n.d(e,"Path",function(){return D}),n.d(e,"Polygon",function(){return P}),n.d(e,"Polyline",function(){return R}),n.d(e,"Rect",function(){return B}),n.d(e,"Text",function(){return F})},"3DKf":function(t,e,n){"use strict";n.d(e,"a",function(){return L});var i,r,o,a,s,l,u,c,h,d,f,p,g=n("En79"),v=n.n(g),m=n("7hDC"),y=n.n(m),b=n("dYct"),x=n.n(b),w=n("Z60a"),_=n.n(w),S=n("C9uT"),M=n.n(S),C=n("jb0h"),I=n.n(C),k=n("X6mv"),T=(n.n(k),n("YulH")),O=(n.n(T),n("Klor")),E=n("XL/v"),A=n("+hGC"),N=n("KqSj"),L=(i=Object(T.injectable)(),r=Object(T.inject)(O.a.Systems),o=Object(T.named)(O.a.FrameGraphSystem),a=Object(T.inject)(O.a.RenderPassFactory),s=Object(T.inject)(O.a.ConfigService),l=Object(T.inject)(O.a.ResourcePool),i((c=function(){function t(){_()(this,t),x()(this,"frameGraphSystem",h,this),x()(this,"renderPassFactory",d,this),x()(this,"configService",f,this),x()(this,"resourcePool",p,this)}return M()(t,[{key:"execute",value:function(){var t=y()(v.a.mark(function t(e){var n,i,r,o,a,s,l,u;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.renderPassFactory(N.a.IDENTIFIER),i=n.setup,r=n.execute,this.frameGraphSystem.addPass(N.a.IDENTIFIER,i,r),o=this.renderPassFactory(E.a.IDENTIFIER),a=o.setup,s=o.execute,l=o.tearDown,u=this.frameGraphSystem.addPass(E.a.IDENTIFIER,a,s,l),this.frameGraphSystem.present(u.data.output);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(t,e){return this.renderPassFactory(A.a.IDENTIFIER).pick(t,e)}}]),t}(),h=I()(c.prototype,"frameGraphSystem",[r,o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=I()(c.prototype,"renderPassFactory",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=I()(c.prototype,"configService",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=I()(c.prototype,"resourcePool",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c))||u)},"3Eo+":function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},"3IRH":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"3T7U":function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},"3cyw":function(t,e,n){t.exports=function(t,e){var n=t[0],r=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=i*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=i*Math.max(1,Math.abs(r),Math.abs(a))};var i=n("a3KO")},"3fs2":function(t,e,n){var i=n("RY/4"),r=n("dSzd")("iterator"),o=n("/bQp");t.exports=n("FeBl").getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},"3gih":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TargetTypeEnum=e.BindingTypeEnum=e.BindingScopeEnum=void 0;e.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};e.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};e.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},"3h82":function(t,e){t.exports=function(t){var e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}},"4KIz":function(t,e,n){"use strict";e.b=function(t,e,n){var u=e.getBBox();if(isNaN(u.x)||isNaN(u.y)||isNaN(u.width)||isNaN(u.height))return n;if(Object(i.k)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(t,e,n){var i,o,a=r.exec(n),s=parseFloat(a[1])%360*(Math.PI/180),u=a[2],c=e.getBBox();s>=0&&s<.5*Math.PI?(i={x:c.minX,y:c.minY},o={x:c.maxX,y:c.maxY}):.5*Math.PI<=s&&s<Math.PI?(i={x:c.maxX,y:c.minY},o={x:c.minX,y:c.maxY}):Math.PI<=s&&s<1.5*Math.PI?(i={x:c.maxX,y:c.maxY},o={x:c.minX,y:c.minY}):(i={x:c.minX,y:c.maxY},o={x:c.maxX,y:c.minY});var h=Math.tan(s),d=h*h,f=(o.x-i.x+h*(o.y-i.y))/(d+1)+i.x,p=h*(o.x-i.x+h*(o.y-i.y))/(d+1)+i.y,g=t.createLinearGradient(i.x,i.y,f,p);return l(u,g),g}(t,e,n);if("r"===n[0])return function(t,e,n){var i=o.exec(n),r=parseFloat(i[1]),a=parseFloat(i[2]),u=parseFloat(i[3]),c=i[4];if(0===u){var h=c.match(s);return h[h.length-1].split(":")[1]}var d=e.getBBox(),f=d.maxX-d.minX,p=d.maxY-d.minY,g=Math.sqrt(f*f+p*p)/2,v=t.createRadialGradient(d.minX+f*r,d.minY+p*a,0,d.minX+f/2,d.minY+p/2,u*g);return l(c,v),v}(t,e,n);if("p"===n[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var i,r,o=a.exec(n),s=o[1],l=o[2];function u(){i=t.createPattern(r,s),e.set("pattern",i),e.set("patternSource",n)}switch(s){case"a":s="repeat";break;case"x":s="repeat-x";break;case"y":s="repeat-y";break;case"n":s="no-repeat";break;default:s="no-repeat"}r=new Image,l.match(/^data:/i)||(r.crossOrigin="Anonymous");r.src=l,r.complete?u():(r.onload=u,r.src=r.src);return i}(t,e,n)}return n}if(n instanceof CanvasPattern)return n},e.a=function(t){var e=0,n=0,r=0,o=0;Object(i.g)(t)?1===t.length?e=n=r=o=t[0]:2===t.length?(e=r=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],o=t[3]):e=n=r=o=t;return[e,n,r,o]};var i=n("PDVq"),r=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,a=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function l(t,e){var n=t.match(s);Object(i.c)(n,function(t){var n=t.split(":");e.addColorStop(n[0],n[1])})}},"4MdZ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n("esuD"))&&i.__esModule?i:{default:i},o=n("lSAc");var a=function(t,e,n,i){void 0===i&&(i=!0);var a=function(t){void 0===t&&(t={});var e,n=t,i=function(){},r=(e={},function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)});return n.allowTraversal=t.allowTraversal||r,n.enter=t.enter||i,n.leave=t.leave||i,n}(n),s=new r.default,l=t.edges,u=void 0===l?[]:l;s.enqueue(e);for(var c="",h=function(){var t=s.dequeue();a.enter({current:t,previous:c}),(0,o.getNeighbors)(t,u,i?"target":void 0).forEach(function(e){a.allowTraversal({previous:c,current:t,next:e})&&s.enqueue(e)}),a.leave({current:t,previous:c}),c=t};!s.isEmpty();)h()};e.default=a},"4ZXS":function(t,e){t.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}},"4mcu":function(t,e){t.exports=function(){}},"52gC":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"5A1W":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("Z60a"),r=n.n(i),o=n("C9uT"),a=n.n(o),s=n("lVvd"),l=function(){function t(e,n){r()(this,t),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=e||0,this.normal=n||s.e.fromValues(0,1,0),this.updatePNVertexFlag()}return a()(t,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(t){return s.e.dot(t,this.normal)-this.distance}},{key:"normalize",value:function(){var t=1/s.e.len(this.normal);s.e.scale(this.normal,this.normal,t),this.distance*=t}},{key:"intersectsLine",value:function(t,e,n){var i=this.distanceToPoint(t),r=i/(i-this.distanceToPoint(e)),o=r>=0&&r<=1;return o&&n&&s.e.lerp(n,t,e,r),o}}]),t}()},"5QVw":function(t,e,n){t.exports={default:n("BwfY"),__esModule:!0}},"5VQ+":function(t,e,n){"use strict";var i=n("cGG2");t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},"5eO5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},r=function(t,e){return!!i(t)&&t.indexOf(e)>-1},o=function(t,e){if(!i(t))return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];e(o,r)&&n.push(o)}return n},a=function(t,e){return void 0===e&&(e=[]),o(t,function(t){return!r(e,t)})},s={}.toString,l=function(t,e){return s.call(t)==="[object "+e+"]"},u=function(t){return l(t,"Function")},c=function(t){return null===t||void 0===t},h=function(t){return Array.isArray?Array.isArray(t):l(t,"Array")},d=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var f=function(t,e){if(t)if(h(t))for(var n=0,i=t.length;n<i&&!1!==e(t[n],n);n++);else if(d(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break},p=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return f(t,function(n,i){u(t)&&"prototype"===i||e.push(i)}),e};var g=function(t,e){var n=p(e),i=n.length;if(c(t))return!i;for(var r=0;r<i;r+=1){var o=n[r];if(e[o]!==t[o]||!(o in t))return!1}return!0},v=function(t){return"object"==typeof t&&null!==t},m=function(t){if(!v(t)||!l(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var y=function(t,e){if(!h(t))return null;var n;if(u(e)&&(n=e),m(e)&&(n=function(t){return g(t,e)}),n)for(var i=0;i<t.length;i+=1)if(n(t[i]))return t[i];return null};var b=function(t,e,n){void 0===n&&(n=0);for(var i=n;i<t.length;i++)if(e(t[i],i))return i;return-1},x=function(t,e){for(var n=null,i=0;i<t.length;i++){var r=t[i][e];if(!c(r)){n=h(r)?r[0]:r;break}}return n},w=function(t){if(!h(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},_=function(t,e){if(void 0===e&&(e=[]),h(t))for(var n=0;n<t.length;n+=1)_(t[n],e);else e.push(t);return e},S=_,M=function(t){if(h(t))return t.reduce(function(t,e){return Math.max(t,e)},t[0])},C=function(t){if(h(t))return t.reduce(function(t,e){return Math.min(t,e)},t[0])},I=function(t){var e=t.filter(function(t){return!isNaN(t)});if(!e.length)return{min:0,max:0};if(h(t[0])){for(var n=[],i=0;i<t.length;i++)n=n.concat(t[i]);e=n}var r=M(e);return{min:C(e),max:r}},k=Array.prototype,T=k.splice,O=k.indexOf,E=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++)for(var r=e[i],o=-1;(o=O.call(t,r))>-1;)T.call(t,o,1);return t},A=Array.prototype.splice,N=function(t,e){if(!i(t))return[];for(var n=t?e.length:0,r=n-1;n--;){var o=void 0,a=e[n];n!==r&&a===o||(o=a,A.call(t,a,1))}return t},L=function(t,e,n){if(!h(t)&&!m(t))return t;var i=n;return f(t,function(t,n){i=e(i,t,n)}),i},D=function(t,e){var n=[];if(!i(t))return n;for(var r=-1,o=[],a=t.length;++r<a;){var s=t[r];e(s,r,t)&&(n.push(s),o.push(r))}return N(t,o),n},j=function(t){return l(t,"String")};var P=function(t,e){var n;if(u(e))n=function(t,n){return e(t)-e(n)};else{var i=[];j(e)?i.push(e):h(e)&&(i=e),n=function(t,e){for(var n=0;n<i.length;n+=1){var r=i[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0}}return t.sort(n),t};function R(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var o=t[i];e.has(o)||(n.push(o),e.set(o,!0))}return n}var z=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return R([].concat.apply([],t))},B=function(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r][e];if(!c(o)){h(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];i[s]||(n.push(s),i[s]=!0)}}}return n};function F(t){if(i(t))return t[0]}function G(t){if(i(t)){return t[t.length-1]}}var V=function(t,e){return!(!h(t)&&!j(t))&&t[0]===e};var W=function(t,e){return!(!h(t)&&!j(t))&&t[t.length-1]===e},H=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},U=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},Y=Object.prototype.hasOwnProperty;var J=function(t,e){if(!e||!h(t))return{};for(var n,i={},r=u(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=r(a),Y.call(i,n)?i[n].push(a):i[n]=[a]}return i};function Q(t,e){if(!e)return{0:t};if(!u(e)){var n=h(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",i=0,r=n.length;i<r;i++)e+=t[n[i]]&&t[n[i]].toString();return e}}return J(t,e)}var Z=function(t,e){if(!e)return[t];var n=Q(t,e),i=[];for(var r in n)i.push(n[r]);return i};var $=function(t,e){return t["_wrap_"+e]};var X=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n},K={};var q=function(t){var e=K[t];if(!e){for(var n=t.toString(16),i=n.length;i<6;i++)n="0"+n;e="#"+n,K[t]=e}return e};var tt=function(t){var e=0,n=0,i=0,r=0;return h(t)?1===t.length?e=n=i=r=t[0]:2===t.length?(e=i=t[0],n=r=t[1]):3===t.length?(e=t[0],n=r=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],r=t[3]):e=n=i=r=t,{r1:e,r2:n,r3:i,r4:r}},et=function(t,e,n){return t<e?e:t>n?n:t},nt=function(t,e){var n=e.toString(),i=n.indexOf(".");if(-1===i)return Math.round(t);var r=n.substr(i+1).length;return r>20&&(r=20),parseFloat(t.toFixed(r))},it=function(t){return l(t,"Number")},rt=function(t){return it(t)&&t%1!=0},ot=function(t){return it(t)&&t%2==0},at=Number.isInteger?Number.isInteger:function(t){return it(t)&&t%1==0},st=function(t){return it(t)&&t<0},lt=1e-5;function ut(t,e,n){return void 0===n&&(n=lt),Math.abs(t-e)<n}var ct=function(t){return it(t)&&t%2!=0},ht=function(t){return it(t)&&t>0},dt=function(t,e){if(h(t)){for(var n,i=-1/0,r=0;r<t.length;r++){var o=t[r],a=u(e)?e(o):o[e];a>i&&(n=o,i=a)}return n}},ft=function(t,e){if(h(t)){for(var n,i=1/0,r=0;r<t.length;r++){var o=t[r],a=u(e)?e(o):o[e];a<i&&(n=o,i=a)}return n}},pt=function(t,e){return(t%e+e)%e},gt=180/Math.PI,vt=function(t){return gt*t},mt=parseInt,yt=Math.PI/180,bt=function(t){return yt*t},xt=f,wt=function(t,e){return t.hasOwnProperty(e)},_t=wt,St=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return f(t,function(n,i){u(t)&&"prototype"===i||e.push(n)}),e},Mt=function(t,e){return r(St(t),e)},Ct=function(t){return c(t)?"":t.toString()},It=function(t){return Ct(t).toLowerCase()},kt=function(t){var e=Ct(t);return e.charAt(0).toLowerCase()+e.substring(1)};var Tt=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]}):t},Ot=function(t){return Ct(t).toUpperCase()},Et=function(t){var e=Ct(t);return e.charAt(0).toUpperCase()+e.substring(1)},At={}.toString,Nt=function(t){return At.call(t).replace(/^\[object /,"").replace(/]$/,"")},Lt=function(t){return l(t,"Arguments")},Dt=function(t){return l(t,"Boolean")},jt=function(t){return l(t,"Date")},Pt=function(t){return l(t,"Error")},Rt=function(t){return it(t)&&isFinite(t)},zt=function(t){return null===t},Bt=Object.prototype,Ft=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Bt)},Gt=function(t){return l(t,"RegExp")},Vt=function(t){return void 0===t},Wt=function(t){return t instanceof Element||t instanceof HTMLDocument};function Ht(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Ut(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Yt(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Jt(t,e,n,i){return e&&Yt(t,e),n&&Yt(t,n),i&&Yt(t,i),t}var Qt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],i=1;i<t.length;i++){var r=t[i];u(r)&&(r=r.prototype),Jt(n.prototype,r)}},Zt=function(t){if("object"!=typeof t||null===t)return t;var e;if(h(t)){e=[];for(var n=0,i=t.length;n<i;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=Zt(t[n]):e[n]=t[n]}else for(var r in e={},t)"object"==typeof t[r]&&null!=t[r]?e[r]=Zt(t[r]):e[r]=t[r];return e},$t=Zt;var Xt=function(t,e,n){var i;return function(){var r=this,o=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(r,o)},e),a&&t.apply(r,o)}},Kt=function(t,e){if(!u(t))throw new TypeError("Expected a function");var n=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,i);return a.set(o,s),s};return n.cache=new Map,n},qt=5;function te(t,e,n,i){for(var r in n=n||0,i=i||qt,e)if(e.hasOwnProperty(r)){var o=e[r];null!==o&&m(o)?(m(t[r])||(t[r]={}),n<i?te(t[r],o,n+1,i):t[r]=e[r]):h(o)?(t[r]=[],t[r]=t[r].concat(o)):void 0!==o&&(t[r]=o)}}var ee=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)te(t,e[i]);return t},ne=function(t,e,n,i){u(e)||(n=e,e=t,t=function(){});var r=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var i=new n;return i.constructor=e,i},o=r(e.prototype,t);return t.prototype=Jt(o,t.prototype),t.superclass=r(e.prototype,e),Jt(o,n),Jt(t,i),t},ie=function(t,e){if(!i(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,o=0;o<t.length;o++)if(t[o]===e){r=o;break}return r},re=Object.prototype.hasOwnProperty;var oe=function(t){if(c(t))return!0;if(i(t))return!t.length;var e=Nt(t);if("Map"===e||"Set"===e)return!t.size;if(Ft(t))return!Object.keys(t).length;for(var n in t)if(re.call(t,n))return!1;return!0},ae=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(j(t)||j(e))return!1;if(i(t)||i(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length&&(n=ae(t[r],e[r]));r++);return n}if(v(t)||v(e)){var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(n=!0,r=0;r<o.length&&(n=ae(t[o[r]],e[o[r]]));r++);return n}return!1},se=ae,le=function(t,e,n){return u(n)?!!n(t,e):se(t,e)},ue=function(t,e){if(!i(t))return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(e(o,r))}return n},ce=function(t){return t},he=function(t,e){void 0===e&&(e=ce);var n={};return d(t)&&!c(t)&&Object.keys(t).forEach(function(i){n[i]=e(t[i],i)}),n},de=function(t,e,n){for(var i=0,r=j(e)?e.split("."):e;t&&i<r.length;)t=t[r[i++]];return void 0===t||i<r.length?n:t},fe=function(t,e,n){var i=t,r=j(e)?e.split("."):e;return r.forEach(function(t,e){e<r.length-1?(d(i[t])||(i[t]=it(r[e+1])?[]:{}),i=i[t]):i[t]=n}),t},pe=Object.prototype.hasOwnProperty,ge=function(t,e){if(null===t||!m(t))return{};var n={};return f(e,function(e){pe.call(t,e)&&(n[e]=t[e])}),n},ve=function(t,e){return L(t,function(t,n,i){return e.includes(i)||(t[i]=n),t},{})},me=function(t,e,n){var i,r,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),i=null,a=t.apply(r,o),i||(r=o=null)},u=function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return r=this,o=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),s=u,a=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(i),s=0,i=r=o=null},u},ye=function(t){return i(t)?Array.prototype.slice.call(t):[]},be={},xe=function(t){return be[t=t||"g"]?be[t]+=1:be[t]=1,t+be[t]},we=function(){},_e=function(t){return t};function Se(t){return c(t)?0:i(t)?t.length:Object.keys(t).length}var Me,Ce=n("TToO"),Ie=Kt(function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,r=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return Me||(Me=document.createElement("canvas").getContext("2d")),Me.font=[o,a,r,n+"px",i].join(" "),Me.measureText(j(t)?t:"").width},function(t,e){return void 0===e&&(e={}),Object(Ce.__spreadArrays)([t],St(e)).join("")}),ke=function(t,e,n,i){void 0===i&&(i="...");var r,o,a=Ie(i,n),s=j(t)?t:Ct(t),l=e,u=[];if(Ie(t,n)<=e)return t;for(;r=s.substr(0,16),!((o=Ie(r,n))+a>l&&o>l);)if(u.push(r),l-=o,!(s=s.substr(16)))return u.join("");for(;r=s.substr(0,1),!((o=Ie(r,n))+a>l);)if(u.push(r),l-=o,!(s=s.substr(1)))return u.join("");return""+u.join("")+i},Te=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}();n.d(e,"contains",function(){return r}),n.d(e,"includes",function(){return r}),n.d(e,"difference",function(){return a}),n.d(e,"find",function(){return y}),n.d(e,"findIndex",function(){return b}),n.d(e,"firstValue",function(){return x}),n.d(e,"flatten",function(){return w}),n.d(e,"flattenDeep",function(){return S}),n.d(e,"getRange",function(){return I}),n.d(e,"pull",function(){return E}),n.d(e,"pullAt",function(){return N}),n.d(e,"reduce",function(){return L}),n.d(e,"remove",function(){return D}),n.d(e,"sortBy",function(){return P}),n.d(e,"union",function(){return z}),n.d(e,"uniq",function(){return R}),n.d(e,"valuesOfKey",function(){return B}),n.d(e,"head",function(){return F}),n.d(e,"last",function(){return G}),n.d(e,"startsWith",function(){return V}),n.d(e,"endsWith",function(){return W}),n.d(e,"filter",function(){return o}),n.d(e,"every",function(){return H}),n.d(e,"some",function(){return U}),n.d(e,"group",function(){return Z}),n.d(e,"groupBy",function(){return J}),n.d(e,"groupToMap",function(){return Q}),n.d(e,"getWrapBehavior",function(){return $}),n.d(e,"wrapBehavior",function(){return X}),n.d(e,"number2color",function(){return q}),n.d(e,"parseRadius",function(){return tt}),n.d(e,"clamp",function(){return et}),n.d(e,"fixedBase",function(){return nt}),n.d(e,"isDecimal",function(){return rt}),n.d(e,"isEven",function(){return ot}),n.d(e,"isInteger",function(){return at}),n.d(e,"isNegative",function(){return st}),n.d(e,"isNumberEqual",function(){return ut}),n.d(e,"isOdd",function(){return ct}),n.d(e,"isPositive",function(){return ht}),n.d(e,"max",function(){return M}),n.d(e,"maxBy",function(){return dt}),n.d(e,"min",function(){return C}),n.d(e,"minBy",function(){return ft}),n.d(e,"mod",function(){return pt}),n.d(e,"toDegree",function(){return vt}),n.d(e,"toInteger",function(){return mt}),n.d(e,"toRadian",function(){return bt}),n.d(e,"forIn",function(){return xt}),n.d(e,"has",function(){return wt}),n.d(e,"hasKey",function(){return _t}),n.d(e,"hasValue",function(){return Mt}),n.d(e,"keys",function(){return p}),n.d(e,"isMatch",function(){return g}),n.d(e,"values",function(){return St}),n.d(e,"lowerCase",function(){return It}),n.d(e,"lowerFirst",function(){return kt}),n.d(e,"substitute",function(){return Tt}),n.d(e,"upperCase",function(){return Ot}),n.d(e,"upperFirst",function(){return Et}),n.d(e,"getType",function(){return Nt}),n.d(e,"isArguments",function(){return Lt}),n.d(e,"isArray",function(){return h}),n.d(e,"isArrayLike",function(){return i}),n.d(e,"isBoolean",function(){return Dt}),n.d(e,"isDate",function(){return jt}),n.d(e,"isError",function(){return Pt}),n.d(e,"isFunction",function(){return u}),n.d(e,"isFinite",function(){return Rt}),n.d(e,"isNil",function(){return c}),n.d(e,"isNull",function(){return zt}),n.d(e,"isNumber",function(){return it}),n.d(e,"isObject",function(){return d}),n.d(e,"isObjectLike",function(){return v}),n.d(e,"isPlainObject",function(){return m}),n.d(e,"isPrototype",function(){return Ft}),n.d(e,"isRegExp",function(){return Gt}),n.d(e,"isString",function(){return j}),n.d(e,"isType",function(){return l}),n.d(e,"isUndefined",function(){return Vt}),n.d(e,"isElement",function(){return Wt}),n.d(e,"requestAnimationFrame",function(){return Ht}),n.d(e,"clearAnimationFrame",function(){return Ut}),n.d(e,"augment",function(){return Qt}),n.d(e,"clone",function(){return $t}),n.d(e,"debounce",function(){return Xt}),n.d(e,"memoize",function(){return Kt}),n.d(e,"deepMix",function(){return ee}),n.d(e,"each",function(){return f}),n.d(e,"extend",function(){return ne}),n.d(e,"indexOf",function(){return ie}),n.d(e,"isEmpty",function(){return oe}),n.d(e,"isEqual",function(){return se}),n.d(e,"isEqualWith",function(){return le}),n.d(e,"map",function(){return ue}),n.d(e,"mapValues",function(){return he}),n.d(e,"mix",function(){return Jt}),n.d(e,"assign",function(){return Jt}),n.d(e,"get",function(){return de}),n.d(e,"set",function(){return fe}),n.d(e,"pick",function(){return ge}),n.d(e,"omit",function(){return ve}),n.d(e,"throttle",function(){return me}),n.d(e,"toArray",function(){return ye}),n.d(e,"toString",function(){return Ct}),n.d(e,"uniqueId",function(){return xe}),n.d(e,"noop",function(){return we}),n.d(e,"identity",function(){return _e}),n.d(e,"size",function(){return Se}),n.d(e,"measureTextWidth",function(){return Ie}),n.d(e,"getEllipsisText",function(){return ke}),n.d(e,"Cache",function(){return Te})},"6Kz3":function(t,e,n){"use strict";function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GADDI",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"breadthFirstSearch",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"connectedComponent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"depthFirstSearch",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"detectCycle",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"dijkstra",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"findAllPath",{enumerable:!0,get:function(){return h.findAllPath}}),Object.defineProperty(e,"findShortestPath",{enumerable:!0,get:function(){return h.findShortestPath}}),Object.defineProperty(e,"floydWarshall",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"getAdjMatrix",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"getDegree",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"getInDegree",{enumerable:!0,get:function(){return s.getInDegree}}),Object.defineProperty(e,"getNeighbors",{enumerable:!0,get:function(){return y.getNeighbors}}),Object.defineProperty(e,"getOutDegree",{enumerable:!0,get:function(){return s.getOutDegree}}),Object.defineProperty(e,"labelPropagation",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"louvain",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"minimumSpanningTree",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"pageRank",{enumerable:!0,get:function(){return v.default}});var r=x(n("Jsh2")),o=x(n("4MdZ")),a=x(n("l8+k")),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var n=b(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}r.default=t,n&&n.set(t,r);return r}(n("7N6o")),l=x(n("UO3t")),u=x(n("0buI")),c=x(n("2j9C")),h=n("uaD/"),d=x(n("+cvj")),f=x(n("lljM")),p=x(n("Dgox")),g=x(n("ToeE")),v=x(n("E9gP")),m=x(n("AZiY")),y=n("lSAc");function b(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(b=function(t){return t?n:e})(t)}function x(t){return t&&t.__esModule?t:{default:t}}},"6klO":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oneHot=e.getDistance=e.getAllKeyValueMap=e.default=void 0;var i,r=n("5eO5"),o=n("IJ9V"),a=(i=n("ncSy"))&&i.__esModule?i:{default:i};var s=function(t,e,n){var i=[];(null===e||void 0===e?void 0:e.length)?i=e:(t.forEach(function(t){i=i.concat(Object.keys(t))}),i=(0,r.uniq)(i));var o={};return i.forEach(function(e){var i=[];t.forEach(function(t){void 0!==t[e]&&""!==t[e]&&i.push(t[e])}),i.length&&!(null===n||void 0===n?void 0:n.includes(e))&&(o[e]=(0,r.uniq)(i))}),o};e.getAllKeyValueMap=s;var l=function(t,e,n){var i=s(t,e,n),r=[];return t.forEach(function(t,e){var n=[];Object.keys(i).forEach(function(e){for(var r=t[e],o=i[e],a=o.findIndex(function(t){return r===t}),s=[],l=0;l<o.length;l++)l===a?s.push(1):s.push(0);n=n.concat(s)}),r[e]=n}),r};e.oneHot=l;var u=function(t,e,n,i){void 0===n&&(n=o.DistanceType.EuclideanDistance);var r=0;switch(n){case o.DistanceType.EuclideanDistance:r=new a.default(t).euclideanDistance(new a.default(e))}return r};e.getDistance=u;var c={getAllKeyValueMap:s,oneHot:l,getDistance:u};e.default=c},"6zlC":function(t,e,n){"use strict";var i={};function r(t){return Math.min.apply(null,t)}function o(t){return Math.max.apply(null,t)}function a(t,e,n,i){var r=t-n,o=e-i;return Math.sqrt(r*r+o*o)}function s(t,e){return Math.abs(t-e)<.001}function l(t,e){var n=r(t),i=r(e);return{x:n,y:i,width:o(t)-n,height:o(e)-i}}function u(t,e,n,i){return{minX:r([t,n]),maxX:o([t,n]),minY:r([e,i]),maxY:o([e,i])}}function c(t){return(t+2*Math.PI)%(2*Math.PI)}n.d(i,"distance",function(){return a}),n.d(i,"isNumberEqual",function(){return s}),n.d(i,"getBBoxByArray",function(){return l}),n.d(i,"getBBoxRange",function(){return u}),n.d(i,"piMod",function(){return c});var h=n("SEFl"),d={box:function(t,e,n,i){return l([t,n],[e,i])},length:function(t,e,n,i){return a(t,e,n,i)},pointAt:function(t,e,n,i,r){return{x:(1-r)*t+r*n,y:(1-r)*e+r*i}},pointDistance:function(t,e,n,i,r,o){var s=(n-t)*(r-t)+(i-e)*(o-e);return s<0?a(t,e,r,o):s>(n-t)*(n-t)+(i-e)*(i-e)?a(n,i,r,o):this.pointToLine(t,e,n,i,r,o)},pointToLine:function(t,e,n,i,r,o){var a=[n-t,i-e];if(h.exactEquals(a,[0,0]))return Math.sqrt((r-t)*(r-t)+(o-e)*(o-e));var s=[-a[1],a[0]];h.normalize(s,s);var l=[r-t,o-e];return Math.abs(h.dot(l,s))},tangentAngle:function(t,e,n,i){return Math.atan2(i-e,n-t)}},f=1e-4;function p(t,e,n,i,r,o){var s,l=1/0,u=[n,i],c=20;o&&o>200&&(c=o/10);for(var h=1/c,d=h/10,p=0;p<=c;p++){var g=p*h,v=[r.apply(null,t.concat([g])),r.apply(null,e.concat([g]))];(x=a(u[0],u[1],v[0],v[1]))<l&&(s=g,l=x)}if(0===s)return{x:t[0],y:e[0]};if(1===s){var m=t.length;return{x:t[m-1],y:e[m-1]}}l=1/0;for(p=0;p<32&&!(d<f);p++){var y=s-d,b=s+d,x=(v=[r.apply(null,t.concat([y])),r.apply(null,e.concat([y]))],a(u[0],u[1],v[0],v[1]));if(y>=0&&x<l)s=y,l=x;else{var w=[r.apply(null,t.concat([b])),r.apply(null,e.concat([b]))],_=a(u[0],u[1],w[0],w[1]);b<=1&&_<l?(s=b,l=_):d*=.5}}return{x:r.apply(null,t.concat([s])),y:r.apply(null,e.concat([s]))}}function g(t,e,n,i){var r=1-i;return r*r*t+2*i*r*e+i*i*n}function v(t,e,n){var i=t+n-2*e;if(s(i,0))return[.5];var r=(t-e)/i;return r<=1&&r>=0?[r]:[]}function m(t,e,n,i){return 2*(1-i)*(e-t)+2*i*(n-e)}function y(t,e,n,i,r,o,a){var s=g(t,n,r,a),l=g(e,i,o,a),u=d.pointAt(t,e,n,i,a),c=d.pointAt(n,i,r,o,a);return[[t,e,u.x,u.y,s,l],[s,l,c.x,c.y,r,o]]}var b={box:function(t,e,n,i,r,o){var a=v(t,n,r)[0],s=v(e,i,o)[0],u=[t,r],c=[e,o];return void 0!==a&&u.push(g(t,n,r,a)),void 0!==s&&c.push(g(e,i,o,s)),l(u,c)},length:function(t,e,n,i,r,o){return function t(e,n,i,r,o,s,l){if(0===l)return(a(e,n,i,r)+a(i,r,o,s)+a(e,n,o,s))/2;var u=y(e,n,i,r,o,s,.5),c=u[0],h=u[1];return c.push(l-1),h.push(l-1),t.apply(null,c)+t.apply(null,h)}(t,e,n,i,r,o,3)},nearestPoint:function(t,e,n,i,r,o,a,s){return p([t,n,r],[e,i,o],a,s,g)},pointDistance:function(t,e,n,i,r,o,s,l){var u=this.nearestPoint(t,e,n,i,r,o,s,l);return a(u.x,u.y,s,l)},interpolationAt:g,pointAt:function(t,e,n,i,r,o,a){return{x:g(t,n,r,a),y:g(e,i,o,a)}},divide:function(t,e,n,i,r,o,a){return y(t,e,n,i,r,o,a)},tangentAngle:function(t,e,n,i,r,o,a){var s=m(t,n,r,a),l=m(e,i,o,a);return c(Math.atan2(l,s))}};function x(t,e,n,i,r){var o=1-r;return o*o*o*t+3*e*r*o*o+3*n*r*r*o+i*r*r*r}function w(t,e,n,i,r){var o=1-r;return 3*(o*o*(e-t)+2*o*r*(n-e)+r*r*(i-n))}function _(t,e,n,i){var r,o,a,l=-3*t+9*e-9*n+3*i,u=6*t-12*e+6*n,c=3*e-3*t,h=[];if(s(l,0))s(u,0)||(r=-c/u)>=0&&r<=1&&h.push(r);else{var d=u*u-4*l*c;s(d,0)?h.push(-u/(2*l)):d>0&&(o=(-u-(a=Math.sqrt(d)))/(2*l),(r=(-u+a)/(2*l))>=0&&r<=1&&h.push(r),o>=0&&o<=1&&h.push(o))}return h}function S(t,e,n,i,r,o,a,s,l){var u=x(t,n,r,a,l),c=x(e,i,o,s,l),h=d.pointAt(t,e,n,i,l),f=d.pointAt(n,i,r,o,l),p=d.pointAt(r,o,a,s,l),g=d.pointAt(h.x,h.y,f.x,f.y,l),v=d.pointAt(f.x,f.y,p.x,p.y,l);return[[t,e,h.x,h.y,g.x,g.y,u,c],[u,c,v.x,v.y,p.x,p.y,a,s]]}function M(t,e,n,i,r,o,s,l,u){if(0===u)return function(t,e){for(var n=0,i=t.length,r=0;r<i;r++)n+=a(t[r],e[r],t[(r+1)%i],e[(r+1)%i]);return n/2}([t,n,r,s],[e,i,o,l]);var c=S(t,e,n,i,r,o,s,l,.5),h=c[0],d=c[1];return h.push(u-1),d.push(u-1),M.apply(null,h)+M.apply(null,d)}var C={extrema:_,box:function(t,e,n,i,r,o,a,s){for(var u=[t,a],c=[e,s],h=_(t,n,r,a),d=_(e,i,o,s),f=0;f<h.length;f++)u.push(x(t,n,r,a,h[f]));for(f=0;f<d.length;f++)c.push(x(e,i,o,s,d[f]));return l(u,c)},length:function(t,e,n,i,r,o,a,s){return M(t,e,n,i,r,o,a,s,3)},nearestPoint:function(t,e,n,i,r,o,a,s,l,u,c){return p([t,n,r,a],[e,i,o,s],l,u,x,c)},pointDistance:function(t,e,n,i,r,o,s,l,u,c,h){var d=this.nearestPoint(t,e,n,i,r,o,s,l,u,c,h);return a(d.x,d.y,u,c)},interpolationAt:x,pointAt:function(t,e,n,i,r,o,a,s,l){return{x:x(t,n,r,a,l),y:x(e,i,o,s,l)}},divide:function(t,e,n,i,r,o,a,s,l){return S(t,e,n,i,r,o,a,s,l)},tangentAngle:function(t,e,n,i,r,o,a,s,l){var u=w(t,n,r,a,l),h=w(e,i,o,s,l);return c(Math.atan2(h,u))}};function I(t,e){var n=Math.abs(t);return e>0?n:-1*n}var k=function(t,e,n,i,r,o){var a=n,s=i;if(0===a||0===s)return{x:t,y:e};for(var l,u,c=r-t,h=o-e,d=Math.abs(c),f=Math.abs(h),p=a*a,g=s*s,v=Math.PI/4,m=0;m<4;m++){l=a*Math.cos(v),u=s*Math.sin(v);var y=(p-g)*Math.pow(Math.cos(v),3)/a,b=(g-p)*Math.pow(Math.sin(v),3)/s,x=l-y,w=u-b,_=d-y,S=f-b,M=Math.hypot(w,x),C=Math.hypot(S,_);v+=M*Math.asin((x*S-w*_)/(M*C))/Math.sqrt(p+g-l*l-u*u),v=Math.min(Math.PI/2,Math.max(0,v))}return{x:t+I(l,c),y:e+I(u,h)}};function T(t,e,n,i,r,o){return n*Math.cos(r)*Math.cos(o)-i*Math.sin(r)*Math.sin(o)+t}function O(t,e,n,i,r,o){return n*Math.sin(r)*Math.cos(o)+i*Math.cos(r)*Math.sin(o)+e}function E(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function A(t,e,n){var i=Math.cos(n),r=Math.sin(n);return[t*i-e*r,t*r+e*i]}var N={box:function(t,e,n,i,r,o,a){for(var s=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,i,r),l=1/0,u=-1/0,c=[o,a],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var d=s+h;o<a?o<d&&d<a&&c.push(d):a<d&&d<o&&c.push(d)}for(h=0;h<c.length;h++){var f=T(t,0,n,i,r,c[h]);f<l&&(l=f),f>u&&(u=f)}var p=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,i,r),g=1/0,v=-1/0,m=[o,a];for(h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var y=p+h;o<a?o<y&&y<a&&m.push(y):a<y&&y<o&&m.push(y)}for(h=0;h<m.length;h++){var b=O(0,e,n,i,r,m[h]);b<g&&(g=b),b>v&&(v=b)}return{x:l,y:g,width:u-l,height:v-g}},length:function(t,e,n,i,r,o,a){},nearestPoint:function(t,e,n,i,r,o,a,s,l){var u=A(s-t,l-e,-r),c=u[0],h=u[1],d=k(0,0,n,i,c,h),f=function(t,e,n,i){return(Math.atan2(i*t,n*e)+2*Math.PI)%(2*Math.PI)}(n,i,d.x,d.y);f<o?d=E(n,i,o):f>a&&(d=E(n,i,a));var p=A(d.x,d.y,r);return{x:p[0]+t,y:p[1]+e}},pointDistance:function(t,e,n,i,r,o,s,l,u){var c=this.nearestPoint(t,e,n,i,l,u);return a(c.x,c.y,l,u)},pointAt:function(t,e,n,i,r,o,a,s){var l=(a-o)*s+o;return{x:T(t,0,n,i,r,l),y:O(0,e,n,i,r,l)}},tangentAngle:function(t,e,n,i,r,o,a,s){var l=(a-o)*s+o,u=function(t,e,n,i,r,o,a,s){return-1*n*Math.cos(r)*Math.sin(s)-i*Math.sin(r)*Math.cos(s)}(0,0,n,i,r,0,0,l),h=function(t,e,n,i,r,o,a,s){return-1*n*Math.sin(r)*Math.sin(s)+i*Math.cos(r)*Math.cos(s)}(0,0,n,i,r,0,0,l);return c(Math.atan2(h,u))}};function L(t){for(var e=0,n=[],i=0;i<t.length-1;i++){var r=t[i],o=t[i+1],s=a(r[0],r[1],o[0],o[1]),l={from:r,to:o,length:s};n.push(l),e+=s}return{segments:n,totalLength:e}}function D(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var i=t[n],r=t[n+1];e+=a(i[0],i[1],r[0],r[1])}return e}function j(t,e){if(e>1||e<0||t.length<2)return null;var n=L(t),i=n.segments,r=n.totalLength;if(0===r)return{x:t[0][0],y:t[0][1]};for(var o=0,a=null,s=0;s<i.length;s++){var l=i[s],u=l.from,c=l.to,h=l.length/r;if(e>=o&&e<=o+h){var f=(e-o)/h;a=d.pointAt(u[0],u[1],c[0],c[1],f);break}o+=h}return a}function P(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=L(t),i=n.segments,r=n.totalLength,o=0,a=0,s=0;s<i.length;s++){var l=i[s],u=l.from,c=l.to,h=l.length/r;if(e>=o&&e<=o+h){a=Math.atan2(c[1]-u[1],c[0]-u[0]);break}o+=h}return a}function R(t,e,n){for(var i=1/0,r=0;r<t.length-1;r++){var o=t[r],a=t[r+1],s=d.pointDistance(o[0],o[1],a[0],a[1],e,n);s<i&&(i=s)}return i}var z={box:function(t){for(var e=[],n=[],i=0;i<t.length;i++){var r=t[i];e.push(r[0]),n.push(r[1])}return l(e,n)},length:function(t){return D(t)},pointAt:function(t,e){return j(t,e)},pointDistance:function(t,e,n){return R(t,e,n)},tangentAngle:function(t,e){return P(t,e)}};function B(t){var e=t.slice(0);return t.length&&e.push(t[0]),e}var F={box:function(t){return z.box(t)},length:function(t){return D(B(t))},pointAt:function(t,e){return j(B(t),e)},pointDistance:function(t,e,n){return R(B(t),e,n)},tangentAngle:function(t,e){return P(B(t),e)}};n.d(e,"e",function(){return b}),n.d(e,"b",function(){return C}),n.d(e,"a",function(){return N}),n.d(e,"c",function(){return d}),n.d(e,!1,function(){return F}),n.d(e,"d",function(){return z}),n.d(e,"f",function(){return i})},"7+uW":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){
/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function i(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function o(t){return!0===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function s(t){return null!==t&&"object"==typeof t}var l=Object.prototype.toString;function u(t){return"[object Object]"===l.call(t)}function c(t){return"[object RegExp]"===l.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return r(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function f(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function p(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var v=g("slot,component",!0),m=g("key,ref,slot,slot-scope,is");function y(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var b=Object.prototype.hasOwnProperty;function x(t,e){return b.call(t,e)}function w(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var _=/-(\w)/g,S=w(function(t){return t.replace(_,function(t,e){return e?e.toUpperCase():""})}),M=w(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),C=/\B([A-Z])/g,I=w(function(t){return t.replace(C,"-$1").toLowerCase()});var k=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function T(t,e){e=e||0;for(var n=t.length-e,i=new Array(n);n--;)i[n]=t[n+e];return i}function O(t,e){for(var n in e)t[n]=e[n];return t}function E(t){for(var e={},n=0;n<t.length;n++)t[n]&&O(e,t[n]);return e}function A(t,e,n){}var N=function(t,e,n){return!1},L=function(t){return t};function D(t,e){if(t===e)return!0;var n=s(t),i=s(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),o=Array.isArray(e);if(r&&o)return t.length===e.length&&t.every(function(t,n){return D(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||o)return!1;var a=Object.keys(t),l=Object.keys(e);return a.length===l.length&&a.every(function(n){return D(t[n],e[n])})}catch(t){return!1}}function j(t,e){for(var n=0;n<t.length;n++)if(D(t[n],e))return n;return-1}function P(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var R="data-server-rendered",z=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],F={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:N,isReservedAttr:N,isUnknownElement:N,getTagNamespace:A,parsePlatformTagName:L,mustUseProp:N,async:!0,_lifecycleHooks:B},G=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function W(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var H=new RegExp("[^"+G.source+".$_\\d]");var U,Y="__proto__"in{},J="undefined"!=typeof window,Q="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Z=Q&&WXEnvironment.platform.toLowerCase(),$=J&&window.navigator.userAgent.toLowerCase(),X=$&&/msie|trident/.test($),K=$&&$.indexOf("msie 9.0")>0,q=$&&$.indexOf("edge/")>0,tt=($&&$.indexOf("android"),$&&/iphone|ipad|ipod|ios/.test($)||"ios"===Z),et=($&&/chrome\/\d+/.test($),$&&/phantomjs/.test($),$&&$.match(/firefox\/(\d+)/)),nt={}.watch,it=!1;if(J)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){it=!0}}),window.addEventListener("test-passive",null,rt)}catch(t){}var ot=function(){return void 0===U&&(U=!J&&!Q&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),U},at=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function st(t){return"function"==typeof t&&/native code/.test(t.toString())}var lt,ut="undefined"!=typeof Symbol&&st(Symbol)&&"undefined"!=typeof Reflect&&st(Reflect.ownKeys);lt="undefined"!=typeof Set&&st(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ct=A,ht=0,dt=function(){this.id=ht++,this.subs=[]};dt.prototype.addSub=function(t){this.subs.push(t)},dt.prototype.removeSub=function(t){y(this.subs,t)},dt.prototype.depend=function(){dt.target&&dt.target.addDep(this)},dt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},dt.target=null;var ft=[];function pt(t){ft.push(t),dt.target=t}function gt(){ft.pop(),dt.target=ft[ft.length-1]}var vt=function(t,e,n,i,r,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},mt={child:{configurable:!0}};mt.child.get=function(){return this.componentInstance},Object.defineProperties(vt.prototype,mt);var yt=function(t){void 0===t&&(t="");var e=new vt;return e.text=t,e.isComment=!0,e};function bt(t){return new vt(void 0,void 0,void 0,String(t))}function xt(t){var e=new vt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var wt=Array.prototype,_t=Object.create(wt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=wt[t];W(_t,t,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&a.observeArray(r),a.dep.notify(),o})});var St=Object.getOwnPropertyNames(_t),Mt=!0;function Ct(t){Mt=t}var It=function(t){var e;this.value=t,this.dep=new dt,this.vmCount=0,W(t,"__ob__",this),Array.isArray(t)?(Y?(e=_t,t.__proto__=e):function(t,e,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];W(t,o,e[o])}}(t,_t,St),this.observeArray(t)):this.walk(t)};function kt(t,e){var n;if(s(t)&&!(t instanceof vt))return x(t,"__ob__")&&t.__ob__ instanceof It?n=t.__ob__:Mt&&!ot()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new It(t)),e&&n&&n.vmCount++,n}function Tt(t,e,n,i,r){var o=new dt,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,l=a&&a.set;s&&!l||2!==arguments.length||(n=t[e]);var u=!r&&kt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return dt.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(e)&&function t(e){for(var n=void 0,i=0,r=e.length;i<r;i++)(n=e[i])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(e))),e},set:function(e){var i=s?s.call(t):n;e===i||e!=e&&i!=i||s&&!l||(l?l.call(t,e):n=e,u=!r&&kt(e),o.notify())}})}}function Ot(t,e,n){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(Tt(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function Et(t,e){if(Array.isArray(t)&&h(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||x(t,e)&&(delete t[e],n&&n.dep.notify())}}It.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Tt(t,e[n])},It.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)kt(t[e])};var At=F.optionMergeStrategies;function Nt(t,e){if(!e)return t;for(var n,i,r,o=ut?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(i=t[n],r=e[n],x(t,n)?i!==r&&u(i)&&u(r)&&Nt(i,r):Ot(t,n,r));return t}function Lt(t,e,n){return n?function(){var i="function"==typeof e?e.call(n,n):e,r="function"==typeof t?t.call(n,n):t;return i?Nt(i,r):r}:e?t?function(){return Nt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Dt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function jt(t,e,n,i){var r=Object.create(t||null);return e?O(r,e):r}At.data=function(t,e,n){return n?Lt(t,e,n):e&&"function"!=typeof e?t:Lt(t,e)},B.forEach(function(t){At[t]=Dt}),z.forEach(function(t){At[t+"s"]=jt}),At.watch=function(t,e,n,i){if(t===nt&&(t=void 0),e===nt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var o in O(r,t),e){var a=r[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),r[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return r},At.props=At.methods=At.inject=At.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return O(r,t),e&&O(r,e),r},At.provide=Lt;var Pt=function(t,e){return void 0===e?t:e};function Rt(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var i,r,o={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(o[S(r)]={type:null});else if(u(n))for(var a in n)r=n[a],o[S(a)]=u(r)?r:{type:r};t.props=o}}(e),function(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(u(n))for(var o in n){var a=n[o];i[o]=u(a)?O({from:o},a):{from:a}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"==typeof i&&(e[n]={bind:i,update:i})}}(e),!e._base&&(e.extends&&(t=Rt(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=Rt(t,e.mixins[i],n);var o,a={};for(o in t)s(o);for(o in e)x(t,o)||s(o);function s(i){var r=At[i]||Pt;a[i]=r(t[i],e[i],n,i)}return a}function zt(t,e,n,i){if("string"==typeof n){var r=t[e];if(x(r,n))return r[n];var o=S(n);if(x(r,o))return r[o];var a=M(o);return x(r,a)?r[a]:r[n]||r[o]||r[a]}}function Bt(t,e,n,i){var r=e[t],o=!x(n,t),a=n[t],s=Wt(Boolean,r.type);if(s>-1)if(o&&!x(r,"default"))a=!1;else if(""===a||a===I(t)){var l=Wt(String,r.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=function(t,e,n){if(!x(e,"default"))return;var i=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return"function"==typeof i&&"Function"!==Gt(e.type)?i.call(t):i}(i,r,t);var u=Mt;Ct(!0),kt(a),Ct(u)}return a}var Ft=/^\s*function (\w+)/;function Gt(t){var e=t&&t.toString().match(Ft);return e?e[1]:""}function Vt(t,e){return Gt(t)===Gt(e)}function Wt(t,e){if(!Array.isArray(e))return Vt(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Vt(e[n],t))return n;return-1}function Ht(t,e,n){pt();try{if(e)for(var i=e;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{if(!1===r[o].call(i,t,e,n))return}catch(t){Yt(t,i,"errorCaptured hook")}}Yt(t,e,n)}finally{gt()}}function Ut(t,e,n,i,r){var o;try{(o=n?t.apply(e,n):t.call(e))&&!o._isVue&&d(o)&&!o._handled&&(o.catch(function(t){return Ht(t,i,r+" (Promise/async)")}),o._handled=!0)}catch(t){Ht(t,i,r)}return o}function Yt(t,e,n){if(F.errorHandler)try{return F.errorHandler.call(null,t,e,n)}catch(e){e!==t&&Jt(e,null,"config.errorHandler")}Jt(t,e,n)}function Jt(t,e,n){if(!J&&!Q||"undefined"==typeof console)throw t;console.error(t)}var Qt,Zt=!1,$t=[],Xt=!1;function Kt(){Xt=!1;var t=$t.slice(0);$t.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&st(Promise)){var qt=Promise.resolve();Qt=function(){qt.then(Kt),tt&&setTimeout(A)},Zt=!0}else if(X||"undefined"==typeof MutationObserver||!st(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Qt="undefined"!=typeof setImmediate&&st(setImmediate)?function(){setImmediate(Kt)}:function(){setTimeout(Kt,0)};else{var te=1,ee=new MutationObserver(Kt),ne=document.createTextNode(String(te));ee.observe(ne,{characterData:!0}),Qt=function(){te=(te+1)%2,ne.data=String(te)},Zt=!0}function ie(t,e){var n;if($t.push(function(){if(t)try{t.call(e)}catch(t){Ht(t,e,"nextTick")}else n&&n(e)}),Xt||(Xt=!0,Qt()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}var re=new lt;function oe(t){!function t(e,n){var i,r;var o=Array.isArray(e);if(!o&&!s(e)||Object.isFrozen(e)||e instanceof vt)return;if(e.__ob__){var a=e.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(o)for(i=e.length;i--;)t(e[i],n);else for(r=Object.keys(e),i=r.length;i--;)t(e[r[i]],n)}(t,re),re.clear()}var ae=w(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),i="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=i?t.slice(1):t,once:n,capture:i,passive:e}});function se(t,e){function n(){var t=arguments,i=n.fns;if(!Array.isArray(i))return Ut(i,null,arguments,e,"v-on handler");for(var r=i.slice(),o=0;o<r.length;o++)Ut(r[o],null,t,e,"v-on handler")}return n.fns=t,n}function le(t,e,n,r,a,s){var l,u,c,h;for(l in t)u=t[l],c=e[l],h=ae(l),i(u)||(i(c)?(i(u.fns)&&(u=t[l]=se(u,s)),o(h.once)&&(u=t[l]=a(h.name,u,h.capture)),n(h.name,u,h.capture,h.passive,h.params)):u!==c&&(c.fns=u,t[l]=c));for(l in e)i(t[l])&&r((h=ae(l)).name,e[l],h.capture)}function ue(t,e,n){var a;t instanceof vt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function l(){n.apply(this,arguments),y(a.fns,l)}i(s)?a=se([l]):r(s.fns)&&o(s.merged)?(a=s).fns.push(l):a=se([s,l]),a.merged=!0,t[e]=a}function ce(t,e,n,i,o){if(r(e)){if(x(e,n))return t[n]=e[n],o||delete e[n],!0;if(x(e,i))return t[n]=e[i],o||delete e[i],!0}return!1}function he(t){return a(t)?[bt(t)]:Array.isArray(t)?function t(e,n){var s=[];var l,u,c,h;for(l=0;l<e.length;l++)i(u=e[l])||"boolean"==typeof u||(c=s.length-1,h=s[c],Array.isArray(u)?u.length>0&&(de((u=t(u,(n||"")+"_"+l))[0])&&de(h)&&(s[c]=bt(h.text+u[0].text),u.shift()),s.push.apply(s,u)):a(u)?de(h)?s[c]=bt(h.text+u):""!==u&&s.push(bt(u)):de(u)&&de(h)?s[c]=bt(h.text+u.text):(o(e._isVList)&&r(u.tag)&&i(u.key)&&r(n)&&(u.key="__vlist"+n+"_"+l+"__"),s.push(u)));return s}(t):void 0}function de(t){return r(t)&&r(t.text)&&!1===t.isComment}function fe(t,e){if(t){for(var n=Object.create(null),i=ut?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var o=i[r];if("__ob__"!==o){for(var a=t[o].from,s=e;s;){if(s._provided&&x(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var l=t[o].default;n[o]="function"==typeof l?l.call(e):l}else 0}}return n}}function pe(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var o=t[i],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var u in n)n[u].every(ge)&&delete n[u];return n}function ge(t){return t.isComment&&!t.asyncFactory||" "===t.text}function ve(t){return t.isComment&&t.asyncFactory}function me(t,e,i){var r,o=Object.keys(e).length>0,a=t?!!t.$stable:!o,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&i&&i!==n&&s===i.$key&&!o&&!i.$hasNormal)return i;for(var l in r={},t)t[l]&&"$"!==l[0]&&(r[l]=ye(e,l,t[l]))}else r={};for(var u in e)u in r||(r[u]=be(e,u));return t&&Object.isExtensible(t)&&(t._normalized=r),W(r,"$stable",a),W(r,"$key",s),W(r,"$hasNormal",o),r}function ye(t,e,n){var i=function(){var t=arguments.length?n.apply(null,arguments):n({}),e=(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:he(t))&&t[0];return t&&(!e||1===t.length&&e.isComment&&!ve(e))?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function be(t,e){return function(){return t[e]}}function xe(t,e){var n,i,o,a,l;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),i=0,o=t.length;i<o;i++)n[i]=e(t[i],i);else if("number"==typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(s(t))if(ut&&t[Symbol.iterator]){n=[];for(var u=t[Symbol.iterator](),c=u.next();!c.done;)n.push(e(c.value,n.length)),c=u.next()}else for(a=Object.keys(t),n=new Array(a.length),i=0,o=a.length;i<o;i++)l=a[i],n[i]=e(t[l],l,i);return r(n)||(n=[]),n._isVList=!0,n}function we(t,e,n,i){var r,o=this.$scopedSlots[t];o?(n=n||{},i&&(n=O(O({},i),n)),r=o(n)||("function"==typeof e?e():e)):r=this.$slots[t]||("function"==typeof e?e():e);var a=n&&n.slot;return a?this.$createElement("template",{slot:a},r):r}function _e(t){return zt(this.$options,"filters",t)||L}function Se(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Me(t,e,n,i,r){var o=F.keyCodes[e]||n;return r&&i&&!F.keyCodes[e]?Se(r,i):o?Se(o,t):i?I(i)!==e:void 0===t}function Ce(t,e,n,i,r){if(n)if(s(n)){var o;Array.isArray(n)&&(n=E(n));var a=function(a){if("class"===a||"style"===a||m(a))o=t;else{var s=t.attrs&&t.attrs.type;o=i||F.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=S(a),u=I(a);l in o||u in o||(o[a]=n[a],r&&((t.on||(t.on={}))["update:"+a]=function(t){n[a]=t}))};for(var l in n)a(l)}else;return t}function Ie(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e?i:(Te(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),i)}function ke(t,e,n){return Te(t,"__once__"+e+(n?"_"+n:""),!0),t}function Te(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!=typeof t[i]&&Oe(t[i],e+"_"+i,n);else Oe(t,e,n)}function Oe(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Ee(t,e){if(e)if(u(e)){var n=t.on=t.on?O({},t.on):{};for(var i in e){var r=n[i],o=e[i];n[i]=r?[].concat(r,o):o}}else;return t}function Ae(t,e,n,i){e=e||{$stable:!n};for(var r=0;r<t.length;r++){var o=t[r];Array.isArray(o)?Ae(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return i&&(e.$key=i),e}function Ne(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"==typeof i&&i&&(t[e[n]]=e[n+1])}return t}function Le(t,e){return"string"==typeof t?e+t:t}function De(t){t._o=ke,t._n=p,t._s=f,t._l=xe,t._t=we,t._q=D,t._i=j,t._m=Ie,t._f=_e,t._k=Me,t._b=Ce,t._v=bt,t._e=yt,t._u=Ae,t._g=Ee,t._d=Ne,t._p=Le}function je(t,e,i,r,a){var s,l=this,u=a.options;x(r,"_uid")?(s=Object.create(r))._original=r:(s=r,r=r._original);var c=o(u._compiled),h=!c;this.data=t,this.props=e,this.children=i,this.parent=r,this.listeners=t.on||n,this.injections=fe(u.inject,r),this.slots=function(){return l.$slots||me(t.scopedSlots,l.$slots=pe(i,r)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return me(t.scopedSlots,this.slots())}}),c&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=me(t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,i){var o=He(s,t,e,n,i,h);return o&&!Array.isArray(o)&&(o.fnScopeId=u._scopeId,o.fnContext=r),o}:this._c=function(t,e,n,i){return He(s,t,e,n,i,h)}}function Pe(t,e,n,i,r){var o=xt(t);return o.fnContext=n,o.fnOptions=i,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function Re(t,e){for(var n in e)t[S(n)]=e[n]}De(je.prototype);var ze={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;ze.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,qe)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var i=e.componentOptions;!function(t,e,i,r,o){0;var a=r.data.scopedSlots,s=t.$scopedSlots,l=!!(a&&!a.$stable||s!==n&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key||!a&&t.$scopedSlots.$key),u=!!(o||t.$options._renderChildren||l);t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r);if(t.$options._renderChildren=o,t.$attrs=r.data.attrs||n,t.$listeners=i||n,e&&t.$options.props){Ct(!1);for(var c=t._props,h=t.$options._propKeys||[],d=0;d<h.length;d++){var f=h[d],p=t.$options.props;c[f]=Bt(f,p,e,t)}Ct(!0),t.$options.propsData=e}i=i||n;var g=t.$options._parentListeners;t.$options._parentListeners=i,Ke(t,i,g),u&&(t.$slots=pe(o,r.context),t.$forceUpdate());0}(e.componentInstance=t.componentInstance,i.propsData,i.listeners,e,i.children)},insert:function(t){var e,n=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,rn(i,"mounted")),t.data.keepAlive&&(n._isMounted?((e=i)._inactive=!1,an.push(e)):nn(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(n&&(e._directInactive=!0,en(e)))return;if(!e._inactive){e._inactive=!0;for(var i=0;i<e.$children.length;i++)t(e.$children[i]);rn(e,"deactivated")}}(e,!0):e.$destroy())}},Be=Object.keys(ze);function Fe(t,e,a,l,u){if(!i(t)){var c=a.$options._base;if(s(t)&&(t=c.extend(t)),"function"==typeof t){var h;if(i(t.cid)&&void 0===(t=function(t,e){if(o(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;var n=Ye;n&&r(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n);if(o(t.loading)&&r(t.loadingComp))return t.loadingComp;if(n&&!r(t.owners)){var a=t.owners=[n],l=!0,u=null,c=null;n.$on("hook:destroyed",function(){return y(a,n)});var h=function(t){for(var e=0,n=a.length;e<n;e++)a[e].$forceUpdate();t&&(a.length=0,null!==u&&(clearTimeout(u),u=null),null!==c&&(clearTimeout(c),c=null))},f=P(function(n){t.resolved=Je(n,e),l?a.length=0:h(!0)}),p=P(function(e){r(t.errorComp)&&(t.error=!0,h(!0))}),g=t(f,p);return s(g)&&(d(g)?i(t.resolved)&&g.then(f,p):d(g.component)&&(g.component.then(f,p),r(g.error)&&(t.errorComp=Je(g.error,e)),r(g.loading)&&(t.loadingComp=Je(g.loading,e),0===g.delay?t.loading=!0:u=setTimeout(function(){u=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,h(!1))},g.delay||200)),r(g.timeout)&&(c=setTimeout(function(){c=null,i(t.resolved)&&p(null)},g.timeout)))),l=!1,t.loading?t.loadingComp:t.resolved}}(h=t,c)))return function(t,e,n,i,r){var o=yt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:i,tag:r},o}(h,e,a,l,u);e=e||{},In(t),r(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),a=o[i],s=e.model.callback;r(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[i]=[s].concat(a)):o[i]=s}(t.options,e);var f=function(t,e,n){var o=e.options.props;if(!i(o)){var a={},s=t.attrs,l=t.props;if(r(s)||r(l))for(var u in o){var c=I(u);ce(a,l,u,c,!0)||ce(a,s,u,c,!1)}return a}}(e,t);if(o(t.options.functional))return function(t,e,i,o,a){var s=t.options,l={},u=s.props;if(r(u))for(var c in u)l[c]=Bt(c,u,e||n);else r(i.attrs)&&Re(l,i.attrs),r(i.props)&&Re(l,i.props);var h=new je(i,l,a,o,t),d=s.render.call(null,h._c,h);if(d instanceof vt)return Pe(d,i,h.parent,s);if(Array.isArray(d)){for(var f=he(d)||[],p=new Array(f.length),g=0;g<f.length;g++)p[g]=Pe(f[g],i,h.parent,s);return p}}(t,f,e,a,l);var p=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var g=e.slot;e={},g&&(e.slot=g)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Be.length;n++){var i=Be[n],r=e[i],o=ze[i];r===o||r&&r._merged||(e[i]=r?Ge(o,r):o)}}(e);var v=t.options.name||u;return new vt("vue-component-"+t.cid+(v?"-"+v:""),e,void 0,void 0,void 0,a,{Ctor:t,propsData:f,listeners:p,tag:u,children:l},h)}}}function Ge(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}var Ve=1,We=2;function He(t,e,n,l,u,c){return(Array.isArray(n)||a(n))&&(u=l,l=n,n=void 0),o(c)&&(u=We),function(t,e,n,a,l){if(r(n)&&r(n.__ob__))return yt();r(n)&&r(n.is)&&(e=n.is);if(!e)return yt();0;Array.isArray(a)&&"function"==typeof a[0]&&((n=n||{}).scopedSlots={default:a[0]},a.length=0);l===We?a=he(a):l===Ve&&(a=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(a));var u,c;if("string"==typeof e){var h;c=t.$vnode&&t.$vnode.ns||F.getTagNamespace(e),u=F.isReservedTag(e)?new vt(F.parsePlatformTagName(e),n,a,void 0,void 0,t):n&&n.pre||!r(h=zt(t.$options,"components",e))?new vt(e,n,a,void 0,void 0,t):Fe(h,n,t,a,e)}else u=Fe(e,n,t,a);return Array.isArray(u)?u:r(u)?(r(c)&&function t(e,n,a){e.ns=n;"foreignObject"===e.tag&&(n=void 0,a=!0);if(r(e.children))for(var s=0,l=e.children.length;s<l;s++){var u=e.children[s];r(u.tag)&&(i(u.ns)||o(a)&&"svg"!==u.tag)&&t(u,n,a)}}(u,c),r(n)&&function(t){s(t.style)&&oe(t.style);s(t.class)&&oe(t.class)}(n),u):yt()}(t,e,n,l,u)}var Ue,Ye=null;function Je(t,e){return(t.__esModule||ut&&"Module"===t[Symbol.toStringTag])&&(t=t.default),s(t)?e.extend(t):t}function Qe(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(r(n)&&(r(n.componentOptions)||ve(n)))return n}}function Ze(t,e){Ue.$on(t,e)}function $e(t,e){Ue.$off(t,e)}function Xe(t,e){var n=Ue;return function i(){null!==e.apply(null,arguments)&&n.$off(t,i)}}function Ke(t,e,n){Ue=t,le(e,n||{},Ze,$e,Xe,t),Ue=void 0}var qe=null;function tn(t){var e=qe;return qe=t,function(){qe=e}}function en(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function nn(t,e){if(e){if(t._directInactive=!1,en(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)nn(t.$children[n]);rn(t,"activated")}}function rn(t,e){pt();var n=t.$options[e],i=e+" hook";if(n)for(var r=0,o=n.length;r<o;r++)Ut(n[r],t,null,t,i);t._hasHookEvent&&t.$emit("hook:"+e),gt()}var on=[],an=[],sn={},ln=!1,un=!1,cn=0;var hn=0,dn=Date.now;if(J&&!X){var fn=window.performance;fn&&"function"==typeof fn.now&&dn()>document.createEvent("Event").timeStamp&&(dn=function(){return fn.now()})}function pn(){var t,e;for(hn=dn(),un=!0,on.sort(function(t,e){return t.id-e.id}),cn=0;cn<on.length;cn++)(t=on[cn]).before&&t.before(),e=t.id,sn[e]=null,t.run();var n=an.slice(),i=on.slice();cn=on.length=an.length=0,sn={},ln=un=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,nn(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&rn(i,"updated")}}(i),at&&F.devtools&&at.emit("flush")}var gn=0,vn=function(t,e,n,i,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++gn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new lt,this.newDepIds=new lt,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!H.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=A)),this.value=this.lazy?void 0:this.get()};vn.prototype.get=function(){var t;pt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Ht(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&oe(t),gt(),this.cleanupDeps()}return t},vn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},vn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},vn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==sn[e]){if(sn[e]=!0,un){for(var n=on.length-1;n>cn&&on[n].id>t.id;)n--;on.splice(n+1,0,t)}else on.push(t);ln||(ln=!0,ie(pn))}}(this)},vn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'+this.expression+'"';Ut(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},vn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},vn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},vn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var mn={enumerable:!0,configurable:!0,get:A,set:A};function yn(t,e,n){mn.get=function(){return this[e][n]},mn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,mn)}function bn(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},i=t._props={},r=t.$options._propKeys=[],o=!t.$parent;o||Ct(!1);var a=function(o){r.push(o);var a=Bt(o,e,n,t);Tt(i,o,a),o in t||yn(t,"_props",o)};for(var s in e)a(s);Ct(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?A:k(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;u(e=t._data="function"==typeof e?function(t,e){pt();try{return t.call(e,e)}catch(t){return Ht(t,e,"data()"),{}}finally{gt()}}(e,t):e||{})||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);for(;r--;){var o=n[r];0,i&&x(i,o)||V(o)||yn(t,"_data",o)}kt(e,!0)}(t):kt(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),i=ot();for(var r in e){var o=e[r],a="function"==typeof o?o:o.get;0,i||(n[r]=new vn(t,a||A,A,xn)),r in t||wn(t,r,o)}}(t,e.computed),e.watch&&e.watch!==nt&&function(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)Mn(t,n,i[r]);else Mn(t,n,i)}}(t,e.watch)}var xn={lazy:!0};function wn(t,e,n){var i=!ot();"function"==typeof n?(mn.get=i?_n(e):Sn(n),mn.set=A):(mn.get=n.get?i&&!1!==n.cache?_n(e):Sn(n.get):A,mn.set=n.set||A),Object.defineProperty(t,e,mn)}function _n(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),dt.target&&e.depend(),e.value}}function Sn(t){return function(){return t.call(this,this)}}function Mn(t,e,n,i){return u(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,i)}var Cn=0;function In(t){var e=t.options;if(t.super){var n=In(t.super);if(n!==t.superOptions){t.superOptions=n;var i=function(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}(t);i&&O(t.extendOptions,i),(e=t.options=Rt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function kn(t){this._init(t)}function Tn(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var o=t.name||n.options.name;var a=function(t){this._init(t)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=e++,a.options=Rt(n.options,t),a.super=n,a.options.props&&function(t){var e=t.options.props;for(var n in e)yn(t.prototype,"_props",n)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var n in e)wn(t.prototype,n,e[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,z.forEach(function(t){a[t]=n[t]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=O({},a.options),r[i]=a,a}}function On(t){return t&&(t.Ctor.options.name||t.tag)}function En(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!c(t)&&t.test(e)}function An(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var o in n){var a=n[o];if(a){var s=a.name;s&&!e(s)&&Nn(n,o,i,r)}}}function Nn(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,y(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=Cn++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Rt(In(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ke(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,i=t.$vnode=e._parentVnode,r=i&&i.context;t.$slots=pe(e._renderChildren,r),t.$scopedSlots=n,t._c=function(e,n,i,r){return He(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return He(t,e,n,i,r,!0)};var o=i&&i.data;Tt(t,"$attrs",o&&o.attrs||n,null,!0),Tt(t,"$listeners",e._parentListeners||n,null,!0)}(e),rn(e,"beforeCreate"),function(t){var e=fe(t.$options.inject,t);e&&(Ct(!1),Object.keys(e).forEach(function(n){Tt(t,n,e[n])}),Ct(!0))}(e),bn(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),rn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(kn),function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Ot,t.prototype.$delete=Et,t.prototype.$watch=function(t,e,n){if(u(e))return Mn(this,t,e,n);(n=n||{}).user=!0;var i=new vn(this,t,e,n);if(n.immediate){var r='callback for immediate watcher "'+i.expression+'"';pt(),Ut(e,this,[i.value],this,r),gt()}return function(){i.teardown()}}}(kn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(Array.isArray(t))for(var r=0,o=t.length;r<o;r++)i.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;for(var s=a.length;s--;)if((o=a[s])===e||o.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?T(n):n;for(var i=T(arguments,1),r='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)Ut(n[o],e,i,e,r)}return e}}(kn),function(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,o=tn(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){rn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),rn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(kn),function(t){De(t.prototype),t.prototype.$nextTick=function(t){return ie(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,i=n.render,r=n._parentVnode;r&&(e.$scopedSlots=me(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;try{Ye=e,t=i.call(e._renderProxy,e.$createElement)}catch(n){Ht(n,e,"render"),t=e._vnode}finally{Ye=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof vt||(t=yt()),t.parent=r,t}}(kn);var Ln=[String,RegExp,Array],Dn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Ln,exclude:Ln,max:[String,Number]},methods:{cacheVNode:function(){var t=this.cache,e=this.keys,n=this.vnodeToCache,i=this.keyToCache;if(n){var r=n.tag,o=n.componentInstance,a=n.componentOptions;t[i]={name:On(a),tag:r,componentInstance:o},e.push(i),this.max&&e.length>parseInt(this.max)&&Nn(t,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Nn(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",function(e){An(t,function(t){return En(e,t)})}),this.$watch("exclude",function(e){An(t,function(t){return!En(e,t)})})},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Qe(t),n=e&&e.componentOptions;if(n){var i=On(n),r=this.include,o=this.exclude;if(r&&(!i||!En(r,i))||o&&i&&En(o,i))return e;var a=this.cache,s=this.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;a[l]?(e.componentInstance=a[l].componentInstance,y(s,l),s.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return F}};Object.defineProperty(t,"config",e),t.util={warn:ct,extend:O,mergeOptions:Rt,defineReactive:Tt},t.set=Ot,t.delete=Et,t.nextTick=ie,t.observable=function(t){return kt(t),t},t.options=Object.create(null),z.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,O(t.options.components,Dn),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=T(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Rt(this.options,t),this}}(t),Tn(t),function(t){z.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}(t)}(kn),Object.defineProperty(kn.prototype,"$isServer",{get:ot}),Object.defineProperty(kn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(kn,"FunctionalRenderContext",{value:je}),kn.version="2.6.14";var jn=g("style,class"),Pn=g("input,textarea,option,select,progress"),Rn=function(t,e,n){return"value"===n&&Pn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},zn=g("contenteditable,draggable,spellcheck"),Bn=g("events,caret,typing,plaintext-only"),Fn=function(t,e){return Un(e)||"false"===e?"false":"contenteditable"===t&&Bn(e)?e:"true"},Gn=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Vn="http://www.w3.org/1999/xlink",Wn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Hn=function(t){return Wn(t)?t.slice(6,t.length):""},Un=function(t){return null==t||!1===t};function Yn(t){for(var e=t.data,n=t,i=t;r(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(e=Jn(i.data,e));for(;r(n=n.parent);)n&&n.data&&(e=Jn(e,n.data));return function(t,e){if(r(t)||r(e))return Qn(t,Zn(e));return""}(e.staticClass,e.class)}function Jn(t,e){return{staticClass:Qn(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Qn(t,e){return t?e?t+" "+e:t:e||""}function Zn(t){return Array.isArray(t)?function(t){for(var e,n="",i=0,o=t.length;i<o;i++)r(e=Zn(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):s(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var $n={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Xn=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Kn=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),qn=function(t){return Xn(t)||Kn(t)};function ti(t){return Kn(t)?"svg":"math"===t?"math":void 0}var ei=Object.create(null);var ni=g("text,number,password,search,email,tel,url");function ii(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}var ri=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)},createElementNS:function(t,e){return document.createElementNS($n[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),oi={create:function(t,e){ai(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ai(t,!0),ai(e))},destroy:function(t){ai(t,!0)}};function ai(t,e){var n=t.data.ref;if(r(n)){var i=t.context,o=t.componentInstance||t.elm,a=i.$refs;e?Array.isArray(a[n])?y(a[n],o):a[n]===o&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}var si=new vt("",{},[]),li=["create","activate","update","remove","destroy"];function ui(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,i=r(n=t.data)&&r(n=n.attrs)&&n.type,o=r(n=e.data)&&r(n=n.attrs)&&n.type;return i===o||ni(i)&&ni(o)}(t,e)||o(t.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function ci(t,e,n){var i,o,a={};for(i=e;i<=n;++i)r(o=t[i].key)&&(a[o]=i);return a}var hi={create:di,update:di,destroy:function(t){di(t,si)}};function di(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,i,r,o=t===si,a=e===si,s=pi(t.data.directives,t.context),l=pi(e.data.directives,e.context),u=[],c=[];for(n in l)i=s[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,vi(r,"update",e,t),r.def&&r.def.componentUpdated&&c.push(r)):(vi(r,"bind",e,t),r.def&&r.def.inserted&&u.push(r));if(u.length){var h=function(){for(var n=0;n<u.length;n++)vi(u[n],"inserted",e,t)};o?ue(e,"insert",h):h()}c.length&&ue(e,"postpatch",function(){for(var n=0;n<c.length;n++)vi(c[n],"componentUpdated",e,t)});if(!o)for(n in s)l[n]||vi(s[n],"unbind",t,t,a)}(t,e)}var fi=Object.create(null);function pi(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++)(i=t[n]).modifiers||(i.modifiers=fi),r[gi(i)]=i,i.def=zt(e.$options,"directives",i.name);return r}function gi(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function vi(t,e,n,i,r){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,i,r)}catch(i){Ht(i,n.context,"directive "+t.name+" "+e+" hook")}}var mi=[oi,hi];function yi(t,e){var n=e.componentOptions;if(!(r(n)&&!1===n.Ctor.options.inheritAttrs||i(t.data.attrs)&&i(e.data.attrs))){var o,a,s=e.elm,l=t.data.attrs||{},u=e.data.attrs||{};for(o in r(u.__ob__)&&(u=e.data.attrs=O({},u)),u)a=u[o],l[o]!==a&&bi(s,o,a,e.data.pre);for(o in(X||q)&&u.value!==l.value&&bi(s,"value",u.value),l)i(u[o])&&(Wn(o)?s.removeAttributeNS(Vn,Hn(o)):zn(o)||s.removeAttribute(o))}}function bi(t,e,n,i){i||t.tagName.indexOf("-")>-1?xi(t,e,n):Gn(e)?Un(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):zn(e)?t.setAttribute(e,Fn(e,n)):Wn(e)?Un(n)?t.removeAttributeNS(Vn,Hn(e)):t.setAttributeNS(Vn,e,n):xi(t,e,n)}function xi(t,e,n){if(Un(n))t.removeAttribute(e);else{if(X&&!K&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var wi={create:yi,update:yi};function _i(t,e){var n=e.elm,o=e.data,a=t.data;if(!(i(o.staticClass)&&i(o.class)&&(i(a)||i(a.staticClass)&&i(a.class)))){var s=Yn(e),l=n._transitionClasses;r(l)&&(s=Qn(s,Zn(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Si,Mi,Ci,Ii,ki,Ti,Oi={create:_i,update:_i},Ei=/[\w).+\-_$\]]/;function Ai(t){var e,n,i,r,o,a=!1,s=!1,l=!1,u=!1,c=0,h=0,d=0,f=0;for(i=0;i<t.length;i++)if(n=e,e=t.charCodeAt(i),a)39===e&&92!==n&&(a=!1);else if(s)34===e&&92!==n&&(s=!1);else if(l)96===e&&92!==n&&(l=!1);else if(u)47===e&&92!==n&&(u=!1);else if(124!==e||124===t.charCodeAt(i+1)||124===t.charCodeAt(i-1)||c||h||d){switch(e){case 34:s=!0;break;case 39:a=!0;break;case 96:l=!0;break;case 40:d++;break;case 41:d--;break;case 91:h++;break;case 93:h--;break;case 123:c++;break;case 125:c--}if(47===e){for(var p=i-1,g=void 0;p>=0&&" "===(g=t.charAt(p));p--);g&&Ei.test(g)||(u=!0)}}else void 0===r?(f=i+1,r=t.slice(0,i).trim()):v();function v(){(o||(o=[])).push(t.slice(f,i).trim()),f=i+1}if(void 0===r?r=t.slice(0,i).trim():0!==f&&v(),o)for(i=0;i<o.length;i++)r=Ni(r,o[i]);return r}function Ni(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var i=e.slice(0,n),r=e.slice(n+1);return'_f("'+i+'")('+t+(")"!==r?","+r:r)}function Li(t,e){console.error("[Vue compiler]: "+t)}function Di(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function ji(t,e,n,i,r){(t.props||(t.props=[])).push(Ui({name:e,value:n,dynamic:r},i)),t.plain=!1}function Pi(t,e,n,i,r){(r?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(Ui({name:e,value:n,dynamic:r},i)),t.plain=!1}function Ri(t,e,n,i){t.attrsMap[e]=n,t.attrsList.push(Ui({name:e,value:n},i))}function zi(t,e,n,i,r,o,a,s){(t.directives||(t.directives=[])).push(Ui({name:e,rawName:n,value:i,arg:r,isDynamicArg:o,modifiers:a},s)),t.plain=!1}function Bi(t,e,n){return n?"_p("+e+',"'+t+'")':t+e}function Fi(t,e,i,r,o,a,s,l){var u;(r=r||n).right?l?e="("+e+")==='click'?'contextmenu':("+e+")":"click"===e&&(e="contextmenu",delete r.right):r.middle&&(l?e="("+e+")==='click'?'mouseup':("+e+")":"click"===e&&(e="mouseup")),r.capture&&(delete r.capture,e=Bi("!",e,l)),r.once&&(delete r.once,e=Bi("~",e,l)),r.passive&&(delete r.passive,e=Bi("&",e,l)),r.native?(delete r.native,u=t.nativeEvents||(t.nativeEvents={})):u=t.events||(t.events={});var c=Ui({value:i.trim(),dynamic:l},s);r!==n&&(c.modifiers=r);var h=u[e];Array.isArray(h)?o?h.unshift(c):h.push(c):u[e]=h?o?[c,h]:[h,c]:c,t.plain=!1}function Gi(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}function Vi(t,e,n){var i=Wi(t,":"+e)||Wi(t,"v-bind:"+e);if(null!=i)return Ai(i);if(!1!==n){var r=Wi(t,e);if(null!=r)return JSON.stringify(r)}}function Wi(t,e,n){var i;if(null!=(i=t.attrsMap[e]))for(var r=t.attrsList,o=0,a=r.length;o<a;o++)if(r[o].name===e){r.splice(o,1);break}return n&&delete t.attrsMap[e],i}function Hi(t,e){for(var n=t.attrsList,i=0,r=n.length;i<r;i++){var o=n[i];if(e.test(o.name))return n.splice(i,1),o}}function Ui(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function Yi(t,e,n){var i=n||{},r=i.number,o="$$v";i.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),r&&(o="_n("+o+")");var a=Ji(e,o);t.model={value:"("+e+")",expression:JSON.stringify(e),callback:"function ($$v) {"+a+"}"}}function Ji(t,e){var n=function(t){if(t=t.trim(),Si=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<Si-1)return(Ii=t.lastIndexOf("."))>-1?{exp:t.slice(0,Ii),key:'"'+t.slice(Ii+1)+'"'}:{exp:t,key:null};Mi=t,Ii=ki=Ti=0;for(;!Zi();)$i(Ci=Qi())?Ki(Ci):91===Ci&&Xi(Ci);return{exp:t.slice(0,ki),key:t.slice(ki+1,Ti)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Qi(){return Mi.charCodeAt(++Ii)}function Zi(){return Ii>=Si}function $i(t){return 34===t||39===t}function Xi(t){var e=1;for(ki=Ii;!Zi();)if($i(t=Qi()))Ki(t);else if(91===t&&e++,93===t&&e--,0===e){Ti=Ii;break}}function Ki(t){for(var e=t;!Zi()&&(t=Qi())!==e;);}var qi,tr="__r",er="__c";function nr(t,e,n){var i=qi;return function r(){null!==e.apply(null,arguments)&&or(t,r,n,i)}}var ir=Zt&&!(et&&Number(et[1])<=53);function rr(t,e,n,i){if(ir){var r=hn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}qi.addEventListener(t,e,it?{capture:n,passive:i}:n)}function or(t,e,n,i){(i||qi).removeEventListener(t,e._wrapper||e,n)}function ar(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},o=t.data.on||{};qi=e.elm,function(t){if(r(t[tr])){var e=X?"change":"input";t[e]=[].concat(t[tr],t[e]||[]),delete t[tr]}r(t[er])&&(t.change=[].concat(t[er],t.change||[]),delete t[er])}(n),le(n,o,rr,or,nr,e.context),qi=void 0}}var sr,lr={create:ar,update:ar};function ur(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,o,a=e.elm,s=t.data.domProps||{},l=e.data.domProps||{};for(n in r(l.__ob__)&&(l=e.data.domProps=O({},l)),s)n in l||(a[n]="");for(n in l){if(o=l[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=o;var u=i(o)?"":String(o);cr(a,u)&&(a.value=u)}else if("innerHTML"===n&&Kn(a.tagName)&&i(a.innerHTML)){(sr=sr||document.createElement("div")).innerHTML="<svg>"+o+"</svg>";for(var c=sr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}else if(o!==s[n])try{a[n]=o}catch(t){}}}}function cr(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,i=t._vModifiers;if(r(i)){if(i.number)return p(n)!==p(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var hr={create:ur,update:ur},dr=w(function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e});function fr(t){var e=pr(t.style);return t.staticStyle?O(t.staticStyle,e):e}function pr(t){return Array.isArray(t)?E(t):"string"==typeof t?dr(t):t}var gr,vr=/^--/,mr=/\s*!important$/,yr=function(t,e,n){if(vr.test(e))t.style.setProperty(e,n);else if(mr.test(n))t.style.setProperty(I(e),n.replace(mr,""),"important");else{var i=xr(e);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)t.style[i]=n[r];else t.style[i]=n}},br=["Webkit","Moz","ms"],xr=w(function(t){if(gr=gr||document.createElement("div").style,"filter"!==(t=S(t))&&t in gr)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<br.length;n++){var i=br[n]+e;if(i in gr)return i}});function wr(t,e){var n=e.data,o=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(o.staticStyle)&&i(o.style))){var a,s,l=e.elm,u=o.staticStyle,c=o.normalizedStyle||o.style||{},h=u||c,d=pr(e.data.style)||{};e.data.normalizedStyle=r(d.__ob__)?O({},d):d;var f=function(t,e){var n,i={};if(e)for(var r=t;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=fr(r.data))&&O(i,n);(n=fr(t.data))&&O(i,n);for(var o=t;o=o.parent;)o.data&&(n=fr(o.data))&&O(i,n);return i}(e,!0);for(s in h)i(f[s])&&yr(l,s,"");for(s in f)(a=f[s])!==h[s]&&yr(l,s,null==a?"":a)}}var _r={create:wr,update:wr},Sr=/\s+/;function Mr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Sr).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Cr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Sr).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function Ir(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&O(e,kr(t.name||"v")),O(e,t),e}return"string"==typeof t?kr(t):void 0}}var kr=w(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Tr=J&&!K,Or="transition",Er="animation",Ar="transition",Nr="transitionend",Lr="animation",Dr="animationend";Tr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ar="WebkitTransition",Nr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Lr="WebkitAnimation",Dr="webkitAnimationEnd"));var jr=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Pr(t){jr(function(){jr(t)})}function Rr(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Mr(t,e))}function zr(t,e){t._transitionClasses&&y(t._transitionClasses,e),Cr(t,e)}function Br(t,e,n){var i=Gr(t,e),r=i.type,o=i.timeout,a=i.propCount;if(!r)return n();var s=r===Or?Nr:Dr,l=0,u=function(){t.removeEventListener(s,c),n()},c=function(e){e.target===t&&++l>=a&&u()};setTimeout(function(){l<a&&u()},o+1),t.addEventListener(s,c)}var Fr=/\b(transform|all)(,|$)/;function Gr(t,e){var n,i=window.getComputedStyle(t),r=(i[Ar+"Delay"]||"").split(", "),o=(i[Ar+"Duration"]||"").split(", "),a=Vr(r,o),s=(i[Lr+"Delay"]||"").split(", "),l=(i[Lr+"Duration"]||"").split(", "),u=Vr(s,l),c=0,h=0;return e===Or?a>0&&(n=Or,c=a,h=o.length):e===Er?u>0&&(n=Er,c=u,h=l.length):h=(n=(c=Math.max(a,u))>0?a>u?Or:Er:null)?n===Or?o.length:l.length:0,{type:n,timeout:c,propCount:h,hasTransform:n===Or&&Fr.test(i[Ar+"Property"])}}function Vr(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return Wr(e)+Wr(t[n])}))}function Wr(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Hr(t,e){var n=t.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=Ir(t.data.transition);if(!i(o)&&!r(n._enterCb)&&1===n.nodeType){for(var a=o.css,l=o.type,u=o.enterClass,c=o.enterToClass,h=o.enterActiveClass,d=o.appearClass,f=o.appearToClass,g=o.appearActiveClass,v=o.beforeEnter,m=o.enter,y=o.afterEnter,b=o.enterCancelled,x=o.beforeAppear,w=o.appear,_=o.afterAppear,S=o.appearCancelled,M=o.duration,C=qe,I=qe.$vnode;I&&I.parent;)C=I.context,I=I.parent;var k=!C._isMounted||!t.isRootInsert;if(!k||w||""===w){var T=k&&d?d:u,O=k&&g?g:h,E=k&&f?f:c,A=k&&x||v,N=k&&"function"==typeof w?w:m,L=k&&_||y,D=k&&S||b,j=p(s(M)?M.enter:M);0;var R=!1!==a&&!K,z=Jr(N),B=n._enterCb=P(function(){R&&(zr(n,E),zr(n,O)),B.cancelled?(R&&zr(n,T),D&&D(n)):L&&L(n),n._enterCb=null});t.data.show||ue(t,"insert",function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),N&&N(n,B)}),A&&A(n),R&&(Rr(n,T),Rr(n,O),Pr(function(){zr(n,T),B.cancelled||(Rr(n,E),z||(Yr(j)?setTimeout(B,j):Br(n,l,B)))})),t.data.show&&(e&&e(),N&&N(n,B)),R||z||B()}}}function Ur(t,e){var n=t.elm;r(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=Ir(t.data.transition);if(i(o)||1!==n.nodeType)return e();if(!r(n._leaveCb)){var a=o.css,l=o.type,u=o.leaveClass,c=o.leaveToClass,h=o.leaveActiveClass,d=o.beforeLeave,f=o.leave,g=o.afterLeave,v=o.leaveCancelled,m=o.delayLeave,y=o.duration,b=!1!==a&&!K,x=Jr(f),w=p(s(y)?y.leave:y);0;var _=n._leaveCb=P(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(zr(n,c),zr(n,h)),_.cancelled?(b&&zr(n,u),v&&v(n)):(e(),g&&g(n)),n._leaveCb=null});m?m(S):S()}function S(){_.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),b&&(Rr(n,u),Rr(n,h),Pr(function(){zr(n,u),_.cancelled||(Rr(n,c),x||(Yr(w)?setTimeout(_,w):Br(n,l,_)))})),f&&f(n,_),b||x||_())}}function Yr(t){return"number"==typeof t&&!isNaN(t)}function Jr(t){if(i(t))return!1;var e=t.fns;return r(e)?Jr(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Qr(t,e){!0!==e.data.show&&Hr(e)}var Zr=function(t){var e,n,s={},l=t.modules,u=t.nodeOps;for(e=0;e<li.length;++e)for(s[li[e]]=[],n=0;n<l.length;++n)r(l[n][li[e]])&&s[li[e]].push(l[n][li[e]]);function c(t){var e=u.parentNode(t);r(e)&&u.removeChild(e,t)}function h(t,e,n,i,a,l,c){if(r(t.elm)&&r(l)&&(t=l[c]=xt(t)),t.isRootInsert=!a,!function(t,e,n,i){var a=t.data;if(r(a)){var l=r(t.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(t,!1),r(t.componentInstance))return d(t,e),f(n,t.elm,i),o(l)&&function(t,e,n,i){for(var o,a=t;a.componentInstance;)if(a=a.componentInstance._vnode,r(o=a.data)&&r(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](si,a);e.push(a);break}f(n,t.elm,i)}(t,e,n,i),!0}}(t,e,n,i)){var h=t.data,g=t.children,v=t.tag;r(v)?(t.elm=t.ns?u.createElementNS(t.ns,v):u.createElement(v,t),y(t),p(t,g,e),r(h)&&m(t,e),f(n,t.elm,i)):o(t.isComment)?(t.elm=u.createComment(t.text),f(n,t.elm,i)):(t.elm=u.createTextNode(t.text),f(n,t.elm,i))}}function d(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,v(t)?(m(t,e),y(t)):(ai(t),e.push(t))}function f(t,e,n){r(t)&&(r(n)?u.parentNode(n)===t&&u.insertBefore(t,e,n):u.appendChild(t,e))}function p(t,e,n){if(Array.isArray(e))for(var i=0;i<e.length;++i)h(e[i],n,t.elm,null,!0,e,i);else a(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function v(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return r(t.tag)}function m(t,n){for(var i=0;i<s.create.length;++i)s.create[i](si,t);r(e=t.data.hook)&&(r(e.create)&&e.create(si,t),r(e.insert)&&n.push(t))}function y(t){var e;if(r(e=t.fnScopeId))u.setStyleScope(t.elm,e);else for(var n=t;n;)r(e=n.context)&&r(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),n=n.parent;r(e=qe)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function b(t,e,n,i,r,o){for(;i<=r;++i)h(n[i],o,t,e,!1,n,i)}function x(t){var e,n,i=t.data;if(r(i))for(r(e=i.hook)&&r(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)x(t.children[n])}function w(t,e,n){for(;e<=n;++e){var i=t[e];r(i)&&(r(i.tag)?(_(i),x(i)):c(i.elm))}}function _(t,e){if(r(e)||r(t.data)){var n,i=s.remove.length+1;for(r(e)?e.listeners+=i:e=function(t,e){function n(){0==--n.listeners&&c(t)}return n.listeners=e,n}(t.elm,i),r(n=t.componentInstance)&&r(n=n._vnode)&&r(n.data)&&_(n,e),n=0;n<s.remove.length;++n)s.remove[n](t,e);r(n=t.data.hook)&&r(n=n.remove)?n(t,e):e()}else c(t.elm)}function S(t,e,n,i){for(var o=n;o<i;o++){var a=e[o];if(r(a)&&ui(t,a))return o}}function M(t,e,n,a,l,c){if(t!==e){r(e.elm)&&r(a)&&(e=a[l]=xt(e));var d=e.elm=t.elm;if(o(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?k(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,p=e.data;r(p)&&r(f=p.hook)&&r(f=f.prepatch)&&f(t,e);var g=t.children,m=e.children;if(r(p)&&v(e)){for(f=0;f<s.update.length;++f)s.update[f](t,e);r(f=p.hook)&&r(f=f.update)&&f(t,e)}i(e.text)?r(g)&&r(m)?g!==m&&function(t,e,n,o,a){for(var s,l,c,d=0,f=0,p=e.length-1,g=e[0],v=e[p],m=n.length-1,y=n[0],x=n[m],_=!a;d<=p&&f<=m;)i(g)?g=e[++d]:i(v)?v=e[--p]:ui(g,y)?(M(g,y,o,n,f),g=e[++d],y=n[++f]):ui(v,x)?(M(v,x,o,n,m),v=e[--p],x=n[--m]):ui(g,x)?(M(g,x,o,n,m),_&&u.insertBefore(t,g.elm,u.nextSibling(v.elm)),g=e[++d],x=n[--m]):ui(v,y)?(M(v,y,o,n,f),_&&u.insertBefore(t,v.elm,g.elm),v=e[--p],y=n[++f]):(i(s)&&(s=ci(e,d,p)),i(l=r(y.key)?s[y.key]:S(y,e,d,p))?h(y,o,t,g.elm,!1,n,f):ui(c=e[l],y)?(M(c,y,o,n,f),e[l]=void 0,_&&u.insertBefore(t,c.elm,g.elm)):h(y,o,t,g.elm,!1,n,f),y=n[++f]);d>p?b(t,i(n[m+1])?null:n[m+1].elm,n,f,m,o):f>m&&w(e,d,p)}(d,g,m,n,c):r(m)?(r(t.text)&&u.setTextContent(d,""),b(d,null,m,0,m.length-1,n)):r(g)?w(g,0,g.length-1):r(t.text)&&u.setTextContent(d,""):t.text!==e.text&&u.setTextContent(d,e.text),r(p)&&r(f=p.hook)&&r(f=f.postpatch)&&f(t,e)}}}function C(t,e,n){if(o(n)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var I=g("attrs,class,staticClass,staticStyle,key");function k(t,e,n,i){var a,s=e.tag,l=e.data,u=e.children;if(i=i||l&&l.pre,e.elm=t,o(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(l)&&(r(a=l.hook)&&r(a=a.init)&&a(e,!0),r(a=e.componentInstance)))return d(e,n),!0;if(r(s)){if(r(u))if(t.hasChildNodes())if(r(a=l)&&r(a=a.domProps)&&r(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var c=!0,h=t.firstChild,f=0;f<u.length;f++){if(!h||!k(h,u[f],n,i)){c=!1;break}h=h.nextSibling}if(!c||h)return!1}else p(e,u,n);if(r(l)){var g=!1;for(var v in l)if(!I(v)){g=!0,m(e,n);break}!g&&l.class&&oe(l.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!i(e)){var l,c=!1,d=[];if(i(t))c=!0,h(e,d);else{var f=r(t.nodeType);if(!f&&ui(t,e))M(t,e,d,null,null,a);else{if(f){if(1===t.nodeType&&t.hasAttribute(R)&&(t.removeAttribute(R),n=!0),o(n)&&k(t,e,d))return C(e,d,!0),t;l=t,t=new vt(u.tagName(l).toLowerCase(),{},[],void 0,l)}var p=t.elm,g=u.parentNode(p);if(h(e,d,p._leaveCb?null:g,u.nextSibling(p)),r(e.parent))for(var m=e.parent,y=v(e);m;){for(var b=0;b<s.destroy.length;++b)s.destroy[b](m);if(m.elm=e.elm,y){for(var _=0;_<s.create.length;++_)s.create[_](si,m);var S=m.data.hook.insert;if(S.merged)for(var I=1;I<S.fns.length;I++)S.fns[I]()}else ai(m);m=m.parent}r(g)?w([t],0,0):r(t.tag)&&x(t)}}return C(e,d,c),e.elm}r(t)&&x(t)}}({nodeOps:ri,modules:[wi,Oi,lr,hr,_r,J?{create:Qr,activate:Qr,remove:function(t,e){!0!==t.data.show?Ur(t,e):e()}}:{}].concat(mi)});K&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&io(t,"input")});var $r={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?ue(n,"postpatch",function(){$r.componentUpdated(t,e,n)}):Xr(t,e,n.context),t._vOptions=[].map.call(t.options,to)):("textarea"===n.tag||ni(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",eo),t.addEventListener("compositionend",no),t.addEventListener("change",no),K&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Xr(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,to);if(r.some(function(t,e){return!D(t,i[e])}))(t.multiple?e.value.some(function(t){return qr(t,r)}):e.value!==e.oldValue&&qr(e.value,r))&&io(t,"change")}}};function Xr(t,e,n){Kr(t,e,n),(X||q)&&setTimeout(function(){Kr(t,e,n)},0)}function Kr(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var o,a,s=0,l=t.options.length;s<l;s++)if(a=t.options[s],r)o=j(i,to(a))>-1,a.selected!==o&&(a.selected=o);else if(D(to(a),i))return void(t.selectedIndex!==s&&(t.selectedIndex=s));r||(t.selectedIndex=-1)}}function qr(t,e){return e.every(function(e){return!D(e,t)})}function to(t){return"_value"in t?t._value:t.value}function eo(t){t.target.composing=!0}function no(t){t.target.composing&&(t.target.composing=!1,io(t.target,"input"))}function io(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function ro(t){return!t.componentInstance||t.data&&t.data.transition?t:ro(t.componentInstance._vnode)}var oo={model:$r,show:{bind:function(t,e,n){var i=e.value,r=(n=ro(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,Hr(n,function(){t.style.display=o})):t.style.display=i?o:"none"},update:function(t,e,n){var i=e.value;!i!=!e.oldValue&&((n=ro(n)).data&&n.data.transition?(n.data.show=!0,i?Hr(n,function(){t.style.display=t.__vOriginalDisplay}):Ur(n,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}}},ao={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function so(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?so(Qe(e.children)):t}function lo(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var o in r)e[S(o)]=r[o];return e}function uo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var co=function(t){return t.tag||ve(t)},ho=function(t){return"show"===t.name},fo={name:"transition",props:ao,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(co)).length){0;var i=this.mode;0;var r=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return r;var o=so(r);if(!o)return r;if(this._leaving)return uo(t,r);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var l=(o.data||(o.data={})).transition=lo(this),u=this._vnode,c=so(u);if(o.data.directives&&o.data.directives.some(ho)&&(o.data.show=!0),c&&c.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,c)&&!ve(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var h=c.data.transition=O({},l);if("out-in"===i)return this._leaving=!0,ue(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),uo(t,r);if("in-out"===i){if(ve(o))return u;var d,f=function(){d()};ue(l,"afterEnter",f),ue(l,"enterCancelled",f),ue(h,"delayLeave",function(t){d=t})}}return r}}},po=O({tag:String,moveClass:String},ao);function go(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function vo(t){t.data.newPos=t.elm.getBoundingClientRect()}function mo(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}delete po.mode;var yo={Transition:fo,TransitionGroup:{props:po,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=tn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],a=lo(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a;else;}if(i){for(var u=[],c=[],h=0;h<i.length;h++){var d=i[h];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?u.push(d):c.push(d)}this.kept=t(e,null,u),this.removed=c}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(go),t.forEach(vo),t.forEach(mo),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,i=n.style;Rr(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Nr,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(Nr,t),n._moveCb=null,zr(n,e))})}}))},methods:{hasMove:function(t,e){if(!Tr)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Cr(n,t)}),Mr(n,e),n.style.display="none",this.$el.appendChild(n);var i=Gr(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};kn.config.mustUseProp=Rn,kn.config.isReservedTag=qn,kn.config.isReservedAttr=jn,kn.config.getTagNamespace=ti,kn.config.isUnknownElement=function(t){if(!J)return!0;if(qn(t))return!1;if(t=t.toLowerCase(),null!=ei[t])return ei[t];var e=document.createElement(t);return t.indexOf("-")>-1?ei[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ei[t]=/HTMLUnknownElement/.test(e.toString())},O(kn.options.directives,oo),O(kn.options.components,yo),kn.prototype.__patch__=J?Zr:A,kn.prototype.$mount=function(t,e){return function(t,e,n){return t.$el=e,t.$options.render||(t.$options.render=yt),rn(t,"beforeMount"),new vn(t,function(){t._update(t._render(),n)},A,{before:function(){t._isMounted&&!t._isDestroyed&&rn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,rn(t,"mounted")),t}(this,t=t&&J?ii(t):void 0,e)},J&&setTimeout(function(){F.devtools&&at&&at.emit("init",kn)},0);var bo=/\{\{((?:.|\r?\n)+?)\}\}/g,xo=/[-.*+?^${}()|[\]\/\\]/g,wo=w(function(t){var e=t[0].replace(xo,"\\$&"),n=t[1].replace(xo,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")});function _o(t,e){var n=e?wo(e):bo;if(n.test(t)){for(var i,r,o,a=[],s=[],l=n.lastIndex=0;i=n.exec(t);){(r=i.index)>l&&(s.push(o=t.slice(l,r)),a.push(JSON.stringify(o)));var u=Ai(i[1].trim());a.push("_s("+u+")"),s.push({"@binding":u}),l=r+i[0].length}return l<t.length&&(s.push(o=t.slice(l)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}var So={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=Wi(t,"class");n&&(t.staticClass=JSON.stringify(n));var i=Vi(t,"class",!1);i&&(t.classBinding=i)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}};var Mo,Co={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=Wi(t,"style");n&&(t.staticStyle=JSON.stringify(dr(n)));var i=Vi(t,"style",!1);i&&(t.styleBinding=i)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},Io=function(t){return(Mo=Mo||document.createElement("div")).innerHTML=t,Mo.textContent},ko=g("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),To=g("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Oo=g("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Eo=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Ao=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,No="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+G.source+"]*",Lo="((?:"+No+"\\:)?"+No+")",Do=new RegExp("^<"+Lo),jo=/^\s*(\/?)>/,Po=new RegExp("^<\\/"+Lo+"[^>]*>"),Ro=/^<!DOCTYPE [^>]+>/i,zo=/^<!\--/,Bo=/^<!\[/,Fo=g("script,style,textarea",!0),Go={},Vo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Wo=/&(?:lt|gt|quot|amp|#39);/g,Ho=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Uo=g("pre,textarea",!0),Yo=function(t,e){return t&&Uo(t)&&"\n"===e[0]};function Jo(t,e){var n=e?Ho:Wo;return t.replace(n,function(t){return Vo[t]})}var Qo,Zo,$o,Xo,Ko,qo,ta,ea,na=/^@|^v-on:/,ia=/^v-|^@|^:|^#/,ra=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,oa=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,aa=/^\(|\)$/g,sa=/^\[.*\]$/,la=/:(.*)$/,ua=/^:|^\.|^v-bind:/,ca=/\.[^.\]]+(?=[^\]]*$)/g,ha=/^v-slot(:|$)|^#/,da=/[\r\n]/,fa=/[ \f\t\r\n]+/g,pa=w(Io),ga="_empty_";function va(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:function(t){for(var e={},n=0,i=t.length;n<i;n++)e[t[n].name]=t[n].value;return e}(e),rawAttrsMap:{},parent:n,children:[]}}function ma(t,e){Qo=e.warn||Li,qo=e.isPreTag||N,ta=e.mustUseProp||N,ea=e.getTagNamespace||N;var n=e.isReservedTag||N;(function(t){return!(!(t.component||t.attrsMap[":is"]||t.attrsMap["v-bind:is"])&&(t.attrsMap.is?n(t.attrsMap.is):n(t.tag)))}),$o=Di(e.modules,"transformNode"),Xo=Di(e.modules,"preTransformNode"),Ko=Di(e.modules,"postTransformNode"),Zo=e.delimiters;var i,r,o=[],a=!1!==e.preserveWhitespace,s=e.whitespace,l=!1,u=!1;function c(t){if(h(t),l||t.processed||(t=ya(t,e)),o.length||t===i||i.if&&(t.elseif||t.else)&&xa(i,{exp:t.elseif,block:t}),r&&!t.forbidden)if(t.elseif||t.else)a=t,(s=function(t){var e=t.length;for(;e--;){if(1===t[e].type)return t[e];t.pop()}}(r.children))&&s.if&&xa(s,{exp:a.elseif,block:a});else{if(t.slotScope){var n=t.slotTarget||'"default"';(r.scopedSlots||(r.scopedSlots={}))[n]=t}r.children.push(t),t.parent=r}var a,s;t.children=t.children.filter(function(t){return!t.slotScope}),h(t),t.pre&&(l=!1),qo(t.tag)&&(u=!1);for(var c=0;c<Ko.length;c++)Ko[c](t,e)}function h(t){if(!u)for(var e;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}return function(t,e){for(var n,i,r=[],o=e.expectHTML,a=e.isUnaryTag||N,s=e.canBeLeftOpenTag||N,l=0;t;){if(n=t,i&&Fo(i)){var u=0,c=i.toLowerCase(),h=Go[c]||(Go[c]=new RegExp("([\\s\\S]*?)(</"+c+"[^>]*>)","i")),d=t.replace(h,function(t,n,i){return u=i.length,Fo(c)||"noscript"===c||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Yo(c,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""});l+=t.length-d.length,t=d,I(c,l-u,l)}else{var f=t.indexOf("<");if(0===f){if(zo.test(t)){var p=t.indexOf("--\x3e");if(p>=0){e.shouldKeepComment&&e.comment(t.substring(4,p),l,l+p+3),S(p+3);continue}}if(Bo.test(t)){var g=t.indexOf("]>");if(g>=0){S(g+2);continue}}var v=t.match(Ro);if(v){S(v[0].length);continue}var m=t.match(Po);if(m){var y=l;S(m[0].length),I(m[1],y,l);continue}var b=M();if(b){C(b),Yo(b.tagName,t)&&S(1);continue}}var x=void 0,w=void 0,_=void 0;if(f>=0){for(w=t.slice(f);!(Po.test(w)||Do.test(w)||zo.test(w)||Bo.test(w)||(_=w.indexOf("<",1))<0);)f+=_,w=t.slice(f);x=t.substring(0,f)}f<0&&(x=t),x&&S(x.length),e.chars&&x&&e.chars(x,l-x.length,l)}if(t===n){e.chars&&e.chars(t);break}}function S(e){l+=e,t=t.substring(e)}function M(){var e=t.match(Do);if(e){var n,i,r={tagName:e[1],attrs:[],start:l};for(S(e[0].length);!(n=t.match(jo))&&(i=t.match(Ao)||t.match(Eo));)i.start=l,S(i[0].length),i.end=l,r.attrs.push(i);if(n)return r.unarySlash=n[1],S(n[0].length),r.end=l,r}}function C(t){var n=t.tagName,l=t.unarySlash;o&&("p"===i&&Oo(n)&&I(i),s(n)&&i===n&&I(n));for(var u=a(n)||!!l,c=t.attrs.length,h=new Array(c),d=0;d<c;d++){var f=t.attrs[d],p=f[3]||f[4]||f[5]||"",g="a"===n&&"href"===f[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;h[d]={name:f[1],value:Jo(p,g)}}u||(r.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:h,start:t.start,end:t.end}),i=n),e.start&&e.start(n,h,u,t.start,t.end)}function I(t,n,o){var a,s;if(null==n&&(n=l),null==o&&(o=l),t)for(s=t.toLowerCase(),a=r.length-1;a>=0&&r[a].lowerCasedTag!==s;a--);else a=0;if(a>=0){for(var u=r.length-1;u>=a;u--)e.end&&e.end(r[u].tag,n,o);r.length=a,i=a&&r[a-1].tag}else"br"===s?e.start&&e.start(t,[],!0,n,o):"p"===s&&(e.start&&e.start(t,[],!1,n,o),e.end&&e.end(t,n,o))}I()}(t,{warn:Qo,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,n,a,s,h){var d=r&&r.ns||ea(t);X&&"svg"===d&&(n=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];Sa.test(i.name)||(i.name=i.name.replace(Ma,""),e.push(i))}return e}(n));var f,p=va(t,n,r);d&&(p.ns=d),"style"!==(f=p).tag&&("script"!==f.tag||f.attrsMap.type&&"text/javascript"!==f.attrsMap.type)||ot()||(p.forbidden=!0);for(var g=0;g<Xo.length;g++)p=Xo[g](p,e)||p;l||(!function(t){null!=Wi(t,"v-pre")&&(t.pre=!0)}(p),p.pre&&(l=!0)),qo(p.tag)&&(u=!0),l?function(t){var e=t.attrsList,n=e.length;if(n)for(var i=t.attrs=new Array(n),r=0;r<n;r++)i[r]={name:e[r].name,value:JSON.stringify(e[r].value)},null!=e[r].start&&(i[r].start=e[r].start,i[r].end=e[r].end);else t.pre||(t.plain=!0)}(p):p.processed||(ba(p),function(t){var e=Wi(t,"v-if");if(e)t.if=e,xa(t,{exp:e,block:t});else{null!=Wi(t,"v-else")&&(t.else=!0);var n=Wi(t,"v-else-if");n&&(t.elseif=n)}}(p),function(t){null!=Wi(t,"v-once")&&(t.once=!0)}(p)),i||(i=p),a?c(p):(r=p,o.push(p))},end:function(t,e,n){var i=o[o.length-1];o.length-=1,r=o[o.length-1],c(i)},chars:function(t,e,n){if(r&&(!X||"textarea"!==r.tag||r.attrsMap.placeholder!==t)){var i,o,c,h=r.children;if(t=u||t.trim()?"script"===(i=r).tag||"style"===i.tag?t:pa(t):h.length?s?"condense"===s&&da.test(t)?"":" ":a?" ":"":"")u||"condense"!==s||(t=t.replace(fa," ")),!l&&" "!==t&&(o=_o(t,Zo))?c={type:2,expression:o.expression,tokens:o.tokens,text:t}:" "===t&&h.length&&" "===h[h.length-1].text||(c={type:3,text:t}),c&&h.push(c)}},comment:function(t,e,n){if(r){var i={type:3,text:t,isComment:!0};0,r.children.push(i)}}}),i}function ya(t,e){var n,i;!function(t){var e=Vi(t,"key");if(e){t.key=e}}(t),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,(i=Vi(n=t,"ref"))&&(n.ref=i,n.refInFor=function(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(n)),function(t){var e;"template"===t.tag?(e=Wi(t,"scope"),t.slotScope=e||Wi(t,"slot-scope")):(e=Wi(t,"slot-scope"))&&(t.slotScope=e);var n=Vi(t,"slot");n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||Pi(t,"slot",n,Gi(t,"slot")));if("template"===t.tag){var i=Hi(t,ha);if(i){0;var r=wa(i),o=r.name,a=r.dynamic;t.slotTarget=o,t.slotTargetDynamic=a,t.slotScope=i.value||ga}}else{var s=Hi(t,ha);if(s){0;var l=t.scopedSlots||(t.scopedSlots={}),u=wa(s),c=u.name,h=u.dynamic,d=l[c]=va("template",[],t);d.slotTarget=c,d.slotTargetDynamic=h,d.children=t.children.filter(function(t){if(!t.slotScope)return t.parent=d,!0}),d.slotScope=s.value||ga,t.children=[],t.plain=!1}}}(t),function(t){"slot"===t.tag&&(t.slotName=Vi(t,"name"))}(t),function(t){var e;(e=Vi(t,"is"))&&(t.component=e);null!=Wi(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var r=0;r<$o.length;r++)t=$o[r](t,e)||t;return function(t){var e,n,i,r,o,a,s,l,u=t.attrsList;for(e=0,n=u.length;e<n;e++){if(i=r=u[e].name,o=u[e].value,ia.test(i))if(t.hasBindings=!0,(a=_a(i.replace(ia,"")))&&(i=i.replace(ca,"")),ua.test(i))i=i.replace(ua,""),o=Ai(o),(l=sa.test(i))&&(i=i.slice(1,-1)),a&&(a.prop&&!l&&"innerHtml"===(i=S(i))&&(i="innerHTML"),a.camel&&!l&&(i=S(i)),a.sync&&(s=Ji(o,"$event"),l?Fi(t,'"update:"+('+i+")",s,null,!1,0,u[e],!0):(Fi(t,"update:"+S(i),s,null,!1,0,u[e]),I(i)!==S(i)&&Fi(t,"update:"+I(i),s,null,!1,0,u[e])))),a&&a.prop||!t.component&&ta(t.tag,t.attrsMap.type,i)?ji(t,i,o,u[e],l):Pi(t,i,o,u[e],l);else if(na.test(i))i=i.replace(na,""),(l=sa.test(i))&&(i=i.slice(1,-1)),Fi(t,i,o,a,!1,0,u[e],l);else{var c=(i=i.replace(ia,"")).match(la),h=c&&c[1];l=!1,h&&(i=i.slice(0,-(h.length+1)),sa.test(h)&&(h=h.slice(1,-1),l=!0)),zi(t,i,r,o,h,l,a,u[e])}else Pi(t,i,JSON.stringify(o),u[e]),!t.component&&"muted"===i&&ta(t.tag,t.attrsMap.type,i)&&ji(t,i,"true",u[e])}}(t),t}function ba(t){var e;if(e=Wi(t,"v-for")){var n=function(t){var e=t.match(ra);if(!e)return;var n={};n.for=e[2].trim();var i=e[1].trim().replace(aa,""),r=i.match(oa);r?(n.alias=i.replace(oa,"").trim(),n.iterator1=r[1].trim(),r[2]&&(n.iterator2=r[2].trim())):n.alias=i;return n}(e);n&&O(t,n)}}function xa(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function wa(t){var e=t.name.replace(ha,"");return e||"#"!==t.name[0]&&(e="default"),sa.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'+e+'"',dynamic:!1}}function _a(t){var e=t.match(ca);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}var Sa=/^xmlns:NS\d+/,Ma=/^NS\d+:/;function Ca(t){return va(t.tag,t.attrsList.slice(),t.parent)}var Ia=[So,Co,{preTransformNode:function(t,e){if("input"===t.tag){var n,i=t.attrsMap;if(!i["v-model"])return;if((i[":type"]||i["v-bind:type"])&&(n=Vi(t,"type")),i.type||n||!i["v-bind"]||(n="("+i["v-bind"]+").type"),n){var r=Wi(t,"v-if",!0),o=r?"&&("+r+")":"",a=null!=Wi(t,"v-else",!0),s=Wi(t,"v-else-if",!0),l=Ca(t);ba(l),Ri(l,"type","checkbox"),ya(l,e),l.processed=!0,l.if="("+n+")==='checkbox'"+o,xa(l,{exp:l.if,block:l});var u=Ca(t);Wi(u,"v-for",!0),Ri(u,"type","radio"),ya(u,e),xa(l,{exp:"("+n+")==='radio'"+o,block:u});var c=Ca(t);return Wi(c,"v-for",!0),Ri(c,":type",n),ya(c,e),xa(l,{exp:r,block:c}),a?l.else=!0:s&&(l.elseif=s),l}}}}];var ka,Ta,Oa={expectHTML:!0,modules:Ia,directives:{model:function(t,e,n){n;var i=e.value,r=e.modifiers,o=t.tag,a=t.attrsMap.type;if(t.component)return Yi(t,i,r),!1;if("select"===o)!function(t,e,n){var i='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";i=i+" "+Ji(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),Fi(t,"change",i,null,!0)}(t,i,r);else if("input"===o&&"checkbox"===a)!function(t,e,n){var i=n&&n.number,r=Vi(t,"value")||"null",o=Vi(t,"true-value")||"true",a=Vi(t,"false-value")||"false";ji(t,"checked","Array.isArray("+e+")?_i("+e+","+r+")>-1"+("true"===o?":("+e+")":":_q("+e+","+o+")")),Fi(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(i?"_n("+r+")":r)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Ji(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Ji(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Ji(e,"$$c")+"}",null,!0)}(t,i,r);else if("input"===o&&"radio"===a)!function(t,e,n){var i=n&&n.number,r=Vi(t,"value")||"null";ji(t,"checked","_q("+e+","+(r=i?"_n("+r+")":r)+")"),Fi(t,"change",Ji(e,r),null,!0)}(t,i,r);else if("input"===o||"textarea"===o)!function(t,e,n){var i=t.attrsMap.type,r=n||{},o=r.lazy,a=r.number,s=r.trim,l=!o&&"range"!==i,u=o?"change":"range"===i?tr:"input",c="$event.target.value";s&&(c="$event.target.value.trim()"),a&&(c="_n("+c+")");var h=Ji(e,c);l&&(h="if($event.target.composing)return;"+h),ji(t,"value","("+e+")"),Fi(t,u,h,null,!0),(s||a)&&Fi(t,"blur","$forceUpdate()")}(t,i,r);else if(!F.isReservedTag(o))return Yi(t,i,r),!1;return!0},text:function(t,e){e.value&&ji(t,"textContent","_s("+e.value+")",e)},html:function(t,e){e.value&&ji(t,"innerHTML","_s("+e.value+")",e)}},isPreTag:function(t){return"pre"===t},isUnaryTag:ko,mustUseProp:Rn,canBeLeftOpenTag:To,isReservedTag:qn,getTagNamespace:ti,staticKeys:function(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}(Ia)},Ea=w(function(t){return g("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))});function Aa(t,e){t&&(ka=Ea(e.staticKeys||""),Ta=e.isReservedTag||N,function t(e){e.static=function(t){if(2===t.type)return!1;if(3===t.type)return!0;return!(!t.pre&&(t.hasBindings||t.if||t.for||v(t.tag)||!Ta(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(ka)))}(e);if(1===e.type){if(!Ta(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var n=0,i=e.children.length;n<i;n++){var r=e.children[n];t(r),r.static||(e.static=!1)}if(e.ifConditions)for(var o=1,a=e.ifConditions.length;o<a;o++){var s=e.ifConditions[o].block;t(s),s.static||(e.static=!1)}}}(t),function t(e,n){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=n),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var i=0,r=e.children.length;i<r;i++)t(e.children[i],n||!!e.for);if(e.ifConditions)for(var o=1,a=e.ifConditions.length;o<a;o++)t(e.ifConditions[o].block,n)}}(t,!1))}var Na=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,La=/\([^)]*?\);*$/,Da=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,ja={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Pa={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Ra=function(t){return"if("+t+")return null;"},za={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Ra("$event.target !== $event.currentTarget"),ctrl:Ra("!$event.ctrlKey"),shift:Ra("!$event.shiftKey"),alt:Ra("!$event.altKey"),meta:Ra("!$event.metaKey"),left:Ra("'button' in $event && $event.button !== 0"),middle:Ra("'button' in $event && $event.button !== 1"),right:Ra("'button' in $event && $event.button !== 2")};function Ba(t,e){var n=e?"nativeOn:":"on:",i="",r="";for(var o in t){var a=Fa(t[o]);t[o]&&t[o].dynamic?r+=o+","+a+",":i+='"'+o+'":'+a+","}return i="{"+i.slice(0,-1)+"}",r?n+"_d("+i+",["+r.slice(0,-1)+"])":n+i}function Fa(t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map(function(t){return Fa(t)}).join(",")+"]";var e=Da.test(t.value),n=Na.test(t.value),i=Da.test(t.value.replace(La,""));if(t.modifiers){var r="",o="",a=[];for(var s in t.modifiers)if(za[s])o+=za[s],ja[s]&&a.push(s);else if("exact"===s){var l=t.modifiers;o+=Ra(["ctrl","shift","alt","meta"].filter(function(t){return!l[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else a.push(s);return a.length&&(r+=function(t){return"if(!$event.type.indexOf('key')&&"+t.map(Ga).join("&&")+")return null;"}(a)),o&&(r+=o),"function($event){"+r+(e?"return "+t.value+".apply(null, arguments)":n?"return ("+t.value+").apply(null, arguments)":i?"return "+t.value:t.value)+"}"}return e||n?t.value:"function($event){"+(i?"return "+t.value:t.value)+"}"}function Ga(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=ja[t],i=Pa[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(i)+")"}var Va={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:A},Wa=function(t){this.options=t,this.warn=t.warn||Li,this.transforms=Di(t.modules,"transformCode"),this.dataGenFns=Di(t.modules,"genData"),this.directives=O(O({},Va),t.directives);var e=t.isReservedTag||N;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Ha(t,e){var n=new Wa(e);return{render:"with(this){return "+(t?"script"===t.tag?"null":Ua(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Ua(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return Ya(t,e);if(t.once&&!t.onceProcessed)return Ja(t,e);if(t.for&&!t.forProcessed)return Za(t,e);if(t.if&&!t.ifProcessed)return Qa(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',i=qa(t,e),r="_t("+n+(i?",function(){return "+i+"}":""),o=t.attrs||t.dynamicAttrs?ns((t.attrs||[]).concat(t.dynamicAttrs||[]).map(function(t){return{name:S(t.name),value:t.value,dynamic:t.dynamic}})):null,a=t.attrsMap["v-bind"];!o&&!a||i||(r+=",null");o&&(r+=","+o);a&&(r+=(o?"":",null")+","+a);return r+")"}(t,e);var n;if(t.component)n=function(t,e,n){var i=e.inlineTemplate?null:qa(e,n,!0);return"_c("+t+","+$a(e,n)+(i?","+i:"")+")"}(t.component,t,e);else{var i;(!t.plain||t.pre&&e.maybeComponent(t))&&(i=$a(t,e));var r=t.inlineTemplate?null:qa(t,e,!0);n="_c('"+t.tag+"'"+(i?","+i:"")+(r?","+r:"")+")"}for(var o=0;o<e.transforms.length;o++)n=e.transforms[o](t,n);return n}return qa(t,e)||"void 0"}function Ya(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return "+Ua(t,e)+"}"),e.pre=n,"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function Ja(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Qa(t,e);if(t.staticInFor){for(var n="",i=t.parent;i;){if(i.for){n=i.key;break}i=i.parent}return n?"_o("+Ua(t,e)+","+e.onceId+++","+n+")":Ua(t,e)}return Ya(t,e)}function Qa(t,e,n,i){return t.ifProcessed=!0,function t(e,n,i,r){if(!e.length)return r||"_e()";var o=e.shift();return o.exp?"("+o.exp+")?"+a(o.block)+":"+t(e,n,i,r):""+a(o.block);function a(t){return i?i(t,n):t.once?Ja(t,n):Ua(t,n)}}(t.ifConditions.slice(),e,n,i)}function Za(t,e,n,i){var r=t.for,o=t.alias,a=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(i||"_l")+"(("+r+"),function("+o+a+s+"){return "+(n||Ua)(t,e)+"})"}function $a(t,e){var n="{",i=function(t,e){var n=t.directives;if(!n)return;var i,r,o,a,s="directives:[",l=!1;for(i=0,r=n.length;i<r;i++){o=n[i],a=!0;var u=e.directives[o.name];u&&(a=!!u(t,o,e.warn)),a&&(l=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?",arg:"+(o.isDynamicArg?o.arg:'"'+o.arg+'"'):"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}if(l)return s.slice(0,-1)+"]"}(t,e);i&&(n+=i+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var r=0;r<e.dataGenFns.length;r++)n+=e.dataGenFns[r](t);if(t.attrs&&(n+="attrs:"+ns(t.attrs)+","),t.props&&(n+="domProps:"+ns(t.props)+","),t.events&&(n+=Ba(t.events,!1)+","),t.nativeEvents&&(n+=Ba(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=function(t,e,n){var i=t.for||Object.keys(e).some(function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||Xa(n)}),r=!!t.if;if(!i)for(var o=t.parent;o;){if(o.slotScope&&o.slotScope!==ga||o.for){i=!0;break}o.if&&(r=!0),o=o.parent}var a=Object.keys(e).map(function(t){return Ka(e[t],n)}).join(",");return"scopedSlots:_u(["+a+"]"+(i?",null,true":"")+(!i&&r?",null,false,"+function(t){var e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(a):"")+")"}(t,t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=function(t,e){var n=t.children[0];0;if(n&&1===n.type){var i=Ha(n,e.options);return"inlineTemplate:{render:function(){"+i.render+"},staticRenderFns:["+i.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}(t,e);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b("+n+',"'+t.tag+'",'+ns(t.dynamicAttrs)+")"),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function Xa(t){return 1===t.type&&("slot"===t.tag||t.children.some(Xa))}function Ka(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return Qa(t,e,Ka,"null");if(t.for&&!t.forProcessed)return Za(t,e,Ka);var i=t.slotScope===ga?"":String(t.slotScope),r="function("+i+"){return "+("template"===t.tag?t.if&&n?"("+t.if+")?"+(qa(t,e)||"undefined")+":undefined":qa(t,e)||"undefined":Ua(t,e))+"}",o=i?"":",proxy:true";return"{key:"+(t.slotTarget||'"default"')+",fn:"+r+o+"}"}function qa(t,e,n,i,r){var o=t.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag){var s=n?e.maybeComponent(a)?",1":",0":"";return""+(i||Ua)(a,e)+s}var l=n?function(t,e){for(var n=0,i=0;i<t.length;i++){var r=t[i];if(1===r.type){if(ts(r)||r.ifConditions&&r.ifConditions.some(function(t){return ts(t.block)})){n=2;break}(e(r)||r.ifConditions&&r.ifConditions.some(function(t){return e(t.block)}))&&(n=1)}}return n}(o,e.maybeComponent):0,u=r||es;return"["+o.map(function(t){return u(t,e)}).join(",")+"]"+(l?","+l:"")}}function ts(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function es(t,e){return 1===t.type?Ua(t,e):3===t.type&&t.isComment?(i=t,"_e("+JSON.stringify(i.text)+")"):"_v("+(2===(n=t).type?n.expression:is(JSON.stringify(n.text)))+")";var n,i}function ns(t){for(var e="",n="",i=0;i<t.length;i++){var r=t[i],o=is(r.value);r.dynamic?n+=r.name+","+o+",":e+='"'+r.name+'":'+o+","}return e="{"+e.slice(0,-1)+"}",n?"_d("+e+",["+n.slice(0,-1)+"])":e}function is(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function rs(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),A}}function os(t){var e=Object.create(null);return function(n,i,r){(i=O({},i)).warn;delete i.warn;var o=i.delimiters?String(i.delimiters)+n:n;if(e[o])return e[o];var a=t(n,i);var s={},l=[];return s.render=rs(a.render,l),s.staticRenderFns=a.staticRenderFns.map(function(t){return rs(t,l)}),e[o]=s}}var as,ss,ls=(as=function(t,e){var n=ma(t.trim(),e);!1!==e.optimize&&Aa(n,e);var i=Ha(n,e);return{ast:n,render:i.render,staticRenderFns:i.staticRenderFns}},function(t){function e(e,n){var i=Object.create(t),r=[],o=[],a=function(t,e,n){(n?o:r).push(t)};if(n)for(var s in n.modules&&(i.modules=(t.modules||[]).concat(n.modules)),n.directives&&(i.directives=O(Object.create(t.directives||null),n.directives)),n)"modules"!==s&&"directives"!==s&&(i[s]=n[s]);i.warn=a;var l=as(e.trim(),i);return l.errors=r,l.tips=o,l}return{compile:e,compileToFunctions:os(e)}})(Oa),us=(ls.compile,ls.compileToFunctions);function cs(t){return(ss=ss||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',ss.innerHTML.indexOf("&#10;")>0}var hs=!!J&&cs(!1),ds=!!J&&cs(!0),fs=w(function(t){var e=ii(t);return e&&e.innerHTML}),ps=kn.prototype.$mount;kn.prototype.$mount=function(t,e){if((t=t&&ii(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var i=n.template;if(i)if("string"==typeof i)"#"===i.charAt(0)&&(i=fs(i));else{if(!i.nodeType)return this;i=i.innerHTML}else t&&(i=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(i){0;var r=us(i,{outputSourceRange:!1,shouldDecodeNewlines:hs,shouldDecodeNewlinesForHref:ds,delimiters:n.delimiters,comments:n.comments},this),o=r.render,a=r.staticRenderFns;n.render=o,n.staticRenderFns=a}}return ps.call(this,t,e)},kn.compile=us,e.default=kn}.call(e,n("DuR2"))},"72Lu":function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},"77Pl":function(t,e,n){var i=n("EqjI");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},"7GwW":function(t,e,n){"use strict";var i=n("cGG2"),r=n("21It"),o=n("DQCr"),a=n("oJlt"),s=n("GHBc"),l=n("FtD3"),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n("thJu");t.exports=function(t){return new Promise(function(e,c){var h=t.data,d=t.headers;i.isFormData(h)&&delete d["Content-Type"];var f=new XMLHttpRequest,p="onreadystatechange",g=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||s(t.url)||(f=new window.XDomainRequest,p="onload",g=!0,f.onprogress=function(){},f.ontimeout=function(){}),t.auth){var v=t.auth.username||"",m=t.auth.password||"";d.Authorization="Basic "+u(v+":"+m)}if(f.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f[p]=function(){if(f&&(4===f.readyState||g)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:t,request:f};r(e,c,i),f=null}},f.onerror=function(){c(l("Network Error",t,null,f)),f=null},f.ontimeout=function(){c(l("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var y=n("p1b6"),b=(t.withCredentials||s(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;b&&(d[t.xsrfHeaderName]=b)}if("setRequestHeader"in f&&i.forEach(d,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete d[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),c(t),f=null)}),void 0===h&&(h=null),f.send(h)})}},"7KS9":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingToSyntax=void 0;var i=n("tuOO"),r=n("3gih"),o=n("AZN7"),a=n("uCF8"),s=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=r.BindingTypeEnum.Instance,this._binding.implementationType=t,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+i.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=r.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=r.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=r.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=r.BindingTypeEnum.Constructor,this._binding.implementationType=t,this._binding.scope=r.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=r.BindingTypeEnum.Factory,this._binding.factory=t,this._binding.scope=r.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!=typeof t)throw new Error(i.INVALID_FUNCTION_BINDING);var e=this.toConstantValue(t);return this._binding.type=r.BindingTypeEnum.Function,this._binding.scope=r.BindingScopeEnum.Singleton,e},t.prototype.toAutoFactory=function(t){return this._binding.type=r.BindingTypeEnum.Factory,this._binding.factory=function(e){return function(){return e.container.get(t)}},this._binding.scope=r.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=r.BindingTypeEnum.Provider,this._binding.provider=t,this._binding.scope=r.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(t){this.toDynamicValue(function(e){return e.container.get(t)})},t}();e.BindingToSyntax=s},"7KvD":function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"7Mv9":function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}},"7N6o":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOutDegree=e.getInDegree=e.default=void 0;var i=function(t){var e={},n=t.nodes,i=void 0===n?[]:n,r=t.edges,o=void 0===r?[]:r;return i.forEach(function(t){e[t.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(t){e[t.source].degree++,e[t.source].outDegree++,e[t.target].degree++,e[t.target].inDegree++}),e},r=i;e.default=r;e.getInDegree=function(t,e){return i(t)[e]?i(t)[e].inDegree:0};e.getOutDegree=function(t,e){return i(t)[e]?i(t)[e].outDegree:0}},"7UMu":function(t,e,n){var i=n("R9M2");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"7UU1":function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},"7UVn":function(t,e,n){"use strict";n.d(e,"a",function(){return T});var i,r,o,a,s,l,u,c,h,d=n("En79"),f=n.n(d),p=n("7hDC"),g=n.n(p),v=n("dYct"),m=n.n(v),y=n("Z60a"),b=n.n(y),x=n("C9uT"),w=n.n(x),_=n("jb0h"),S=n.n(_),M=n("X6mv"),C=(n.n(M),n("lVvd")),I=n("YulH"),k=(n.n(I),n("Klor")),T=(i=Object(I.injectable)(),r=Object(I.inject)(k.a.HierarchyComponentManager),o=Object(I.inject)(k.a.TransformComponentManager),a=Object(I.inject)(k.a.MeshComponentManager),i((l=function(){function t(){b()(this,t),m()(this,"hierarchy",u,this),m()(this,"transform",c,this),m()(this,"mesh",h,this)}return w()(t,[{key:"execute",value:function(){var t=g()(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var t=this;this.transform.forEach(function(e,n){(n.isDirty()||n.isLocalDirty())&&(t.setMeshAABBDirty(t.mesh.getComponentByEntity(e)),n.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var t=this;this.hierarchy.forEach(function(e,n){var i=t.transform.getComponentByEntity(e),r=t.transform.getComponentByEntity(n.parentID);null!==i&&null!==r&&i.updateTransformWithParent(r)})}},{key:"attach",value:function(t,e,n){this.hierarchy.contains(t)&&this.detach(t),this.hierarchy.create(t,{parentID:e});var i=this.mesh.getComponentByEntity(e);if(this.setMeshAABBDirty(i),i&&-1===i.children.indexOf(t)&&i.children.push(t),this.hierarchy.getCount()>1)for(var r=this.hierarchy.getCount()-1;r>0;--r)for(var o=this.hierarchy.getEntity(r),a=0;a<r;++a){if(this.hierarchy.getComponent(a).parentID===o){this.hierarchy.moveItem(r,a),++r;break}}this.hierarchy.getComponentByEntity(t);var s=this.transform.getComponentByEntity(e);null===s&&(s=this.transform.create(e));var l=this.transform.getComponentByEntity(t);null===l&&(l=this.transform.create(t),s=this.transform.getComponentByEntity(e)),l.parent=s,!n&&s&&(l.matrixTransform(C.b.invert(C.b.create(),s.worldTransform)),l.updateTransform()),s&&l.updateTransformWithParent(s)}},{key:"detach",value:function(t){var e=this.hierarchy.getComponentByEntity(t);if(null!==e){var n=this.transform.getComponentByEntity(t);null!==n&&(n.parent=null,n.applyTransform()),this.hierarchy.removeKeepSorted(t);var i=this.mesh.getComponentByEntity(e.parentID);if(i){var r=i.children.indexOf(t);i.children.splice(r,1)}this.setMeshAABBDirty(i)}}},{key:"detachChildren",value:function(t){var e=this.mesh.getComponentByEntity(t);e&&(e.children=[]);for(var n=0;n<this.hierarchy.getCount();){var i;if((null===(i=this.hierarchy.getComponent(n))||void 0===i?void 0:i.parentID)===t){var r=this.hierarchy.getEntity(n);this.detach(r)}else++n}}},{key:"setMeshAABBDirty",value:function(t){t&&(t.aabbDirty=!0)}}]),t}(),u=S()(l.prototype,"hierarchy",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=S()(l.prototype,"transform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=S()(l.prototype,"mesh",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l))||s)},"7XBT":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingCount=void 0;e.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},"7hDC":function(t,e){function n(t,e,n,i,r,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise(function(r,o){var a=t.apply(e,i);function s(t){n(a,r,o,s,l,"next",t)}function l(t){n(a,r,o,s,l,"throw",t)}s(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},"7tav":function(t,e,n){"use strict";var i=n("xNOx");e.a=i.a},"7u4W":function(t,e){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}},"82Mu":function(t,e,n){var i=n("7KvD"),r=n("L42u").set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n("R9M2")(a);t.exports=function(){var t,e,n,u=function(){var i,r;for(l&&(i=a.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(u)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(u)}}else n=function(){r.call(i,u)};else{var h=!0,d=document.createTextNode("");new o(u).observe(d,{characterData:!0}),n=function(){d.data=h=!h}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},"85Et":function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});var i={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},r={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"}},"880/":function(t,e,n){t.exports=n("hJx8")},"8ALn":function(t,e,n){"use strict";e.b=o,e.a=function(t){var e=r.a[t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var i=o(e);t.get("id")&&(i.id=t.get("id"));if(t.set("el",i),t.set("attrs",{}),n){var a=n.get("el");a?a.appendChild(i):(a=n.createDom(),n.set("el",a),a.appendChild(i))}return i},e.d=function(t,e){var n=t.get("el"),r=Object(i.h)(n.children).sort(e),o=document.createDocumentFragment();r.forEach(function(t){o.appendChild(t)}),n.appendChild(o)},e.c=function(t,e){var n=t.parentNode,i=Array.from(n.childNodes).filter(function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()}),r=i[e],o=i.indexOf(t);if(r){if(o>e)n.insertBefore(t,r);else if(o<e){var a=i[e+1];a?n.insertBefore(t,a):n.appendChild(t)}}else n.appendChild(t)};var i=n("PzsT"),r=n("85Et");function o(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}},"8CPJ":function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}},"8a/n":function(t,e,n){var i;i=function(){"use strict";var t=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},e=function(t,e){for(var n=Object.keys(e),i=0;i<n.length;++i)t[n[i]]=e[n[i]];return t},n="\n";function i(t){var e=new Error("(regl) "+t);throw console.error(e),e}function r(t,e){t||i(e)}function o(t){return t?": "+t:""}function a(t,e){switch(e){case"number":return"number"==typeof t;case"object":return"object"==typeof t;case"string":return"string"==typeof t;case"boolean":return"boolean"==typeof t;case"function":return"function"==typeof t;case"undefined":return void 0===t;case"symbol":return"symbol"==typeof t}}function s(t,e,n){e.indexOf(t)<0&&i("invalid value"+o(n)+". must be one of: "+e)}var l=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function u(t,e){for(t+="";t.length<e;)t=" "+t;return t}function c(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function h(t,e){this.number=t,this.line=e,this.errors=[]}function d(t,e,n){this.file=t,this.line=e,this.message=n}function f(){var t=new Error,e=(t.stack||t).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(e);if(n)return n[1];var i=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(e);return i?i[1]:"unknown"}function p(){var t=new Error,e=(t.stack||t).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(e);if(n)return n[1];var i=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(e);return i?i[1]:"unknown"}function g(t,e){var n,i=t.split("\n"),r=1,o=0,a={unknown:new c,0:new c};a.unknown.name=a[0].name=e||f(),a.unknown.lines.push(new h(0,""));for(var s=0;s<i.length;++s){var l=i[s],u=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(l);if(u)switch(u[1]){case"line":var d=/(\d+)(\s+\d+)?/.exec(u[2]);d&&(r=0|d[1],d[2]&&((o=0|d[2])in a||(a[o]=new c)));break;case"define":var p=/SHADER_NAME(_B64)?\s+(.*)$/.exec(u[2]);p&&(a[o].name=p[1]?(n=p[2],"undefined"!=typeof atob?atob(n):"base64:"+n):p[2])}a[o].lines.push(new h(r++,l))}return Object.keys(a).forEach(function(t){var e=a[t];e.lines.forEach(function(t){e.index[t.number]=t})}),a}function v(t){t._commandRef=f()}function m(t,e){var n=p();i(t+" in command "+(e||f())+("unknown"===n?"":" called from "+n))}function y(t,e,n,i){a(t,e)||m("invalid parameter type"+o(n)+". expected "+e+", got "+typeof t,i||f())}var b=33071,x=9728,w=9984,_=9985,S=9986,M=9987,C=5126,I=32819,k=32820,T=33635,O=34042,E={};function A(t,e){return t===k||t===I||t===T?2:t===O?4:E[t]*e}function N(t){return!(t&t-1||!t)}E[5120]=E[5121]=1,E[5122]=E[5123]=E[36193]=E[T]=E[I]=E[k]=2,E[5124]=E[5125]=E[C]=E[O]=4;var L=e(r,{optional:function(t){t()},raise:i,commandRaise:m,command:function(t,e,n){t||m(e,n||f())},parameter:function(t,e,n){t in e||i("unknown parameter ("+t+")"+o(n)+". possible values: "+Object.keys(e).join())},commandParameter:function(t,e,n,i){t in e||m("unknown parameter ("+t+")"+o(n)+". possible values: "+Object.keys(e).join(),i||f())},constructor:function(t){Object.keys(t).forEach(function(t){l.indexOf(t)<0&&i('invalid regl constructor argument "'+t+'". must be one of '+l)})},type:function(t,e,n){a(t,e)||i("invalid parameter type"+o(n)+". expected "+e+", got "+typeof t)},commandType:y,isTypedArray:function(e,n){t(e)||i("invalid parameter type"+o(n)+". must be a typed array")},nni:function(t,e){t>=0&&(0|t)===t||i("invalid parameter type, ("+t+")"+o(e)+". must be a nonnegative integer")},oneOf:s,shaderError:function(t,e,i,o,a){if(!t.getShaderParameter(e,t.COMPILE_STATUS)){var s=t.getShaderInfoLog(e),l=o===t.FRAGMENT_SHADER?"fragment":"vertex";y(i,"string",l+" shader source must be a string",a);var c=g(i,a),h=function(t){var e=[];return t.split("\n").forEach(function(t){if(!(t.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(t);n?e.push(new d(0|n[1],0|n[2],n[3].trim())):t.length>0&&e.push(new d("unknown",0,t))}}),e}(s);!function(t,e){e.forEach(function(e){var n=t[e.file];if(n){var i=n.index[e.line];if(i)return i.errors.push(e),void(n.hasErrors=!0)}t.unknown.hasErrors=!0,t.unknown.lines[0].errors.push(e)})}(c,h),Object.keys(c).forEach(function(t){var e=c[t];if(e.hasErrors){var i=[""],r=[""];o("file number "+t+": "+e.name+"\n","color:red;text-decoration:underline;font-weight:bold"),e.lines.forEach(function(t){if(t.errors.length>0){o(u(t.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(t.line+n,"color:red; background-color:yellow; font-weight:bold");var e=0;t.errors.forEach(function(i){var r=i.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(r);if(a){var s=a[1];switch(r=a[2],s){case"assign":s="="}e=Math.max(t.line.indexOf(s,e),0)}else e=0;o(u("| ",6)),o(u("^^^",e+3)+n,"font-weight:bold"),o(u("| ",6)),o(r+n,"font-weight:bold")}),o(u("| ",6)+n)}else o(u(t.number,4)+"|  "),o(t.line+n,"color:red")}),"undefined"==typeof document||window.chrome?console.log(i.join("")):(r[0]=i.join("%c"),console.log.apply(console,r))}function o(t,e){i.push(t),r.push(e||"")}}),r.raise("Error compiling "+l+" shader, "+c[0].name)}},linkError:function(t,e,i,o,a){if(!t.getProgramParameter(e,t.LINK_STATUS)){var s=t.getProgramInfoLog(e),l=g(i,a),u='Error linking program with vertex shader, "'+g(o,a)[0].name+'", and fragment shader "'+l[0].name+'"';"undefined"!=typeof document?console.log("%c"+u+n+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(u+n+s),r.raise(u)}},callSite:p,saveCommandRef:v,saveDrawInfo:function(t,e,n,i){function r(t){return t?i.id(t):0}function o(t,e){Object.keys(e).forEach(function(e){t[i.id(e)]=!0})}v(t),t._fragId=r(t.static.frag),t._vertId=r(t.static.vert);var a=t._uniformSet={};o(a,e.static),o(a,e.dynamic);var s=t._attributeSet={};o(s,n.static),o(s,n.dynamic),t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic},framebufferFormat:function(t,e,n){t.texture?s(t.texture._texture.internalformat,e,"unsupported texture format for attachment"):s(t.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")},guessCommand:f,texture2D:function(t,e,n){var i,o=e.width,a=e.height,s=e.channels;r(o>0&&o<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),t.wrapS===b&&t.wrapT===b||r(N(o)&&N(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===e.mipmask?1!==o&&1!==a&&r(t.minFilter!==w&&t.minFilter!==S&&t.minFilter!==_&&t.minFilter!==M,"min filter requires mipmap"):(r(N(o)&&N(a),"texture must be a square power of 2 to support mipmapping"),r(e.mipmask===(o<<1)-1,"missing or incomplete mipmap data")),e.type===C&&(n.extensions.indexOf("oes_texture_float_linear")<0&&r(t.minFilter===x&&t.magFilter===x,"filter not supported, must enable oes_texture_float_linear"),r(!t.genMipmaps,"mipmap generation not supported with float textures"));var l=e.images;for(i=0;i<16;++i)if(l[i]){var u=o>>i,c=a>>i;r(e.mipmask&1<<i,"missing mipmap data");var h=l[i];if(r(h.width===u&&h.height===c,"invalid shape for mip images"),r(h.format===e.format&&h.internalformat===e.internalformat&&h.type===e.type,"incompatible type for mip image"),h.compressed);else if(h.data){var d=Math.ceil(A(h.type,s)*u/h.unpackAlignment)*h.unpackAlignment;r(h.data.byteLength===d*c,"invalid data for image, buffer size is inconsistent with image format")}else h.element||h.copy}else t.genMipmaps||r(0==(e.mipmask&1<<i),"extra mipmap data");e.compressed&&r(!t.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(t,e,n,i){var o=t.width,a=t.height,s=t.channels;r(o>0&&o<=i.maxTextureSize&&a>0&&a<=i.maxTextureSize,"invalid texture shape"),r(o===a,"cube map must be square"),r(e.wrapS===b&&e.wrapT===b,"wrap mode not supported by cube map");for(var l=0;l<n.length;++l){var u=n[l];r(u.width===o&&u.height===a,"inconsistent cube map face shape"),e.genMipmaps&&(r(!u.compressed,"can not generate mipmap for compressed textures"),r(1===u.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=u.images,h=0;h<16;++h){var d=c[h];if(d){var f=o>>h,p=a>>h;r(u.mipmask&1<<h,"missing mipmap data"),r(d.width===f&&d.height===p,"invalid shape for mip images"),r(d.format===t.format&&d.internalformat===t.internalformat&&d.type===t.type,"incompatible type for mip image"),d.compressed||(d.data?r(d.data.byteLength===f*p*Math.max(A(d.type,s),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}}),D=0,j=0,P=5,R=6;function z(t,e){this.id=D++,this.type=t,this.data=e}function B(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function F(t){return"["+function t(e){if(0===e.length)return[];var n=e.charAt(0),i=e.charAt(e.length-1);if(e.length>1&&n===i&&('"'===n||"'"===n))return['"'+B(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return t(e.substr(0,r.index)).concat(t(r[1])).concat(t(e.substr(r.index+r[0].length)));var o=e.split(".");if(1===o.length)return['"'+B(e)+'"'];for(var a=[],s=0;s<o.length;++s)a=a.concat(t(o[s]));return a}(t).join("][")+"]"}var G={DynamicVariable:z,define:function(t,e){return new z(t,F(e+""))},isDynamic:function(t){return"function"==typeof t&&!t._reglType||t instanceof z},unbox:function t(e,n){return"function"==typeof e?new z(j,e):"number"==typeof e||"boolean"==typeof e?new z(P,e):Array.isArray(e)?new z(R,e.map((e,i)=>t(e,n+"["+i+"]"))):e instanceof z?e:void L(!1,"invalid option type in uniform "+n)},accessor:F},V={next:"function"==typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"==typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},W="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function H(t){return"string"==typeof t?t.split():(L(Array.isArray(t),"invalid extension array"),t)}function U(t){return"string"==typeof t?(L("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(t)):t}function Y(t){var n,i,r,o,a,s=t||{},l={},u=[],c=[],h="undefined"==typeof window?1:window.devicePixelRatio,d=!1,f=function(t){t&&L.raise(t)},p=function(){};if("string"==typeof s?(L("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),n=document.querySelector(s),L(n,"invalid query string for element")):"object"==typeof s?"string"==typeof(a=s).nodeName&&"function"==typeof a.appendChild&&"function"==typeof a.getBoundingClientRect?n=s:!function(t){return"function"==typeof t.drawArrays||"function"==typeof t.drawElements}(s)?(L.constructor(s),"gl"in s?o=s.gl:"canvas"in s?r=U(s.canvas):"container"in s&&(i=U(s.container)),"attributes"in s&&(l=s.attributes,L.type(l,"object","invalid context attributes")),"extensions"in s&&(u=H(s.extensions)),"optionalExtensions"in s&&(c=H(s.optionalExtensions)),"onDone"in s&&(L.type(s.onDone,"function","invalid or missing onDone callback"),f=s.onDone),"profile"in s&&(d=!!s.profile),"pixelRatio"in s&&(h=+s.pixelRatio,L(h>0,"invalid pixel ratio"))):r=(o=s).canvas:L.raise("invalid arguments to regl"),n&&("canvas"===n.nodeName.toLowerCase()?r=n:i=n),!o){if(!r){L("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var g=function(t,n,i){var r,o=document.createElement("canvas");function a(){var n=window.innerWidth,r=window.innerHeight;if(t!==document.body){var a=t.getBoundingClientRect();n=a.right-a.left,r=a.bottom-a.top}o.width=i*n,o.height=i*r,e(o.style,{width:n+"px",height:r+"px"})}return e(o.style,{border:0,margin:0,padding:0,top:0,left:0}),t.appendChild(o),t===document.body&&(o.style.position="absolute",e(t.style,{margin:0,padding:0})),t!==document.body&&"function"==typeof ResizeObserver?(r=new ResizeObserver(function(){setTimeout(a)})).observe(t):window.addEventListener("resize",a,!1),a(),{canvas:o,onDestroy:function(){r?r.disconnect():window.removeEventListener("resize",a),t.removeChild(o)}}}(i||document.body,0,h);if(!g)return null;r=g.canvas,p=g.onDestroy}void 0===l.premultipliedAlpha&&(l.premultipliedAlpha=!0),o=function(t,e){function n(n){try{return t.getContext(n,e)}catch(t){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}(r,l)}return o?{gl:o,canvas:r,container:i,extensions:u,optionalExtensions:c,pixelRatio:h,profile:d,onDone:f,onDestroy:p}:(p(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function J(t,e){for(var n=Array(t),i=0;i<t;++i)n[i]=e(i);return n}var Q=5120,Z=5121,$=5122,X=5123,K=5124,q=5125,tt=5126;function et(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1}function nt(){var t=J(8,function(){return[]});function e(e){var n=function(t){for(var e=16;e<=1<<28;e*=16)if(t<=e)return e;return 0}(e),i=t[et(n)>>2];return i.length>0?i.pop():new ArrayBuffer(n)}function n(e){t[et(e.byteLength)>>2].push(e)}return{alloc:e,free:n,allocType:function(t,n){var i=null;switch(t){case Q:i=new Int8Array(e(n),0,n);break;case Z:i=new Uint8Array(e(n),0,n);break;case $:i=new Int16Array(e(2*n),0,n);break;case X:i=new Uint16Array(e(2*n),0,n);break;case K:i=new Int32Array(e(4*n),0,n);break;case q:i=new Uint32Array(e(4*n),0,n);break;case tt:i=new Float32Array(e(4*n),0,n);break;default:return null}return i.length!==n?i.subarray(0,n):i},freeType:function(t){n(t.buffer)}}}var it=nt();it.zero=nt();var rt=function(t,e){var n=1;e.ext_texture_filter_anisotropic&&(n=t.getParameter(34047));var i=1,r=1;e.webgl_draw_buffers&&(i=t.getParameter(34852),r=t.getParameter(36063));var o=!!e.oes_texture_float;if(o){var a=t.createTexture();t.bindTexture(3553,a),t.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var s=t.createFramebuffer();if(t.bindFramebuffer(36160,s),t.framebufferTexture2D(36160,36064,3553,a,0),t.bindTexture(3553,null),36053!==t.checkFramebufferStatus(36160))o=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(16384);var l=it.allocType(5126,4);t.readPixels(0,0,1,1,6408,5126,l),t.getError()?o=!1:(t.deleteFramebuffer(s),t.deleteTexture(a),o=1===l[0]),it.freeType(l)}}var u=!0;if(!("undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)))){var c=t.createTexture(),h=it.allocType(5121,36);t.activeTexture(33984),t.bindTexture(34067,c),t.texImage2D(34069,0,6408,3,3,0,6408,5121,h),it.freeType(h),t.bindTexture(34067,null),t.deleteTexture(c),u=!t.getError()}return{colorBits:[t.getParameter(3410),t.getParameter(3411),t.getParameter(3412),t.getParameter(3413)],depthBits:t.getParameter(3414),stencilBits:t.getParameter(3415),subpixelBits:t.getParameter(3408),extensions:Object.keys(e).filter(function(t){return!!e[t]}),maxAnisotropic:n,maxDrawbuffers:i,maxColorAttachments:r,pointSizeDims:t.getParameter(33901),lineWidthDims:t.getParameter(33902),maxViewportDims:t.getParameter(3386),maxCombinedTextureUnits:t.getParameter(35661),maxCubeMapSize:t.getParameter(34076),maxRenderbufferSize:t.getParameter(34024),maxTextureUnits:t.getParameter(34930),maxTextureSize:t.getParameter(3379),maxAttributes:t.getParameter(34921),maxVertexUniforms:t.getParameter(36347),maxVertexTextureUnits:t.getParameter(35660),maxVaryingVectors:t.getParameter(36348),maxFragmentUniforms:t.getParameter(36349),glsl:t.getParameter(35724),renderer:t.getParameter(7937),vendor:t.getParameter(7936),version:t.getParameter(7938),readFloat:o,npotTextureCube:u}};function ot(e){return!!e&&"object"==typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"==typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||t(e.data))}var at=function(t){return Object.keys(t).map(function(e){return t[e]})},st={shape:function(t){for(var e=[],n=t;n.length;n=n[0])e.push(n.length);return e},flatten:function(t,e,n,i){var r=1;if(e.length)for(var o=0;o<e.length;++o)r*=e[o];else r=0;var a=i||it.allocType(n,r);switch(e.length){case 0:break;case 1:!function(t,e,n){for(var i=0;i<e;++i)n[i]=t[i]}(t,e[0],a);break;case 2:!function(t,e,n,i){for(var r=0,o=0;o<e;++o)for(var a=t[o],s=0;s<n;++s)i[r++]=a[s]}(t,e[0],e[1],a);break;case 3:lt(t,e[0],e[1],e[2],a,0);break;default:!function t(e,n,i,r,o){var a=1;for(var s=i+1;s<n.length;++s)a*=n[s];var l=n[i];if(n.length-i==4){var u=n[i+1],c=n[i+2],h=n[i+3];for(s=0;s<l;++s)lt(e[s],u,c,h,r,o),o+=a}else for(s=0;s<l;++s)t(e[s],n,i+1,r,o),o+=a}(t,e,0,a,0)}return a}};function lt(t,e,n,i,r,o){for(var a=o,s=0;s<e;++s)for(var l=t[s],u=0;u<n;++u)for(var c=l[u],h=0;h<i;++h)r[a++]=c[h]}var ut={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ct={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ht={dynamic:35048,stream:35040,static:35044},dt=st.flatten,ft=st.shape,pt=35044,gt=35040,vt=5121,mt=5126,yt=[];function bt(t){return 0|ut[Object.prototype.toString.call(t)]}function xt(t,e){for(var n=0;n<e.length;++n)t[n]=e[n]}function wt(t,e,n,i,r,o,a){for(var s=0,l=0;l<n;++l)for(var u=0;u<i;++u)t[s++]=e[r*l+o*u+a]}yt[5120]=1,yt[5122]=2,yt[5124]=4,yt[5121]=1,yt[5123]=2,yt[5125]=4,yt[5126]=4;var _t={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},St=0,Mt=1,Ct=4,It=5120,kt=5121,Tt=5122,Ot=5123,Et=5124,At=5125,Nt=34963,Lt=35040,Dt=35044;var jt=new Float32Array(1),Pt=new Uint32Array(jt.buffer),Rt=5123;function zt(t){for(var e=it.allocType(Rt,t.length),n=0;n<t.length;++n)if(isNaN(t[n]))e[n]=65535;else if(t[n]===1/0)e[n]=31744;else if(t[n]===-1/0)e[n]=64512;else{jt[0]=t[n];var i=Pt[0],r=i>>>31<<15,o=(i<<1>>>24)-127,a=i>>13&1023;if(o<-24)e[n]=r;else if(o<-14){var s=-14-o;e[n]=r+(a+1024>>s)}else e[n]=o>15?r+31744:r+(o+15<<10)+a}return e}function Bt(e){return Array.isArray(e)||t(e)}var Ft=function(t){return!(t&t-1||!t)},Gt=34467,Vt=3553,Wt=34067,Ht=34069,Ut=6408,Yt=6406,Jt=6407,Qt=6409,Zt=6410,$t=32854,Xt=32855,Kt=36194,qt=32819,te=32820,ee=33635,ne=34042,ie=6402,re=34041,oe=35904,ae=35906,se=36193,le=33776,ue=33777,ce=33778,he=33779,de=35986,fe=35987,pe=34798,ge=35840,ve=35841,me=35842,ye=35843,be=36196,xe=5121,we=5123,_e=5125,Se=5126,Me=10242,Ce=10243,Ie=10497,ke=33071,Te=33648,Oe=10240,Ee=10241,Ae=9728,Ne=9729,Le=9984,De=9985,je=9986,Pe=9987,Re=33170,ze=4352,Be=4353,Fe=4354,Ge=34046,Ve=3317,We=37440,He=37441,Ue=37443,Ye=37444,Je=33984,Qe=[Le,je,De,Pe],Ze=[0,Qt,Zt,Jt,Ut],$e={};function Xe(t){return"[object "+t+"]"}$e[Qt]=$e[Yt]=$e[ie]=1,$e[re]=$e[Zt]=2,$e[Jt]=$e[oe]=3,$e[Ut]=$e[ae]=4;var Ke=Xe("HTMLCanvasElement"),qe=Xe("OffscreenCanvas"),tn=Xe("CanvasRenderingContext2D"),en=Xe("ImageBitmap"),nn=Xe("HTMLImageElement"),rn=Xe("HTMLVideoElement"),on=Object.keys(ut).concat([Ke,qe,tn,en,nn,rn]),an=[];an[xe]=1,an[Se]=4,an[se]=2,an[we]=2,an[_e]=4;var sn=[];function ln(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function un(t){return!!Array.isArray(t)&&!(0===t.length||!Bt(t[0]))}function cn(t){return Object.prototype.toString.call(t)}function hn(t){return cn(t)===Ke}function dn(t){return cn(t)===qe}function fn(t){if(!t)return!1;var e=cn(t);return on.indexOf(e)>=0||(ln(t)||un(t)||ot(t))}function pn(t){return 0|ut[Object.prototype.toString.call(t)]}function gn(t,e){return it.allocType(t.type===se?Se:t.type,e)}function vn(t,e){t.type===se?(t.data=zt(e),it.freeType(e)):t.data=e}function mn(t,e,n,i,r,o){var a;if(a=void 0!==sn[t]?sn[t]:$e[t]*an[e],o&&(a*=6),r){for(var s=0,l=n;l>=1;)s+=a*l*l,l/=2;return s}return a*n*i}function yn(n,i,r,o,a,s,l){var u={"don't care":ze,"dont care":ze,nice:Fe,fast:Be},c={repeat:Ie,clamp:ke,mirror:Te},h={nearest:Ae,linear:Ne},d=e({mipmap:Pe,"nearest mipmap nearest":Le,"linear mipmap nearest":De,"nearest mipmap linear":je,"linear mipmap linear":Pe},h),f={none:0,browser:Ye},p={uint8:xe,rgba4:qt,rgb565:ee,"rgb5 a1":te},g={alpha:Yt,luminance:Qt,"luminance alpha":Zt,rgb:Jt,rgba:Ut,rgba4:$t,"rgb5 a1":Xt,rgb565:Kt},v={};i.ext_srgb&&(g.srgb=oe,g.srgba=ae),i.oes_texture_float&&(p.float32=p.float=Se),i.oes_texture_half_float&&(p.float16=p["half float"]=se),i.webgl_depth_texture&&(e(g,{depth:ie,"depth stencil":re}),e(p,{uint16:we,uint32:_e,"depth stencil":ne})),i.webgl_compressed_texture_s3tc&&e(v,{"rgb s3tc dxt1":le,"rgba s3tc dxt1":ue,"rgba s3tc dxt3":ce,"rgba s3tc dxt5":he}),i.webgl_compressed_texture_atc&&e(v,{"rgb atc":de,"rgba atc explicit alpha":fe,"rgba atc interpolated alpha":pe}),i.webgl_compressed_texture_pvrtc&&e(v,{"rgb pvrtc 4bppv1":ge,"rgb pvrtc 2bppv1":ve,"rgba pvrtc 4bppv1":me,"rgba pvrtc 2bppv1":ye}),i.webgl_compressed_texture_etc1&&(v["rgb etc1"]=be);var m=Array.prototype.slice.call(n.getParameter(Gt));Object.keys(v).forEach(function(t){var e=v[t];m.indexOf(e)>=0&&(g[t]=e)});var y=Object.keys(g);r.textureFormats=y;var b=[];Object.keys(g).forEach(function(t){var e=g[t];b[e]=t});var x=[];Object.keys(p).forEach(function(t){var e=p[t];x[e]=t});var w=[];Object.keys(h).forEach(function(t){var e=h[t];w[e]=t});var _=[];Object.keys(d).forEach(function(t){var e=d[t];_[e]=t});var S=[];Object.keys(c).forEach(function(t){var e=c[t];S[e]=t});var M=y.reduce(function(t,e){var n=g[e];return n===Qt||n===Yt||n===Qt||n===Zt||n===ie||n===re||i.ext_srgb&&(n===oe||n===ae)?t[n]=n:n===Xt||e.indexOf("rgba")>=0?t[n]=Ut:t[n]=Jt,t},{});function C(){this.internalformat=Ut,this.format=Ut,this.type=xe,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Ye,this.width=0,this.height=0,this.channels=0}function I(t,e){t.internalformat=e.internalformat,t.format=e.format,t.type=e.type,t.compressed=e.compressed,t.premultiplyAlpha=e.premultiplyAlpha,t.flipY=e.flipY,t.unpackAlignment=e.unpackAlignment,t.colorSpace=e.colorSpace,t.width=e.width,t.height=e.height,t.channels=e.channels}function k(t,e){if("object"==typeof e&&e){if("premultiplyAlpha"in e&&(L.type(e.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),t.premultiplyAlpha=e.premultiplyAlpha),"flipY"in e&&(L.type(e.flipY,"boolean","invalid texture flip"),t.flipY=e.flipY),"alignment"in e&&(L.oneOf(e.alignment,[1,2,4,8],"invalid texture unpack alignment"),t.unpackAlignment=e.alignment),"colorSpace"in e&&(L.parameter(e.colorSpace,f,"invalid colorSpace"),t.colorSpace=f[e.colorSpace]),"type"in e){var n=e.type;L(i.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),L(i.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),L(i.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),L.parameter(n,p,"invalid texture type"),t.type=p[n]}var o=t.width,a=t.height,s=t.channels,l=!1;"shape"in e?(L(Array.isArray(e.shape)&&e.shape.length>=2,"shape must be an array"),o=e.shape[0],a=e.shape[1],3===e.shape.length&&(s=e.shape[2],L(s>0&&s<=4,"invalid number of channels"),l=!0),L(o>=0&&o<=r.maxTextureSize,"invalid width"),L(a>=0&&a<=r.maxTextureSize,"invalid height")):("radius"in e&&(o=a=e.radius,L(o>=0&&o<=r.maxTextureSize,"invalid radius")),"width"in e&&(o=e.width,L(o>=0&&o<=r.maxTextureSize,"invalid width")),"height"in e&&(a=e.height,L(a>=0&&a<=r.maxTextureSize,"invalid height")),"channels"in e&&(s=e.channels,L(s>0&&s<=4,"invalid number of channels"),l=!0)),t.width=0|o,t.height=0|a,t.channels=0|s;var u=!1;if("format"in e){var c=e.format;L(i.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),L.parameter(c,g,"invalid texture format");var h=t.internalformat=g[c];t.format=M[h],c in p&&("type"in e||(t.type=p[c])),c in v&&(t.compressed=!0),u=!0}!l&&u?t.channels=$e[t.format]:l&&!u?t.channels!==Ze[t.format]&&(t.format=t.internalformat=Ze[t.channels]):u&&l&&L(t.channels===$e[t.format],"number of channels inconsistent with specified format")}}function T(t){n.pixelStorei(We,t.flipY),n.pixelStorei(He,t.premultiplyAlpha),n.pixelStorei(Ue,t.colorSpace),n.pixelStorei(Ve,t.unpackAlignment)}function O(){C.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function E(e,n){var i=null;if(fn(n)?i=n:n&&(L.type(n,"object","invalid pixel data type"),k(e,n),"x"in n&&(e.xOffset=0|n.x),"y"in n&&(e.yOffset=0|n.y),fn(n.data)&&(i=n.data)),L(!e.compressed||i instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){L(!i,"can not specify copy and data field for the same texture");var o=a.viewportWidth,s=a.viewportHeight;e.width=e.width||o-e.xOffset,e.height=e.height||s-e.yOffset,e.needsCopy=!0,L(e.xOffset>=0&&e.xOffset<o&&e.yOffset>=0&&e.yOffset<s&&e.width>0&&e.width<=o&&e.height>0&&e.height<=s,"copy texture read out of bounds")}else if(i){if(t(i))e.channels=e.channels||4,e.data=i,"type"in n||e.type!==xe||(e.type=pn(i));else if(ln(i))e.channels=e.channels||4,function(t,e){var n=e.length;switch(t.type){case xe:case we:case _e:case Se:var i=it.allocType(t.type,n);i.set(e),t.data=i;break;case se:t.data=zt(e);break;default:L.raise("unsupported texture type, must specify a typed array")}}(e,i),e.alignment=1,e.needsFree=!0;else if(ot(i)){var l=i.data;Array.isArray(l)||e.type!==xe||(e.type=pn(l));var u,c,h,d,f,p,g=i.shape,v=i.stride;3===g.length?(h=g[2],p=v[2]):(L(2===g.length,"invalid ndarray pixel data, must be 2 or 3D"),h=1,p=1),u=g[0],c=g[1],d=v[0],f=v[1],e.alignment=1,e.width=u,e.height=c,e.channels=h,e.format=e.internalformat=Ze[h],e.needsFree=!0,function(t,e,n,i,r,o){for(var a=t.width,s=t.height,l=t.channels,u=gn(t,a*s*l),c=0,h=0;h<s;++h)for(var d=0;d<a;++d)for(var f=0;f<l;++f)u[c++]=e[n*d+i*h+r*f+o];vn(t,u)}(e,l,d,f,p,i.offset)}else if(hn(i)||dn(i)||cn(i)===tn)hn(i)||dn(i)?e.element=i:e.element=i.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(function(t){return cn(t)===en}(i))e.element=i,e.width=i.width,e.height=i.height,e.channels=4;else if(function(t){return cn(t)===nn}(i))e.element=i,e.width=i.naturalWidth,e.height=i.naturalHeight,e.channels=4;else if(function(t){return cn(t)===rn}(i))e.element=i,e.width=i.videoWidth,e.height=i.videoHeight,e.channels=4;else if(un(i)){var m=e.width||i[0].length,y=e.height||i.length,b=e.channels;b=Bt(i[0][0])?b||i[0][0].length:b||1;for(var x=st.shape(i),w=1,_=0;_<x.length;++_)w*=x[_];var S=gn(e,w);st.flatten(i,x,"",S),vn(e,S),e.alignment=1,e.width=m,e.height=y,e.channels=b,e.format=e.internalformat=Ze[b],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;e.type===Se?L(r.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):e.type===se&&L(r.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function A(t,e,i){var r=t.element,a=t.data,s=t.internalformat,l=t.format,u=t.type,c=t.width,h=t.height;T(t),r?n.texImage2D(e,i,l,l,u,r):t.compressed?n.compressedTexImage2D(e,i,s,c,h,0,a):t.needsCopy?(o(),n.copyTexImage2D(e,i,l,t.xOffset,t.yOffset,c,h,0)):n.texImage2D(e,i,l,c,h,0,l,u,a||null)}function N(t,e,i,r,a){var s=t.element,l=t.data,u=t.internalformat,c=t.format,h=t.type,d=t.width,f=t.height;T(t),s?n.texSubImage2D(e,a,i,r,c,h,s):t.compressed?n.compressedTexSubImage2D(e,a,i,r,u,d,f,l):t.needsCopy?(o(),n.copyTexSubImage2D(e,a,i,r,t.xOffset,t.yOffset,d,f)):n.texSubImage2D(e,a,i,r,d,f,c,h,l)}var D=[];function j(){return D.pop()||new O}function P(t){t.needsFree&&it.freeType(t.data),O.call(t),D.push(t)}function R(t,e,n){var i=t.images[0]=j();t.mipmask=1,i.width=t.width=e,i.height=t.height=n,i.channels=t.channels=4}function z(t,e){var n=null;if(fn(e))I(n=t.images[0]=j(),t),E(n,e),t.mipmask=1;else if(k(t,e),Array.isArray(e.mipmap))for(var i=e.mipmap,r=0;r<i.length;++r)I(n=t.images[r]=j(),t),n.width>>=r,n.height>>=r,E(n,i[r]),t.mipmask|=1<<r;else I(n=t.images[0]=j(),t),E(n,e),t.mipmask=1;I(t,t.images[0]),!t.compressed||t.internalformat!==le&&t.internalformat!==ue&&t.internalformat!==ce&&t.internalformat!==he||L(t.width%4==0&&t.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function B(t,e){for(var n=t.images,i=0;i<n.length;++i){if(!n[i])return;A(n[i],e,i)}}var F=[];function G(){var t=F.pop()||new function(){C.call(this),this.genMipmaps=!1,this.mipmapHint=ze,this.mipmask=0,this.images=Array(16)};C.call(t),t.mipmask=0;for(var e=0;e<16;++e)t.images[e]=null;return t}function V(t){for(var e=t.images,n=0;n<e.length;++n)e[n]&&P(e[n]),e[n]=null;F.push(t)}function W(){this.minFilter=Ae,this.magFilter=Ae,this.wrapS=ke,this.wrapT=ke,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=ze}function H(t,e){if("min"in e){var n=e.min;L.parameter(n,d),t.minFilter=d[n],Qe.indexOf(t.minFilter)>=0&&!("faces"in e)&&(t.genMipmaps=!0)}if("mag"in e){var i=e.mag;L.parameter(i,h),t.magFilter=h[i]}var o=t.wrapS,a=t.wrapT;if("wrap"in e){var s=e.wrap;"string"==typeof s?(L.parameter(s,c),o=a=c[s]):Array.isArray(s)&&(L.parameter(s[0],c),L.parameter(s[1],c),o=c[s[0]],a=c[s[1]])}else{if("wrapS"in e){var l=e.wrapS;L.parameter(l,c),o=c[l]}if("wrapT"in e){var f=e.wrapT;L.parameter(f,c),a=c[f]}}if(t.wrapS=o,t.wrapT=a,"anisotropic"in e){var p=e.anisotropic;L("number"==typeof p&&p>=1&&p<=r.maxAnisotropic,"aniso samples must be between 1 and "),t.anisotropic=e.anisotropic}if("mipmap"in e){var g=!1;switch(typeof e.mipmap){case"string":L.parameter(e.mipmap,u,"invalid mipmap hint"),t.mipmapHint=u[e.mipmap],t.genMipmaps=!0,g=!0;break;case"boolean":g=t.genMipmaps=e.mipmap;break;case"object":L(Array.isArray(e.mipmap),"invalid mipmap type"),t.genMipmaps=!1,g=!0;break;default:L.raise("invalid mipmap type")}!g||"min"in e||(t.minFilter=Le)}}function U(t,e){n.texParameteri(e,Ee,t.minFilter),n.texParameteri(e,Oe,t.magFilter),n.texParameteri(e,Me,t.wrapS),n.texParameteri(e,Ce,t.wrapT),i.ext_texture_filter_anisotropic&&n.texParameteri(e,Ge,t.anisotropic),t.genMipmaps&&(n.hint(Re,t.mipmapHint),n.generateMipmap(e))}var Y=0,J={},Q=r.maxTextureUnits,Z=Array(Q).map(function(){return null});function $(t){C.call(this),this.mipmask=0,this.internalformat=Ut,this.id=Y++,this.refCount=1,this.target=t,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new W,l.profile&&(this.stats={size:0})}function X(t){n.activeTexture(Je),n.bindTexture(t.target,t.texture)}function K(){var t=Z[0];t?n.bindTexture(t.target,t.texture):n.bindTexture(Vt,null)}function q(t){var e=t.texture;L(e,"must not double destroy texture");var i=t.unit,r=t.target;i>=0&&(n.activeTexture(Je+i),n.bindTexture(r,null),Z[i]=null),n.deleteTexture(e),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete J[t.id],s.textureCount--}return e($.prototype,{bind:function(){this.bindCount+=1;var t=this.unit;if(t<0){for(var e=0;e<Q;++e){var i=Z[e];if(i){if(i.bindCount>0)continue;i.unit=-1}Z[e]=this,t=e;break}t>=Q&&L.raise("insufficient number of texture units"),l.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),this.unit=t,n.activeTexture(Je+t),n.bindTexture(this.target,this.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&q(this)}}),l.profile&&(s.getTotalTextureSize=function(){var t=0;return Object.keys(J).forEach(function(e){t+=J[e].stats.size}),t}),{create2D:function(t,e){var i=new $(Vt);function o(t,e){var n=i.texInfo;W.call(n);var a=G();return"number"==typeof t?R(a,0|t,"number"==typeof e?0|e:0|t):t?(L.type(t,"object","invalid arguments to regl.texture"),H(n,t),z(a,t)):R(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),i.mipmask=a.mipmask,I(i,a),L.texture2D(n,a,r),i.internalformat=a.internalformat,o.width=a.width,o.height=a.height,X(i),B(a,Vt),U(n,Vt),K(),V(a),l.profile&&(i.stats.size=mn(i.internalformat,i.type,a.width,a.height,n.genMipmaps,!1)),o.format=b[i.internalformat],o.type=x[i.type],o.mag=w[n.magFilter],o.min=_[n.minFilter],o.wrapS=S[n.wrapS],o.wrapT=S[n.wrapT],o}return J[i.id]=i,s.textureCount++,o(t,e),o.subimage=function(t,e,n,r){L(!!t,"must specify image data");var a=0|e,s=0|n,l=0|r,u=j();return I(u,i),u.width=0,u.height=0,E(u,t),u.width=u.width||(i.width>>l)-a,u.height=u.height||(i.height>>l)-s,L(i.type===u.type&&i.format===u.format&&i.internalformat===u.internalformat,"incompatible format for texture.subimage"),L(a>=0&&s>=0&&a+u.width<=i.width&&s+u.height<=i.height,"texture.subimage write out of bounds"),L(i.mipmask&1<<l,"missing mipmap data"),L(u.data||u.element||u.needsCopy,"missing image data"),X(i),N(u,Vt,a,s,l),K(),P(u),o},o.resize=function(t,e){var r=0|t,a=0|e||r;if(r===i.width&&a===i.height)return o;o.width=i.width=r,o.height=i.height=a,X(i);for(var s=0;i.mipmask>>s;++s){var u=r>>s,c=a>>s;if(!u||!c)break;n.texImage2D(Vt,s,i.format,u,c,0,i.format,i.type,null)}return K(),l.profile&&(i.stats.size=mn(i.internalformat,i.type,r,a,!1,!1)),o},o._reglType="texture2d",o._texture=i,l.profile&&(o.stats=i.stats),o.destroy=function(){i.decRef()},o},createCube:function(t,e,i,o,a,u){var c=new $(Wt);J[c.id]=c,s.cubeCount++;var h=new Array(6);function d(t,e,n,i,o,a){var s,u=c.texInfo;for(W.call(u),s=0;s<6;++s)h[s]=G();if("number"!=typeof t&&t)if("object"==typeof t)if(e)z(h[0],t),z(h[1],e),z(h[2],n),z(h[3],i),z(h[4],o),z(h[5],a);else if(H(u,t),k(c,t),"faces"in t){var f=t.faces;for(L(Array.isArray(f)&&6===f.length,"cube faces must be a length 6 array"),s=0;s<6;++s)L("object"==typeof f[s]&&!!f[s],"invalid input for cube map face"),I(h[s],c),z(h[s],f[s])}else for(s=0;s<6;++s)z(h[s],t);else L.raise("invalid arguments to cube map");else{var p=0|t||1;for(s=0;s<6;++s)R(h[s],p,p)}for(I(c,h[0]),r.npotTextureCube||L(Ft(c.width)&&Ft(c.height),"your browser does not support non power or two texture dimensions"),u.genMipmaps?c.mipmask=(h[0].width<<1)-1:c.mipmask=h[0].mipmask,L.textureCube(c,u,h,r),c.internalformat=h[0].internalformat,d.width=h[0].width,d.height=h[0].height,X(c),s=0;s<6;++s)B(h[s],Ht+s);for(U(u,Wt),K(),l.profile&&(c.stats.size=mn(c.internalformat,c.type,d.width,d.height,u.genMipmaps,!0)),d.format=b[c.internalformat],d.type=x[c.type],d.mag=w[u.magFilter],d.min=_[u.minFilter],d.wrapS=S[u.wrapS],d.wrapT=S[u.wrapT],s=0;s<6;++s)V(h[s]);return d}return d(t,e,i,o,a,u),d.subimage=function(t,e,n,i,r){L(!!e,"must specify image data"),L("number"==typeof t&&t===(0|t)&&t>=0&&t<6,"invalid face");var o=0|n,a=0|i,s=0|r,l=j();return I(l,c),l.width=0,l.height=0,E(l,e),l.width=l.width||(c.width>>s)-o,l.height=l.height||(c.height>>s)-a,L(c.type===l.type&&c.format===l.format&&c.internalformat===l.internalformat,"incompatible format for texture.subimage"),L(o>=0&&a>=0&&o+l.width<=c.width&&a+l.height<=c.height,"texture.subimage write out of bounds"),L(c.mipmask&1<<s,"missing mipmap data"),L(l.data||l.element||l.needsCopy,"missing image data"),X(c),N(l,Ht+t,o,a,s),K(),P(l),d},d.resize=function(t){var e=0|t;if(e!==c.width){d.width=c.width=e,d.height=c.height=e,X(c);for(var i=0;i<6;++i)for(var r=0;c.mipmask>>r;++r)n.texImage2D(Ht+i,r,c.format,e>>r,e>>r,0,c.format,c.type,null);return K(),l.profile&&(c.stats.size=mn(c.internalformat,c.type,d.width,d.height,!1,!0)),d}},d._reglType="textureCube",d._texture=c,l.profile&&(d.stats=c.stats),d.destroy=function(){c.decRef()},d},clear:function(){for(var t=0;t<Q;++t)n.activeTexture(Je+t),n.bindTexture(Vt,null),Z[t]=null;at(J).forEach(q),s.cubeCount=0,s.textureCount=0},getTexture:function(t){return null},restore:function(){for(var t=0;t<Q;++t){var e=Z[t];e&&(e.bindCount=0,e.unit=-1,Z[t]=null)}at(J).forEach(function(t){t.texture=n.createTexture(),n.bindTexture(t.target,t.texture);for(var e=0;e<32;++e)if(0!=(t.mipmask&1<<e))if(t.target===Vt)n.texImage2D(Vt,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);else for(var i=0;i<6;++i)n.texImage2D(Ht+i,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);U(t.texInfo,t.target)})},refresh:function(){for(var t=0;t<Q;++t){var e=Z[t];e&&(e.bindCount=0,e.unit=-1,Z[t]=null),n.activeTexture(Je+t),n.bindTexture(Vt,null),n.bindTexture(Wt,null)}}}}sn[$t]=2,sn[Xt]=2,sn[Kt]=2,sn[re]=4,sn[le]=.5,sn[ue]=.5,sn[ce]=1,sn[he]=1,sn[de]=.5,sn[fe]=1,sn[pe]=1,sn[ge]=.5,sn[ve]=.25,sn[me]=.5,sn[ye]=.25,sn[be]=.5;var bn=36161,xn=32854,wn=[];function _n(t,e,n){return wn[t]*e*n}wn[xn]=2,wn[32855]=2,wn[36194]=2,wn[33189]=2,wn[36168]=1,wn[34041]=4,wn[35907]=4,wn[34836]=16,wn[34842]=8,wn[34843]=6;var Sn=function(t,e,n,i,r){var o={rgba4:xn,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};e.ext_srgb&&(o.srgba=35907),e.ext_color_buffer_half_float&&(o.rgba16f=34842,o.rgb16f=34843),e.webgl_color_buffer_float&&(o.rgba32f=34836);var a=[];Object.keys(o).forEach(function(t){var e=o[t];a[e]=t});var s=0,l={};function u(t){this.id=s++,this.refCount=1,this.renderbuffer=t,this.format=xn,this.width=0,this.height=0,r.profile&&(this.stats={size:0})}function c(e){var n=e.renderbuffer;L(n,"must not double destroy renderbuffer"),t.bindRenderbuffer(bn,null),t.deleteRenderbuffer(n),e.renderbuffer=null,e.refCount=0,delete l[e.id],i.renderbufferCount--}return u.prototype.decRef=function(){--this.refCount<=0&&c(this)},r.profile&&(i.getTotalRenderbufferSize=function(){var t=0;return Object.keys(l).forEach(function(e){t+=l[e].stats.size}),t}),{create:function(e,s){var c=new u(t.createRenderbuffer());function h(e,i){var s=0,l=0,u=xn;if("object"==typeof e&&e){var d=e;if("shape"in d){var f=d.shape;L(Array.isArray(f)&&f.length>=2,"invalid renderbuffer shape"),s=0|f[0],l=0|f[1]}else"radius"in d&&(s=l=0|d.radius),"width"in d&&(s=0|d.width),"height"in d&&(l=0|d.height);"format"in d&&(L.parameter(d.format,o,"invalid renderbuffer format"),u=o[d.format])}else"number"==typeof e?(s=0|e,l="number"==typeof i?0|i:s):e?L.raise("invalid arguments to renderbuffer constructor"):s=l=1;if(L(s>0&&l>0&&s<=n.maxRenderbufferSize&&l<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==c.width||l!==c.height||u!==c.format)return h.width=c.width=s,h.height=c.height=l,c.format=u,t.bindRenderbuffer(bn,c.renderbuffer),t.renderbufferStorage(bn,u,s,l),L(0===t.getError(),"invalid render buffer format"),r.profile&&(c.stats.size=_n(c.format,c.width,c.height)),h.format=a[c.format],h}return l[c.id]=c,i.renderbufferCount++,h(e,s),h.resize=function(e,i){var o=0|e,a=0|i||o;return o===c.width&&a===c.height?h:(L(o>0&&a>0&&o<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),h.width=c.width=o,h.height=c.height=a,t.bindRenderbuffer(bn,c.renderbuffer),t.renderbufferStorage(bn,c.format,o,a),L(0===t.getError(),"invalid render buffer format"),r.profile&&(c.stats.size=_n(c.format,c.width,c.height)),h)},h._reglType="renderbuffer",h._renderbuffer=c,r.profile&&(h.stats=c.stats),h.destroy=function(){c.decRef()},h},clear:function(){at(l).forEach(c)},restore:function(){at(l).forEach(function(e){e.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(bn,e.renderbuffer),t.renderbufferStorage(bn,e.format,e.width,e.height)}),t.bindRenderbuffer(bn,null)}}},Mn=36160,Cn=36161,In=3553,kn=34069,Tn=36064,On=36096,En=36128,An=33306,Nn=36053,Ln=6402,Dn=[6407,6408],jn=[];jn[6408]=4,jn[6407]=3;var Pn=[];Pn[5121]=1,Pn[5126]=4,Pn[36193]=2;var Rn=33189,zn=36168,Bn=34041,Fn=[32854,32855,36194,35907,34842,34843,34836],Gn={};Gn[Nn]="complete",Gn[36054]="incomplete attachment",Gn[36057]="incomplete dimensions",Gn[36055]="incomplete, missing attachment",Gn[36061]="unsupported";var Vn=5126,Wn=34962;function Hn(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Vn,this.offset=0,this.stride=0,this.divisor=0}var Un=35632,Yn=35633,Jn=35718,Qn=35721;function Zn(t,n,i,r){var o={},a={};function s(t,e,n,i){this.name=t,this.id=e,this.location=n,this.info=i}function l(t,e){for(var n=0;n<t.length;++n)if(t[n].id===e.id)return void(t[n].location=e.location);t.push(e)}function u(e,i,r){var s=e===Un?o:a,l=s[i];if(!l){var u=n.str(i);l=t.createShader(e),t.shaderSource(l,u),t.compileShader(l),L.shaderError(t,l,u,e,r),s[i]=l}return l}var c={},h=[],d=0;function f(e,i,o){var a,c,h=u(Un,e.fragId),d=u(Yn,e.vertId),f=e.program=t.createProgram();if(t.attachShader(f,h),t.attachShader(f,d),o)for(a=0;a<o.length;++a){var p=o[a];t.bindAttribLocation(f,p[0],p[1])}t.linkProgram(f),L.linkError(t,f,n.str(e.fragId),n.str(e.vertId),i);var g=t.getProgramParameter(f,Jn);r.profile&&(e.stats.uniformsCount=g);var v=e.uniforms;for(a=0;a<g;++a)if(c=t.getActiveUniform(f,a))if(c.size>1)for(var m=0;m<c.size;++m){var y=c.name.replace("[0]","["+m+"]");l(v,new s(y,n.id(y),t.getUniformLocation(f,y),c))}else l(v,new s(c.name,n.id(c.name),t.getUniformLocation(f,c.name),c));var b=t.getProgramParameter(f,Qn);r.profile&&(e.stats.attributesCount=b);var x=e.attributes;for(a=0;a<b;++a)(c=t.getActiveAttrib(f,a))&&l(x,new s(c.name,n.id(c.name),t.getAttribLocation(f,c.name),c))}return r.profile&&(i.getMaxUniformsCount=function(){var t=0;return h.forEach(function(e){e.stats.uniformsCount>t&&(t=e.stats.uniformsCount)}),t},i.getMaxAttributesCount=function(){var t=0;return h.forEach(function(e){e.stats.attributesCount>t&&(t=e.stats.attributesCount)}),t}),{clear:function(){var e=t.deleteShader.bind(t);at(o).forEach(e),o={},at(a).forEach(e),a={},h.forEach(function(e){t.deleteProgram(e.program)}),h.length=0,c={},i.shaderCount=0},program:function(n,s,l,u){L.command(n>=0,"missing vertex shader",l),L.command(s>=0,"missing fragment shader",l);var p=c[s];p||(p=c[s]={});var g=p[n];if(g&&(g.refCount++,!u))return g;var v=new function(t,e){this.id=d++,this.fragId=t,this.vertId=e,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,r.profile&&(this.stats={uniformsCount:0,attributesCount:0})}(s,n);return i.shaderCount++,f(v,l,u),g||(p[n]=v),h.push(v),e(v,{destroy:function(){if(v.refCount--,v.refCount<=0){t.deleteProgram(v.program);var e=h.indexOf(v);h.splice(e,1),i.shaderCount--}p[v.vertId].refCount<=0&&(t.deleteShader(a[v.vertId]),delete a[v.vertId],delete c[v.fragId][v.vertId]),Object.keys(c[v.fragId]).length||(t.deleteShader(o[v.fragId]),delete o[v.fragId],delete c[v.fragId])}})},restore:function(){o={},a={};for(var t=0;t<h.length;++t)f(h[t],null,h[t].attributes.map(function(t){return[t.location,t.name]}))},shader:u,frag:-1,vert:-1}}var $n=6408,Xn=5121,Kn=3333,qn=5126;function ti(e,n,i,r,o,a,s){function l(l){var u;null===n.next?(L(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),u=Xn):(L(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),u=n.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(L(u===Xn||u===qn,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),u===qn&&L(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):L(u===Xn,"Reading from a framebuffer is only allowed for the type 'uint8'"));var c=0,h=0,d=r.framebufferWidth,f=r.framebufferHeight,p=null;t(l)?p=l:l&&(L.type(l,"object","invalid arguments to regl.read()"),c=0|l.x,h=0|l.y,L(c>=0&&c<r.framebufferWidth,"invalid x offset for regl.read"),L(h>=0&&h<r.framebufferHeight,"invalid y offset for regl.read"),d=0|(l.width||r.framebufferWidth-c),f=0|(l.height||r.framebufferHeight-h),p=l.data||null),p&&(u===Xn?L(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):u===qn&&L(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),L(d>0&&d+c<=r.framebufferWidth,"invalid width for read pixels"),L(f>0&&f+h<=r.framebufferHeight,"invalid height for read pixels"),i();var g=d*f*4;return p||(u===Xn?p=new Uint8Array(g):u===qn&&(p=p||new Float32Array(g))),L.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),L(p.byteLength>=g,"data buffer for regl.read() too small"),e.pixelStorei(Kn,4),e.readPixels(c,h,d,f,$n,u,p),p}return function(t){return t&&"framebuffer"in t?function(t){var e;return n.setFBO({framebuffer:t.framebuffer},function(){e=l(t)}),e}(t):l(t)}}function ei(t){return Array.prototype.slice.call(t)}function ni(t){return ei(t).join("")}var ii="xyzw".split(""),ri=5121,oi=1,ai=2,si=0,li=1,ui=2,ci=3,hi=4,di=5,fi=6,pi="dither",gi="blend.enable",vi="blend.color",mi="blend.equation",yi="blend.func",bi="depth.enable",xi="depth.func",wi="depth.range",_i="depth.mask",Si="colorMask",Mi="cull.enable",Ci="cull.face",Ii="frontFace",ki="lineWidth",Ti="polygonOffset.enable",Oi="polygonOffset.offset",Ei="sample.alpha",Ai="sample.enable",Ni="sample.coverage",Li="stencil.enable",Di="stencil.mask",ji="stencil.func",Pi="stencil.opFront",Ri="stencil.opBack",zi="scissor.enable",Bi="scissor.box",Fi="viewport",Gi="profile",Vi="framebuffer",Wi="vert",Hi="frag",Ui="elements",Yi="primitive",Ji="count",Qi="offset",Zi="instances",$i="vao",Xi=Vi+"Width",Ki=Vi+"Height",qi=Fi+"Width",tr=Fi+"Height",er="drawingBufferWidth",nr="drawingBufferHeight",ir=[yi,mi,ji,Pi,Ri,Ni,Fi,Bi,Oi],rr=34962,or=34963,ar=3553,sr=34067,lr=2884,ur=3042,cr=3024,hr=2960,dr=2929,fr=3089,pr=32823,gr=32926,vr=32928,mr=5126,yr=35664,br=35665,xr=35666,wr=5124,_r=35667,Sr=35668,Mr=35669,Cr=35670,Ir=35671,kr=35672,Tr=35673,Or=35674,Er=35675,Ar=35676,Nr=35678,Lr=35680,Dr=4,jr=1028,Pr=1029,Rr=2304,zr=2305,Br=32775,Fr=32776,Gr=519,Vr=7680,Wr=0,Hr=1,Ur=32774,Yr=513,Jr=36160,Qr=36064,Zr={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},$r=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Xr={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Kr={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},qr={frag:35632,vert:35633},to={cw:Rr,ccw:zr};function eo(e){return Array.isArray(e)||t(e)||ot(e)}function no(t){return t.sort(function(t,e){return t===Fi?-1:e===Fi?1:t<e?-1:1})}function io(t,e,n,i){this.thisDep=t,this.contextDep=e,this.propDep=n,this.append=i}function ro(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function oo(t){return new io(!1,!1,!1,t)}function ao(t,e){var n=t.type;if(n===si){var i=t.data.length;return new io(!0,i>=1,i>=2,e)}if(n===hi){var r=t.data;return new io(r.thisDep,r.contextDep,r.propDep,e)}if(n===di)return new io(!1,!1,!1,e);if(n===fi){for(var o=!1,a=!1,s=!1,l=0;l<t.data.length;++l){var u=t.data[l];if(u.type===li)s=!0;else if(u.type===ui)a=!0;else if(u.type===ci)o=!0;else if(u.type===si){o=!0;var c=u.data;c>=1&&(a=!0),c>=2&&(s=!0)}else u.type===hi&&(o=o||u.data.thisDep,a=a||u.data.contextDep,s=s||u.data.propDep)}return new io(o,a,s,e)}return new io(n===ci,n===ui,n===li,e)}var so=new io(!1,!1,!1,function(){});function lo(t,n,i,r,o,a,s,l,u,c,h,d,f,p,g){var v=c.Record,m={add:32774,subtract:32778,"reverse subtract":32779};i.ext_blend_minmax&&(m.min=Br,m.max=Fr);var y=i.angle_instanced_arrays,b=i.webgl_draw_buffers,x={dirty:!0,profile:g.profile},w={},_=[],S={},M={};function C(t){return t.replace(".","_")}function I(t,e,n){var i=C(t);_.push(t),w[i]=x[i]=!!n,S[i]=e}function k(t,e,n){var i=C(t);_.push(t),Array.isArray(n)?(x[i]=n.slice(),w[i]=n.slice()):x[i]=w[i]=n,M[i]=e}I(pi,cr),I(gi,ur),k(vi,"blendColor",[0,0,0,0]),k(mi,"blendEquationSeparate",[Ur,Ur]),k(yi,"blendFuncSeparate",[Hr,Wr,Hr,Wr]),I(bi,dr,!0),k(xi,"depthFunc",Yr),k(wi,"depthRange",[0,1]),k(_i,"depthMask",!0),k(Si,Si,[!0,!0,!0,!0]),I(Mi,lr),k(Ci,"cullFace",Pr),k(Ii,Ii,zr),k(ki,ki,1),I(Ti,pr),k(Oi,"polygonOffset",[0,0]),I(Ei,gr),I(Ai,vr),k(Ni,"sampleCoverage",[1,!1]),I(Li,hr),k(Di,"stencilMask",-1),k(ji,"stencilFunc",[Gr,0,-1]),k(Pi,"stencilOpSeparate",[jr,Vr,Vr,Vr]),k(Ri,"stencilOpSeparate",[Pr,Vr,Vr,Vr]),I(zi,fr),k(Bi,"scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),k(Fi,Fi,[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var T={gl:t,context:f,strings:n,next:w,current:x,draw:d,elements:a,buffer:o,shader:h,attributes:c.state,vao:c,uniforms:u,framebuffer:l,extensions:i,timer:p,isBufferArgs:eo},O={primTypes:_t,compareFuncs:Xr,blendFuncs:Zr,blendEquations:m,stencilOps:Kr,glTypes:ct,orientationType:to};L.optional(function(){T.isArrayLike=Bt}),b&&(O.backBuffer=[Pr],O.drawBuffer=J(r.maxDrawbuffers,function(t){return 0===t?[0]:J(t,function(t){return Qr+t})}));var E=0;function A(){var t=function(){var t=0,n=[],i=[];function r(){var n=[],i=[];return e(function(){n.push.apply(n,ei(arguments))},{def:function(){var e="v"+t++;return i.push(e),arguments.length>0&&(n.push(e,"="),n.push.apply(n,ei(arguments)),n.push(";")),e},toString:function(){return ni([i.length>0?"var "+i.join(",")+";":"",ni(n)])}})}function o(){var t=r(),n=r(),i=t.toString,o=n.toString;function a(e,i){n(e,i,"=",t.def(e,i),";")}return e(function(){t.apply(t,ei(arguments))},{def:t.def,entry:t,exit:n,save:a,set:function(e,n,i){a(e,n),t(e,n,"=",i,";")},toString:function(){return i()+o()}})}var a=r(),s={};return{global:a,link:function(e){for(var r=0;r<i.length;++r)if(i[r]===e)return n[r];var o="g"+t++;return n.push(o),i.push(e),o},block:r,proc:function(t,n){var i=[];function r(){var t="a"+i.length;return i.push(t),t}n=n||0;for(var a=0;a<n;++a)r();var l=o(),u=l.toString;return s[t]=e(l,{arg:r,toString:function(){return ni(["function(",i.join(),"){",u(),"}"])}})},scope:o,cond:function(){var t=ni(arguments),n=o(),i=o(),r=n.toString,a=i.toString;return e(n,{then:function(){return n.apply(n,ei(arguments)),this},else:function(){return i.apply(i,ei(arguments)),this},toString:function(){var e=a();return e&&(e="else{"+e+"}"),ni(["if(",t,"){",r(),"}",e])}})},compile:function(){var t=['"use strict";',a,"return {"];Object.keys(s).forEach(function(e){t.push('"',e,'":',s[e].toString(),",")}),t.push("}");var e=ni(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(e)).apply(null,i)}}}(),i=t.link,r=t.global;t.id=E++,t.batchId="0";var o=i(T),a=t.shared={props:"a0"};Object.keys(T).forEach(function(t){a[t]=r.def(o,".",t)}),L.optional(function(){t.CHECK=i(L),t.commandStr=L.guessCommand(),t.command=i(t.commandStr),t.assert=function(t,e,n){t("if(!(",e,"))",this.CHECK,".commandRaise(",i(n),",",this.command,");")},O.invalidBlendCombinations=$r});var s=t.next={},l=t.current={};Object.keys(M).forEach(function(t){Array.isArray(x[t])&&(s[t]=r.def(a.next,".",t),l[t]=r.def(a.current,".",t))});var u=t.constants={};Object.keys(O).forEach(function(t){u[t]=r.def(JSON.stringify(O[t]))}),t.invoke=function(e,n){switch(n.type){case si:var r=["this",a.context,a.props,t.batchId];return e.def(i(n.data),".call(",r.slice(0,Math.max(n.data.length+1,4)),")");case li:return e.def(a.props,n.data);case ui:return e.def(a.context,n.data);case ci:return e.def("this",n.data);case hi:return n.data.append(t,e),n.data.ref;case di:return n.data.toString();case fi:return n.data.map(function(n){return t.invoke(e,n)})}},t.attribCache={};var h={};return t.scopeAttrib=function(t){var e=n.id(t);if(e in h)return h[e];var r=c.scope[e];return r||(r=c.scope[e]=new v),h[e]=i(r)},t}function N(t,e,s,u,d){var f=t.static,p=t.dynamic;L.optional(function(){var t=[Vi,Wi,Hi,Ui,Yi,Qi,Ji,Zi,Gi,$i].concat(_);function e(e){Object.keys(e).forEach(function(e){L.command(t.indexOf(e)>=0,'unknown parameter "'+e+'"',d.commandStr)})}e(f),e(p)});var g=function(t,e){var n=t.static;if("string"==typeof n[Hi]&&"string"==typeof n[Wi]){if(Object.keys(e.dynamic).length>0)return null;var i=e.static,r=Object.keys(i);if(r.length>0&&"number"==typeof i[r[0]]){for(var o=[],a=0;a<r.length;++a)L("number"==typeof i[r[a]],"must specify all vertex attribute locations when using vaos"),o.push([0|i[r[a]],r[a]]);return o}}return null}(t,e),b=function(t,e){var n=t.static,i=t.dynamic;if(Vi in n){var r=n[Vi];return r?(r=l.getFramebuffer(r),L.command(r,"invalid framebuffer object"),oo(function(t,e){var n=t.link(r),i=t.shared;e.set(i.framebuffer,".next",n);var o=i.context;return e.set(o,"."+Xi,n+".width"),e.set(o,"."+Ki,n+".height"),n})):oo(function(t,e){var n=t.shared;e.set(n.framebuffer,".next","null");var i=n.context;return e.set(i,"."+Xi,i+"."+er),e.set(i,"."+Ki,i+"."+nr),"null"})}if(Vi in i){var o=i[Vi];return ao(o,function(t,e){var n=t.invoke(e,o),i=t.shared,r=i.framebuffer,a=e.def(r,".getFramebuffer(",n,")");L.optional(function(){t.assert(e,"!"+n+"||"+a,"invalid framebuffer object")}),e.set(r,".next",a);var s=i.context;return e.set(s,"."+Xi,a+"?"+a+".width:"+s+"."+er),e.set(s,"."+Ki,a+"?"+a+".height:"+s+"."+nr),a})}return null}(t),x=function(t,e,n){var i=t.static,r=t.dynamic;function o(t){if(t in i){var o=i[t];L.commandType(o,"object","invalid "+t,n.commandStr);var a,s,l=!0,u=0|o.x,c=0|o.y;return"width"in o?(a=0|o.width,L.command(a>=0,"invalid "+t,n.commandStr)):l=!1,"height"in o?(s=0|o.height,L.command(s>=0,"invalid "+t,n.commandStr)):l=!1,new io(!l&&e&&e.thisDep,!l&&e&&e.contextDep,!l&&e&&e.propDep,function(t,e){var n=t.shared.context,i=a;"width"in o||(i=e.def(n,".",Xi,"-",u));var r=s;return"height"in o||(r=e.def(n,".",Ki,"-",c)),[u,c,i,r]})}if(t in r){var h=r[t],d=ao(h,function(e,n){var i=e.invoke(n,h);L.optional(function(){e.assert(n,i+"&&typeof "+i+'==="object"',"invalid "+t)});var r=e.shared.context,o=n.def(i,".x|0"),a=n.def(i,".y|0"),s=n.def('"width" in ',i,"?",i,".width|0:","(",r,".",Xi,"-",o,")"),l=n.def('"height" in ',i,"?",i,".height|0:","(",r,".",Ki,"-",a,")");return L.optional(function(){e.assert(n,s+">=0&&"+l+">=0","invalid "+t)}),[o,a,s,l]});return e&&(d.thisDep=d.thisDep||e.thisDep,d.contextDep=d.contextDep||e.contextDep,d.propDep=d.propDep||e.propDep),d}return e?new io(e.thisDep,e.contextDep,e.propDep,function(t,e){var n=t.shared.context;return[0,0,e.def(n,".",Xi),e.def(n,".",Ki)]}):null}var a=o(Fi);if(a){var s=a;a=new io(a.thisDep,a.contextDep,a.propDep,function(t,e){var n=s.append(t,e),i=t.shared.context;return e.set(i,"."+qi,n[2]),e.set(i,"."+tr,n[3]),n})}return{viewport:a,scissor_box:o(Bi)}}(t,b,d),w=function(t,e){var n=t.static,i=t.dynamic,r=function(){if(Ui in n){var t=n[Ui];eo(t)?t=a.getElements(a.create(t,!0)):t&&(t=a.getElements(t),L.command(t,"invalid elements",e.commandStr));var r=oo(function(e,n){if(t){var i=e.link(t);return e.ELEMENTS=i,i}return e.ELEMENTS=null,null});return r.value=t,r}if(Ui in i){var o=i[Ui];return ao(o,function(t,e){var n=t.shared,i=n.isBufferArgs,r=n.elements,a=t.invoke(e,o),s=e.def("null"),l=e.def(i,"(",a,")"),u=t.cond(l).then(s,"=",r,".createStream(",a,");").else(s,"=",r,".getElements(",a,");");return L.optional(function(){t.assert(u.else,"!"+a+"||"+s,"invalid elements")}),e.entry(u),e.exit(t.cond(l).then(r,".destroyStream(",s,");")),t.ELEMENTS=s,s})}return null}();function o(t,o){if(t in n){var a=0|n[t];return L.command(!o||a>=0,"invalid "+t,e.commandStr),oo(function(t,e){return o&&(t.OFFSET=a),a})}if(t in i){var s=i[t];return ao(s,function(e,n){var i=e.invoke(n,s);return o&&(e.OFFSET=i,L.optional(function(){e.assert(n,i+">=0","invalid "+t)})),i})}return o&&r?oo(function(t,e){return t.OFFSET="0",0}):null}var s=o(Qi,!0);return{elements:r,primitive:function(){if(Yi in n){var t=n[Yi];return L.commandParameter(t,_t,"invalid primitve",e.commandStr),oo(function(e,n){return _t[t]})}if(Yi in i){var o=i[Yi];return ao(o,function(t,e){var n=t.constants.primTypes,i=t.invoke(e,o);return L.optional(function(){t.assert(e,i+" in "+n,"invalid primitive, must be one of "+Object.keys(_t))}),e.def(n,"[",i,"]")})}return r?ro(r)?r.value?oo(function(t,e){return e.def(t.ELEMENTS,".primType")}):oo(function(){return Dr}):new io(r.thisDep,r.contextDep,r.propDep,function(t,e){var n=t.ELEMENTS;return e.def(n,"?",n,".primType:",Dr)}):null}(),count:function(){if(Ji in n){var t=0|n[Ji];return L.command("number"==typeof t&&t>=0,"invalid vertex count",e.commandStr),oo(function(){return t})}if(Ji in i){var o=i[Ji];return ao(o,function(t,e){var n=t.invoke(e,o);return L.optional(function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")}),n})}if(r){if(ro(r)){if(r)return s?new io(s.thisDep,s.contextDep,s.propDep,function(t,e){var n=e.def(t.ELEMENTS,".vertCount-",t.OFFSET);return L.optional(function(){t.assert(e,n+">=0","invalid vertex offset/element buffer too small")}),n}):oo(function(t,e){return e.def(t.ELEMENTS,".vertCount")});var a=oo(function(){return-1});return L.optional(function(){a.MISSING=!0}),a}var l=new io(r.thisDep||s.thisDep,r.contextDep||s.contextDep,r.propDep||s.propDep,function(t,e){var n=t.ELEMENTS;return t.OFFSET?e.def(n,"?",n,".vertCount-",t.OFFSET,":-1"):e.def(n,"?",n,".vertCount:-1")});return L.optional(function(){l.DYNAMIC=!0}),l}return null}(),instances:o(Zi,!1),offset:s}}(t,d),S=function(t,e){var n=t.static,i=t.dynamic,o={};return _.forEach(function(t){var a=C(t);function s(e,r){if(t in n){var s=e(n[t]);o[a]=oo(function(){return s})}else if(t in i){var l=i[t];o[a]=ao(l,function(t,e){return r(t,e,t.invoke(e,l))})}}switch(t){case Mi:case gi:case pi:case Li:case bi:case zi:case Ti:case Ei:case Ai:case _i:return s(function(n){return L.commandType(n,"boolean",t,e.commandStr),n},function(e,n,i){return L.optional(function(){e.assert(n,"typeof "+i+'==="boolean"',"invalid flag "+t,e.commandStr)}),i});case xi:return s(function(n){return L.commandParameter(n,Xr,"invalid "+t,e.commandStr),Xr[n]},function(e,n,i){var r=e.constants.compareFuncs;return L.optional(function(){e.assert(n,i+" in "+r,"invalid "+t+", must be one of "+Object.keys(Xr))}),n.def(r,"[",i,"]")});case wi:return s(function(t){return L.command(Bt(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[0]<=t[1],"depth range is 2d array",e.commandStr),t},function(t,e,n){return L.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")}),[e.def("+",n,"[0]"),e.def("+",n,"[1]")]});case yi:return s(function(t){L.commandType(t,"object","blend.func",e.commandStr);var n="srcRGB"in t?t.srcRGB:t.src,i="srcAlpha"in t?t.srcAlpha:t.src,r="dstRGB"in t?t.dstRGB:t.dst,o="dstAlpha"in t?t.dstAlpha:t.dst;return L.commandParameter(n,Zr,a+".srcRGB",e.commandStr),L.commandParameter(i,Zr,a+".srcAlpha",e.commandStr),L.commandParameter(r,Zr,a+".dstRGB",e.commandStr),L.commandParameter(o,Zr,a+".dstAlpha",e.commandStr),L.command(-1===$r.indexOf(n+", "+r),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+r+")",e.commandStr),[Zr[n],Zr[r],Zr[i],Zr[o]]},function(e,n,i){var r=e.constants.blendFuncs;function o(o,a){var s=n.def('"',o,a,'" in ',i,"?",i,".",o,a,":",i,".",o);return L.optional(function(){e.assert(n,s+" in "+r,"invalid "+t+"."+o+a+", must be one of "+Object.keys(Zr))}),s}L.optional(function(){e.assert(n,i+"&&typeof "+i+'==="object"',"invalid blend func, must be an object")});var a=o("src","RGB"),s=o("dst","RGB");L.optional(function(){var t=e.constants.invalidBlendCombinations;e.assert(n,t+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var l=n.def(r,"[",a,"]"),u=n.def(r,"[",o("src","Alpha"),"]");return[l,n.def(r,"[",s,"]"),u,n.def(r,"[",o("dst","Alpha"),"]")]});case mi:return s(function(n){return"string"==typeof n?(L.commandParameter(n,m,"invalid "+t,e.commandStr),[m[n],m[n]]):"object"==typeof n?(L.commandParameter(n.rgb,m,t+".rgb",e.commandStr),L.commandParameter(n.alpha,m,t+".alpha",e.commandStr),[m[n.rgb],m[n.alpha]]):void L.commandRaise("invalid blend.equation",e.commandStr)},function(e,n,i){var r=e.constants.blendEquations,o=n.def(),a=n.def(),s=e.cond("typeof ",i,'==="string"');return L.optional(function(){function n(t,n,i){e.assert(t,i+" in "+r,"invalid "+n+", must be one of "+Object.keys(m))}n(s.then,t,i),e.assert(s.else,i+"&&typeof "+i+'==="object"',"invalid "+t),n(s.else,t+".rgb",i+".rgb"),n(s.else,t+".alpha",i+".alpha")}),s.then(o,"=",a,"=",r,"[",i,"];"),s.else(o,"=",r,"[",i,".rgb];",a,"=",r,"[",i,".alpha];"),n(s),[o,a]});case vi:return s(function(t){return L.command(Bt(t)&&4===t.length,"blend.color must be a 4d array",e.commandStr),J(4,function(e){return+t[e]})},function(t,e,n){return L.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")}),J(4,function(t){return e.def("+",n,"[",t,"]")})});case Di:return s(function(t){return L.commandType(t,"number",a,e.commandStr),0|t},function(t,e,n){return L.optional(function(){t.assert(e,"typeof "+n+'==="number"',"invalid stencil.mask")}),e.def(n,"|0")});case ji:return s(function(n){L.commandType(n,"object",a,e.commandStr);var i=n.cmp||"keep",r=n.ref||0,o="mask"in n?n.mask:-1;return L.commandParameter(i,Xr,t+".cmp",e.commandStr),L.commandType(r,"number",t+".ref",e.commandStr),L.commandType(o,"number",t+".mask",e.commandStr),[Xr[i],r,o]},function(t,e,n){var i=t.constants.compareFuncs;return L.optional(function(){function r(){t.assert(e,Array.prototype.join.call(arguments,""),"invalid stencil.func")}r(n+"&&typeof ",n,'==="object"'),r('!("cmp" in ',n,")||(",n,".cmp in ",i,")")}),[e.def('"cmp" in ',n,"?",i,"[",n,".cmp]",":",Vr),e.def(n,".ref|0"),e.def('"mask" in ',n,"?",n,".mask|0:-1")]});case Pi:case Ri:return s(function(n){L.commandType(n,"object",a,e.commandStr);var i=n.fail||"keep",r=n.zfail||"keep",o=n.zpass||"keep";return L.commandParameter(i,Kr,t+".fail",e.commandStr),L.commandParameter(r,Kr,t+".zfail",e.commandStr),L.commandParameter(o,Kr,t+".zpass",e.commandStr),[t===Ri?Pr:jr,Kr[i],Kr[r],Kr[o]]},function(e,n,i){var r=e.constants.stencilOps;function o(o){return L.optional(function(){e.assert(n,'!("'+o+'" in '+i+")||("+i+"."+o+" in "+r+")","invalid "+t+"."+o+", must be one of "+Object.keys(Kr))}),n.def('"',o,'" in ',i,"?",r,"[",i,".",o,"]:",Vr)}return L.optional(function(){e.assert(n,i+"&&typeof "+i+'==="object"',"invalid "+t)}),[t===Ri?Pr:jr,o("fail"),o("zfail"),o("zpass")]});case Oi:return s(function(t){L.commandType(t,"object",a,e.commandStr);var n=0|t.factor,i=0|t.units;return L.commandType(n,"number",a+".factor",e.commandStr),L.commandType(i,"number",a+".units",e.commandStr),[n,i]},function(e,n,i){return L.optional(function(){e.assert(n,i+"&&typeof "+i+'==="object"',"invalid "+t)}),[n.def(i,".factor|0"),n.def(i,".units|0")]});case Ci:return s(function(t){var n=0;return"front"===t?n=jr:"back"===t&&(n=Pr),L.command(!!n,a,e.commandStr),n},function(t,e,n){return L.optional(function(){t.assert(e,n+'==="front"||'+n+'==="back"',"invalid cull.face")}),e.def(n,'==="front"?',jr,":",Pr)});case ki:return s(function(t){return L.command("number"==typeof t&&t>=r.lineWidthDims[0]&&t<=r.lineWidthDims[1],"invalid line width, must be a positive number between "+r.lineWidthDims[0]+" and "+r.lineWidthDims[1],e.commandStr),t},function(t,e,n){return L.optional(function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">="+r.lineWidthDims[0]+"&&"+n+"<="+r.lineWidthDims[1],"invalid line width")}),n});case Ii:return s(function(t){return L.commandParameter(t,to,a,e.commandStr),to[t]},function(t,e,n){return L.optional(function(){t.assert(e,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),e.def(n+'==="cw"?'+Rr+":"+zr)});case Si:return s(function(t){return L.command(Bt(t)&&4===t.length,"color.mask must be length 4 array",e.commandStr),t.map(function(t){return!!t})},function(t,e,n){return L.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")}),J(4,function(t){return"!!"+n+"["+t+"]"})});case Ni:return s(function(t){L.command("object"==typeof t&&t,a,e.commandStr);var n="value"in t?t.value:1,i=!!t.invert;return L.command("number"==typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",e.commandStr),[n,i]},function(t,e,n){return L.optional(function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")}),[e.def('"value" in ',n,"?+",n,".value:1"),e.def("!!",n,".invert")]})}}),o}(t,d),M=function(t,e,i){var r=t.static,o=t.dynamic;function a(t){if(t in r){var e=n.id(r[t]);L.optional(function(){h.shader(qr[t],e,L.guessCommand())});var i=oo(function(){return e});return i.id=e,i}if(t in o){var a=o[t];return ao(a,function(e,n){var i=e.invoke(n,a),r=n.def(e.shared.strings,".id(",i,")");return L.optional(function(){n(e.shared.shader,".shader(",qr[t],",",r,",",e.command,");")}),r})}return null}var s,l=a(Hi),u=a(Wi),c=null;return ro(l)&&ro(u)?(c=h.program(u.id,l.id,null,i),s=oo(function(t,e){return t.link(c)})):s=new io(l&&l.thisDep||u&&u.thisDep,l&&l.contextDep||u&&u.contextDep,l&&l.propDep||u&&u.propDep,function(t,e){var n,i=t.shared.shader;n=l?l.append(t,e):e.def(i,".",Hi);var r=i+".program("+(u?u.append(t,e):e.def(i,".",Wi))+","+n;return L.optional(function(){r+=","+t.command}),e.def(r+")")}),{frag:l,vert:u,progVar:s,program:c}}(t,0,g);function I(t){var e=x[t];e&&(S[t]=e)}I(Fi),I(C(Bi));var k=Object.keys(S).length>0,T={framebuffer:b,draw:w,shader:M,state:S,dirty:k,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(T.profile=function(t){var e,n=t.static,i=t.dynamic;if(Gi in n){var r=!!n[Gi];(e=oo(function(t,e){return r})).enable=r}else if(Gi in i){var o=i[Gi];e=ao(o,function(t,e){return t.invoke(e,o)})}return e}(t),T.uniforms=function(t,e){var n=t.static,i=t.dynamic,r={};return Object.keys(n).forEach(function(t){var i,o=n[t];if("number"==typeof o||"boolean"==typeof o)i=oo(function(){return o});else if("function"==typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?i=oo(function(t){return t.link(o)}):"framebuffer"===a||"framebufferCube"===a?(L.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+t+'"',e.commandStr),i=oo(function(t){return t.link(o.color[0])})):L.commandRaise('invalid data for uniform "'+t+'"',e.commandStr)}else Bt(o)?i=oo(function(e){return e.global.def("[",J(o.length,function(n){return L.command("number"==typeof o[n]||"boolean"==typeof o[n],"invalid uniform "+t,e.commandStr),o[n]}),"]")}):L.commandRaise('invalid or missing data for uniform "'+t+'"',e.commandStr);i.value=o,r[t]=i}),Object.keys(i).forEach(function(t){var e=i[t];r[t]=ao(e,function(t,n){return t.invoke(n,e)})}),r}(s,d),T.drawVAO=T.scopeVAO=function(t,e){var n=t.static,i=t.dynamic;if($i in n){var r=n[$i];return null!==r&&null===c.getVAO(r)&&(r=c.createVAO(r)),oo(function(t){return t.link(c.getVAO(r))})}if($i in i){var o=i[$i];return ao(o,function(t,e){var n=t.invoke(e,o);return e.def(t.shared.vao+".getVAO("+n+")")})}return null}(t),!T.drawVAO&&M.program&&!g&&i.angle_instanced_arrays){var O=!0,E=M.program.attributes.map(function(t){var n=e.static[t];return O=O&&!!n,n});if(O&&E.length>0){var A=c.getVAO(c.createVAO(E));T.drawVAO=new io(null,null,null,function(t,e){return t.link(A)}),T.useVAO=!0}}return g?T.useVAO=!0:T.attributes=function(t,e){var i=t.static,r=t.dynamic,a={};return Object.keys(i).forEach(function(t){var r=i[t],s=n.id(t),l=new v;if(eo(r))l.state=oi,l.buffer=o.getBuffer(o.create(r,rr,!1,!0)),l.type=0;else{var u=o.getBuffer(r);if(u)l.state=oi,l.buffer=u,l.type=0;else if(L.command("object"==typeof r&&r,"invalid data for attribute "+t,e.commandStr),"constant"in r){var c=r.constant;l.buffer="null",l.state=ai,"number"==typeof c?l.x=c:(L.command(Bt(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+t,e.commandStr),ii.forEach(function(t,e){e<c.length&&(l[t]=c[e])}))}else{u=eo(r.buffer)?o.getBuffer(o.create(r.buffer,rr,!1,!0)):o.getBuffer(r.buffer),L.command(!!u,'missing buffer for attribute "'+t+'"',e.commandStr);var h=0|r.offset;L.command(h>=0,'invalid offset for attribute "'+t+'"',e.commandStr);var d=0|r.stride;L.command(d>=0&&d<256,'invalid stride for attribute "'+t+'", must be integer betweeen [0, 255]',e.commandStr);var f=0|r.size;L.command(!("size"in r)||f>0&&f<=4,'invalid size for attribute "'+t+'", must be 1,2,3,4',e.commandStr);var p=!!r.normalized,g=0;"type"in r&&(L.commandParameter(r.type,ct,"invalid type for attribute "+t,e.commandStr),g=ct[r.type]);var m=0|r.divisor;"divisor"in r&&(L.command(0===m||y,'cannot specify divisor for attribute "'+t+'", instancing not supported',e.commandStr),L.command(m>=0,'invalid divisor for attribute "'+t+'"',e.commandStr)),L.optional(function(){var n=e.commandStr,i=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(r).forEach(function(e){L.command(i.indexOf(e)>=0,'unknown parameter "'+e+'" for attribute pointer "'+t+'" (valid parameters are '+i+")",n)})}),l.buffer=u,l.state=oi,l.size=f,l.normalized=p,l.type=g||u.dtype,l.offset=h,l.stride=d,l.divisor=m}}a[t]=oo(function(t,e){var n=t.attribCache;if(s in n)return n[s];var i={isStream:!1};return Object.keys(l).forEach(function(t){i[t]=l[t]}),l.buffer&&(i.buffer=t.link(l.buffer),i.type=i.type||i.buffer+".dtype"),n[s]=i,i})}),Object.keys(r).forEach(function(t){var e=r[t];a[t]=ao(e,function(n,i){var r=n.invoke(i,e),o=n.shared,a=n.constants,s=o.isBufferArgs,l=o.buffer;L.optional(function(){n.assert(i,r+"&&(typeof "+r+'==="object"||typeof '+r+'==="function")&&('+s+"("+r+")||"+l+".getBuffer("+r+")||"+l+".getBuffer("+r+".buffer)||"+s+"("+r+'.buffer)||("constant" in '+r+"&&(typeof "+r+'.constant==="number"||'+o.isArrayLike+"("+r+".constant))))",'invalid dynamic attribute "'+t+'"')});var u={isStream:i.def(!1)},c=new v;c.state=oi,Object.keys(c).forEach(function(t){u[t]=i.def(""+c[t])});var h=u.buffer,d=u.type;function f(t){i(u[t],"=",r,".",t,"|0;")}return i("if(",s,"(",r,")){",u.isStream,"=true;",h,"=",l,".createStream(",rr,",",r,");",d,"=",h,".dtype;","}else{",h,"=",l,".getBuffer(",r,");","if(",h,"){",d,"=",h,".dtype;",'}else if("constant" in ',r,"){",u.state,"=",ai,";","if(typeof "+r+'.constant === "number"){',u[ii[0]],"=",r,".constant;",ii.slice(1).map(function(t){return u[t]}).join("="),"=0;","}else{",ii.map(function(t,e){return u[t]+"="+r+".constant.length>"+e+"?"+r+".constant["+e+"]:0;"}).join(""),"}}else{","if(",s,"(",r,".buffer)){",h,"=",l,".createStream(",rr,",",r,".buffer);","}else{",h,"=",l,".getBuffer(",r,".buffer);","}",d,'="type" in ',r,"?",a.glTypes,"[",r,".type]:",h,".dtype;",u.normalized,"=!!",r,".normalized;"),f("size"),f("offset"),f("stride"),f("divisor"),i("}}"),i.exit("if(",u.isStream,"){",l,".destroyStream(",h,");","}"),u})}),a}(e,d),T.context=function(t){var e=t.static,n=t.dynamic,i={};return Object.keys(e).forEach(function(t){var n=e[t];i[t]=oo(function(t,e){return"number"==typeof n||"boolean"==typeof n?""+n:t.link(n)})}),Object.keys(n).forEach(function(t){var e=n[t];i[t]=ao(e,function(t,n){return t.invoke(n,e)})}),i}(u),T}function D(t,e,n){var i=t.shared.context,r=t.scope();Object.keys(n).forEach(function(o){e.save(i,"."+o);var a=n[o].append(t,e);Array.isArray(a)?r(i,".",o,"=[",a.join(),"];"):r(i,".",o,"=",a,";")}),e(r)}function j(t,e,n,i){var r,o=t.shared,a=o.gl,s=o.framebuffer;b&&(r=e.def(o.extensions,".webgl_draw_buffers"));var l,u=t.constants,c=u.drawBuffer,h=u.backBuffer;l=n?n.append(t,e):e.def(s,".next"),i||e("if(",l,"!==",s,".cur){"),e("if(",l,"){",a,".bindFramebuffer(",Jr,",",l,".framebuffer);"),b&&e(r,".drawBuffersWEBGL(",c,"[",l,".colorAttachments.length]);"),e("}else{",a,".bindFramebuffer(",Jr,",null);"),b&&e(r,".drawBuffersWEBGL(",h,");"),e("}",s,".cur=",l,";"),i||e("}")}function P(t,e,n){var i=t.shared,r=i.gl,o=t.current,a=t.next,s=i.current,l=i.next,u=t.cond(s,".dirty");_.forEach(function(e){var i,c,h=C(e);if(!(h in n.state))if(h in a){i=a[h],c=o[h];var d=J(x[h].length,function(t){return u.def(i,"[",t,"]")});u(t.cond(d.map(function(t,e){return t+"!=="+c+"["+e+"]"}).join("||")).then(r,".",M[h],"(",d,");",d.map(function(t,e){return c+"["+e+"]="+t}).join(";"),";"))}else{i=u.def(l,".",h);var f=t.cond(i,"!==",s,".",h);u(f),h in S?f(t.cond(i).then(r,".enable(",S[h],");").else(r,".disable(",S[h],");"),s,".",h,"=",i,";"):f(r,".",M[h],"(",i,");",s,".",h,"=",i,";")}}),0===Object.keys(n.state).length&&u(s,".dirty=false;"),e(u)}function R(t,e,n,i){var r=t.shared,o=t.current,a=r.current,s=r.gl;no(Object.keys(n)).forEach(function(r){var l=n[r];if(!i||i(l)){var u=l.append(t,e);if(S[r]){var c=S[r];ro(l)?e(s,u?".enable(":".disable(",c,");"):e(t.cond(u).then(s,".enable(",c,");").else(s,".disable(",c,");")),e(a,".",r,"=",u,";")}else if(Bt(u)){var h=o[r];e(s,".",M[r],"(",u,");",u.map(function(t,e){return h+"["+e+"]="+t}).join(";"),";")}else e(s,".",M[r],"(",u,");",a,".",r,"=",u,";")}})}function z(t,e){y&&(t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays"))}function B(t,e,n,i,r){var o,a,s,l=t.shared,u=t.stats,c=l.current,h=l.timer,d=n.profile;function f(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function g(t){t(o=e.def(),"=",f(),";"),"string"==typeof r?t(u,".count+=",r,";"):t(u,".count++;"),p&&(i?t(a=e.def(),"=",h,".getNumPendingQueries();"):t(h,".beginQuery(",u,");"))}function v(t){t(u,".cpuTime+=",f(),"-",o,";"),p&&(i?t(h,".pushScopeStats(",a,",",h,".getNumPendingQueries(),",u,");"):t(h,".endQuery();"))}function m(t){var n=e.def(c,".profile");e(c,".profile=",t,";"),e.exit(c,".profile=",n,";")}if(d){if(ro(d))return void(d.enable?(g(e),v(e.exit),m("true")):m("false"));m(s=d.append(t,e))}else s=e.def(c,".profile");var y=t.block();g(y),e("if(",s,"){",y,"}");var b=t.block();v(b),e.exit("if(",s,"){",b,"}")}function F(t,e,n,i,r){var o=t.shared;i.forEach(function(i){var a,s=i.name,l=n.attributes[s];if(l){if(!r(l))return;a=l.append(t,e)}else{if(!r(so))return;var u=t.scopeAttrib(s);L.optional(function(){t.assert(e,u+".state","missing attribute "+s)}),a={},Object.keys(new v).forEach(function(t){a[t]=e.def(u,".",t)})}!function(n,i,r){var a=o.gl,s=e.def(n,".location"),l=e.def(o.attributes,"[",s,"]"),u=r.state,c=r.buffer,h=[r.x,r.y,r.z,r.w],d=["buffer","normalized","offset","stride"];function f(){e("if(!",l,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,o=r.type;if(n=r.size?e.def(r.size,"||",i):i,e("if(",l,".type!==",o,"||",l,".size!==",n,"||",d.map(function(t){return l+"."+t+"!=="+r[t]}).join("||"),"){",a,".bindBuffer(",rr,",",c,".buffer);",a,".vertexAttribPointer(",[s,n,o,r.normalized,r.stride,r.offset],");",l,".type=",o,";",l,".size=",n,";",d.map(function(t){return l+"."+t+"="+r[t]+";"}).join(""),"}"),y){var u=r.divisor;e("if(",l,".divisor!==",u,"){",t.instancing,".vertexAttribDivisorANGLE(",[s,u],");",l,".divisor=",u,";}")}}function p(){e("if(",l,".buffer){",a,".disableVertexAttribArray(",s,");",l,".buffer=null;","}if(",ii.map(function(t,e){return l+"."+t+"!=="+h[e]}).join("||"),"){",a,".vertexAttrib4f(",s,",",h,");",ii.map(function(t,e){return l+"."+t+"="+h[e]+";"}).join(""),"}")}u===oi?f():u===ai?p():(e("if(",u,"===",oi,"){"),f(),e("}else{"),p(),e("}"))}(t.link(i),function(t){switch(t){case yr:case _r:case Ir:return 2;case br:case Sr:case kr:return 3;case xr:case Mr:case Tr:return 4;default:return 1}}(i.info.type),a)})}function V(t,e,i,r,o){for(var a,s=t.shared,l=s.gl,u=0;u<r.length;++u){var c,h=r[u],d=h.name,f=h.info.type,p=i.uniforms[d],g=t.link(h)+".location";if(p){if(!o(p))continue;if(ro(p)){var v=p.value;if(L.command(null!==v&&void 0!==v,'missing uniform "'+d+'"',t.commandStr),f===Nr||f===Lr){L.command("function"==typeof v&&(f===Nr&&("texture2d"===v._reglType||"framebuffer"===v._reglType)||f===Lr&&("textureCube"===v._reglType||"framebufferCube"===v._reglType)),"invalid texture for uniform "+d,t.commandStr);var m=t.link(v._texture||v.color[0]._texture);e(l,".uniform1i(",g,",",m+".bind());"),e.exit(m,".unbind();")}else if(f===Or||f===Er||f===Ar){L.optional(function(){L.command(Bt(v),"invalid matrix for uniform "+d,t.commandStr),L.command(f===Or&&4===v.length||f===Er&&9===v.length||f===Ar&&16===v.length,"invalid length for matrix uniform "+d,t.commandStr)});var y=t.global.def("new Float32Array(["+Array.prototype.slice.call(v)+"])"),b=2;f===Er?b=3:f===Ar&&(b=4),e(l,".uniformMatrix",b,"fv(",g,",false,",y,");")}else{switch(f){case mr:L.commandType(v,"number","uniform "+d,t.commandStr),a="1f";break;case yr:L.command(Bt(v)&&2===v.length,"uniform "+d,t.commandStr),a="2f";break;case br:L.command(Bt(v)&&3===v.length,"uniform "+d,t.commandStr),a="3f";break;case xr:L.command(Bt(v)&&4===v.length,"uniform "+d,t.commandStr),a="4f";break;case Cr:L.commandType(v,"boolean","uniform "+d,t.commandStr),a="1i";break;case wr:L.commandType(v,"number","uniform "+d,t.commandStr),a="1i";break;case Ir:case _r:L.command(Bt(v)&&2===v.length,"uniform "+d,t.commandStr),a="2i";break;case kr:case Sr:L.command(Bt(v)&&3===v.length,"uniform "+d,t.commandStr),a="3i";break;case Tr:case Mr:L.command(Bt(v)&&4===v.length,"uniform "+d,t.commandStr),a="4i"}e(l,".uniform",a,"(",g,",",Bt(v)?Array.prototype.slice.call(v):v,");")}continue}c=p.append(t,e)}else{if(!o(so))continue;c=e.def(s.uniforms,"[",n.id(d),"]")}f===Nr?(L(!Array.isArray(c),"must specify a scalar prop for textures"),e("if(",c,"&&",c,'._reglType==="framebuffer"){',c,"=",c,".color[0];","}")):f===Lr&&(L(!Array.isArray(c),"must specify a scalar prop for cube maps"),e("if(",c,"&&",c,'._reglType==="framebufferCube"){',c,"=",c,".color[0];","}")),L.optional(function(){function n(n,i){t.assert(e,n,'bad data or missing for uniform "'+d+'".  '+i)}function i(t){L(!Array.isArray(c),"must not specify an array type for uniform"),n("typeof "+c+'==="'+t+'"',"invalid type, expected "+t)}function r(e,i){Array.isArray(c)?L(c.length===e,"must have length "+e):n(s.isArrayLike+"("+c+")&&"+c+".length==="+e,"invalid vector, should have length "+e,t.commandStr)}function o(e){L(!Array.isArray(c),"must not specify a value type"),n("typeof "+c+'==="function"&&'+c+'._reglType==="texture'+(e===ar?"2d":"Cube")+'"',"invalid texture type",t.commandStr)}switch(f){case wr:i("number");break;case _r:r(2);break;case Sr:r(3);break;case Mr:r(4);break;case mr:i("number");break;case yr:r(2);break;case br:r(3);break;case xr:r(4);break;case Cr:i("boolean");break;case Ir:r(2);break;case kr:r(3);break;case Tr:case Or:r(4);break;case Er:r(9);break;case Ar:r(16);break;case Nr:o(ar);break;case Lr:o(sr)}});var x=1;switch(f){case Nr:case Lr:var w=e.def(c,"._texture");e(l,".uniform1i(",g,",",w,".bind());"),e.exit(w,".unbind();");continue;case wr:case Cr:a="1i";break;case _r:case Ir:a="2i",x=2;break;case Sr:case kr:a="3i",x=3;break;case Mr:case Tr:a="4i",x=4;break;case mr:a="1f";break;case yr:a="2f",x=2;break;case br:a="3f",x=3;break;case xr:a="4f",x=4;break;case Or:a="Matrix2fv";break;case Er:a="Matrix3fv";break;case Ar:a="Matrix4fv"}if(e(l,".uniform",a,"(",g,","),"M"===a.charAt(0)){var _=Math.pow(f-Or+2,2),S=t.global.def("new Float32Array(",_,")");Array.isArray(c)?e("false,(",J(_,function(t){return S+"["+t+"]="+c[t]}),",",S,")"):e("false,(Array.isArray(",c,")||",c," instanceof Float32Array)?",c,":(",J(_,function(t){return S+"["+t+"]="+c+"["+t+"]"}),",",S,")")}else x>1?e(J(x,function(t){return Array.isArray(c)?c[t]:c+"["+t+"]"})):(L(!Array.isArray(c),"uniform value must not be an array"),e(c));e(");")}}function W(t,e,n,i){var r=t.shared,o=r.gl,a=r.draw,s=i.draw;var l=function(){var r,l=s.elements,u=e;return l?((l.contextDep&&i.contextDynamic||l.propDep)&&(u=n),r=l.append(t,u)):r=u.def(a,".",Ui),r&&u("if("+r+")"+o+".bindBuffer("+or+","+r+".buffer.buffer);"),r}();function u(r){var o=s[r];return o?o.contextDep&&i.contextDynamic||o.propDep?o.append(t,n):o.append(t,e):e.def(a,".",r)}var c,h,d=u(Yi),f=u(Qi),p=function(){var r,o=s.count,l=e;return o?((o.contextDep&&i.contextDynamic||o.propDep)&&(l=n),r=o.append(t,l),L.optional(function(){o.MISSING&&t.assert(e,"false","missing vertex count"),o.DYNAMIC&&t.assert(l,r+">=0","missing vertex count")})):(r=l.def(a,".",Ji),L.optional(function(){t.assert(l,r+">=0","missing vertex count")})),r}();if("number"==typeof p){if(0===p)return}else n("if(",p,"){"),n.exit("}");y&&(c=u(Zi),h=t.instancing);var g=l+".type",v=s.elements&&ro(s.elements);function m(){function t(){n(h,".drawElementsInstancedANGLE(",[d,p,g,f+"<<(("+g+"-"+ri+")>>1)",c],");")}function e(){n(h,".drawArraysInstancedANGLE(",[d,f,p,c],");")}l?v?t():(n("if(",l,"){"),t(),n("}else{"),e(),n("}")):e()}function b(){function t(){n(o+".drawElements("+[d,p,g,f+"<<(("+g+"-"+ri+")>>1)"]+");")}function e(){n(o+".drawArrays("+[d,f,p]+");")}l?v?t():(n("if(",l,"){"),t(),n("}else{"),e(),n("}")):e()}y&&("number"!=typeof c||c>=0)?"string"==typeof c?(n("if(",c,">0){"),m(),n("}else if(",c,"<0){"),b(),n("}")):m():b()}function H(t,e,n,i,r){var o=A(),a=o.proc("body",r);return L.optional(function(){o.commandStr=e.commandStr,o.command=o.link(e.commandStr)}),y&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),t(o,a,n,i),o.compile().body}function U(t,e,n,i){z(t,e),n.useVAO?n.drawVAO?e(t.shared.vao,".setVAO(",n.drawVAO.append(t,e),");"):e(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(e(t.shared.vao,".setVAO(null);"),F(t,e,n,i.attributes,function(){return!0})),V(t,e,n,i.uniforms,function(){return!0}),W(t,e,e,n)}function Y(t,e,n,i){function r(){return!0}t.batchId="a1",z(t,e),F(t,e,n,i.attributes,r),V(t,e,n,i.uniforms,r),W(t,e,e,n)}function Q(t,e,n,i){z(t,e);var r=n.contextDep,o=e.def(),a=e.def();t.shared.props=a,t.batchId=o;var s=t.scope(),l=t.scope();function u(t){return t.contextDep&&r||t.propDep}function c(t){return!u(t)}if(e(s.entry,"for(",o,"=0;",o,"<","a1",";++",o,"){",a,"=","a0","[",o,"];",l,"}",s.exit),n.needsContext&&D(t,l,n.context),n.needsFramebuffer&&j(t,l,n.framebuffer),R(t,l,n.state,u),n.profile&&u(n.profile)&&B(t,l,n,!1,!0),i)n.useVAO?n.drawVAO?u(n.drawVAO)?l(t.shared.vao,".setVAO(",n.drawVAO.append(t,l),");"):s(t.shared.vao,".setVAO(",n.drawVAO.append(t,s),");"):s(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(s(t.shared.vao,".setVAO(null);"),F(t,s,n,i.attributes,c),F(t,l,n,i.attributes,u)),V(t,s,n,i.uniforms,c),V(t,l,n,i.uniforms,u),W(t,s,l,n);else{var h=t.global.def("{}"),d=n.shader.progVar.append(t,l),f=l.def(d,".id"),p=l.def(h,"[",f,"]");l(t.shared.gl,".useProgram(",d,".program);","if(!",p,"){",p,"=",h,"[",f,"]=",t.link(function(e){return H(Y,t,n,e,2)}),"(",d,");}",p,".call(this,a0[",o,"],",o,");")}}function Z(t,e,n){var i=e.static[n];if(i&&function(t){if("object"==typeof t&&!Bt(t)){for(var e=Object.keys(t),n=0;n<e.length;++n)if(G.isDynamic(t[e[n]]))return!0;return!1}}(i)){var r=t.global,o=Object.keys(i),a=!1,s=!1,l=!1,u=t.global.def("{}");o.forEach(function(e){var n=i[e];if(G.isDynamic(n)){"function"==typeof n&&(n=i[e]=G.unbox(n));var o=ao(n,null);a=a||o.thisDep,l=l||o.propDep,s=s||o.contextDep}else{switch(r(u,".",e,"="),typeof n){case"number":r(n);break;case"string":r('"',n,'"');break;case"object":Array.isArray(n)&&r("[",n.join(),"]");break;default:r(t.link(n))}r(";")}}),e.dynamic[n]=new G.DynamicVariable(hi,{thisDep:a,contextDep:s,propDep:l,ref:u,append:function(t,e){o.forEach(function(n){var r=i[n];if(G.isDynamic(r)){var o=t.invoke(e,r);e(u,".",n,"=",o,";")}})}}),delete e.static[n]}}return{next:w,current:x,procs:function(){var t=A(),e=t.proc("poll"),n=t.proc("refresh"),o=t.block();e(o),n(o);var a,s=t.shared,l=s.gl,u=s.next,c=s.current;o(c,".dirty=false;"),j(t,e),j(t,n,null,!0),y&&(a=t.link(y)),i.oes_vertex_array_object&&n(t.link(i.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var h=0;h<r.maxAttributes;++h){var d=n.def(s.attributes,"[",h,"]"),f=t.cond(d,".buffer");f.then(l,".enableVertexAttribArray(",h,");",l,".bindBuffer(",rr,",",d,".buffer.buffer);",l,".vertexAttribPointer(",h,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(l,".disableVertexAttribArray(",h,");",l,".vertexAttrib4f(",h,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),n(f),y&&n(a,".vertexAttribDivisorANGLE(",h,",",d,".divisor);")}return n(t.shared.vao,".currentVAO=null;",t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"),Object.keys(S).forEach(function(i){var r=S[i],a=o.def(u,".",i),s=t.block();s("if(",a,"){",l,".enable(",r,")}else{",l,".disable(",r,")}",c,".",i,"=",a,";"),n(s),e("if(",a,"!==",c,".",i,"){",s,"}")}),Object.keys(M).forEach(function(i){var r,a,s=M[i],h=x[i],d=t.block();if(d(l,".",s,"("),Bt(h)){var f=h.length;r=t.global.def(u,".",i),a=t.global.def(c,".",i),d(J(f,function(t){return r+"["+t+"]"}),");",J(f,function(t){return a+"["+t+"]="+r+"["+t+"];"}).join("")),e("if(",J(f,function(t){return r+"["+t+"]!=="+a+"["+t+"]"}).join("||"),"){",d,"}")}else r=o.def(u,".",i),a=o.def(c,".",i),d(r,");",c,".",i,"=",r,";"),e("if(",r,"!==",a,"){",d,"}");n(d)}),t.compile()}(),compile:function(t,i,r,o,a){var s=A();s.stats=s.link(a),Object.keys(i.static).forEach(function(t){Z(s,i,t)}),ir.forEach(function(e){Z(s,t,e)});var l=N(t,i,r,o,s);return function(t,e){var n=t.proc("draw",1);z(t,n),D(t,n,e.context),j(t,n,e.framebuffer),P(t,n,e),R(t,n,e.state),B(t,n,e,!1,!0);var i=e.shader.progVar.append(t,n);if(n(t.shared.gl,".useProgram(",i,".program);"),e.shader.program)U(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var r=t.global.def("{}"),o=n.def(i,".id"),a=n.def(r,"[",o,"]");n(t.cond(a).then(a,".call(this,a0);").else(a,"=",r,"[",o,"]=",t.link(function(n){return H(U,t,e,n,1)}),"(",i,");",a,".call(this,a0);"))}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}(s,l),function(t,e){var i=t.proc("scope",3);t.batchId="a2";var r=t.shared,o=r.current;function a(n){var o=e.shader[n];o&&i.set(r.shader,"."+n,o.append(t,i))}D(t,i,e.context),e.framebuffer&&e.framebuffer.append(t,i),no(Object.keys(e.state)).forEach(function(n){var o=e.state[n].append(t,i);Bt(o)?o.forEach(function(e,r){i.set(t.next[n],"["+r+"]",e)}):i.set(r.next,"."+n,o)}),B(t,i,e,!0,!0),[Ui,Qi,Ji,Zi,Yi].forEach(function(n){var o=e.draw[n];o&&i.set(r.draw,"."+n,""+o.append(t,i))}),Object.keys(e.uniforms).forEach(function(o){var a=e.uniforms[o].append(t,i);Array.isArray(a)&&(a="["+a.join()+"]"),i.set(r.uniforms,"["+n.id(o)+"]",a)}),Object.keys(e.attributes).forEach(function(n){var r=e.attributes[n].append(t,i),o=t.scopeAttrib(n);Object.keys(new v).forEach(function(t){i.set(o,"."+t,r[t])})}),e.scopeVAO&&i.set(r.vao,".targetVAO",e.scopeVAO.append(t,i)),a(Wi),a(Hi),Object.keys(e.state).length>0&&(i(o,".dirty=true;"),i.exit(o,".dirty=true;")),i("a1(",t.shared.context,",a0,",t.batchId,");")}(s,l),function(t,e){var n=t.proc("batch",2);t.batchId="0",z(t,n);var i=!1,r=!0;Object.keys(e.context).forEach(function(t){i=i||e.context[t].propDep}),i||(D(t,n,e.context),r=!1);var o=e.framebuffer,a=!1;function s(t){return t.contextDep&&i||t.propDep}o?(o.propDep?i=a=!0:o.contextDep&&i&&(a=!0),a||j(t,n,o)):j(t,n,null),e.state.viewport&&e.state.viewport.propDep&&(i=!0),P(t,n,e),R(t,n,e.state,function(t){return!s(t)}),e.profile&&s(e.profile)||B(t,n,e,!1,"a1"),e.contextDep=i,e.needsContext=r,e.needsFramebuffer=a;var l=e.shader.progVar;if(l.contextDep&&i||l.propDep)Q(t,n,e,null);else{var u=l.append(t,n);if(n(t.shared.gl,".useProgram(",u,".program);"),e.shader.program)Q(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var c=t.global.def("{}"),h=n.def(u,".id"),d=n.def(c,"[",h,"]");n(t.cond(d).then(d,".call(this,a0,a1);").else(d,"=",c,"[",h,"]=",t.link(function(n){return H(Q,t,e,n,2)}),"(",u,");",d,".call(this,a0,a1);"))}}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}(s,l),e(s.compile(),{destroy:function(){l.shader.program.destroy()}})}}}var uo=34918,co=34919,ho=35007,fo=function(t,e){if(!e.ext_disjoint_timer_query)return null;var n=[];function i(t){n.push(t)}var r=[];var o=[];function a(t){o.push(t)}var s=[];function l(t,e,n){var i=o.pop()||new function(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null};i.startQueryIndex=t,i.endQueryIndex=e,i.sum=0,i.stats=n,s.push(i)}var u=[],c=[];return{beginQuery:function(t){var i=n.pop()||e.ext_disjoint_timer_query.createQueryEXT();e.ext_disjoint_timer_query.beginQueryEXT(ho,i),r.push(i),l(r.length-1,r.length,t)},endQuery:function(){e.ext_disjoint_timer_query.endQueryEXT(ho)},pushScopeStats:l,update:function(){var t,n,o=r.length;if(0!==o){c.length=Math.max(c.length,o+1),u.length=Math.max(u.length,o+1),u[0]=0,c[0]=0;var l=0;for(t=0,n=0;n<r.length;++n){var h=r[n];e.ext_disjoint_timer_query.getQueryObjectEXT(h,co)?(l+=e.ext_disjoint_timer_query.getQueryObjectEXT(h,uo),i(h)):r[t++]=h,u[n+1]=l,c[n+1]=t}for(r.length=t,t=0,n=0;n<s.length;++n){var d=s[n],f=d.startQueryIndex,p=d.endQueryIndex;d.sum+=u[p]-u[f];var g=c[f],v=c[p];v===g?(d.stats.gpuTime+=d.sum/1e6,a(d)):(d.startQueryIndex=g,d.endQueryIndex=v,s[t++]=d)}s.length=t}},getNumPendingQueries:function(){return r.length},clear:function(){n.push.apply(n,r);for(var t=0;t<n.length;t++)e.ext_disjoint_timer_query.deleteQueryEXT(n[t]);r.length=0,n.length=0},restore:function(){r.length=0,n.length=0}}},po=16384,go=256,vo=1024,mo=34962,yo="webglcontextlost",bo="webglcontextrestored",xo=1,wo=2,_o=3;function So(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}return function(n){var i=Y(n);if(!i)return null;var r=i.gl,o=r.getContextAttributes(),a=r.isContextLost(),s=function(t,e){var n={};function i(e){L.type(e,"string","extension name must be string");var i,r=e.toLowerCase();try{i=n[r]=t.getExtension(r)}catch(t){}return!!i}for(var r=0;r<e.extensions.length;++r){var o=e.extensions[r];if(!i(o))return e.onDestroy(),e.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return e.optionalExtensions.forEach(i),{extensions:n,restore:function(){Object.keys(n).forEach(function(t){if(n[t]&&!i(t))throw new Error("(regl): error restoring extension "+t)})}}}(r,i);if(!s)return null;var l,u,c=(l={"":0},u=[""],{id:function(t){var e=l[t];return e||(e=l[t]=u.length,u.push(t),e)},str:function(t){return u[t]}}),h={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},d=s.extensions,f=fo(r,d),p=W(),g=r.drawingBufferWidth,v=r.drawingBufferHeight,m={tick:0,time:0,viewportWidth:g,viewportHeight:v,framebufferWidth:g,framebufferHeight:v,drawingBufferWidth:g,drawingBufferHeight:v,pixelRatio:i.pixelRatio},y=rt(r,d),b=function(e,n,i,r){var o=0,a={};function s(t){this.id=o++,this.buffer=e.createBuffer(),this.type=t,this.usage=pt,this.byteLength=0,this.dimension=1,this.dtype=vt,this.persistentData=null,i.profile&&(this.stats={size:0})}s.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){h(this)};var l=[];function u(t,n,i){t.byteLength=n.byteLength,e.bufferData(t.type,n,i)}function c(e,n,i,r,o,a){var s,l;if(e.usage=i,Array.isArray(n)){if(e.dtype=r||mt,n.length>0)if(Array.isArray(n[0])){s=ft(n);for(var c=1,h=1;h<s.length;++h)c*=s[h];e.dimension=c,u(e,l=dt(n,s,e.dtype),i),a?e.persistentData=l:it.freeType(l)}else if("number"==typeof n[0]){e.dimension=o;var d=it.allocType(e.dtype,n.length);xt(d,n),u(e,d,i),a?e.persistentData=d:it.freeType(d)}else t(n[0])?(e.dimension=n[0].length,e.dtype=r||bt(n[0])||mt,u(e,l=dt(n,[n.length,n[0].length],e.dtype),i),a?e.persistentData=l:it.freeType(l)):L.raise("invalid buffer data")}else if(t(n))e.dtype=r||bt(n),e.dimension=o,u(e,n,i),a&&(e.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(ot(n)){s=n.shape;var f=n.stride,p=n.offset,g=0,v=0,m=0,y=0;1===s.length?(g=s[0],v=1,m=f[0],y=0):2===s.length?(g=s[0],v=s[1],m=f[0],y=f[1]):L.raise("invalid shape"),e.dtype=r||bt(n.data)||mt,e.dimension=v;var b=it.allocType(e.dtype,g*v);wt(b,n.data,g,v,m,y,p),u(e,b,i),a?e.persistentData=b:it.freeType(b)}else n instanceof ArrayBuffer?(e.dtype=vt,e.dimension=o,u(e,n,i),a&&(e.persistentData=new Uint8Array(new Uint8Array(n)))):L.raise("invalid buffer data")}function h(t){n.bufferCount--,r(t);var i=t.buffer;L(i,"buffer must not be deleted already"),e.deleteBuffer(i),t.buffer=null,delete a[t.id]}return i.profile&&(n.getTotalBufferSize=function(){var t=0;return Object.keys(a).forEach(function(e){t+=a[e].stats.size}),t}),{create:function(r,o,l,u){n.bufferCount++;var d=new s(o);function f(n){var r=pt,o=null,a=0,s=0,l=1;return Array.isArray(n)||t(n)||ot(n)||n instanceof ArrayBuffer?o=n:"number"==typeof n?a=0|n:n&&(L.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(L(null===o||Array.isArray(o)||t(o)||ot(o),"invalid data for buffer"),o=n.data),"usage"in n&&(L.parameter(n.usage,ht,"invalid buffer usage"),r=ht[n.usage]),"type"in n&&(L.parameter(n.type,ct,"invalid buffer type"),s=ct[n.type]),"dimension"in n&&(L.type(n.dimension,"number","invalid dimension"),l=0|n.dimension),"length"in n&&(L.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),d.bind(),o?c(d,o,r,s,l,u):(a&&e.bufferData(d.type,a,r),d.dtype=s||vt,d.usage=r,d.dimension=l,d.byteLength=a),i.profile&&(d.stats.size=d.byteLength*yt[d.dtype]),f}function p(t,n){L(n+t.byteLength<=d.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+n+" to a buffer of size "+d.byteLength),e.bufferSubData(d.type,n,t)}return a[d.id]=d,l||f(r),f._reglType="buffer",f._buffer=d,f.subdata=function(e,n){var i,r=0|(n||0);if(d.bind(),t(e)||e instanceof ArrayBuffer)p(e,r);else if(Array.isArray(e)){if(e.length>0)if("number"==typeof e[0]){var o=it.allocType(d.dtype,e.length);xt(o,e),p(o,r),it.freeType(o)}else if(Array.isArray(e[0])||t(e[0])){i=ft(e);var a=dt(e,i,d.dtype);p(a,r),it.freeType(a)}else L.raise("invalid buffer data")}else if(ot(e)){i=e.shape;var s=e.stride,l=0,u=0,c=0,h=0;1===i.length?(l=i[0],u=1,c=s[0],h=0):2===i.length?(l=i[0],u=i[1],c=s[0],h=s[1]):L.raise("invalid shape");var g=Array.isArray(e.data)?d.dtype:bt(e.data),v=it.allocType(g,l*u);wt(v,e.data,l,u,c,h,e.offset),p(v,r),it.freeType(v)}else L.raise("invalid data for buffer subdata");return f},i.profile&&(f.stats=d.stats),f.destroy=function(){h(d)},f},createStream:function(t,e){var n=l.pop();return n||(n=new s(t)),n.bind(),c(n,e,gt,0,1,!1),n},destroyStream:function(t){l.push(t)},clear:function(){at(a).forEach(h),l.forEach(h)},getBuffer:function(t){return t&&t._buffer instanceof s?t._buffer:null},restore:function(){at(a).forEach(function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)})},_initBuffer:c}}(r,h,i,function(t){return x.destroyBuffer(t)}),x=function(e,n,i,r,o){for(var a=i.maxAttributes,s=new Array(a),l=0;l<a;++l)s[l]=new Hn;var u=0,c={},h={Record:Hn,scope:{},state:s,currentVAO:null,targetVAO:null,restore:d()?function(){d()&&at(c).forEach(function(t){t.refresh()})}:function(){},createVAO:function(e){var i=new p;function s(e){L(Array.isArray(e),"arguments to vertex array constructor must be an array"),L(e.length<a,"too many attributes"),L(e.length>0,"must specify at least one attribute");var r={},l=i.attributes;l.length=e.length;for(var u=0;u<e.length;++u){var c,h=e[u],d=l[u]=new Hn,f=h.data||h;Array.isArray(f)||t(f)||ot(f)?(i.buffers[u]&&(c=i.buffers[u],t(f)&&c._buffer.byteLength>=f.byteLength?c.subdata(f):(c.destroy(),i.buffers[u]=null)),i.buffers[u]||(c=i.buffers[u]=o.create(h,Wn,!1,!0)),d.buffer=o.getBuffer(c),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1,r[u]=1):o.getBuffer(h)?(d.buffer=o.getBuffer(h),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1):o.getBuffer(h.buffer)?(d.buffer=o.getBuffer(h.buffer),d.size=0|(+h.size||d.buffer.dimension),d.normalized=!!h.normalized||!1,"type"in h?(L.parameter(h.type,ct,"invalid buffer type"),d.type=ct[h.type]):d.type=d.buffer.dtype,d.offset=0|(h.offset||0),d.stride=0|(h.stride||0),d.divisor=0|(h.divisor||0),d.state=1,L(d.size>=1&&d.size<=4,"size must be between 1 and 4"),L(d.offset>=0,"invalid offset"),L(d.stride>=0&&d.stride<=255,"stride must be between 0 and 255"),L(d.divisor>=0,"divisor must be positive"),L(!d.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in h?(L(u>0,"first attribute must not be a constant"),d.x=+h.x||0,d.y=+h.y||0,d.z=+h.z||0,d.w=+h.w||0,d.state=2):L(!1,"invalid attribute spec for location "+u)}for(var p=0;p<i.buffers.length;++p)!r[p]&&i.buffers[p]&&(i.buffers[p].destroy(),i.buffers[p]=null);return i.refresh(),s}return r.vaoCount+=1,s.destroy=function(){for(var t=0;t<i.buffers.length;++t)i.buffers[t]&&i.buffers[t].destroy();i.buffers.length=0,i.destroy()},s._vao=i,s._reglType="vao",s(e)},getVAO:function(t){return"function"==typeof t&&t._vao?t._vao:null},destroyBuffer:function(t){for(var n=0;n<s.length;++n){var i=s[n];i.buffer===t&&(e.disableVertexAttribArray(n),i.buffer=null)}},setVAO:d()?function(t){if(t!==h.currentVAO){var e=d();t?e.bindVertexArrayOES(t.vao):e.bindVertexArrayOES(null),h.currentVAO=t}}:function(t){if(t!==h.currentVAO){if(t)t.bindAttrs();else for(var n=f(),i=0;i<s.length;++i){var r=s[i];r.buffer?(e.enableVertexAttribArray(i),e.vertexAttribPointer(i,r.size,r.type,r.normalized,r.stride,r.offfset),n&&r.divisor&&n.vertexAttribDivisorANGLE(i,r.divisor)):(e.disableVertexAttribArray(i),e.vertexAttrib4f(i,r.x,r.y,r.z,r.w))}h.currentVAO=t}},clear:d()?function(){at(c).forEach(function(t){t.destroy()})}:function(){}};function d(){return n.oes_vertex_array_object}function f(){return n.angle_instanced_arrays}function p(){this.id=++u,this.attributes=[];var t=d();this.vao=t?t.createVertexArrayOES():null,c[this.id]=this,this.buffers=[]}return p.prototype.bindAttrs=function(){for(var t=f(),n=this.attributes,i=0;i<n.length;++i){var r=n[i];r.buffer?(e.enableVertexAttribArray(i),e.bindBuffer(Wn,r.buffer.buffer),e.vertexAttribPointer(i,r.size,r.type,r.normalized,r.stride,r.offset),t&&r.divisor&&t.vertexAttribDivisorANGLE(i,r.divisor)):(e.disableVertexAttribArray(i),e.vertexAttrib4f(i,r.x,r.y,r.z,r.w))}for(var o=n.length;o<a;++o)e.disableVertexAttribArray(o)},p.prototype.refresh=function(){var t=d();t&&(t.bindVertexArrayOES(this.vao),this.bindAttrs(),h.currentVAO=this)},p.prototype.destroy=function(){if(this.vao){var t=d();this===h.currentVAO&&(h.currentVAO=null,t.bindVertexArrayOES(null)),t.deleteVertexArrayOES(this.vao),this.vao=null}c[this.id]&&(delete c[this.id],r.vaoCount-=1)},h}(r,d,y,h,b),w=function(e,n,i,r){var o={},a=0,s={uint8:kt,uint16:Ot};function l(t){this.id=a++,o[this.id]=this,this.buffer=t,this.primType=Ct,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=At),l.prototype.bind=function(){this.buffer.bind()};var u=[];function c(r,o,a,s,l,u,c){var h;if(r.buffer.bind(),o){var d=c;c||t(o)&&(!ot(o)||t(o.data))||(d=n.oes_element_index_uint?At:Ot),i._initBuffer(r.buffer,o,a,d,3)}else e.bufferData(Nt,u,a),r.buffer.dtype=h||kt,r.buffer.usage=a,r.buffer.dimension=3,r.buffer.byteLength=u;if(h=c,!c){switch(r.buffer.dtype){case kt:case It:h=kt;break;case Ot:case Tt:h=Ot;break;case At:case Et:h=At;break;default:L.raise("unsupported type for element array")}r.buffer.dtype=h}r.type=h,L(h!==At||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var f=l;f<0&&(f=r.buffer.byteLength,h===Ot?f>>=1:h===At&&(f>>=2)),r.vertCount=f;var p=s;if(s<0){p=Ct;var g=r.buffer.dimension;1===g&&(p=St),2===g&&(p=Mt),3===g&&(p=Ct)}r.primType=p}function h(t){r.elementsCount--,L(null!==t.buffer,"must not double destroy elements"),delete o[t.id],t.buffer.destroy(),t.buffer=null}return{create:function(e,n){var o=i.create(null,Nt,!0),a=new l(o._buffer);function u(e){if(e)if("number"==typeof e)o(e),a.primType=Ct,a.vertCount=0|e,a.type=kt;else{var n=null,i=Dt,r=-1,l=-1,h=0,d=0;Array.isArray(e)||t(e)||ot(e)?n=e:(L.type(e,"object","invalid arguments for elements"),"data"in e&&(n=e.data,L(Array.isArray(n)||t(n)||ot(n),"invalid data for element buffer")),"usage"in e&&(L.parameter(e.usage,ht,"invalid element buffer usage"),i=ht[e.usage]),"primitive"in e&&(L.parameter(e.primitive,_t,"invalid element buffer primitive"),r=_t[e.primitive]),"count"in e&&(L("number"==typeof e.count&&e.count>=0,"invalid vertex count for elements"),l=0|e.count),"type"in e&&(L.parameter(e.type,s,"invalid buffer type"),d=s[e.type]),"length"in e?h=0|e.length:(h=l,d===Ot||d===Tt?h*=2:d!==At&&d!==Et||(h*=4))),c(a,n,i,r,l,h,d)}else o(),a.primType=Ct,a.vertCount=0,a.type=kt;return u}return r.elementsCount++,u(e),u._reglType="elements",u._elements=a,u.subdata=function(t,e){return o.subdata(t,e),u},u.destroy=function(){h(a)},u},createStream:function(t){var e=u.pop();return e||(e=new l(i.create(null,Nt,!0,!1)._buffer)),c(e,t,Lt,-1,-1,0,0),e},destroyStream:function(t){u.push(t)},getElements:function(t){return"function"==typeof t&&t._elements instanceof l?t._elements:null},clear:function(){at(o).forEach(h)}}}(r,d,b,h),_=Zn(r,c,h,i),S=yn(r,d,y,function(){I.procs.poll()},m,h,i),M=Sn(r,d,y,h,i),C=function(t,n,i,r,o,a){var s={cur:null,next:null,dirty:!1,setFBO:null},l=["rgba"],u=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&u.push("srgba"),n.ext_color_buffer_half_float&&u.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&u.push("rgba32f");var c=["uint8"];function h(t,e,n){this.target=t,this.texture=e,this.renderbuffer=n;var i=0,r=0;e?(i=e.width,r=e.height):n&&(i=n.width,r=n.height),this.width=i,this.height=r}function d(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function f(t,e,n){if(t)if(t.texture){var i=t.texture._texture,r=Math.max(1,i.width),o=Math.max(1,i.height);L(r===e&&o===n,"inconsistent width/height for supplied texture"),i.refCount+=1}else{var a=t.renderbuffer._renderbuffer;L(a.width===e&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function p(e,n){n&&(n.texture?t.framebufferTexture2D(Mn,e,n.target,n.texture._texture.texture,0):t.framebufferRenderbuffer(Mn,e,Cn,n.renderbuffer._renderbuffer.renderbuffer))}function g(t){var e=In,n=null,i=null,r=t;"object"==typeof t&&(r=t.data,"target"in t&&(e=0|t.target)),L.type(r,"function","invalid attachment data");var o=r._reglType;return"texture2d"===o?(n=r,L(e===In)):"textureCube"===o?(n=r,L(e>=kn&&e<kn+6,"invalid cube map target")):"renderbuffer"===o?(i=r,e=Cn):L.raise("invalid regl object for attachment"),new h(e,n,i)}function v(t,e,n,i,a){if(n){var s=r.create2D({width:t,height:e,format:i,type:a});return s._texture.refCount=0,new h(In,s,null)}var l=o.create({width:t,height:e,format:i});return l._renderbuffer.refCount=0,new h(Cn,null,l)}function m(t){return t&&(t.texture||t.renderbuffer)}function y(t,e,n){t&&(t.texture?t.texture.resize(e,n):t.renderbuffer&&t.renderbuffer.resize(e,n),t.width=e,t.height=n)}n.oes_texture_half_float&&c.push("half float","float16"),n.oes_texture_float&&c.push("float","float32");var b=0,x={};function w(){this.id=b++,x[this.id]=this,this.framebuffer=t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function _(t){t.colorAttachments.forEach(d),d(t.depthAttachment),d(t.stencilAttachment),d(t.depthStencilAttachment)}function S(e){var n=e.framebuffer;L(n,"must not double destroy framebuffer"),t.deleteFramebuffer(n),e.framebuffer=null,a.framebufferCount--,delete x[e.id]}function M(e){var n;t.bindFramebuffer(Mn,e.framebuffer);var r=e.colorAttachments;for(n=0;n<r.length;++n)p(Tn+n,r[n]);for(n=r.length;n<i.maxColorAttachments;++n)t.framebufferTexture2D(Mn,Tn+n,In,null,0);t.framebufferTexture2D(Mn,An,In,null,0),t.framebufferTexture2D(Mn,On,In,null,0),t.framebufferTexture2D(Mn,En,In,null,0),p(On,e.depthAttachment),p(En,e.stencilAttachment),p(An,e.depthStencilAttachment);var o=t.checkFramebufferStatus(Mn);t.isContextLost()||o===Nn||L.raise("framebuffer configuration not supported, status = "+Gn[o]),t.bindFramebuffer(Mn,s.next?s.next.framebuffer:null),s.cur=s.next,t.getError()}function C(t,r){var o=new w;function h(t,e){var r;L(s.next!==o,"can not update framebuffer which is currently in use");var a=0,d=0,p=!0,y=!0,b=null,x=!0,w="rgba",S="uint8",C=1,I=null,k=null,T=null,O=!1;if("number"==typeof t)a=0|t,d=0|e||a;else if(t){L.type(t,"object","invalid arguments for framebuffer");var E=t;if("shape"in E){var A=E.shape;L(Array.isArray(A)&&A.length>=2,"invalid shape for framebuffer"),a=A[0],d=A[1]}else"radius"in E&&(a=d=E.radius),"width"in E&&(a=E.width),"height"in E&&(d=E.height);("color"in E||"colors"in E)&&(b=E.color||E.colors,Array.isArray(b)&&L(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in E&&(C=0|E.colorCount,L(C>0,"invalid color buffer count")),"colorTexture"in E&&(x=!!E.colorTexture,w="rgba4"),"colorType"in E&&(S=E.colorType,x?(L(n.oes_texture_float||!("float"===S||"float32"===S),"you must enable OES_texture_float in order to use floating point framebuffer objects"),L(n.oes_texture_half_float||!("half float"===S||"float16"===S),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===S||"float16"===S?(L(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==S&&"float32"!==S||(L(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),L.oneOf(S,c,"invalid color type")),"colorFormat"in E&&(w=E.colorFormat,l.indexOf(w)>=0?x=!0:u.indexOf(w)>=0?x=!1:x?L.oneOf(E.colorFormat,l,"invalid color format for texture"):L.oneOf(E.colorFormat,u,"invalid color format for renderbuffer"))),("depthTexture"in E||"depthStencilTexture"in E)&&(O=!(!E.depthTexture&&!E.depthStencilTexture),L(!O||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in E&&("boolean"==typeof E.depth?p=E.depth:(I=E.depth,y=!1)),"stencil"in E&&("boolean"==typeof E.stencil?y=E.stencil:(k=E.stencil,p=!1)),"depthStencil"in E&&("boolean"==typeof E.depthStencil?p=y=E.depthStencil:(T=E.depthStencil,p=!1,y=!1))}else a=d=1;var N=null,D=null,j=null,P=null;if(Array.isArray(b))N=b.map(g);else if(b)N=[g(b)];else for(N=new Array(C),r=0;r<C;++r)N[r]=v(a,d,x,w,S);L(n.webgl_draw_buffers||N.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),L(N.length<=i.maxColorAttachments,"too many color attachments, not supported"),a=a||N[0].width,d=d||N[0].height,I?D=g(I):p&&!y&&(D=v(a,d,O,"depth","uint32")),k?j=g(k):y&&!p&&(j=v(a,d,!1,"stencil","uint8")),T?P=g(T):!I&&!k&&y&&p&&(P=v(a,d,O,"depth stencil","depth stencil")),L(!!I+!!k+!!T<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var R=null;for(r=0;r<N.length;++r)if(f(N[r],a,d),L(!N[r]||N[r].texture&&Dn.indexOf(N[r].texture._texture.format)>=0||N[r].renderbuffer&&Fn.indexOf(N[r].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+r+" is invalid"),N[r]&&N[r].texture){var z=jn[N[r].texture._texture.format]*Pn[N[r].texture._texture.type];null===R?R=z:L(R===z,"all color attachments much have the same number of bits per pixel.")}return f(D,a,d),L(!D||D.texture&&D.texture._texture.format===Ln||D.renderbuffer&&D.renderbuffer._renderbuffer.format===Rn,"invalid depth attachment for framebuffer object"),f(j,a,d),L(!j||j.renderbuffer&&j.renderbuffer._renderbuffer.format===zn,"invalid stencil attachment for framebuffer object"),f(P,a,d),L(!P||P.texture&&P.texture._texture.format===Bn||P.renderbuffer&&P.renderbuffer._renderbuffer.format===Bn,"invalid depth-stencil attachment for framebuffer object"),_(o),o.width=a,o.height=d,o.colorAttachments=N,o.depthAttachment=D,o.stencilAttachment=j,o.depthStencilAttachment=P,h.color=N.map(m),h.depth=m(D),h.stencil=m(j),h.depthStencil=m(P),h.width=o.width,h.height=o.height,M(o),h}return a.framebufferCount++,h(t,r),e(h,{resize:function(t,e){L(s.next!==o,"can not resize a framebuffer which is currently in use");var n=Math.max(0|t,1),i=Math.max(0|e||n,1);if(n===o.width&&i===o.height)return h;for(var r=o.colorAttachments,a=0;a<r.length;++a)y(r[a],n,i);return y(o.depthAttachment,n,i),y(o.stencilAttachment,n,i),y(o.depthStencilAttachment,n,i),o.width=h.width=n,o.height=h.height=i,M(o),h},_reglType:"framebuffer",_framebuffer:o,destroy:function(){S(o),_(o)},use:function(t){s.setFBO({framebuffer:h},t)}})}return e(s,{getFramebuffer:function(t){if("function"==typeof t&&"framebuffer"===t._reglType){var e=t._framebuffer;if(e instanceof w)return e}return null},create:C,createCube:function(t){var o=Array(6);function a(t){var i;L(o.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var u,h={color:null},d=0,f=null,p="rgba",g="uint8",v=1;if("number"==typeof t)d=0|t;else if(t){L.type(t,"object","invalid arguments for framebuffer");var m=t;if("shape"in m){var y=m.shape;L(Array.isArray(y)&&y.length>=2,"invalid shape for framebuffer"),L(y[0]===y[1],"cube framebuffer must be square"),d=y[0]}else"radius"in m&&(d=0|m.radius),"width"in m?(d=0|m.width,"height"in m&&L(m.height===d,"must be square")):"height"in m&&(d=0|m.height);("color"in m||"colors"in m)&&(f=m.color||m.colors,Array.isArray(f)&&L(1===f.length||n.webgl_draw_buffers,"multiple render targets not supported")),f||("colorCount"in m&&(v=0|m.colorCount,L(v>0,"invalid color buffer count")),"colorType"in m&&(L.oneOf(m.colorType,c,"invalid color type"),g=m.colorType),"colorFormat"in m&&(p=m.colorFormat,L.oneOf(m.colorFormat,l,"invalid color format for texture"))),"depth"in m&&(h.depth=m.depth),"stencil"in m&&(h.stencil=m.stencil),"depthStencil"in m&&(h.depthStencil=m.depthStencil)}else d=1;if(f)if(Array.isArray(f))for(u=[],i=0;i<f.length;++i)u[i]=f[i];else u=[f];else{u=Array(v);var b={radius:d,format:p,type:g};for(i=0;i<v;++i)u[i]=r.createCube(b)}for(h.color=Array(u.length),i=0;i<u.length;++i){var x=u[i];L("function"==typeof x&&"textureCube"===x._reglType,"invalid cube map"),d=d||x.width,L(x.width===d&&x.height===d,"invalid cube map shape"),h.color[i]={target:kn,data:u[i]}}for(i=0;i<6;++i){for(var w=0;w<u.length;++w)h.color[w].target=kn+i;i>0&&(h.depth=o[0].depth,h.stencil=o[0].stencil,h.depthStencil=o[0].depthStencil),o[i]?o[i](h):o[i]=C(h)}return e(a,{width:d,height:d,color:u})}return a(t),e(a,{faces:o,resize:function(t){var e,n=0|t;if(L(n>0&&n<=i.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var r=a.color;for(e=0;e<r.length;++e)r[e].resize(n);for(e=0;e<6;++e)o[e].resize(n);return a.width=a.height=n,a},_reglType:"framebufferCube",destroy:function(){o.forEach(function(t){t.destroy()})}})},clear:function(){at(x).forEach(S)},restore:function(){s.cur=null,s.next=null,s.dirty=!0,at(x).forEach(function(e){e.framebuffer=t.createFramebuffer(),M(e)})}})}(r,d,y,S,M,h),I=lo(r,c,d,y,b,w,0,C,{},x,_,{elements:null,primitive:4,count:-1,offset:0,instances:-1},m,f,i),k=ti(r,C,I.procs.poll,m,o,d,y),T=I.next,O=r.canvas,E=[],A=[],N=[],D=[i.onDestroy],j=null;function P(){if(0===E.length)return f&&f.update(),void(j=null);j=V.next(P),$();for(var t=E.length-1;t>=0;--t){var e=E[t];e&&e(m,null,0)}r.flush(),f&&f.update()}function R(){!j&&E.length>0&&(j=V.next(P))}function z(){j&&(V.cancel(P),j=null)}function B(t){t.preventDefault(),a=!0,z(),A.forEach(function(t){t()})}function F(t){r.getError(),a=!1,s.restore(),_.restore(),b.restore(),S.restore(),M.restore(),C.restore(),x.restore(),f&&f.restore(),I.procs.refresh(),R(),N.forEach(function(t){t()})}function H(t){function n(t,e){var n={},i={};return Object.keys(t).forEach(function(r){var o=t[r];if(G.isDynamic(o))i[r]=G.unbox(o,r);else{if(e&&Array.isArray(o))for(var a=0;a<o.length;++a)if(G.isDynamic(o[a]))return void(i[r]=G.unbox(o,r));n[r]=o}}),{dynamic:i,static:n}}L(!!t,"invalid args to regl({...})"),L.type(t,"object","invalid args to regl({...})");var i=n(t.context||{},!0),r=n(t.uniforms||{},!0),o=n(t.attributes||{},!1),s=n(function(t){var n=e({},t);function i(t){if(t in n){var e=n[t];delete n[t],Object.keys(e).forEach(function(i){n[t+"."+i]=e[i]})}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),i("blend"),i("depth"),i("cull"),i("stencil"),i("polygonOffset"),i("scissor"),i("sample"),"vao"in t&&(n.vao=t.vao),n}(t),!1),l={gpuTime:0,cpuTime:0,count:0},u=I.compile(s,o,r,i,l),c=u.draw,h=u.batch,d=u.scope,f=[];return e(function(t,e){var n;if(a&&L.raise("context lost"),"function"==typeof t)return d.call(this,null,t,0);if("function"==typeof e)if("number"==typeof t)for(n=0;n<t;++n)d.call(this,null,e,n);else{if(!Array.isArray(t))return d.call(this,t,e,0);for(n=0;n<t.length;++n)d.call(this,t[n],e,n)}else if("number"==typeof t){if(t>0)return h.call(this,function(t){for(;f.length<t;)f.push(null);return f}(0|t),0|t)}else{if(!Array.isArray(t))return c.call(this,t);if(t.length)return h.call(this,t,t.length)}},{stats:l,destroy:function(){u.destroy()}})}O&&(O.addEventListener(yo,B,!1),O.addEventListener(bo,F,!1));var U=C.setFBO=H({framebuffer:G.define.call(null,xo,"framebuffer")});function J(t,e){var n=0;I.procs.poll();var i=e.color;i&&(r.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=po),"depth"in e&&(r.clearDepth(+e.depth),n|=go),"stencil"in e&&(r.clearStencil(0|e.stencil),n|=vo),L(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function Q(t){return L.type(t,"function","regl.frame() callback must be a function"),E.push(t),R(),{cancel:function(){var e=So(E,t);L(e>=0,"cannot cancel a frame twice"),E[e]=function t(){var e=So(E,t);E[e]=E[E.length-1],E.length-=1,E.length<=0&&z()}}}}function Z(){var t=T.viewport,e=T.scissor_box;t[0]=t[1]=e[0]=e[1]=0,m.viewportWidth=m.framebufferWidth=m.drawingBufferWidth=t[2]=e[2]=r.drawingBufferWidth,m.viewportHeight=m.framebufferHeight=m.drawingBufferHeight=t[3]=e[3]=r.drawingBufferHeight}function $(){m.tick+=1,m.time=K(),Z(),I.procs.poll()}function X(){S.refresh(),Z(),I.procs.refresh(),f&&f.update()}function K(){return(W()-p)/1e3}X();var q=e(H,{clear:function(t){if(L("object"==typeof t&&t,"regl.clear() takes an object as input"),"framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var n=0;n<6;++n)U(e({framebuffer:t.framebuffer.faces[n]},t),J);else U(t,J);else J(0,t)},prop:G.define.bind(null,xo),context:G.define.bind(null,wo),this:G.define.bind(null,_o),draw:H({}),buffer:function(t){return b.create(t,mo,!1,!1)},elements:function(t){return w.create(t,!1)},texture:S.create2D,cube:S.createCube,renderbuffer:M.create,framebuffer:C.create,framebufferCube:C.createCube,vao:x.createVAO,attributes:o,frame:Q,on:function(t,e){var n;switch(L.type(e,"function","listener callback must be a function"),t){case"frame":return Q(e);case"lost":n=A;break;case"restore":n=N;break;case"destroy":n=D;break;default:L.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(e),{cancel:function(){for(var t=0;t<n.length;++t)if(n[t]===e)return n[t]=n[n.length-1],void n.pop()}}},limits:y,hasExtension:function(t){return y.extensions.indexOf(t.toLowerCase())>=0},read:k,destroy:function(){E.length=0,z(),O&&(O.removeEventListener(yo,B),O.removeEventListener(bo,F)),_.clear(),C.clear(),M.clear(),S.clear(),w.clear(),b.clear(),x.clear(),f&&f.clear(),D.forEach(function(t){t()})},_gl:r,_refresh:X,poll:function(){$(),f&&f.update()},now:K,stats:h});return i.onDone(null,q),q}},t.exports=i()},"91Mb":function(t,e,n){"use strict";n.d(e,"a",function(){return N});var i,r,o,a,s,l,u,c,h,d=n("fKPv"),f=n.n(d),p=n("En79"),g=n.n(p),v=n("7hDC"),m=n.n(v),y=n("dYct"),b=n.n(y),x=n("Z60a"),w=n.n(x),_=n("C9uT"),S=n.n(_),M=n("jb0h"),C=n.n(M),I=n("X6mv"),k=(n.n(I),n("YulH")),T=(n.n(k),n("YVy+")),O=n("Klor");function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach(function(e){f()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var N=(i=Object(k.injectable)(),r=Object(k.inject)(O.a.MaterialComponentManager),o=Object(k.inject)(O.a.RenderEngine),a=Object(k.inject)(O.a.ShaderModuleService),i((l=function(){function t(){w()(this,t),b()(this,"material",u,this),b()(this,"engine",c,this),b()(this,"shaderModule",h,this)}return S()(t,[{key:"execute",value:function(){var t=m()(g.a.mark(function t(){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(t){var e=Object(T.createEntity)(),n=t.vertexShader,i=t.fragmentShader,r=[];if(!this.engine.supportWebGPU){var o="material-".concat(e);this.shaderModule.registerModule(o,{vs:t.vertexShader,fs:t.fragmentShader});var a=this.shaderModule.getModule(o);n=a.vs,i=a.fs,a.uniforms&&(r=Object.keys(a.uniforms).map(function(t){return{dirty:!0,name:t,data:a.uniforms[t]}}))}return this.material.create(e,A(A({vertexShaderGLSL:n,fragmentShaderGLSL:i},t),{},{uniforms:r}))}}]),t}(),u=C()(l.prototype,"material",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=C()(l.prototype,"engine",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=C()(l.prototype,"shaderModule",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l))||s)},"94VQ":function(t,e,n){"use strict";var i=n("Yobk"),r=n("X8DO"),o=n("e6n0"),a={};n("hJx8")(a,n("dSzd")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},"9MEr":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.named=void 0;var i=n("cEWm"),r=n("gNUp"),o=n("xu9d");e.named=function(t){return function(e,n,a){var s=new r.Metadata(i.NAMED_TAG,t);"number"==typeof a?o.tagParameter(e,n,a,s):o.tagProperty(e,n,s)}}},"9Nhl":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){return t-e},r=function(){function t(t){void 0===t&&(t=i),this.compareFn=t,this.list=[]}return t.prototype.getLeft=function(t){return 2*t+1},t.prototype.getRight=function(t){return 2*t+2},t.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},t.prototype.isEmpty=function(){return this.list.length<=0},t.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},t.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return this.list.length>0&&(this.list[0]=e,this.moveDown(0)),t},t.prototype.insert=function(t){if(null!==t){this.list.push(t);var e=this.list.length-1;return this.moveUp(e),!0}return!1},t.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&t>0&&this.compareFn(this.list[e],this.list[t])>0;){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,t=e,e=this.getParent(t)}},t.prototype.moveDown=function(t){var e,n=t,i=this.getLeft(t),r=this.getRight(t),o=this.list.length;null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0?n=i:null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0&&(n=r),t!==n&&(e=[this.list[n],this.list[t]],this.list[t]=e[0],this.list[n]=e[1],this.moveDown(n))},t}();e.default=r},"9Otz":function(t,e,n){"use strict";var i=n("bMbF"),r=n("zOqJ"),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(r).forEach(function(t){s[o.call(r[t].labels).sort().join("")]=t});var l={};function u(t,e){if(!(this instanceof u))return new u(t,e);if(e&&e in a&&(e=null),e&&!(e in r))throw new Error("Unknown model: "+e);var n,c;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof u)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var h=i.get(t);if(null===h)throw new Error("Unable to parse color from string: "+t);this.model=h.model,c=r[this.model].channels,this.color=h.value.slice(0,c),this.valpha="number"==typeof h.value[c]?h.value[c]:1}else if(t.length){this.model=e||"rgb",c=r[this.model].channels;var f=o.call(t,0,c);this.color=d(f,c),this.valpha="number"==typeof t[c]?t[c]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var p=Object.keys(t);"alpha"in t&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var g=p.sort().join("");if(!(g in s))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=s[g];var v=r[this.model].labels,m=[];for(n=0;n<v.length;n++)m.push(t[v[n]]);this.color=d(m)}if(l[this.model])for(c=r[this.model].channels,n=0;n<c;n++){var y=l[this.model][n];y&&(this.color[n]=y(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(t,e,n){return(t=Array.isArray(t)?t:[t]).forEach(function(t){(l[t]||(l[t]=[]))[e]=n}),t=t[0],function(i){var r;return arguments.length?(n&&(i=n(i)),(r=this[t]()).color[e]=i,r):(r=this[t]().color[e],n&&(r=n(r)),r)}}function h(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t,e){for(var n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in i.to?this:this.rgb(),n=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return i.to[e.model](n)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:e.color.concat(this.valpha);return i.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=r[this.model].channels,n=r[this.model].labels,i=0;i<e;i++)t[n[i]]=this.color[i];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new u(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:c("rgb",0,h(255)),green:c("rgb",1,h(255)),blue:c("rgb",2,h(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:c("hsl",1,h(100)),lightness:c("hsl",2,h(100)),saturationv:c("hsv",1,h(100)),value:c("hsv",2,h(100)),chroma:c("hcg",1,h(100)),gray:c("hcg",2,h(100)),white:c("hwb",1,h(100)),wblack:c("hwb",2,h(100)),cyan:c("cmyk",0,h(100)),magenta:c("cmyk",1,h(100)),yellow:c("cmyk",2,h(100)),black:c("cmyk",3,h(100)),x:c("xyz",0,h(100)),y:c("xyz",1,h(100)),z:c("xyz",2,h(100)),l:c("lab",0,h(100)),a:c("lab",1),b:c("lab",2),keyword:function(t){return arguments.length?new u(t):r[this.model].keyword(this.color)},hex:function(t){return arguments.length?new u(t):i.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return u.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=e.color[0];return n=(n=(n+t)%360)<0?360+n:n,e.color[0]=n,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var n=t.rgb(),i=this.rgb(),r=void 0===e?.5:e,o=2*r-1,a=n.alpha()-i.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,l=1-s;return u.rgb(s*n.red()+l*i.red(),s*n.green()+l*i.green(),s*n.blue()+l*i.blue(),n.alpha()*r+i.alpha()*(1-r))}},Object.keys(r).forEach(function(t){if(-1===a.indexOf(t)){var e=r[t].channels;u.prototype[t]=function(){if(this.model===t)return new u(this);if(arguments.length)return new u(arguments,t);var n,i="number"==typeof arguments[e]?e:this.valpha;return new u((n=r[this.model][t].raw(this.color),Array.isArray(n)?n:[n]).concat(i),t)},u[t]=function(n){return"number"==typeof n&&(n=d(o.call(arguments),e)),new u(n,t)}}}),t.exports=u},"9bBU":function(t,e,n){n("mClu");var i=n("FeBl").Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},"9fCz":function(t,e,n){"use strict";var i,r,o=0,a=0,s=0,l=1e3,u=0,c=0,h=0,d="object"==typeof performance&&performance.now?performance:Date,f="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return c||(f(g),c=d.now()+h)}function g(){c=0}function v(){this._call=this._time=this._next=null}function m(t,e,n){var i=new v;return i.restart(t,e,n),i}function y(){p(),++o;for(var t,e=i;e;)(t=c-e._time)>=0&&e._call.call(null,t),e=e._next;--o}function b(){c=(u=d.now())+h,o=a=0;try{y()}finally{o=0,function(){var t,e,n=i,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:i=e);r=t,w(o)}(),c=0}}function x(){var t=d.now(),e=t-u;e>l&&(h-=e,u=t)}function w(t){o||(a&&(a=clearTimeout(a)),t-c>24?(t<1/0&&(a=setTimeout(b,t-d.now()-h)),s&&(s=clearInterval(s))):(s||(u=d.now(),s=setInterval(x,l)),o=1,f(b)))}v.prototype=m.prototype={constructor:v,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==e?0:+e),this._next||r===this||(r?r._next=this:i=this,r=this),this._call=t,this._time=n,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}};var _=function(t,e,n){var i=new v;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},S=function(t,e,n){var i=new v,r=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?p():+n,i.restart(function o(a){a+=r,i.restart(o,r+=e,n),t(a)},e,n),i)};n.d(e,!1,function(){return p}),n.d(e,"a",function(){return m}),n.d(e,!1,function(){return y}),n.d(e,!1,function(){return _}),n.d(e,!1,function(){return S})},"9mJX":function(t,e,n){var i=n("TiMF");t.exports=function(t,e){return i(t,e,"pre")}},"9pbC":function(t,e,n){t.exports={Graph:n("O11n"),version:n("UpSf")}},AHH9:function(t,e,n){"use strict";e.d=function(t,e){for(let n=0;n<e.length;n++)if(t===e[n])return!0;return!1},e.c=function(t){if(i)return 0;if(t||void 0===r){const t=document.createElement("div");t.style.width="100%",t.style.height="200px";const e=document.createElement("div"),n=e.style;n.position="absolute",n.top=0,n.left=0,n.pointerEvents="none",n.visibility="hidden",n.width="200px",n.height="150px",n.overflow="hidden",e.appendChild(t),document.body.appendChild(e);const i=t.offsetWidth;e.style.overflow="scroll";let o=t.offsetWidth;i===o&&(o=e.clientWidth),document.body.removeChild(e),r=i-o}return r},e.b=function t(e,n){let i=[];const r=e.$parent;return r?(r.$options.name===n&&i.push(r),i.concat(t(r,n))):[]},e.a=function(t,e,n=!0){let i=t.$parent.$children.filter(t=>t.$options.name===e),r=i.findIndex(e=>e._uid===t._uid);n&&i.splice(r,1);return i};const i=n("7+uW").default.prototype.$isServer;let r;!i&&(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)},ATs6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStackOverflowExeption=void 0;var i=n("tuOO");e.isStackOverflowExeption=function(t){return t instanceof RangeError||t.message===i.STACK_OVERFLOW}},AXrc:function(t,e,n){"use strict";n("I8yv");var i,r,o,a,s,l=n("YulH"),u=n("ql3I"),c=n.n(u),h=n("J4xG"),d=n("dYct"),f=n.n(d),p=n("Z60a"),g=n.n(p),v=n("C9uT"),m=n.n(v),y=n("jb0h"),b=n.n(y),x=(n("X6mv"),n("Klor")),w=n("hVtj"),_=(i=Object(l.injectable)(),r=Object(l.inject)(x.a.RenderEngine),i((a=function(){function t(){g()(this,t),f()(this,"engine",s,this),this.resourcePool={}}return m()(t,[{key:"getOrCreateResource",value:function(t){if(!this.resourcePool[t.name]){var e=t.descriptor,n=e.width,i=e.height,r=e.usage;this.resourcePool[t.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:n,height:i,wrapS:w.a.CLAMP_TO_EDGE,wrapT:w.a.CLAMP_TO_EDGE,usage:r})})}return this.resourcePool[t.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),t}(),s=b()(a.prototype,"engine",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=a))||o),S=n("r5WB"),M=n("Fy54"),C=n("dKvI"),I=n("lVcC"),k=n("91Mb"),T=n("2bAU"),O=n("bhPb"),E=n("dFgT"),A=n("XL/v"),N=n("+hGC"),L=n("KqSj"),D=n("3DKf"),j=n("qFrC"),P=n("j/rp"),R=n.n(P),z=n("T/v0"),B=n.n(z),F=n("tNLN"),G=n.n(F);function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=G()(t);if(e){var r=G()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return B()(this,n)}}var W=function(t){R()(n,t);var e=V(n);function n(t){var i;return g()(this,n),(i=e.call(this,t)).name=void 0,i.name=t.name||"",i}return n}(h.a),H=n("7UVn"),U=n("+ex3"),Y=n("eMM2"),J=n("x+ND"),Q=n("f4mV");e.a=function(){var t=new l.Container;return t.parent=Z,t.bind(x.a.Systems).to(H.a).inSingletonScope().whenTargetNamed(x.a.SceneGraphSystem),t.bind(x.a.Systems).to(S.a).inSingletonScope().whenTargetNamed(x.a.FrameGraphSystem),t.bind(x.a.Systems).to(E.a).inSingletonScope().whenTargetNamed(x.a.MeshSystem),t.bind(x.a.Systems).to(C.a).inSingletonScope().whenTargetNamed(x.a.GeometrySystem),t.bind(x.a.Systems).to(k.a).inSingletonScope().whenTargetNamed(x.a.MaterialSystem),t.bind(x.a.Systems).to(D.a).inSingletonScope().whenTargetNamed(x.a.RendererSystem),t.bind(x.a.ResourcePool).to(_).inSingletonScope(),t.bind(x.a.ConfigService).to(Y.a).inSingletonScope(),t.bind(x.a.InteractorService).to(J.a).inSingletonScope(),t.bind(x.a.RenderPass).to(L.a).inSingletonScope().whenTargetNamed(L.a.IDENTIFIER),t.bind(x.a.RenderPass).to(A.a).inSingletonScope().whenTargetNamed(A.a.IDENTIFIER),t.bind(x.a.RenderPass).to(N.a).inSingletonScope().whenTargetNamed(N.a.IDENTIFIER),t.bind(x.a.RenderPassFactory).toFactory(function(t){return function(e){return t.container.getNamed(x.a.RenderPass,e)}}),t};var Z=new l.Container;c()(Z,!1);Z.bind(x.a.ShaderModuleService).to(Q.a).inSingletonScope(),Z.bind(x.a.NameComponentManager).toConstantValue(new h.b(W)),Z.bind(x.a.HierarchyComponentManager).toConstantValue(new h.b(j.a)),Z.bind(x.a.TransformComponentManager).toConstantValue(new h.b(U.a)),Z.bind(x.a.MeshComponentManager).toConstantValue(new h.b(O.a)),Z.bind(x.a.CullableComponentManager).toConstantValue(new h.b(T.a)),Z.bind(x.a.GeometryComponentManager).toConstantValue(new h.b(M.a)),Z.bind(x.a.MaterialComponentManager).toConstantValue(new h.b(I.a))},AZN7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInWhenOnSyntax=void 0;var i=n("QIhx"),r=n("xk4U"),o=n("spEF"),a=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding),this._bindingInSyntax=new i.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingInWhenOnSyntax=a},AZiY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("TToO"),r=l(n("+cvj")),o=l(n("tZ0v")),a=l(n("2j9C")),s=n("lSAc");function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t,e,n,i){void 0===n&&(n="cluster"),void 0===i&&(i=2);var r=[],o=t.nodes;return e.forEach(function(t,e){r.push(c(o,t,e,n,i))}),r},c=function(t,e,n,i,r){var o=[n],a=[],s={};return e.forEach(function(e,l){if(e<=r&&n!==l){o.push(l),a.push(t[l]);var u=t[l][i];s[u]?(s[u].count++,s[u].dists.push(e)):s[u]={count:1,dists:[e]}}}),Object.keys(s).forEach(function(t){s[t].dists=s[t].dists.sort(function(t,e){return t-e})}),{nodeIdx:n,nodeId:t[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},h=function(t,e,n,i){var r=n.nodes;return i||(i={}),Object.keys(t).forEach(function(o){var a,s;if(!i||!i[o]){i[o]={nodes:[],edges:[]};var l=t[o],u=null===(a=e[l.start])||void 0===a?void 0:a.nodeIdxs,c=null===(s=e[l.end])||void 0===s?void 0:s.nodeIdxs;if(u&&c){var h=new Set(c),d=u.filter(function(t){return h.has(t)});if(d&&d.length){for(var f={},p=d.length,g=0;g<p;g++){var v=r[d[g]];i[o].nodes.push(v),f[v.id]=!0}n.edges.forEach(function(t){f[t.source]&&f[t.target]&&i[o].edges.push(t)})}}}}),i},d=function(t,e,n,i){var r,o,a={};t.nodes.forEach(function(t){a[t.id]=t});var s=0;return!(null===(r=null===e||void 0===e?void 0:e.edges)||void 0===r?void 0:r.length)||(null===(o=null===e||void 0===e?void 0:e.nodes)||void 0===o?void 0:o.length)<2?0:(t.edges.forEach(function(t){var r=a[t.source][n],o=a[t.target][n],l=null===e||void 0===e?void 0:e.nodes[0][n],u=null===e||void 0===e?void 0:e.nodes[1][n],c=null===e||void 0===e?void 0:e.edges[0][i];t[i]===c&&(r===l&&o===u||r===u&&o===l)&&s++}),s)},f=function(t,e){var n={},i={};return t.forEach(function(t,r){n[t.id]={idx:r,node:t,degree:0,inDegree:0,outDegree:0};var o=t[e];i[o]||(i[o]=[]),i[o].push(t)}),{nodeMap:n,nodeLabelMap:i}},p=function(t,e,n){var i={},r={};return t.forEach(function(t,o){i["".concat(s.uniqueId)]={idx:o,edge:t};var a=t[e];r[a]||(r[a]=[]),r[a].push(t);var l=n[t.source];l&&(l.degree++,l.outDegree++);var u=n[t.target];u&&(u.degree++,u.inDegree++)}),{edgeMap:i,edgeLabelMap:r}},g=function(t,e,n){var i=e.length,r={};return e.forEach(function(e,o){for(var a=n?0:o+1,s=t[o].id,l=a;l<i;l++)if(o!==l){var u=t[l].id,c=e[l];r["".concat(s,"-").concat(u)]=c,n||(r["".concat(u,"-").concat(s)]=c)}}),r},v=function(t,e,n,i,r,o,a,s,l,u,c){var f,p="".concat(e.id,"-").concat(n.id);if(u&&u[p])return u[p];var g=c?c[p]:void 0;if(!g){var v=((f={})[p]={start:i[e.id].idx,end:i[n.id].idx,distance:r},f);g=(c=h(v,o,t,c))[p]}return d(g,a,s,l)},m=function(t,e,n,i){var r,o,a,s=null===(r=t[e])||void 0===r?void 0:r.degree,l=null===(o=t[e])||void 0===o?void 0:o.inDegree,u=null===(a=t[e])||void 0===a?void 0:a.outDegree;return void 0===t[e]&&(s=1/0,l=1/0,u=1/0,i[e].forEach(function(t){var e=n[t.id].degree;s>e&&(s=e);var i=n[t.id].inDegree;l>i&&(l=i);var r=n[t.id].outDegree;u>r&&(u=r)}),t[e]={degree:s,inDegree:l,outDegree:u}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:l,minPatternNodeLabelOutDegree:u}},y=function(t,e,n,s,l,y,b){var x;if(void 0===n&&(n=!1),void 0===y&&(y="cluster"),void 0===b&&(b="cluster"),t&&t.nodes){var w=t.nodes.length;if(w){var _=(0,r.default)(t,n),S=(0,r.default)(e,n),M=g(t.nodes,_,n),C=g(e.nodes,S,n),I=f(t.nodes,y),k=I.nodeMap,T=I.nodeLabelMap,O=f(e.nodes,y),E=O.nodeMap,A=O.nodeLabelMap;p(t.edges,b,k);var N=p(e.edges,b,E).edgeLabelMap,L=[];null===S||void 0===S||S.forEach(function(t){L=L.concat(t)}),l||(l=Math.max.apply(Math,(0,i.__spreadArray)((0,i.__spreadArray)([],L,!1),[2],!1))),s||(s=l);var D=u(t,_,y,s),j=u(e,S,y,s),P=function(t,e,n,i,r){var o=Math.ceil(n/e),a={},s=0;return i.forEach(function(t,i){for(var l=0,u=0,c=t.nodeIdxs,h=t.neighborNum-1;l<o;){for(var d=c[1+Math.floor(Math.random()*h)],f=0;(a["".concat(i,"-").concat(d)]||a["".concat(d,"-").concat(i)])&&(d=Math.floor(Math.random()*e),!(++f>2*e)););if(f<2*e&&(a["".concat(i,"-").concat(d)]={start:i,end:d,distance:r[i][d]},l++,++s>=n))return a;if(++u>2*e)break}l<o&&(o=(o+(o-l))/(e-i-1))}),a}(0,w,Math.min(100,w*(w-1)/2),D,_),R=h(P,D,t),z={graphs:R,nodeLabelProp:y,edgeLabelProp:b,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n},B=(0,o.default)(z).slice(0,10),F=B.length,G=[];B.forEach(function(t,e){G[e]={},Object.keys(R).forEach(function(n){var i=R[n],r=d(i,t,y,b);G[e][n]=r})});var V=function(t,e,n){for(var i=1/0,r=0,o=function(e){var n=t[e],o=[];Object.keys(n).sort(function(t,e){return n[t]-n[e]}).forEach(function(t,e){o[e%10]||(o[e%10]={graphs:[],totalCount:0,aveCount:0}),o[e%10].graphs.push(t),o[e%10].totalCount+=n[t]});var a=0,s=[];o.forEach(function(t){var e=t.totalCount/t.graphs.length;t.aveCount=e,s.push(e);var i=0,r=t.length;t.graphs.forEach(function(e,r){var o=n[e];t.graphs.forEach(function(t,e){r!==e&&(i+=Math.abs(o-n[t]))})}),a+=i/=r*(r-1)/2}),a/=o.length;var l=0;s.forEach(function(t,e){s.forEach(function(n,i){e!==i&&(l+=Math.abs(t-n))}),l/=s.length*(s.length-1)/2});var u=l-a;i<u&&(i=u,r=e)},a=0;a<e;a++)o(a);return{structure:n[r],structureCountMap:t[r]}}(G,F,B),W=V.structure,H=V.structureCountMap,U=e.nodes[0],Y=[],J=null===(x=e.nodes[0])||void 0===x?void 0:x[y],Q=-1/0;e.nodes.forEach(function(t){var e=t[y],n=T[e];(null===n||void 0===n?void 0:n.length)>Q&&(Q=n.length,Y=n,J=e,U=t)});var Z={},$={},X={},K={},q={},tt={};Object.keys(A).forEach(function(i,r){q[i]=[],n&&(tt[i]=[]);var o=-1/0,a={};A[i].forEach(function(t){var e=C["".concat(U.id,"-").concat(t.id)];if(e&&q[i].push(e),o<e&&(o=e),a["".concat(U.id,"-").concat(t.id)]={start:0,end:E[t.id].idx,distance:e},n){var r=C["".concat(t.id,"-").concat(U.id)];r&&tt[i].push(r)}}),q[i]=q[i].sort(function(t,e){return t-e}),n&&(tt[i]=tt[i].sort(function(t,e){return t-e})),$=h(a,j,e,$);var s=[];if(Object.keys(a).forEach(function(t){if(X[t])s.push(X[t]);else{var e=$[t];X[t]=d(e,W,y,b),s.push(X[t])}}),s=s.sort(function(t,e){return e-t}),K["".concat(U.id,"-").concat(i)]=s,i!==J)for(var l=function(e){var n=Y[e],r=D[k[n.id].idx],o=r.nodeLabelCountMap[i],a=A[i].length;if(!o||o.count<a)return Y.splice(e,1),"continue";for(var l=!1,u=0;u<a;u++)if(o.dists[u]>q[i][u]){l=!0;break}if(l)return Y.splice(e,1),"continue";var c={};r.neighbors.forEach(function(t){var e=M["".concat(n.id,"-").concat(t.id)];c["".concat(n.id,"-").concat(t.id)]={start:k[n.id].idx,end:k[t.id].idx,distance:e}}),R=h(c,D,t,R);var f=[];Object.keys(c).forEach(function(t){if(H[t])f.push(H[t]);else{var e=R[t];H[t]=d(e,W,y,b),f.push(H[t])}}),f=f.sort(function(t,e){return e-t});var p=!1;for(u=0;u<a;u++)if(f[u]<s[u]){p=!0;break}return p?(Y.splice(e,1),"continue"):void 0},u=((null===Y||void 0===Y?void 0:Y.length)||0)-1;u>=0;u--)l(u)});var et=[];null===Y||void 0===Y||Y.forEach(function(i){for(var r=k[i.id].idx,o=c(t.nodes,_[r],r,y,l).neighbors,a=!1,s=o.length-1;s>=0;s--){if(o.length+1<e.nodes.length)return void(a=!0);var u=o[s],h=u[y];if(A[h]&&A[h].length)if(q[h]&&q[h].length){var d="".concat(i.id,"-").concat(u.id),f=M[d],p=q[h].length-1;if(f>q[h][p])o.splice(s,1);else{if(n){var g="".concat(u.id,"-").concat(i.id),x=M[g];if(p=tt[h].length-1,x>tt[h][p]){o.splice(s,1);continue}}var w=H[d]?H[d]:v(t,i,u,k,f,D,W,y,b,H,R),S="".concat(U.id,"-").concat(h);if(w<K[S][K[S].length-1])o.splice(s,1);else{var C=m(Z,h,E,A),I=C.minPatternNodeLabelDegree;C.minPatternNodeLabelInDegree,C.minPatternNodeLabelOutDegree,k[u.id].degree<I&&o.splice(s,1)}}}else o.splice(s,1);else o.splice(s,1)}a||et.push({nodes:[i].concat(o)})});var nt=(0,a.default)(e,U.id,!1).length,it={};n?(Object.keys(nt).forEach(function(t){var e=E[t].node[y];it[e]?it[e].push(nt[t]):it[e]=[nt[t]]}),Object.keys(it).forEach(function(t){it[t].sort(function(t,e){return t-e})})):it=q;for(var rt=function(i){var r=et[i],o=r.nodes[0],s={},l={};r.nodes.forEach(function(t,e){l[t.id]={idx:e,node:t,degree:0,inDegree:0,outDegree:0};var n=t[y];s[n]?s[n]++:s[n]=1});var u=[],c={};t.edges.forEach(function(t){l[t.source]&&l[t.target]&&(u.push(t),c[t[b]]?c[t[b]]++:c[t[b]]=1,l[t.source].degree++,l[t.target].degree++,l[t.source].outDegree++,l[t.target].inDegree++)});for(var h=Object.keys(N).length,d=!1,f=0;f<h;f++){var p=Object.keys(N)[f];if(!c[p]||c[p]<N[p].length){d=!0;break}}if(d)return et.splice(i,1),"continue";var g=u.length;if(g<e.edges.length)return et.splice(i,1),"break";var v=!1,x=function(t){var e=u[t],i=e[b],r=N[i];if(!r||!r.length)return c[i]--,r&&c[i]<r.length?(v=!0,"break"):(u.splice(t,1),l[e.source].degree--,l[e.target].degree--,l[e.source].outDegree--,l[e.target].inDegree--,"continue");var o=l[e.source].node[y],a=l[e.target].node[y],s=!1;return r.forEach(function(t){var e=E[t.source].node,i=E[t.target].node;e[y]===o&&i[y]===a&&(s=!0),n||e[y]!==a||i[y]!==o||(s=!0)}),s?void 0:(c[i]--,r&&c[i]<r.length?(v=!0,"break"):(u.splice(t,1),l[e.source].degree--,l[e.target].degree--,l[e.source].outDegree--,l[e.target].inDegree--,"continue"))};for(f=g-1;f>=0&&"break"!==x(f);f--);if(v)return et.splice(i,1),"continue";r.edges=u;var w=(0,a.default)(r,r.nodes[0].id,!1).length;if(Object.keys(w).reverse().forEach(function(t){if(t!==r.nodes[0].id&&!v){if(w[t]===1/0){var e=l[t].node[y];if(s[e]--,s[e]<A[e].length)return void(v=!0);var n=r.nodes.indexOf(l[t].node);return r.nodes.splice(n,1),void(l[t]=void 0)}var i=k[t].node[y];if(!it[i]||!it[i].length||w[t]>it[i][it[i].length-1]){if(e=l[t].node[y],s[e]--,s[e]<A[e].length)return void(v=!0);n=r.nodes.indexOf(l[t].node),r.nodes.splice(n,1),l[t]=void 0}}}),v)return et.splice(i,1),"continue";for(var _=!0,S=0;_&&!v;){if(_=!1,n?l[o.id].degree<E[U.id].degree||l[o.id].inDegree<E[U.id].inDegree||l[o.id].outDegree<E[U.id].outDegree:l[o.id].degree<E[U.id].degree){v=!0;break}if(s[o[y]]<A[o[y]].length){v=!0;break}for(var M=r.nodes.length-1;M>=0;M--){var C=r.nodes[M],I=l[C.id].degree,T=l[C.id].inDegree,O=l[C.id].outDegree,L=C[y],D=m(Z,L,E,A),j=D.minPatternNodeLabelDegree,P=D.minPatternNodeLabelInDegree,R=D.minPatternNodeLabelOutDegree;if(n?I<j||T<P||O<R:I<j){if(s[C[y]]--,s[C[y]]<A[C[y]].length){v=!0;break}r.nodes.splice(M,1),l[C.id]=void 0,_=!0}}if(v||!_&&0!==S)break;for(var z=(g=u.length)-1;z>=0;z--){var B=u[z];if(!l[B.source]||!l[B.target]){u.splice(z,1);var F=B[b];if(c[F]--,l[B.source]&&(l[B.source].degree--,l[B.source].outDegree--),l[B.target]&&(l[B.target].degree--,l[B.target].inDegree--),N[F]&&c[F]<N[F].length){v=!0;break}_=!0}}S++}return v?(et.splice(i,1),"continue"):v||r.nodes.length<e.nodes.length||u.length<e.edges.length?(et.splice(i,1),"continue"):void 0},ot=et.length-1;ot>=0&&"break"!==rt(ot);ot--);var at=et.length,st=function(t){var e={};et[t].edges.forEach(function(t){var n="".concat(t.source,"-").concat(t.target,"-").concat(t.label);e[n]?e[n]++:e[n]=1});for(var n=function(t){var n={};et[t].edges.forEach(function(t){var e="".concat(t.source,"-").concat(t.target,"-").concat(t.label);n[e]?n[e]++:n[e]=1});var i=!0;Object.keys(n).length!==Object.keys(e).length?i=!1:Object.keys(e).forEach(function(t){n[t]!==e[t]&&(i=!1)}),i&&et.splice(t,1)},i=at-1;i>t;i--)n(i);at=et.length};for(ot=0;ot<=at-1;ot++)st(ot);return et}}};e.default=y},BIhM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VACANT_NODE_LABEL=e.VACANT_NODE_ID=e.VACANT_GRAPH_ID=e.VACANT_EDGE_LABEL=e.VACANT_EDGE_ID=e.Node=e.Graph=e.Edge=e.AUTO_EDGE_ID=void 0;var i=-1;e.VACANT_EDGE_ID=i;var r=-1;e.VACANT_NODE_ID=r;var o="-1";e.VACANT_EDGE_LABEL=o;var a="-1";e.VACANT_NODE_LABEL=a;e.VACANT_GRAPH_ID=-1;e.AUTO_EDGE_ID="-1";var s=function(){return function(t,e,n,a){void 0===t&&(t=i),void 0===e&&(e=r),void 0===n&&(n=r),void 0===a&&(a=o),this.id=t,this.from=e,this.to=n,this.label=a}}();e.Edge=s;var l=function(){function t(t,e){void 0===t&&(t=r),void 0===e&&(e=a),this.id=t,this.label=e,this.edges=[],this.edgeMap={}}return t.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},t}();e.Node=l;var u=function(){function t(t,e,n){void 0===t&&(t=r),void 0===e&&(e=!0),void 0===n&&(n=!1),this.id=t,this.edgeIdAutoIncrease=e,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return t.prototype.getNodeNum=function(){return this.nodes.length},t.prototype.addNode=function(t,e){if(!this.nodeMap[t]){var n=new l(t,e);this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[e]||(this.nodeLabelMap[e]=[]),this.nodeLabelMap[e].push(t)}},t.prototype.addEdge=function(t,e,n,i){if((this.edgeIdAutoIncrease||void 0===t)&&(t=this.counter++),!(this.nodeMap[e]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[t])){var r=new s(t,e,n,i);if(this.edges.push(r),this.edgeMap[t]=r,this.nodeMap[e].addEdge(r),this.edgeLabelMap[i]||(this.edgeLabelMap[i]=[]),this.edgeLabelMap[i].push(r),!this.directed){var o=new s(t,n,e,i);this.nodeMap[n].addEdge(o),this.edgeLabelMap[i].push(o)}}},t}();e.Graph=u},BM8A:function(t,e){},BQIb:function(t,e,n){var i=n("MR7e");t.exports=function(t){try{i(t)}catch(t){if(t instanceof i.CycleException)return!1;throw t}return!0}},BuFP:function(t,e,n){"use strict";e.j=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},n.d(e,"c",function(){return r}),e.g=function(t,e){if(t.isCanvas())return!0;var n=e.getParent(),i=!1;for(;n;){if(n===t){i=!0;break}n=n.getParent()}return i},e.b=function(t){return t.cfg.visible&&t.cfg.capture};var i=n("vfXu");n.d(e,"e",function(){return i.e}),n.d(e,"d",function(){return i.d}),n.d(e,"h",function(){return i.i}),n.d(e,"f",function(){return i.h}),n.d(e,"i",function(){return i.l}),n.d(e,"a",function(){return i.a}),n.d(e,"k",function(){return i.o});var r="undefined"!=typeof window&&void 0!==window.document},BwfY:function(t,e,n){n("fWfb"),n("M6a0"),n("OYls"),n("QWe/"),t.exports=n("FeBl").Symbol},C4MV:function(t,e,n){t.exports={default:n("9bBU"),__esModule:!0}},C9uT:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},CXw9:function(t,e,n){"use strict";var i,r,o,a,s=n("O4g8"),l=n("7KvD"),u=n("+ZMJ"),c=n("RY/4"),h=n("kM2E"),d=n("EqjI"),f=n("lOnJ"),p=n("2KxR"),g=n("NWt+"),v=n("t8x9"),m=n("L42u").set,y=n("82Mu")(),b=n("qARP"),x=n("dNDb"),w=n("iUbK"),_=n("fJUb"),S=l.TypeError,M=l.process,C=M&&M.versions,I=C&&C.v8||"",k=l.Promise,T="process"==c(M),O=function(){},E=r=b.f,A=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[n("dSzd")("species")]=function(t){t(O,O)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e&&0!==I.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),N=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var i=t._v,r=1==t._s,o=0,a=function(e){var n,o,a,s=r?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(r||(2==t._h&&P(t),t._h=1),!0===s?n=i:(c&&c.enter(),n=s(i),c&&(c.exit(),a=!0)),n===e.promise?u(S("Promise-chain cycle")):(o=N(n))?o.call(n,l,u):l(n)):u(i)}catch(t){c&&!a&&c.exit(),u(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&D(t)})}},D=function(t){m.call(l,function(){var e,n,i,r=t._v,o=j(t);if(o&&(e=x(function(){T?M.emit("unhandledRejection",r,t):(n=l.onunhandledrejection)?n({promise:t,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=T||j(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},j=function(t){return 1!==t._h&&0===(t._a||t._c).length},P=function(t){m.call(l,function(){var e;T?M.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},z=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=N(t))?y(function(){var i={_w:n,_d:!1};try{e.call(t,u(z,i,1),u(R,i,1))}catch(t){R.call(i,t)}}):(n._v=t,n._s=1,L(n,!1))}catch(t){R.call({_w:n,_d:!1},t)}}};A||(k=function(t){p(this,k,"Promise","_h"),f(t),i.call(this);try{t(u(z,this,1),u(R,this,1))}catch(t){R.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n("xH/j")(k.prototype,{then:function(t,e){var n=E(v(this,k));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?M.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=u(z,t,1),this.reject=u(R,t,1)},b.f=E=function(t){return t===k||t===a?new o(t):r(t)}),h(h.G+h.W+h.F*!A,{Promise:k}),n("e6n0")(k,"Promise"),n("bRrM")("Promise"),a=n("FeBl").Promise,h(h.S+h.F*!A,"Promise",{reject:function(t){var e=E(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!A),"Promise",{resolve:function(t){return _(s&&this===a?k:this,t)}}),h(h.S+h.F*!(A&&n("dY0y")(function(t){k.all(t).catch(O)})),"Promise",{all:function(t){var e=this,n=E(e),i=n.resolve,r=n.reject,o=x(function(){var n=[],o=0,a=1;g(t,!1,function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||i(n))},r)}),--a||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=E(e),i=n.reject,r=x(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},Cjnd:function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}},CpEa:function(t,e){},CrDA:function(t,e){},D2L2:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},D5sP:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent)},DQCr:function(t,e,n){"use strict";var i=n("cGG2");function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var a=[];i.forEach(e,function(t,e){null!==t&&void 0!==t&&(i.isArray(t)&&(e+="[]"),i.isArray(t)||(t=[t]),i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(r(e)+"="+r(t))}))}),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},DRaW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=g,e.lift=function(t,e){var n=g(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0,n[i]>255?n[i]=255:n[i]<0&&(n[i]=0);return w(n,4===n.length?"rgba":"rgb")}},e.toHex=function(t){var e=g(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},e.fastLerp=m,n.d(e,"fastMapToColor",function(){return y}),e.lerp=b,n.d(e,"mapToColor",function(){return x}),e.modifyHSL=function(t,e,n,i){var r=g(t);if(t)return r=function(t){if(!t)return;var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a,u=(s+a)/2;if(0===l)e=0,n=0;else{n=u<.5?l/(s+a):l/(2-s-a);var c=((s-i)/6+l/2)/l,h=((s-r)/6+l/2)/l,d=((s-o)/6+l/2)/l;i===s?e=d-h:r===s?e=1/3+c-d:o===s&&(e=2/3+h-c),e<0&&(e+=1),e>1&&(e-=1)}var f=[360*e,n,u];null!=t[3]&&f.push(t[3]);return f}(r),null!=e&&(r[0]=(o=e,(o=Math.round(o))<0?0:o>360?360:o)),null!=n&&(r[1]=s(n)),null!=i&&(r[2]=s(i)),w(v(r),"rgba");var o},e.modifyAlpha=function(t,e){var n=g(t);if(n&&null!=e)return n[3]=o(e),w(n,"rgba")},e.stringify=w,e.lum=function(t,e){var n=g(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0},e.random=function(){return w([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")};var i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:t>255?255:t}function o(t){return t<0?0:t>1?1:t}function a(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?r(parseFloat(e)/100*255):r(parseInt(e,10))}function s(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?o(parseFloat(e)/100):o(parseFloat(e))}function l(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function u(t,e,n){return t+(e-t)*n}function c(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var d=new(n("zMj2").a)(20),f=null;function p(t,e){f&&h(f,e),f=d.put(t,f||e.slice())}function g(t,e){if(t){e=e||[];var n=d.get(t);if(n)return h(e,n);var r=(t+="").replace(/ /g,"").toLowerCase();if(r in i)return h(e,i[r]),p(t,e),e;var o,l=r.length;if("#"===r.charAt(0))return 4===l||5===l?(o=parseInt(r.slice(1,4),16))>=0&&o<=4095?(c(e,(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,5===l?parseInt(r.slice(4),16)/15:1),p(t,e),e):void c(e,0,0,0,1):7===l||9===l?(o=parseInt(r.slice(1,7),16))>=0&&o<=16777215?(c(e,(16711680&o)>>16,(65280&o)>>8,255&o,9===l?parseInt(r.slice(7),16)/255:1),p(t,e),e):void c(e,0,0,0,1):void 0;var u=r.indexOf("("),f=r.indexOf(")");if(-1!==u&&f+1===l){var g=r.substr(0,u),m=r.substr(u+1,f-(u+1)).split(","),y=1;switch(g){case"rgba":if(4!==m.length)return 3===m.length?c(e,+m[0],+m[1],+m[2],1):c(e,0,0,0,1);y=s(m.pop());case"rgb":return 3!==m.length?void c(e,0,0,0,1):(c(e,a(m[0]),a(m[1]),a(m[2]),y),p(t,e),e);case"hsla":return 4!==m.length?void c(e,0,0,0,1):(m[3]=s(m[3]),v(m,e),p(t,e),e);case"hsl":return 3!==m.length?void c(e,0,0,0,1):(v(m,e),p(t,e),e);default:return}}c(e,0,0,0,1)}}function v(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=s(t[1]),o=s(t[2]),a=o<=.5?o*(i+1):o+i-o*i,u=2*o-a;return c(e=e||[],r(255*l(u,a,n+1/3)),r(255*l(u,a,n)),r(255*l(u,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function m(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var i=t*(e.length-1),a=Math.floor(i),s=Math.ceil(i),l=e[a],c=e[s],h=i-a;return n[0]=r(u(l[0],c[0],h)),n[1]=r(u(l[1],c[1],h)),n[2]=r(u(l[2],c[2],h)),n[3]=o(u(l[3],c[3],h)),n}}var y=m;function b(t,e,n){if(e&&e.length&&t>=0&&t<=1){var i=t*(e.length-1),a=Math.floor(i),s=Math.ceil(i),l=g(e[a]),c=g(e[s]),h=i-a,d=w([r(u(l[0],c[0],h)),r(u(l[1],c[1],h)),r(u(l[2],c[2],h)),o(u(l[3],c[3],h))],"rgba");return n?{color:d,leftIndex:a,rightIndex:s,value:i}:d}}var x=b;function w(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}},Dd8w:function(t,e,n){"use strict";e.__esModule=!0;var i,r=n("woOf"),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}},Dgox:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("5eO5"),r=l(n("Jsh2")),o=l(n("ncSy")),a=n("NTMn"),s=n("6klO");function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t,e,n,i){for(var r=e.length,o=2*i,a=0,s=0;s<r;s++)for(var l=t[s].clusterId,u=0;u<r;u++){if(l===t[u].clusterId)a+=(e[s][u]||0)-(n[s]||0)*(n[u]||0)/o}return a*=1/o},c=function(t,e){void 0===t&&(t=[]);for(var n=t.length,i=new o.default([]),r=0;r<n;r++)i=i.add(new o.default(e[r]));var a=i.avg(n);a.normalize();var s=0;for(r=0;r<n;r++){s+=(u=new o.default(e[r])).squareEuclideanDistance(a)}var l=[];t.forEach(function(){l.push([])});for(r=0;r<n;r++){var u=new o.default(e[r]);t[r].clusterInertial=0;for(var c=0;c<n;c++)if(r!==c){var h=new o.default(e[c]);l[r][c]=u.squareEuclideanDistance(h),t[r].clusterInertial+=l[r][c]}else l[r][c]=0}var d=0,f=2*n*s;for(r=0;r<n;r++){var p=t[r].clusterId;for(c=0;c<n;c++){var g=t[c].clusterId;if(r!==c&&p===g)d+=t[r].clusterInertial*t[c].clusterInertial/Math.pow(f,2)-l[r][c]/f}}return Number(d.toFixed(4))},h=function(t,e,n,o,l,h){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e-4),void 0===l&&(l=!1),void 0===h&&(h=1);var d=t.nodes,f=void 0===d?[]:d,p=t.edges,g=void 0===p?[]:p,v=[];if(l){f.forEach(function(t,e){t.properties=t.properties||{},t.originIndex=e});var m=[];f.every(function(t){return t.hasOwnProperty("nodeType")})&&(m=Array.from(new Set(f.map(function(t){return t.nodeType}))),f.forEach(function(t){t.properties.nodeType=m.findIndex(function(e){return e===t.nodeType})}));var y=(0,a.getAllProperties)(f);v=(0,s.oneHot)(y)}var b=1,x={},w={};f.forEach(function(t,e){var n=String(b++);t.clusterId=n,x[n]={id:n,nodes:[t]},w[t.id]={node:t,idx:e}});var _=(0,r.default)(t,e),S=[],M={},C=0;_.forEach(function(t,e){var n=0,i=f[e].id;M[i]={},t.forEach(function(t,e){if(t){n+=t;var r=f[e].id;M[i][r]=t,C+=t}}),S.push(n)}),C/=2;for(var I=1/0,k=1/0,T=0,O=[],E={};;){I=l&&f.every(function(t){return t.hasOwnProperty("properties")})?u(f,_,S,C)+c(f,v)*h:u(f,_,S,C),0===T&&(k=I,O=f,E=x);var A=I>0&&I>k&&I-k<o;if(I>k&&(O=f.map(function(t){return{node:t,clusterId:t.clusterId}}),E=(0,i.clone)(x),k=I),A||T>100)break;T++,Object.keys(x).forEach(function(t){var e=0;g.forEach(function(i){var r=i.source,o=i.target,a=w[r].node.clusterId,s=w[o].node.clusterId;(a===t&&s!==t||s===t&&a!==t)&&(e+=i[n]||1)}),x[t].sumTot=e}),f.forEach(function(t,e){var i,r=x[t.clusterId],o=0,a=S[e]/(2*C),s=0,u=r.nodes;u.forEach(function(t){var n=w[t.id].idx;s+=_[e][n]||0});var d=s-r.sumTot*a,f=u.filter(function(e){return e.id!==t.id}),p=[];f.forEach(function(t,e){p[e]=v[t.originIndex]});var m=c(f,v)*h,y=M[t.id];if(Object.keys(y).forEach(function(n){var r=w[n].node.clusterId;if(r!==t.clusterId){var s=x[r],u=s.nodes;if(u&&u.length){var f=0;u.forEach(function(t){var n=w[t.id].idx;f+=_[e][n]||0});var p=f-s.sumTot*a,g=u.concat([t]),y=[];g.forEach(function(t,e){y[e]=v[t.originIndex]});var b=c(g,v)*h,S=p-d;l&&(S=p+b-(d+m)),S>o&&(o=S,i=s)}}}),o>0){i.nodes.push(t);var b=t.clusterId;t.clusterId=i.id;var I=r.nodes.indexOf(t);r.nodes.splice(I,1);var k=0,T=0;g.forEach(function(t){var e=t.source,r=t.target,o=w[e].node.clusterId,a=w[r].node.clusterId;(o===i.id&&a!==i.id||a===i.id&&o!==i.id)&&(k+=t[n]||1),(o===b&&a!==b||a===b&&o!==b)&&(T+=t[n]||1)}),i.sumTot=k,r.sumTot=T}})}var N={},L=0;Object.keys(E).forEach(function(t){var e=E[t];if(e.nodes&&e.nodes.length){var n=String(L+1);n!==t&&(e.id=n,e.nodes=e.nodes.map(function(t){return{id:t.id,clusterId:n}}),E[n]=e,N[t]=n,delete E[t],L++)}else delete E[t]}),O.forEach(function(t){var e=t.node,n=t.clusterId;e.clusterId=n,e.clusterId&&N[e.clusterId]&&(e.clusterId=N[e.clusterId])});var D=[],j={};g.forEach(function(t){var e=t.source,i=t.target,r=t[n]||1,o=w[e].node.clusterId,a=w[i].node.clusterId,s="".concat(o,"---").concat(a);if(j[s])j[s].weight+=r,j[s].count++;else{var l={source:o,target:a,weight:r,count:1};j[s]=l,D.push(l)}});var P=[];return Object.keys(E).forEach(function(t){P.push(E[t])}),{clusters:P,clusterEdges:D}};e.default=h},DuR2:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},"E+h2":function(t,e,n){t.exports={components:n("SwQx"),dijkstra:n("Emnw"),dijkstraAll:n("OuaV"),findCycles:n("i63B"),floydWarshall:n("X7CL"),isAcyclic:n("BQIb"),postorder:n("kr8a"),preorder:n("9mJX"),prim:n("cHVU"),tarjan:n("xuDd"),topsort:n("MR7e")}},E4Rs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typeConstraint=e.namedConstraint=e.taggedConstraint=e.traverseAncerstors=void 0;var i=n("cEWm"),r=n("gNUp"),o=function(t,e){var n=t.parentRequest;return null!==n&&(!!e(n)||o(n,e))};e.traverseAncerstors=o;var a=function(t){return function(e){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(t)(e)};return n.metaData=new r.Metadata(t,e),n}};e.taggedConstraint=a;var s=a(i.NAMED_TAG);e.namedConstraint=s;e.typeConstraint=function(t){return function(e){var n=null;if(null!==e){if(n=e.bindings[0],"string"==typeof t)return n.serviceIdentifier===t;var i=e.bindings[0].implementationType;return t===i}return!1}}},E9gP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n("7N6o"))&&i.__esModule?i:{default:i},o=n("lSAc");var a=function(t,e,n){"number"!=typeof e&&(e=1e-6),"number"!=typeof n&&(n=.85);for(var i,a=1,s=0,l=1e3,u=t.nodes,c=void 0===u?[]:u,h=t.edges,d=void 0===h?[]:h,f=c.length,p={},g={},v=0;v<f;++v)p[y=(S=c[v]).id]=1/f,g[y]=1/f;for(var m=(0,r.default)(t);l>0&&a>e;){for(s=0,v=0;v<f;++v){var y=(S=c[v]).id;if(i=0,0===m[S.id].inDegree)p[y]=0;else{for(var b=(0,o.getNeighbors)(y,d,"source"),x=0;x<b.length;++x){var w=b[x],_=m[w].outDegree;_>0&&(i+=g[w]/_)}p[y]=n*i,s+=p[y]}}for(s=(1-s)/f,a=0,v=0;v<f;++v){var S;i=p[y=(S=c[v]).id]+s,a+=Math.abs(i-g[y]),g[y]=i}l-=1}return g};e.default=a},EGZi:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},EKta:function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,i=u(t),a=i[0],s=i[1],l=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),c=0,h=s>0?a-4:a;for(n=0;n<h;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;2===s&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,l[c++]=255&e);1===s&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e);return l},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(c(t,a,a+16383>s?s:a+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var r,o,a=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},"ETa/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.circularDependencyToException=e.listMetadataForTarget=e.listRegisteredBindingsForServiceIdentifier=e.getServiceIdentifierAsString=e.getFunctionName=void 0;var i=n("tuOO");function r(t){return"function"==typeof t?t.name:"symbol"==typeof t?t.toString():t}function o(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}e.getServiceIdentifierAsString=r,e.listRegisteredBindingsForServiceIdentifier=function(t,e,n){var i="",r=n(t,e);return 0!==r.length&&(i="\nRegistered bindings:",r.forEach(function(t){var e="Object";null!==t.implementationType&&(e=o(t.implementationType)),i=i+"\n "+e,t.constraint.metaData&&(i=i+" - "+t.constraint.metaData)})),i},e.circularDependencyToException=function t(e){e.childRequests.forEach(function(e){if(function t(e,n){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===n||t(e.parentRequest,n))}(e,e.serviceIdentifier)){var n=function t(e,n){void 0===n&&(n=[]);var i=r(e.serviceIdentifier);return n.push(i),null!==e.parentRequest?t(e.parentRequest,n):n}(e).reverse().join(" --\x3e ");throw new Error(i.CIRCULAR_DEPENDENCY+" "+n)}t(e)})},e.listMetadataForTarget=function(t,e){if(e.isTagged()||e.isNamed()){var n="",i=e.getNamedTag(),r=e.getCustomTags();return null!==i&&(n+=i.toString()+"\n"),null!==r&&r.forEach(function(t){n+=t.toString()+"\n"})," "+t+"\n "+t+" - "+n}return" "+t},e.getFunctionName=o},EgE0:function(t,e){t.exports=function(t,e,n,i){var r=e[0],o=e[1];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t}},Emnw:function(t,e,n){var i=n("QGUm"),r=n("2jKd");t.exports=function(t,e,n,i){return function(t,e,n,i){var o,a,s={},l=new r,u=function(t){var e=t.v!==o?t.v:t.w,i=s[e],r=n(t),u=a.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+r);u<i.distance&&(i.distance=u,i.predecessor=o,l.decrease(e,u))};t.nodes().forEach(function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},l.add(t,n)});for(;l.size()>0&&(o=l.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)i(o).forEach(u);return s}(t,String(e),n||o,i||function(e){return t.outEdges(e)})};var o=i.constant(1)},En79:function(t,e,n){t.exports=n("SldL")},EqBC:function(t,e,n){"use strict";var i=n("kM2E"),r=n("FeBl"),o=n("7KvD"),a=n("t8x9"),s=n("fJUb");i(i.P+i.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},EqjI:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},EuP9:function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n("EKta"),r=n("ujcs"),o=n("sOR5");function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,n)}function u(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=d(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(e,n),r=(t=s(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|f(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?s(t,0):d(t,e);if("Buffer"===e.type&&o(e.data))return d(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=s(t,e<0?0:0|f(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|f(e.length);t=s(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function f(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(i)return F(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function v(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=l.from(e,i)),l.isBuffer(e))return 0===e.length?-1:m(t,e,n,i,r);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,i,r){var o,a=1,s=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var c=-1;for(o=n;o<s;o++)if(u(t,o)===u(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(u(t,o+d)!==u(e,d)){h=!1;break}if(h)return o}return-1}function y(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,i){return V(F(e,t.length-n),t,n,i)}function x(t,e,n,i){return V(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function w(t,e,n,i){return x(t,e,n,i)}function _(t,e,n,i){return V(G(e),t,n,i)}function S(t,e,n,i){return V(function(t,e){for(var n,i,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function M(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,a,s,l,u=t[r],c=null,h=u>239?4:u>223?3:u>191?2:1;if(r+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=t[r+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=h}return function(t){var e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=I));return n}(i)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return u(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,i){return c(e),e<=0?s(t,e):void 0!==n?"string"==typeof i?s(t,e).fill(n,i):s(t,e).fill(n):s(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return h(null,t)},l.allocUnsafeSlow=function(t){return h(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=l.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return M(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,i,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var o=r-i,a=n-e,s=Math.min(o,a),u=this.slice(i,r),c=t.slice(e,n),h=0;h<s;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},l.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function k(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function T(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function O(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=B(t[o]);return r}function E(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function A(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,i,r,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function L(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function D(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function j(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,i,o){return o||j(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function R(t,e,n,i,o){return o||j(t,0,n,8),r.write(t,e,n,i,52,8),n+8}l.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var r=e-t;n=new l(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},l.prototype.readUInt8=function(t,e){return e||A(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||A(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||A(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||A(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||A(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||A(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||A(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||A(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||A(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);N(this,t,e,n,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);N(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},l.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=l.isBuffer(t)?t:F(new l(t,i).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(e,n("DuR2"))},FAEI:function(t,e){t.exports=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r,t[1]=n[1]*i+n[3]*r,t}},"FZ+f":function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(o).concat([r]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},FeBl:function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},FtD3:function(t,e,n){"use strict";var i=n("t8qj");t.exports=function(t,e,n,r,o){var a=new Error(t);return i(a,e,n,r,o)}},Fy54:function(t,e,n){"use strict";var i=n("fKPv"),r=n.n(i),o=n("Z60a"),a=n.n(o),s=n("C9uT"),l=n.n(s),u=n("M1I4"),c=n.n(u),h=n("j/rp"),d=n.n(h),f=n("T/v0"),p=n.n(f),g=n("tNLN"),v=n.n(g),m=n("lVvd"),y=n("J4xG"),b=n("Oy1H"),x=n.n(b),w=9007199254740991,_={};_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Arguments]"]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object Boolean]"]=_["[object DataView]"]=_["[object Date]"]=_["[object Error]"]=_["[object Function]"]=_["[object Map]"]=_["[object Number]"]=_["[object Object]"]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object WeakMap]"]=!1;var S=Object.prototype.toString;var M=function(t){return function(t){return!!t&&"object"===x()(t)}(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=w}(t.length)&&!!_[S.call(t)]};function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=v()(t);if(e){var r=v()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}n.d(e,"a",function(){return T});var T=function(t){d()(n,t);var e=k(n);function n(t){var i;return a()(this,n),(i=e.call(this,t)).dirty=!0,i.attributes=[],i.indices=void 0,i.indicesBuffer=void 0,i.vertexCount=0,i.maxInstancedCount=void 0,i.aabb=void 0,i.entity=void 0,Object.assign(c()(i),t),i}return l()(n,[{key:"setAttribute",value:function(t,e,n,i){var r=this.attributes.find(function(e){return e.name===t});return r?(r.data=e,r.dirty=!0):this.attributes.push(I(I({dirty:!0,name:t,data:e},n),{},{bufferGetter:i})),this.dirty=!0,this}},{key:"setIndex",value:function(t){return this.indices=new Uint32Array(t.buffer?t.buffer:t),this.dirty=!0,this}},{key:"applyMatrix",value:function(t){var e=this.attributes.find(function(t){return"position"===t.name}),n=this.attributes.find(function(t){return"normal"===t.name});if(e&&(e.dirty=!0,e.data&&e.data.length))for(var i=0;i<e.data.length;i+=3){var r=m.f.fromValues(e.data[i],e.data[i+1],e.data[i+2],1);m.f.transformMat4(r,r,t),M(e.data)?e.data.set([r[0],r[1],r[2]],i):(e.data[i]=r[0],e.data[i+1]=r[1],e.data[i+2]=r[2])}if(n){var o=m.a.normalFromMat4(m.a.create(),t);if(n.data&&n.data.length)for(var a=0;a<n.data.length;a+=3){var s=m.e.fromValues(n.data[a],n.data[a+1],n.data[a+2]);m.e.transformMat3(s,s,o),m.e.normalize(s,s),M(n.data)?n.data.set([s[0],s[1],s[2]],a):(n.data[a]=s[0],n.data[a+1]=s[1],n.data[a+2]=s[2])}}}}]),n}(y.a)},G4rE:function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]}},G9cL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=void 0;e.multiBindToService=function(t){return function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.forEach(function(n){return t.bind(n).toService(e)})}}}},GGoO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncContainerModule=e.ContainerModule=void 0;var i=n("fwdJ"),r=function(){return function(t){this.id=i.id(),this.registry=t}}();e.ContainerModule=r;var o=function(){return function(t){this.id=i.id(),this.registry=t}}();e.AsyncContainerModule=o},GHBc:function(t,e,n){"use strict";var i=n("cGG2");t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},H7FV:function(t,e,n){"use strict";var i=n("TToO"),r=n("i6H2"),o=n("85Et"),a=n("qNZ/"),s=n("IpCj"),l=n("8ALn"),u=n("o2t7"),c=n("iaRc"),h=n("PzsT"),d=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,f=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,p=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function g(t){var e=t.match(p);if(!e)return"";var n="";return e.sort(function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])}),Object(h.a)(e,function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'}),n}var v=function(){function t(t){this.cfg={};var e,n,i,r,o,a,s,u=null,c=Object(h.j)("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,i,r=d.exec(t),o=Object(h.g)(Object(h.i)(parseFloat(r[1])),2*Math.PI),a=r[2];o>=0&&o<.5*Math.PI?(n={x:0,y:0},i={x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(n={x:1,y:0},i={x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(n={x:1,y:1},i={x:0,y:0}):(n={x:0,y:1},i={x:1,y:0});var s=Math.tan(o),l=s*s,u=(i.x-n.x+s*(i.y-n.y))/(l+1)+n.x,c=s*(i.x-n.x+s*(i.y-n.y))/(l+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",u),e.setAttribute("y2",c),e.innerHTML=g(a)}(t,u=Object(l.b)("linearGradient")):(u=Object(l.b)("radialGradient"),e=t,n=u,i=f.exec(e),r=parseFloat(i[1]),o=parseFloat(i[2]),a=parseFloat(i[3]),s=i[4],n.setAttribute("cx",r),n.setAttribute("cy",o),n.setAttribute("r",a),n.innerHTML=g(s)),u.setAttribute("id",c),this.el=u,this.id=c,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),m={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},y={x:"-40%",y:"-40%",width:"200%",height:"200%"},b=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=Object(l.b)("filter");return Object(h.a)(y,function(t,n){e.setAttribute(n,t)}),this.el=e,this.id=Object(h.j)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,i=this.cfg;return Object(h.a)(Object.keys(i),function(t){if(i[t]!==e[t])return n=!1,!1}),n},t.prototype.update=function(t,e){var n=this.cfg;return n[m[t]]=e,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}(),x=function(){function t(t,e){this.cfg={};var n=Object(l.b)("marker"),i=Object(h.j)("marker_");n.setAttribute("id",i);var r=Object(l.b)("path");r.setAttribute("stroke",t.stroke||"none"),r.setAttribute("fill",t.fill||"none"),n.appendChild(r),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=r,this.id=i;var o=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===o?this._setDefaultPath(e,r):(this.cfg=o,this._setMarker(t.lineWidth,r)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var n=this.el,i=this.cfg.path,r=this.cfg.d;Object(h.b)(i)&&(i=i.map(function(t){return t.join(" ")}).join("")),e.setAttribute("d",i),n.appendChild(e),r&&n.setAttribute("refX",""+r/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}(),w=function(){function t(t){this.type="clip",this.cfg={};var e=Object(l.b)("clipPath");this.el=e,this.id=Object(h.j)("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}(),_=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,S=function(){function t(t){this.cfg={};var e=Object(l.b)("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=Object(l.b)("image");e.appendChild(n);var i=Object(h.j)("pattern_");e.id=i,this.el=e,this.id=i,this.cfg=t;var r=_.exec(t)[2];n.setAttribute("href",r);var o=new Image;function a(){e.setAttribute("width",""+o.width),e.setAttribute("height",""+o.height)}return r.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=r,o.complete?a():(o.onload=a,o.src=o.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),M=function(){function t(t){var e=Object(l.b)("defs"),n=Object(h.j)("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var n=this.children,i=null,r=0;r<n.length;r++)if(n[r].match(t,e)){i=n[r].id;break}return i},t.prototype.findById=function(t){for(var e=this.children,n=null,i=0;i<e.length;i++)if(e[i].id===t){n=e[i];break}return n},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var i=new x(t,e);return this.defaultArrow[n]=i,this.el.appendChild(i.el),this.add(i),i.id},t.prototype.addGradient=function(t){var e=new v(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var n=new x(t,e);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(t){var e=new b(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new S(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new w(t);return this.el.appendChild(e.el),this.add(e),e.id},t}(),C=function(t){function e(e){return t.call(this,Object(i.__assign)(Object(i.__assign)({},e),{autoDraw:!0,renderer:"svg"}))||this}return Object(i.__extends)(e,t),e.prototype.getShapeBase=function(){return u},e.prototype.getGroupBase=function(){return c.a},e.prototype.getShape=function(t,e,n){var i=n.target||n.srcElement;if(!o.a[i.tagName]){for(var r=i.parentNode;r&&!o.a[r.tagName];)r=r.parentNode;i=r}return this.find(function(t){return t.get("el")===i})},e.prototype.createDom=function(){var t=Object(l.b)("svg"),e=new M(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},e.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var i=this.get("children");i&&i.length&&Object(l.d)(this,function(t,e){return i.indexOf(t)-i.indexOf(e)?1:0})}else if("clear"===t){if(n){n.innerHTML="";var r=e.el;r.innerHTML="",n.appendChild(r)}}else"matrix"===t?Object(s.c)(this):"clip"===t?Object(s.a)(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();Object(s.a)(this,t),e.length&&Object(a.a)(t,e)},e}(r.AbstractCanvas);e.a=C},HYGI:function(t,e,n){t.exports=n("WIrS")},HuxX:function(t,e,n){"use strict";var i=n("NM/j"),r=n.n(i);n("lVvd");e.b=function(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},e.a=function(t){var e=r()(t,3),n=e[0],i=e[1],o=e[2];return n+256*i+65536*o-1}},I8yv:function(t,e,n){(function(t,e){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(n){!function(i){var r="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=a(n);function a(t,e){return function(n,i){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:i}),e&&e(n,i)}}void 0===r.Reflect?r.Reflect=n:o=a(r.Reflect,o),function(e){var n=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,r=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,l=!a&&!s,u={create:a?function(){return L(Object.create(null))}:s?function(){return L({__proto__:null})}:function(){return L({})},has:l?function(t,e){return n.call(t,e)}:function(t,e){return e in t},get:l?function(t,e){return n.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},c=Object.getPrototypeOf(Function),h="object"==typeof t&&Object({NODE_ENV:"production"})&&"true"===Object({NODE_ENV:"production"}).REFLECT_METADATA_USE_MAP_POLYFILL,d=h||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[o]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var i=this._keys.length,r=n+1;r<i;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,i)},e.prototype.values=function(){return new n(this._keys,this._values,r)},e.prototype.entries=function(){return new n(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[o]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function i(t,e){return t}function r(t,e){return e}function a(t,e){return[t,e]}}():Map,f=h||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new d}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[o]=function(){return this.keys()},t}():Set,p=new(h||"function"!=typeof WeakMap?function(){var t=16,e=u.create(),i=r();return function(){function t(){this._key=r()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&u.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?u.get(e,this._key):void 0},t.prototype.set=function(t,e){var n=o(t,!0);return n[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=r()},t}();function r(){var t;do{t="@@WeakMap@@"+s()}while(u.has(e,t));return e[t]=!0,t}function o(t,e){if(!n.call(t,i)){if(!e)return;Object.defineProperty(t,i,{value:u.create()})}return t[i]}function a(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function s(){var e=function(t){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t);return a(new Array(t),t)}(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",i=0;i<t;++i){var r=e[i];4!==i&&6!==i&&8!==i||(n+="-"),r<16&&(n+="0"),n+=r.toString(16).toLowerCase()}return n}}():WeakMap);function g(t,e,n){var i=p.get(t);if(w(i)){if(!n)return;i=new d,p.set(t,i)}var r=i.get(e);if(w(r)){if(!n)return;r=new d,i.set(e,r)}return r}function v(t,e,n){var i=g(e,n,!1);return!w(i)&&!!i.has(t)}function m(t,e,n){var i=g(e,n,!1);if(!w(i))return i.get(t)}function y(t,e,n,i){var r=g(n,i,!0);r.set(t,e)}function b(t,e){var n=[],i=g(t,e,!1);if(w(i))return n;for(var r=i.keys(),a=function(t){var e=O(t,o);if(!k(e))throw new TypeError;var n=e.call(t);if(!S(n))throw new TypeError;return n}(r),s=0;;){var l=E(a);if(!l)return n.length=s,n;var u=l.value;try{n[s]=u}catch(t){try{A(a)}finally{throw t}}s++}}function x(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function w(t){return void 0===t}function _(t){return null===t}function S(t){return"object"==typeof t?null!==t:"function"==typeof t}function M(t,e){switch(x(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",i=O(t,r);if(void 0!==i){var o=i.call(t,n);if(S(o))throw new TypeError;return o}return function(t,e){if("string"===e){var n=t.toString;if(k(n)){var i=n.call(t);if(!S(i))return i}var r=t.valueOf;if(k(r)){var i=r.call(t);if(!S(i))return i}}else{var r=t.valueOf;if(k(r)){var i=r.call(t);if(!S(i))return i}var o=t.toString;if(k(o)){var i=o.call(t);if(!S(i))return i}}throw new TypeError}(t,"default"===n?"number":n)}function C(t){var e=M(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function I(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function k(t){return"function"==typeof t}function T(t){return"function"==typeof t}function O(t,e){var n=t[e];if(void 0!==n&&null!==n){if(!k(n))throw new TypeError;return n}}function E(t){var e=t.next();return!e.done&&e}function A(t){var e=t.return;e&&e.call(t)}function N(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===c)return e;if(e!==c)return e;var n=t.prototype,i=n&&Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return e;var r=i.constructor;return"function"!=typeof r?e:r===t?e:r}function L(t){return t.__=void 0,delete t.__,t}e("decorate",function(t,e,n,i){if(w(n)){if(!I(t))throw new TypeError;if(!T(e))throw new TypeError;return function(t,e){for(var n=t.length-1;n>=0;--n){var i=t[n],r=i(e);if(!w(r)&&!_(r)){if(!T(r))throw new TypeError;e=r}}return e}(t,e)}if(!I(t))throw new TypeError;if(!S(e))throw new TypeError;if(!S(i)&&!w(i)&&!_(i))throw new TypeError;return _(i)&&(i=void 0),n=C(n),function(t,e,n,i){for(var r=t.length-1;r>=0;--r){var o=t[r],a=o(e,n,i);if(!w(a)&&!_(a)){if(!S(a))throw new TypeError;i=a}}return i}(t,e,n,i)}),e("metadata",function(t,e){return function(n,i){if(!S(n))throw new TypeError;if(!w(i)&&!function(t){switch(x(t)){case 3:case 4:return!0;default:return!1}}(i))throw new TypeError;y(t,e,n,i)}}),e("defineMetadata",function(t,e,n,i){if(!S(n))throw new TypeError;w(i)||(i=C(i));return y(t,e,n,i)}),e("hasMetadata",function(t,e,n){if(!S(e))throw new TypeError;w(n)||(n=C(n));return function t(e,n,i){var r=v(e,n,i);if(r)return!0;var o=N(n);if(!_(o))return t(e,o,i);return!1}(t,e,n)}),e("hasOwnMetadata",function(t,e,n){if(!S(e))throw new TypeError;w(n)||(n=C(n));return v(t,e,n)}),e("getMetadata",function(t,e,n){if(!S(e))throw new TypeError;w(n)||(n=C(n));return function t(e,n,i){var r=v(e,n,i);if(r)return m(e,n,i);var o=N(n);if(!_(o))return t(e,o,i);return}(t,e,n)}),e("getOwnMetadata",function(t,e,n){if(!S(e))throw new TypeError;w(n)||(n=C(n));return m(t,e,n)}),e("getMetadataKeys",function(t,e){if(!S(t))throw new TypeError;w(e)||(e=C(e));return function t(e,n){var i=b(e,n);var r=N(e);if(null===r)return i;var o=t(r,n);if(o.length<=0)return i;if(i.length<=0)return o;var a=new f;var s=[];for(var l=0,u=i;l<u.length;l++){var c=u[l],h=a.has(c);h||(a.add(c),s.push(c))}for(var d=0,p=o;d<p.length;d++){var c=p[d],h=a.has(c);h||(a.add(c),s.push(c))}return s}(t,e)}),e("getOwnMetadataKeys",function(t,e){if(!S(t))throw new TypeError;w(e)||(e=C(e));return b(t,e)}),e("deleteMetadata",function(t,e,n){if(!S(e))throw new TypeError;w(n)||(n=C(n));var i=g(e,n,!1);if(w(i))return!1;if(!i.delete(t))return!1;if(i.size>0)return!0;var r=p.get(e);return r.delete(n),r.size>0||(p.delete(e),!0)})}(o)}()}(n||(n={}))}).call(e,n("W2nU"),n("DuR2"))},IFwh:function(t,e,n){"use strict";var i=n("hVtj");n.d(e,"gl",function(){return i.a});var r=n("LdoK"),o=(n.n(r),n("QbqK")),a=(n.n(o),n("W/hD")),s=(n.n(a),n("k26h")),l=(n.n(s),n("BM8A")),u=(n.n(l),n("XneE")),c=(n.n(u),n("0hH8"),n("0yQY")),h=(n.n(c),n("KsxA")),d=(n.n(h),n("CrDA")),f=(n.n(d),n("fPyR"));n.n(f)},IJ9V:function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.DistanceType=void 0,e.DistanceType=i,function(t){t.EuclideanDistance="euclideanDistance"}(i||(e.DistanceType=i={}))},IP1c:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unmanaged=void 0;var i=n("cEWm"),r=n("gNUp"),o=n("xu9d");e.unmanaged=function(){return function(t,e,n){var a=new r.Metadata(i.UNMANAGED_TAG,!0);o.tagParameter(t,e,n,a)}}},Ibhu:function(t,e,n){var i=n("D2L2"),r=n("TcQ7"),o=n("vFc/")(!1),a=n("ax3d")("IE_PROTO");t.exports=function(t,e){var n,s=r(t),l=0,u=[];for(n in s)n!=a&&i(s,n)&&u.push(n);for(;e.length>l;)i(s,n=e[l++])&&(~o(u,n)||u.push(n));return u}},IpCj:function(t,e,n){"use strict";e.b=function(t,e){var n=t.cfg.el,i=t.attr(),r={dx:i.shadowOffsetX,dy:i.shadowOffsetY,blur:i.shadowBlur,color:i.shadowColor};if(r.dx||r.dy||r.blur||r.color){var o=e.find("filter",r);o||(o=e.addShadow(r)),n.setAttribute("filter","url(#"+o+")")}else n.removeAttribute("filter")},e.c=function(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,i=[],r=0;r<9;r+=3)i.push(e[r]+","+e[r+1]);-1===(i=i.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+i+")"):console.warn("invalid matrix:",e)}},e.a=function(t,e){var n=t.getClip(),r=t.get("el");if(n){if(n&&!r.hasAttribute("clip-path")){Object(i.a)(n),n.createPath(e);var o=e.addClip(n);r.setAttribute("clip-path","url(#"+o+")")}}else r.removeAttribute("clip-path")};var i=n("8ALn")},Ireu:function(t,e,n){t.exports=function(t,e,n,r,o,a){var s,l;e||(e=2);n||(n=0);l=r?Math.min(r*e+n,t.length):t.length;for(s=n;s<l;s+=e)i[0]=t[s],i[1]=t[s+1],o(i,i,a),t[s]=i[0],t[s+1]=i[1];return t};var i=n("KH7G")()},IzBs:function(t,e,n){"use strict";var i={};n.d(i,"leftTranslate",function(){return o}),n.d(i,"leftRotate",function(){return a}),n.d(i,"leftScale",function(){return s}),n.d(i,"transform",function(){return l}),n.d(i,"direction",function(){return u}),n.d(i,"angleTo",function(){return c}),n.d(i,"vertical",function(){return h});var r=n("lVvd");function o(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.a.fromTranslation(i,n),r.a.multiply(t,i,e)}function a(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.a.fromRotation(i,n),r.a.multiply(t,i,e)}function s(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.a.fromScaling(i,n),r.a.multiply(t,i,e)}function l(t,e){for(var n,i,l,u=t?[].concat(t):[1,0,0,0,1,0,0,0,1],c=0,h=e.length;c<h;c++){var d=e[c];switch(d[0]){case"t":o(u,u,[d[1],d[2]]);break;case"s":s(u,u,[d[1],d[2]]);break;case"r":a(u,u,d[1]);break;case"m":n=u,i=u,l=d[1],r.a.multiply(n,l,i)}}return u}function u(t,e){return t[0]*e[1]-e[0]*t[1]}function c(t,e,n){var i=r.d.angle(t,e),o=u(t,e)>=0;return n?o?2*Math.PI-i:i:o?i:2*Math.PI-i}function h(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}n.d(e,"b",function(){return r.a}),n.d(e,"c",function(){return r.d}),n.d(e,"d",function(){return r.e}),n.d(e,"a",function(){return i})},J4xG:function(t,e,n){"use strict";n.d(e,"a",function(){return d}),n.d(e,"b",function(){return f});var i=n("En79"),r=n.n(i),o=n("7hDC"),a=n.n(o),s=n("C9uT"),l=n.n(s),u=n("Z60a"),c=n.n(u),h=n("dGpI"),d=function t(e){c()(this,t)},f=function(){function t(e){c()(this,t),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=e}return l()(t,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(t){return this.lookup[t]>-1}},{key:"create",value:function(t,e){this.lookup[t]=this.components.length;var n=new this.clazz(e||{});return this.components.push(n),this.entities.push(t),n}},{key:"remove",value:function(t){var e=this.lookup[t];e>-1&&e<this.components.length-1&&(this.components[e]=this.components[this.components.length-1],this.entities[e]=this.entities[this.entities.length-1],this.lookup[this.entities[e]]=e),this.components.pop(),this.entities.pop(),delete this.lookup[t]}},{key:"removeKeepSorted",value:function(t){var e=this.lookup[t];if(e>-1){var n=this.entities[e];if(e<this.components.length-1){for(var i=e+1;i<this.components.length;++i)this.components[i-1]=this.components[i];for(var r=e+1;r<this.entities.length;++r)this.entities[r-1]=this.entities[r],this.lookup[this.entities[r-1]]=r-1}this.components.pop(),this.entities.pop(),delete this.lookup[n]}}},{key:"moveItem",value:function(t,e){if(t!==e){for(var n=this.components[t],i=this.entities[t],r=t<e?1:-1,o=t;o!==e;o+=r){var a=o+r;this.components[o]=this.components[a],this.entities[o]=this.entities[a],this.lookup[this.entities[o]]=o}this.components[e]=n,this.entities[e]=i,this.lookup[i]=e}}},{key:"getEntity",value:function(t){return this.entities[t]}},{key:"getComponent",value:function(t){return this.components[t]}},{key:"getComponentByEntity",value:function(t){var e=this.lookup[t];return e>-1?this.components[e]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(t){for(var e=0,n=Object.keys(this.lookup);e<n.length;e++){var i=n[e],r=Number(i);if(this.lookup[r]===t)return r}return h.a}},{key:"find",value:function(t){for(var e=0;e<this.getCount();e++){var n=this.getComponent(e);if(t(n,e))return n}return null}},{key:"findIndex",value:function(t){for(var e=0;e<this.getCount();e++){if(t(this.getComponent(e),e))return e}return-1}},{key:"forEach",value:function(t){for(var e=0,n=Object.keys(this.lookup);e<n.length;e++){var i=n[e],r=Number(i),o=this.lookup[r];t(r,this.getComponent(o))}}},{key:"forEachAsync",value:function(){var t=a()(r.a.mark(function t(e){var n,i,o,a,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,i=Object.keys(this.lookup);case 1:if(!(n<i.length)){t.next=10;break}return o=i[n],a=Number(o),s=this.lookup[a],t.next=7,e(a,this.getComponent(s));case 7:n++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"map",value:function(t){for(var e=[],n=0,i=Object.keys(this.lookup);n<i.length;n++){var r=i[n],o=Number(r),a=this.lookup[o];e.push(t(o,this.getComponent(a)))}return e}}]),t}()},JL8M:function(t,e,n){"use strict";var i=n("TToO"),r=n("fzH7"),o=n("MdiT"),a=function(t){function e(e){return t.call(this,e)||this}return Object(i.__extends)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,i=t.minY,r=t.maxX,a=t.maxY;if(e){var s=Object(o.c)(e,[t.minX,t.minY]),l=Object(o.c)(e,[t.maxX,t.minY]),u=Object(o.c)(e,[t.minX,t.maxY]),c=Object(o.c)(e,[t.maxX,t.maxY]);n=Math.min(s[0],l[0],u[0],c[0]),r=Math.max(s[0],l[0],u[0],c[0]),i=Math.min(s[1],l[1],u[1],c[1]),a=Math.max(s[1],l[1],u[1],c[1])}var h=this.attrs;if(h.shadowColor){var d=h.shadowBlur,f=void 0===d?0:d,p=h.shadowOffsetX,g=void 0===p?0:p,v=h.shadowOffsetY,m=void 0===v?0:v,y=n-f+g,b=r+f+g,x=i-f+m,w=a+f+m;n=Math.min(n,y),r=Math.max(r,b),i=Math.min(i,x),a=Math.max(a,w)}return{x:n,y:i,minX:n,minY:i,maxX:r,maxY:a,width:r-n,height:a-i}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),i=this.get("endArrowShape"),r=[t,e,1],o=(r=this.invertFromMatrix(r))[0],a=r[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(i&&i.isHit(o,a))return!0}return!1},e}(r.a);e.a=a},"JP+z":function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},JloG:function(t,e,n){"use strict";function i(t){return void 0===t&&(t=document.body),!0===t?document.body:t instanceof window.Node?t:document.querySelector(t)}const r={inserted(t,{value:e},n){if(t.dataset&&"true"!==t.dataset.transfer)return!1;t.className=t.className?t.className+" v-transfer-dom":"v-transfer-dom";const r=t.parentNode;if(!r)return;const o=document.createComment("");let a=!1;!1!==e&&(r.replaceChild(o,t),i(e).appendChild(t),a=!0),t.__transferDomData||(t.__transferDomData={parentNode:r,home:o,target:i(e),hasMovedOut:a})},componentUpdated(t,{value:e}){if(t.dataset&&"true"!==t.dataset.transfer)return!1;const n=t.__transferDomData;if(!n)return;const r=n.parentNode,o=n.home,a=n.hasMovedOut;!a&&e?(r.replaceChild(o,t),i(e).appendChild(t),t.__transferDomData=Object.assign({},t.__transferDomData,{hasMovedOut:!0,target:i(e)})):a&&!1===e?(r.replaceChild(t,o),t.__transferDomData=Object.assign({},t.__transferDomData,{hasMovedOut:!1,target:i(e)})):e&&i(e).appendChild(t)},unbind(t){if(t.dataset&&"true"!==t.dataset.transfer)return!1;t.className=t.className.replace("v-transfer-dom",""),t.__transferDomData&&(!0===t.__transferDomData.hasMovedOut&&t.__transferDomData.parentNode&&t.__transferDomData.parentNode.appendChild(t),t.__transferDomData=null)}};e.a=r},Jsh2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){var n=t.nodes,i=t.edges,r=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(t,e){o[t.id]=e,r.push([])}),i&&i.forEach(function(t){var n=t.source,i=t.target,a=o[n],s=o[i];!a&&0!==a||!s&&0!==s||(r[a][s]=1,e||(r[s][a]=1))}),r};e.default=i},"JwB+":function(t,e,n){"use strict";var i=n("TToO"),r=n("vfXu"),o=n("fzH7"),a=n("BuFP"),s={},l="_INDEX";var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,i=-1/0,o=[],s=[],l=this.getChildren().filter(function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)});return l.length>0?(Object(a.a)(l,function(t){var e=t.getBBox();o.push(e.minX,e.maxX),s.push(e.minY,e.maxY)}),t=Object(r.k)(o),e=Object(r.j)(o),n=Object(r.k)(s),i=Object(r.j)(s)):(t=0,e=0,n=0,i=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:i,width:e-t,height:i-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,i=-1/0,o=[],s=[],l=this.getChildren().filter(function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)});return l.length>0?(Object(a.a)(l,function(t){var e=t.getCanvasBBox();o.push(e.minX,e.maxX),s.push(e.minY,e.maxY)}),t=Object(r.k)(o),e=Object(r.j)(o),n=Object(r.k)(s),i=Object(r.j)(s)):(t=0,e=0,n=0,i=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:i,width:e-t,height:i-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,i){if(t.prototype.onAttrChange.call(this,e,n,i),"matrix"===e){var r=this.getTotalMatrix();this._applyChildrenMarix(r)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var i=this.getTotalMatrix();i!==n&&this._applyChildrenMarix(i)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();Object(a.a)(e,function(e){e.applyMatrix(t)})},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],i=t[1];Object(a.f)(n)?i=n:i.type=n;var r=s[i.type];r||(r=Object(a.k)(i.type),s[i.type]=r);var o=new(this.getShapeBase()[r])(i);return this.add(o),o},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,i=t[0],r=t[1];if(Object(a.d)(i))n=new i(r||{parent:this});else{var o=i||{};n=new(this.getGroupBase())(o)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!Object(a.b)(this))return null;var i,r=this.getChildren();if(this.isCanvas())i=this._findShape(r,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(i=this._findShape(r,o[0],o[1],n))}return i},e.prototype._findShape=function(t,e,n,i){for(var r=null,o=t.length-1;o>=0;o--){var s=t[o];if(Object(a.b)(s)&&(s.isGroup()?r=s.getShape(e,n,i):s.isHit(e,n)&&(r=s)),r)break}return r},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),i=this.get("timeline"),r=t.getParent();r&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),Object(a.j)(t.getChildren(),e)}(r,t,!1),t.set("parent",this),e&&function t(e,n){if(e.set("canvas",n),e.isGroup()){var i=e.get("children");i.length&&i.forEach(function(e){t(e,n)})}}(t,e),i&&function t(e,n){if(e.set("timeline",n),e.isGroup()){var i=e.get("children");i.length&&i.forEach(function(e){t(e,n)})}}(t,i),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();Object(a.a)(e,function(t,e){return t[l]=e,t}),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var i=t(e,n);return 0===i?e[l]-n[l]:i})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return Object(a.a)(n,function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))}),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return Object(a.a)(n,function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1}),e},e.prototype.findById=function(t){return this.find(function(e){return e.get("id")===t})},e.prototype.findByClassName=function(t){return this.find(function(e){return e.get("className")===t})},e.prototype.findAllByName=function(t){return this.findAll(function(e){return e.get("name")===t})},e}(o.a);e.a=u},KCLY:function(t,e,n){"use strict";(function(e){var i=n("cGG2"),r=n("5VQ+"),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,l={adapter:("undefined"!=typeof XMLHttpRequest?s=n("7GwW"):void 0!==e&&(s=n("7GwW")),s),transformRequest:[function(t,e){return r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(t){l.headers[t]={}}),i.forEach(["post","put","patch"],function(t){l.headers[t]=i.merge(o)}),t.exports=l}).call(e,n("W2nU"))},KH7G:function(t,e){t.exports=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}},KKYF:function(t,e){t.exports=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)}},KgSl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){function t(t){this.count=t.length,this.parent={};for(var e=0,n=t;e<n.length;e++){var i=n[e];this.parent[i]=i}}return t.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},t.prototype.union=function(t,e){var n=this.find(t),i=this.find(e);n!==i&&(n<i?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},t.prototype.connected=function(t,e){return this.find(t)===this.find(e)},t}();e.default=i},Kh4W:function(t,e,n){e.f=n("dSzd")},Klor:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")}},KmUV:function(t,e){t.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}},KqSj:function(t,e,n){"use strict";n.d(e,"a",function(){return Y});var i,r,o,a,s,l,u,c,h,d,f,p,g,v,m,y,b,x,w,_,S,M,C,I,k=n("En79"),T=n.n(k),O=n("7hDC"),E=n.n(O),A=n("dYct"),N=n.n(A),L=n("Z60a"),D=n.n(L),j=n("C9uT"),P=n.n(j),R=n("jb0h"),z=n.n(R),B=n("X6mv"),F=(n.n(B),n("lVvd")),G=n("YulH"),V=(n.n(G),n("Klor")),W=n("hVtj");function H(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return U(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Y=(i=Object(G.injectable)(),r=Object(G.inject)(V.a.MeshComponentManager),o=Object(G.inject)(V.a.GeometryComponentManager),a=Object(G.inject)(V.a.MaterialComponentManager),s=Object(G.inject)(V.a.CullableComponentManager),l=Object(G.inject)(V.a.TransformComponentManager),u=Object(G.inject)(V.a.HierarchyComponentManager),c=Object(G.inject)(V.a.Systems),h=Object(G.named)(V.a.FrameGraphSystem),d=Object(G.inject)(V.a.RenderEngine),f=Object(G.inject)(V.a.ResourcePool),i((I=C=function(){function t(){var e=this;D()(this,t),N()(this,"mesh",v,this),N()(this,"geometry",m,this),N()(this,"material",y,this),N()(this,"cullable",b,this),N()(this,"transform",x,this),N()(this,"hierarchy",w,this),N()(this,"frameGraphSystem",_,this),N()(this,"engine",S,this),N()(this,"resourcePool",M,this),this.modelCache={},this.setup=function(t,e,n){var i=t.createRenderTarget(e,"color buffer",{width:1,height:1,usage:W.a.RENDER_ATTACHMENT|W.a.SAMPLED|W.a.COPY_SRC});n.data={output:e.write(t,i)}},this.execute=function(){var t=E()(T.a.mark(function t(n,i,r){var o,a,s,l,u,c;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=n.getResourceNode(i.data.output),a=e.resourcePool.getOrCreateResource(o.resource),s=H(r),t.prev=3,s.s();case 5:if((l=s.n()).done){t.next=11;break}return u=l.value,t.next=9,e.initView(u);case 9:t.next=5;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),s.e(t.t0);case 16:return t.prev=16,s.f(),t.finish(16);case 19:c=e.engine.getCanvas(),a.resize({width:c.width,height:c.height}),e.engine.setScissor({enable:!1}),e.engine.clear({framebuffer:a,color:r[0].getClearColor(),depth:1}),e.engine.useFramebuffer(a,function(){var t,n=H(r);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.renderView(i)}}catch(t){n.e(t)}finally{n.f()}});case 24:case"end":return t.stop()}},t,null,[[3,13,16,19]])}));return function(e,n,i){return t.apply(this,arguments)}}()}return P()(t,[{key:"renderView",value:function(t){var e=t.getScene(),n=t.getCamera(),i=n.getViewTransform(),r=F.b.multiply(F.b.create(),n.getPerspective(),i);n.getFrustum().extractFromVPMatrix(r);var o=t.getViewport(),a=o.x,s=o.y,l=o.width,u=o.height;this.engine.viewport({x:a,y:s,width:l,height:u});var c,h=H(e.getEntities());try{for(h.s();!(c=h.n()).done;){var d=c.value;this.renderMesh(d,{camera:n,view:t,viewMatrix:i})}}catch(t){h.e(t)}finally{h.f()}}},{key:"renderMesh",value:function(t,e){var n=e.camera,i=e.view,r=e.viewMatrix,o=this.mesh.getComponentByEntity(t);if(o&&o.visible){var a=o.material,s=o.geometry;if(s&&!s.dirty&&a){var l=this.transform.getComponentByEntity(t),u=F.b.multiply(F.b.create(),r,l.worldTransform),c=i.getViewport(),h=c.width,d=c.height;a.setUniform({projectionMatrix:n.getPerspective(),modelViewMatrix:u,modelMatrix:l.worldTransform,viewMatrix:r,cameraPosition:n.getPosition(),u_viewport:[h,d]}),o.model&&(o.model.draw({uniforms:a.uniforms.reduce(function(t,e){return t[e.name]=e.data,t},{})}),a.uniforms.forEach(function(t){t.dirty=!1}),a.dirty=!1)}}}},{key:"initMesh",value:function(){var t=E()(T.a.mark(function t(e,n){var i,r,o,a,s,l,u,c;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.mesh.getComponentByEntity(e)){t.next=3;break}return t.abrupt("return");case 3:if(r=i.material,(o=i.geometry)&&!o.dirty&&r){t.next=7;break}return t.abrupt("return");case 7:if(i.model){t.next=24;break}if(a="m-".concat(r.entity,"-g-").concat(o.entity),!this.modelCache[a]){t.next=12;break}return i.model=this.modelCache[a],t.abrupt("return");case 12:return r.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),s=this.engine,l=s.createModel,u=s.createAttribute,c={vs:r.vertexShaderGLSL,fs:r.fragmentShaderGLSL,defines:r.defines,attributes:o.attributes.reduce(function(t,e){return e.data&&e.buffer&&(t[e.name]=u({buffer:e.buffer,attributes:e.attributes,arrayStride:e.arrayStride,stepMode:e.stepMode,divisor:"vertex"===e.stepMode?0:1})),t},{}),uniforms:r.uniforms.reduce(function(t,e){return t[e.name]=e.data,t},{}),scissor:{enable:!0,box:function(){return n.getViewport()}}},r.cull&&(c.cull=r.cull),r.depth&&(c.depth=r.depth),r.blend&&(c.blend=r.blend),o.indicesBuffer&&(c.elements=o.indicesBuffer),o.maxInstancedCount&&(c.instances=o.maxInstancedCount,c.count=o.vertexCount||3),t.next=22,l(c);case 22:i.model=t.sent,this.modelCache[a]=i.model;case 24:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"initView",value:function(){var t=E()(T.a.mark(function t(e){var n,i,r,o;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.getScene(),i=H(n.getEntities()),t.prev=2,i.s();case 4:if((r=i.n()).done){t.next=10;break}return o=r.value,t.next=8,this.initMesh(o,e);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),i.e(t.t0);case 15:return t.prev=15,i.f(),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[2,12,15,18]])}));return function(e){return t.apply(this,arguments)}}()}]),t}(),C.IDENTIFIER="Render Pass",g=I,v=z()(g.prototype,"mesh",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=z()(g.prototype,"geometry",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=z()(g.prototype,"material",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=z()(g.prototype,"cullable",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=z()(g.prototype,"transform",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z()(g.prototype,"hierarchy",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=z()(g.prototype,"frameGraphSystem",[c,h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=z()(g.prototype,"engine",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=z()(g.prototype,"resourcePool",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g))||p)},KsxA:function(t,e){},L42u:function(t,e,n){var i,r,o,a=n("+ZMJ"),s=n("knuC"),l=n("RPLV"),u=n("ON07"),c=n("7KvD"),h=c.process,d=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,g=c.Dispatch,v=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){y.call(t.data)};d&&f||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++v]=function(){s("function"==typeof t?t:Function(t),e)},i(v),v},f=function(t){delete m[t]},"process"==n("R9M2")(h)?i=function(t){h.nextTick(a(y,t,1))}:g&&g.now?i=function(t){g.now(a(y,t,1))}:p?(o=(r=new p).port2,r.port1.onmessage=b,i=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):i="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:d,clear:f}},L6y9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0;var i=n("fwdJ"),r=function(){function t(t){this.id=i.id(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();e.Context=r},LGJY:function(t,e,n){"use strict";var i=n("wb0v"),r=n("Z60a"),o=n.n(r),a=n("C9uT"),s=n.n(a),l=n("lVvd"),u=l.e.create(),c=function(){function t(e,n){o()(this,t),this.center=void 0,this.radius=void 0,this.center=e||l.e.create(),this.radius=n||.5}return s()(t,[{key:"containsPoint",value:function(t){return l.e.sub(u,t,this.center),l.e.length(u)<this.radius*this.radius}},{key:"intersects",value:function(t){l.e.sub(u,t.center,this.center);var e=t.radius+this.radius;return l.e.length(u)<=e*e}}]),t}(),h=n("vLi+"),d=n("5A1W"),f=l.e.create(),p=l.e.create(),g=l.e.create(),v=l.e.create(),m=l.e.create(),y=function(){function t(e,n){o()(this,t),this.origin=void 0,this.direction=void 0,this.origin=e||l.e.create(),this.direction=n||l.e.fromValues(0,0,-1)}return s()(t,[{key:"intersectsAABB",value:function(t,e){return e?this.intersectAABBWithIntersection(t,e):this.intersectsAABBWithoutIntersection(t)}},{key:"intersectsSphere",value:function(t,e){var n=l.e.sub(f,this.origin,t.center);l.e.normalize(p,l.e.copy(p,this.direction));var i=l.e.dot(n,p),r=l.e.dot(n,n)-t.radius*t.radius;if(r>0&&i>0)return null;var o=i*i-r;if(o<0)return!1;var a=Math.abs(-i-Math.sqrt(o));return e&&(l.e.copy(e,this.direction),l.e.scaleAndAdd(e,this.origin,e,a)),!0}},{key:"intersectsPlane",value:function(t,e){var n=(t.distance-l.e.dot(t.normal,this.origin))/l.e.dot(t.normal,this.direction),i=n>=0;return i&&e&&l.e.scaleAndAdd(e,this.origin,this.direction,n),i}},{key:"intersectsAABBWithoutIntersection",value:function(t){var e=f,n=p,i=g,r=v,o=m,a=this.direction;return l.e.sub(e,this.origin,t.center),l.e.set(r,Math.abs(e[0]),Math.abs(e[1]),Math.abs(e[2])),l.e.mul(i,e,a),!(r[0]>t.halfExtents[0]&&i[0]>=0||r[1]>t.halfExtents[1]&&i[1]>=0||r[2]>t.halfExtents[2]&&i[2]>=0)&&(l.e.set(o,Math.abs(a[0]),Math.abs(a[1]),Math.abs(a[2])),l.e.cross(n,a,e),l.e.set(n,Math.abs(n[0]),Math.abs(n[1]),Math.abs(n[2])),!(n[0]>t.halfExtents[1]*o[2]+t.halfExtents[2]*o[1]||n[1]>t.halfExtents[0]*o[2]+t.halfExtents[2]*o[0]||n[2]>t.halfExtents[0]*o[1]+t.halfExtents[1]*o[0]))}},{key:"intersectAABBWithIntersection",value:function(t,e){var n=l.e.copy(l.e.create(),t.getMin());l.e.sub(n,n,this.origin);var i=l.e.copy(l.e.create(),t.getMax());l.e.sub(i,i,this.origin);var r=this.direction;0===r[0]?(n[0]=n[0]<0?-Number.MAX_VALUE:Number.MAX_VALUE,i[0]=i[0]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(n[0]/=r[0],i[0]/=r[0]),0===r[1]?(n[1]=n[1]<0?-Number.MAX_VALUE:Number.MAX_VALUE,i[1]=i[1]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(n[1]/=r[1],i[1]/=r[1]),0===r[2]?(n[2]=n[2]<0?-Number.MAX_VALUE:Number.MAX_VALUE,i[2]=i[2]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(n[2]/=r[2],i[2]/=r[2]);var o=l.e.set(g,Math.min(n[0],i[0]),Math.min(n[1],i[1]),Math.min(n[2],i[2])),a=l.e.set(v,Math.max(n[0],i[0]),Math.max(n[1],i[1]),Math.max(n[2],i[2])),s=Math.min(Math.min(a[0],a[1]),a[2]),u=Math.max(Math.max(o[0],o[1]),o[2]),c=s>=u&&u>=0;return c&&(l.e.copy(e,this.direction),l.e.scaleAndAdd(e,this.origin,e,u)),c}}]),t}();n.d(e,"a",function(){return i.a}),n.d(e,!1,function(){return c}),n.d(e,!1,function(){return h.b}),n.d(e,"b",function(){return h.a}),n.d(e,!1,function(){return d.a}),n.d(e,!1,function(){return y})},LKZe:function(t,e,n){var i=n("NpIQ"),r=n("X8DO"),o=n("TcQ7"),a=n("MmMw"),s=n("D2L2"),l=n("SfB7"),u=Object.getOwnPropertyDescriptor;e.f=n("+E39")?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},LdoK:function(t,e){},Lqgi:function(t,e){t.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}},LsnM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MESSAGE=e.ALGORITHM=void 0;e.ALGORITHM={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};e.MESSAGE={SUCCESS:"SUCCESS",FAILURE:"FAILURE"}},M1I4:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},M4fF:function(t,e,n){(function(t,i){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",h=500,d="__lodash_placeholder__",f=1,p=2,g=4,v=1,m=2,y=1,b=2,x=4,w=8,_=16,S=32,M=64,C=128,I=256,k=512,T=30,O="...",E=800,A=16,N=1,L=2,D=1/0,j=9007199254740991,P=1.7976931348623157e308,R=NaN,z=4294967295,B=z-1,F=z>>>1,G=[["ary",C],["bind",y],["bindKey",b],["curry",w],["curryRight",_],["flip",k],["partial",S],["partialRight",M],["rearg",I]],V="[object Arguments]",W="[object Array]",H="[object AsyncFunction]",U="[object Boolean]",Y="[object Date]",J="[object DOMException]",Q="[object Error]",Z="[object Function]",$="[object GeneratorFunction]",X="[object Map]",K="[object Number]",q="[object Null]",tt="[object Object]",et="[object Proxy]",nt="[object RegExp]",it="[object Set]",rt="[object String]",ot="[object Symbol]",at="[object Undefined]",st="[object WeakMap]",lt="[object WeakSet]",ut="[object ArrayBuffer]",ct="[object DataView]",ht="[object Float32Array]",dt="[object Float64Array]",ft="[object Int8Array]",pt="[object Int16Array]",gt="[object Int32Array]",vt="[object Uint8Array]",mt="[object Uint8ClampedArray]",yt="[object Uint16Array]",bt="[object Uint32Array]",xt=/\b__p \+= '';/g,wt=/\b(__p \+=) '' \+/g,_t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,St=/&(?:amp|lt|gt|quot|#39);/g,Mt=/[&<>"']/g,Ct=RegExp(St.source),It=RegExp(Mt.source),kt=/<%-([\s\S]+?)%>/g,Tt=/<%([\s\S]+?)%>/g,Ot=/<%=([\s\S]+?)%>/g,Et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,Nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lt=/[\\^$.*+?()[\]{}|]/g,Dt=RegExp(Lt.source),jt=/^\s+/,Pt=/\s/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zt=/\{\n\/\* \[wrapped with (.+)\] \*/,Bt=/,? & /,Ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Gt=/[()=,{}\[\]\/\s]/,Vt=/\\(\\)?/g,Wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ht=/\w*$/,Ut=/^[-+]0x[0-9a-f]+$/i,Yt=/^0b[01]+$/i,Jt=/^\[object .+?Constructor\]$/,Qt=/^0o[0-7]+$/i,Zt=/^(?:0|[1-9]\d*)$/,$t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,Kt=/['\n\r\u2028\u2029\\]/g,qt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ee="[\\ud800-\\udfff]",ne="["+te+"]",ie="["+qt+"]",re="\\d+",oe="[\\u2700-\\u27bf]",ae="[a-z\\xdf-\\xf6\\xf8-\\xff]",se="[^\\ud800-\\udfff"+te+re+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",le="\\ud83c[\\udffb-\\udfff]",ue="[^\\ud800-\\udfff]",ce="(?:\\ud83c[\\udde6-\\uddff]){2}",he="[\\ud800-\\udbff][\\udc00-\\udfff]",de="[A-Z\\xc0-\\xd6\\xd8-\\xde]",fe="(?:"+ae+"|"+se+")",pe="(?:"+de+"|"+se+")",ge="(?:"+ie+"|"+le+")"+"?",ve="[\\ufe0e\\ufe0f]?"+ge+("(?:\\u200d(?:"+[ue,ce,he].join("|")+")[\\ufe0e\\ufe0f]?"+ge+")*"),me="(?:"+[oe,ce,he].join("|")+")"+ve,ye="(?:"+[ue+ie+"?",ie,ce,he,ee].join("|")+")",be=RegExp("['’]","g"),xe=RegExp(ie,"g"),we=RegExp(le+"(?="+le+")|"+ye+ve,"g"),_e=RegExp([de+"?"+ae+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ne,de,"$"].join("|")+")",pe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ne,de+fe,"$"].join("|")+")",de+"?"+fe+"+(?:['’](?:d|ll|m|re|s|t|ve))?",de+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",re,me].join("|"),"g"),Se=RegExp("[\\u200d\\ud800-\\udfff"+qt+"\\ufe0e\\ufe0f]"),Me=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ce=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ie=-1,ke={};ke[ht]=ke[dt]=ke[ft]=ke[pt]=ke[gt]=ke[vt]=ke[mt]=ke[yt]=ke[bt]=!0,ke[V]=ke[W]=ke[ut]=ke[U]=ke[ct]=ke[Y]=ke[Q]=ke[Z]=ke[X]=ke[K]=ke[tt]=ke[nt]=ke[it]=ke[rt]=ke[st]=!1;var Te={};Te[V]=Te[W]=Te[ut]=Te[ct]=Te[U]=Te[Y]=Te[ht]=Te[dt]=Te[ft]=Te[pt]=Te[gt]=Te[X]=Te[K]=Te[tt]=Te[nt]=Te[it]=Te[rt]=Te[ot]=Te[vt]=Te[mt]=Te[yt]=Te[bt]=!0,Te[Q]=Te[Z]=Te[st]=!1;var Oe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ee=parseFloat,Ae=parseInt,Ne="object"==typeof t&&t&&t.Object===Object&&t,Le="object"==typeof self&&self&&self.Object===Object&&self,De=Ne||Le||Function("return this")(),je="object"==typeof e&&e&&!e.nodeType&&e,Pe=je&&"object"==typeof i&&i&&!i.nodeType&&i,Re=Pe&&Pe.exports===je,ze=Re&&Ne.process,Be=function(){try{var t=Pe&&Pe.require&&Pe.require("util").types;return t||ze&&ze.binding&&ze.binding("util")}catch(t){}}(),Fe=Be&&Be.isArrayBuffer,Ge=Be&&Be.isDate,Ve=Be&&Be.isMap,We=Be&&Be.isRegExp,He=Be&&Be.isSet,Ue=Be&&Be.isTypedArray;function Ye(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Je(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function Qe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Ze(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function $e(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Xe(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function Ke(t,e){return!!(null==t?0:t.length)&&un(t,e,0)>-1}function qe(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function tn(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function en(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function nn(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function rn(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function on(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var an=fn("length");function sn(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function ln(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function un(t,e,n){return e==e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):ln(t,hn,n)}function cn(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function hn(t){return t!=t}function dn(t,e){var n=null==t?0:t.length;return n?vn(t,e)/n:R}function fn(t){return function(e){return null==e?o:e[t]}}function pn(t){return function(e){return null==t?o:t[e]}}function gn(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function vn(t,e){for(var n,i=-1,r=t.length;++i<r;){var a=e(t[i]);a!==o&&(n=n===o?a:n+a)}return n}function mn(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function yn(t){return t?t.slice(0,jn(t)+1).replace(jt,""):t}function bn(t){return function(e){return t(e)}}function xn(t,e){return tn(e,function(e){return t[e]})}function wn(t,e){return t.has(e)}function _n(t,e){for(var n=-1,i=t.length;++n<i&&un(e,t[n],0)>-1;);return n}function Sn(t,e){for(var n=t.length;n--&&un(e,t[n],0)>-1;);return n}var Mn=pn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Cn=pn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function In(t){return"\\"+Oe[t]}function kn(t){return Se.test(t)}function Tn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function On(t,e){return function(n){return t(e(n))}}function En(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==d||(t[n]=d,o[r++]=n)}return o}function An(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Nn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Ln(t){return kn(t)?function(t){var e=we.lastIndex=0;for(;we.test(t);)++e;return e}(t):an(t)}function Dn(t){return kn(t)?function(t){return t.match(we)||[]}(t):function(t){return t.split("")}(t)}function jn(t){for(var e=t.length;e--&&Pt.test(t.charAt(e)););return e}var Pn=pn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Rn=function t(e){var n,i=(e=null==e?De:Rn.defaults(De.Object(),e,Rn.pick(De,Ce))).Array,r=e.Date,Pt=e.Error,qt=e.Function,te=e.Math,ee=e.Object,ne=e.RegExp,ie=e.String,re=e.TypeError,oe=i.prototype,ae=qt.prototype,se=ee.prototype,le=e["__core-js_shared__"],ue=ae.toString,ce=se.hasOwnProperty,he=0,de=(n=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",fe=se.toString,pe=ue.call(ee),ge=De._,ve=ne("^"+ue.call(ce).replace(Lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=Re?e.Buffer:o,ye=e.Symbol,we=e.Uint8Array,Se=me?me.allocUnsafe:o,Oe=On(ee.getPrototypeOf,ee),Ne=ee.create,Le=se.propertyIsEnumerable,je=oe.splice,Pe=ye?ye.isConcatSpreadable:o,ze=ye?ye.iterator:o,Be=ye?ye.toStringTag:o,an=function(){try{var t=Go(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),pn=e.clearTimeout!==De.clearTimeout&&e.clearTimeout,zn=r&&r.now!==De.Date.now&&r.now,Bn=e.setTimeout!==De.setTimeout&&e.setTimeout,Fn=te.ceil,Gn=te.floor,Vn=ee.getOwnPropertySymbols,Wn=me?me.isBuffer:o,Hn=e.isFinite,Un=oe.join,Yn=On(ee.keys,ee),Jn=te.max,Qn=te.min,Zn=r.now,$n=e.parseInt,Xn=te.random,Kn=oe.reverse,qn=Go(e,"DataView"),ti=Go(e,"Map"),ei=Go(e,"Promise"),ni=Go(e,"Set"),ii=Go(e,"WeakMap"),ri=Go(ee,"create"),oi=ii&&new ii,ai={},si=fa(qn),li=fa(ti),ui=fa(ei),ci=fa(ni),hi=fa(ii),di=ye?ye.prototype:o,fi=di?di.valueOf:o,pi=di?di.toString:o;function gi(t){if(Es(t)&&!bs(t)&&!(t instanceof bi)){if(t instanceof yi)return t;if(ce.call(t,"__wrapped__"))return pa(t)}return new yi(t)}var vi=function(){function t(){}return function(e){if(!Os(e))return{};if(Ne)return Ne(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function mi(){}function yi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function bi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=z,this.__views__=[]}function xi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function wi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function _i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Si(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new _i;++e<n;)this.add(t[e])}function Mi(t){var e=this.__data__=new wi(t);this.size=e.size}function Ci(t,e){var n=bs(t),i=!n&&ys(t),r=!n&&!i&&Ss(t),o=!n&&!i&&!r&&zs(t),a=n||i||r||o,s=a?mn(t.length,ie):[],l=s.length;for(var u in t)!e&&!ce.call(t,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Qo(u,l))||s.push(u);return s}function Ii(t){var e=t.length;return e?t[Sr(0,e-1)]:o}function ki(t,e){return ca(ro(t),Pi(e,0,t.length))}function Ti(t){return ca(ro(t))}function Oi(t,e,n){(n===o||gs(t[e],n))&&(n!==o||e in t)||Di(t,e,n)}function Ei(t,e,n){var i=t[e];ce.call(t,e)&&gs(i,n)&&(n!==o||e in t)||Di(t,e,n)}function Ai(t,e){for(var n=t.length;n--;)if(gs(t[n][0],e))return n;return-1}function Ni(t,e,n,i){return Gi(t,function(t,r,o){e(i,t,n(t),o)}),i}function Li(t,e){return t&&oo(e,al(e),t)}function Di(t,e,n){"__proto__"==e&&an?an(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ji(t,e){for(var n=-1,r=e.length,a=i(r),s=null==t;++n<r;)a[n]=s?o:el(t,e[n]);return a}function Pi(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function Ri(t,e,n,i,r,a){var s,l=e&f,u=e&p,c=e&g;if(n&&(s=r?n(t,i,r,a):n(t)),s!==o)return s;if(!Os(t))return t;var h=bs(t);if(h){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ce.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!l)return ro(t,s)}else{var d=Ho(t),v=d==Z||d==$;if(Ss(t))return Kr(t,l);if(d==tt||d==V||v&&!r){if(s=u||v?{}:Yo(t),!l)return u?function(t,e){return oo(t,Wo(t),e)}(t,function(t,e){return t&&oo(e,sl(e),t)}(s,t)):function(t,e){return oo(t,Vo(t),e)}(t,Li(s,t))}else{if(!Te[d])return r?t:{};s=function(t,e,n){var i,r,o,a=t.constructor;switch(e){case ut:return qr(t);case U:case Y:return new a(+t);case ct:return function(t,e){var n=e?qr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case ht:case dt:case ft:case pt:case gt:case vt:case mt:case yt:case bt:return to(t,n);case X:return new a;case K:case rt:return new a(t);case nt:return(o=new(r=t).constructor(r.source,Ht.exec(r))).lastIndex=r.lastIndex,o;case it:return new a;case ot:return i=t,fi?ee(fi.call(i)):{}}}(t,d,l)}}a||(a=new Mi);var m=a.get(t);if(m)return m;a.set(t,s),js(t)?t.forEach(function(i){s.add(Ri(i,e,n,i,t,a))}):As(t)&&t.forEach(function(i,r){s.set(r,Ri(i,e,n,r,t,a))});var y=h?o:(c?u?Do:Lo:u?sl:al)(t);return Qe(y||t,function(i,r){y&&(i=t[r=i]),Ei(s,r,Ri(i,e,n,r,t,a))}),s}function zi(t,e,n){var i=n.length;if(null==t)return!i;for(t=ee(t);i--;){var r=n[i],a=e[r],s=t[r];if(s===o&&!(r in t)||!a(s))return!1}return!0}function Bi(t,e,n){if("function"!=typeof t)throw new re(l);return aa(function(){t.apply(o,n)},e)}function Fi(t,e,n,i){var r=-1,o=Ke,s=!0,l=t.length,u=[],c=e.length;if(!l)return u;n&&(e=tn(e,bn(n))),i?(o=qe,s=!1):e.length>=a&&(o=wn,s=!1,e=new Si(e));t:for(;++r<l;){var h=t[r],d=null==n?h:n(h);if(h=i||0!==h?h:0,s&&d==d){for(var f=c;f--;)if(e[f]===d)continue t;u.push(h)}else o(e,d,i)||u.push(h)}return u}gi.templateSettings={escape:kt,evaluate:Tt,interpolate:Ot,variable:"",imports:{_:gi}},gi.prototype=mi.prototype,gi.prototype.constructor=gi,yi.prototype=vi(mi.prototype),yi.prototype.constructor=yi,bi.prototype=vi(mi.prototype),bi.prototype.constructor=bi,xi.prototype.clear=function(){this.__data__=ri?ri(null):{},this.size=0},xi.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},xi.prototype.get=function(t){var e=this.__data__;if(ri){var n=e[t];return n===c?o:n}return ce.call(e,t)?e[t]:o},xi.prototype.has=function(t){var e=this.__data__;return ri?e[t]!==o:ce.call(e,t)},xi.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ri&&e===o?c:e,this},wi.prototype.clear=function(){this.__data__=[],this.size=0},wi.prototype.delete=function(t){var e=this.__data__,n=Ai(e,t);return!(n<0||(n==e.length-1?e.pop():je.call(e,n,1),--this.size,0))},wi.prototype.get=function(t){var e=this.__data__,n=Ai(e,t);return n<0?o:e[n][1]},wi.prototype.has=function(t){return Ai(this.__data__,t)>-1},wi.prototype.set=function(t,e){var n=this.__data__,i=Ai(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},_i.prototype.clear=function(){this.size=0,this.__data__={hash:new xi,map:new(ti||wi),string:new xi}},_i.prototype.delete=function(t){var e=Bo(this,t).delete(t);return this.size-=e?1:0,e},_i.prototype.get=function(t){return Bo(this,t).get(t)},_i.prototype.has=function(t){return Bo(this,t).has(t)},_i.prototype.set=function(t,e){var n=Bo(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Si.prototype.add=Si.prototype.push=function(t){return this.__data__.set(t,c),this},Si.prototype.has=function(t){return this.__data__.has(t)},Mi.prototype.clear=function(){this.__data__=new wi,this.size=0},Mi.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Mi.prototype.get=function(t){return this.__data__.get(t)},Mi.prototype.has=function(t){return this.__data__.has(t)},Mi.prototype.set=function(t,e){var n=this.__data__;if(n instanceof wi){var i=n.__data__;if(!ti||i.length<a-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new _i(i)}return n.set(t,e),this.size=n.size,this};var Gi=lo(Zi),Vi=lo($i,!0);function Wi(t,e){var n=!0;return Gi(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Hi(t,e,n){for(var i=-1,r=t.length;++i<r;){var a=t[i],s=e(a);if(null!=s&&(l===o?s==s&&!Rs(s):n(s,l)))var l=s,u=a}return u}function Ui(t,e){var n=[];return Gi(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function Yi(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=Jo),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Yi(s,e-1,n,i,r):en(r,s):i||(r[r.length]=s)}return r}var Ji=uo(),Qi=uo(!0);function Zi(t,e){return t&&Ji(t,e,al)}function $i(t,e){return t&&Qi(t,e,al)}function Xi(t,e){return Xe(e,function(e){return Is(t[e])})}function Ki(t,e){for(var n=0,i=(e=Qr(e,t)).length;null!=t&&n<i;)t=t[da(e[n++])];return n&&n==i?t:o}function qi(t,e,n){var i=e(t);return bs(t)?i:en(i,n(t))}function tr(t){return null==t?t===o?at:q:Be&&Be in ee(t)?function(t){var e=ce.call(t,Be),n=t[Be];try{t[Be]=o;var i=!0}catch(t){}var r=fe.call(t);return i&&(e?t[Be]=n:delete t[Be]),r}(t):function(t){return fe.call(t)}(t)}function er(t,e){return t>e}function nr(t,e){return null!=t&&ce.call(t,e)}function ir(t,e){return null!=t&&e in ee(t)}function rr(t,e,n){for(var r=n?qe:Ke,a=t[0].length,s=t.length,l=s,u=i(s),c=1/0,h=[];l--;){var d=t[l];l&&e&&(d=tn(d,bn(e))),c=Qn(d.length,c),u[l]=!n&&(e||a>=120&&d.length>=120)?new Si(l&&d):o}d=t[0];var f=-1,p=u[0];t:for(;++f<a&&h.length<c;){var g=d[f],v=e?e(g):g;if(g=n||0!==g?g:0,!(p?wn(p,v):r(h,v,n))){for(l=s;--l;){var m=u[l];if(!(m?wn(m,v):r(t[l],v,n)))continue t}p&&p.push(v),h.push(g)}}return h}function or(t,e,n){var i=null==(t=ia(t,e=Qr(e,t)))?t:t[da(Ca(e))];return null==i?o:Ye(i,t,n)}function ar(t){return Es(t)&&tr(t)==V}function sr(t,e,n,i,r){return t===e||(null==t||null==e||!Es(t)&&!Es(e)?t!=t&&e!=e:function(t,e,n,i,r,a){var s=bs(t),l=bs(e),u=s?W:Ho(t),c=l?W:Ho(e),h=(u=u==V?tt:u)==tt,d=(c=c==V?tt:c)==tt,f=u==c;if(f&&Ss(t)){if(!Ss(e))return!1;s=!0,h=!1}if(f&&!h)return a||(a=new Mi),s||zs(t)?Ao(t,e,n,i,r,a):function(t,e,n,i,r,o,a){switch(n){case ct:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!o(new we(t),new we(e)));case U:case Y:case K:return gs(+t,+e);case Q:return t.name==e.name&&t.message==e.message;case nt:case rt:return t==e+"";case X:var s=Tn;case it:var l=i&v;if(s||(s=An),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;i|=m,a.set(t,e);var c=Ao(s(t),s(e),i,r,o,a);return a.delete(t),c;case ot:if(fi)return fi.call(t)==fi.call(e)}return!1}(t,e,u,n,i,r,a);if(!(n&v)){var p=h&&ce.call(t,"__wrapped__"),g=d&&ce.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,b=g?e.value():e;return a||(a=new Mi),r(y,b,n,i,a)}}return!!f&&(a||(a=new Mi),function(t,e,n,i,r,a){var s=n&v,l=Lo(t),u=l.length,c=Lo(e).length;if(u!=c&&!s)return!1;for(var h=u;h--;){var d=l[h];if(!(s?d in e:ce.call(e,d)))return!1}var f=a.get(t),p=a.get(e);if(f&&p)return f==e&&p==t;var g=!0;a.set(t,e),a.set(e,t);for(var m=s;++h<u;){d=l[h];var y=t[d],b=e[d];if(i)var x=s?i(b,y,d,e,t,a):i(y,b,d,t,e,a);if(!(x===o?y===b||r(y,b,n,i,a):x)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var w=t.constructor,_=e.constructor;w!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _)&&(g=!1)}return a.delete(t),a.delete(e),g}(t,e,n,i,r,a))}(t,e,n,i,sr,r))}function lr(t,e,n,i){var r=n.length,a=r,s=!i;if(null==t)return!a;for(t=ee(t);r--;){var l=n[r];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++r<a;){var u=(l=n[r])[0],c=t[u],h=l[1];if(s&&l[2]){if(c===o&&!(u in t))return!1}else{var d=new Mi;if(i)var f=i(c,h,u,t,e,d);if(!(f===o?sr(h,c,v|m,i,d):f))return!1}}return!0}function ur(t){return!(!Os(t)||de&&de in t)&&(Is(t)?ve:Jt).test(fa(t))}function cr(t){return"function"==typeof t?t:null==t?Nl:"object"==typeof t?bs(t)?vr(t[0],t[1]):gr(t):Gl(t)}function hr(t){if(!qo(t))return Yn(t);var e=[];for(var n in ee(t))ce.call(t,n)&&"constructor"!=n&&e.push(n);return e}function dr(t){if(!Os(t))return function(t){var e=[];if(null!=t)for(var n in ee(t))e.push(n);return e}(t);var e=qo(t),n=[];for(var i in t)("constructor"!=i||!e&&ce.call(t,i))&&n.push(i);return n}function fr(t,e){return t<e}function pr(t,e){var n=-1,r=ws(t)?i(t.length):[];return Gi(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function gr(t){var e=Fo(t);return 1==e.length&&e[0][2]?ea(e[0][0],e[0][1]):function(n){return n===t||lr(n,t,e)}}function vr(t,e){return $o(t)&&ta(e)?ea(da(t),e):function(n){var i=el(n,t);return i===o&&i===e?nl(n,t):sr(e,i,v|m)}}function mr(t,e,n,i,r){t!==e&&Ji(e,function(a,s){if(r||(r=new Mi),Os(a))!function(t,e,n,i,r,a,s){var l=ra(t,n),u=ra(e,n),c=s.get(u);if(c)Oi(t,n,c);else{var h=a?a(l,u,n+"",t,e,s):o,d=h===o;if(d){var f=bs(u),p=!f&&Ss(u),g=!f&&!p&&zs(u);h=u,f||p||g?bs(l)?h=l:_s(l)?h=ro(l):p?(d=!1,h=Kr(u,!0)):g?(d=!1,h=to(u,!0)):h=[]:Ls(u)||ys(u)?(h=l,ys(l)?h=Ys(l):Os(l)&&!Is(l)||(h=Yo(u))):d=!1}d&&(s.set(u,h),r(h,u,i,a,s),s.delete(u)),Oi(t,n,h)}}(t,e,s,n,mr,i,r);else{var l=i?i(ra(t,s),a,s+"",t,e,r):o;l===o&&(l=a),Oi(t,s,l)}},sl)}function yr(t,e){var n=t.length;if(n)return Qo(e+=e<0?n:0,n)?t[e]:o}function br(t,e,n){var i=-1;return e=tn(e=e.length?tn(e,function(t){return bs(t)?function(e){return Ki(e,1===t.length?t[0]:t)}:t}):[Nl],bn(zo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(pr(t,function(t,n,r){return{criteria:tn(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var l=eo(r[i],o[i]);if(l){if(i>=s)return l;var u=n[i];return l*("desc"==u?-1:1)}}return t.index-e.index}(t,e,n)})}function xr(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=Ki(t,a);n(s,a)&&Tr(o,Qr(a,t),s)}return o}function wr(t,e,n,i){var r=i?cn:un,o=-1,a=e.length,s=t;for(t===e&&(e=ro(e)),n&&(s=tn(t,bn(n)));++o<a;)for(var l=0,u=e[o],c=n?n(u):u;(l=r(s,c,l,i))>-1;)s!==t&&je.call(s,l,1),je.call(t,l,1);return t}function _r(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Qo(r)?je.call(t,r,1):Fr(t,r)}}return t}function Sr(t,e){return t+Gn(Xn()*(e-t+1))}function Mr(t,e){var n="";if(!t||e<1||e>j)return n;do{e%2&&(n+=t),(e=Gn(e/2))&&(t+=t)}while(e);return n}function Cr(t,e){return sa(na(t,e,Nl),t+"")}function Ir(t){return Ii(gl(t))}function kr(t,e){var n=gl(t);return ca(n,Pi(e,0,n.length))}function Tr(t,e,n,i){if(!Os(t))return t;for(var r=-1,a=(e=Qr(e,t)).length,s=a-1,l=t;null!=l&&++r<a;){var u=da(e[r]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(r!=s){var h=l[u];(c=i?i(h,u,l):o)===o&&(c=Os(h)?h:Qo(e[r+1])?[]:{})}Ei(l,u,c),l=l[u]}return t}var Or=oi?function(t,e){return oi.set(t,e),t}:Nl,Er=an?function(t,e){return an(t,"toString",{configurable:!0,enumerable:!1,value:Ol(e),writable:!0})}:Nl;function Ar(t){return ca(gl(t))}function Nr(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=i(o);++r<o;)a[r]=t[r+e];return a}function Lr(t,e){var n;return Gi(t,function(t,i,r){return!(n=e(t,i,r))}),!!n}function Dr(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=F){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!Rs(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return jr(t,e,Nl,n)}function jr(t,e,n,i){var r=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,l=null===e,u=Rs(e),c=e===o;r<a;){var h=Gn((r+a)/2),d=n(t[h]),f=d!==o,p=null===d,g=d==d,v=Rs(d);if(s)var m=i||g;else m=c?g&&(i||f):l?g&&f&&(i||!p):u?g&&f&&!p&&(i||!v):!p&&!v&&(i?d<=e:d<e);m?r=h+1:a=h}return Qn(a,B)}function Pr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!gs(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function Rr(t){return"number"==typeof t?t:Rs(t)?R:+t}function zr(t){if("string"==typeof t)return t;if(bs(t))return tn(t,zr)+"";if(Rs(t))return pi?pi.call(t):"";var e=t+"";return"0"==e&&1/t==-D?"-0":e}function Br(t,e,n){var i=-1,r=Ke,o=t.length,s=!0,l=[],u=l;if(n)s=!1,r=qe;else if(o>=a){var c=e?null:Co(t);if(c)return An(c);s=!1,r=wn,u=new Si}else u=e?[]:l;t:for(;++i<o;){var h=t[i],d=e?e(h):h;if(h=n||0!==h?h:0,s&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue t;e&&u.push(d),l.push(h)}else r(u,d,n)||(u!==l&&u.push(d),l.push(h))}return l}function Fr(t,e){return null==(t=ia(t,e=Qr(e,t)))||delete t[da(Ca(e))]}function Gr(t,e,n,i){return Tr(t,e,n(Ki(t,e)),i)}function Vr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Nr(t,i?0:o,i?o+1:r):Nr(t,i?o+1:0,i?r:o)}function Wr(t,e){var n=t;return n instanceof bi&&(n=n.value()),nn(e,function(t,e){return e.func.apply(e.thisArg,en([t],e.args))},n)}function Hr(t,e,n){var r=t.length;if(r<2)return r?Br(t[0]):[];for(var o=-1,a=i(r);++o<r;)for(var s=t[o],l=-1;++l<r;)l!=o&&(a[o]=Fi(a[o]||s,t[l],e,n));return Br(Yi(a,1),e,n)}function Ur(t,e,n){for(var i=-1,r=t.length,a=e.length,s={};++i<r;){var l=i<a?e[i]:o;n(s,t[i],l)}return s}function Yr(t){return _s(t)?t:[]}function Jr(t){return"function"==typeof t?t:Nl}function Qr(t,e){return bs(t)?t:$o(t,e)?[t]:ha(Js(t))}var Zr=Cr;function $r(t,e,n){var i=t.length;return n=n===o?i:n,!e&&n>=i?t:Nr(t,e,n)}var Xr=pn||function(t){return De.clearTimeout(t)};function Kr(t,e){if(e)return t.slice();var n=t.length,i=Se?Se(n):new t.constructor(n);return t.copy(i),i}function qr(t){var e=new t.constructor(t.byteLength);return new we(e).set(new we(t)),e}function to(t,e){var n=e?qr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function eo(t,e){if(t!==e){var n=t!==o,i=null===t,r=t==t,a=Rs(t),s=e!==o,l=null===e,u=e==e,c=Rs(e);if(!l&&!c&&!a&&t>e||a&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!r)return 1;if(!i&&!a&&!c&&t<e||c&&n&&r&&!i&&!a||l&&n&&r||!s&&r||!u)return-1}return 0}function no(t,e,n,r){for(var o=-1,a=t.length,s=n.length,l=-1,u=e.length,c=Jn(a-s,0),h=i(u+c),d=!r;++l<u;)h[l]=e[l];for(;++o<s;)(d||o<a)&&(h[n[o]]=t[o]);for(;c--;)h[l++]=t[o++];return h}function io(t,e,n,r){for(var o=-1,a=t.length,s=-1,l=n.length,u=-1,c=e.length,h=Jn(a-l,0),d=i(h+c),f=!r;++o<h;)d[o]=t[o];for(var p=o;++u<c;)d[p+u]=e[u];for(;++s<l;)(f||o<a)&&(d[p+n[s]]=t[o++]);return d}function ro(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function oo(t,e,n,i){var r=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var l=e[a],u=i?i(n[l],t[l],l,n,t):o;u===o&&(u=t[l]),r?Di(n,l,u):Ei(n,l,u)}return n}function ao(t,e){return function(n,i){var r=bs(n)?Je:Ni,o=e?e():{};return r(n,t,zo(i,2),o)}}function so(t){return Cr(function(e,n){var i=-1,r=n.length,a=r>1?n[r-1]:o,s=r>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(r--,a):o,s&&Zo(n[0],n[1],s)&&(a=r<3?o:a,r=1),e=ee(e);++i<r;){var l=n[i];l&&t(e,l,i,a)}return e})}function lo(t,e){return function(n,i){if(null==n)return n;if(!ws(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=ee(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function uo(t){return function(e,n,i){for(var r=-1,o=ee(e),a=i(e),s=a.length;s--;){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}function co(t){return function(e){var n=kn(e=Js(e))?Dn(e):o,i=n?n[0]:e.charAt(0),r=n?$r(n,1).join(""):e.slice(1);return i[t]()+r}}function ho(t){return function(e){return nn(Il(yl(e).replace(be,"")),t,"")}}function fo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=vi(t.prototype),i=t.apply(n,e);return Os(i)?i:n}}function po(t){return function(e,n,i){var r=ee(e);if(!ws(e)){var a=zo(n,3);e=al(e),n=function(t){return a(r[t],t,r)}}var s=t(e,n,i);return s>-1?r[a?e[s]:s]:o}}function go(t){return No(function(e){var n=e.length,i=n,r=yi.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new re(l);if(r&&!s&&"wrapper"==Po(a))var s=new yi([],!0)}for(i=s?i:n;++i<n;){var u=Po(a=e[i]),c="wrapper"==u?jo(a):o;s=c&&Xo(c[0])&&c[1]==(C|w|S|I)&&!c[4].length&&1==c[9]?s[Po(c[0])].apply(s,c[3]):1==a.length&&Xo(a)?s[u]():s.thru(a)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&bs(i))return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function vo(t,e,n,r,a,s,l,u,c,h){var d=e&C,f=e&y,p=e&b,g=e&(w|_),v=e&k,m=p?o:fo(t);return function y(){for(var b=arguments.length,x=i(b),w=b;w--;)x[w]=arguments[w];if(g)var _=Ro(y),S=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(x,_);if(r&&(x=no(x,r,a,g)),s&&(x=io(x,s,l,g)),b-=S,g&&b<h){var M=En(x,_);return So(t,e,vo,y.placeholder,n,x,M,u,c,h-b)}var C=f?n:this,I=p?C[t]:t;return b=x.length,u?x=function(t,e){for(var n=t.length,i=Qn(e.length,n),r=ro(t);i--;){var a=e[i];t[i]=Qo(a,n)?r[a]:o}return t}(x,u):v&&b>1&&x.reverse(),d&&c<b&&(x.length=c),this&&this!==De&&this instanceof y&&(I=m||fo(I)),I.apply(C,x)}}function mo(t,e){return function(n,i){return function(t,e,n,i){return Zi(t,function(t,r,o){e(i,n(t),r,o)}),i}(n,t,e(i),{})}}function yo(t,e){return function(n,i){var r;if(n===o&&i===o)return e;if(n!==o&&(r=n),i!==o){if(r===o)return i;"string"==typeof n||"string"==typeof i?(n=zr(n),i=zr(i)):(n=Rr(n),i=Rr(i)),r=t(n,i)}return r}}function bo(t){return No(function(e){return e=tn(e,bn(zo())),Cr(function(n){var i=this;return t(e,function(t){return Ye(t,i,n)})})})}function xo(t,e){var n=(e=e===o?" ":zr(e)).length;if(n<2)return n?Mr(e,t):e;var i=Mr(e,Fn(t/Ln(e)));return kn(e)?$r(Dn(i),0,t).join(""):i.slice(0,t)}function wo(t){return function(e,n,r){return r&&"number"!=typeof r&&Zo(e,n,r)&&(n=r=o),e=Vs(e),n===o?(n=e,e=0):n=Vs(n),function(t,e,n,r){for(var o=-1,a=Jn(Fn((e-t)/(n||1)),0),s=i(a);a--;)s[r?a:++o]=t,t+=n;return s}(e,n,r=r===o?e<n?1:-1:Vs(r),t)}}function _o(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Us(e),n=Us(n)),t(e,n)}}function So(t,e,n,i,r,a,s,l,u,c){var h=e&w;e|=h?S:M,(e&=~(h?M:S))&x||(e&=~(y|b));var d=[t,e,r,h?a:o,h?s:o,h?o:a,h?o:s,l,u,c],f=n.apply(o,d);return Xo(t)&&oa(f,d),f.placeholder=i,la(f,t,e)}function Mo(t){var e=te[t];return function(t,n){if(t=Us(t),(n=null==n?0:Qn(Ws(n),292))&&Hn(t)){var i=(Js(t)+"e").split("e");return+((i=(Js(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Co=ni&&1/An(new ni([,-0]))[1]==D?function(t){return new ni(t)}:Rl;function Io(t){return function(e){var n=Ho(e);return n==X?Tn(e):n==it?Nn(e):function(t,e){return tn(e,function(e){return[e,t[e]]})}(e,t(e))}}function ko(t,e,n,r,a,s,u,c){var h=e&b;if(!h&&"function"!=typeof t)throw new re(l);var f=r?r.length:0;if(f||(e&=~(S|M),r=a=o),u=u===o?u:Jn(Ws(u),0),c=c===o?c:Ws(c),f-=a?a.length:0,e&M){var p=r,g=a;r=a=o}var v=h?o:jo(t),m=[t,e,n,r,a,p,g,s,u,c];if(v&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<(y|b|C),a=i==C&&n==w||i==C&&n==I&&t[7].length<=e[8]||i==(C|I)&&e[7].length<=e[8]&&n==w;if(!o&&!a)return t;i&y&&(t[2]=e[2],r|=n&y?0:x);var s=e[3];if(s){var l=t[3];t[3]=l?no(l,s,e[4]):s,t[4]=l?En(t[3],d):e[4]}(s=e[5])&&(l=t[5],t[5]=l?io(l,s,e[6]):s,t[6]=l?En(t[5],d):e[6]),(s=e[7])&&(t[7]=s),i&C&&(t[8]=null==t[8]?e[8]:Qn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(m,v),t=m[0],e=m[1],n=m[2],r=m[3],a=m[4],!(c=m[9]=m[9]===o?h?0:t.length:Jn(m[9]-f,0))&&e&(w|_)&&(e&=~(w|_)),e&&e!=y)k=e==w||e==_?function(t,e,n){var r=fo(t);return function a(){for(var s=arguments.length,l=i(s),u=s,c=Ro(a);u--;)l[u]=arguments[u];var h=s<3&&l[0]!==c&&l[s-1]!==c?[]:En(l,c);return(s-=h.length)<n?So(t,e,vo,a.placeholder,o,l,h,o,o,n-s):Ye(this&&this!==De&&this instanceof a?r:t,this,l)}}(t,e,c):e!=S&&e!=(y|S)||a.length?vo.apply(o,m):function(t,e,n,r){var o=e&y,a=fo(t);return function e(){for(var s=-1,l=arguments.length,u=-1,c=r.length,h=i(c+l),d=this&&this!==De&&this instanceof e?a:t;++u<c;)h[u]=r[u];for(;l--;)h[u++]=arguments[++s];return Ye(d,o?n:this,h)}}(t,e,n,r);else var k=function(t,e,n){var i=e&y,r=fo(t);return function e(){return(this&&this!==De&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return la((v?Or:oa)(k,m),t,e)}function To(t,e,n,i){return t===o||gs(t,se[n])&&!ce.call(i,n)?e:t}function Oo(t,e,n,i,r,a){return Os(t)&&Os(e)&&(a.set(e,t),mr(t,e,o,Oo,a),a.delete(e)),t}function Eo(t){return Ls(t)?o:t}function Ao(t,e,n,i,r,a){var s=n&v,l=t.length,u=e.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(t),h=a.get(e);if(c&&h)return c==e&&h==t;var d=-1,f=!0,p=n&m?new Si:o;for(a.set(t,e),a.set(e,t);++d<l;){var g=t[d],y=e[d];if(i)var b=s?i(y,g,d,e,t,a):i(g,y,d,t,e,a);if(b!==o){if(b)continue;f=!1;break}if(p){if(!on(e,function(t,e){if(!wn(p,e)&&(g===t||r(g,t,n,i,a)))return p.push(e)})){f=!1;break}}else if(g!==y&&!r(g,y,n,i,a)){f=!1;break}}return a.delete(t),a.delete(e),f}function No(t){return sa(na(t,o,xa),t+"")}function Lo(t){return qi(t,al,Vo)}function Do(t){return qi(t,sl,Wo)}var jo=oi?function(t){return oi.get(t)}:Rl;function Po(t){for(var e=t.name+"",n=ai[e],i=ce.call(ai,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Ro(t){return(ce.call(gi,"placeholder")?gi:t).placeholder}function zo(){var t=gi.iteratee||Ll;return t=t===Ll?cr:t,arguments.length?t(arguments[0],arguments[1]):t}function Bo(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Fo(t){for(var e=al(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,ta(r)]}return e}function Go(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return ur(n)?n:o}var Vo=Vn?function(t){return null==t?[]:(t=ee(t),Xe(Vn(t),function(e){return Le.call(t,e)}))}:Hl,Wo=Vn?function(t){for(var e=[];t;)en(e,Vo(t)),t=Oe(t);return e}:Hl,Ho=tr;function Uo(t,e,n){for(var i=-1,r=(e=Qr(e,t)).length,o=!1;++i<r;){var a=da(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Ts(r)&&Qo(a,r)&&(bs(t)||ys(t))}function Yo(t){return"function"!=typeof t.constructor||qo(t)?{}:vi(Oe(t))}function Jo(t){return bs(t)||ys(t)||!!(Pe&&t&&t[Pe])}function Qo(t,e){var n=typeof t;return!!(e=null==e?j:e)&&("number"==n||"symbol"!=n&&Zt.test(t))&&t>-1&&t%1==0&&t<e}function Zo(t,e,n){if(!Os(n))return!1;var i=typeof e;return!!("number"==i?ws(n)&&Qo(e,n.length):"string"==i&&e in n)&&gs(n[e],t)}function $o(t,e){if(bs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Rs(t))||At.test(t)||!Et.test(t)||null!=e&&t in ee(e)}function Xo(t){var e=Po(t),n=gi[e];if("function"!=typeof n||!(e in bi.prototype))return!1;if(t===n)return!0;var i=jo(n);return!!i&&t===i[0]}(qn&&Ho(new qn(new ArrayBuffer(1)))!=ct||ti&&Ho(new ti)!=X||ei&&"[object Promise]"!=Ho(ei.resolve())||ni&&Ho(new ni)!=it||ii&&Ho(new ii)!=st)&&(Ho=function(t){var e=tr(t),n=e==tt?t.constructor:o,i=n?fa(n):"";if(i)switch(i){case si:return ct;case li:return X;case ui:return"[object Promise]";case ci:return it;case hi:return st}return e});var Ko=le?Is:Ul;function qo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)}function ta(t){return t==t&&!Os(t)}function ea(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in ee(n))}}function na(t,e,n){return e=Jn(e===o?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=Jn(r.length-e,0),s=i(a);++o<a;)s[o]=r[e+o];o=-1;for(var l=i(e+1);++o<e;)l[o]=r[o];return l[e]=n(s),Ye(t,this,l)}}function ia(t,e){return e.length<2?t:Ki(t,Nr(e,0,-1))}function ra(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var oa=ua(Or),aa=Bn||function(t,e){return De.setTimeout(t,e)},sa=ua(Er);function la(t,e,n){var i=e+"";return sa(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Rt,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Qe(G,function(n){var i="_."+n[0];e&n[1]&&!Ke(t,i)&&t.push(i)}),t.sort()}(function(t){var e=t.match(zt);return e?e[1].split(Bt):[]}(i),n)))}function ua(t){var e=0,n=0;return function(){var i=Zn(),r=A-(i-n);if(n=i,r>0){if(++e>=E)return arguments[0]}else e=0;return t.apply(o,arguments)}}function ca(t,e){var n=-1,i=t.length,r=i-1;for(e=e===o?i:e;++n<e;){var a=Sr(n,r),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var ha=function(t){var e=us(t,function(t){return n.size===h&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Nt,function(t,n,i,r){e.push(i?r.replace(Vt,"$1"):n||t)}),e});function da(t){if("string"==typeof t||Rs(t))return t;var e=t+"";return"0"==e&&1/t==-D?"-0":e}function fa(t){if(null!=t){try{return ue.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function pa(t){if(t instanceof bi)return t.clone();var e=new yi(t.__wrapped__,t.__chain__);return e.__actions__=ro(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ga=Cr(function(t,e){return _s(t)?Fi(t,Yi(e,1,_s,!0)):[]}),va=Cr(function(t,e){var n=Ca(e);return _s(n)&&(n=o),_s(t)?Fi(t,Yi(e,1,_s,!0),zo(n,2)):[]}),ma=Cr(function(t,e){var n=Ca(e);return _s(n)&&(n=o),_s(t)?Fi(t,Yi(e,1,_s,!0),o,n):[]});function ya(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Ws(n);return r<0&&(r=Jn(i+r,0)),ln(t,zo(e,3),r)}function ba(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==o&&(r=Ws(n),r=n<0?Jn(i+r,0):Qn(r,i-1)),ln(t,zo(e,3),r,!0)}function xa(t){return null!=t&&t.length?Yi(t,1):[]}function wa(t){return t&&t.length?t[0]:o}var _a=Cr(function(t){var e=tn(t,Yr);return e.length&&e[0]===t[0]?rr(e):[]}),Sa=Cr(function(t){var e=Ca(t),n=tn(t,Yr);return e===Ca(n)?e=o:n.pop(),n.length&&n[0]===t[0]?rr(n,zo(e,2)):[]}),Ma=Cr(function(t){var e=Ca(t),n=tn(t,Yr);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?rr(n,o,e):[]});function Ca(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Ia=Cr(ka);function ka(t,e){return t&&t.length&&e&&e.length?wr(t,e):t}var Ta=No(function(t,e){var n=null==t?0:t.length,i=ji(t,e);return _r(t,tn(e,function(t){return Qo(t,n)?+t:t}).sort(eo)),i});function Oa(t){return null==t?t:Kn.call(t)}var Ea=Cr(function(t){return Br(Yi(t,1,_s,!0))}),Aa=Cr(function(t){var e=Ca(t);return _s(e)&&(e=o),Br(Yi(t,1,_s,!0),zo(e,2))}),Na=Cr(function(t){var e=Ca(t);return e="function"==typeof e?e:o,Br(Yi(t,1,_s,!0),o,e)});function La(t){if(!t||!t.length)return[];var e=0;return t=Xe(t,function(t){if(_s(t))return e=Jn(t.length,e),!0}),mn(e,function(e){return tn(t,fn(e))})}function Da(t,e){if(!t||!t.length)return[];var n=La(t);return null==e?n:tn(n,function(t){return Ye(e,o,t)})}var ja=Cr(function(t,e){return _s(t)?Fi(t,e):[]}),Pa=Cr(function(t){return Hr(Xe(t,_s))}),Ra=Cr(function(t){var e=Ca(t);return _s(e)&&(e=o),Hr(Xe(t,_s),zo(e,2))}),za=Cr(function(t){var e=Ca(t);return e="function"==typeof e?e:o,Hr(Xe(t,_s),o,e)}),Ba=Cr(La);var Fa=Cr(function(t){var e=t.length,n=e>1?t[e-1]:o;return Da(t,n="function"==typeof n?(t.pop(),n):o)});function Ga(t){var e=gi(t);return e.__chain__=!0,e}function Va(t,e){return e(t)}var Wa=No(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return ji(e,t)};return!(e>1||this.__actions__.length)&&i instanceof bi&&Qo(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Va,args:[r],thisArg:o}),new yi(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(r)});var Ha=ao(function(t,e,n){ce.call(t,n)?++t[n]:Di(t,n,1)});var Ua=po(ya),Ya=po(ba);function Ja(t,e){return(bs(t)?Qe:Gi)(t,zo(e,3))}function Qa(t,e){return(bs(t)?Ze:Vi)(t,zo(e,3))}var Za=ao(function(t,e,n){ce.call(t,n)?t[n].push(e):Di(t,n,[e])});var $a=Cr(function(t,e,n){var r=-1,o="function"==typeof e,a=ws(t)?i(t.length):[];return Gi(t,function(t){a[++r]=o?Ye(e,t,n):or(t,e,n)}),a}),Xa=ao(function(t,e,n){Di(t,n,e)});function Ka(t,e){return(bs(t)?tn:pr)(t,zo(e,3))}var qa=ao(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var ts=Cr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Zo(t,e[0],e[1])?e=[]:n>2&&Zo(e[0],e[1],e[2])&&(e=[e[0]]),br(t,Yi(e,1),[])}),es=zn||function(){return De.Date.now()};function ns(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,ko(t,C,o,o,o,o,e)}function is(t,e){var n;if("function"!=typeof e)throw new re(l);return t=Ws(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var rs=Cr(function(t,e,n){var i=y;if(n.length){var r=En(n,Ro(rs));i|=S}return ko(t,i,e,n,r)}),os=Cr(function(t,e,n){var i=y|b;if(n.length){var r=En(n,Ro(os));i|=S}return ko(e,i,t,n,r)});function as(t,e,n){var i,r,a,s,u,c,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new re(l);function g(e){var n=i,a=r;return i=r=o,h=e,s=t.apply(a,n)}function v(t){var n=t-c;return c===o||n>=e||n<0||f&&t-h>=a}function m(){var t=es();if(v(t))return y(t);u=aa(m,function(t){var n=e-(t-c);return f?Qn(n,a-(t-h)):n}(t))}function y(t){return u=o,p&&i?g(t):(i=r=o,s)}function b(){var t=es(),n=v(t);if(i=arguments,r=this,c=t,n){if(u===o)return function(t){return h=t,u=aa(m,e),d?g(t):s}(c);if(f)return Xr(u),u=aa(m,e),g(c)}return u===o&&(u=aa(m,e)),s}return e=Us(e)||0,Os(n)&&(d=!!n.leading,a=(f="maxWait"in n)?Jn(Us(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){u!==o&&Xr(u),h=0,i=c=r=u=o},b.flush=function(){return u===o?s:y(es())},b}var ss=Cr(function(t,e){return Bi(t,1,e)}),ls=Cr(function(t,e,n){return Bi(t,Us(e)||0,n)});function us(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new re(l);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(us.Cache||_i),n}function cs(t){if("function"!=typeof t)throw new re(l);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}us.Cache=_i;var hs=Zr(function(t,e){var n=(e=1==e.length&&bs(e[0])?tn(e[0],bn(zo())):tn(Yi(e,1),bn(zo()))).length;return Cr(function(i){for(var r=-1,o=Qn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return Ye(t,this,i)})}),ds=Cr(function(t,e){var n=En(e,Ro(ds));return ko(t,S,o,e,n)}),fs=Cr(function(t,e){var n=En(e,Ro(fs));return ko(t,M,o,e,n)}),ps=No(function(t,e){return ko(t,I,o,o,o,e)});function gs(t,e){return t===e||t!=t&&e!=e}var vs=_o(er),ms=_o(function(t,e){return t>=e}),ys=ar(function(){return arguments}())?ar:function(t){return Es(t)&&ce.call(t,"callee")&&!Le.call(t,"callee")},bs=i.isArray,xs=Fe?bn(Fe):function(t){return Es(t)&&tr(t)==ut};function ws(t){return null!=t&&Ts(t.length)&&!Is(t)}function _s(t){return Es(t)&&ws(t)}var Ss=Wn||Ul,Ms=Ge?bn(Ge):function(t){return Es(t)&&tr(t)==Y};function Cs(t){if(!Es(t))return!1;var e=tr(t);return e==Q||e==J||"string"==typeof t.message&&"string"==typeof t.name&&!Ls(t)}function Is(t){if(!Os(t))return!1;var e=tr(t);return e==Z||e==$||e==H||e==et}function ks(t){return"number"==typeof t&&t==Ws(t)}function Ts(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=j}function Os(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Es(t){return null!=t&&"object"==typeof t}var As=Ve?bn(Ve):function(t){return Es(t)&&Ho(t)==X};function Ns(t){return"number"==typeof t||Es(t)&&tr(t)==K}function Ls(t){if(!Es(t)||tr(t)!=tt)return!1;var e=Oe(t);if(null===e)return!0;var n=ce.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ue.call(n)==pe}var Ds=We?bn(We):function(t){return Es(t)&&tr(t)==nt};var js=He?bn(He):function(t){return Es(t)&&Ho(t)==it};function Ps(t){return"string"==typeof t||!bs(t)&&Es(t)&&tr(t)==rt}function Rs(t){return"symbol"==typeof t||Es(t)&&tr(t)==ot}var zs=Ue?bn(Ue):function(t){return Es(t)&&Ts(t.length)&&!!ke[tr(t)]};var Bs=_o(fr),Fs=_o(function(t,e){return t<=e});function Gs(t){if(!t)return[];if(ws(t))return Ps(t)?Dn(t):ro(t);if(ze&&t[ze])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ze]());var e=Ho(t);return(e==X?Tn:e==it?An:gl)(t)}function Vs(t){return t?(t=Us(t))===D||t===-D?(t<0?-1:1)*P:t==t?t:0:0===t?t:0}function Ws(t){var e=Vs(t),n=e%1;return e==e?n?e-n:e:0}function Hs(t){return t?Pi(Ws(t),0,z):0}function Us(t){if("number"==typeof t)return t;if(Rs(t))return R;if(Os(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Os(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=yn(t);var n=Yt.test(t);return n||Qt.test(t)?Ae(t.slice(2),n?2:8):Ut.test(t)?R:+t}function Ys(t){return oo(t,sl(t))}function Js(t){return null==t?"":zr(t)}var Qs=so(function(t,e){if(qo(e)||ws(e))oo(e,al(e),t);else for(var n in e)ce.call(e,n)&&Ei(t,n,e[n])}),Zs=so(function(t,e){oo(e,sl(e),t)}),$s=so(function(t,e,n,i){oo(e,sl(e),t,i)}),Xs=so(function(t,e,n,i){oo(e,al(e),t,i)}),Ks=No(ji);var qs=Cr(function(t,e){t=ee(t);var n=-1,i=e.length,r=i>2?e[2]:o;for(r&&Zo(e[0],e[1],r)&&(i=1);++n<i;)for(var a=e[n],s=sl(a),l=-1,u=s.length;++l<u;){var c=s[l],h=t[c];(h===o||gs(h,se[c])&&!ce.call(t,c))&&(t[c]=a[c])}return t}),tl=Cr(function(t){return t.push(o,Oo),Ye(ul,o,t)});function el(t,e,n){var i=null==t?o:Ki(t,e);return i===o?n:i}function nl(t,e){return null!=t&&Uo(t,e,ir)}var il=mo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),t[e]=n},Ol(Nl)),rl=mo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),ce.call(t,e)?t[e].push(n):t[e]=[n]},zo),ol=Cr(or);function al(t){return ws(t)?Ci(t):hr(t)}function sl(t){return ws(t)?Ci(t,!0):dr(t)}var ll=so(function(t,e,n){mr(t,e,n)}),ul=so(function(t,e,n,i){mr(t,e,n,i)}),cl=No(function(t,e){var n={};if(null==t)return n;var i=!1;e=tn(e,function(e){return e=Qr(e,t),i||(i=e.length>1),e}),oo(t,Do(t),n),i&&(n=Ri(n,f|p|g,Eo));for(var r=e.length;r--;)Fr(n,e[r]);return n});var hl=No(function(t,e){return null==t?{}:function(t,e){return xr(t,e,function(e,n){return nl(t,n)})}(t,e)});function dl(t,e){if(null==t)return{};var n=tn(Do(t),function(t){return[t]});return e=zo(e),xr(t,n,function(t,n){return e(t,n[0])})}var fl=Io(al),pl=Io(sl);function gl(t){return null==t?[]:xn(t,al(t))}var vl=ho(function(t,e,n){return e=e.toLowerCase(),t+(n?ml(e):e)});function ml(t){return Cl(Js(t).toLowerCase())}function yl(t){return(t=Js(t))&&t.replace($t,Mn).replace(xe,"")}var bl=ho(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),xl=ho(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),wl=co("toLowerCase");var _l=ho(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var Sl=ho(function(t,e,n){return t+(n?" ":"")+Cl(e)});var Ml=ho(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Cl=co("toUpperCase");function Il(t,e,n){return t=Js(t),(e=n?o:e)===o?function(t){return Me.test(t)}(t)?function(t){return t.match(_e)||[]}(t):function(t){return t.match(Ft)||[]}(t):t.match(e)||[]}var kl=Cr(function(t,e){try{return Ye(t,o,e)}catch(t){return Cs(t)?t:new Pt(t)}}),Tl=No(function(t,e){return Qe(e,function(e){e=da(e),Di(t,e,rs(t[e],t))}),t});function Ol(t){return function(){return t}}var El=go(),Al=go(!0);function Nl(t){return t}function Ll(t){return cr("function"==typeof t?t:Ri(t,f))}var Dl=Cr(function(t,e){return function(n){return or(n,t,e)}}),jl=Cr(function(t,e){return function(n){return or(t,n,e)}});function Pl(t,e,n){var i=al(e),r=Xi(e,i);null!=n||Os(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Xi(e,al(e)));var o=!(Os(n)&&"chain"in n&&!n.chain),a=Is(t);return Qe(r,function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=ro(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,en([this.value()],arguments))})}),t}function Rl(){}var zl=bo(tn),Bl=bo($e),Fl=bo(on);function Gl(t){return $o(t)?fn(da(t)):function(t){return function(e){return Ki(e,t)}}(t)}var Vl=wo(),Wl=wo(!0);function Hl(){return[]}function Ul(){return!1}var Yl=yo(function(t,e){return t+e},0),Jl=Mo("ceil"),Ql=yo(function(t,e){return t/e},1),Zl=Mo("floor");var $l,Xl=yo(function(t,e){return t*e},1),Kl=Mo("round"),ql=yo(function(t,e){return t-e},0);return gi.after=function(t,e){if("function"!=typeof e)throw new re(l);return t=Ws(t),function(){if(--t<1)return e.apply(this,arguments)}},gi.ary=ns,gi.assign=Qs,gi.assignIn=Zs,gi.assignInWith=$s,gi.assignWith=Xs,gi.at=Ks,gi.before=is,gi.bind=rs,gi.bindAll=Tl,gi.bindKey=os,gi.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return bs(t)?t:[t]},gi.chain=Ga,gi.chunk=function(t,e,n){e=(n?Zo(t,e,n):e===o)?1:Jn(Ws(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var a=0,s=0,l=i(Fn(r/e));a<r;)l[s++]=Nr(t,a,a+=e);return l},gi.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},gi.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return en(bs(n)?ro(n):[n],Yi(e,1))},gi.cond=function(t){var e=null==t?0:t.length,n=zo();return t=e?tn(t,function(t){if("function"!=typeof t[1])throw new re(l);return[n(t[0]),t[1]]}):[],Cr(function(n){for(var i=-1;++i<e;){var r=t[i];if(Ye(r[0],this,n))return Ye(r[1],this,n)}})},gi.conforms=function(t){return function(t){var e=al(t);return function(n){return zi(n,t,e)}}(Ri(t,f))},gi.constant=Ol,gi.countBy=Ha,gi.create=function(t,e){var n=vi(t);return null==e?n:Li(n,e)},gi.curry=function t(e,n,i){var r=ko(e,w,o,o,o,o,o,n=i?o:n);return r.placeholder=t.placeholder,r},gi.curryRight=function t(e,n,i){var r=ko(e,_,o,o,o,o,o,n=i?o:n);return r.placeholder=t.placeholder,r},gi.debounce=as,gi.defaults=qs,gi.defaultsDeep=tl,gi.defer=ss,gi.delay=ls,gi.difference=ga,gi.differenceBy=va,gi.differenceWith=ma,gi.drop=function(t,e,n){var i=null==t?0:t.length;return i?Nr(t,(e=n||e===o?1:Ws(e))<0?0:e,i):[]},gi.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Nr(t,0,(e=i-(e=n||e===o?1:Ws(e)))<0?0:e):[]},gi.dropRightWhile=function(t,e){return t&&t.length?Vr(t,zo(e,3),!0,!0):[]},gi.dropWhile=function(t,e){return t&&t.length?Vr(t,zo(e,3),!0):[]},gi.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Zo(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=Ws(n))<0&&(n=-n>r?0:r+n),(i=i===o||i>r?r:Ws(i))<0&&(i+=r),i=n>i?0:Hs(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},gi.filter=function(t,e){return(bs(t)?Xe:Ui)(t,zo(e,3))},gi.flatMap=function(t,e){return Yi(Ka(t,e),1)},gi.flatMapDeep=function(t,e){return Yi(Ka(t,e),D)},gi.flatMapDepth=function(t,e,n){return n=n===o?1:Ws(n),Yi(Ka(t,e),n)},gi.flatten=xa,gi.flattenDeep=function(t){return null!=t&&t.length?Yi(t,D):[]},gi.flattenDepth=function(t,e){return null!=t&&t.length?Yi(t,e=e===o?1:Ws(e)):[]},gi.flip=function(t){return ko(t,k)},gi.flow=El,gi.flowRight=Al,gi.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},gi.functions=function(t){return null==t?[]:Xi(t,al(t))},gi.functionsIn=function(t){return null==t?[]:Xi(t,sl(t))},gi.groupBy=Za,gi.initial=function(t){return null!=t&&t.length?Nr(t,0,-1):[]},gi.intersection=_a,gi.intersectionBy=Sa,gi.intersectionWith=Ma,gi.invert=il,gi.invertBy=rl,gi.invokeMap=$a,gi.iteratee=Ll,gi.keyBy=Xa,gi.keys=al,gi.keysIn=sl,gi.map=Ka,gi.mapKeys=function(t,e){var n={};return e=zo(e,3),Zi(t,function(t,i,r){Di(n,e(t,i,r),t)}),n},gi.mapValues=function(t,e){var n={};return e=zo(e,3),Zi(t,function(t,i,r){Di(n,i,e(t,i,r))}),n},gi.matches=function(t){return gr(Ri(t,f))},gi.matchesProperty=function(t,e){return vr(t,Ri(e,f))},gi.memoize=us,gi.merge=ll,gi.mergeWith=ul,gi.method=Dl,gi.methodOf=jl,gi.mixin=Pl,gi.negate=cs,gi.nthArg=function(t){return t=Ws(t),Cr(function(e){return yr(e,t)})},gi.omit=cl,gi.omitBy=function(t,e){return dl(t,cs(zo(e)))},gi.once=function(t){return is(2,t)},gi.orderBy=function(t,e,n,i){return null==t?[]:(bs(e)||(e=null==e?[]:[e]),bs(n=i?o:n)||(n=null==n?[]:[n]),br(t,e,n))},gi.over=zl,gi.overArgs=hs,gi.overEvery=Bl,gi.overSome=Fl,gi.partial=ds,gi.partialRight=fs,gi.partition=qa,gi.pick=hl,gi.pickBy=dl,gi.property=Gl,gi.propertyOf=function(t){return function(e){return null==t?o:Ki(t,e)}},gi.pull=Ia,gi.pullAll=ka,gi.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?wr(t,e,zo(n,2)):t},gi.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?wr(t,e,o,n):t},gi.pullAt=Ta,gi.range=Vl,gi.rangeRight=Wl,gi.rearg=ps,gi.reject=function(t,e){return(bs(t)?Xe:Ui)(t,cs(zo(e,3)))},gi.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=zo(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return _r(t,r),n},gi.rest=function(t,e){if("function"!=typeof t)throw new re(l);return Cr(t,e=e===o?e:Ws(e))},gi.reverse=Oa,gi.sampleSize=function(t,e,n){return e=(n?Zo(t,e,n):e===o)?1:Ws(e),(bs(t)?ki:kr)(t,e)},gi.set=function(t,e,n){return null==t?t:Tr(t,e,n)},gi.setWith=function(t,e,n,i){return i="function"==typeof i?i:o,null==t?t:Tr(t,e,n,i)},gi.shuffle=function(t){return(bs(t)?Ti:Ar)(t)},gi.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Zo(t,e,n)?(e=0,n=i):(e=null==e?0:Ws(e),n=n===o?i:Ws(n)),Nr(t,e,n)):[]},gi.sortBy=ts,gi.sortedUniq=function(t){return t&&t.length?Pr(t):[]},gi.sortedUniqBy=function(t,e){return t&&t.length?Pr(t,zo(e,2)):[]},gi.split=function(t,e,n){return n&&"number"!=typeof n&&Zo(t,e,n)&&(e=n=o),(n=n===o?z:n>>>0)?(t=Js(t))&&("string"==typeof e||null!=e&&!Ds(e))&&!(e=zr(e))&&kn(t)?$r(Dn(t),0,n):t.split(e,n):[]},gi.spread=function(t,e){if("function"!=typeof t)throw new re(l);return e=null==e?0:Jn(Ws(e),0),Cr(function(n){var i=n[e],r=$r(n,0,e);return i&&en(r,i),Ye(t,this,r)})},gi.tail=function(t){var e=null==t?0:t.length;return e?Nr(t,1,e):[]},gi.take=function(t,e,n){return t&&t.length?Nr(t,0,(e=n||e===o?1:Ws(e))<0?0:e):[]},gi.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Nr(t,(e=i-(e=n||e===o?1:Ws(e)))<0?0:e,i):[]},gi.takeRightWhile=function(t,e){return t&&t.length?Vr(t,zo(e,3),!1,!0):[]},gi.takeWhile=function(t,e){return t&&t.length?Vr(t,zo(e,3)):[]},gi.tap=function(t,e){return e(t),t},gi.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new re(l);return Os(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),as(t,e,{leading:i,maxWait:e,trailing:r})},gi.thru=Va,gi.toArray=Gs,gi.toPairs=fl,gi.toPairsIn=pl,gi.toPath=function(t){return bs(t)?tn(t,da):Rs(t)?[t]:ro(ha(Js(t)))},gi.toPlainObject=Ys,gi.transform=function(t,e,n){var i=bs(t),r=i||Ss(t)||zs(t);if(e=zo(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Os(t)&&Is(o)?vi(Oe(t)):{}}return(r?Qe:Zi)(t,function(t,i,r){return e(n,t,i,r)}),n},gi.unary=function(t){return ns(t,1)},gi.union=Ea,gi.unionBy=Aa,gi.unionWith=Na,gi.uniq=function(t){return t&&t.length?Br(t):[]},gi.uniqBy=function(t,e){return t&&t.length?Br(t,zo(e,2)):[]},gi.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?Br(t,o,e):[]},gi.unset=function(t,e){return null==t||Fr(t,e)},gi.unzip=La,gi.unzipWith=Da,gi.update=function(t,e,n){return null==t?t:Gr(t,e,Jr(n))},gi.updateWith=function(t,e,n,i){return i="function"==typeof i?i:o,null==t?t:Gr(t,e,Jr(n),i)},gi.values=gl,gi.valuesIn=function(t){return null==t?[]:xn(t,sl(t))},gi.without=ja,gi.words=Il,gi.wrap=function(t,e){return ds(Jr(e),t)},gi.xor=Pa,gi.xorBy=Ra,gi.xorWith=za,gi.zip=Ba,gi.zipObject=function(t,e){return Ur(t||[],e||[],Ei)},gi.zipObjectDeep=function(t,e){return Ur(t||[],e||[],Tr)},gi.zipWith=Fa,gi.entries=fl,gi.entriesIn=pl,gi.extend=Zs,gi.extendWith=$s,Pl(gi,gi),gi.add=Yl,gi.attempt=kl,gi.camelCase=vl,gi.capitalize=ml,gi.ceil=Jl,gi.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=Us(n))==n?n:0),e!==o&&(e=(e=Us(e))==e?e:0),Pi(Us(t),e,n)},gi.clone=function(t){return Ri(t,g)},gi.cloneDeep=function(t){return Ri(t,f|g)},gi.cloneDeepWith=function(t,e){return Ri(t,f|g,e="function"==typeof e?e:o)},gi.cloneWith=function(t,e){return Ri(t,g,e="function"==typeof e?e:o)},gi.conformsTo=function(t,e){return null==e||zi(t,e,al(e))},gi.deburr=yl,gi.defaultTo=function(t,e){return null==t||t!=t?e:t},gi.divide=Ql,gi.endsWith=function(t,e,n){t=Js(t),e=zr(e);var i=t.length,r=n=n===o?i:Pi(Ws(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},gi.eq=gs,gi.escape=function(t){return(t=Js(t))&&It.test(t)?t.replace(Mt,Cn):t},gi.escapeRegExp=function(t){return(t=Js(t))&&Dt.test(t)?t.replace(Lt,"\\$&"):t},gi.every=function(t,e,n){var i=bs(t)?$e:Wi;return n&&Zo(t,e,n)&&(e=o),i(t,zo(e,3))},gi.find=Ua,gi.findIndex=ya,gi.findKey=function(t,e){return sn(t,zo(e,3),Zi)},gi.findLast=Ya,gi.findLastIndex=ba,gi.findLastKey=function(t,e){return sn(t,zo(e,3),$i)},gi.floor=Zl,gi.forEach=Ja,gi.forEachRight=Qa,gi.forIn=function(t,e){return null==t?t:Ji(t,zo(e,3),sl)},gi.forInRight=function(t,e){return null==t?t:Qi(t,zo(e,3),sl)},gi.forOwn=function(t,e){return t&&Zi(t,zo(e,3))},gi.forOwnRight=function(t,e){return t&&$i(t,zo(e,3))},gi.get=el,gi.gt=vs,gi.gte=ms,gi.has=function(t,e){return null!=t&&Uo(t,e,nr)},gi.hasIn=nl,gi.head=wa,gi.identity=Nl,gi.includes=function(t,e,n,i){t=ws(t)?t:gl(t),n=n&&!i?Ws(n):0;var r=t.length;return n<0&&(n=Jn(r+n,0)),Ps(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&un(t,e,n)>-1},gi.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Ws(n);return r<0&&(r=Jn(i+r,0)),un(t,e,r)},gi.inRange=function(t,e,n){return e=Vs(e),n===o?(n=e,e=0):n=Vs(n),function(t,e,n){return t>=Qn(e,n)&&t<Jn(e,n)}(t=Us(t),e,n)},gi.invoke=ol,gi.isArguments=ys,gi.isArray=bs,gi.isArrayBuffer=xs,gi.isArrayLike=ws,gi.isArrayLikeObject=_s,gi.isBoolean=function(t){return!0===t||!1===t||Es(t)&&tr(t)==U},gi.isBuffer=Ss,gi.isDate=Ms,gi.isElement=function(t){return Es(t)&&1===t.nodeType&&!Ls(t)},gi.isEmpty=function(t){if(null==t)return!0;if(ws(t)&&(bs(t)||"string"==typeof t||"function"==typeof t.splice||Ss(t)||zs(t)||ys(t)))return!t.length;var e=Ho(t);if(e==X||e==it)return!t.size;if(qo(t))return!hr(t).length;for(var n in t)if(ce.call(t,n))return!1;return!0},gi.isEqual=function(t,e){return sr(t,e)},gi.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:o)?n(t,e):o;return i===o?sr(t,e,o,n):!!i},gi.isError=Cs,gi.isFinite=function(t){return"number"==typeof t&&Hn(t)},gi.isFunction=Is,gi.isInteger=ks,gi.isLength=Ts,gi.isMap=As,gi.isMatch=function(t,e){return t===e||lr(t,e,Fo(e))},gi.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,lr(t,e,Fo(e),n)},gi.isNaN=function(t){return Ns(t)&&t!=+t},gi.isNative=function(t){if(Ko(t))throw new Pt(s);return ur(t)},gi.isNil=function(t){return null==t},gi.isNull=function(t){return null===t},gi.isNumber=Ns,gi.isObject=Os,gi.isObjectLike=Es,gi.isPlainObject=Ls,gi.isRegExp=Ds,gi.isSafeInteger=function(t){return ks(t)&&t>=-j&&t<=j},gi.isSet=js,gi.isString=Ps,gi.isSymbol=Rs,gi.isTypedArray=zs,gi.isUndefined=function(t){return t===o},gi.isWeakMap=function(t){return Es(t)&&Ho(t)==st},gi.isWeakSet=function(t){return Es(t)&&tr(t)==lt},gi.join=function(t,e){return null==t?"":Un.call(t,e)},gi.kebabCase=bl,gi.last=Ca,gi.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==o&&(r=(r=Ws(n))<0?Jn(i+r,0):Qn(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):ln(t,hn,r,!0)},gi.lowerCase=xl,gi.lowerFirst=wl,gi.lt=Bs,gi.lte=Fs,gi.max=function(t){return t&&t.length?Hi(t,Nl,er):o},gi.maxBy=function(t,e){return t&&t.length?Hi(t,zo(e,2),er):o},gi.mean=function(t){return dn(t,Nl)},gi.meanBy=function(t,e){return dn(t,zo(e,2))},gi.min=function(t){return t&&t.length?Hi(t,Nl,fr):o},gi.minBy=function(t,e){return t&&t.length?Hi(t,zo(e,2),fr):o},gi.stubArray=Hl,gi.stubFalse=Ul,gi.stubObject=function(){return{}},gi.stubString=function(){return""},gi.stubTrue=function(){return!0},gi.multiply=Xl,gi.nth=function(t,e){return t&&t.length?yr(t,Ws(e)):o},gi.noConflict=function(){return De._===this&&(De._=ge),this},gi.noop=Rl,gi.now=es,gi.pad=function(t,e,n){t=Js(t);var i=(e=Ws(e))?Ln(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return xo(Gn(r),n)+t+xo(Fn(r),n)},gi.padEnd=function(t,e,n){t=Js(t);var i=(e=Ws(e))?Ln(t):0;return e&&i<e?t+xo(e-i,n):t},gi.padStart=function(t,e,n){t=Js(t);var i=(e=Ws(e))?Ln(t):0;return e&&i<e?xo(e-i,n)+t:t},gi.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),$n(Js(t).replace(jt,""),e||0)},gi.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Zo(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Vs(t),e===o?(e=t,t=0):e=Vs(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Xn();return Qn(t+r*(e-t+Ee("1e-"+((r+"").length-1))),e)}return Sr(t,e)},gi.reduce=function(t,e,n){var i=bs(t)?nn:gn,r=arguments.length<3;return i(t,zo(e,4),n,r,Gi)},gi.reduceRight=function(t,e,n){var i=bs(t)?rn:gn,r=arguments.length<3;return i(t,zo(e,4),n,r,Vi)},gi.repeat=function(t,e,n){return e=(n?Zo(t,e,n):e===o)?1:Ws(e),Mr(Js(t),e)},gi.replace=function(){var t=arguments,e=Js(t[0]);return t.length<3?e:e.replace(t[1],t[2])},gi.result=function(t,e,n){var i=-1,r=(e=Qr(e,t)).length;for(r||(r=1,t=o);++i<r;){var a=null==t?o:t[da(e[i])];a===o&&(i=r,a=n),t=Is(a)?a.call(t):a}return t},gi.round=Kl,gi.runInContext=t,gi.sample=function(t){return(bs(t)?Ii:Ir)(t)},gi.size=function(t){if(null==t)return 0;if(ws(t))return Ps(t)?Ln(t):t.length;var e=Ho(t);return e==X||e==it?t.size:hr(t).length},gi.snakeCase=_l,gi.some=function(t,e,n){var i=bs(t)?on:Lr;return n&&Zo(t,e,n)&&(e=o),i(t,zo(e,3))},gi.sortedIndex=function(t,e){return Dr(t,e)},gi.sortedIndexBy=function(t,e,n){return jr(t,e,zo(n,2))},gi.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=Dr(t,e);if(i<n&&gs(t[i],e))return i}return-1},gi.sortedLastIndex=function(t,e){return Dr(t,e,!0)},gi.sortedLastIndexBy=function(t,e,n){return jr(t,e,zo(n,2),!0)},gi.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Dr(t,e,!0)-1;if(gs(t[n],e))return n}return-1},gi.startCase=Sl,gi.startsWith=function(t,e,n){return t=Js(t),n=null==n?0:Pi(Ws(n),0,t.length),e=zr(e),t.slice(n,n+e.length)==e},gi.subtract=ql,gi.sum=function(t){return t&&t.length?vn(t,Nl):0},gi.sumBy=function(t,e){return t&&t.length?vn(t,zo(e,2)):0},gi.template=function(t,e,n){var i=gi.templateSettings;n&&Zo(t,e,n)&&(e=o),t=Js(t),e=$s({},e,i,To);var r,a,s=$s({},e.imports,i.imports,To),l=al(s),c=xn(s,l),h=0,d=e.interpolate||Xt,f="__p += '",p=ne((e.escape||Xt).source+"|"+d.source+"|"+(d===Ot?Wt:Xt).source+"|"+(e.evaluate||Xt).source+"|$","g"),g="//# sourceURL="+(ce.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ie+"]")+"\n";t.replace(p,function(e,n,i,o,s,l){return i||(i=o),f+=t.slice(h,l).replace(Kt,In),n&&(r=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=l+e.length,e}),f+="';\n";var v=ce.call(e,"variable")&&e.variable;if(v){if(Gt.test(v))throw new Pt(u)}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(xt,""):f).replace(wt,"$1").replace(_t,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=kl(function(){return qt(l,g+"return "+f).apply(o,c)});if(m.source=f,Cs(m))throw m;return m},gi.times=function(t,e){if((t=Ws(t))<1||t>j)return[];var n=z,i=Qn(t,z);e=zo(e),t-=z;for(var r=mn(i,e);++n<t;)e(n);return r},gi.toFinite=Vs,gi.toInteger=Ws,gi.toLength=Hs,gi.toLower=function(t){return Js(t).toLowerCase()},gi.toNumber=Us,gi.toSafeInteger=function(t){return t?Pi(Ws(t),-j,j):0===t?t:0},gi.toString=Js,gi.toUpper=function(t){return Js(t).toUpperCase()},gi.trim=function(t,e,n){if((t=Js(t))&&(n||e===o))return yn(t);if(!t||!(e=zr(e)))return t;var i=Dn(t),r=Dn(e);return $r(i,_n(i,r),Sn(i,r)+1).join("")},gi.trimEnd=function(t,e,n){if((t=Js(t))&&(n||e===o))return t.slice(0,jn(t)+1);if(!t||!(e=zr(e)))return t;var i=Dn(t);return $r(i,0,Sn(i,Dn(e))+1).join("")},gi.trimStart=function(t,e,n){if((t=Js(t))&&(n||e===o))return t.replace(jt,"");if(!t||!(e=zr(e)))return t;var i=Dn(t);return $r(i,_n(i,Dn(e))).join("")},gi.truncate=function(t,e){var n=T,i=O;if(Os(e)){var r="separator"in e?e.separator:r;n="length"in e?Ws(e.length):n,i="omission"in e?zr(e.omission):i}var a=(t=Js(t)).length;if(kn(t)){var s=Dn(t);a=s.length}if(n>=a)return t;var l=n-Ln(i);if(l<1)return i;var u=s?$r(s,0,l).join(""):t.slice(0,l);if(r===o)return u+i;if(s&&(l+=u.length-l),Ds(r)){if(t.slice(l).search(r)){var c,h=u;for(r.global||(r=ne(r.source,Js(Ht.exec(r))+"g")),r.lastIndex=0;c=r.exec(h);)var d=c.index;u=u.slice(0,d===o?l:d)}}else if(t.indexOf(zr(r),l)!=l){var f=u.lastIndexOf(r);f>-1&&(u=u.slice(0,f))}return u+i},gi.unescape=function(t){return(t=Js(t))&&Ct.test(t)?t.replace(St,Pn):t},gi.uniqueId=function(t){var e=++he;return Js(t)+e},gi.upperCase=Ml,gi.upperFirst=Cl,gi.each=Ja,gi.eachRight=Qa,gi.first=wa,Pl(gi,($l={},Zi(gi,function(t,e){ce.call(gi.prototype,e)||($l[e]=t)}),$l),{chain:!1}),gi.VERSION="4.17.21",Qe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){gi[t].placeholder=gi}),Qe(["drop","take"],function(t,e){bi.prototype[t]=function(n){n=n===o?1:Jn(Ws(n),0);var i=this.__filtered__&&!e?new bi(this):this.clone();return i.__filtered__?i.__takeCount__=Qn(n,i.__takeCount__):i.__views__.push({size:Qn(n,z),type:t+(i.__dir__<0?"Right":"")}),i},bi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Qe(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==N||3==n;bi.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:zo(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),Qe(["head","last"],function(t,e){var n="take"+(e?"Right":"");bi.prototype[t]=function(){return this[n](1).value()[0]}}),Qe(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");bi.prototype[t]=function(){return this.__filtered__?new bi(this):this[n](1)}}),bi.prototype.compact=function(){return this.filter(Nl)},bi.prototype.find=function(t){return this.filter(t).head()},bi.prototype.findLast=function(t){return this.reverse().find(t)},bi.prototype.invokeMap=Cr(function(t,e){return"function"==typeof t?new bi(this):this.map(function(n){return or(n,t,e)})}),bi.prototype.reject=function(t){return this.filter(cs(zo(t)))},bi.prototype.slice=function(t,e){t=Ws(t);var n=this;return n.__filtered__&&(t>0||e<0)?new bi(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=Ws(e))<0?n.dropRight(-e):n.take(e-t)),n)},bi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},bi.prototype.toArray=function(){return this.take(z)},Zi(bi.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=gi[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);r&&(gi.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,l=e instanceof bi,u=s[0],c=l||bs(e),h=function(t){var e=r.apply(gi,en([t],s));return i&&d?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=a&&!d,g=l&&!f;if(!a&&c){e=g?e:new bi(this);var v=t.apply(e,s);return v.__actions__.push({func:Va,args:[h],thisArg:o}),new yi(v,d)}return p&&g?t.apply(this,s):(v=this.thru(h),p?i?v.value()[0]:v.value():v)})}),Qe(["pop","push","shift","sort","splice","unshift"],function(t){var e=oe[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);gi.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(bs(r)?r:[],t)}return this[n](function(n){return e.apply(bs(n)?n:[],t)})}}),Zi(bi.prototype,function(t,e){var n=gi[e];if(n){var i=n.name+"";ce.call(ai,i)||(ai[i]=[]),ai[i].push({name:e,func:n})}}),ai[vo(o,b).name]=[{name:"wrapper",func:o}],bi.prototype.clone=function(){var t=new bi(this.__wrapped__);return t.__actions__=ro(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ro(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ro(this.__views__),t},bi.prototype.reverse=function(){if(this.__filtered__){var t=new bi(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},bi.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=bs(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Qn(e,t+a);break;case"takeRight":t=Jn(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,l=s-a,u=i?s:a-1,c=this.__iteratees__,h=c.length,d=0,f=Qn(l,this.__takeCount__);if(!n||!i&&r==l&&f==l)return Wr(t,this.__actions__);var p=[];t:for(;l--&&d<f;){for(var g=-1,v=t[u+=e];++g<h;){var m=c[g],y=m.iteratee,b=m.type,x=y(v);if(b==L)v=x;else if(!x){if(b==N)continue t;break t}}p[d++]=v}return p},gi.prototype.at=Wa,gi.prototype.chain=function(){return Ga(this)},gi.prototype.commit=function(){return new yi(this.value(),this.__chain__)},gi.prototype.next=function(){this.__values__===o&&(this.__values__=Gs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},gi.prototype.plant=function(t){for(var e,n=this;n instanceof mi;){var i=pa(n);i.__index__=0,i.__values__=o,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},gi.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof bi){var e=t;return this.__actions__.length&&(e=new bi(this)),(e=e.reverse()).__actions__.push({func:Va,args:[Oa],thisArg:o}),new yi(e,this.__chain__)}return this.thru(Oa)},gi.prototype.toJSON=gi.prototype.valueOf=gi.prototype.value=function(){return Wr(this.__wrapped__,this.__actions__)},gi.prototype.first=gi.prototype.head,ze&&(gi.prototype[ze]=function(){return this}),gi}();De._=Rn,(r=function(){return Rn}.call(e,n,e,i))===o||(i.exports=r)}).call(this)}).call(e,n("DuR2"),n("3IRH")(t))},M6a0:function(t,e){},MR7e:function(t,e,n){var i=n("QGUm");function r(t){var e={},n={},r=[];if(i.each(t.sinks(),function a(s){if(i.has(n,s))throw new o;i.has(e,s)||(n[s]=!0,e[s]=!0,i.each(t.predecessors(s),a),delete n[s],r.push(s))}),i.size(e)!==t.nodeCount())throw new o;return r}function o(){}t.exports=r,r.CycleException=o},MTK1:function(t,e,n){"use strict";var i=new Map;function r(t,e){i.set(t,e)}function o(t){return i.get(t)}var a=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}},s=function(t){var e=t.attr(),n=e.x,i=e.y,r=e.r;return{x:n-r,y:i-r,width:2*r,height:2*r}},l=n("6zlC");function u(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function c(t,e){var n=t.get("startArrowShape"),i=t.get("endArrowShape");return n&&(e=u(e,n.getCanvasBBox())),i&&(e=u(e,i.getCanvasBBox())),e}var h=n("Tb0P"),d=n("wHEO"),f=n("vfXu");function p(t,e){var n=t.prePoint,i=t.currentPoint,r=t.nextPoint,o=Math.pow(i[0]-n[0],2)+Math.pow(i[1]-n[1],2),a=Math.pow(i[0]-r[0],2)+Math.pow(i[1]-r[1],2),s=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2),l=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!l||0===Math.sin(l)||Object(f.g)(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(r[1]-i[1],r[0]-i[0])),c=Math.abs(Math.atan2(r[0]-i[0],r[1]-i[1]));return u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c,{xExtra:Math.cos(l/2-u)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(c-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0}}n.d(e,"a",function(){return o}),r("rect",a),r("image",a),r("circle",s),r("marker",s),r("polyline",function(t){for(var e=t.attr().points,n=[],i=[],r=0;r<e.length;r++){var o=e[r];n.push(o[0]),i.push(o[1])}var a=l.f.getBBoxByArray(n,i),s=a.x,u=a.y,h={minX:s,minY:u,maxX:s+a.width,maxY:u+a.height};return{x:(h=c(t,h)).minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}),r("polygon",function(t){for(var e=t.attr().points,n=[],i=[],r=0;r<e.length;r++){var o=e[r];n.push(o[0]),i.push(o[1])}return l.f.getBBoxByArray(n,i)}),r("text",function(t){var e=t.attr(),n=e.x,i=e.y,r=e.text,o=e.fontSize,a=e.lineHeight,s=e.font;s||(s=Object(h.a)(e));var l,u=Object(h.c)(r,s);if(u){var c=e.textAlign,d=e.textBaseline,f=Object(h.b)(r,o,a),p={x:n,y:i-f};c&&("end"===c||"right"===c?p.x-=u:"center"===c&&(p.x-=u/2)),d&&("top"===d?p.y+=f:"middle"===d&&(p.y+=f/2)),l={x:p.x,y:p.y,width:u,height:f}}else l={x:n,y:i,width:0,height:0};return l}),r("path",function(t){var e=t.attr(),n=e.path,i=e.stroke?e.lineWidth:0,r=function(t,e){for(var n=[],i=[],r=[],o=0;o<t.length;o++){var a=(y=t[o]).currentPoint,s=y.params,u=y.prePoint,c=void 0;switch(y.command){case"Q":c=l.e.box(u[0],u[1],s[1],s[2],s[3],s[4]);break;case"C":c=l.b.box(u[0],u[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var h=y.arcParams;c=l.a.box(h.cx,h.cy,h.rx,h.ry,h.xRotation,h.startAngle,h.endAngle);break;default:n.push(a[0]),i.push(a[1])}c&&(y.box=c,n.push(c.x,c.x+c.width),i.push(c.y,c.y+c.height)),e&&("L"===y.command||"M"===y.command)&&y.prePoint&&y.nextPoint&&r.push(y)}n=n.filter(function(t){return!Number.isNaN(t)}),i=i.filter(function(t){return!Number.isNaN(t)});var d=Object(f.k)(n),g=Object(f.k)(i),v=Object(f.j)(n),m=Object(f.j)(i);if(0===r.length)return{x:d,y:g,width:v-d,height:m-g};for(o=0;o<r.length;o++){var y;(a=(y=r[o]).currentPoint)[0]===d?d-=p(y,e).xExtra:a[0]===v&&(v+=p(y,e).xExtra),a[1]===g?g-=p(y,e).yExtra:a[1]===m&&(m+=p(y,e).yExtra)}return{x:d,y:g,width:v-d,height:m-g}}(t.get("segments")||Object(d.d)(n),i),o=r.x,a=r.y,s={minX:o,minY:a,maxX:o+r.width,maxY:a+r.height};return{x:(s=c(t,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}}),r("line",function(t){var e=t.attr(),n=e.x1,i=e.y1,r=e.x2,o=e.y2,a={minX:Math.min(n,r),maxX:Math.max(n,r),minY:Math.min(i,o),maxY:Math.max(i,o)};return{x:(a=c(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}}),r("ellipse",function(t){var e=t.attr(),n=e.x,i=e.y,r=e.rx,o=e.ry;return{x:n-r,y:i-o,width:2*r,height:2*o}})},MU5D:function(t,e,n){var i=n("R9M2");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},McWr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagged=void 0;var i=n("gNUp"),r=n("xu9d");e.tagged=function(t,e){return function(n,o,a){var s=new i.Metadata(t,e);"number"==typeof a?r.tagParameter(n,o,a,s):r.tagProperty(n,o,s)}}},MdiT:function(t,e,n){"use strict";e.b=function(t,e){var n=[],i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=e[0],f=e[1],p=e[2],g=e[3],v=e[4],m=e[5],y=e[6],b=e[7],x=e[8];return n[0]=d*i+f*a+p*u,n[1]=d*r+f*s+p*c,n[2]=d*o+f*l+p*h,n[3]=g*i+v*a+m*u,n[4]=g*r+v*s+m*c,n[5]=g*o+v*l+m*h,n[6]=y*i+b*a+x*u,n[7]=y*r+b*s+x*c,n[8]=y*o+b*l+x*h,n},e.c=function(t,e){var n=[],i=e[0],r=e[1];return n[0]=t[0]*i+t[3]*r+t[6],n[1]=t[1]*i+t[4]*r+t[7],n},e.a=function(t){var e=[],n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=c*a-s*u,d=-c*o+s*l,f=u*o-a*l,p=n*h+i*d+r*f;if(!p)return null;return p=1/p,e[0]=h*p,e[1]=(-c*i+r*u)*p,e[2]=(s*i-r*a)*p,e[3]=d*p,e[4]=(c*n-r*l)*p,e[5]=(-s*n+r*o)*p,e[6]=f*p,e[7]=(-u*n+i*l)*p,e[8]=(a*n-i*o)*p,e}},Mhyx:function(t,e,n){var i=n("/bQp"),r=n("dSzd")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},MmMw:function(t,e,n){var i=n("EqjI");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},Mufk:function(t,e){t.exports=function(t,e,n){var i=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=i,t}},"NM/j":function(t,e,n){var i=n("7UU1"),r=n("cXIJ"),o=n("Y4K9"),a=n("3T7U");t.exports=function(t,e){return i(t)||r(t,e)||o(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},NTMn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPropertyWeight=e.getAllSortProperties=e.getAllProperties=e.default=void 0;var i=n("wRLm"),r=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=100);var n={};t.forEach(function(t){t.properties&&Object.keys(t.properties).forEach(function(e){"id"===e||!"".concat(t.properties[e]).match(i.secondReg)&&!"".concat(t.properties[e]).match(i.dateReg)&&isNaN(Number(t.properties[e]))?n.hasOwnProperty(e)&&delete n[e]:n.hasOwnProperty(e)?n[e]+=1:n[e]=1})});var r=Object.keys(n).sort(function(t,e){return n[e]-n[t]});return r.length<e?r:r.slice(0,e)};e.getAllSortProperties=r;var o=function(t,e){return e.map(function(e){if(t.hasOwnProperty(e)){if(!isNaN(Number(t[e])))return Number(t[e]);if(t[e].match(i.secondReg)||t[e].match(i.dateReg))return Number(Date.parse(new Date(t[e])))/1e3}return 0})},a=function(t){for(var e=r(t),n=[],i=0;i<t.length;i++)n[i]=o(t[i].properties,e);return n};e.getPropertyWeight=a;var s=function(t,e){void 0===e&&(e="properties");var n=[];return t.forEach(function(t){t.properties&&n.push(t[e])}),n};e.getAllProperties=s;var l={getAllSortProperties:r,getPropertyWeight:a,getAllProperties:s};e.default=l},NVY2:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return o});var i=1e-6,r="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},"NWt+":function(t,e,n){var i=n("+ZMJ"),r=n("msXi"),o=n("Mhyx"),a=n("77Pl"),s=n("QRG4"),l=n("3fs2"),u={},c={};(e=t.exports=function(t,e,n,h,d){var f,p,g,v,m=d?function(){return t}:l(t),y=i(n,h,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(f=s(t.length);f>b;b++)if((v=e?y(a(p=t[b])[0],p[1]):y(t[b]))===u||v===c)return v}else for(g=m.call(t);!(p=g.next()).done;)if((v=r(g,y,p.value,e))===u||v===c)return v}).BREAK=u,e.RETURN=c},NYxO:function(t,e,n){"use strict";n.d(e,"b",function(){return w});
/**
 * vuex v2.5.0
 * (c) 2017 Evan You
 * @license MIT
 */
var i=function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}},r="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}var a=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},s={namespaced:{configurable:!0}};s.namespaced.get=function(){return!!this._rawModule.namespaced},a.prototype.addChild=function(t,e){this._children[t]=e},a.prototype.removeChild=function(t){delete this._children[t]},a.prototype.getChild=function(t){return this._children[t]},a.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},a.prototype.forEachChild=function(t){o(this._children,t)},a.prototype.forEachGetter=function(t){this._rawModule.getters&&o(this._rawModule.getters,t)},a.prototype.forEachAction=function(t){this._rawModule.actions&&o(this._rawModule.actions,t)},a.prototype.forEachMutation=function(t){this._rawModule.mutations&&o(this._rawModule.mutations,t)},Object.defineProperties(a.prototype,s);var l=function(t){this.register([],t,!1)};l.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},l.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")},"")},l.prototype.update=function(t){!function t(e,n,i){0;n.update(i);if(i.modules)for(var r in i.modules){if(!n.getChild(r))return void 0;t(e.concat(r),n.getChild(r),i.modules[r])}}([],this.root,t)},l.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var r=new a(e,n);0===t.length?this.root=r:this.get(t.slice(0,-1)).addChild(t[t.length-1],r);e.modules&&o(e.modules,function(e,r){i.register(t.concat(r),e,n)})},l.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var u;var c=function(t){var e=this;void 0===t&&(t={}),!u&&"undefined"!=typeof window&&window.Vue&&y(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var i=t.strict;void 0===i&&(i=!1);var o=t.state;void 0===o&&(o={}),"function"==typeof o&&(o=o()||{}),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new l(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new u;var a=this,s=this.dispatch,c=this.commit;this.dispatch=function(t,e){return s.call(a,t,e)},this.commit=function(t,e,n){return c.call(a,t,e,n)},this.strict=i,g(this,o,[],this._modules.root),p(this,o),n.forEach(function(t){return t(e)}),u.config.devtools&&function(t){r&&(t._devtoolHook=r,r.emit("vuex:init",t),r.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){r.emit("vuex:mutation",t,e)}))}(this)},h={state:{configurable:!0}};function d(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function f(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;g(t,n,[],t._modules.root,!0),p(t,n,e)}function p(t,e,n){var i=t._vm;t.getters={};var r={};o(t._wrappedGetters,function(e,n){r[n]=function(){return e(t)},Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var a=u.config.silent;u.config.silent=!0,t._vm=new u({data:{$$state:e},computed:r}),u.config.silent=a,t.strict&&function(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}(t),i&&(n&&t._withCommit(function(){i._data.$$state=null}),u.nextTick(function(){return i.$destroy()}))}function g(t,e,n,i,r){var o=!n.length,a=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[a]=i),!o&&!r){var s=v(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){u.set(s,l,i.state)})}var c=i.context=function(t,e,n){var i=""===e,r={dispatch:i?t.dispatch:function(n,i,r){var o=m(n,i,r),a=o.payload,s=o.options,l=o.type;return s&&s.root||(l=e+l),t.dispatch(l,a)},commit:i?t.commit:function(n,i,r){var o=m(n,i,r),a=o.payload,s=o.options,l=o.type;s&&s.root||(l=e+l),t.commit(l,a,s)}};return Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return function(t,e){var n={},i=e.length;return Object.keys(t.getters).forEach(function(r){if(r.slice(0,i)===e){var o=r.slice(i);Object.defineProperty(n,o,{get:function(){return t.getters[r]},enumerable:!0})}}),n}(t,e)}},state:{get:function(){return v(t.state,n)}}}),r}(t,a,n);i.forEachMutation(function(e,n){!function(t,e,n,i){(t._mutations[e]||(t._mutations[e]=[])).push(function(e){n.call(t,i.state,e)})}(t,a+n,e,c)}),i.forEachAction(function(e,n){var i=e.root?n:a+n,r=e.handler||e;!function(t,e,n,i){(t._actions[e]||(t._actions[e]=[])).push(function(e,r){var o,a=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e,r);return(o=a)&&"function"==typeof o.then||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):a})}(t,i,r,c)}),i.forEachGetter(function(e,n){!function(t,e,n,i){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)}}(t,a+n,e,c)}),i.forEachChild(function(i,o){g(t,e,n.concat(o),i,r)})}function v(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function m(t,e,n){var i;return null!==(i=t)&&"object"==typeof i&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function y(t){u&&t===u||i(u=t)}h.state.get=function(){return this._vm._data.$$state},h.state.set=function(t){0},c.prototype.commit=function(t,e,n){var i=this,r=m(t,e,n),o=r.type,a=r.payload,s=(r.options,{type:o,payload:a}),l=this._mutations[o];l&&(this._withCommit(function(){l.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(s,i.state)}))},c.prototype.dispatch=function(t,e){var n=this,i=m(t,e),r=i.type,o=i.payload,a={type:r,payload:o},s=this._actions[r];if(s)return this._actionSubscribers.forEach(function(t){return t(a,n.state)}),s.length>1?Promise.all(s.map(function(t){return t(o)})):s[0](o)},c.prototype.subscribe=function(t){return d(t,this._subscribers)},c.prototype.subscribeAction=function(t){return d(t,this._actionSubscribers)},c.prototype.watch=function(t,e,n){var i=this;return this._watcherVM.$watch(function(){return t(i.state,i.getters)},e,n)},c.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},c.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),g(this,this.state,t,this._modules.get(t),n.preserveState),p(this,this.state)},c.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=v(e.state,t.slice(0,-1));u.delete(n,t[t.length-1])}),f(this)},c.prototype.hotUpdate=function(t){this._modules.update(t),f(this,!0)},c.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(c.prototype,h);var b=M(function(t,e){var n={};return S(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=C(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"==typeof r?r.call(this,e,n):e[r]},n[i].vuex=!0}),n}),x=M(function(t,e){var n={};return S(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.commit;if(t){var o=C(this.$store,"mapMutations",t);if(!o)return;i=o.context.commit}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),n}),w=M(function(t,e){var n={};return S(e).forEach(function(e){var i=e.key,r=e.val;r=t+r,n[i]=function(){if(!t||C(this.$store,"mapGetters",t))return this.$store.getters[r]},n[i].vuex=!0}),n}),_=M(function(t,e){var n={};return S(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var o=C(this.$store,"mapActions",t);if(!o)return;i=o.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),n});function S(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function M(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function C(t,e,n){return t._modulesNamespaceMap[n]}var I={Store:c,install:y,version:"2.5.0",mapState:b,mapMutations:x,mapGetters:w,mapActions:_,createNamespacedHelpers:function(t){return{mapState:b.bind(null,t),mapGetters:w.bind(null,t),mapMutations:x.bind(null,t),mapActions:_.bind(null,t)}}};e.a=I},NpIQ:function(t,e){e.f={}.propertyIsEnumerable},Ns9M:function(t,e,n){"use strict";var i={};n.d(i,"getAdjMatrix",function(){return Q}),n.d(i,"breadthFirstSearch",function(){return nt}),n.d(i,"connectedComponent",function(){return ot}),n.d(i,"getDegree",function(){return st}),n.d(i,"getInDegree",function(){return lt}),n.d(i,"getOutDegree",function(){return ut}),n.d(i,"detectCycle",function(){return pt}),n.d(i,"detectDirectedCycle",function(){return de}),n.d(i,"detectAllCycles",function(){return ft}),n.d(i,"detectAllDirectedCycle",function(){return dt}),n.d(i,"detectAllUndirectedCycle",function(){return ht}),n.d(i,"depthFirstSearch",function(){return ct}),n.d(i,"dijkstra",function(){return vt}),n.d(i,"findAllPath",function(){return xt}),n.d(i,"findShortestPath",function(){return bt}),n.d(i,"floydWarshall",function(){return wt}),n.d(i,"labelPropagation",function(){return _t}),n.d(i,"louvain",function(){return Et}),n.d(i,"iLouvain",function(){return At}),n.d(i,"kCore",function(){return Nt}),n.d(i,"kMeans",function(){return Lt}),n.d(i,"cosineSimilarity",function(){return Dt}),n.d(i,"nodesCosineSimilarity",function(){return jt}),n.d(i,"minimumSpanningTree",function(){return Gt}),n.d(i,"pageRank",function(){return Vt}),n.d(i,"getNeighbors",function(){return q}),n.d(i,"Stack",function(){return he}),n.d(i,"GADDI",function(){return ce}),n.d(i,"default",function(){return fe});var r={};n.d(r,"compare",function(){return ge}),n.d(r,"getLineIntersect",function(){return me}),n.d(r,"getRectIntersectByPoint",function(){return ye}),n.d(r,"getCircleIntersectByPoint",function(){return be}),n.d(r,"getEllipseIntersectByPoint",function(){return xe}),n.d(r,"applyMatrix",function(){return we}),n.d(r,"invertMatrix",function(){return _e}),n.d(r,"getCircleCenterByPoints",function(){return Se}),n.d(r,"distance",function(){return Me}),n.d(r,"scaleMatrix",function(){return Ce}),n.d(r,"floydWarshall",function(){return Ie}),n.d(r,"getAdjMatrix",function(){return ke}),n.d(r,"translate",function(){return Te}),n.d(r,"move",function(){return Oe}),n.d(r,"scale",function(){return Ee}),n.d(r,"rotate",function(){return Ae}),n.d(r,"getDegree",function(){return Ne}),n.d(r,"isPointInPolygon",function(){return De}),n.d(r,"intersectBBox",function(){return je}),n.d(r,"isPolygonsIntersect",function(){return Pe}),n.d(r,"Line",function(){return Re}),n.d(r,"getBBoxBoundLine",function(){return ze}),n.d(r,"itemIntersectByLine",function(){return Fe}),n.d(r,"fractionToLine",function(){return Ge}),n.d(r,"getPointsCenter",function(){return Ve}),n.d(r,"squareDist",function(){return We}),n.d(r,"pointLineSquareDist",function(){return He}),n.d(r,"isPointsOverlap",function(){return Ue}),n.d(r,"pointRectSquareDist",function(){return Ye}),n.d(r,"pointLineDistance",function(){return Je}),n.d(r,"lerp",function(){return Qe});var o={};n.d(o,"getBBox",function(){return dn}),n.d(o,"getLoopCfgs",function(){return fn}),n.d(o,"getLabelPosition",function(){return pn}),n.d(o,"traverseTree",function(){return vn}),n.d(o,"traverseTreeUp",function(){return mn}),n.d(o,"getLetterWidth",function(){return yn}),n.d(o,"getTextSize",function(){return bn}),n.d(o,"plainCombosToTrees",function(){return xn}),n.d(o,"reconstructTree",function(){return wn}),n.d(o,"getComboBBox",function(){return _n}),n.d(o,"shouldRefreshEdge",function(){return Sn}),n.d(o,"cloneBesidesImg",function(){return Mn});var a={};n.d(a,"uniqueId",function(){return Tn}),n.d(a,"formatPadding",function(){return On}),n.d(a,"cloneEvent",function(){return En}),n.d(a,"isViewportChanged",function(){return An}),n.d(a,"isNaN",function(){return Nn}),n.d(a,"calculationItemsBBox",function(){return Ln}),n.d(a,"processParallelEdges",function(){return Dn});var s={};n.d(s,"getSpline",function(){return ri}),n.d(s,"getControlPoint",function(){return oi}),n.d(s,"pointsToPolygon",function(){return ai}),n.d(s,"pathToPoints",function(){return si}),n.d(s,"getClosedSpline",function(){return li}),n.d(s,"roundedHull",function(){return di}),n.d(s,"paddedHull",function(){return fi});var l={};n.d(l,"defaultSubjectColors",function(){return Wi});var u={};n.d(u,"mixColor",function(){return Qr}),n.d(u,"getColorsWithSubjectColor",function(){return Zr}),n.d(u,"getColorSetsBySubjectColors",function(){return $r});var c={};n.d(c,"proccessToFunc",function(){return Gg}),n.d(c,"buildTextureData",function(){return Vg}),n.d(c,"buildTextureDataWithOneEdgeAttr",function(){return Wg}),n.d(c,"buildTextureDataWithTwoEdgeAttr",function(){return Hg}),n.d(c,"attributesToTextureData",function(){return Ug}),n.d(c,"arrayToTextureData",function(){return Yg}),n.d(c,"radialLayout",function(){return Jg});var h={};n.d(h,"gpuDetector",function(){return Qg});var d={};n.d(d,"default",function(){return dy}),n.d(d,"assign",function(){return Ym}),n.d(d,"format",function(){return cy}),n.d(d,"parse",function(){return hy}),n.d(d,"defaultI18n",function(){return $m}),n.d(d,"setGlobalDateI18n",function(){return Km}),n.d(d,"setGlobalDateMasks",function(){return uy});var f=n("TToO"),p={}.toString,g=function(t,e){return p.call(t)==="[object "+e+"]"},v=function(t){return g(t,"Function")},m=function(t){return null===t||void 0===t},y=function(t){return Array.isArray?Array.isArray(t):g(t,"Array")},b=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var x=function(t,e){if(t)if(y(t))for(var n=0,i=t.length;n<i&&!1!==e(t[n],n);n++);else if(b(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break};Object.keys;var w=function(t){return"object"==typeof t&&null!==t},_=function(t){if(!w(t)||!g(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var S=Array.prototype,M=(S.splice,S.indexOf,Array.prototype.splice,function(t){return g(t,"String")});var C=Object.prototype.hasOwnProperty;var I=function(t,e){if(!e||!y(t))return{};for(var n,i={},r=v(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=r(a),C.call(i,n)?i[n].push(a):i[n]=[a]}return i};var k=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n};var T=function(t){return g(t,"Number")};Number.isInteger&&Number.isInteger;Math.PI,parseInt,Math.PI;var O=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return x(t,function(n,i){v(t)&&"prototype"===i||e.push(n)}),e},E=function(t){return m(t)?"":t.toString()};var A=function(t){var e=E(t);return e.charAt(0).toUpperCase()+e.substring(1)},N=function(t){return g(t,"Boolean")};Object.prototype;function L(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function D(t,e,n,i){return e&&L(t,e),n&&L(t,n),i&&L(t,i),t}var j=function(t){if("object"!=typeof t||null===t)return t;var e;if(y(t)){e=[];for(var n=0,i=t.length;n<i;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=j(t[n]):e[n]=t[n]}else for(var r in e={},t)"object"==typeof t[r]&&null!=t[r]?e[r]=j(t[r]):e[r]=t[r];return e},P=j;var R=5;function z(t,e,n,i){for(var r in n=n||0,i=i||R,e)if(e.hasOwnProperty(r)){var o=e[r];null!==o&&_(o)?(_(t[r])||(t[r]={}),n<i?z(t[r],o,n+1,i):t[r]=e[r]):y(o)?(t[r]=[],t[r]=t[r].concat(o)):void 0!==o&&(t[r]=o)}}var B=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)z(t,e[i]);return t};Object.prototype.hasOwnProperty;var F,G=function(t,e,n){for(var i=0,r=M(e)?e.split("."):e;t&&i<r.length;)t=t[r[i++]];return void 0===t||i<r.length?n:t},V=(Object.prototype.hasOwnProperty,function(t,e,n){var i,r,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),i=null,a=t.apply(r,o),i||(r=o=null)},u=function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return r=this,o=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),s=u,a=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(i),s=0,i=r=o=null},u});(function(t,e){if(!v(t))throw new TypeError("Expected a function");var n=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,i);return a.set(o,s),s};n.cache=new Map})(function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,r=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return F||(F=document.createElement("canvas").getContext("2d")),F.font=[o,a,r,n+"px",i].join(" "),F.measureText(M(t)?t:"").width},function(t,e){return void 0===e&&(e={}),Object(f.__spreadArrays)([t],O(e)).join("")}),function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();var W={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(t){return Object.assign(this,t),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(t){var e=this,n=this.events;this.graph=t,"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||t.get("canvas").set("draggable",!0),x(n,function(e,n){t.on(n,e)}),document.addEventListener("visibilitychange",function(){e.keydown=!1})},unbind:function(t){var e=this.events,n=t.get("canvas").get("draggable");"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||t.get("canvas").set("draggable",!1),x(e,function(e,n){t.off(n,e)}),t.get("canvas").set("draggable",n)},get:function(t){return this[t]},set:function(t,e){return this[t]=e,this}},H=function(){function t(){}return t.registerBehavior=function(e,n){if(!n)throw new Error("please specify handler for this behavior: ".concat(e));var i=P(W);Object.assign(i,n);var r=function(t){var e=this;Object.assign(this,this.getDefaultCfg(),t);var n=this.getEvents();this.events=null;var i={};n&&(x(n,function(t,n){i[n]=k(e,t)}),this.events=i)};r.prototype=i,t.types[e]=r},t.hasBehavior=function(e){return!!t.types[e]},t.getBehavior=function(e){return t.types[e]},t.types={},t}(),U=H,Y=n("oEtn"),J=n("IzBs"),Q=function(t,e){var n=t.nodes,i=t.edges,r=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(t,e){o[t.id]=e,r.push([])}),i&&i.forEach(function(t){var n=t.source,i=t.target,a=o[n],s=o[i];!a&&0!==a||!s&&0!==s||(r[a][s]=1,e||(r[s][a]=1))}),r},Z=function(t,e){return t===e},$=function(){function t(t,e){void 0===e&&(e=null),this.value=t,this.next=e}return t.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},t}(),X=function(){function t(t){void 0===t&&(t=Z),this.head=null,this.tail=null,this.compare=t}return t.prototype.prepend=function(t){var e=new $(t,this.head);return this.head=e,this.tail||(this.tail=e),this},t.prototype.append=function(t){var e=new $(t);return this.head?(this.tail.next=e,this.tail=e,this):(this.head=e,this.tail=e,this)},t.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare(this.head.value,t);)e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e},t.prototype.find=function(t){var e=t.value,n=void 0===e?void 0:e,i=t.callback,r=void 0===i?void 0:i;if(!this.head)return null;for(var o=this.head;o;){if(r&&r(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},t.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t},t.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},t.prototype.fromArray=function(t){var e=this;return t.forEach(function(t){return e.append(t)}),this},t.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},t.prototype.reverse=function(){for(var t=this.head,e=null,n=null;t;)n=t.next,t.next=e,e=t,t=n;this.tail=this.head,this.head=e},t.prototype.toString=function(t){return void 0===t&&(t=void 0),this.toArray().map(function(e){return e.toString(t)}).toString()},t}(),K=function(){function t(){this.linkedList=new X}return t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},t.prototype.enqueue=function(t){this.linkedList.append(t)},t.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toString=function(t){return this.linkedList.toString(t)},t}(),q=function(t,e,n){void 0===e&&(e=[]);var i=e.filter(function(e){return e.source===t||e.target===t});if("target"===n){return i.filter(function(e){return e.source===t}).map(function(t){return t.target})}if("source"===n){return i.filter(function(e){return e.target===t}).map(function(t){return t.source})}return i.map(function(e){return e.source===t?e.target:e.source})},tt=function(t,e){return e.filter(function(e){return e.source===t||e.target===t})},et=function(t){void 0===t&&(t=0);var e="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(t,"-").concat(e).concat(n)};var nt=function(t,e,n,i){void 0===i&&(i=!0);var r=function(t){void 0===t&&(t={});var e,n=t,i=function(){},r=(e={},function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)});return n.allowTraversal=t.allowTraversal||r,n.enter=t.enter||i,n.leave=t.leave||i,n}(n),o=new K,a=t.edges,s=void 0===a?[]:a;o.enqueue(e);for(var l="",u=function(){var t=o.dequeue();r.enter({current:t,previous:l}),q(t,s,i?"target":void 0).forEach(function(e){r.allowTraversal({previous:l,current:t,next:e})&&o.enqueue(e)}),r.leave({current:t,previous:l}),l=t};!o.isEmpty();)u()},it=function(t){for(var e=t.nodes,n=void 0===e?[]:e,i=t.edges,r=void 0===i?[]:i,o=[],a={},s=[],l=function t(e){s.push(e),a[e.id]=!0;for(var i=q(e.id,r),o=function(e){var r=i[e];if(!a[r]){var o=n.filter(function(t){return t.id===r});o.length>0&&t(o[0])}},l=0;l<i.length;++l)o(l)},u=0;u<n.length;u++){var c=n[u];if(!a[c.id]){l(c);for(var h=[];s.length>0;)h.push(s.pop());o.push(h)}}return o},rt=function(t){for(var e=t.nodes,n=void 0===e?[]:e,i=t.edges,r=void 0===i?[]:i,o=[],a={},s={},l={},u=[],c=0,h=function t(e){s[e.id]=c,l[e.id]=c,c+=1,o.push(e),a[e.id]=!0;for(var i=q(e.id,r,"target").filter(function(t){return n.map(function(t){return t.id}).indexOf(t)>-1}),h=function(r){var o=i[r];if(s[o]||0===s[o])a[o]&&(l[e.id]=Math.min(l[e.id],s[o]));else{var u=n.filter(function(t){return t.id===o});u.length>0&&t(u[0]),l[e.id]=Math.min(l[e.id],l[o])}},d=0;d<i.length;d++)h(d);if(l[e.id]===s[e.id]){for(var f=[];o.length>0;){var p=o.pop();if(a[p.id]=!1,f.push(p),p===e)break}f.length>0&&u.push(f)}},d=0,f=n;d<f.length;d++){var p=f[d];s[p.id]||0===s[p.id]||h(p)}return u};function ot(t,e){return e?rt(t):it(t)}var at=function(t){var e={},n=t.nodes,i=void 0===n?[]:n,r=t.edges,o=void 0===r?[]:r;return i.forEach(function(t){e[t.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(t){e[t.source].degree++,e[t.source].outDegree++,e[t.target].degree++,e[t.target].inDegree++}),e},st=at,lt=function(t,e){return at(t)[e]?at(t)[e].inDegree:0},ut=function(t,e){return at(t)[e]?at(t)[e].outDegree:0};function ct(t,e,n){!function t(e,n,i,r){r.enter({current:n,previous:i});var o=e.edges;q(n,void 0===o?[]:o,"target").forEach(function(o){r.allowTraversal({previous:i,current:n,next:o})&&t(e,o,n,r)}),r.leave({current:n,previous:i})}(t,e,"",function(t){void 0===t&&(t={});var e,n=t,i=function(){},r=(e={},function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)});return n.allowTraversal=t.allowTraversal||r,n.enter=t.enter||i,n.leave=t.leave||i,n}(n))}var ht=function(t,e,n){var i,r;void 0===n&&(n=!0);for(var o=[],a=0,s=ot(t,!1);a<s.length;a++){var l=s[a];if(l.length)for(var u=l[0],c=u.id,h=[u],d=((i={})[c]=u,i),f=((r={})[c]=new Set,r);h.length>0;)for(var p=h.pop(),g=p.id,v=q(g,t.edges),m=function(i){var r,a=v[i],s=t.nodes.find(function(t){return t.id===a});if(a===g)o.push(((r={})[a]=p,r));else if(a in f){if(!f[g].has(s)){for(var l=!0,u=[s,p],c=d[g];f[a].size&&!f[a].has(c)&&(u.push(c),c!==d[c.id]);)c=d[c.id];if(u.push(c),e&&n?(l=!1,u.findIndex(function(t){return e.indexOf(t.id)>-1})>-1&&(l=!0)):e&&!n&&u.findIndex(function(t){return e.indexOf(t.id)>-1})>-1&&(l=!1),l){for(var m={},y=1;y<u.length;y+=1)m[u[y-1].id]=u[y];u.length&&(m[u[u.length-1].id]=u[0]),o.push(m)}f[a].add(p)}}else d[a]=p,h.push(s),f[a]=new Set([p])},y=0;y<v.length;y+=1)m(y)}return o},dt=function(t,e,n){void 0===n&&(n=!0);for(var i=[],r=new Set,o=[],a=[],s={},l={},u=function t(l,u,c){var h=!1;if(e&&!1===n&&e.indexOf(l.id)>-1)return h;i.push(l),r.add(l);for(var d=c[l.id],f=0;f<d.length;f+=1){if((v=s[d[f]])===u){for(var p={},g=1;g<i.length;g+=1)p[i[g-1].id]=i[g];i.length&&(p[i[i.length-1].id]=i[0]),a.push(p),h=!0}else r.has(v)||t(v,u,c)&&(h=!0)}if(h)!function(t){for(var e=[t];e.length>0;){var n=e.pop();r.has(n)&&(r.delete(n),o[n.id].forEach(function(t){e.push(t)}),o[n.id].clear())}}(l);else for(f=0;f<d.length;f+=1){var v=s[d[f]];o[v.id].has(l)||o[v.id].add(l)}return i.pop(),h},c=t.nodes,h=void 0===c?[]:c,d=0;d<h.length;d+=1){var f=h[d],p=f.id;l[p]=d,s[d]=f}if(e&&n){var g=function(t){var n=e[t];l[h[t].id]=l[n],l[n]=0,s[0]=h.find(function(t){return t.id===n}),s[l[h[t].id]]=h[t]};for(d=0;d<e.length;d++)g(d)}for(var v=function(i){for(var r,o,s=1/0,u=0;u<i.length;u+=1)for(var c=i[u],h=0;h<c.length;h++){var d=l[c[h].id];d<s&&(s=d,o=u)}var f=i[o],p=[];for(u=0;u<f.length;u+=1){var g=f[u];p[g.id]=[];for(var v=0,m=q(g.id,t.edges,"target").filter(function(t){return f.map(function(t){return t.id}).indexOf(t)>-1});v<m.length;v++){var y=m[v];y!==g.id||!1===n&&e.indexOf(g.id)>-1?p[g.id].push(l[y]):a.push(((r={})[g.id]=g,r))}}return{component:f,adjList:p,minIdx:s}},m=0;m<h.length;){var y=h.filter(function(t){return l[t.id]>=m}),b=rt({nodes:y,edges:t.edges}).filter(function(t){return t.length>1});if(0===b.length)break;var x=v(b),w=x.minIdx,_=x.adjList,S=x.component;if(!(S.length>1))break;S.forEach(function(t){o[t.id]=new Set});var M=s[w];if(e&&n&&-1===e.indexOf(M.id))return a;u(M,M,_),m=w+1}return a},ft=function(t,e,n,i){return void 0===i&&(i=!0),e?dt(t,n,i):ht(t,n,i)},pt=function(t){var e=null,n=t.nodes,i={},r={},o={},a={};(void 0===n?[]:n).forEach(function(t){r[t.id]=t});for(var s={enter:function(t){var n=t.current,a=t.previous;if(o[n]){e={};for(var s=n,l=a;l!==n;)e[s]=l,s=l,l=i[l];e[s]=l}else o[n]=n,delete r[n],i[n]=a},leave:function(t){var e=t.current;a[e]=e,delete o[e]},allowTraversal:function(t){var n=t.next;return!e&&!a[n]}};Object.keys(r).length;)ct(t,Object.keys(r)[0],s);return e},gt=n("5eO5"),vt=function(t,e,n,i){var r=t.nodes,o=void 0===r?[]:r,a=t.edges,s=void 0===a?[]:a,l=[],u={},c={},h={};o.forEach(function(t,n){var i=t.id;l.push(i),c[i]=1/0,i===e&&(c[i]=0)});for(var d=o.length,f=function(t){var e=function(t,e,n){for(var i,r=1/0,o=0;o<e.length;o++){var a=e[o].id;!n[a]&&t[a]<=r&&(r=t[a],i=e[o])}return i}(c,o,u),r=e.id;if(u[r]=!0,c[r]===1/0)return"continue";(n?function(t,e){return e.filter(function(e){return e.source===t})}(r,s):tt(r,s)).forEach(function(t){var n=t.target,o=t.source,a=n===r?o:n,s=i&&t[i]?t[i]:1;c[a]>c[e.id]+s?(c[a]=c[e.id]+s,h[a]=[e.id]):c[a]===c[e.id]+s&&h[a].push(e.id)})},p=0;p<d;p++)f();h[e]=[e];var g={};for(var v in c)c[v]!==1/0&&mt(e,v,h,g);var m={};for(var v in g)m[v]=g[v][0];return{length:c,path:m,allPath:g}};function mt(t,e,n,i){if(t===e)return[t];if(i[e])return i[e];for(var r=[],o=0,a=n[e];o<a.length;o++){var s=mt(t,a[o],n,i);if(!s)return;for(var l=0,u=s;l<u.length;l++){var c=u[l];Object(gt.isArray)(c)?r.push(Object(f.__spreadArray)(Object(f.__spreadArray)([],c,!0),[e],!1)):r.push([c,e])}}return i[e]=r,i[e]}var yt,bt=function(t,e,n,i,r){var o=vt(t,e,i,r),a=o.length,s=o.path,l=o.allPath;return{length:a[n],path:s[n],allPath:l[n]}},xt=function(t,e,n,i){var r;if(e===n)return[[e]];var o=t.edges,a=void 0===o?[]:o,s=[e],l=((r={})[e]=!0,r),u=[],c=[],h=i?q(e,a,"target"):q(e,a);for(u.push(h);s.length>0&&u.length>0;){var d=u[u.length-1];if(d.length){var f=d.shift();if(f&&(s.push(f),l[f]=!0,h=i?q(f,a,"target"):q(f,a),u.push(h.filter(function(t){return!l[t]}))),s[s.length-1]===n){var p=s.map(function(t){return t});c.push(p);g=s.pop();l[g]=!1,u.pop()}}else{var g=s.pop();l[g]=!1,u.pop()}}return c},wt=function(t,e){for(var n=Q(t,e),i=[],r=n.length,o=0;o<r;o+=1){i[o]=[];for(var a=0;a<r;a+=1)o===a?i[o][a]=0:0!==n[o][a]&&n[o][a]?i[o][a]=n[o][a]:i[o][a]=1/0}for(var s=0;s<r;s+=1)for(o=0;o<r;o+=1)for(a=0;a<r;a+=1)i[o][a]>i[o][s]+i[s][a]&&(i[o][a]=i[o][s]+i[s][a]);return i},_t=function(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===i&&(i=1e3);var r=t.nodes,o=void 0===r?[]:r,a=t.edges,s=void 0===a?[]:a,l={},u={};o.forEach(function(t,e){var n=et();t.clusterId=n,l[n]={id:n,nodes:[t]},u[t.id]={node:t,idx:e}});var c=[],h={};Q(t,e).forEach(function(t,e){var n=0,i=o[e].id;h[i]={},t.forEach(function(t,e){if(t){n+=t;var r=o[e].id;h[i][r]=t}}),c.push(n)});for(var d=0,f=function(){var t=!1;if(o.forEach(function(e){var n={};Object.keys(h[e.id]).forEach(function(t){var i=h[e.id][t],r=u[t].node.clusterId;n[r]||(n[r]=0),n[r]+=i});var i=-1/0,r=[];if(Object.keys(n).forEach(function(t){i<n[t]?(i=n[t],r=[t]):i===n[t]&&r.push(t)}),1!==r.length||r[0]!==e.clusterId){var o=r.indexOf(e.clusterId);if(o>=0&&r.splice(o,1),r&&r.length){t=!0;var a=l[e.clusterId],s=a.nodes.indexOf(e);a.nodes.splice(s,1);var c=Math.floor(Math.random()*r.length),d=l[r[c]];d.nodes.push(e),e.clusterId=d.id}}}),!t)return"break";d++};d<i&&"break"!==f(););Object.keys(l).forEach(function(t){var e=l[t];e.nodes&&e.nodes.length||delete l[t]});var p=[],g={};s.forEach(function(t){var e=t.source,i=t.target,r=t[n]||1,o=u[e].node.clusterId,a=u[i].node.clusterId,s="".concat(o,"---").concat(a);if(g[s])g[s].weight+=r,g[s].count++;else{var l={source:o,target:a,weight:r,count:1};g[s]=l,p.push(l)}});var v=[];return Object.keys(l).forEach(function(t){v.push(l[t])}),{clusters:v,clusterEdges:p}},St=function(){function t(t){this.arr=t}return t.prototype.getArr=function(){return this.arr||[]},t.prototype.add=function(e){var n,i=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(i);if(!(null===i||void 0===i?void 0:i.length))return new t(this.arr);if(this.arr.length===i.length){var r=[];for(var o in this.arr)r[o]=this.arr[o]+i[o];return new t(r)}},t.prototype.subtract=function(e){var n,i=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(i);if(!(null===i||void 0===i?void 0:i.length))return new t(this.arr);if(this.arr.length===i.length){var r=[];for(var o in this.arr)r[o]=this.arr[o]-i[o];return new t(r)}},t.prototype.avg=function(e){var n=[];if(0!==e)for(var i in this.arr)n[i]=this.arr[i]/e;return new t(n)},t.prototype.negate=function(){var e=[];for(var n in this.arr)e[n]=-this.arr[n];return new t(e)},t.prototype.squareEuclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var i=0;for(var r in this.arr)i+=Math.pow(this.arr[r]-t.arr[r],2);return i}},t.prototype.euclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var i=0;for(var r in this.arr)i+=Math.pow(this.arr[r]-t.arr[r],2);return Math.sqrt(i)}console.error("The two vectors are unequal in length.")},t.prototype.normalize=function(){var e=[],n=Object(gt.clone)(this.arr);n.sort(function(t,e){return t-e});var i=n[n.length-1],r=n[0];for(var o in this.arr)e[o]=(this.arr[o]-r)/(i-r);return new t(e)},t.prototype.norm2=function(){var t;if(!(null===(t=this.arr)||void 0===t?void 0:t.length))return 0;var e=0;for(var n in this.arr)e+=Math.pow(this.arr[n],2);return Math.sqrt(e)},t.prototype.dot=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var i=0;for(var r in this.arr)i+=this.arr[r]*t.arr[r];return i}console.error("The two vectors are unequal in length.")},t.prototype.equal=function(t){var e,n=t.arr;if((null===(e=this.arr)||void 0===e?void 0:e.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var i in this.arr)if(this.arr[i]!==n[i])return!1;return!0},t}(),Mt=function(t,e){void 0===e&&(e="properties");var n=[];return t.forEach(function(t){t.properties&&n.push(t[e])}),n};!function(t){t.EuclideanDistance="euclideanDistance"}(yt||(yt={}));var Ct=function(t,e,n){var i=[];(null===e||void 0===e?void 0:e.length)?i=e:(t.forEach(function(t){i=i.concat(Object.keys(t))}),i=Object(gt.uniq)(i));var r={};return i.forEach(function(e){var i=[];t.forEach(function(t){void 0!==t[e]&&""!==t[e]&&i.push(t[e])}),i.length&&!(null===n||void 0===n?void 0:n.includes(e))&&(r[e]=Object(gt.uniq)(i))}),r},It=function(t,e,n){var i=Ct(t,e,n),r=[];return t.forEach(function(t,e){var n=[];Object.keys(i).forEach(function(e){for(var r=t[e],o=i[e],a=o.findIndex(function(t){return r===t}),s=[],l=0;l<o.length;l++)l===a?s.push(1):s.push(0);n=n.concat(s)}),r[e]=n}),r},kt=function(t,e,n,i){void 0===n&&(n=yt.EuclideanDistance);var r=0;switch(n){case yt.EuclideanDistance:r=new St(t).euclideanDistance(new St(e))}return r},Tt=function(t,e,n,i){for(var r=e.length,o=2*i,a=0,s=0;s<r;s++)for(var l=t[s].clusterId,u=0;u<r;u++){if(l===t[u].clusterId)a+=(e[s][u]||0)-(n[s]||0)*(n[u]||0)/o}return a*=1/o},Ot=function(t,e){void 0===t&&(t=[]);for(var n=t.length,i=new St([]),r=0;r<n;r++)i=i.add(new St(e[r]));var o=i.avg(n);o.normalize();var a=0;for(r=0;r<n;r++){a+=(l=new St(e[r])).squareEuclideanDistance(o)}var s=[];t.forEach(function(){s.push([])});for(r=0;r<n;r++){var l=new St(e[r]);t[r].clusterInertial=0;for(var u=0;u<n;u++)if(r!==u){var c=new St(e[u]);s[r][u]=l.squareEuclideanDistance(c),t[r].clusterInertial+=s[r][u]}else s[r][u]=0}var h=0,d=2*n*a;for(r=0;r<n;r++){var f=t[r].clusterId;for(u=0;u<n;u++){var p=t[u].clusterId;if(r!==u&&f===p)h+=t[r].clusterInertial*t[u].clusterInertial/Math.pow(d,2)-s[r][u]/d}}return Number(h.toFixed(4))},Et=function(t,e,n,i,r,o){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===i&&(i=1e-4),void 0===r&&(r=!1),void 0===o&&(o=1);var a=t.nodes,s=void 0===a?[]:a,l=t.edges,u=void 0===l?[]:l,c=[];if(r){s.forEach(function(t,e){t.properties=t.properties||{},t.originIndex=e});var h=[];s.every(function(t){return t.hasOwnProperty("nodeType")})&&(h=Array.from(new Set(s.map(function(t){return t.nodeType}))),s.forEach(function(t){t.properties.nodeType=h.findIndex(function(e){return e===t.nodeType})}));var d=Mt(s);c=It(d)}var f=1,p={},g={};s.forEach(function(t,e){var n=String(f++);t.clusterId=n,p[n]={id:n,nodes:[t]},g[t.id]={node:t,idx:e}});var v=Q(t,e),m=[],y={},b=0;v.forEach(function(t,e){var n=0,i=s[e].id;y[i]={},t.forEach(function(t,e){if(t){n+=t;var r=s[e].id;y[i][r]=t,b+=t}}),m.push(n)}),b/=2;for(var x=1/0,w=1/0,_=0,S=[],M={};;){x=r&&s.every(function(t){return t.hasOwnProperty("properties")})?Tt(s,v,m,b)+Ot(s,c)*o:Tt(s,v,m,b),0===_&&(w=x,S=s,M=p);var C=x>0&&x>w&&x-w<i;if(x>w&&(S=s.map(function(t){return{node:t,clusterId:t.clusterId}}),M=Object(gt.clone)(p),w=x),C||_>100)break;_++,Object.keys(p).forEach(function(t){var e=0;u.forEach(function(i){var r=i.source,o=i.target,a=g[r].node.clusterId,s=g[o].node.clusterId;(a===t&&s!==t||s===t&&a!==t)&&(e+=i[n]||1)}),p[t].sumTot=e}),s.forEach(function(t,e){var i,a=p[t.clusterId],s=0,l=m[e]/(2*b),h=0,d=a.nodes;d.forEach(function(t){var n=g[t.id].idx;h+=v[e][n]||0});var f=h-a.sumTot*l,x=d.filter(function(e){return e.id!==t.id}),w=[];x.forEach(function(t,e){w[e]=c[t.originIndex]});var _=Ot(x,c)*o,S=y[t.id];if(Object.keys(S).forEach(function(n){var a=g[n].node.clusterId;if(a!==t.clusterId){var u=p[a],h=u.nodes;if(h&&h.length){var d=0;h.forEach(function(t){var n=g[t.id].idx;d+=v[e][n]||0});var m=d-u.sumTot*l,y=h.concat([t]),b=[];y.forEach(function(t,e){b[e]=c[t.originIndex]});var x=Ot(y,c)*o,w=m-f;r&&(w=m+x-(f+_)),w>s&&(s=w,i=u)}}}),s>0){i.nodes.push(t);var M=t.clusterId;t.clusterId=i.id;var C=a.nodes.indexOf(t);a.nodes.splice(C,1);var I=0,k=0;u.forEach(function(t){var e=t.source,r=t.target,o=g[e].node.clusterId,a=g[r].node.clusterId;(o===i.id&&a!==i.id||a===i.id&&o!==i.id)&&(I+=t[n]||1),(o===M&&a!==M||a===M&&o!==M)&&(k+=t[n]||1)}),i.sumTot=I,a.sumTot=k}})}var I={},k=0;Object.keys(M).forEach(function(t){var e=M[t];if(e.nodes&&e.nodes.length){var n=String(k+1);n!==t&&(e.id=n,e.nodes=e.nodes.map(function(t){return{id:t.id,clusterId:n}}),M[n]=e,I[t]=n,delete M[t],k++)}else delete M[t]}),S.forEach(function(t){var e=t.node,n=t.clusterId;e.clusterId=n,e.clusterId&&I[e.clusterId]&&(e.clusterId=I[e.clusterId])});var T=[],O={};u.forEach(function(t){var e=t.source,i=t.target,r=t[n]||1,o=g[e].node.clusterId,a=g[i].node.clusterId,s="".concat(o,"---").concat(a);if(O[s])O[s].weight+=r,O[s].count++;else{var l={source:o,target:a,weight:r,count:1};O[s]=l,T.push(l)}});var E=[];return Object.keys(M).forEach(function(t){E.push(M[t])}),{clusters:E,clusterEdges:T}},At=function(t,e,n,i,r){return void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===i&&(i=1e-4),void 0===r&&(r=1),Et(t,e,n,i,!0,r)},Nt=function(t,e){var n;void 0===e&&(e=1);for(var i=Object(gt.clone)(t),r=i.nodes,o=void 0===r?[]:r,a=i.edges,s=void 0===a?[]:a,l=function(){var t=st({nodes:o,edges:s}),i=Object.keys(t);i.sort(function(e,n){var i,r;return(null===(i=t[e])||void 0===i?void 0:i.degree)-(null===(r=t[n])||void 0===r?void 0:r.degree)});var r=i[0];if(!o.length||(null===(n=t[r])||void 0===n?void 0:n.degree)>=e)return"break";var a=o.findIndex(function(t){return t.id===r});o.splice(a,1),s=s.filter(function(t){return!(t.source===r||t.target===r)})};"break"!==l(););return{nodes:o,edges:s}},Lt=function(t,e,n,i,r,o){void 0===e&&(e=3),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r="properties"),void 0===o&&(o=yt.EuclideanDistance);for(var a=t.nodes,s=t.edges,l=Mt(a,r),u=It(l,n,i),c=0;c<a.length;c++)a[c].originIndex=c;var h=[],d=[],f=[];for(c=0;c<e;c++)if(0===c){var p=Math.floor(Math.random()*a.length);h[c]=u[p],d.push(p),f[c]=[a[p]],a[p].clusterId=String(c)}else{for(var g=-1/0,v=0,m=0;m<a.length;m++)if(!d.includes(m)){for(var y=0,b=0;b<h.length;b++)y+=M=kt(u[a[m].originIndex],h[b],o);var x=y/h.length;x>g&&(g=x,v=m)}h[c]=u[v],d.push(v),f[c]=[a[v]],a[v].clusterId=String(c)}for(var w=0;;){for(c=0;c<a.length;c++){var _=0,S=1/0;if(0!==w||!d.includes(c)){for(b=0;b<h.length;b++){var M;(M=kt(u[c],h[b],o))<S&&(S=M,_=b)}if(a[c].clusterId!==String(_)){for(var C=0;C<f[_].length;C++)f[_][C].id===a[c].id&&f[_].splice(C,1);f[_].push(a[c]),a[c].clusterId=String(_)}}}var I=!1;for(c=0;c<f.length;c++){var k=f[c],T=new St([]);for(b=0;b<k.length;b++)T=T.add(new St(u[k[b].originIndex]));var O=T.avg(k.length);O.equal(new St(h[c]))||(I=!0,h[c]=O.getArr())}if(w++,I||w>=1e3)break}var E=[],A={};return s.forEach(function(t){var e,n,i=t.source,r=t.target,o=null===(e=a.find(function(t){return t.id===i}))||void 0===e?void 0:e.clusterId,s=null===(n=a.find(function(t){return t.id===r}))||void 0===n?void 0:n.clusterId,l="".concat(o,"---").concat(s);if(A[l])A[l].count++;else{var u={source:o,target:s,count:1};A[l]=u,E.push(u)}}),{clusters:f,clusterEdges:E}},Dt=function(t,e){var n=new St(e),i=n.norm2(),r=new St(t),o=r.norm2(),a=n.dot(r),s=i*o,l=s?a/s:0;return l},jt=function(t,e,n,i,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r="properties");var o=Object(gt.clone)(t.filter(function(t){return t.id!==e.id})),a=t.findIndex(function(t){return t.id===e.id}),s=Mt(t,r),l=It(s,n,i),u=l[a],c=[];return o.forEach(function(t,n){if(t.id!==e.id){var i=l[n],r=Dt(i,u);c.push(r),t.cosineSimilarity=r}}),o.sort(function(t,e){return e.cosineSimilarity-t.cosineSimilarity}),{allCosineSimilarity:c,similarNodes:o}},Pt=function(){function t(t){this.count=t.length,this.parent={};for(var e=0,n=t;e<n.length;e++){var i=n[e];this.parent[i]=i}}return t.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},t.prototype.union=function(t,e){var n=this.find(t),i=this.find(e);n!==i&&(n<i?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},t.prototype.connected=function(t,e){return this.find(t)===this.find(e)},t}(),Rt=function(t,e){return t-e},zt=function(){function t(t){void 0===t&&(t=Rt),this.compareFn=t,this.list=[]}return t.prototype.getLeft=function(t){return 2*t+1},t.prototype.getRight=function(t){return 2*t+2},t.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},t.prototype.isEmpty=function(){return this.list.length<=0},t.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},t.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return this.list.length>0&&(this.list[0]=e,this.moveDown(0)),t},t.prototype.insert=function(t){if(null!==t){this.list.push(t);var e=this.list.length-1;return this.moveUp(e),!0}return!1},t.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&t>0&&this.compareFn(this.list[e],this.list[t])>0;){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,t=e,e=this.getParent(t)}},t.prototype.moveDown=function(t){var e,n=t,i=this.getLeft(t),r=this.getRight(t),o=this.list.length;null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0?n=i:null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0&&(n=r),t!==n&&(e=[this.list[n],this.list[t]],this.list[t]=e[0],this.list[n]=e[1],this.moveDown(n))},t}(),Bt=function(t,e){var n=[],i=t.nodes,r=void 0===i?[]:i,o=t.edges,a=void 0===o?[]:o;if(0===r.length)return n;var s=r[0],l=new Set;l.add(s);var u=new zt(function(t,n){return e?t.weight-n.weight:0});for(tt(s.id,a).forEach(function(t){u.insert(t)});!u.isEmpty();){var c=u.delMin(),h=c.source,d=c.target;l.has(h)&&l.has(d)||(n.push(c),l.has(h)||(l.add(h),tt(h,a).forEach(function(t){u.insert(t)})),l.has(d)||(l.add(d),tt(d,a).forEach(function(t){u.insert(t)})))}return n},Ft=function(t,e){var n=[],i=t.nodes,r=void 0===i?[]:i,o=t.edges,a=void 0===o?[]:o;if(0===r.length)return n;var s=a.map(function(t){return t});e&&s.sort(function(t,e){return t.weight-e.weight});for(var l=new Pt(r.map(function(t){return t.id}));s.length>0;){var u=s.shift(),c=u.source,h=u.target;l.connected(c,h)||(n.push(u),l.union(c,h))}return n},Gt=function(t,e,n){return n?{prim:Bt,kruskal:Ft}[n](t,e):Ft(t,e)},Vt=function(t,e,n){"number"!=typeof e&&(e=1e-6),"number"!=typeof n&&(n=.85);for(var i,r=1,o=0,a=1e3,s=t.nodes,l=void 0===s?[]:s,u=t.edges,c=void 0===u?[]:u,h=l.length,d={},f={},p=0;p<h;++p)d[v=(w=l[p]).id]=1/h,f[v]=1/h;for(var g=st(t);a>0&&r>e;){for(o=0,p=0;p<h;++p){var v=(w=l[p]).id;if(i=0,0===g[w.id].inDegree)d[v]=0;else{for(var m=q(v,c,"source"),y=0;y<m.length;++y){var b=m[y],x=g[b].outDegree;x>0&&(i+=f[b]/x)}d[v]=n*i,o+=d[v]}}for(o=(1-o)/h,r=0,p=0;p<h;++p){var w;i=d[v=(w=l[p]).id]+o,r+=Math.abs(i-f[v]),f[v]=i}a-=1}return f},Wt=-1,Ht=-1,Ut="-1",Yt="-1",Jt=function(){return function(t,e,n,i){void 0===t&&(t=Wt),void 0===e&&(e=Ht),void 0===n&&(n=Ht),void 0===i&&(i=Ut),this.id=t,this.from=e,this.to=n,this.label=i}}(),Qt=function(){function t(t,e){void 0===t&&(t=Ht),void 0===e&&(e=Yt),this.id=t,this.label=e,this.edges=[],this.edgeMap={}}return t.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},t}(),Zt=function(){function t(t,e,n){void 0===t&&(t=Ht),void 0===e&&(e=!0),void 0===n&&(n=!1),this.id=t,this.edgeIdAutoIncrease=e,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return t.prototype.getNodeNum=function(){return this.nodes.length},t.prototype.addNode=function(t,e){if(!this.nodeMap[t]){var n=new Qt(t,e);this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[e]||(this.nodeLabelMap[e]=[]),this.nodeLabelMap[e].push(t)}},t.prototype.addEdge=function(t,e,n,i){if((this.edgeIdAutoIncrease||void 0===t)&&(t=this.counter++),!(this.nodeMap[e]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[t])){var r=new Jt(t,e,n,i);if(this.edges.push(r),this.edgeMap[t]=r,this.nodeMap[e].addEdge(r),this.edgeLabelMap[i]||(this.edgeLabelMap[i]=[]),this.edgeLabelMap[i].push(r),!this.directed){var o=new Jt(t,n,e,i);this.nodeMap[n].addEdge(o),this.edgeLabelMap[i].push(o)}}},t}(),$t=function(){function t(t,e,n,i,r){this.fromNode=t,this.toNode=e,this.nodeEdgeNodeLabel={nodeLabel1:n||Yt,edgeLabel:i||Ut,nodeLabel2:r||Yt}}return t.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t}(),Xt=function(){function t(){this.rmpath=[],this.dfsEdgeList=[]}return t.prototype.equalTo=function(t){var e=this.dfsEdgeList.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(this.dfsEdgeList[n]!==t[n])return!1;return!0},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t.prototype.pushBack=function(t,e,n,i,r){return this.dfsEdgeList.push(new $t(t,e,n,i,r)),this.dfsEdgeList},t.prototype.toGraph=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=!1);var n=new Zt(t,!0,e);return this.dfsEdgeList.forEach(function(t){var e=t.fromNode,i=t.toNode,r=t.nodeEdgeNodeLabel,o=r.nodeLabel1,a=r.edgeLabel,s=r.nodeLabel2;o!==Yt&&n.addNode(e,o),s!==Yt&&n.addNode(i,s),o!==Yt&&s!==o&&n.addEdge(void 0,e,i,a)}),n},t.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,e=this.dfsEdgeList.length-1;e>=0;e--){var n=this.dfsEdgeList[e],i=n.fromNode,r=n.toNode;i<r&&(void 0===t||r===t)&&(this.rmpath.push(e),t=i)}return this.rmpath},t.prototype.getNodeNum=function(){var t={};return this.dfsEdgeList.forEach(function(e){t[e.fromNode]||(t[e.fromNode]=!0),t[e.toNode]||(t[e.toNode]=!0)}),Object.keys(t).length},t}(),Kt=function(){function t(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],t){for(;t;){var e=t.edge;this.edges.push(e),this.nodesUsed[e.from]=1,this.nodesUsed[e.to]=1,this.edgesUsed[e.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}return t.prototype.hasNode=function(t){return 1===this.nodesUsed[t.id]},t.prototype.hasEdge=function(t){return 1===this.edgesUsed[t.id]},t}(),qt=function(){function t(t){var e=t.graphs,n=t.minSupport,i=void 0===n?2:n,r=t.minNodeNum,o=void 0===r?1:r,a=t.maxNodeNum,s=void 0===a?4:a,l=t.top,u=void 0===l?10:l,c=t.directed,h=void 0!==c&&c,d=t.verbose,f=void 0!==d&&d;this.graphs=e,this.dfsCode=new Xt,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=i,this.top=u,this.directed=h,this.counter=0,this.maxNodeNum=s,this.minNodeNum=o,this.verbose=f,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return t.prototype.findForwardRootEdges=function(t,e){var n=this,i=[],r=t.nodeMap;return e.edges.forEach(function(t){(n.directed||e.label<=r[t.to].label)&&i.push(t)}),i},t.prototype.findBackwardEdge=function(t,e,n,i){if(!this.directed&&e===n)return null;for(var r=t.nodeMap,o=r[n.to].edges,a=o.length,s=0;s<a;s++){var l=o[s];if(!i.hasEdge(l)&&l.to===e.from)if(this.directed){if(r[e.from].label<r[n.to].label||r[e.from].label===r[n.to].label&&e.label<=l.label)return l}else if(e.label<l.label||e.label===l.label&&r[e.to].label<=r[n.to].label)return l}return null},t.prototype.findForwardPureEdges=function(t,e,n,i){for(var r=[],o=e.to,a=t.nodeMap[o].edges,s=a.length,l=0;l<s;l++){var u=a[l],c=t.nodeMap[u.to];n<=c.label&&!i.hasNode(c)&&r.push(u)}return r},t.prototype.findForwardRmpathEdges=function(t,e,n,i){for(var r=[],o=t.nodeMap,a=o[e.to].label,s=o[e.from].edges,l=s.length,u=0;u<l;u++){var c=s[u],h=o[c.to].label;e.to===c.to||n>h||i.hasNode(o[c.to])||(e.label<c.label||e.label===c.label&&a<=h)&&r.push(c)}return r},t.prototype.getSupport=function(t){var e={};return t.forEach(function(t){e[t.graphId]||(e[t.graphId]=!0)}),Object.keys(e).length},t.prototype.findMinLabel=function(t){var e=void 0;return Object.keys(t).forEach(function(n){var i=t[n],r=i.nodeLabel1,o=i.edgeLabel,a=i.nodeLabel2;e?(r<e.nodeLabel1||r===e.nodeLabel1&&o<e.edgeLabel||r===e.nodeLabel1&&o===e.edgeLabel&&a<e.nodeLabel2)&&(e={nodeLabel1:r,edgeLabel:o,nodeLabel2:a}):e={nodeLabel1:r,edgeLabel:o,nodeLabel2:a}}),e},t.prototype.isMin=function(){var t=this,e=this.dfsCode;if(this.verbose&&console.log("isMin checking",e),1===e.dfsEdgeList.length)return!0;var n=this.directed,i=e.toGraph(-1,n),r=i.nodeMap,o=new Xt,a={};i.nodes.forEach(function(e){t.findForwardRootEdges(i,e).forEach(function(t){var n=r[t.to],o="".concat(e.label,"-").concat(t.label,"-").concat(n.label);a[o]||(a[o]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:n.label});var s={graphId:i.id,edge:t,preNode:null};a[o].projected.push(s)})});var s=this.findMinLabel(a);if(s){o.dfsEdgeList.push(new $t(0,1,s.nodeLabel1,s.edgeLabel,s.nodeLabel2));var l="".concat(s.nodeLabel1,"-").concat(s.edgeLabel,"-").concat(s.nodeLabel2);return function a(s){for(var l=o.buildRmpath(),u=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,c=o.dfsEdgeList[l[0]].toNode,h={},d=!1,f=0,p=n?-1:0,g=function(e){if(d)return"break";s.forEach(function(n){var r=new Kt(n),a=t.findBackwardEdge(i,r.edges[l[e]],r.edges[l[0]],r);a&&(h[a.label]||(h[a.label]={projected:[],edgeLabel:a.label}),h[a.label].projected.push({graphId:i.id,edge:h,preNode:n}),f=o.dfsEdgeList[l[e]].fromNode,d=!0)})},v=l.length-1;v>p&&"break"!==g(v);v--);if(d){var m=t.findMinLabel(h);o.dfsEdgeList.push(new $t(c,f,Yt,m.edgeLabel,Yt));var y=o.dfsEdgeList.length-1;return t.dfsCode.dfsEdgeList[y]===o.dfsEdgeList[y]&&a(h[m.edgeLabel].projected)}var b={};d=!1;var x=0;s.forEach(function(e){var n=new Kt(e),o=t.findForwardPureEdges(i,n.edges[l[0]],u,n);o.length>0&&(d=!0,x=c,o.forEach(function(t){var n="".concat(t.label,"-").concat(r[t.to].label);b[n]||(b[n]={projected:[],edgeLabel:t.label,nodeLabel2:r[t.to].label}),b[n].projected.push({graphId:i.id,edge:t,preNode:e})}))});var w=l.length,_=function(e){if(d)return"break";var n=l[e];s.forEach(function(e){var a=new Kt(e),s=t.findForwardRmpathEdges(i,a.edges[n],u,a);s.length>0&&(d=!0,x=o.dfsEdgeList[n].fromNode,s.forEach(function(t){var n="".concat(t.label,"-").concat(r[t.to].label);b[n]||(b[n]={projected:[],edgeLabel:t.label,nodeLabel2:r[t.to].label}),b[n].projected.push({graphId:i.id,edge:t,preNode:e})}))})};for(v=0;v<w&&"break"!==_(v);v++);if(!d)return!0;var S=t.findMinLabel(b);o.dfsEdgeList.push(new $t(x,c+1,Yt,S.edgeLabel,S.nodeLabel2));var M=o.dfsEdgeList.length-1;return e.dfsEdgeList[M]===o.dfsEdgeList[M]&&a(b["".concat(S.edgeLabel,"-").concat(S.nodeLabel2)].projected)}(a[l].projected)}},t.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var t=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(Object(gt.clone)(t))}},t.prototype.subGraphMining=function(t){var e=this;if(!(this.getSupport(t)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),i=this.dfsCode.buildRmpath(),r=this.dfsCode.dfsEdgeList[i[0]].toNode,o=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},s={};t.forEach(function(t){for(var l=e.graphs[t.graphId],u=l.nodeMap,c=new Kt(t),h=i.length-1;h>=0;h--){var d=e.findBackwardEdge(l,c.edges[i[h]],c.edges[i[0]],c);if(d){var f="".concat(e.dfsCode.dfsEdgeList[i[h]].fromNode,"-").concat(d.label);s[f]||(s[f]={projected:[],toNodeId:e.dfsCode.dfsEdgeList[i[h]].fromNode,edgeLabel:d.label}),s[f].projected.push({graphId:t.graphId,edge:d,preNode:t})}}if(!(n>=e.maxNodeNum)){e.findForwardPureEdges(l,c.edges[i[0]],o,c).forEach(function(e){var n="".concat(r,"-").concat(e.label,"-").concat(u[e.to].label);a[n]||(a[n]={projected:[],fromNodeId:r,edgeLabel:e.label,nodeLabel2:u[e.to].label}),a[n].projected.push({graphId:t.graphId,edge:e,preNode:t})});var p=function(n){e.findForwardRmpathEdges(l,c.edges[i[n]],o,c).forEach(function(r){var o="".concat(e.dfsCode.dfsEdgeList[i[n]].fromNode,"-").concat(r.label,"-").concat(u[r.to].label);a[o]||(a[o]={projected:[],fromNodeId:e.dfsCode.dfsEdgeList[i[n]].fromNode,edgeLabel:r.label,nodeLabel2:u[r.to].label}),a[o].projected.push({graphId:t.graphId,edge:r,preNode:t})})};for(h=0;h<i.length;h++)p(h)}}),Object.keys(s).forEach(function(t){var n=s[t],i=n.toNodeId,o=n.edgeLabel;e.dfsCode.dfsEdgeList.push(new $t(r,i,"-1",o,"-1")),e.subGraphMining(s[t].projected),e.dfsCode.dfsEdgeList.pop()}),Object.keys(a).forEach(function(t){var n=a[t],i=n.fromNodeId,o=n.edgeLabel,s=n.nodeLabel2;e.dfsCode.dfsEdgeList.push(new $t(i,r+1,Yt,o,s)),e.subGraphMining(a[t].projected),e.dfsCode.dfsEdgeList.pop()})}},t.prototype.generate1EdgeFrequentSubGraphs=function(){var t=this.graphs,e=this.directed,n=this.minSupport,i=this.frequentSize1Subgraphs,r={},o={},a={},s={};return Object.keys(t).forEach(function(n){var i=t[n],l=i.nodeMap;i.nodes.forEach(function(t,i){var u=t.label,c="".concat(n,"-").concat(u);if(!a[c]){var h=r[u]||0;h++,r[u]=h}a[c]={graphKey:n,label:u},t.edges.forEach(function(t){var i=u,r=l[t.to].label;if(!e&&i>r){var a=r;r=i,i=a}var c=t.label,h="".concat(n,"-").concat(i,"-").concat(c,"-").concat(r),d="".concat(i,"-").concat(c,"-").concat(r);if(!o[d]){var f=o[d]||0;f++,o[d]=f}s[h]={graphId:n,nodeLabel1:i,edgeLabel:c,nodeLabel2:r}})})}),Object.keys(r).forEach(function(t){if(!(r[t]<n)){var e={nodes:[],edges:[]};e.nodes.push({id:"0",label:t}),i.push(e)}}),i},t.prototype.run=function(){var t=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var e=this.graphs,n=(this.directed,{});Object.keys(e).forEach(function(i){var r=e[i],o=r.nodeMap;r.nodes.forEach(function(e){t.findForwardRootEdges(r,e).forEach(function(t){var r=o[t.to],a="".concat(e.label,"-").concat(t.label,"-").concat(r.label);n[a]||(n[a]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:r.label});var s={graphId:i,edge:t,preNode:null};n[a].projected.push(s)})})}),Object.keys(n).forEach(function(e){var i=n[e],r=i.projected,o=i.nodeLabel1,a=i.edgeLabel,s=i.nodeLabel2;t.dfsCode.dfsEdgeList.push(new $t(0,1,o,a,s)),t.subGraphMining(r),t.dfsCode.dfsEdgeList.pop()})}},t}(),te=function(t){var e=t.graphs,n=t.directed,i=void 0!==n&&n,r=t.nodeLabelProp,o=void 0===r?"cluster":r,a=t.edgeLabelProp,s=void 0===a?"cluster":a,l=function(t,e,n,i){var r={};return Object.keys(t).forEach(function(o,a){var s=t[o],l=new Zt(a,!0,e),u={};s.nodes.forEach(function(t,e){l.addNode(e,t[n]),u[t.id]=e}),s.edges.forEach(function(t,e){var n=u[t.source],r=u[t.target];l.addEdge(-1,n,r,t[i])}),l&&l.getNodeNum()&&(r[l.id]=l)}),r}(e,i,o,s),u=t.minSupport,c=t.maxNodeNum,h=t.minNodeNum,d=t.verbose,f=t.top,p=new qt({graphs:l,minSupport:u,maxNodeNum:c,minNodeNum:h,top:f,verbose:d,directed:i});return p.run(),function(t,e,n){var i=[];return t.forEach(function(t){var r={nodes:[],edges:[]};t.nodes.forEach(function(t){var n;r.nodes.push(((n={id:"".concat(t.id)})[e]=t.label,n))}),t.edges.forEach(function(t){var e;r.edges.push(((e={source:"".concat(t.from),target:"".concat(t.to)})[n]=t.label,e))}),i.push(r)}),i}(p.frequentSubgraphs,o,s)},ee=function(t,e,n,i){void 0===n&&(n="cluster"),void 0===i&&(i=2);var r=[],o=t.nodes;return e.forEach(function(t,e){r.push(ne(o,t,e,n,i))}),r},ne=function(t,e,n,i,r){var o=[n],a=[],s={};return e.forEach(function(e,l){if(e<=r&&n!==l){o.push(l),a.push(t[l]);var u=t[l][i];s[u]?(s[u].count++,s[u].dists.push(e)):s[u]={count:1,dists:[e]}}}),Object.keys(s).forEach(function(t){s[t].dists=s[t].dists.sort(function(t,e){return t-e})}),{nodeIdx:n,nodeId:t[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},ie=function(t,e,n,i){var r=n.nodes;return i||(i={}),Object.keys(t).forEach(function(o){var a,s;if(!i||!i[o]){i[o]={nodes:[],edges:[]};var l=t[o],u=null===(a=e[l.start])||void 0===a?void 0:a.nodeIdxs,c=null===(s=e[l.end])||void 0===s?void 0:s.nodeIdxs;if(u&&c){var h=new Set(c),d=u.filter(function(t){return h.has(t)});if(d&&d.length){for(var f={},p=d.length,g=0;g<p;g++){var v=r[d[g]];i[o].nodes.push(v),f[v.id]=!0}n.edges.forEach(function(t){f[t.source]&&f[t.target]&&i[o].edges.push(t)})}}}}),i},re=function(t,e,n,i){var r,o,a={};t.nodes.forEach(function(t){a[t.id]=t});var s=0;return!(null===(r=null===e||void 0===e?void 0:e.edges)||void 0===r?void 0:r.length)||(null===(o=null===e||void 0===e?void 0:e.nodes)||void 0===o?void 0:o.length)<2?0:(t.edges.forEach(function(t){var r=a[t.source][n],o=a[t.target][n],l=null===e||void 0===e?void 0:e.nodes[0][n],u=null===e||void 0===e?void 0:e.nodes[1][n],c=null===e||void 0===e?void 0:e.edges[0][i];t[i]===c&&(r===l&&o===u||r===u&&o===l)&&s++}),s)},oe=function(t,e){var n={},i={};return t.forEach(function(t,r){n[t.id]={idx:r,node:t,degree:0,inDegree:0,outDegree:0};var o=t[e];i[o]||(i[o]=[]),i[o].push(t)}),{nodeMap:n,nodeLabelMap:i}},ae=function(t,e,n){var i={},r={};return t.forEach(function(t,o){i["".concat(et)]={idx:o,edge:t};var a=t[e];r[a]||(r[a]=[]),r[a].push(t);var s=n[t.source];s&&(s.degree++,s.outDegree++);var l=n[t.target];l&&(l.degree++,l.inDegree++)}),{edgeMap:i,edgeLabelMap:r}},se=function(t,e,n){var i=e.length,r={};return e.forEach(function(e,o){for(var a=n?0:o+1,s=t[o].id,l=a;l<i;l++)if(o!==l){var u=t[l].id,c=e[l];r["".concat(s,"-").concat(u)]=c,n||(r["".concat(u,"-").concat(s)]=c)}}),r},le=function(t,e,n,i,r,o,a,s,l,u,c){var h,d="".concat(e.id,"-").concat(n.id);if(u&&u[d])return u[d];var f=c?c[d]:void 0;if(!f){var p=((h={})[d]={start:i[e.id].idx,end:i[n.id].idx,distance:r},h);f=(c=ie(p,o,t,c))[d]}return re(f,a,s,l)},ue=function(t,e,n,i){var r,o,a,s=null===(r=t[e])||void 0===r?void 0:r.degree,l=null===(o=t[e])||void 0===o?void 0:o.inDegree,u=null===(a=t[e])||void 0===a?void 0:a.outDegree;return void 0===t[e]&&(s=1/0,l=1/0,u=1/0,i[e].forEach(function(t){var e=n[t.id].degree;s>e&&(s=e);var i=n[t.id].inDegree;l>i&&(l=i);var r=n[t.id].outDegree;u>r&&(u=r)}),t[e]={degree:s,inDegree:l,outDegree:u}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:l,minPatternNodeLabelOutDegree:u}},ce=function(t,e,n,i,r,o,a){var s;if(void 0===n&&(n=!1),void 0===o&&(o="cluster"),void 0===a&&(a="cluster"),t&&t.nodes){var l=t.nodes.length;if(l){var u=wt(t,n),c=wt(e,n),h=se(t.nodes,u,n),d=se(e.nodes,c,n),p=oe(t.nodes,o),g=p.nodeMap,v=p.nodeLabelMap,m=oe(e.nodes,o),y=m.nodeMap,b=m.nodeLabelMap;ae(t.edges,a,g);var x=ae(e.edges,a,y).edgeLabelMap,w=[];null===c||void 0===c||c.forEach(function(t){w=w.concat(t)}),r||(r=Math.max.apply(Math,Object(f.__spreadArray)(Object(f.__spreadArray)([],w,!1),[2],!1))),i||(i=r);var _=ee(t,u,o,i),S=ee(e,c,o,i),M=function(t,e,n,i,r){var o=Math.ceil(n/e),a={},s=0;return i.forEach(function(t,i){for(var l=0,u=0,c=t.nodeIdxs,h=t.neighborNum-1;l<o;){for(var d=c[1+Math.floor(Math.random()*h)],f=0;(a["".concat(i,"-").concat(d)]||a["".concat(d,"-").concat(i)])&&(d=Math.floor(Math.random()*e),!(++f>2*e)););if(f<2*e&&(a["".concat(i,"-").concat(d)]={start:i,end:d,distance:r[i][d]},l++,++s>=n))return a;if(++u>2*e)break}l<o&&(o=(o+(o-l))/(e-i-1))}),a}(0,l,Math.min(100,l*(l-1)/2),_,u),C=ie(M,_,t),I=te({graphs:C,nodeLabelProp:o,edgeLabelProp:a,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n}).slice(0,10),k=I.length,T=[];I.forEach(function(t,e){T[e]={},Object.keys(C).forEach(function(n){var i=C[n],r=re(i,t,o,a);T[e][n]=r})});var O=function(t,e,n){for(var i=1/0,r=0,o=function(e){var n=t[e],o=[];Object.keys(n).sort(function(t,e){return n[t]-n[e]}).forEach(function(t,e){o[e%10]||(o[e%10]={graphs:[],totalCount:0,aveCount:0}),o[e%10].graphs.push(t),o[e%10].totalCount+=n[t]});var a=0,s=[];o.forEach(function(t){var e=t.totalCount/t.graphs.length;t.aveCount=e,s.push(e);var i=0,r=t.length;t.graphs.forEach(function(e,r){var o=n[e];t.graphs.forEach(function(t,e){r!==e&&(i+=Math.abs(o-n[t]))})}),a+=i/=r*(r-1)/2}),a/=o.length;var l=0;s.forEach(function(t,e){s.forEach(function(n,i){e!==i&&(l+=Math.abs(t-n))}),l/=s.length*(s.length-1)/2});var u=l-a;i<u&&(i=u,r=e)},a=0;a<e;a++)o(a);return{structure:n[r],structureCountMap:t[r]}}(T,k,I),E=O.structure,A=O.structureCountMap,N=e.nodes[0],L=[],D=null===(s=e.nodes[0])||void 0===s?void 0:s[o],j=-1/0;e.nodes.forEach(function(t){var e=t[o],n=v[e];(null===n||void 0===n?void 0:n.length)>j&&(j=n.length,L=n,D=e,N=t)});var P={},R={},z={},B={},F={},G={};Object.keys(b).forEach(function(i,r){F[i]=[],n&&(G[i]=[]);var s=-1/0,l={};b[i].forEach(function(t){var e=d["".concat(N.id,"-").concat(t.id)];if(e&&F[i].push(e),s<e&&(s=e),l["".concat(N.id,"-").concat(t.id)]={start:0,end:y[t.id].idx,distance:e},n){var r=d["".concat(t.id,"-").concat(N.id)];r&&G[i].push(r)}}),F[i]=F[i].sort(function(t,e){return t-e}),n&&(G[i]=G[i].sort(function(t,e){return t-e})),R=ie(l,S,e,R);var u=[];if(Object.keys(l).forEach(function(t){if(z[t])u.push(z[t]);else{var e=R[t];z[t]=re(e,E,o,a),u.push(z[t])}}),u=u.sort(function(t,e){return e-t}),B["".concat(N.id,"-").concat(i)]=u,i!==D)for(var c=function(e){var n=L[e],r=_[g[n.id].idx],s=r.nodeLabelCountMap[i],l=b[i].length;if(!s||s.count<l)return L.splice(e,1),"continue";for(var c=!1,d=0;d<l;d++)if(s.dists[d]>F[i][d]){c=!0;break}if(c)return L.splice(e,1),"continue";var f={};r.neighbors.forEach(function(t){var e=h["".concat(n.id,"-").concat(t.id)];f["".concat(n.id,"-").concat(t.id)]={start:g[n.id].idx,end:g[t.id].idx,distance:e}}),C=ie(f,_,t,C);var p=[];Object.keys(f).forEach(function(t){if(A[t])p.push(A[t]);else{var e=C[t];A[t]=re(e,E,o,a),p.push(A[t])}}),p=p.sort(function(t,e){return e-t});var v=!1;for(d=0;d<l;d++)if(p[d]<u[d]){v=!0;break}return v?(L.splice(e,1),"continue"):void 0},f=((null===L||void 0===L?void 0:L.length)||0)-1;f>=0;f--)c(f)});var V=[];null===L||void 0===L||L.forEach(function(i){for(var s=g[i.id].idx,l=ne(t.nodes,u[s],s,o,r).neighbors,c=!1,d=l.length-1;d>=0;d--){if(l.length+1<e.nodes.length)return void(c=!0);var f=l[d],p=f[o];if(b[p]&&b[p].length)if(F[p]&&F[p].length){var v="".concat(i.id,"-").concat(f.id),m=h[v],x=F[p].length-1;if(m>F[p][x])l.splice(d,1);else{if(n){var w="".concat(f.id,"-").concat(i.id),S=h[w];if(x=G[p].length-1,S>G[p][x]){l.splice(d,1);continue}}var M=A[v]?A[v]:le(t,i,f,g,m,_,E,o,a,A,C),I="".concat(N.id,"-").concat(p);if(M<B[I][B[I].length-1])l.splice(d,1);else{var k=ue(P,p,y,b),T=k.minPatternNodeLabelDegree;k.minPatternNodeLabelInDegree,k.minPatternNodeLabelOutDegree,g[f.id].degree<T&&l.splice(d,1)}}}else l.splice(d,1);else l.splice(d,1)}c||V.push({nodes:[i].concat(l)})});var W=vt(e,N.id,!1).length,H={};n?(Object.keys(W).forEach(function(t){var e=y[t].node[o];H[e]?H[e].push(W[t]):H[e]=[W[t]]}),Object.keys(H).forEach(function(t){H[t].sort(function(t,e){return t-e})})):H=F;for(var U=function(i){var r=V[i],s=r.nodes[0],l={},u={};r.nodes.forEach(function(t,e){u[t.id]={idx:e,node:t,degree:0,inDegree:0,outDegree:0};var n=t[o];l[n]?l[n]++:l[n]=1});var c=[],h={};t.edges.forEach(function(t){u[t.source]&&u[t.target]&&(c.push(t),h[t[a]]?h[t[a]]++:h[t[a]]=1,u[t.source].degree++,u[t.target].degree++,u[t.source].outDegree++,u[t.target].inDegree++)});for(var d=Object.keys(x).length,f=!1,p=0;p<d;p++){var v=Object.keys(x)[p];if(!h[v]||h[v]<x[v].length){f=!0;break}}if(f)return V.splice(i,1),"continue";var m=c.length;if(m<e.edges.length)return V.splice(i,1),"break";var w=!1,_=function(t){var e=c[t],i=e[a],r=x[i];if(!r||!r.length)return h[i]--,r&&h[i]<r.length?(w=!0,"break"):(c.splice(t,1),u[e.source].degree--,u[e.target].degree--,u[e.source].outDegree--,u[e.target].inDegree--,"continue");var s=u[e.source].node[o],l=u[e.target].node[o],d=!1;return r.forEach(function(t){var e=y[t.source].node,i=y[t.target].node;e[o]===s&&i[o]===l&&(d=!0),n||e[o]!==l||i[o]!==s||(d=!0)}),d?void 0:(h[i]--,r&&h[i]<r.length?(w=!0,"break"):(c.splice(t,1),u[e.source].degree--,u[e.target].degree--,u[e.source].outDegree--,u[e.target].inDegree--,"continue"))};for(p=m-1;p>=0&&"break"!==_(p);p--);if(w)return V.splice(i,1),"continue";r.edges=c;var S=vt(r,r.nodes[0].id,!1).length;if(Object.keys(S).reverse().forEach(function(t){if(t!==r.nodes[0].id&&!w){if(S[t]===1/0){var e=u[t].node[o];if(l[e]--,l[e]<b[e].length)return void(w=!0);var n=r.nodes.indexOf(u[t].node);return r.nodes.splice(n,1),void(u[t]=void 0)}var i=g[t].node[o];if(!H[i]||!H[i].length||S[t]>H[i][H[i].length-1]){if(e=u[t].node[o],l[e]--,l[e]<b[e].length)return void(w=!0);n=r.nodes.indexOf(u[t].node),r.nodes.splice(n,1),u[t]=void 0}}}),w)return V.splice(i,1),"continue";for(var M=!0,C=0;M&&!w;){if(M=!1,n?u[s.id].degree<y[N.id].degree||u[s.id].inDegree<y[N.id].inDegree||u[s.id].outDegree<y[N.id].outDegree:u[s.id].degree<y[N.id].degree){w=!0;break}if(l[s[o]]<b[s[o]].length){w=!0;break}for(var I=r.nodes.length-1;I>=0;I--){var k=r.nodes[I],T=u[k.id].degree,O=u[k.id].inDegree,E=u[k.id].outDegree,A=k[o],L=ue(P,A,y,b),D=L.minPatternNodeLabelDegree,j=L.minPatternNodeLabelInDegree,R=L.minPatternNodeLabelOutDegree;if(n?T<D||O<j||E<R:T<D){if(l[k[o]]--,l[k[o]]<b[k[o]].length){w=!0;break}r.nodes.splice(I,1),u[k.id]=void 0,M=!0}}if(w||!M&&0!==C)break;for(var z=(m=c.length)-1;z>=0;z--){var B=c[z];if(!u[B.source]||!u[B.target]){c.splice(z,1);var F=B[a];if(h[F]--,u[B.source]&&(u[B.source].degree--,u[B.source].outDegree--),u[B.target]&&(u[B.target].degree--,u[B.target].inDegree--),x[F]&&h[F]<x[F].length){w=!0;break}M=!0}}C++}return w?(V.splice(i,1),"continue"):w||r.nodes.length<e.nodes.length||c.length<e.edges.length?(V.splice(i,1),"continue"):void 0},Y=V.length-1;Y>=0&&"break"!==U(Y);Y--);var J=V.length,Q=function(t){var e={};V[t].edges.forEach(function(t){var n="".concat(t.source,"-").concat(t.target,"-").concat(t.label);e[n]?e[n]++:e[n]=1});for(var n=function(t){var n={};V[t].edges.forEach(function(t){var e="".concat(t.source,"-").concat(t.target,"-").concat(t.label);n[e]?n[e]++:n[e]=1});var i=!0;Object.keys(n).length!==Object.keys(e).length?i=!1:Object.keys(e).forEach(function(t){n[t]!==e[t]&&(i=!1)}),i&&V.splice(t,1)},i=J-1;i>t;i--)n(i);J=V.length};for(Y=0;Y<=J-1;Y++)Q(Y);return V}}},he=function(){function t(t){void 0===t&&(t=10),this.linkedList=new X,this.maxStep=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},t.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},t.prototype.push=function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()},t.prototype.pop=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toArray=function(){return this.linkedList.toArray().map(function(t){return t.value})},t.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},t}(),de=pt,fe={getAdjMatrix:Q,breadthFirstSearch:nt,connectedComponent:ot,getDegree:st,getInDegree:lt,getOutDegree:ut,detectCycle:pt,detectDirectedCycle:de,detectAllCycles:ft,detectAllDirectedCycle:dt,detectAllUndirectedCycle:ht,depthFirstSearch:ct,dijkstra:vt,findAllPath:xt,findShortestPath:bt,floydWarshall:wt,labelPropagation:_t,louvain:Et,iLouvain:At,kCore:Nt,kMeans:Lt,cosineSimilarity:Dt,nodesCosineSimilarity:jt,minimumSpanningTree:Gt,pageRank:Vt,getNeighbors:q,Stack:he,GADDI:ce},pe=J.a.transform,ge=function(t){return function(e,n){return e[t]-n[t]}},ve=function(t,e,n){return t>=e&&t<=n},me=function(t,e,n,i){var r=n.x-t.x,o=n.y-t.y,a=e.x-t.x,s=e.y-t.y,l=i.x-n.x,u=i.y-n.y,c=a*u-s*l,h=1/c;if(c*c>1e-4*(a*a+s*s)*(l*l+u*u)){var d=(r*u-o*l)*h,f=(r*s-o*a)*h;return ve(d,0,1)&&ve(f,0,1)?{x:t.x+d*a,y:t.y+d*s}:null}return null},ye=function(t,e){var n=t.x,i=t.y,r=t.width,o=t.height,a=[],s={x:n+r/2,y:i+o/2};a.push({x:n,y:i}),a.push({x:n+r,y:i}),a.push({x:n+r,y:i+o}),a.push({x:n,y:i+o}),a.push({x:n,y:i});for(var l=null,u=1;u<a.length&&!(l=me(a[u-1],a[u],s,e));u++);return l},be=function(t,e){var n=t.x,i=t.y,r=t.r,o=e.x-n,a=e.y-i;if(o*o+a*a<r*r)return null;var s=Math.atan(a/o);return{x:n+Math.abs(r*Math.cos(s))*Math.sign(o),y:i+Math.abs(r*Math.sin(s))*Math.sign(a)}},xe=function(t,e){var n=t.rx,i=t.ry,r=t.x,o=t.y,a=e.x-r,s=e.y-o,l=Math.atan2(s/i,a/n);return l<0&&(l+=2*Math.PI),{x:r+n*Math.cos(l),y:o+i*Math.sin(l)}},we=function(t,e,n){void 0===n&&(n=1);var i=[t.x,t.y,n];return e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]),J.d.transformMat3(i,i,e),{x:i[0],y:i[1]}},_e=function(t,e,n){void 0===n&&(n=1),e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]);var i=J.b.invert([1,0,0,0,1,0,0,0,1],e);i||(i=[1,0,0,0,1,0,0,0,1]);var r=[t.x,t.y,n];return J.d.transformMat3(r,r,i),{x:r[0],y:r[1]}},Se=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=t.x-n.x,a=t.y-n.y,s=(t.x*t.x-e.x*e.x-e.y*e.y+t.y*t.y)/2,l=(t.x*t.x-n.x*n.x-n.y*n.y+t.y*t.y)/2,u=r*o-i*a;return{x:-(a*s-r*l)/u,y:-(i*l-o*s)/u}},Me=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},Ce=function(t,e){var n=[];return t.forEach(function(t){var i=[];t.forEach(function(t){i.push(t*e)}),n.push(i)}),n},Ie=function(t){for(var e=[],n=t.length,i=0;i<n;i+=1){e[i]=[];for(var r=0;r<n;r+=1)i===r?e[i][r]=0:0!==t[i][r]&&t[i][r]?e[i][r]=t[i][r]:e[i][r]=1/0}for(var o=0;o<n;o+=1)for(i=0;i<n;i+=1)for(r=0;r<n;r+=1)e[i][r]>e[i][o]+e[o][r]&&(e[i][r]=e[i][o]+e[o][r]);return e},ke=function(t,e){var n=t.nodes,i=t.edges,r=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(t,e){o[t.id]=e;r.push([])}),i&&i.forEach(function(t){var n=t.source,i=t.target,a=o[n],s=o[i];r[a][s]=1,e||(r[s][a]=1)}),r},Te=function(t,e){t.translate(e.x,e.y)},Oe=function(t,e,n,i){void 0===i&&(i={duration:500});var r=t.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var o=t.getCanvasBBox(),a=e.x-o.minX,s=e.y-o.minY;if(n){var l=a*r[0],u=s*r[4],c=0,h=0,d=0,f=0;t.animate(function(t){return r=pe(r,[["t",(d=l*t)-c,(f=u*t)-h]]),c=d,h=f,{matrix:r}},i)}else{var p=pe(r,[["t",a,s]]);t.setMatrix(p)}},Ee=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var i=e;y(e)||(i=[e,e]),y(e)&&1===e.length&&(i=[e[0],e[0]]),n=pe(n,[["s",i[0],i[1]]]),t.setMatrix(n)},Ae=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=pe(n,[["r",e]]),t.setMatrix(n)},Ne=function(t,e,n){for(var i=[],r=0;r<t;r++)i[r]=0;return n.forEach(function(t){t.source&&(i[e[t.source]]+=1),t.target&&(i[e[t.target]]+=1)}),i};function Le(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}var De=function(t,e,n){var i=!1,r=t.length,o=1e-6;function a(t){return Math.abs(t)<o?0:t<0?-1:1}if(r<=2)return!1;for(var s=0;s<r;s++){var l=t[s],u=t[(s+1)%r];if(Le(l,u,[e,n]))return!0;a(l[1]-n)>0!=a(u[1]-n)>0&&a(e-(n-l[1])*(l[0]-u[0])/(l[1]-u[1])-l[0])<0&&(i=!i)}return i},je=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},Pe=function(t,e){var n=function(t){var e=t.map(function(t){return t[0]}),n=t.map(function(t){return t[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}},i=function(t){for(var e=[],n=t.length,i=0;i<n-1;i++){var r=t[i],o=t[i+1];e.push({from:{x:r[0],y:r[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var a=t[0],s=t[n-1];e.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return e};if(t.length<2||e.length<2)return!1;var r=n(t),o=n(e);if(!je(r,o))return!1;var a=!1;if(x(e,function(e){if(De(t,e[0],e[1]))return a=!0,!1}),a)return!0;if(x(t,function(t){if(De(e,t[0],t[1]))return a=!0,!1}),a)return!0;var s=i(t),l=i(e),u=!1;return x(l,function(t){if(function(t,e){var n=!1;return x(t,function(t){if(me(t.from,t.to,e.from,e.to))return n=!0,!1}),n}(s,t))return u=!0,!1}),u},Re=function(){function t(t,e,n,i){this.x1=t,this.y1=e,this.x2=n,this.y2=i}return t.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),i=Math.max(this.y1,this.y2);return{x:t,y:e,minX:t,minY:e,maxX:n,maxY:i,width:n-t,height:i-e}},t}(),ze=function(t,e){return{top:[t.minX,t.minY,t.maxX,t.minY],left:[t.minX,t.minY,t.minX,t.maxY],bottom:[t.minX,t.maxY,t.maxX,t.maxY],right:[t.maxX,t.minY,t.maxX,t.maxY]}[e]},Be=function(t,e){var n=(e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1),i=(t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1),r=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);if(r){var o=n/r,a=i/r;if(o>=0&&o<=1&&a>=0&&a<=1)return o}return Number.POSITIVE_INFINITY},Fe=function(t,e){for(var n=["top","left","bottom","right"],i=t.getBBox(),r=0,o=[],a=0;a<4;a++){var s=ze(i,n[a]),l=s[0],u=s[1],c=s[2],h=s[3];o[a]=me({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:l,y:u},{x:c,y:h}),o[a]&&(r+=1)}return[o,r]},Ge=function(t,e){for(var n=["top","left","bottom","right"],i=t.getBBox(),r=Number.POSITIVE_INFINITY,o=0,a=0;a<4;a++){var s=ze(i,n[a]),l=s[0],u=s[1],c=s[2],h=s[3],d=Be(e,new Re(l,u,c,h));(d=Math.abs(d-.5))>=0&&d<=1&&(o+=1,r=d<r?d:r)}return 0===o?-1:r},Ve=function(t){var e=0,n=0;if(t.length>0){for(var i=0,r=t;i<r.length;i++){var o=r[i];e+=o.x,n+=o.y}e/=t.length,n/=t.length}return{x:e,y:n}},We=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},He=function(t,e){var n,i=e.x1,r=e.y1,o=e.x2-i,a=e.y2-r,s=t.x-i,l=t.y-r,u=s*o+l*a;n=u<=0?0:(u=(s=o-s)*o+(l=a-l)*a)<=0?0:u*u/(o*o+a*a);var c=s*s+l*l-n;return c<0&&(c=0),c},Ue=function(t,e,n){return void 0===n&&(n=.001),Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)},Ye=function(t,e){var n=t.x<e.x,i=t.x>e.x+e.width,r=t.y>e.y+e.height,o=t.y<e.y;if(!(n||i||r||o))return 0;if(r&&!n&&!i)return Math.pow(e.y+e.height-t.y,2);if(o&&!n&&!i)return Math.pow(t.y-e.y,2);if(n&&!r&&!o)return Math.pow(e.x-t.x,2);if(i&&!r&&!o)return Math.pow(e.x+e.width-t.x,2);var a=Math.min(Math.abs(e.x-t.x),Math.abs(e.x+e.width-t.x)),s=Math.min(Math.abs(e.y-t.y),Math.abs(e.y+e.height-t.y));return a*a+s*s},Je=function(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=e.x,s=e.y,l=[r-n,o-i];if(J.c.exactEquals(l,[0,0]))return NaN;var u=[-l[1],l[0]];J.c.normalize(u,u);var c=[a-n,s-i];return Math.abs(J.c.dot(c,u))},Qe=function(t,e,n){return t+(e-t)*n},Ze="rgb(253, 253, 253)",$e="rgb(95, 149, 255)",Xe="rgb(95, 149, 255)",Ke="rgb(247, 250, 255)",qe="rgb(95, 149, 255)",tn="rgb(224, 224, 224)",en="rgb(95, 149, 255)",nn="rgb(224, 224, 224)",rn="rgb(95, 149, 255)",on={version:"0.5.3",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:$e,fill:"rgb(239, 244, 255)"},size:20,color:$e,linkPoints:{size:8,lineWidth:1,fill:Ke,stroke:Xe}},nodeStateStyles:{active:{fill:Ke,stroke:Xe,lineWidth:2,shadowColor:$e,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:qe,lineWidth:4,shadowColor:qe,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:"#4572d9",lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:"rgb(247, 250, 255)",stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:"rgb(250, 250, 250)",stroke:"rgb(224, 224, 224)",lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:tn,lineAppendWidth:2},color:tn},edgeStateStyles:{active:{stroke:"rgb(95, 149, 255)",lineWidth:1},selected:{stroke:en,lineWidth:2,shadowColor:en,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:"rgb(95, 149, 255)",lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(234, 234, 234)",lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Ze,lineWidth:1,stroke:nn,r:5,width:20,height:10},size:[20,5],color:nn,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:"rgb(95, 149, 255)",lineWidth:1,fill:"rgb(247, 250, 255)"},selected:{stroke:rn,lineWidth:2,fill:Ze,shadowColor:rn,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:"#4572d9",lineWidth:2,fill:Ze,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(224, 224, 224)",fill:Ze,lineWidth:1},disable:{stroke:"rgb(234, 234, 234)",fill:"rgb(250, 250, 250)",lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:"undefined"!=typeof window&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},an={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},sn=Math.PI,ln=Math.sin,un=Math.cos,cn=ln(sn/8),hn=un(sn/8),dn=function(t,e){var n=t.getBBox(),i={x:n.minX,y:n.minY},r={x:n.maxX,y:n.maxY};if(e){var o=e.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),i=we(i,o),r=we(r,o)}var a=i.x,s=i.y,l=r.x,u=r.y;return{x:a,y:s,minX:a,minY:s,maxX:l,maxY:u,width:l-a,height:u-s}},fn=function(t){var e=t.sourceNode||t.targetNode,n=e.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var i=e.getKeyShape().getBBox(),r=t.loopCfg||{},o=r.dist||2*Math.max(i.width,i.height),a=r.position||on.defaultLoopPosition,s=[n[6],n[7]],l=[t.startPoint.x,t.startPoint.y],u=[t.endPoint.x,t.endPoint.y],c=i.height/2,h=i.height/2,d=c*cn,f=c*hn,p=h*cn,g=h*hn;if(l[0]===u[0]&&l[1]===u[1]){switch(a){case"top":l=[s[0]-d,s[1]-f],u=[s[0]+p,s[1]-g];break;case"top-right":c=i.height/2,h=i.width/2,l=[s[0]+(d=c*cn),s[1]-(f=c*hn)],u=[s[0]+(g=h*hn),s[1]-(p=h*cn)];break;case"right":c=i.width/2,h=i.width/2,l=[s[0]+(f=c*hn),s[1]-(d=c*cn)],u=[s[0]+(g=h*hn),s[1]+(p=h*cn)];break;case"bottom-right":c=i.width/2,h=i.height/2,l=[s[0]+(f=c*hn),s[1]+(d=c*cn)],u=[s[0]+(p=h*cn),s[1]+(g=h*hn)];break;case"bottom":c=i.height/2,h=i.height/2,l=[s[0]+(d=c*cn),s[1]+(f=c*hn)],u=[s[0]-(p=h*cn),s[1]+(g=h*hn)];break;case"bottom-left":c=i.height/2,h=i.width/2,l=[s[0]-(d=c*cn),s[1]+(f=c*hn)],u=[s[0]-(g=h*hn),s[1]+(p=h*cn)];break;case"left":c=i.width/2,h=i.width/2,l=[s[0]-(f=c*hn),s[1]+(d=c*cn)],u=[s[0]-(g=h*hn),s[1]-(p=h*cn)];break;case"top-left":c=i.width/2,h=i.height/2,l=[s[0]-(f=c*hn),s[1]-(d=c*cn)],u=[s[0]-(p=h*cn),s[1]-(g=h*hn)];break;default:c=i.width/2,h=i.width/2,l=[s[0]-(d=c*cn),s[1]-(f=c*hn)],u=[s[0]+(p=h*cn),s[1]-(g=h*hn)]}if(!1===r.clockwise){var v=[l[0],l[1]];l=[u[0],u[1]],u=[v[0],v[1]]}}var m=[l[0]-s[0],l[1]-s[1]],y=(c+o)/c,b=(h+o)/h;!1===r.clockwise&&(y=(h+o)/h,b=(c+o)/c);var x=J.c.scale([0,0],m,y),w=[s[0]+x[0],s[1]+x[1]],_=[u[0]-s[0],u[1]-s[1]],S=J.c.scale([0,0],_,b),M=[s[0]+S[0],s[1]+S[1]];return t.startPoint={x:l[0],y:l[1]},t.endPoint={x:u[0],y:u[1]},t.controlPoints=[{x:w[0],y:w[1]},{x:M[0],y:M[1]}],t},pn=function(t,e,n,i,r){var o=[],a=null===t||void 0===t?void 0:t.getPoint(e);if(!a)return{x:0,y:0,angle:0};if(e<1e-4)o=t.getStartTangent().reverse();else if(e>.9999)o=t.getEndTangent();else{var s=null===t||void 0===t?void 0:t.getPoint(e+1e-4);o.push([a.x,a.y]),o.push([s.x,s.y])}var l=Math.atan2(o[1][1]-o[0][1],o[1][0]-o[0][0]);if(l<0&&(l+=2*sn),n&&(a.x+=un(l)*n,a.y+=ln(l)*n),i){var u=l-sn/2;l>.5*sn&&l<1.5*sn&&(u-=sn),a.x+=un(u)*i,a.y+=ln(u)*i}var c={x:a.x,y:a.y,angle:l};return r?(l>.5*sn&&l<1.5*sn&&(l-=sn),Object(f.__assign)({rotate:l},c)):c},gn=function t(e,n){if(!1===n(e))return!1;if(e&&e.children)for(var i=e.children.length-1;i>=0;i--)if(!t(e.children[i],n))return!1;return!0},vn=function(t,e){"function"==typeof e&&gn(t,e)},mn=function(t,e){"function"==typeof e&&function t(e,n){if(e&&e.children)for(var i=e.children.length-1;i>=0;i--)if(!t(e.children[i],n))return;return!1!==n(e)}(t,e)},yn=function(t,e){return e*(an[t]||1)},bn=function(t,e){var n=0,i=new RegExp("[一-龥]+");return t.split("").forEach(function(t){i.test(t)?n+=e:n+=yn(t,e)}),[n,e]},xn=function(t,e){var n=[],i={},r={};t.forEach(function(t){r[t.id]=t}),t.forEach(function(t,e){var o=P(t);o.itemType="combo",o.children=void 0,o.parentId===o.id?(console.warn("The parentId for combo ".concat(o.id," can not be the same as the combo's id")),delete o.parentId):o.parentId&&!r[o.parentId]&&(console.warn("The parent combo for combo ".concat(o.id," does not exist!")),delete o.parentId);var a=i[o.id];if(a){if(o.children=a.children,i[o.id]=o,!(a=o).parentId)return void n.push(a);var s=i[a.parentId];if(s)s.children?s.children.push(o):s.children=[o];else{var l={id:a.parentId,children:[a]};i[a.parentId]=l,i[o.id]=o}}else if(M(t.parentId)){var u=i[t.parentId];if(u)u.children?u.children.push(o):u.children=[o],i[o.id]=o;else{var c={id:t.parentId,children:[o]};i[c.id]=c,i[o.id]=o}}else n.push(o),i[o.id]=o});var o={};(e||[]).forEach(function(t){o[t.id]=t;var e=i[t.comboId];if(e){var n={id:t.id,comboId:t.comboId};e.children?e.children.push(n):e.children=[n],n.itemType="node",i[t.id]=n}});var a=0;return n.forEach(function(t){t.depth=a+10,gn(t,function(t){var e,n=i[t.id].itemType;e="node"===n?i[t.comboId]:i[t.parentId],t.depth=e&&"node"===n?a+1:a+10,a<t.depth&&(a=t.depth);var r=o[t.id];return r&&(r.depth=t.depth),!0})}),n},wn=function(t,e,n){var i,r=t,o={root:{children:t}},a=!1,s="root";(t||[]).forEach(function(t){if(!a)return t.id===e?(i=t,"combo"===t.itemType?i.parentId=n:i.comboId=n,void(a=!0)):void vn(t,function(t){return o[t.id]={children:t.children},r=o[t.parentId||t.comboId||"root"].children,!t||!t.removed&&e!==t.id||!r||(s=t.parentId||t.comboId||"root",i=t,"combo"===t.itemType?i.parentId=n:i.comboId=n,a=!0,!1)})});var l=(r=o[s].children)?r.indexOf(i):-1;if(l>-1&&r.splice(l,1),a||(i={id:e,itemType:"node",comboId:n},o[e]={children:void 0}),e){var u=!1;if(n){var c=0;(t||[]).forEach(function(t){u||vn(t,function(t){return n!==t.id||(u=!0,t.children?t.children.push(i):t.children=[i],c=t.depth,"node"===i.itemType?i.depth=c+2:i.depth=c+1,!1)})})}else n&&u||"node"===i.itemType||t.push(i);var h=i.depth;vn(i,function(t){return"node"===t.itemType?h+=2:h+=1,t.depth=h,!0})}return t},_n=function(t,e,n){var i={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!t||0===t.length){var r=(null===n||void 0===n?void 0:n.getModel())||{},o=r.x,a=r.y;return{minX:o,minY:a,maxX:o,maxY:a,x:o,y:a,width:void 0,height:void 0}}return t.forEach(function(t){var n=e.findById(t.id);if(n&&n.isVisible()){n.set("bboxCanvasCache",void 0);var r=n.getCanvasBBox();r.x&&i.minX>r.minX&&(i.minX=r.minX),r.y&&i.minY>r.minY&&(i.minY=r.minY),r.x&&i.maxX<r.maxX&&(i.maxX=r.maxX),r.y&&i.maxY<r.maxY&&(i.maxY=r.maxY)}}),i.x=(i.minX+i.maxX)/2,i.y=(i.minY+i.maxY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i.centerX=(i.minX+i.maxX)/2,i.centerY=(i.minY+i.maxY)/2,Object.keys(i).forEach(function(t){i[t]!==1/0&&i[t]!==-1/0||(i[t]=void 0)}),i},Sn=function(t){var e=T(t.x)||T(t.y)||t.type||t.anchorPoints||t.size;return t.style&&(e=e||T(t.style.r)||T(t.style.width)||T(t.style.height)||T(t.style.rx)||T(t.style.ry)),e},Mn=function(t){var e={};return Object.keys(t).forEach(function(n){var i=t[n];if(b(i)&&!y(i)){var r={};Object.keys(i).forEach(function(t){var e=i[t];("img"!==t||M(e))&&(r[t]=P(e))}),e[n]=r}else e[n]=P(i)}),e},Cn=function(t){var e;if(!t)return console.error("G6 Error Tips: the data must be defined"),!1;var n=t.nodes,i=t.edges,r=t.combos,o=void 0===r?[]:r;if(!n&&!i){var a=!0;return vn(t,function(t){return!!M(t.id)||(a=!1,!1)}),a}var s=(n||[]).find(function(t){return!M(t.id)});if(s)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(s.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var l=(n||[]).map(function(t){return t.id}),u=null===(e=o)||void 0===e?void 0:e.map(function(t){return t.id}),c=Object(f.__spreadArray)(Object(f.__spreadArray)([],l,!0),u,!0),h=(i||[]).find(function(t){return!c.includes(t.source)||!c.includes(t.target)});return!h||(console.warn("G6 Warning Tips: The source %c".concat(h.source,"%c or the target %c").concat(h.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1)},In=function(){function t(t){this.graph=t,this.destroyed=!1,this.modes=t.get("modes")||{default:[]},this.formatModes(),this.mode=t.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return t.prototype.formatModes=function(){var t=this.modes;x(t,function(t){x(t,function(e,n){M(e)&&(t[n]={type:e})})})},t.prototype.setBehaviors=function(t){var e,n=this.graph,i=this.modes[t],r=[];x(i||[],function(t){var i=H.getBehavior(t.type||t);i&&(e=new i(t))&&(e.bind(n),r.push(e))}),this.currentBehaves=r},t.mergeBehaviors=function(t,e){return x(e,function(e){t.indexOf(e)<0&&(M(e)&&(e={type:e}),t.push(e))}),t},t.filterBehaviors=function(t,e){var n=[];return t.forEach(function(t){var i="";i=M(t)?t:t.type,e.indexOf(i)<0&&n.push(t)}),n},t.prototype.setMode=function(t){var e=this.modes,n=this.graph,i=t;e[i]&&(n.emit("beforemodechange",{mode:t}),x(this.currentBehaves,function(t){t.delegate&&t.delegate.remove(),t.unbind(n)}),this.setBehaviors(i),n.emit("aftermodechange",{mode:t}),this.mode=t)},t.prototype.getMode=function(){return this.mode},t.prototype.manipulateBehaviors=function(e,n,i){var r,o=this;if(r=y(e)?e:[e],y(n))return x(n,function(e){o.modes[e]?o.modes[e]=i?t.mergeBehaviors(o.modes[e]||[],r):t.filterBehaviors(o.modes[e]||[],r):i&&(o.modes[e]=r)}),this;var a=n;return n||(a=this.mode),this.modes[a]||i&&(this.modes[a]=r),this.modes[a]=i?t.mergeBehaviors(this.modes[a]||[],r):t.filterBehaviors(this.modes[a]||[],r),this.formatModes(),this.setMode(this.mode),this},t.prototype.updateBehavior=function(t,e,n){M(t)&&(t={type:t});var i=[];if(n&&n!==this.mode&&"default"!==n){if(!(i=this.modes[n])||!i.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var r=i.length;for(a=0;a<r;a++){if((s=i[a]).type===t.type||s===t.type)return s===t.type&&(s={type:s}),Object.assign(s,e),i[a]=s,this;a===r-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(i=this.currentBehaves)||!i.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var o=i.length,a=0;a<o;a++){var s;if((s=i[a]).type===t.type)return s.updateCfg(e),this;a===o-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},t.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},t}(),kn=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.item=n.item,i.canvasX=n.canvasX,i.canvasY=n.canvasY,i.wheelDelta=n.wheelDelta,i.detail=n.detail,i}return Object(f.__extends)(e,t),e}(n("i6H2").Event),Tn=function(t){return"".concat(t,"-").concat(Math.random()).concat(Date.now())},On=function(t){if(y(t))switch(t.length){case 4:return t;case 3:return t.push(t[1]),t;case 2:return t.concat(t);case 1:return[t[0],t[0],t[0],t[0]];default:return[0,0,0,0]}if(T(t))return[t,t,t,t];if(M(t)){var e=parseInt(t,10);return[e,e,e,e]}return[0,0,0,0]},En=function(t){var e=new kn(t.type,t);return e.clientX=t.clientX,e.clientY=t.clientY,e.x=t.x,e.y=t.y,e.target=t.target,e.currentTarget=t.currentTarget,e.bubbles=!0,e.item=t.item,e},An=function(t){if(!t)return!1;for(var e=[1,0,0,0,1,0,0,0,1],n=0;n<9;n++)if(t[n]!==e[n])return!0;return!1},Nn=function(t){return Number.isNaN(Number(t))},Ln=function(t){for(var e=1/0,n=-1/0,i=1/0,r=-1/0,o=0;o<t.length;o++){var a=t[o].getBBox(),s=a.minX,l=a.minY,u=a.maxX,c=a.maxY;s<e&&(e=s),l<i&&(i=l),u>n&&(n=u),c>r&&(r=c)}return{x:Math.floor(e),y:Math.floor(i),width:Math.ceil(n)-Math.floor(e),height:Math.ceil(r)-Math.floor(i),minX:e,minY:i,maxX:n,maxY:r}},Dn=function(t,e,n,i,r){void 0===e&&(e=15),void 0===n&&(n="quadratic"),void 0===i&&(i=void 0),void 0===r&&(r=void 0);for(var o=t.length,a=2*e,s=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],l={},u=[],c={},h=0;h<o;h++){var d=t[h],f=d.source,p=d.target,g="".concat(f,"-").concat(p);if(!u[h]){l[g]||(l[g]=[]),u[h]=!0,l[g].push(d);for(var v=0;v<o;v++)if(h!==v){var m=t[v],y=m.source,b=m.target;u[v]||(f===b&&p===y?(l[g].push(m),u[v]=!0,c["".concat(y,"|").concat(b,"|").concat(l[g].length-1)]=!0):f===y&&p===b&&(l[g].push(m),u[v]=!0))}}}for(var x in l)for(var w=l[x],_=w.length,S=0;S<_;S++){var M=w[S];if(M.source!==M.target)if(1===_&&i&&M.source!==M.target)M.type=i;else{M.type=n;var C=(S%2==0?1:-1)*(c["".concat(M.source,"|").concat(M.target,"|").concat(S)]?-1:1);M.curveOffset=_%2==1?C*Math.ceil(S/2)*a:C*(Math.floor(S/2)*a+e)}else r&&(M.type=r),M.loopCfg={position:s[S%8],dist:20*Math.floor(S/8)+50}}return t},jn=function(){function t(t){this.destroyed=!1,this.graph=t,this.destroyed=!1}return t.prototype.getViewCenter=function(){var t=this.getFormatPadding(),e=this.graph,n=this.graph.get("width"),i=e.get("height");return{x:(n-t[1]-t[3])/2+t[3],y:(i-t[0]-t[2])/2+t[0]}},t.prototype.fitCenter=function(){var t=this.graph,e=t.get("group");e.resetMatrix();var n=e.getCanvasBBox();if(0!==n.width&&0!==n.height){var i=this.getViewCenter(),r=n.x+n.width/2,o=n.y+n.height/2;t.translate(i.x-r,i.y-o)}},t.prototype.fitView=function(){var t=this.graph,e=this.getFormatPadding(),n=t.get("width"),i=t.get("height"),r=t.get("group");r.resetMatrix();var o=r.getCanvasBBox();if(0!==o.width&&0!==o.height){var a=this.getViewCenter(),s=o.x+o.width/2,l=o.y+o.height/2;t.translate(a.x-s,a.y-l);var u=(n-e[1]-e[3])/o.width,c=(i-e[0]-e[2])/o.height,h=u;u>c&&(h=c),t.zoom(h,a)||console.warn("zoom failed, ratio out of range, ratio: %f",h)}},t.prototype.fitViewByRules=function(t){var e=t.onlyOutOfViewPort,n=void 0!==e&&e,i=t.direction,r=void 0===i?"both":i,o=t.ratioRule,a=void 0===o?"min":o,s=this.graph,l=this.getFormatPadding(),u=s.get("width"),c=s.get("height"),h=s.get("group");h.resetMatrix();var d=h.getCanvasBBox();if(0!==d.width&&0!==d.height){var f=this.getViewCenter(),p=d.x+d.width/2,g=d.y+d.height/2;s.translate(f.x-p,f.y-g);var v,m=(u-l[1]-l[3])/d.width,y=(c-l[0]-l[2])/d.height;v="x"===r?m:"y"===r?y:"max"===a?Math.max(m,y):Math.min(m,y),n&&(v=v<1?v:1);var b=s.getZoom()*v,x=s.get("minZoom");b<x&&(b=x,console.warn("fitview failed, ratio out of range, ratio: %f",v,"graph minzoom has been used instead")),s.zoomTo(b,f)}},t.prototype.getFormatPadding=function(){var t=this.graph.get("fitViewPadding");return On(t)},t.prototype.focusPoint=function(t,e,n){var i=this,r=this.getViewCenter(),o=this.getPointByCanvas(r.x,r.y),a=this.graph.get("group").getMatrix();if(a||(a=[1,0,0,0,1,0,0,0,1]),e){var s=(o.x-t.x)*a[0],l=(o.y-t.y)*a[4],u=0,c=0,h=0,d=0;this.graph.get("canvas").animate(function(t){h=s*t,d=l*t,i.graph.translate(h-u,d-c),u=h,c=d},Object(f.__assign)({},n))}else this.graph.translate((o.x-t.x)*a[0],(o.y-t.y)*a[4])},t.prototype.getPointByCanvas=function(t,e){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),_e({x:t,y:e},n)},t.prototype.getPointByClient=function(t,e){var n=this.graph.get("canvas").getPointByClient(t,e);return this.getPointByCanvas(n.x,n.y)},t.prototype.getClientByPoint=function(t,e){var n=this.graph.get("canvas"),i=this.getCanvasByPoint(t,e),r=n.getClientByPoint(i.x,i.y);return{x:r.x,y:r.y}},t.prototype.getCanvasByPoint=function(t,e){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),we({x:t,y:e},n)},t.prototype.focus=function(t,e,n){if(M(t)&&(t=this.graph.findById(t)),t){var i=0,r=0;if(t.getType&&"edge"===t.getType()){var o=t.getSource().get("group").getMatrix(),a=t.getTarget().get("group").getMatrix();o&&a?(i=(o[6]+a[6])/2,r=(o[7]+a[7])/2):(o||a)&&(i=o?o[6]:a[6],r=o?o[7]:a[7])}else{var s=t.get("group").getMatrix();s||(s=[1,0,0,0,1,0,0,0,1]),i=s[6],r=s[7]}this.focusPoint({x:i,y:r},e,n)}},t.prototype.changeSize=function(t,e){var n=this.graph;if(!T(t)||!T(e))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:t,height:e}),n.get("canvas").changeSize(t,e),n.get("plugins").forEach(function(t){t.get("gridContainer")&&t.positionInit()})},t.prototype.destroy=function(){this.graph=null,this.destroyed=!1},t}();function Pn(t){"@babel/helpers - typeof";return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rn(t){if("string"!=typeof t)return t;var e=function(t){if("string"!=typeof t)return t;try{return JSON.parse(t.trim())}catch(e){return t.trim()}},n=e(t);if("string"!=typeof n)return n;for(var i=function(t){return t[t.length-1]},r=t.trim(),o=[],a=[],s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.some(function(t){return i(a)===t})},l=null,u=0,c="";u<r.length;){var h=r[u],d=s('"',"'");if(d||h.trim()){var f="\\"===r[u-1],p=s("}"),g=s("]"),v=s(","),m=i(o);if(d)if(i(a)!==h||f)c+=h;else{a.pop();var y=e(c);m.push(y),l=y,c=""}else if(g&&","===h)c&&(m.push(e(c)),c="");else if(p&&":"===h)a.push(","),c&&(m.push(c),c="");else if(v&&","===h)c&&(m.push(e(c)),c=""),a.pop();else if("}"===h&&(p||v)){c&&(m.push(e(c)),c=""),v&&a.pop();for(var b={},x=1;x<m.length;x+=2)b[m[x-1]]=m[x];o.pop(),o.length&&i(o).push(b),a.pop(),l=b}else"]"===h&&g?(c&&(m.push(e(c)),c=""),o.pop(),o.length&&i(o).push(m),a.pop(),l=m):"{"===h?(o.push([]),a.push("}")):"["===h?(o.push([]),a.push("]")):'"'===h?a.push('"'):"'"===h?a.push("'"):c+=h;u+=1}else u+=1}return l||c}var zn=function(t){return t.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},Bn=function(t){return function(e){for(var n=t.length,i=[],r=0,o="";r<n;)if("{"===t[r]&&"{"===t[r+1])i.push(o),o="",r+=2;else if("}"===t[r]&&"}"===t[r+1]){if(i.length){var a=i.pop();o=G(e,o,a.endsWith("=")?'"{'.concat(o,'}"'):o),i.push(a+o)}r+=2,o=""}else o+=t[r],r+=1;return i.push(o),i.map(function(t,e){return i[e-1]&&i[e-1].endsWith("=")?'"{'.concat(t,'}"'):t}).join("")}};function Fn(t,e){var n;void 0===e&&(e={x:0,y:0});var i=Object(f.__assign)({x:0,y:0,width:0,height:0},e);if(null===(n=t.children)||void 0===n?void 0:n.length){var r=t.attrs,o=void 0===r?{}:r,a=o.marginTop,s=Object(f.__assign)({},e);a&&(s.y+=a);for(var l=0;l<t.children.length;l++){t.children[l].attrs.key="".concat(o.key||"root"," -").concat(l," ");var u=Fn(t.children[l],s);if(u.bbox){var c=u.bbox;"inline"===u.attrs.next?s.x+=u.bbox.width:s.y+=u.bbox.height,c.width+c.x>i.width&&(i.width=c.width+c.x),c.height+c.y>i.height&&(i.height=c.height+c.y)}}}return t.bbox=function(t,e,n){var i,r,o=t.attrs,a=void 0===o?{}:o,s={x:e.x||0,y:e.y||0,width:n.width||0,height:n.height||0};switch(t.type){case"maker":case"circle":a.r&&(r=2*a.r,i=2*a.r);break;case"text":a.text&&(r=bn(a.text,a.fontSize||12)[0],i=16,s.y+=i,s.height=i,s.width=r,t.attrs=Object(f.__assign)({fontSize:12,fill:"#000"},a));break;default:a.width&&(r=a.width),a.height&&(i=a.height)}return i>=0&&(s.height=i),r>=0&&(s.width=r),a.marginTop&&(s.y+=a.marginTop),a.marginLeft&&(s.x+=a.marginLeft),s}(t,e,i),t.attrs=Object(f.__assign)(Object(f.__assign)({},t.attrs),t.bbox),t}function Gn(t){var e={},n=function(e){var n="function"==typeof t?t(e):t,i=Bn(n)(e),r=document.createElement("div");r.innerHTML=i;var o=Fn(function t(e,n){var i={},r=e.getAttributeNames&&e.getAttributeNames()||[],o=e.children&&Array.from(e.children).map(function(e){return t(e,n)}),a={},s=e.tagName?e.tagName.toLowerCase():"group";return"text"===s&&(i.text=e.innerText),a.type=s,"img"===s&&(a.type="image"),Array.from(r).forEach(function(t){var n=zn(t),r=e.getAttribute(t);try{if("style"===n||"attrs"===n){var o=Rn(r);i=Object(f.__assign)(Object(f.__assign)({},i),o)}else a[n]=Rn(r)}catch(t){if("style"===n)throw t;a[n]=r}}),a.attrs=i,n&&n.style&&a.name&&"object"===Pn(n.style[a.name])&&(a.attrs=Object(f.__assign)(Object(f.__assign)({},a.attrs),n.style[a.name])),n&&n.style&&a.keyshape&&(a.attrs=Object(f.__assign)(Object(f.__assign)({},a.attrs),n.style)),o.length&&(a.children=o),a}(r.children[0],e));return r.remove(),o};return{draw:function(t,i){var r=n(t),o=i;return function t(e){var n=e.attrs,r=void 0===n?{}:n,a=e.bbox,s=e.type,l=e.children,u=Object(f.__rest)(e,["attrs","bbox","type","children"]);if("group"!==e.type){var c=i.addShape(e.type,Object(f.__assign)({attrs:r,origin:{bbox:a,type:s,children:l}},u));e.keyshape&&(o=c)}e.children&&e.children.forEach(function(e){return t(e)})}(r),e[t.id]=[r],o},update:function(t,i){e[t.id]||(e[t.id]=[]);var r=i.getContainer(),o=r.get("children"),a=n(t),s=function t(e){var n;"group"!==e.type&&r.addShape(e.type,{attrs:e.attrs}),(null===(n=e.children)||void 0===n?void 0:n.length)&&e.children.map(function(e){return t(e)})},l=function t(e){var n,i=o.find(function(t){return t.attrs.key===e.attrs.key});i&&r.removeChild(i),(null===(n=e.children)||void 0===n?void 0:n.length)&&e.children.map(function(e){return t(e)})};!function t(e){var n=e.key;if("group"!==e.type){var r=o.find(function(t){return t.attrs.key===n});switch(e.action){case"change":if(r){var a=e.val.keyshape?i.getOriginStyle():{};r.attr(Object(f.__assign)(Object(f.__assign)({},a),e.val.attrs))}break;case"add":s(e.val);break;case"delete":l(e.val);break;case"restructure":l(e.formerTarget),s(e.nowTarget)}}e.children&&e.children.forEach(function(e){return t(e)})}(function t(e,n){var i,r,o,a,s=(e||{}).type,l=((null===n||void 0===n?void 0:n.attrs)||{}).key;if(l&&e&&(e.attrs.key=l),!e&&n)return{action:"delete",val:n,type:s,key:l};if(e&&!n)return{action:"add",val:e,type:s};if(!e&&!n)return{action:"same",type:s};var u=[];if((null===(i=e.children)||void 0===i?void 0:i.length)>0||(null===(r=n.children)||void 0===r?void 0:r.length)>0)for(var c=Math.max(null===(o=e.children)||void 0===o?void 0:o.length,null===(a=n.children)||void 0===a?void 0:a.length),h=n.children||[],d=e.children||[],f=0;f<c;f+=1)u.push(t(d[f],h[f]));var p=Object.keys(n.attrs),g=Object.keys(e.attrs);return n.type!==e.type?{action:"restructure",nowTarget:e,formerTarget:n,key:l,children:u}:p.filter(function(t){return"children"!==t}).some(function(t){return e.attrs[t]!==n.attrs[t]||!g.includes(t)})?{action:"change",val:e,children:u,type:s,key:l}:{action:"same",children:u,type:s,key:l}}(a,e[t.id].pop())),e[t.id].push(a)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Vn={};function Wn(t){return Vn[t]||(Vn[t]=A(t)),Vn[t]}var Hn={defaultShapeType:"defaultType",className:null,getShape:function(t){return this[t]||this[this.defaultShapeType]||this["simple-circle"]},draw:function(t,e,n){var i=this.getShape(t);n.shapeMap={};var r=i.draw(e,n);return i.afterDraw&&i.afterDraw(e,n,r),r},baseUpdate:function(t,e,n,i){var r,o,a=this.getShape(t);a.update&&(a.mergeStyle=null===(r=a.getOptions)||void 0===r?void 0:r.call(a,e,i),null===(o=a.update)||void 0===o||o.call(a,e,n,i)),a.afterUpdate&&a.afterUpdate(e,n)},setState:function(t,e,n,i){this.getShape(t).setState(e,n,i)},shouldUpdate:function(t){return!!this.getShape(t).update},getControlPoints:function(t,e){return this.getShape(t).getControlPoints(e)},getAnchorPoints:function(t,e){return this.getShape(t).getAnchorPoints(e)}},Un={options:{},draw:function(t,e){return this.drawShape(t,e)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e=this.options.anchorPoints;return t.anchorPoints||e}},Yn=function(){function t(){}return t.registerFactory=function(e,n){var i=Wn(e),r=Hn,o=Object(f.__assign)(Object(f.__assign)({},r),n);return t[i]=o,o.className=i,o},t.getFactory=function(e){return t[Wn(e)]},t.registerNode=function(e,n,i){var r,o=t.Node;if("string"==typeof n||"function"==typeof n){var a=Gn(n);r=Object(f.__assign)(Object(f.__assign)({},o.getShape("single-node")),a)}else if(n.jsx){a=Gn(n.jsx);r=Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},o.getShape("single-node")),a),n)}else{o.getShape(i);var s=i?o.getShape(i):Un;r=Object(f.__assign)(Object(f.__assign)({},s),n)}return r.type=e,r.itemType="node",o[e]=r,r},t.registerEdge=function(e,n,i){var r=t.Edge,o=i?r.getShape(i):Un,a=Object(f.__assign)(Object(f.__assign)({},o),n);return a.type=e,a.itemType="edge",r[e]=a,a},t.registerCombo=function(e,n,i){var r=t.Combo,o=i?r.getShape(i):Un,a=Object(f.__assign)(Object(f.__assign)({},o),n);return a.type=e,a.itemType="combo",r[e]=a,a},t}(),Jn=Yn;Yn.registerFactory("node",{defaultShapeType:"circle"}),Yn.registerFactory("edge",{defaultShapeType:"line"}),Yn.registerFactory("combo",{defaultShapeType:"circle"});var Qn=function(){function t(t){this._cfg={},this.destroyed=!1;var e={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(e,this.getDefaultCfg(),t);var n=this.get("model"),i=n.id,r=this.get("type");i||(i=Tn(r),this.get("model").id=i),this.set("id",i);var o=t.group;o&&(o.set("item",this),o.set("id",i)),this.init(),this.draw();var a=n.shape||n.type||("edge"===r?"line":"circle"),s=this.get("shapeFactory");if(s&&s[a]){var l=s[a].options;if(l&&l.stateStyles){var u=this.get("styles")||n.stateStyles;u=B({},l.stateStyles,u),this.set("styles",u)}}}return t.prototype.calculateBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=dn(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},t.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=dn(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},t.prototype.drawInner=function(){var t=this.get("shapeFactory"),e=this.get("group"),n=this.get("model");e.clear();var i=n.visible;if(void 0===i||i||this.changeVisibility(i),t){this.updatePosition(n);var r=this.getShapeCfg(n),o=r.type,a=t.draw(o,r,e);a&&(this.set("keyShape",a),a.set("isKeyShape",!0),a.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",o),this.restoreStates(t,o)}},t.prototype.setOriginStyle=function(){var t=this.get("group"),e=t.get("children"),n=this,i=this.getKeyShape().get("name");if(this.get("originStyle")){var r=this.get("originStyle");i&&!r[i]&&(r[i]={});var o=this.getCurrentStatesStyle(),a=function(t){var a=e[t],s=a.get("name"),l=a.attr();if(s&&s!==i){var u=o[s];r[s]||(r[s]={}),u?Object.keys(l).forEach(function(t){var e=l[t];e!==u[t]&&(r[s][t]=e)}):r[s]="image"!==a.get("type")?P(l):n.getShapeStyleByName(s)}else{var c=a.attr(),h={};Object.keys(o).forEach(function(t){var e=o[t];t!==i&&_(e)||(h[t]=e)}),Object.keys(c).forEach(function(t){var e=c[t];h[t]!==e&&(i?r[i][t]=e:r[t]=e)})}};for(l=0;l<e.length;l++)a(l);delete r.path,delete r.matrix,delete r.x,delete r.y,r[i]&&(delete r[i].x,delete r[i].y,delete r[i].matrix,delete r[i].path),n.set("originStyle",r)}else{for(var s={},l=0;l<e.length;l++){var u=e[l],c=u.get("type"),h=u.get("name");if(h&&h!==i)s[h]="image"!==c?P(u.attr()):n.getShapeStyleByName(h),"text"===c&&s[h]&&(delete s[h].x,delete s[h].y,delete s[h].matrix);else{var d=n.getShapeStyleByName();if(delete d.path,delete d.matrix,i)if(h)s[i]=d;else{var f=Tn("shape");u.set("name",f),t.shapeMap[f]=u,s[f]="image"!==c?P(u.attr()):n.getShapeStyleByName(h)}else Object.assign(s,d)}}n.set("originStyle",s)}},t.prototype.restoreStates=function(t,e){var n=this,i=n.get("states");x(i,function(i){t.setState(e,i,!0,n)})},t.prototype.init=function(){var t=Jn.getFactory(this.get("type"));this.set("shapeFactory",t)},t.prototype.get=function(t){return this._cfg[t]},t.prototype.set=function(t,e){_(t)?this._cfg=Object(f.__assign)(Object(f.__assign)({},this._cfg),t):this._cfg[t]=e},t.prototype.getDefaultCfg=function(){return{}},t.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null)},t.prototype.beforeDraw=function(){},t.prototype.afterDraw=function(){},t.prototype.afterUpdate=function(){},t.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},t.prototype.getShapeStyleByName=function(t){var e,n=this.get("group");if(e=t?n.shapeMap[t]:this.getKeyShape()){var i={};return x(e.attr(),function(t,e){("img"!==e||M(t))&&(i[e]=t)}),i}return{}},t.prototype.getShapeCfg=function(t,e){var n=this.get("styles");if(n){var i=t;return i.style=Object(f.__assign)(Object(f.__assign)({},n),t.style),i}return t},t.prototype.getStateStyle=function(t){var e=this.get("styles");return e&&e[t]},t.prototype.getOriginStyle=function(){return this.get("originStyle")},t.prototype.getCurrentStatesStyle=function(){var t=this,e={},n=t.getStates();return n&&n.length?(x(t.getStates(),function(n){e=Object.assign(e,t.getStateStyle(n))}),e):this.get("originStyle")},t.prototype.setState=function(t,e){var n=this.get("states"),i=this.get("shapeFactory"),r=t,o=t;M(e)&&(r="".concat(t,":").concat(e),o="".concat(t,":"));var a=n;if(N(e)){var s=n.indexOf(o);if(e){if(s>-1)return;n.push(r)}else s>-1&&n.splice(s,1)}else if(M(e)){var l=n.filter(function(t){return t.includes(o)});l.length>0&&this.clearStates(l),(a=a.filter(function(t){return!t.includes(o)})).push(r),this.set("states",a)}if(i){var u=this.get("model").type;i.setState(u,t,e,this)}},t.prototype.clearStates=function(t){var e=this,n=e.getStates(),i=e.get("shapeFactory"),r=e.get("model").type;t||(t=n),M(t)&&(t=[t]);var o=n.filter(function(e){return-1===t.indexOf(e)});e.set("states",o),t.forEach(function(t){i.setState(r,t,!1,e)})},t.prototype.getContainer=function(){return this.get("group")},t.prototype.getKeyShape=function(){return this.get("keyShape")},t.prototype.getModel=function(){return this.get("model")},t.prototype.getType=function(){return this.get("type")},t.prototype.getID=function(){return this.get("id")},t.prototype.isItem=function(){return!0},t.prototype.getStates=function(){return this.get("states")},t.prototype.hasState=function(t){return this.getStates().indexOf(t)>=0},t.prototype.refresh=function(t){var e=this.get("model");this.updatePosition(e),this.updateShape(t),this.afterUpdate(),this.clearCache()},t.prototype.getUpdateType=function(t){},t.prototype.update=function(t,e){void 0===e&&(e=void 0);var n=this.get("model");if("move"===e)this.updatePosition(t);else{var i=n.visible,r=t.visible;i!==r&&void 0!==r&&this.changeVisibility(r);var o={x:n.x,y:n.y};t.x=isNaN(+t.x)?n.x:+t.x,t.y=isNaN(+t.y)?n.y:+t.y;var a=this.get("styles");if(t.stateStyles)D(a,t.stateStyles),delete t.stateStyles;Object.assign(n,t),o.x===t.x&&o.y===t.y||this.updatePosition(t),this.updateShape(e)}this.afterUpdate(),this.clearCache()},t.prototype.updateShape=function(t){var e=this.get("shapeFactory"),n=this.get("model"),i=n.type;if(e.shouldUpdate(i)&&i===this.get("currentShape")){var r=this.getShapeCfg(n,t);e.baseUpdate(i,r,this,t),"move"!==t&&this.setOriginStyle()}else this.draw();this.restoreStates(e,i)},t.prototype.updatePosition=function(t){var e=this.get("model"),n=isNaN(+t.x)?+e.x:+t.x,i=isNaN(+t.y)?+e.y:+t.y,r=this.get("group");if(isNaN(n)||isNaN(i))return!1;e.x=n,e.y=i;var o=r.getMatrix();return(!o||o[6]!==n||o[7]!==i)&&(r.resetMatrix(),Te(r,{x:n,y:i}),this.clearCache(),!0)},t.prototype.getBBox=function(){var t=this.get("bboxCache");return t||(t=this.calculateBBox(),this.set("bboxCache",t)),t},t.prototype.getCanvasBBox=function(){var t=this.get("bboxCanvasCache");return t||(t=this.calculateCanvasBBox(),this.set("bboxCanvasCache",t)),t},t.prototype.toFront=function(){this.get("group").toFront()},t.prototype.toBack=function(){this.get("group").toBack()},t.prototype.show=function(){this.changeVisibility(!0)},t.prototype.hide=function(){this.changeVisibility(!1)},t.prototype.changeVisibility=function(t){var e=this.get("group");t?e.show():e.hide(),this.set("visible",t)},t.prototype.isVisible=function(){return this.get("visible")},t.prototype.enableCapture=function(t){var e=this.get("group");e&&e.set("capture",t)},t.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),e.shapeMap={},this.clearCache(),e.remove(),this._cfg=null,this.destroyed=!0}},t}(),Zn={source:"start",target:"end"},$n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,e){var n=Zn[t]+"Point",i=t+"Node",r=this.get(i);r&&!r.destroyed&&r.removeEdge(this),_(e)?(this.set(n,e),this.set(i,null)):e&&(e.addEdge(this),this.set(i,e),this.set(n,null))},e.prototype.getLinkPoint=function(t,e,n){var i=Zn[t]+"Point",r=t+"Node",o=this.get(i);if(!o){var a=this.get(r),s=t+"Anchor",l=this.getPrePoint(t,n),u=e[s];m(u)||(o=a.getLinkPointByAnchor(u)),o=o||a.getLinkPoint(l),m(o.index)||this.set("".concat(t,"AnchorIndex"),o.index)}return o},e.prototype.getPrePoint=function(t,e){if(e&&e.length)return e["source"===t?0:e.length-1];var n="source"===t?"target":"source";return this.getEndPoint(n)},e.prototype.getEndPoint=function(t){var e=t+"Node",n=Zn[t]+"Point",i=this.get(e);return i?i.get("model"):this.get(n)},e.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),i=this.get("shapeFactory"),r=t.type;return i.getControlPoints(r,{startPoint:e,endPoint:n})},e.prototype.getEndCenter=function(t){var e=t+"Node",n=Zn[t]+"Point",i=this.get(e);if(i){var r=i.getBBox();return{x:r.centerX,y:r.centerY}}return this.get(n)},e.prototype.init=function(){t.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(e,n){var i=this.get("linkCenter"),r=(null===n||void 0===n?void 0:n.includes("move"))?e:t.prototype.getShapeCfg.call(this,e);if(i)r.startPoint=this.getEndCenter("source"),r.endPoint=this.getEndCenter("target");else{var o=r.controlPoints||this.getControlPointsByCenter(r);r.startPoint=this.getLinkPoint("source",e,o),r.endPoint=this.getLinkPoint("target",e,o)}return r.sourceNode=this.get("sourceNode"),r.targetNode=this.get("targetNode"),r},e.prototype.getModel=function(){var t=this.get("model"),e=this.get("source".concat("Node")),n=this.get("target".concat("Node"));return e?delete t["source".concat("Node")]:t.source=this.get("start".concat("Point")),n?delete t["target".concat("Node")]:t.target=this.get("end".concat("Point")),M(t.source)||_(t.source)||(t.source=t.source.getID()),M(t.target)||_(t.target)||(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){return!1},e.prototype.update=function(t,e){void 0===e&&(e=void 0);var n=this.get("model"),i=n.visible,r=t.visible;i!==r&&void 0!==r&&this.changeVisibility(r);var o=this.get("styles");t.stateStyles&&(D(o,t.stateStyles),delete t.stateStyles);Object.assign(n,t),this.updateShape(e),this.afterUpdate(),this.clearCache()},e.prototype.destroy=function(){var e=this.get("source".concat("Node")),n=this.get("target".concat("Node"));e&&!e.destroyed&&e.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),t.prototype.destroy.call(this)},e}(Qn),Xn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getNearestPoint=function(t,e){for(var n=0,i=t[0],r=Me(t[0],e),o=0;o<t.length;o++){var a=t[o],s=Me(a,e);s<r&&(i=a,r=s,n=o)}return i.anchorIndex=n,i},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},e.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if("target"===t){return n.filter(function(t){return t.getSource()===e}).map(function(t){return t.getTarget()})}if("source"===t){return n.filter(function(t){return t.getTarget()===e}).map(function(t){return t.getSource()})}return n.map(function(t){return t.getSource()===e?t.getTarget():t.getSource()})},e.prototype.getLinkPointByAnchor=function(t){return this.getAnchorPoints()[t]},e.prototype.getLinkPoint=function(t){var e,n,i=this.get("keyShape").get("type"),r=this.get("type"),o=this.getBBox();"combo"===r?(e=o.centerX||(o.maxX+o.minX)/2,n=o.centerY||(o.maxY+o.minY)/2):(e=o.centerX,n=o.centerY);var a,s=this.getAnchorPoints();switch(i){case"circle":a=be({x:e,y:n,r:o.width/2},t);break;case"ellipse":a=xe({x:e,y:n,rx:o.width/2,ry:o.height/2},t);break;default:a=ye(o,t)}var l=a;return s.length&&(l||(l=t),l=this.getNearestPoint(s,l)),l||(l={x:e,y:n}),l},e.prototype.getAnchorPoints=function(){var t=this.get("anchorPointsCache");if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),i=this.get("model"),r=this.getShapeCfg(i),o=i.type,a=e.getAnchorPoints(o,r)||[];x(a,function(e,i){var r={x:n.minX+e[0]*n.width,y:n.minY+e[1]*n.height,anchorIndex:i};t.push(r)}),this.set("anchorPointsCache",t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set("anchorPointsCache",null)},e.prototype.getUpdateType=function(t){var e,n,i,r,o;if(t){var a=!m(t.x),s=!m(t.y),l=Object.keys(t);return 1===l.length&&(a||s)||2===l.length&&a&&s?"move":T(t.x)||T(t.y)||t.type||t.anchorPoints||t.size||(null===t||void 0===t?void 0:t.style)&&((null===(e=null===t||void 0===t?void 0:t.style)||void 0===e?void 0:e.r)||(null===(n=null===t||void 0===t?void 0:t.style)||void 0===n?void 0:n.width)||(null===(i=null===t||void 0===t?void 0:t.style)||void 0===i?void 0:i.height)||(null===(r=null===t||void 0===t?void 0:t.style)||void 0===r?void 0:r.rx)||(null===(o=null===t||void 0===t?void 0:t.style)||void 0===o?void 0:o.ry))?"bbox|label":l.includes("label")||l.includes("labelCfg")?"style|label":"style"}},e}(Qn),Kn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var i=t,r={r:Math.hypot(n.height,n.width)/2||on.defaultCombo.size[0]/2,width:n.width||on.defaultCombo.size[0],height:n.height||on.defaultCombo.size[1]};i.style=Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},e),t.style),r);var o=t.padding||on.defaultCombo.padding;return T(o)?(r.r+=o,r.width+=2*o,r.height+=2*o):(r.r+=o[0],r.width+=o[1]+o[3]||2*o[1],r.height+=o[0]+o[2]||2*o[0]),this.set("sizeCache",r),i}return t},e.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),e=this.get("group"),n=dn(t,e);n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var i=this.get("sizeCache"),r=this.get("bboxCache")||{},o=r.x,a=r.x;if(i)i.width=Math.max(i.width,n.width),i.height=Math.max(i.height,n.height),"circle"===t.get("type")?(n.width=2*i.r,n.height=2*i.r):(n.width=i.width,n.height=i.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2;else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n.x=n.minX,n.y=n.minY,n.x===o&&n.y===a||this.set("anchorPointsCache",null),n}},e.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.addChild=function(t){switch(t.getType()){case"node":this.addNode(t);break;case"combo":this.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){return this.get("combos").push(t),!0},e.prototype.addNode=function(t){return this.get("nodes").push(t),!0},e.prototype.removeChild=function(t){switch(t.getType()){case"node":this.removeNode(t);break;case"combo":this.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(t){var e=this.getCombos(),n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)}},e.prototype.removeNode=function(t){if(t){var e=this.getNodes(),n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)}},e.prototype.getUpdateType=function(t){},e.prototype.getBBox=function(){return this.set("bboxCanvasCache",null),this.calculateCanvasBBox()},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null),this.set("anchorPointsCache",null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),e.shapeMap={},this.clearCache(),this.set("sizeCache",null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},e}(Xn),qn=function(){function t(t){var e=this;this.edgeToBeUpdateMap={},this.throttleRefresh=V(function(t){var n,i=e.graph;if(i&&!i.get("destroyed")){var r=e.edgeToBeUpdateMap;r&&(null===(n=Object.keys(r))||void 0===n?void 0:n.length)&&(Object.keys(r).forEach(function(t){var e=r[t].edge;e&&!e.destroyed&&e.refresh(r[t].updateType)}),e.edgeToBeUpdateMap={})}},16,{trailing:!0,leading:!0}),this.graph=t,this.destroyed=!1}return t.prototype.addItem=function(t,e){var n=this.graph,i="vedge"===t?"edge":t,r=n.get("".concat(i,"Group"))||n.get("group"),o=A(i),a=null,s=n.get(i+A("stateStyles"))||{},l=n.get("default"+o);e.stateStyles&&(s=e.stateStyles),l&&x(l,function(t,n){b(t)&&!y(t)?e[n]=B({},t,e[n]):y(t)?e[n]=e[n]||P(l[n]):e[n]=e[n]||l[n]});var u=n.get(i+"Mapper");if(u){var c=u(e);c.stateStyles&&(s=c.stateStyles,delete c.stateStyles),x(c,function(t,n){b(t)&&!y(t)?e[n]=B({},e[n],t):e[n]=c[n]||e[n]})}if(n.emit("beforeadditem",{type:t,model:e}),"edge"===t||"vedge"===t){var h=void 0,d=void 0;if(h=e.source,d=e.target,h&&M(h)&&(h=n.findById(h)),d&&M(d)&&(d=n.findById(d)),!h||!d)return void console.warn("The source or target node of edge ".concat(e.id," does not exist!"));h.getType&&"combo"===h.getType()&&(e.isComboEdge=!0),d.getType&&"combo"===d.getType()&&(e.isComboEdge=!0),a=new $n({model:e,source:h,target:d,styles:s,linkCenter:n.get("linkCenter"),group:r.addGroup()})}else if("node"===t)a=new Xn({model:e,styles:s,group:r.addGroup()});else if("combo"===t){var f=e.children,p=_n(f,n);isNaN(p.x)?isNaN(e.x)&&(e.x=100*Math.random()):e.x=p.x,isNaN(p.y)?isNaN(e.y)&&(e.y=100*Math.random()):e.y=p.y;var g=r.addGroup();g.setZIndex(e.depth);var v=(a=new Kn({model:e,styles:s,bbox:e.collapsed?_n([],n):p,group:g})).getModel();(f||[]).forEach(function(t){var e=n.findById(t.id);a.addChild(e),t.depth=v.depth+2}),e.collapsed&&setTimeout(function(){a.destroyed||n.collapseCombo(a)},0)}if(a)return n.get("".concat(t,"s")).push(a),n.get("itemMap")[a.get("id")]=a,n.emit("afteradditem",{item:a,model:e}),a},t.prototype.updateItem=function(t,e){var n,i,r=this,o=this.graph;if(M(t)&&(t=o.findById(t)),t&&!t.destroyed){var a="";t.getType&&(a=t.getType());var s=o.get(a+"Mapper"),l=t.getModel(),u=t.getUpdateType(e);if(s){var c=s(B({},l,e)),h=B({},l,c,e);c.stateStyles&&(t.set("styles",h.stateStyles),delete h.stateStyles),x(h,function(t,n){e[n]=t})}else x(e,function(t,n){l[n]&&b(t)&&!y(t)&&(e[n]=Object(f.__assign)(Object(f.__assign)({},l[n]),e[n]))});if(o.emit("beforeupdateitem",{item:t,cfg:e}),"edge"===a){if(e.source){var d=e.source;M(d)&&(d=o.findById(d)),t.setSource(d)}if(e.target){var p=e.target;M(p)&&(p=o.findById(p)),t.setTarget(p)}t.update(e)}if("node"===a||"combo"===a){t.update(e,u);var g=t.getEdges(),v=(null===u||void 0===u?void 0:u.includes("bbox"))||"move"===u;if("node"===a)"move"===u?x(g,function(t){r.edgeToBeUpdateMap[t.getID()]={edge:t,updateType:u},r.throttleRefresh()}):v&&x(g,function(t){t.refresh(u)});else if(v&&"combo"===a){var m=t.get("shapeFactory"),w=l.type||"circle";(void 0===l.animate||void 0===e.animate?null===(i=null===(n=m[w])||void 0===n?void 0:n.options)||void 0===i?void 0:i.animate:l.animate||e.animate)?setTimeout(function(){if(t&&!t.destroyed){var e=t.getKeyShape();e&&!e.destroyed&&x(g,function(t){t&&!t.destroyed&&t.refresh()})}},201):x(g,function(t){t.refresh()})}}o.emit("afterupdateitem",{item:t,cfg:e})}},t.prototype.updateCombo=function(t,e){var n,i,r=this,o=this.graph;if(M(t)&&(t=o.findById(t)),t&&!t.destroyed){var a=t.getModel(),s=_n(e,o,t),l=s.x,u=s.y;t.set("bbox",s),t.update({x:l||a.x,y:u||a.y});var c=t.get("shapeFactory"),h=a.type||"circle";(void 0===a.animate?null===(i=null===(n=c[h])||void 0===n?void 0:n.options)||void 0===i?void 0:i.animate:a.animate)?setTimeout(function(){if(t&&!t.destroyed){var e=t.getKeyShape();e&&!e.destroyed&&(t.getShapeCfg(a),r.updateComboEdges(t))}},201):this.updateComboEdges(t)}},t.prototype.updateComboEdges=function(t){for(var e=t.getEdges()||[],n=0;n<e.length;n++){var i=e[n];if(i&&!i.destroyed){var r=i.get("shapeFactory"),o=i.getShapeCfg(i.getModel()),a=i.getContainer();a.clear();var s=r.draw(o.type,o,a);i.set("keyShape",s),s.set("isKeyShape",!0),s.set("draggable",!0),i.setOriginStyle()}}},t.prototype.collapseCombo=function(t){var e=this.graph;M(t)&&(t=e.findById(t));var n=t.getChildren();n.nodes.forEach(function(t){e.hideItem(t)}),n.combos.forEach(function(t){e.hideItem(t)})},t.prototype.expandCombo=function(t){var e=this.graph;M(t)&&(t=e.findById(t));var n=t.getChildren();n.nodes.forEach(function(t){e.showItem(t)}),n.combos.forEach(function(t){t.getModel().collapsed?t.show():e.showItem(t)})},t.prototype.removeItem=function(t){var e=this,n=this.graph;if(M(t)&&(t=n.findById(t)),t&&!t.destroyed){var i=P(t.getModel());n.emit("beforeremoveitem",{item:i});var r="";t.getType&&(r=t.getType());var o=n.get("".concat(r,"s")),a=o.indexOf(t);if(a>-1&&o.splice(a,1),"edge"===r){var s=n.get("v".concat(r,"s")),l=s.indexOf(t);l>-1&&s.splice(l,1)}var u=t.get("id");delete n.get("itemMap")[u];var c=n.get("comboTrees"),h=t.get("id");if("node"===r){var d=t.getModel().comboId;if(c&&d){var f=c,p=!1;c.forEach(function(t){p||vn(t,function(t){if(t.id===h&&f){var e=f.indexOf(t);return f.splice(e,1),p=!0,!1}return f=t.children,!0})})}for(var g=(b=t.getEdges()).length-1;g>=0;g--)n.removeItem(b[g],!1);d&&n.updateCombo(d)}else if("combo"===r){var v,m=t.getModel().parentId,y=!1;(c||[]).forEach(function(t){y||vn(t,function(t){return t.id!==h||(v=t,y=!0,!1)})}),v.removed=!0,v&&v.children&&v.children.forEach(function(t){e.removeItem(t.id)});var b;for(g=(b=t.getEdges()).length;g>=0;g--)n.removeItem(b[g],!1);m&&n.updateCombo(m)}t.destroy(),n.emit("afterremoveitem",{item:i,type:r})}},t.prototype.setItemState=function(t,e,n){var i=this.graph,r=e;M(n)&&(r="".concat(e,":").concat(n)),t.hasState(r)===n&&n||M(n)&&t.hasState(r)||(i.emit("beforeitemstatechange",{item:t,state:r,enabled:n}),t.setState(e,n),i.autoPaint(),i.emit("afteritemstatechange",{item:t,state:r,enabled:n}))},t.prototype.priorityState=function(t,e){var n=this.graph,i=t;M(t)&&(i=n.findById(t)),this.setItemState(i,e,!1),this.setItemState(i,e,!0)},t.prototype.clearItemStates=function(t,e){var n=this.graph;M(t)&&(t=n.findById(t)),n.emit("beforeitemstatesclear",{item:t,states:e}),t.clearStates(e),n.emit("afteritemstatesclear",{item:t,states:e})},t.prototype.refreshItem=function(t){var e=this.graph;M(t)&&(t=e.findById(t)),e.emit("beforeitemrefresh",{item:t}),t.refresh(),e.emit("afteritemrefresh",{item:t})},t.prototype.addCombos=function(t,e){var n=this,i=this.graph;(t||[]).forEach(function(t){mn(t,function(t){var i;return e.forEach(function(e){e.id===t.id&&(e.children=t.children,e.depth=t.depth,i=e)}),i&&n.addItem("combo",i),!0})});var r=i.get("comboGroup");r&&r.sort()},t.prototype.changeItemVisibility=function(t,e){var n=this,i=this.graph;if(M(t)&&(t=i.findById(t)),t){if(i.emit("beforeitemvisibilitychange",{item:t,visible:e}),t.changeVisibility(e),t.getType&&"node"===t.getType()){var r=t.getEdges();x(r,function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&n.changeItemVisibility(t,e)})}else if(t.getType&&"combo"===t.getType()){var o=i.get("comboTrees"),a=t.get("id"),s=[],l=!1;(o||[]).forEach(function(t){l||t.children&&0!==t.children.length&&vn(t,function(t){return t.id!==a||(s=t.children,l=!0,!1)})}),s&&(!e||e&&!t.getModel().collapsed)&&s.forEach(function(t){var r=i.findById(t.id);n.changeItemVisibility(r,e)});r=t.getEdges();x(r,function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&n.changeItemVisibility(t,e)})}return i.emit("afteritemvisibilitychange",{item:t,visible:e}),t}console.warn("The item to be shown or hidden does not exist!")},t.prototype.destroy=function(){this.graph=null,this.destroyed=!0},t}(),ti=null,ei=function(){function t(t){this.graph=t,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return t.checkCache=function(t,e,n){if(n[e]){var i=n[e].indexOf(t);i>=0&&n[e].splice(i,1)}},t.cacheState=function(t,e,n){n[e]||(n[e]=[]),n[e].push(t)},t.prototype.updateState=function(e,n,i){var r=this,o=t.checkCache,a=t.cacheState;if(!e.destroyed){var s=this.cachedStates,l=s.enabled,u=s.disabled;i?(o(e,n,u),a(e,n,l)):(o(e,n,l),a(e,n,u)),ti&&clearTimeout(ti),ti=setTimeout(function(){ti=null,r.updateGraphStates()},16)}},t.prototype.updateStates=function(t,e,n){var i=this;M(e)?this.updateState(t,e,n):e.forEach(function(e){i.updateState(t,e,n)})},t.prototype.updateGraphStates=function(){var t=this.graph.get("states"),e=this.cachedStates;x(e.disabled,function(e,n){t[n]&&(t[n]=t[n].filter(function(t){return e.indexOf(t)<0&&!e.destroyed}))}),x(e.enabled,function(e,n){if(t[n]){var i={};t[n].forEach(function(t){t.destroyed||(i[t.get("id")]=!0)}),e.forEach(function(e){if(!e.destroyed){var r=e.get("id");i[r]||(i[r]=!0,t[n].push(e))}})}else t[n]=e}),this.graph.emit("graphstatechange",{states:t}),this.cachedStates={enabled:{},disabled:{}}},t.prototype.destroy=function(){this.graph=null,this.cachedStates=null,ti&&clearTimeout(ti),ti=null,this.destroyed=!0},t}(),ni=n("wHEO"),ii=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,function(t,n){if("\\"===t.charAt(0))return t.slice(1);var i=e[n];return 0===i&&(i="0"),i||""}):t},ri=function(t){var e=[];if(t.length<2)throw new Error("point length must largn than 2, now it's ".concat(t.length));for(var n=0,i=t;n<i.length;n++){var r=i[n],o=r.x,a=r.y;e.push(o),e.push(a)}var s=Object(ni.a)(e);return s.unshift(["M",t[0].x,t[0].y]),s},oi=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r={x:(1-n)*t.x+n*e.x,y:(1-n)*t.y+n*e.y},o=[0,0];J.c.normalize(o,[e.x-t.x,e.y-t.y]),o&&(o[0]||o[1])||(o=[0,0]);var a=[-o[1]*i,o[0]*i];return r.x+=a[0],r.y+=a[1],r},ai=function(t,e){var n=t.length;if(!n)return"";for(var i="",r=0;r<n;r++){var o=t[r];i+=ii(0===r?"M{x} {y}":"L{x} {y}",o)}return e&&(i+="Z"),i},si=function(t){var e=[];return t.forEach(function(t){if("A"!==t[0])for(var n=1;n<t.length;n+=2)e.push([t[n],t[n+1]]);else{var i=t.length;e.push([t[i-2],t[i-1]])}}),e},li=function(t){if(t.length<2)throw new Error("point length must largn than 2, now it's ".concat(t.length));var e=t[0],n=t[1],i=t[t.length-1],r=t[t.length-2];t.unshift(i),t.unshift(r),t.push(e),t.push(n);for(var o=[],a=1;a<t.length-2;a+=1){var s=t[a-1].x,l=t[a-1].y,u=t[a].x,c=t[a].y,h=t[a+1].x,d=t[a+1].y,f=u+(h-s)/6,p=c+(d-l)/6,g=h-((a!==t.length-2?t[a+2].x:h)-u)/6,v=d-((a!==t.length-2?t[a+2].y:d)-c)/6;o.push(["C",f,p,g,v,h,d])}return o.unshift(["M",i.x,i.y]),o},ui=function(t,e){return J.c.scale([0,0],J.c.normalize([0,0],t),e)},ci=function(t,e){var n=[t[1]-e[1],e[0]-t[0]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(0===i)throw new Error("p0 should not be equal to p1");return[n[0]/i,n[1]/i]},hi=function(t,e){return[e[0]-t[0],e[1]-t[1]]};function di(t,e){if(!t||t.length<1)return"";if(1===t.length)return function(t){var n=[t[0][0],t[0][1]-e],i=[t[0][0],t[0][1]+e];return"M ".concat(n," A ").concat(e,",").concat(e,",0,0,0,").concat(i," A ").concat(e,",").concat(e,",0,0,0,").concat(n)}(t);if(2===t.length)return function(t){var n=J.c.scale([0,0],ci(t[0],t[1]),e),i=J.c.scale([0,0],n,-1),r=J.c.add([0,0],t[0],n),o=J.c.add([0,0],t[1],n),a=J.c.add([0,0],t[1],i),s=J.c.add([0,0],t[0],i);return"M ".concat(r," L ").concat(o," A ").concat([e,e,"0,0,0",a].join(",")," L ").concat(s," A ").concat([e,e,"0,0,0",r].join(","))}(t);for(var n=new Array(t.length),i=0;i<n.length;++i){var r=0===i?t[t.length-1]:t[i-1],o=t[i],a=J.c.scale([0,0],ci(r,o),e);n[i]=[J.c.add([0,0],r,a),J.c.add([0,0],o,a)]}var s="A ".concat([e,e,"0,0,0,"].join(","));return(n=n.map(function(t,e){var i="";return 0===e&&(i="M ".concat(n[n.length-1][1]," ")),i+="".concat(s+t[0]," L ").concat(t[1])})).join(" ")}function fi(t,e){var n,i,r,o=t.length;if(!t||o<1)return"";if(1===o)return i=[(n=t)[0][0],n[0][1]-e],r=[n[0][0],n[0][1]+e],"M ".concat(i," A ").concat([e,e,"0,0,0",r].join(",")," A ").concat([e,e,"0,0,0",i].join(","));if(2===o)return function(t){var n=hi(t[0],t[1]),i=ui(n,e),r=J.c.add([0,0],t[0],J.c.scale([0,0],i,-1)),o=J.c.add([0,0],t[1],i),a=1.2*e,s=ui(J.c.normalize([0,0],n),a),l=J.c.scale([0,0],s,-1),u=J.c.add([0,0],r,l),c=J.c.add([0,0],o,l),h=J.c.add([0,0],r,s);return"M ".concat(r," C ").concat([u,c,o].join(",")," S ").concat([h,r].join(",")," Z")}(t);for(var a=t.map(function(e,n){var i=t[(n+1)%o];return{p:e,v:J.c.normalize([0,0],hi(e,i))}}),s=0;s<a.length;++s){var l=s>0?s-1:o-1,u=J.c.normalize([0,0],J.c.add([0,0],a[l].v,J.c.scale([0,0],a[s].v,-1)));a[s].p=J.c.add([0,0],a[s].p,J.c.scale([0,0],u,e))}return a.map(function(t){var e=t.p;return{x:e[0],y:e[1]}})}var pi=function(t,e,n){return(t.y-n.y)*(e.x-n.x)-(t.x-n.x)*(e.y-n.y)},gi=function(t){var e=t.map(function(t){return{x:t.getModel().x,y:t.getModel().y}});if(e.sort(function(t,e){return t.x===e.x?t.y-e.y:t.x-e.x}),1===e.length)return e;for(var n=[],i=0;i<e.length;i++){for(;n.length>=2&&pi(n[n.length-2],n[n.length-1],e[i])<=0;)n.pop();n.push(e[i])}var r=[];for(i=e.length-1;i>=0;i--){for(;r.length>=2&&pi(r[r.length-2],r[r.length-1],e[i])<=0;)r.pop();r.push(e[i])}return r.pop(),n.pop(),n.concat(r)},vi={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function mi(t,e,n){var i=!1,r=function(t,n){return e.cells[t+n*e.width]},o=function(t,e){var i=0;return r(t-1,e-1)>=n&&(i+=1),r(t,e-1)>n&&(i+=2),r(t-1,e)>n&&(i+=4),r(t,e)>n&&(i+=8),i},a=function(n,i){for(var r,a,s=n,l=i,u=0;u<e.width*e.height;u++){if(r=s,a=l,t.findIndex(function(t){return t.x===s&&t.y===l})>-1){if(t[0].x===s&&t[0].y===l)return!0}else t.push({x:s,y:l});var c=o(s,l);switch(c){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:s++;break;case 12:case 14:case 4:s--;break;case 6:0===r&&(-1===a?s-=1:s+=1);break;case 1:case 13:case 5:l--;break;case 9:1===r&&(0===a?l-=1:l+=1);break;case 10:case 8:case 11:l++;break;default:return console.warn("Marching squares invalid state: ".concat(c)),!0}}};this.march=function(){for(var t=0;t<e.width&&!i;t+=1)for(var s=0;s<e.height&&!i;s+=1)r(t,s)>n&&15!==o(t,s)&&(i=a(t,s));return i}}var yi=function(t,e,n){var i=null,r=Number.POSITIVE_INFINITY;return e.forEach(function(e){var o={x:t.getModel().x,y:t.getModel().y},a={x:e.getModel().x,y:e.getModel().y},s=We(o,a),l=new Re(o.x,o.y,a.x,a.y),u=n.reduce(function(t,e){return Ge(e,l)>0?t+1:t},0);s*Math.pow(u+1,2)<r&&(i=e,r=s*Math.pow(u+1,2))}),i},bi=function(t,e){var n=Number.POSITIVE_INFINITY,i=null;return t.forEach(function(t){var r=Ge(t,e);r>=0&&r<n&&(i=t,n=r)}),i},xi=function(t,e,n,i){var r=[],o=[];o.push(t);for(var a=!0,s=0,l=function(t,e){var n=!1;return e.forEach(function(e){n||(Ue(t,{x:e.x1,y:e.y1})||Ue(t,{x:e.x2,y:e.y2}))&&(n=!0)}),n},u=function(t,e){for(var n=0,i=e;n<i.length;n++){var r=i[n].getBBox(),o=[[r.x,r.y],[r.x+r.width,r.y],[r.x,r.y+r.height],[r.x+r.width,r.y+r.height]];if(De(o,t.x,t.y))return!0}return!1};a&&s<n;){a=!1;for(var c=function(){var t=o.pop(),n=bi(e,t);if(n){var c=Fe(n,t),h=c[0];if(2===c[1]){var d=function(s){for(var c=i,d=Si(n,c,h,s),f=l(d,o)||l(d,r),p=u(d,e);!f&&p&&c>=1;)d=Si(n,c/=1.5,h,s),f=l(d,o)||l(d,r),p=u(d,e);!d||f||s&&p||(o.push(new Re(t.x1,t.y1,d.x,d.y)),o.push(new Re(d.x,d.y,t.x2,t.y2)),a=!0)};d(!0),a||d(!1)}}a||r.push(t),s+=1};!a&&o.length;)c()}for(;o.length;)r.push(o.pop());return r};var wi=function(t,e,n){var i=Object.assign(vi,n),r=Ve(t.map(function(t){return{x:t.getModel().x,y:t.getModel().y}})),o=[],a=[];(t=t.sort(function(t,e){return We({x:t.getModel().x,y:t.getModel().y},r)-We({x:e.getModel().x,y:e.getModel().y},r)})).forEach(function(t){(function(t,e,n,i,r){var o=yi(t,n,e);if(null===o)return[];var a=new Re(t.getModel().x,t.getModel().y,o.getModel().x,o.getModel().y);return function(t){for(var n=[];t.length>0;){var i=t.pop();if(0===t.length){n.push(i);break}var r=t.pop(),o=new Re(i.x1,i.y1,r.x2,r.y2);bi(e,o)?(n.push(i),t.push(r)):t.push(o)}return n}(xi(a,e,i,r))})(t,e,o,i.maxRoutingIterations,i.morphBuffer).forEach(function(t){a.push(t)}),o.push(t)});for(var s,l,u,c,h,d=function(t,e,n){var i={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},r=[];t.forEach(function(t){r.push(t.getBBox())}),e.forEach(function(t){r.push(t.getBBox())});for(var o=0,a=r;o<a.length;o++){var s=a[o];i.minX=(s.minX<i.minX?s.minX:i.minX)-n,i.minY=(s.minY<i.minY?s.minY:i.minY)-n,i.maxX=(s.maxX>i.maxX?s.maxX:i.maxX)+n,i.maxY=(s.maxY>i.maxY?s.maxY:i.maxY)+n}return i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i.x=i.minX,i.y=i.minY,i}(t,a,i.nodeR0),f=(s=d.width,l=d.height,u=i.pixelGroupSize,c=Math.ceil(s/u),h=Math.ceil(l/u),{cells:new Float32Array(Math.max(0,c*h)).fill(0),width:c,height:h}),p=[],g=[],v=0;v<i.maxMarchingIterations;v++)if(_i(t,e,a,d,f,i),g=[],new mi(p=[],f,i.threshold).march()){var m=p.map(function(t){return{x:Math.round(t.x*i.pixelGroupSize+d.minX),y:Math.round(t.y*i.pixelGroupSize+d.minY)}});if(m){var y=m.length;if(i.skip>1)for(y=Math.floor(m.length/i.skip);y<3&&i.skip>1;)i.skip-=1,y=Math.floor(m.length/i.skip);for(var b=0,x=0;x<y;x+=1,b+=i.skip)g.push({x:m[b].x,y:m[b].y})}if(g&&function(){for(var e=0,n=t;e<n.length;e++){var i=n[e],r=g.map(function(t){return[t.x,t.y]});if(!De(r,i.getBBox().centerX,i.getBBox().centerY))return!1}return!0}())return g;if(i.threshold*=.9,v<=.5*i.maxMarchingIterations)i.memberInfluenceFactor*=1.2,i.edgeInfluenceFactor*=1.2;else{if(!(0!==i.nonMemberInfluenceFactor&&e.length>0))break;i.nonMemberInfluenceFactor*=.8}}return g};function _i(t,e,n,i,r,o){function a(t,e){var n=Math.floor((t-e)/o.pixelGroupSize);return n<0?0:n}function s(t,e){return t*o.pixelGroupSize+e}var l=(o.nodeR0-o.nodeR1)*(o.nodeR0-o.nodeR1),u=(o.edgeR0-o.edgeR1)*(o.edgeR0-o.edgeR1),c=function(t,e){return[Math.min(a(t.minX,e+i.minX),r.width),Math.min(a(t.minY,e+i.minY),r.height),Math.min(a(t.maxX,-e+i.minX),r.width),Math.min(a(t.maxY,-e+i.minY),r.height)]},h=function(t,e){for(var n=t.getBBox(),a=c(n,o.nodeR1),l=a[0],u=a[1],h=a[2],d=a[3],f=u;f<d;f+=1)for(var p=l;p<h;p+=1)if(!(e<0&&r[p+f*r.width]<=0)){var g=s(p,i.minX),v=s(f,i.minY),m=Ye({x:g,y:v},{x:n.minX,y:n.minY,width:n.width,height:n.height});if(m<Math.pow(o.nodeR1,2)){var y=Math.sqrt(m)-o.nodeR1;r.cells[p+f*r.width]+=e*y*y}}};o.nodeInfluenceFactor&&t.forEach(function(t){h(t,o.nodeInfluenceFactor/l)}),o.edgeInfluenceFactor&&n.forEach(function(t){!function(t,e){for(var n=t.getBBox(),a=c(n,o.edgeR1),l=a[0],u=a[1],h=a[2],d=a[3],f=u;f<d;f+=1)for(var p=l;p<h;p+=1)if(!(e<0&&r.cells[p+f*r.width]<=0)){var g=s(p,i.minX),v=s(f,i.minY),m=He({x:g,y:v},t);if(m<Math.pow(o.edgeR1,2)){var y=Math.sqrt(m)-o.edgeR1;r.cells[p+f*r.width]+=e*y*y}}}(t,o.edgeInfluenceFactor/u)}),o.negativeNodeInfluenceFactor&&e.forEach(function(t){h(t,o.negativeNodeInfluenceFactor/l)})}function Si(t,e,n,i){var r=t.getBBox(),o=n[0],a=n[1],s=n[2],l=n[3],u={topLeft:{x:r.minX-e,y:r.minY-e},topRight:{x:r.maxX+e,y:r.minY-e},bottomLeft:{x:r.minX-e,y:r.maxY+e},bottomRight:{x:r.maxX+e,y:r.maxY+e}},c=r.height*r.width;function h(t,e){return r.width*(.5*(t.y-r.minY+(e.y-r.minY)))}if(a)return o?i?u.topLeft:u.bottomRight:s?i?u.bottomLeft:u.topRight:h(a,l)<.5*c?a.y>l.y?i?u.topLeft:u.bottomRight:i?u.topRight:u.bottomLeft:a.y<l.y?i?u.bottomLeft:u.topRight:i?u.bottomRight:u.topLeft;if(l){if(o)return i?u.topRight:u.bottomLeft;if(s)return i?u.bottomRight:u.topLeft}return h(o,s)<.5*c?o.x>s.x?i?u.topLeft:u.bottomRight:i?u.bottomLeft:u.topRight:o.x<s.x?i?u.topRight:u.bottomLeft:i?u.bottomRight:u.topLeft}var Mi=function(){function t(t,e){this.cfg=B(this.getDefaultCfg(),e),this.graph=t,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return M(e)?t.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return M(e)?t.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return t.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},t.prototype.setPadding=function(){var t=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+t:10+t,this.cfg.bubbleCfg={nodeR0:this.padding-t,nodeR1:this.padding-t,morphBuffer:this.padding-t}},t.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),"round-convex"!==this.type&&"smooth-convex"!==this.type&&"bubble"!==this.type&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},t.prototype.calcPath=function(t,e){var n,i,r;switch(this.type){case"round-convex":r=di((n=gi(t)).map(function(t){return[t.x,t.y]}),this.padding),i=Object(ni.b)(r);break;case"smooth-convex":2===(n=gi(t)).length?(r=di(n.map(function(t){return[t.x,t.y]}),this.padding),i=Object(ni.b)(r)):n.length>2&&(r=fi(n.map(function(t){return[t.x,t.y]}),this.padding),i=li(r));break;case"bubble":i=(n=wi(t,e,this.cfg.bubbleCfg)).length>=2&&li(n)}return i},t.prototype.render=function(){this.group.addShape("path",{attrs:Object(f.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},t.prototype.addMember=function(t){if(t){M(t)&&(t=this.graph.findById(t)),this.members.push(t);var e=this.nonMembers.indexOf(t);return e>-1&&this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.addNonMember=function(t){if(t){M(t)&&(t=this.graph.findById(t)),this.nonMembers.push(t);var e=this.members.indexOf(t);return e>-1&&this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.removeMember=function(t){if(t){M(t)&&(t=this.graph.findById(t));var e=this.members.indexOf(t);return e>-1&&(this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.removeNonMember=function(t){if(t){M(t)&&(t=this.graph.findById(t));var e=this.nonMembers.indexOf(t);return e>-1&&(this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.updateData=function(t,e){var n=this;this.group.findById(this.id).remove(),t&&(this.members=t.map(function(t){return M(t)?n.graph.findById(t):t})),e&&(this.nonMembers=e.map(function(t){return M(t)?n.graph.findById(t):t})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.updateStyle=function(t){this.group.findById(this.id).attr(Object(f.__assign)({},t))},t.prototype.updateCfg=function(t){var e=this;this.cfg=B(this.cfg,t),this.id=this.cfg.id,this.group=this.cfg.group,t.members&&(this.members=this.cfg.members.map(function(t){return M(t)?e.graph.findById(t):t})),t.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(t){return M(t)?e.graph.findById(t):t})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.contain=function(t){var e,n,i=this,r=(e=M(t)?this.graph.findById(t):t).getKeyShape();if("path"===e.get("type"))n=si(r.attr("path"));else{var o=r.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(t){var e=i.graph.getPointByCanvas(t[0],t[1]);return[e.x,e.y]}),Pe(n,si(this.path))},t.prototype.destroy=function(){this.group.remove(),this.cfg=null},t}(),Ci=J.a.transform,Ii=function(t){function e(e){var n=t.call(this)||this;return n.cfg=B(n.getDefaultCfg(),e),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new he(n.cfg.maxStep),n.redoStack=new he(n.cfg.maxStep)),n}return Object(f.__extends)(e,t),e.prototype.init=function(){this.initCanvas();var t=new jn(this),e=new In(this),n=new qn(this),i=new ei(this);this.set({viewController:t,modeController:e,itemController:n,stateController:i}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},e.prototype.initGroups=function(){var t=this.get("canvas");if(t){var e=(t.get("el")||{}).id,n=void 0===e?"g6":e,i=t.addGroup({id:"".concat(n,"-root"),className:on.rootContainerClassName});if(this.get("groupByTypes")){var r=i.addGroup({id:"".concat(n,"-edge"),className:on.edgeContainerClassName}),o=i.addGroup({id:"".concat(n,"-node"),className:on.nodeContainerClassName}),a=i.addGroup({id:"".concat(n,"-combo"),className:on.comboContainerClassName});a.toBack(),this.set({nodeGroup:o,edgeGroup:r,comboGroup:a})}var s=i.addGroup({id:"".concat(n,"-delegate"),className:on.delegateContainerClassName});this.set({delegateGroup:s}),this.set("group",i)}},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},e.prototype.set=function(t,e){return _(t)?this.cfg=Object(f.__assign)(Object(f.__assign)({},this.cfg),t):this.cfg[t]=e,this},e.prototype.get=function(t){var e;return null===(e=this.cfg)||void 0===e?void 0:e[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,e){M(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e),this.get("stateController").updateStates(t,e,!1)},e.prototype.node=function(t){"function"==typeof t&&this.set("nodeMapper",t)},e.prototype.edge=function(t){"function"==typeof t&&this.set("edgeMapper",t)},e.prototype.combo=function(t){"function"==typeof t&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,e){var n,i=this.get("".concat(t,"s"));return x(i,function(t,i){if(e(t,i))return n=t}),n},e.prototype.findAll=function(t,e){var n=[];return x(this.get("".concat(t,"s")),function(t,i){e(t,i)&&n.push(t)}),n},e.prototype.findAllByState=function(t,e){return this.findAll(t,function(t){return t.hasState(e)})},e.prototype.getAnimateCfgWithCallback=function(t){var e,n=t.animateCfg,i=t.callback;if(n)if(e=P(n),n.callback){var r=n.callback;e.callback=function(){i(),r()}}else e.callback=i;else e={duration:500,callback:i};return e},e.prototype.translate=function(t,e,n,i){var r=this,o=this.get("group"),a=P(o.getMatrix());if(a||(a=[1,0,0,0,1,0,0,0,1]),n){var s=this.getAnimateCfgWithCallback({animateCfg:i,callback:function(){return r.emit("viewportchange",{action:"translate",matrix:o.getMatrix()})}});Oe(o,{x:o.getCanvasBBox().x+t,y:o.getCanvasBBox().y+e},n,s||{duration:500,easing:"easeCubic"})}else a=Ci(a,[["t",t,e]]),o.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:a}),this.autoPaint()},e.prototype.moveTo=function(t,e,n,i){var r=this.get("group");Oe(r,{x:t,y:e},n,i||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:r.getMatrix()})},e.prototype.fitView=function(t,e){t&&this.set("fitViewPadding",t);var n=this.get("viewController");e?n.fitViewByRules(e):n.fitView(),this.autoPaint()},e.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},e.prototype.addBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!0),this},e.prototype.removeBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!1),this},e.prototype.updateBehavior=function(t,e,n){return this.get("modeController").updateBehavior(t,e,n),this},e.prototype.zoom=function(t,e,n,i){var r=this,o=this.get("group"),a=P(o.getMatrix()),s=this.get("minZoom"),l=this.get("maxZoom");if(a||(a=[1,0,0,0,1,0,0,0,1]),a=Ci(a,e?[["t",-e.x,-e.y],["s",t,t],["t",e.x,e.y]]:[["s",t,t]]),s&&a[0]<s||l&&a[0]>l)return!1;if(n){var u=P(o.getMatrix());u||(u=[1,0,0,0,1,0,0,0,1]);var c=u[0],h=c*t,d=this.getAnimateCfgWithCallback({animateCfg:i,callback:function(){return r.emit("viewportchange",{action:"zoom",matrix:o.getMatrix()})}});o.animate(function(t){if(1===t)u=a;else{var n=Qe(c,h,t)/u[0];u=Ci(u,e?[["t",-e.x,-e.y],["s",n,n],["t",e.x,e.y]]:[["s",n,n]])}return{matrix:u}},d)}else o.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint();return!0},e.prototype.zoomTo=function(t,e,n,i){var r=t/this.getZoom();return this.zoom(r,e,n,i)},e.prototype.focusItem=function(t,e,n){var i=this.get("viewController"),r=!1;e?r=!0:void 0===e&&(r=this.get("animate"));var o={};n?o=n:void 0===n&&(o=this.get("animateCfg")),i.focus(t,r,o),this.autoPaint()},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,e){return this.get("viewController").getPointByClient(t,e)},e.prototype.getClientByPoint=function(t,e){return this.get("viewController").getClientByPoint(t,e)},e.prototype.getPointByCanvas=function(t,e){return this.get("viewController").getPointByCanvas(t,e)},e.prototype.getCanvasByPoint=function(t,e){return this.get("viewController").getCanvasByPoint(t,e)},e.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},e.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},e.prototype.showItem=function(t,e){void 0===e&&(e=!0);var n=this.get("itemController").changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var i=n.getID(),r={},o={};switch(n.getType()){case"node":r.nodes=[{id:i,visible:!1}],o.nodes=[{id:i,visible:!0}];break;case"edge":r.nodes=[{id:i,visible:!1}],o.edges=[{id:i,visible:!0}];break;case"combo":r.nodes=[{id:i,visible:!1}],o.combos=[{id:i,visible:!0}]}this.pushStack("visible",{before:r,after:o})}},e.prototype.hideItem=function(t,e){void 0===e&&(e=!0);var n=this.get("itemController").changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var i=n.getID(),r={},o={};switch(n.getType()){case"node":r.nodes=[{id:i,visible:!0}],o.nodes=[{id:i,visible:!1}];break;case"edge":r.nodes=[{id:i,visible:!0}],o.edges=[{id:i,visible:!1}];break;case"combo":r.nodes=[{id:i,visible:!0}],o.combos=[{id:i,visible:!1}]}this.pushStack("visible",{before:r,after:o})}},e.prototype.refreshItem=function(t){this.get("itemController").refreshItem(t)},e.prototype.setAutoPaint=function(t){this.set("autoPaint",t),this.get("canvas").set("autoDraw",t)},e.prototype.remove=function(t,e){void 0===e&&(e=!0),this.removeItem(t,e)},e.prototype.removeItem=function(t,e){void 0===e&&(e=!0);var n=t;if(M(t)&&(n=this.findById(t)),!n&&M(t))console.warn("The item to be removed does not exist!");else if(n){var i="";if(n.getType&&(i=n.getType()),e&&this.get("enabledStack")){var r=Object(f.__assign)(Object(f.__assign)({},n.getModel()),{itemType:i}),o={};switch(i){case"node":o.nodes=[r],o.edges=[];for(var a=n.getEdges(),s=a.length-1;s>=0;s--)o.edges.push(Object(f.__assign)(Object(f.__assign)({},a[s].getModel()),{itemType:"edge"}));break;case"edge":o.edges=[r];break;case"combo":o.combos=[r]}this.pushStack("delete",{before:o,after:{}})}if("node"===i)n.getModel().comboId&&this.updateComboTree(n,void 0,!1);if(this.get("itemController").removeItem(n),"combo"===i){var l=wn(this.get("comboTrees"));this.set("comboTrees",l)}}},e.prototype.addItem=function(t,e,n,i){void 0===n&&(n=!0),void 0===i&&(i=!0);var r=this.get("comboSorted");this.set("comboSorted",r&&!i);var o=this.get("itemController");if(!function(t,e){if("node"===t||"combo"===t){if(e.id&&!M(e.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(e.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if(!("edge"!==t||e.source&&e.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0}(t,e))return!1;if(!e.id||!this.findById(e.id)){var a,s=this.get("comboTrees");if(s||(s=[]),"combo"===t){var l=this.get("itemMap"),u=!1;if(s.forEach(function(n){u||mn(n,function(n){if(e.parentId===n.id){u=!0;var i=Object(f.__assign)({id:e.id,depth:n.depth+2},e);n.children?n.children.push(i):n.children=[i],e.depth=i.depth,a=o.addItem(t,e)}var r=l[n.id];return u&&r&&r.getType&&"combo"===r.getType()&&o.updateCombo(r,n.children),!0})}),!u){var c=Object(f.__assign)({id:e.id,depth:0},e);e.depth=c.depth,s.push(c),a=o.addItem(t,e)}this.set("comboTrees",s)}else if("node"===t&&M(e.comboId)&&s){var h;(h=this.findById(e.comboId))&&h.getType&&"combo"!==h.getType()&&console.warn("'".concat(e.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),a=o.addItem(t,e);var d=this.get("itemMap"),p=!1,g=!1;(s||[]).forEach(function(t){g||p||mn(t,function(t){if(t.id===e.id)return g=!0,!1;if(e.comboId===t.id&&!g){p=!0;var n=P(e);n.itemType="node",t.children?t.children.push(n):t.children=[n],n.depth=t.depth+1}return p&&d[t.id].getType&&"combo"===d[t.id].getType()&&o.updateCombo(d[t.id],t.children),!0})})}else a=o.addItem(t,e);if("node"===t&&e.comboId||"combo"===t&&e.parentId)(h=this.findById(e.comboId||e.parentId))&&h.getType&&"combo"===h.getType()&&h.addChild(a);var v=this.get("combos");if(v&&v.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var m=Object(f.__assign)(Object(f.__assign)({},a.getModel()),{itemType:t}),y={};switch(t){case"node":y.nodes=[m];break;case"edge":y.edges=[m];break;case"combo":y.combos=[m]}this.pushStack("add",{before:{},after:y})}return a}console.warn("This item exists already. Be sure the id %c".concat(e.id,"%c is unique."),"font-size: 20px; color: red;","")},e.prototype.add=function(t,e,n,i){return void 0===n&&(n=!0),void 0===i&&(i=!0),this.addItem(t,e,n,i)},e.prototype.updateItem=function(t,e,n){var i=this;void 0===n&&(n=!0);var r,o=this.get("itemController");r=M(t)?this.findById(t):t;var a=P(r.getModel()),s="";r.getType&&(s=r.getType());var l=Object(f.__spreadArray)([],r.getStates(),!0);if("combo"===s&&x(l,function(t){return i.setItemState(r,t,!1)}),o.updateItem(r,e),"combo"===s&&x(l,function(t){return i.setItemState(r,t,!0)}),n&&this.get("enabledStack")){var u={nodes:[],edges:[],combos:[]},c={nodes:[],edges:[],combos:[]},h=Object(f.__assign)({id:a.id},e);switch(s){case"node":u.nodes.push(a),c.nodes.push(h);break;case"edge":u.edges.push(a),c.edges.push(h);break;case"combo":u.combos.push(a),c.combos.push(h)}"node"===s&&u.nodes.push(a),this.pushStack("update",{before:u,after:c})}},e.prototype.update=function(t,e,n){void 0===n&&(n=!0),this.updateItem(t,e,n)},e.prototype.setItemState=function(t,e,n){M(t)&&(t=this.findById(t)),this.get("itemController").setItemState(t,e,n);var i=this.get("stateController");M(n)?i.updateState(t,"".concat(e,":").concat(n),!0):i.updateState(t,e,n)},e.prototype.priorityState=function(t,e){this.get("itemController").priorityState(t,e)},e.prototype.data=function(t){Cn(t),this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,i=void 0===n?[]:n,r=e.edges,o=void 0===r?[]:r,a=e.combos,s=void 0===a?[]:a;if(this.clear(!0),this.emit("beforerender"),x(i,function(e){t.add("node",e,!1,!1)}),s&&0!==s.length){var l=xn(s,i);this.set("comboTrees",l),t.addCombos(s)}x(o,function(e){t.add("edge",e,!1,!1)});var u=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var c=t.get("layoutController");if(c){if(c.layout(function(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter();t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",u)}),this.destroyed)return}else t.get("fitView")&&t.fitView(),t.get("fitCenter")&&t.fitCenter(),t.emit("afterrender"),t.set("animate",u);this.get("groupByTypes")||(s&&0!==s.length?this.sortCombos():e.nodes&&e.edges&&e.nodes.length<e.edges.length?this.getNodes().forEach(function(t){t.toFront()}):this.getEdges().forEach(function(t){t.toBack()}));this.get("enabledStack")&&this.pushStack("render")},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,e,n){var i,r=this,o=this.get("itemMap");x(n,function(n){if(i=o[n.id]){if(r.get("animate")&&"node"===t){var a=i.getContainer().getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),i.set("originAttrs",{x:a[6],y:a[7]})}r.updateItem(i,n,!1)}else i=r.addItem(t,n,!1);i&&e["".concat(t,"s")].push(i)})},e.prototype.changeData=function(t,e){void 0===e&&(e=!0);var n=this;if(!Cn(t))return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(t){return n.clearItemStates(t)}),this.getEdges().map(function(t){return n.clearItemStates(t)});var i=this.get("canvas"),r=i.get("localRefresh");i.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var o=this.get("itemMap"),a={nodes:[],edges:[]},s=t.combos;if(s){var l=xn(s,t.nodes);this.set("comboTrees",l)}else this.set("comboTrees",[]);this.diffItems("node",a,t.nodes),x(o,function(t,e){o[e].getModel().depth=0,t.getType&&"edge"===t.getType()||(t.getType&&"combo"===t.getType()?(delete o[e],t.destroy()):a.nodes.indexOf(t)<0&&(delete o[e],n.remove(t,!1)))});for(var u=this.getCombos(),c=u.length-1;c>=0;c--)u[c].destroyed&&u.splice(c,1);s&&(n.addCombos(s),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",a,t.edges),x(o,function(t,e){(!t.getType||"node"!==t.getType()&&"combo"!==t.getType())&&a.edges.indexOf(t)<0&&(delete o[e],n.remove(t,!1))}),this.set({nodes:a.nodes,edges:a.edges});var h=this.get("layoutController");return h&&(h.changeData(),n.get("animate")&&!h.getLayoutType()?n.positionsAnimate():n.autoPaint()),setTimeout(function(){i.set("localRefresh",r)},16),this},e.prototype.addCombos=function(t){var e=this.get("comboTrees");this.get("itemController").addCombos(e,t)},e.prototype.createCombo=function(t,e){var n=this;this.set("comboSorted",!1);var i,r="";if(t){if(M(t))r=t,i={id:t};else{if(!(r=t.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");i=t}var o=e.map(function(t){var e=n.findById(t),i=e.getModel(),o="";e.getType&&(o=e.getType());var a={id:e.getID(),itemType:o};return"combo"===o?(a.parentId=r,i.parentId=r):"node"===o&&(a.comboId=r,i.comboId=r),a});i.children=o,this.addItem("combo",i,!1),this.set("comboSorted",!1);var a=this.get("comboTrees");(a||[]).forEach(function(t){mn(t,function(t){return t.id!==r||(t.itemType="combo",t.children=o,!1)})}),a&&this.sortCombos()}},e.prototype.uncombo=function(t){var e,n=this,i=t;if(M(t)&&(i=this.findById(t)),!i||i.getType&&"combo"!==i.getType())console.warn("The item is not a combo!");else{var r=i.getModel().parentId,o=this.get("comboTrees");o||(o=[]);var a,s=this.get("itemMap"),l=i.get("id"),u=[],c=this.get("combos"),h=this.findById(r);if(o.forEach(function(t){a||mn(t,function(t){var e;if(t.id===l){a=t,i.getEdges().forEach(function(t){n.removeItem(t,!1)});var o=c.indexOf(i);c.splice(o,1),delete s[l],i.destroy(),n.emit("afterremoveitem",{item:i,type:"combo"})}return!r||!a||t.id!==r||(h.removeCombo(i),-1!==(o=(u=t.children).indexOf(a))&&u.splice(o,1),null===(e=a.children)||void 0===e||e.forEach(function(t){var e=n.findById(t.id),i=e.getModel();e.getType&&"combo"===e.getType()?(t.parentId=r,delete t.comboId,i.parentId=r,delete i.comboId):e.getType&&"node"===e.getType()&&(t.comboId=r,i.comboId=r),h.addChild(e),u.push(t)}),!1)})}),!r&&a){var d=o.indexOf(a);o.splice(d,1),null===(e=a.children)||void 0===e||e.forEach(function(t){t.parentId=void 0;var e=n.findById(t.id).getModel();delete e.parentId,delete e.comboId,"node"!==t.itemType&&o.push(t)})}}},e.prototype.updateCombos=function(){var t=this,e=this.get("comboTrees"),n=this.get("itemController"),i=this.get("itemMap");(e||[]).forEach(function(e){mn(e,function(e){if(!e)return!0;var r=i[e.id];if(r&&r.getType&&"combo"===r.getType()){var o=Object(f.__spreadArray)([],r.getStates(),!0);x(o,function(e){return t.setItemState(r,e,!1)}),n.updateCombo(r,e.children),x(o,function(e){return t.setItemState(r,e,!0)})}return!0})}),this.sortCombos()},e.prototype.updateCombo=function(t){var e,n=this,i=t;if(M(t)&&(i=this.findById(t)),!i||i.getType&&"combo"!==i.getType())console.warn("The item to be updated is not a combo!");else{e=i.get("id");var r=this.get("comboTrees"),o=this.get("itemController"),a=this.get("itemMap");(r||[]).forEach(function(t){mn(t,function(t){if(!t)return!0;var i=a[t.id];if(e===t.id&&i&&i.getType&&"combo"===i.getType()){var r=Object(f.__spreadArray)([],i.getStates(),!0);x(r,function(t){i.getStateStyle(t)&&n.setItemState(i,t,!1)}),o.updateCombo(i,t.children),x(r,function(t){i.getStateStyle(t)&&n.setItemState(i,t,!0)}),e&&(e=t.parentId)}return!0})})}},e.prototype.updateComboTree=function(t,e,n){void 0===n&&(n=!0);var i;this.set("comboSorted",!1);var r,o=(i=M(t)?this.findById(t):t).getModel(),a=o.comboId||o.parentId,s="";if(i.getType&&(s=i.getType()),e&&"combo"===s){var l,u=!0;if((this.get("comboTrees")||[]).forEach(function(t){l||vn(t,function(t){if(!l)return t.id===i.getID()&&(l=t),!0})}),vn(l,function(t){return t.id!==e||(u=!1,!1)}),!u)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(n&&this.get("enabledStack")){var c={},h={};"combo"===s?(c.combos=[{id:o.id,parentId:o.parentId}],h.combos=[{id:o.id,parentId:e}]):"node"===s&&(c.nodes=[{id:o.id,parentId:o.comboId}],h.nodes=[{id:o.id,parentId:e}]),this.pushStack("updateComboTree",{before:c,after:h})}if(o.parentId||o.comboId){var d=this.findById(o.parentId||o.comboId);d&&d.removeChild(i)}("combo"===s?o.parentId=e:"node"===s&&(o.comboId=e),e)&&((r=this.findById(e))&&r.addChild(i));a&&((r=this.findById(a))&&r.removeChild(i));var f=wn(this.get("comboTrees"),o.id,e);this.set("comboTrees",f),this.updateCombos()},e.prototype.save=function(){var t=[],e=[],n=[];return x(this.get("nodes"),function(e){t.push(e.getModel())}),x(this.get("edges"),function(t){e.push(t.getModel())}),x(this.get("combos"),function(t){n.push(t.getModel())}),{nodes:t,edges:e,combos:n}},e.prototype.changeSize=function(t,e){return this.get("viewController").changeSize(t,e),this},e.prototype.refresh=function(){if(this.emit("beforegraphrefresh"),this.get("animate"))this.positionsAnimate();else{var t=this.get("nodes"),e=this.get("edges"),n=this.get("edges");x(t,function(t){t.refresh()}),x(e,function(t){t.refresh()}),x(n,function(t){t.refresh()})}this.emit("aftergraphrefresh"),this.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if(M(t)&&(t=this.findById(t)),t&&(!t.getType||"combo"===t.getType()))return t.getChildren();console.warn("The combo does not exist!")},e.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),n=e.onFrame,i=t.getNodes(),r=i.map(function(t){var e=t.getModel();return{id:e.id,x:e.x,y:e.y}});t.isAnimating()&&t.stopAnimate(),t.get("canvas").animate(function(e){x(r,function(i){var r=t.findById(i.id);if(r&&!r.destroyed){var o=r.get("originAttrs"),a=r.get("model");if(!o){var s=r.getContainer().getMatrix();s||(s=[1,0,0,0,1,0,0,0,1]),o={x:s[6],y:s[7]},r.set("originAttrs",o)}if(n){var l=n(r,e,i,o);r.set("model",Object.assign(a,l))}else a.x=o.x+(i.x-o.x)*e,a.y=o.y+(i.y-o.y)*e}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){x(i,function(t){t.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},e.prototype.refreshPositions=function(){this.emit("beforegraphrefreshposition");var t,e=this.get("nodes"),n=this.get("edges"),i=this.get("vedges"),r=this.get("combos"),o={};x(e,function(e){t=e.getModel();var n=e.get("originAttrs");if(!n||t.x!==n.x||t.y!==n.y){var i=e.updatePosition({x:t.x,y:t.y});o[t.id]=i,t.comboId&&(o[t.comboId]=o[t.comboId]||i)}}),r&&0!==r.length&&this.updateCombos(),x(n,function(t){var e=t.getSource().getModel(),n=t.getTarget();if(!_(n)){var i=n.getModel();(o[e.id]||o[i.id]||t.getModel().isComboEdge)&&t.refresh()}}),x(i,function(t){t.refresh()}),this.emit("aftergraphrefreshposition"),this.autoPaint()},e.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},e.prototype.setMode=function(t){return this.get("modeController").setMode(t),this},e.prototype.clear=function(t){var e;return void 0===t&&(t=!1),null===(e=this.get("canvas"))||void 0===e||e.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},e.prototype.updateLayout=function(t,e,n){var i=this,r=this.get("layoutController");if(M(t)&&(t={type:t}),e){var o=n;o||(o="begin"===e?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),o=this.getPointByCanvas(o.x,o.y);var a=["force","gForce","fruchterman"];a.includes(t.type)||!t.type&&a.includes(null===r||void 0===r?void 0:r.layoutType)?t.center=[o.x,o.y]:this.once("afterlayout",function(t){var n=i.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];o.x=o.x*n[0]+n[6],o.y=o.y*n[0]+n[7];var r=i.getGroup().getCanvasBBox(),a=r.minX,s=r.maxX,l=r.minY,u={x:(a+s)/2,y:(l+r.maxY)/2};"begin"===e&&(u.x=a,u.y=l),i.translate(o.x-u.x,o.y-u.y)})}var s=this.get("layout"),l={};Object.assign(l,s,t),this.set("layout",l),r.isLayoutTypeSame(l)&&l.gpuEnabled===s.gpuEnabled?r.updateLayoutCfg(l):r.changeLayout(l)},e.prototype.destroyLayout=function(){this.get("layoutController").destroyLayout()},e.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");e&&t&&(e.workerEnabled?t.layout():t.layoutMethod?t.relayout(!0):t.layout())},e.prototype.collapseCombo=function(t){var e=this;if(M(t)&&(t=this.findById(t)),t){this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var n=t.getModel();this.get("itemController").collapseCombo(t),n.collapsed=!0;var i=this.getEdges().concat(this.get("vedges")),r=[],o=[],a=!1;(this.get("comboTrees")||[]).forEach(function(t){a||vn(t,function(t){if(a&&t.depth<=n.depth)return!1;if(n.id===t.id&&(a=!0),a){var i=e.findById(t.id);i&&i.getType&&"combo"===i.getType()&&(r=r.concat(i.getNodes()),o=o.concat(i.getCombos()))}return!0})});var s={},l=[];i.forEach(function(t){if(!t.isVisible()||t.getModel().isVEdge){var i=t.getSource(),a=t.getTarget();if((r.includes(i)||o.includes(i))&&!r.includes(a)&&!o.includes(a)||i.getModel().id===n.id){if((d=t.getModel()).isVEdge)return void e.removeItem(t,!1);for(var u=a.getModel();!a.isVisible();){if(!(a=e.findById(u.parentId||u.comboId))||!u.parentId&&!u.comboId)return;u=a.getModel()}var c=u.id;if(s["".concat(n.id,"-").concat(c)])return void(s["".concat(n.id,"-").concat(c)]+=d.size||1);var h=e.addItem("vedge",{source:n.id,target:c,isVEdge:!0},!1);s["".concat(n.id,"-").concat(c)]=d.size||1,l.push(h)}else if(!r.includes(i)&&!o.includes(i)&&(r.includes(a)||o.includes(a))||a.getModel().id===n.id){var d;if((d=t.getModel()).isVEdge)return void e.removeItem(t,!1);for(var f=i.getModel();!i.isVisible();){if(!(i=e.findById(f.parentId||f.comboId))||!f.parentId&&!f.comboId)return;f=i.getModel()}var p=f.id;if(s["".concat(p,"-").concat(n.id)])return void(s["".concat(p,"-").concat(n.id)]+=d.size||1);h=e.addItem("vedge",{target:n.id,source:p,isVEdge:!0},!1);s["".concat(p,"-").concat(n.id)]=d.size||1,l.push(h)}}}),l.forEach(function(t){var n=t.getModel();e.updateItem(t,{size:s["".concat(n.source,"-").concat(n.target)]},!1)}),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})}else console.warn("The combo to be collapsed does not exist!")},e.prototype.expandCombo=function(t){var e=this;if(M(t)&&(t=this.findById(t)),!t||t.getType&&"combo"!==t.getType())console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var n=t.getModel();this.get("itemController").expandCombo(t),n.collapsed=!1;var i=this.getEdges().concat(this.get("vedges")),r=[],o=[],a=!1;(this.get("comboTrees")||[]).forEach(function(t){a||vn(t,function(t){if(a&&t.depth<=n.depth)return!1;if(n.id===t.id&&(a=!0),a){var i=e.findById(t.id);i&&i.getType&&"combo"===i.getType()&&(r=r.concat(i.getNodes()),o=o.concat(i.getCombos()))}return!0})});var s={},l={};i.forEach(function(t){if(!t.isVisible()||t.getModel().isVEdge){var i=t.getSource(),a=t.getTarget(),u=i.get("id"),c=a.get("id");if((r.includes(i)||o.includes(i))&&!r.includes(a)&&!o.includes(a)||u===n.id){if(t.getModel().isVEdge)return void e.removeItem(t,!1);for(var h=a.getModel();!a.isVisible();){if(!(a=e.findById(h.comboId||h.parentId))||!h.parentId&&!h.comboId)return;h=a.getModel()}c=h.id;for(var d=i.getModel();!i.isVisible();){if(!(i=e.findById(d.comboId||d.parentId))||!d.parentId&&!d.comboId)return;if(d.comboId===n.id||d.parentId===n.id)break;d=i.getModel()}if(u=d.id,c){var f="".concat(u,"-").concat(c);if(s[f])return s[f]+=t.getModel().size||1,void e.updateItem(l[f],{size:s[f]},!1);var p=e.addItem("vedge",{source:u,target:c,isVEdge:!0},!1);s[f]=t.getModel().size||1,l[f]=p}}else if(!r.includes(i)&&!o.includes(i)&&(r.includes(a)||o.includes(a))||c===n.id){if(t.getModel().isVEdge)return void e.removeItem(t,!1);for(d=i.getModel();!i.isVisible();){if(!(i=e.findById(d.comboId||d.parentId))||!d.parentId&&!d.comboId)return;d=i.getModel()}u=d.id;for(h=a.getModel();!a.isVisible();){if(!(a=e.findById(h.comboId||h.parentId))||!h.parentId&&!h.comboId)return;if(h.comboId===n.id||h.parentId===n.id)break;h=a.getModel()}if(c=h.id,u){f="".concat(u,"-").concat(c);if(s[f])return s[f]+=t.getModel().size||1,void e.updateItem(l[f],{size:s[f]},!1);p=e.addItem("vedge",{target:c,source:u,isVEdge:!0},!1);s[f]=t.getModel().size||1,l[f]=p}}else(r.includes(i)||o.includes(i))&&(r.includes(a)||o.includes(a))&&i.isVisible()&&a.isVisible()&&t.show()}}),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})}},e.prototype.collapseExpandCombo=function(t){if(M(t)&&(t=this.findById(t)),t&&(!t.getType||"combo"===t.getType())){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var i=n.getModel();if(i.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(n=void 0);n=this.findById(i.parentId)}e.collapsed?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},e.prototype.sortCombos=function(){var t=this;if(!this.get("comboSorted")){this.set("comboSorted",!0);var e=[],n={};(this.get("comboTrees")||[]).forEach(function(t){vn(t,function(t){return e[t.depth]?e[t.depth].push(t.id):e[t.depth]=[t.id],n[t.id]=t.depth,!0})}),(this.getEdges().concat(this.get("vedges"))||[]).forEach(function(t){var i=t.getModel(),r=n[i.source]||0,o=n[i.target]||0,a=Math.max(r,o);e[a]?e[a].push(i.id):e[a]=[i.id]}),e.forEach(function(e){if(e&&e.length)for(var n=e.length-1;n>=0;n--){var i=t.findById(e[n]);i&&i.toFront()}})}},e.prototype.getNeighbors=function(t,e){var n=t;return M(t)&&(n=this.findById(t)),n.getNeighbors(e)},e.prototype.getNodeDegree=function(t,e,n){void 0===e&&(e=void 0),void 0===n&&(n=!1);var i=t;M(t)&&(i=this.findById(t));var r=this.get("degrees");r&&!n||(r=st(this.save()),this.set("degrees",r));var o=r[i.getID()],a=0;if(!o)return 0;switch(e){case"in":a=o.inDegree;break;case"out":a=o.outDegree;break;case"all":a=o;break;default:a=o.degree}return a},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},e.prototype.pushStack=function(t,e,n){if(void 0===t&&(t="update"),void 0===n&&(n="undo"),this.get("enabledStack")){var i=e?P(e):{before:{},after:P(this.save())};"redo"===n?this.redoStack.push({action:t,data:i}):this.undoStack.push({action:t,data:i}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("请先启用 undo & redo 功能，在实例化 Graph 时候配置 enabledStack: true !")},e.prototype.getAdjMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var n=this.get("adjMatrix");return n&&t||(n=Q(this.save(),e),this.set("adjMatrix",n)),n},e.prototype.getShortestPathMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var n=this.get("adjMatrix"),i=this.get("shortestPathMatrix");return n&&t||(n=Q(this.save(),e),this.set("adjMatrix",n)),i&&t||(i=wt(this.save(),e),this.set("shortestPathMatrix",i)),i},e.prototype.on=function(e,n,i){return t.prototype.on.call(this,e,n,i)},e.prototype.destroy=function(){var t,e,n,i,r;this.clear(),this.clearStack(),null===(t=this.get("itemController"))||void 0===t||t.destroy(),null===(e=this.get("modeController"))||void 0===e||e.destroy(),null===(n=this.get("viewController"))||void 0===n||n.destroy(),null===(i=this.get("stateController"))||void 0===i||i.destroy(),null===(r=this.get("canvas"))||void 0===r||r.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},e.prototype.createHull=function(t){if(t.members&&!(t.members.length<1)){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e&&!e.get("destroyed")||((e=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var i=e.addGroup({id:"".concat(t.id,"-container")}),r=new Mi(this,Object(f.__assign)(Object(f.__assign)({},t),{group:i}));return n[r.id]=r,r}console.warn("Create hull failed! The members is empty.")},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var e,n;n=M(t)?this.getHullById(t):t,null===(e=this.get("hullMap"))||void 0===e||delete e[n.id],n.destroy()},e.prototype.removeHulls=function(){var t=this.getHulls();t&&Object.keys(t).length&&(Object.keys(t).forEach(function(e){t[e].destroy()}),this.set("hullMap",{}))},e}(Y.a);function ki(t){"@babel/helpers - typeof";return(ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ti=J.a.transform,Oi=["startArrow","endArrow"],Ei={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Ai={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:Ei,combo:Ei},Ni={options:{labelCfg:{style:{fontFamily:on.windowFontFamily}},descriptionCfg:{style:{fontFamily:on.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(t){return{}},getOptions:function(t,e){return"move"===e||(null===e||void 0===e?void 0:e.includes("bbox"))?{}:B({},this.options,this.getCustomConfig(t)||{},t)},draw:function(t,e){e.shapeMap={},this.mergeStyle=this.getOptions(t);var n=this.drawShape(t,e);if(n.set("className",this.itemType+"-shape"),e.shapeMap[this.itemType+"-shape"]=n,t.label){var i=this.drawLabel(t,e);i.set("className",this.itemType+"-label"),e.shapeMap[this.itemType+"-label"]=i}return n},afterDraw:function(t,e,n){},drawShape:function(t,e){return null},drawLabel:function(t,e){var n=(this.mergeStyle||this.getOptions(t)||{}).labelCfg||{},i=this.getLabelStyle(t,n,e),r=i.rotate;delete i.rotate;var o=e.addShape("text",{attrs:i,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(e.shapeMap["text-shape"]=o,!isNaN(r)&&""!==r){var a=o.getBBox(),s=[1,0,0,0,1,0,0,0,1];if(i.rotateCenter)switch(i.rotateCenter){case"center":s=Ti(s,[["t",-a.width/2,-a.height/2],["r",r],["t",a.width/2,a.height/2]]);break;case"lefttop":s=Ti(s,[["t",-i.x,-i.y],["r",r],["t",i.x,i.y]]);break;case"leftcenter":s=Ti(s,[["t",-i.x,-i.y-a.height/2],["r",r],["t",i.x,i.y+a.height/2]]);break;default:s=Ti(s,[["t",-a.width/2,-a.height/2],["r",r],["t",a.width/2,a.height/2]])}else s=Ti(s,[["t",-i.x,-i.y-a.height/2],["r",r],["t",i.x,i.y+a.height/2]]);o.setMatrix(s)}if(i.background){var l=this.drawLabelBg(t,e,o),u=this.itemType+"-label-bg";l.set("classname",u),e.shapeMap[u]=l,o.toFront()}return o},drawLabelBg:function(t,e,n){var i=D({},this.options.labelCfg,t.labelCfg),r=this.getLabelBgStyleByPosition(n,i),o=e.addShape("rect",{name:"text-bg-shape",attrs:r,labelRelated:!0});return e.shapeMap["text-bg-shape"]=o,o},getLabelStyleByPosition:function(t,e,n){return{text:t.label}},getLabelBgStyleByPosition:function(t,e){return{}},getLabelStyle:function(t,e,n){var i=this.getLabelStyleByPosition(t,e,n),r="".concat(this.itemType,"Label"),o=on[r]?on[r].style:null;return Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},o),i),e.style)},getShapeStyle:function(t){return t.style},update:function(t,e,n){this.updateShapeStyle(t,e,n),this.updateLabel(t,e,n)},updateShapeStyle:function(t,e,n){var i,r=e.getContainer(),o=e.getKeyShape(),a=D({},o.attr(),t.style),s=function(t){var e,n=a[t];if(_(n)){var s=(null===(i=r.shapeMap)||void 0===i?void 0:i[t])||r.find(function(e){return e.get("name")===t});null===s||void 0===s||s.attr(n)}else o.attr(((e={})[t]=n,e))};for(var l in a)s(l)},updateLabel:function(t,e,n){var i,r;if(t.label||""===t.label){var o=e.getContainer(),a=(this.mergeStyle||this.getOptions({},n)||{}).labelCfg,s=void 0===a?{}:a,l=this.itemType+"-label",u=o.shapeMap[l]||o.find(function(t){return t.get("className")===l}),c=this.itemType+"-label-bg",h=o.shapeMap[c]||o.find(function(t){return t.get("className")===c});if(u){(!n||"bbox|label"===n||"edge"===this.itemType&&"style"!==n)&&(s=B(s,t.labelCfg));var d=this.getLabelStyleByPosition(t,s,o),p=null===(i=t.labelCfg)||void 0===i?void 0:i.style,g=Object(f.__assign)(Object(f.__assign)({},d),p),v=g.rotate;if(delete g.rotate,isNaN(v)||""===v)1!==(null===(r=u.getMatrix())||void 0===r?void 0:r[4])&&u.resetMatrix(),u.attr(g);else{var m=[1,0,0,0,1,0,0,0,1];m=Ti(m,[["t",-g.x,-g.y],["r",v],["t",g.x,g.y]]),g.matrix=m,u.attr(g)}if(h)if(g.background){var y=this.getLabelBgStyleByPosition(u,s);h.attr(y)}else o.removeChild(h);else g.background&&((h=this.drawLabelBg(t,o,u)).set("classname",c),o.shapeMap[c]=h,u.toFront())}else{var b=this.drawLabel(t,o);b.set("className",l),o.shapeMap[l]=b}}},afterUpdate:function(t,e){},setState:function(t,e,n){var i,r,o,a=n.get("keyShape");if(a&&!a.destroyed){var s=n.getType(),l=N(e)?t:"".concat(t,":").concat(e),u=this.getStateStyle(l,n),c=n.getStateStyle(l);if(c||u){var h=D({},c||u),d=n.getContainer(),f={x:1,y:1,cx:1,cy:1,matrix:1};if("combo"===s&&(f.r=1,f.width=1,f.height=1),e){var p=function(t){var e,n=h[t];if(_(n)&&!Oi.includes(t)){var i=(null===(o=d.shapeMap)||void 0===o?void 0:o[t])||d.find(function(e){return e.get("name")===t});null===i||void 0===i||i.attr(n)}else a.attr(((e={})[t]=n,e))};for(var g in h)p(g)}else{var v=Mn(n.getCurrentStatesStyle()),m=D({},n.getModel().style,Mn(n.getOriginStyle())),y=a.get("name"),b=a.attr(),w={};Object.keys(b).forEach(function(t){if("img"!==t){var e=b[t];e&&"object"===ki(e)?w[t]=P(e):w[t]=e}});var S={},M=function(t){var e=h[t];if(_(e)&&!Oi.includes(t)){var n=d.shapeMap[t]||d.find(function(e){return e.get("name")===t});if(n){var i=Mn(n.attr());x(e,function(e,r){if(t===y&&w[r]&&!f[r]){delete w[r];var o=m[t][r]||Ai[s][r];a.attr(r,o)}else if(i[r]||0===i[r]){delete i[r];var l=m[t][r]||Ai[s][r];n.attr(r,l)}}),S[t]=i}}else if(w[t]&&!f[t]){delete w[t];var r=m[t]||(m[y]?m[y][t]:void 0)||Ai[s][t];a.attr(t,r)}};for(var C in h)M(C);for(var g in y?S[y]=w:D(S,w),v)if(!f[g]){var I=v[g];_(I)&&!Oi.includes(g)||(y?(D(m[y],((r={})[g]=I,r)),delete m[g]):D(m,((i={})[g]=I,i)),delete v[g])}var k={};B(k,m,S,v);var T=!1,O=function(t){var e,n,i=k[t];if(_(i)&&!Oi.includes(t)){var r=d.shapeMap[t]||d.find(function(e){return e.get("name")===t});r&&(("text"===r.get("type")||r.get("labelRelated"))&&(delete i.x,delete i.y,delete i.matrix),t===y&&("combo"===s&&(delete i.r,delete i.width,delete i.height),T=!0),r.attr(i))}else if(!T){var o=i||Ai[s][t];"combo"===s?y||a.attr(((e={})[t]=o,e)):a.attr(((n={})[t]=o,n))}};for(var E in k)O(E)}}}},getStateStyle:function(t,e){var n=e.getModel(),i=e.getType(),r=this.getOptions(n),o=r.stateStyles,a=r.style,s=void 0===a?{}:a,l=n.stateStyles?n.stateStyles[t]:o&&o[t];return"combo"===i?P(l):D({},s,l)},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e,n;return(null===t||void 0===t?void 0:t.anchorPoints)||(null===(e=this.getCustomConfig(t))||void 0===e?void 0:e.anchorPoints)||(null===(n=this.options)||void 0===n?void 0:n.anchorPoints)}},Li={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:on.nodeLabel.offset,getSize:function(t){var e,n=(null===(e=this.mergeStyle)||void 0===e?void 0:e.size)||t.size||this.getOptions({}).size||on.defaultNode.size;return y(n)&&1===n.length&&(n=[n[0],n[0]]),y(n)||(n=[n,n]),n},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition;if("center"===n)return{x:0,y:0,text:t.label};var i=e.offset;m(i)&&(i=this.offset);var r,o=this.getSize(t);switch(n){case"top":r={x:0,y:-o[1]/2-i,textBaseline:"bottom"};break;case"bottom":r={x:0,y:o[1]/2+i,textBaseline:"top"};break;case"left":r={x:-o[0]/2-i,y:0,textAlign:"right"};break;default:r={x:o[0]/2+i,y:0,textAlign:"left"}}return r.text=t.label,r},getLabelBgStyleByPosition:function(t,e){var n;if(!t)return{};var i=null===(n=e.style)||void 0===n?void 0:n.background;if(!i)return{};var r=t.getBBox(),o=On(i.padding),a=r.width+o[1]+o[3],s=r.height+o[0]+o[2];return Object(f.__assign)(Object(f.__assign)({x:r.minX-o[3],y:r.minY-o[0]},i),{width:a,height:s})},drawShape:function(t,e){var n=this.shapeType,i=this.getShapeStyle(t),r=e.addShape(n,{attrs:i,draggable:!0,name:"node-shape"});return e.shapeMap["node-shape"]=r,r},updateLinkPoints:function(t,e){var n,i=(this.mergeStyle||this.getOptions(t)).linkPoints,r=e.shapeMap["link-point-left"]||e.find(function(t){return"link-point-left"===t.get("className")}),o=e.shapeMap["link-point-right"]||e.find(function(t){return"link-point-right"===t.get("className")}),a=e.shapeMap["link-point-top"]||e.find(function(t){return"link-point-top"===t.get("className")}),s=e.shapeMap["link-point-bottom"]||e.find(function(t){return"link-point-bottom"===t.get("className")});r&&(n=r.attr()),o&&!n&&(n=o.attr()),a&&!n&&(n=a.attr()),s&&!n&&(n=s.attr()),n||(n=i);var l=D({},n,t.linkPoints),u=l.fill,c=l.stroke,h=l.lineWidth,d=l.size/2;d||(d=l.r);var p=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},g=p.left,v=p.right,m=p.top,y=p.bottom,b=this.getSize(t),x=b[0],w=b[1],_={r:d,fill:u,stroke:c,lineWidth:h};if(r)g||void 0===g?r.attr(Object(f.__assign)(Object(f.__assign)({},_),{x:-x/2,y:0})):(r.remove(),delete e.shapeMap["link-point-left"]);else if(g){var S="link-point-left";e.shapeMap[S]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},_),{x:-x/2,y:0}),className:S,name:S,isAnchorPoint:!0})}if(o)v||void 0===v||(o.remove(),delete e.shapeMap["link-point-right"]),o.attr(Object(f.__assign)(Object(f.__assign)({},_),{x:x/2,y:0}));else if(v){var M="link-point-right";e.shapeMap[M]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},_),{x:x/2,y:0}),className:M,name:M,isAnchorPoint:!0})}if(a)m||void 0===m||(a.remove(),delete e.shapeMap["link-point-top"]),a.attr(Object(f.__assign)(Object(f.__assign)({},_),{x:0,y:-w/2}));else if(m){var C="link-point-top";e.shapeMap[C]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},_),{x:0,y:-w/2}),className:C,name:C,isAnchorPoint:!0})}if(s)y||void 0===y?s.attr(Object(f.__assign)(Object(f.__assign)({},_),{x:0,y:w/2})):(s.remove(),delete e.shapeMap["link-point-bottom"]);else if(y){var I="link-point-bottom";e.shapeMap[I]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},_),{x:0,y:w/2}),className:I,name:I,isAnchorPoint:!0})}},updateShape:function(t,e,n,i,r){e.get("keyShape").attr(Object(f.__assign)({},n)),this.updateLabel(t,e,r),i&&this.updateIcon(t,e)},updateIcon:function(t,e){var n=this,i=e.getContainer(),r=(this.mergeStyle||this.getOptions(t)).icon,o=t.icon?t.icon:{show:void 0,text:void 0},a=o.show,s=o.text,l=i.shapeMap["".concat(this.type,"-icon")]||i.find(function(t){return t.get("name")==="".concat(n.type,"-icon")});if(l)if(a||void 0===a){var u=D({},l.attr(),r),c=u.width,h=void 0===c?20:c,d=u.height,p=void 0===d?20:d;("iconfont"===u.fontFamily||u.hasOwnProperty("text"))&&(h=0,p=0),l.attr(Object(f.__assign)(Object(f.__assign)({},u),{x:-h/2,y:-p/2}))}else l.remove();else if(a){var g="".concat(this.type,"-icon");if(s)i.shapeMap[g]=i.addShape("text",{attrs:Object(f.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:g,name:g});else{h=r.width,p=r.height;i.shapeMap[g]=i.addShape("image",{attrs:Object(f.__assign)(Object(f.__assign)({},r),{x:-h/2,y:-p/2}),className:g,name:g})}var v=i.shapeMap["node-label"]||i.find(function(t){return"node-label"===t.get("name")});v&&v.toFront()}}},Di=Object(f.__assign)(Object(f.__assign)({},Ni),Li);Jn.registerNode("single-node",Di);var ji={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:on.defaultEdge.size,style:{x:0,y:0,stroke:on.defaultEdge.style.stroke,lineAppendWidth:on.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:on.edgeLabel.style.fill,fontSize:on.edgeLabel.style.fontSize,fontFamily:on.windowFontFamily}},stateStyles:Object(f.__assign)({},on.edgeStateStyles)},getPath:function(t){var e=[];return x(t,function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])}),e},getShapeStyle:function(t){var e=D({},this.options.style,{stroke:t.color},t.style),n=t.size||on.defaultEdge.size,i=(t=this.getPathPoints(t)).startPoint,r=t.endPoint,o=this.getControlPoints(t),a=[i];o&&(a=a.concat(o)),a.push(r);var s=this.getPath(a);return D({},on.defaultEdge.style,{stroke:on.defaultEdge.color,lineWidth:n,path:s},e)},updateShapeStyle:function(t,e,n){var i,r=e.getContainer(),o=(null===(i=e.getKeyShape)||void 0===i?void 0:i.call(e))||r.shapeMap["edge-shape"],a=t.size,s=(t=this.getPathPoints(t)).startPoint,l=t.endPoint,u=this.getControlPoints(t),c=[s];u&&(c=c.concat(u)),c.push(l);var h=o.attr(),d=t.style||{};void 0===d.stroke&&(d.stroke=t.color);var p=t.sourceNode,g=t.targetNode,v={radius:d.radius};u||(v={source:p,target:g,offset:d.offset,radius:d.radius});var m=this.getPath(c,v),y={};"move"===n?y={path:m}:(h.endArrow&&!1===d.endArrow&&(t.style.endArrow={path:""}),h.startArrow&&!1===d.startArrow&&(t.style.startArrow={path:""}),void 0===(y=Object(f.__assign)({},t.style)).lineWidth&&(y.lineWdith=(T(a)?a:null===a||void 0===a?void 0:a[0])||h.lineWidth),void 0===y.path&&(y.path=m),void 0===y.stroke&&(y.stroke=h.stroke||t.color)),o&&o.attr(y)},getLabelStyleByPosition:function(t,e,n){var i,r=e.position||this.labelPosition,o={},a=null===n||void 0===n?void 0:n.shapeMap["edge-shape"];i="start"===r?0:"end"===r?1:.5;var s,l=e.refX||this.refX,u=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return o.x=t.startPoint.x+l,o.y=t.startPoint.y+u,o.text=t.label,o;s=m(e.autoRotate)?this.labelAutoRotate:e.autoRotate;var c=pn(a,i,l,u,s);return o.x=c.x,o.y=c.y,o.rotate=c.rotate,o.textAlign=this._getTextAlign(r,c.angle),o.text=t.label,o},getLabelBgStyleByPosition:function(t,e){if(!t)return{};var n=t.getBBox(),i=e.style&&e.style.background;if(!i)return{};var r=i.padding,o=n.width+r[1]+r[3],a=n.height+r[0]+r[2],s=Object(f.__assign)(Object(f.__assign)({},i),{width:o,height:a,x:n.minX-r[3],y:n.minY-r[0],matrix:[1,0,0,0,1,0,0,0,1]});return(m(e.autoRotate)?this.labelAutoRotate:e.autoRotate)&&(s.matrix=t.attr("matrix")||[1,0,0,0,1,0,0,0,1]),s},_getTextAlign:function(t,e){var n="center";return e?(e%=2*Math.PI,"center"!==t&&(n=e>=0&&e<=Math.PI/2||e>=1.5*Math.PI&&e<2*Math.PI?t:function(t){var e=t;return"start"===t?e="end":"end"===t&&(e="start"),e}(t)),n):t},getControlPoints:function(t){return t.controlPoints},getPathPoints:function(t){return t},drawShape:function(t,e){var n=this.getShapeStyle(t),i=e.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return e.shapeMap["edge-shape"]=i,i},drawLabel:function(t,e){var n=this.options.labelCfg,i=B({},n,t.labelCfg),r=this.getLabelStyle(t,i,e),o=r.rotate;delete r.rotate;var a=e.addShape("text",{attrs:r,name:"text-shape",labelRelated:!0});if(e.shapeMap["text-shape"]=a,isNaN(o)||""===o||a.rotateAtStart(o),r.background){var s=this.drawLabelBg(t,e,a,r,o),l=this.itemType+"-label-bg";s.set("classname",l),e.shapeMap[l]=s,a.toFront()}return a},drawLabelBg:function(t,e,n,i,r){var o=this.options.labelCfg,a=B({},o,t.labelCfg),s=this.getLabelBgStyleByPosition(n,a),l=e.addShape("rect",{name:"text-bg-shape",attrs:s,labelRelated:!0});return e.shapeMap["text-bg-shape"]=l,l}},Pi=Object(f.__assign)(Object(f.__assign)({},Ni),ji);Jn.registerEdge("single-edge",Pi),Jn.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Jn.registerEdge("spline",{getPath:function(t){return ri(t)}},"single-edge"),Jn.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(t){var e,n,i=t.startPoint,r=t.endPoint,o=(i.x+r.x)/2,a=(i.y+r.y)/2;if(void 0!==t.controlPoints){if(n=t.controlPoints[0],e=Se(i,n,r),i.x<=r.x&&i.y>r.y?this.clockwise=e.x>n.x?0:1:i.x<=r.x&&i.y<r.y?this.clockwise=e.x>n.x?1:0:i.x>r.x&&i.y<=r.y?this.clockwise=e.y<n.y?0:1:this.clockwise=e.y<n.y?1:0,(n.x-i.x)/(n.y-i.y)==(r.x-i.x)/(r.y-i.y))return[]}else{void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),y(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),t.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:r.x-i.x,y:r.y-i.y},l=Math.atan2(s.y,s.x);n={x:t.curveOffset*Math.cos(-Math.PI/2+l)+o,y:t.curveOffset*Math.sin(-Math.PI/2+l)+a},e=Se(i,n,r)}var u=Me(i,e);return[{x:u,y:u}]},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),2===t.length?e.push(["L",t[1].x,t[1].y]):e.push(["A",t[1].x,t[1].y,0,0,this.clockwise,t[2].x,t[2].y]),e}},"single-edge"),Jn.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(t){var e=t.controlPoints;if(!e||!e.length){var n=t.startPoint,i=t.endPoint;void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),y(this.curveOffset)&&(t.curveOffset=t.curveOffset[0]),y(this.curvePosition)&&(t.curvePosition=t.curveOffset[0]),e=[oi(n,i,t.curvePosition,t.curveOffset)]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["Q",t[1].x,t[1].y,t[2].x,t[2].y]),e}},"single-edge"),Jn.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(t){var e=t.controlPoints;if(void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),T(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),T(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]),!e||!e.length||e.length<2){var n=t.startPoint,i=t.endPoint;e=[oi(n,i,t.curvePosition[0],t.curveOffset[0]),oi(n,i,t.curvePosition[1],t.curveOffset[1])]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),e}},"single-edge"),Jn.registerEdge("cubic-vertical",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),T(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),T(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),T(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var i=n.y-e.y,r=[0,0];return t.curveOffset?r=t.curveOffset:Math.abs(i)<Math.abs(t.minCurveOffset[0])&&(r=t.minCurveOffset),[{x:e.x,y:e.y+i*this.curvePosition[0]+r[0]},{x:n.x,y:n.y-i*this.curvePosition[1]+r[1]}]}},"cubic"),Jn.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),T(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),T(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),T(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var i=n.x-e.x,r=[0,0];return t.curveOffset?r=t.curveOffset:Math.abs(i)<Math.abs(t.minCurveOffset[0])&&(r=t.minCurveOffset),[{x:e.x+i*this.curvePosition[0]+r[0],y:e.y},{x:n.x-i*this.curvePosition[1]+r[1],y:n.y}]}},"cubic"),Jn.registerEdge("loop",{getPathPoints:function(t){return fn(t)},getControlPoints:function(t){return t.controlPoints},afterDraw:function(t){t.controlPoints=void 0},afterUpdate:function(t){t.controlPoints=void 0}},"cubic");var Ri={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:on.comboLabel.refX,refY:on.comboLabel.refY,options:{style:{stroke:on.defaultCombo.style.stroke,fill:on.defaultCombo.style.fill,lineWidth:on.defaultCombo.style.lineWidth},labelCfg:{style:{fill:on.comboLabel.style.fill,fontSize:on.comboLabel.style.fontSize,fontFamily:on.windowFontFamily}},stateStyles:Object(f.__assign)({},on.comboStateStyles)},getSize:function(t){var e=P(t.size||this.options.size||on.defaultCombo.size);return y(e)&&1===e.length&&(e=[e[0],e[0]]),y(e)||(e=[e,e]),e},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,i=t.style,r=t.padding||this.options.padding;y(r)&&(r=r[0]);var o=e.refX,a=e.refY;m(o)&&(o=this.refX),m(a)&&(a=this.refY);var s,l=this.getSize(t),u=(Math.max(i.r,l[0]/2)||l[0]/2)+r;switch(n){case"top":s={x:0,y:-u-a,textBaseline:"bottom",textAlign:"center"};break;case"bottom":s={x:0,y:u+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:-u+o,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:t.label,textAlign:"center"};break;default:s={x:u+o,y:0,textAlign:"right"}}return s.text=t.label,s},drawShape:function(t,e){var n=this.shapeType,i=this.getShapeStyle(t);return e.addShape(n,{attrs:i,draggable:!0,name:"combo-shape"})},updateShape:function(t,e,n){var i=e.get("keyShape");(void 0===t.animate?this.options.animate:t.animate)&&i.animate?i.animate(n,{duration:200,easing:"easeLinear"}):i.attr(Object(f.__assign)({},n)),this.updateLabel(t,e)}},zi=Object(f.__assign)(Object(f.__assign)({},Ni),Ri);Jn.registerCombo("single-combo",zi),Jn.registerCombo("circle",{options:{size:[on.defaultCombo.size[0],on.defaultCombo.size[0]],padding:on.defaultCombo.padding[0],animate:!0,style:{stroke:on.defaultCombo.style.stroke,fill:on.defaultCombo.style.fill,lineWidth:on.defaultCombo.style.lineWidth},labelCfg:{style:{fill:on.comboLabel.style.fill,fontSize:on.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(f.__assign)({},on.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t);return delete n.height,delete n.width,e.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;y(n)&&(n=n[0]);var i,r=D({},e,{stroke:t.color},t.style);if(t.fixSize)i=T(t.fixSize)?t.fixSize:t.fixSize[0];else{var o=this.getSize(t);i=!T(r.r)||isNaN(r.r)?o[0]/2||on.defaultCombo.style.r:Math.max(r.r,o[0]/2)||o[0]/2}r.r=i+n;var a=Object(f.__assign)({x:0,y:0},r);return t.style?t.style.r=i:t.style={r:i},a},update:function(t,e){var n=this.getSize(t),i=t.padding||this.options.padding;y(i)&&(i=i[0]);var r,o=P(t.style);r=t.fixSize?T(t.fixSize)?t.fixSize:t.fixSize[0]:Math.max(o.r,n[0]/2)||n[0]/2,o.r=r+i;var a=e.get("sizeCache");a&&(a.r=o.r);var s={stroke:t.color},l=D({},e.get("keyShape").attr(),s,o);t.style?t.style.r=r:t.style={r:r},this.updateShape(t,e,l,!0)}},"single-combo"),Jn.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:on.defaultCombo.style.stroke,fill:on.defaultCombo.style.fill,lineWidth:on.defaultCombo.style.lineWidth},labelCfg:{style:{fill:on.comboLabel.style.fill,fontSize:on.comboLabel.style.fontSize,fontFamily:on.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(f.__assign)({},on.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,i=t.style,r=t.padding||this.options.padding;T(r)&&(r=[r,r,r,r]);var o=e.refX,a=e.refY;m(o)&&(o=this.refX),m(a)&&(a=this.refY);var s,l=i.width/2+r[3],u=i.height/2+r[0];switch(n){case"top":s={x:0-l+o,y:0-u+a,textBaseline:"top",textAlign:"left"};break;case"bottom":s={x:0,y:u+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:0-l+a,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:t.label,textAlign:"center"};break;default:s={x:l+o,y:0,textAlign:"right"}}return s.text=t.label,s},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;T(n)&&(n=[n,n,n,n]);var i,r,o=D({},e,{stroke:t.color},t.style),a=this.getSize(t),s=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;s?T(s)?(i=s,r=s):(i=s[0],r=s[1]):(i=!T(o.width)||isNaN(o.width)?a[0]||on.defaultCombo.style.width:Math.max(o.width,a[0])||a[0],r=!T(o.height)||isNaN(o.height)?a[1]||on.defaultCombo.style.height:Math.max(o.height,a[1])||a[1]);var l=-i/2-n[3],u=-r/2-n[0];o.width=i+n[1]+n[3],o.height=r+n[0]+n[2];var c=Object(f.__assign)({x:l,y:u},o);return t.style?(t.style.width=i,t.style.height=r):t.style={width:i,height:r},c},update:function(t,e){var n=this.getSize(t),i=t.padding||this.options.padding;T(i)&&(i=[i,i,i,i]);var r,o,a=P(t.style),s=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;s?T(s)?(r=s,o=s):(r=s[0],o=s[1]):(r=Math.max(a.width,n[0])||n[0],o=Math.max(a.height,n[1])||n[1]),a.width=r+i[1]+i[3],a.height=o+i[0]+i[2];var l=e.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-r/2-i[3],a.y=-o/2-i[0];var u={stroke:t.color},c=D({},e.get("keyShape").attr(),u,a);t.style?(t.style.width=r,t.style.height=o):t.style={width:r,height:o},this.updateShape(t,e,c,!1)},updateShape:function(t,e,n){var i=e.get("keyShape");(void 0===t.animate?this.options.animate:t.animate)&&i.animate?i.animate(n,{duration:200,easing:"easeLinear"}):i.attr(Object(f.__assign)({},n)),this.updateLabel(t,e)}},"single-combo"),Jn.registerNode("simple-circle",{options:{size:on.defaultNode.size,style:{x:0,y:0,stroke:on.defaultNode.style.stroke,fill:on.defaultNode.style.fill,lineWidth:on.defaultNode.style.lineWidth},labelCfg:{style:{fill:on.nodeLabel.style.fill,fontSize:on.nodeLabel.style.fontSize,fontFamily:on.windowFontFamily}},stateStyles:Object(f.__assign)({},on.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(t,e){var n=this.getShapeStyle(t),i="".concat(this.type,"-keyShape"),r=e.addShape("circle",{attrs:n,className:"".concat(this.type,"-keyShape"),name:i,draggable:!0});return e.shapeMap[i]=r,r},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},i=B({},e,n),r=this.getSize(t)[0]/2;return Object(f.__assign)({x:0,y:0,r:r},i)},update:function(t,e,n){var i=this.getSize(t),r={stroke:t.color,r:i[0]/2},o=e.get("keyShape"),a=B({},o.attr(),r,t.style);this.updateShape(t,e,a,!0,n)}},"single-node"),Jn.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:on.defaultNode.style.stroke,fill:on.defaultNode.style.fill,lineWidth:on.defaultNode.style.lineWidth},labelCfg:{style:{fill:on.nodeLabel.style.fill,fontSize:on.nodeLabel.style.fontSize,fontFamily:on.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(f.__assign)({},on.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0})},getShapeStyle:function(t){var e=D({},(this.mergeStyle||this.getOptions(t)).style,{stroke:t.color}),n=this.getSize(t),i=e.width||n[0],r=e.height||n[1];return Object(f.__assign)({x:-i/2,y:-r/2,width:i,height:r},e)},update:function(t,e,n){e.getContainer();var i=(this.mergeStyle||this.getOptions(t)).style,r=this.getSize(t),o=e.get("keyShape");t.size||(r[0]=o.attr("width")||i.width,r[1]=o.attr("height")||i.height);var a={stroke:t.color,x:-r[0]/2,y:-r[1]/2,width:r[0],height:r[1]},s=D({},i,o.attr(),a);s=D(s,t.style),this.updateShape(t,e,s,!1,n)}},"single-node"),Jn.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:on.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(t,e){var n=this.shapeType,i=this.getShapeStyle(t);delete i.fill;var r=e.addShape(n,{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(t,r),r},drawClip:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).clipCfg;if(n.show){var i=n.type,r=n.x,o=n.y,a=n.style;if("circle"===i){var s=n.r;e.setClip({type:"circle",attrs:Object(f.__assign)({r:s,x:r,y:o},a)})}else if("rect"===i){var l=n.width,u=n.height,c=r-l/2,h=o-u/2;e.setClip({type:"rect",attrs:Object(f.__assign)({x:c,y:h,width:l,height:u},a)})}else if("ellipse"===i){var d=n.rx,p=n.ry;e.setClip({type:"ellipse",attrs:Object(f.__assign)({x:r,y:o,rx:d,ry:p},a)})}else if("polygon"===i){var g=n.points;e.setClip({type:"polygon",attrs:Object(f.__assign)({points:g},a)})}else if("path"===i){var v=n.path;e.setClip({type:"path",attrs:Object(f.__assign)({path:v},a)})}}},getShapeStyle:function(t){var e=this.mergeStyle||this.getOptions(t),n=e.style,i=e.img,r=this.getSize(t),o=r[0],a=r[1];return n&&(o=n.width||r[0],a=n.height||r[1]),Object(f.__assign)({x:-o/2,y:-a/2,width:o,height:a,img:i},n)},updateShapeStyle:function(t,e){var n=e.getContainer(),i="".concat(this.itemType,"-shape"),r=n.shapeMap[i]||n.find(function(t){return t.get("className")===i})||e.getKeyShape(),o=this.getShapeStyle(t);r&&!r.destroyed&&r.attr(o)}},"single-node");var Bi,Fi={triangle:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=15),void 0===n&&(n=0);var i=2*n;return"M ".concat(i,",0 L ").concat(i+e,",-").concat(t/2," L ").concat(i+e,",").concat(t/2," Z")},vee:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=20),void 0===n&&(n=0);var i=2*n;return"M ".concat(i,",0 L ").concat(i+e,",-").concat(t/2,"\n        L ").concat(i+2*e/3,",0 L ").concat(i+e,",").concat(t/2," Z")},circle:function(t,e){return void 0===t&&(t=5),void 0===e&&(e=0),"M ".concat(2*e,", 0\n            a ").concat(t,",").concat(t," 0 1,0 ").concat(2*t,",0\n            a ").concat(t,",").concat(t," 0 1,0 ").concat(2*-t,",0")},rect:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=10),void 0===n&&(n=0);var i=2*n;return"M ".concat(i,",").concat(-t/2," \n        L ").concat(i+e,",").concat(-t/2," \n        L ").concat(i+e,",").concat(t/2," \n        L ").concat(i,",").concat(t/2," Z")},diamond:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=0);var i=2*n;return"M ".concat(i,",0 \n        L ").concat(i+e/2,",").concat(-t/2," \n        L ").concat(i+e,",0 \n        L ").concat(i+e/2,",").concat(t/2," Z")},triangleRect:function(t,e,n,i,r,o){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=15),void 0===i&&(i=3),void 0===r&&(r=5),void 0===o&&(o=0);var a=2*o,s=a+e+r;return"M ".concat(a,",0 L ").concat(a+e,",-").concat(t/2," L ").concat(a+e,",").concat(t/2," Z\n            M ").concat(s,", -").concat(n/2,"\n            L ").concat(s+i," -").concat(n/2,"\n            L ").concat(s+i," ").concat(n/2,"\n            L ").concat(s," ").concat(n/2,"\n            Z")}},Gi={collapse:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t+n-4,e]]},expand:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t-n+2*n-4,e],["M",t-n+n,e-n+4],["L",t,e+n-4]]},upTriangle:function(t,e,n){var i=n*Math.cos(Math.PI/6),r=n*Math.sin(Math.PI/6);return[["M",t-i,e+r],["L",t+i,e+r],["L",t,e-n],["Z"]]},downTriangle:function(t,e,n){var i=n*Math.cos(Math.PI/6),r=n*Math.sin(Math.PI/6);return[["M",t-i,e-r],["L",t+i,e-r],["L",t,e+n],["Z"]]}},Vi=Jn,Wi=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],Hi=J.a.transform,Ui=Object(f.__assign)(Object(f.__assign)(Object(f.__assign)(Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},a),o),s),r),l),{transform:Hi,mat3:J.b}),Yi=function(){function t(t){this.graph=t,this.layoutCfg=t.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return t.prototype.initLayout=function(){},t.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},t.prototype.getLayoutCfgType=function(t){var e=t.type;if(e)return e;var n=t.pipes;return Array.isArray(n)?n.map(function(t){return(null===t||void 0===t?void 0:t.type)||""}):null},t.prototype.isLayoutTypeSame=function(t){var e=this.getLayoutCfgType(t);return Array.isArray(this.layoutType)?this.layoutType.every(function(t,n){return t===e[n]}):(null===t||void 0===t?void 0:t.type)===this.layoutType},t.prototype.refreshLayout=function(){var t=this.graph;t&&(t.get("animate")?t.positionsAnimate():t.refreshPositions())},t.prototype.changeLayout=function(t){this.layoutCfg=t,this.destoryLayoutMethods(),this.layout()},t.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},t.prototype.destoryLayoutMethods=function(){var t=this.layoutMethods;null===t||void 0===t||t.forEach(function(t){t.destroy()}),this.layoutMethods=[]},t.prototype.destroyLayout=function(){var t=this.graph;this.destoryLayoutMethods(),t.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},t.prototype.setDataFromGraph=function(){for(var t=[],e=[],n=[],i=[],r=[],o=[],a=this.graph.getNodes(),s=this.graph.getEdges(),l=this.graph.getCombos(),u=a.length,c=0;c<u;c++){var h=a[c];if(h&&!h.destroyed){var d=h.getModel();h.isVisible()?t.push(d):e.push(d)}}var f=s.length;for(c=0;c<f;c++){var p=s[c];if(p&&!p.destroyed){d=p.getModel();p.isVisible()?d.isComboEdge?r.push(d):n.push(d):i.push(d)}}var g=l.length;for(c=0;c<g;c++){var v=l[c];if(!v.destroyed){d=v.getModel();v.isVisible()?o.push(d):i.push(d)}}return{nodes:t,hiddenNodes:e,edges:n,hiddenEdges:i,combos:o,hiddenCombos:[],comboEdges:r}},t.prototype.reLayoutMethod=function(t,e){var n=this;return new Promise(function(i,r){var o=n.graph,a=null===e||void 0===e?void 0:e.type;e.onLayoutEnd=function(){o.emit("aftersublayout",{type:a}),i()},t.init(n.data),"force"===a&&(t.ticking=!1,t.forceSimulation.stop()),o.emit("beforesublayout",{type:a}),t.execute(),t.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd()})},t.prototype.relayout=function(t){var e=this,n=this.graph,i=this.layoutMethods,r=this.layoutCfg;if(t){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(r.center,o)}n.emit("beforelayout");var a=Promise.resolve();null===i||void 0===i||i.forEach(function(t,n){var i=r[n];a=a.then(function(){return e.reLayoutMethod(t,i)})}),a.then(function(){r.onAllLayoutEnd&&r.onAllLayoutEnd()}).catch(function(t){console.warn("relayout failed",t)})},t.prototype.filterLayoutData=function(t,e){var n,i,r=t.nodes,o=t.edges,a=Object(f.__rest)(t,["nodes","edges"]);if(!r)return t;n=v(null===e||void 0===e?void 0:e.nodesFilter)?e.nodesFilter:function(){return!0};var s=r.filter(n);if(v(null===e||void 0===e?void 0:e.edgesFilter))i=e.edgesFilter;else{var l=s.reduce(function(t,e){return t[e.id]=!0,t},{});i=function(t){return l[t.source]&&l[t.target]}}return Object(f.__assign)({nodes:s,edges:o.filter(i)},a)},t.prototype.getLayoutBBox=function(t){var e=this.graph,n=I(e.getNodes(),function(t){return t.getModel().layoutOrder}),i=Object.values(n).map(function(t){var e=Ln(t);return e.size=[e.width,e.height],e});return{groupNodes:Object.values(I(t,"layoutOrder")),layoutNodes:i}},t.prototype.layoutAnimate=function(){},t.prototype.moveToZero=function(){var t=this.graph.get("data").nodes;if(void 0!==t[0].x&&null!==t[0].x&&!Nn(t[0].x)){for(var e=[0,0],n=t.length,i=0;i<n;i++){var r=t[i];e[0]+=r.x,e[1]+=r.y}e[0]/=t.length,e[1]/=t.length;for(i=0;i<n;i++){(r=t[i]).x-=e[0],r.y-=e[1]}}},t.prototype.initPositions=function(t,e){var n=this.graph;if(!e)return!1;var i=e?e.length:0;if(i){var r=.85*n.get("width"),o=.85*n.get("height"),a=Math.ceil(Math.sqrt(i)*(r/o)),s=r/(a-1),l=o/(Math.ceil(i/a)-1);isFinite(s)&&s||(s=0),isFinite(l)&&s||(l=0);for(var u=t[0]-r/2,c=t[1]-o/2,h=!0,d=0;d<i;d++){var f=e[d];Nn(+f.x)&&(h=!1,f.x=d%a*s+u),Nn(+f.y)&&(h=!1,f.y=Math.floor(d/a)*l+c)}return h}},t.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},t}(),Ji=function(){return function(t){this.graph=t,this.destroyed=!1,this.initEvents()}}();!function(t){t.CLICK="click",t.DBLCLICK="dblclick",t.MOUSEDOWN="mousedown",t.MOUDEUP="mouseup",t.CONTEXTMENU="contextmenu",t.MOUSEENTER="mouseenter",t.MOUSEOUT="mouseout",t.MOUSEOVER="mouseover",t.MOUSEMOVE="mousemove",t.MOUSELEAVE="mouseleave",t.DRAGSTART="dragstart",t.DRAGEND="dragend",t.DRAG="drag",t.DRAGENTER="dragenter",t.DRAGLEAVE="dragleave",t.DRAGOVER="dragover",t.DRAGOUT="dragout",t.DDROP="drop",t.KEYUP="keyup",t.KEYDOWN="keydown",t.WHEEL="wheel",t.FOCUS="focus",t.BLUR="blur",t.TOUCHSTART="touchstart",t.TOUCHMOVE="touchmove",t.TOUCHEND="touchend",t.CANVAS_TOUCHSTART="canvas:touchstart",t.CANVAS_TOUCHMOVE="canvas:touchmove",t.CANVAS_TOUCHEND="canvas:touchend",t.NODE_TOUCHSTART="node:touchstart",t.NODE_TOUCHMOVE="node:touchmove",t.NODE_TOUCHEND="node:touchend",t.COMBO_TOUCHSTART="combo:touchstart",t.COMBO_TOUCHMOVE="combo:touchmove",t.COMBO_TOUCHEND="combo:touchend",t.EDGE_TOUCHSTART="edge:touchstart",t.EDGE_TOUCHMOVE="edge:touchmove",t.EDGE_TOUCHEND="edge:touchend",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_CLICK="node:click",t.NODE_DBLCLICK="node:dblclick",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEOUT="node:mouseout",t.NODE_MOUSEOVER="node:mouseover",t.NODE_DROP="node:drop",t.NODE_DRAGOVER="node:dragover",t.NODE_DRAGENTER="node:dragenter",t.NODE_DRAGLEAVE="node:dragleave",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DRAGEND="node:dragend",t.NODE_TAP="node:tap",t.NODE_PANSTART="node:panstart",t.NODE_PANMOVE="node:panmove",t.NODE_PANEND="node:panend",t.COMBO_CONTEXTMENU="combo:contextmenu",t.COMBO_CLICK="combo:click",t.COMBO_DBLCLICK="combo:dblclick",t.COMBO_MOUSEDOWN="combo:mousedown",t.COMBO_MOUSEUP="combo:mouseup",t.COMBO_MOUSEENTER="combo:mouseenter",t.COMBO_MOUSELEAVE="combo:mouseleave",t.COMBO_MOUSEMOVE="combo:mousemove",t.COMBO_MOUSEOUT="combo:mouseout",t.COMBO_MOUSEOVER="combo:mouseover",t.COMBO_DROP="combo:drop",t.COMBO_DRAGOVER="combo:dragover",t.COMBO_DRAGENTER="combo:dragenter",t.COMBO_DRAGLEAVE="combo:dragleave",t.COMBO_DRAGSTART="combo:dragstart",t.COMBO_DRAG="combo:drag",t.COMBO_DRAGEND="combo:dragend",t.COMBO_TAP="combo:tap",t.COMBO_PANSTART="combo:panstart",t.COMBO_PANMOVE="combo:panmove",t.COMBO_PANEND="combo:panend",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_CLICK="edge:click",t.EDGE_DBLCLICK="edge:dblclick",t.EDGE_MOUSEDOWN="edge:mousedown",t.EDGE_MOUSEUP="edge:mouseup",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_MOUSEMOVE="edge:mousemove",t.EDGE_MOUSEOUT="edge:mouseout",t.EDGE_MOUSEOVER="edge:mouseover",t.EDGE_DROP="edge:drop",t.EDGE_DRAGOVER="edge:dragover",t.EDGE_DRAGENTER="edge:dragenter",t.EDGE_DRAGLEAVE="edge:dragleave",t.CANVAS_CONTEXTMENU="canvas:contextmenu",t.CANVAS_CLICK="canvas:click",t.CANVAS_DBLCLICK="canvas:dblclick",t.CANVAS_MOUSEDOWN="canvas:mousedown",t.CANVAS_MOUSEUP="canvas:mouseup",t.CANVAS_MOUSEENTER="canvas:mouseenter",t.CANVAS_MOUSELEAVE="canvas:mouseleave",t.CANVAS_MOUSEMOVE="canvas:mousemove",t.CANVAS_MOUSEOUT="canvas:mouseout",t.CANVAS_MOUSEOVER="canvas:mouseover",t.CANVAS_DROP="canvas:drop",t.CANVAS_DRAGENTER="canvas:dragenter",t.CANVAS_DRAGLEAVE="canvas:dragleave",t.CANVAS_DRAGSTART="canvas:dragstart",t.CANVAS_DRAG="canvas:drag",t.CANVAS_DRAGEND="canvas:dragend",t.CANVAS_TAP="canvas:tap",t.CANVAS_PANSTART="canvas:panstart",t.CANVAS_PANMOVE="canvas:panmove",t.CANVAS_PANEND="canvas:panend",t.BEFORERENDER="beforerender",t.AFTERRENDER="afterrender",t.BEFOREADDITEM="beforeadditem",t.AFTERADDITEM="afteradditem",t.BEFOREREMOVEITEM="beforeremoveitem",t.AFTERREMOVEITEM="afterremoveitem",t.BEFOREUPDATEITEM="beforeupdateitem",t.AFTERUPDATEITEM="afterupdateitem",t.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",t.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",t.BEFOREITEMSTATECHANGE="beforeitemstatechange",t.AFTERITEMSTATECHANGE="afteritemstatechange",t.BEFOREITEMREFRESH="beforeitemrefresh",t.AFTERITEMREFRESH="afteritemrefresh",t.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",t.AFTERITEMSTATESCLEAR="afteritemstatesclear",t.BEFOREMODECHANGE="beforemodechange",t.AFTERMODECHANGE="aftermodechange",t.BEFORELAYOUT="beforelayout",t.AFTERLAYOUT="afterlayout",t.BEFORECREATEEDGE="beforecreateedge",t.AFTERCREATEEDGE="aftercreateedge",t.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",t.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",t.BEFOREGRAPHREFRESH="beforegraphrefresh",t.AFTERGRAPHREFRESH="aftergraphrefresh",t.BEFOREANIMATE="beforeanimate",t.AFTERANIMATE="afteranimate",t.BEFOREPAINT="beforepaint",t.AFTERPAINT="afterpaint",t.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",t.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",t.GRAPHSTATECHANGE="graphstatechange",t.AFTERACTIVATERELATIONS="afteractivaterelations",t.NODESELECTCHANGE="nodeselectchange",t.TOOLTIPCHANGE="tooltipchange",t.WHEELZOOM="wheelzoom",t.VIEWPORTCHANGE="viewportchange",t.DRAGNODEEND="dragnodeend",t.STACKCHANGE="stackchange",t.TAP="tap",t.PINCHSTART="pinchstart",t.PINCHMOVE="pinchmove",t.PANSTART="panstart",t.PANMOVE="panmove",t.PANEND="panend"}(Bi||(Bi={}));var Qi=Vi.registerNode,Zi=Vi.registerEdge,$i=Vi.registerCombo,Xi=U.registerBehavior,Ki=on,qi=(Vi.registerNode,Vi.registerEdge,Vi.registerCombo,U.registerBehavior,n("NtQ/")),tr=n("S7HD"),er=n("ghwr"),nr={}.toString,ir=function(t,e){return nr.call(t)==="[object "+e+"]"},rr=function(t){return ir(t,"Function")},or=function(t){return null===t||void 0===t},ar=function(t){return Array.isArray?Array.isArray(t):ir(t,"Array")},sr=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var lr=function(t,e){if(t)if(ar(t))for(var n=0,i=t.length;n<i&&!1!==e(t[n],n);n++);else if(sr(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break};Object.keys;var ur=function(t){return"object"==typeof t&&null!==t},cr=function(t){if(!ur(t)||!ir(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var hr=Array.prototype,dr=(hr.splice,hr.indexOf,Array.prototype.splice,function(t){return ir(t,"String")});Object.prototype.hasOwnProperty;var fr=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n};var pr=function(t){return ir(t,"Number")};Number.isInteger&&Number.isInteger;Math.PI,parseInt,Math.PI;var gr=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return lr(t,function(n,i){rr(t)&&"prototype"===i||e.push(n)}),e};Object.prototype;function vr(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function mr(t,e,n,i){return e&&vr(t,e),n&&vr(t,n),i&&vr(t,i),t}var yr=function(t){if("object"!=typeof t||null===t)return t;var e;if(ar(t)){e=[];for(var n=0,i=t.length;n<i;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=yr(t[n]):e[n]=t[n]}else for(var r in e={},t)"object"==typeof t[r]&&null!=t[r]?e[r]=yr(t[r]):e[r]=t[r];return e},br=yr;var xr=function(t,e,n){var i;return function(){var r=this,o=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(r,o)},e),a&&t.apply(r,o)}},wr=5;function _r(t,e,n,i){for(var r in n=n||0,i=i||wr,e)if(e.hasOwnProperty(r)){var o=e[r];null!==o&&cr(o)?(cr(t[r])||(t[r]={}),n<i?_r(t[r],o,n+1,i):t[r]=e[r]):ar(o)?(t[r]=[],t[r]=t[r].concat(o)):void 0!==o&&(t[r]=o)}}var Sr=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)_r(t,e[i]);return t};Object.prototype.hasOwnProperty;var Mr;Object.prototype.hasOwnProperty;(function(t,e){if(!rr(t))throw new TypeError("Expected a function");var n=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,i);return a.set(o,s),s};n.cache=new Map})(function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,r=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return Mr||(Mr=document.createElement("canvas").getContext("2d")),Mr.font=[o,a,r,n+"px",i].join(" "),Mr.measureText(dr(t)?t:"").width},function(t,e){return void 0===e&&(e={}),Object(f.__spreadArrays)([t],gr(e)).join("")}),function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();var Cr=n("9Otz"),Ir=n.n(Cr),kr=n("YrBu"),Tr=n.n(kr),Or=2,Er=.16,Ar=.05,Nr=.05,Lr=.15,Dr=5,jr=4,Pr=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Rr(t,e,n){var i;return(i=Math.round(t.h)>=60&&Math.round(t.h)<=240?n?Math.round(t.h)-Or*e:Math.round(t.h)+Or*e:n?Math.round(t.h)+Or*e:Math.round(t.h)-Or*e)<0?i+=360:i>=360&&(i-=360),i}function zr(t,e,n){return 0===t.h&&0===t.s?t.s:((i=n?t.s-Er*e:e===jr?t.s+Er:t.s+Ar*e)>1&&(i=1),n&&e===Dr&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2)));var i}function Br(t,e,n){var i;return(i=n?t.v+Nr*e:t.v-Lr*e)>1&&(i=1),Number(i.toFixed(2))}function Fr(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],i=Tr()(t),r=Dr;r>0;r-=1){var o=i.toHsv(),a=Tr()({h:Rr(o,r,!0),s:zr(o,r,!0),v:Br(o,r,!0)}).toHexString();n.push(a)}n.push(i.toHexString());for(var s=1;s<=jr;s+=1){var l=i.toHsv(),u=Tr()({h:Rr(l,s),s:zr(l,s),v:Br(l,s)}).toHexString();n.push(u)}return"dark"===e.theme?Pr.map(function(t){var i=t.index,r=t.opacity;return Tr.a.mix(e.backgroundColor||"#141414",n[i],100*r).toHexString()}):n}var Gr={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Vr={},Wr={};Object.keys(Gr).forEach(function(t){Vr[t]=Fr(Gr[t]),Vr[t].primary=Vr[t][5],Wr[t]=Fr(Gr[t],{theme:"dark",backgroundColor:"#141414"}),Wr[t].primary=Wr[t][5]});Vr.red,Vr.volcano,Vr.gold,Vr.orange,Vr.yellow,Vr.lime,Vr.green,Vr.cyan,Vr.blue,Vr.geekblue,Vr.purple,Vr.magenta,Vr.grey;var Hr,Ur,Yr,Jr,Qr=function(t,e,n){var i=Ir()(t),r=Ir()(e);return Ir()([(1-n)*i.red()+n*r.red(),(1-n)*i.green()+n*r.green(),(1-n)*i.blue()+n*r.blue()]).rgb()},Zr=function(t,e,n,i){return void 0===e&&(e="#fff"),void 0===n&&(n="default"),void 0===i&&(i="rgb(150, 150, 150)"),"default"===n?function(t,e,n){void 0===e&&(e="#fff"),void 0===n&&(n="rgb(150, 150, 150)");var i=Qr(e,t,.05).rgb().toString(),r=Qr(e,t,.1).rgb().toString(),o=Qr(e,t,.2).rgb().toString(),a=Qr(e,t,.4).rgb().toString(),s=Qr(e,n,.02).rgb().toString(),l=Qr(e,n,.05).rgb().toString(),u=Qr(e,n,.1).rgb().toString(),c=Qr(e,n,.2).rgb().toString(),h=Qr(e,n,.3).rgb().toString(),d=Fr(t,{theme:"default",backgroundColor:e}),f=Ir()(t).hex().toLowerCase(),p=d.indexOf(f),g=t;return-1!==p&&(g=d[p+1]),{mainStroke:t,mainFill:r,activeStroke:t,activeFill:i,inactiveStroke:a,inactiveFill:i,selectedStroke:t,selectedFill:e,highlightStroke:g,highlightFill:o,disableStroke:h,disableFill:l,edgeMainStroke:h,edgeActiveStroke:t,edgeInactiveStroke:c,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:u,comboMainStroke:h,comboMainFill:s,comboActiveStroke:t,comboActiveFill:i,comboInactiveStroke:h,comboInactiveFill:s,comboSelectedStroke:t,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:s,comboDisableStroke:c,comboDisableFill:l}}(t,e,"rgb(150, 150, 150)"):function(t,e,n){void 0===e&&(e="#fff"),void 0===n&&(n="#777");var i=Qr(e,t,.2).rgb().toString(),r=Qr(e,t,.3).rgb().toString(),o=Qr(e,t,.6).rgb().toString(),a=Qr(e,t,.8).rgb().toString(),s=Qr(e,n,.2).rgb().toString(),l=Qr(e,n,.25).rgb().toString(),u=Qr(e,n,.3).rgb().toString(),c=Qr(e,n,.4).rgb().toString(),h=Qr(e,n,.5).rgb().toString(),d=Fr(t,{theme:"dark",backgroundColor:e}),f=Ir()(t).hex().toLowerCase(),p=d.indexOf(f),g=t;return-1!==p&&(g=d[p+1]),{mainStroke:a,mainFill:i,activeStroke:t,activeFill:r,inactiveStroke:a,inactiveFill:i,selectedStroke:t,selectedFill:i,highlightStroke:t,highlightFill:o,disableStroke:h,disableFill:l,edgeMainStroke:n,edgeActiveStroke:t,edgeInactiveStroke:n,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:u,comboMainStroke:c,comboMainFill:l,comboActiveStroke:t,comboActiveFill:s,comboInactiveStroke:c,comboInactiveFill:l,comboSelectedStroke:t,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:l,comboDisableStroke:c,comboDisableFill:s}}(t,e,"#777")},$r=function(t,e,n,i){void 0===e&&(e="#fff"),void 0===n&&(n="default"),void 0===i&&(i="rgb(150, 150, 150)");var r=[];return t.forEach(function(t){r.push(Zr(t,e,n,i))}),r},Xr=Zr("rgb(95, 149, 255)","rgb(255, 255, 255)"),Kr={version:"0.5.3",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Xr.mainStroke,fill:Xr.mainFill},size:20,color:Xr.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Xr.activeFill,stroke:Xr.activeStroke}},nodeStateStyles:{active:{fill:Xr.activeFill,stroke:Xr.activeStroke,lineWidth:2,shadowColor:Xr.mainStroke,shadowBlur:10},selected:{fill:Xr.selectedFill,stroke:Xr.selectedStroke,lineWidth:4,shadowColor:Xr.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Xr.highlightFill,stroke:Xr.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Xr.inactiveFill,stroke:Xr.inactiveStroke,lineWidth:1},disable:{fill:Xr.disableFill,stroke:Xr.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Xr.edgeMainStroke,lineAppendWidth:2},color:Xr.edgeMainStroke},edgeStateStyles:{active:{stroke:Xr.edgeActiveStroke,lineWidth:1},selected:{stroke:Xr.edgeSelectedStroke,lineWidth:2,shadowColor:Xr.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Xr.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Xr.edgeInactiveStroke,lineWidth:1},disable:{stroke:Xr.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Xr.comboMainFill,lineWidth:1,stroke:Xr.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Xr.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Xr.comboActiveStroke,lineWidth:1,fill:Xr.comboActiveFill},selected:{stroke:Xr.comboSelectedStroke,lineWidth:2,fill:Xr.comboSelectedFill,shadowColor:Xr.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Xr.comboHighlightStroke,lineWidth:2,fill:Xr.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Xr.comboInactiveStroke,fill:Xr.comboInactiveFill,lineWidth:1},disable:{stroke:Xr.comboDisableStroke,fill:Xr.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};function qr(t,e,n){if(t){if("function"==typeof t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if("function"==typeof t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}function to(t){Hr||(Hr=document.createElement("table"),Ur=document.createElement("tr"),Yr=/^\s*<(\w+|!)[^>]*>/,Jr={tr:document.createElement("tbody"),tbody:Hr,thead:Hr,tfoot:Hr,td:Ur,th:Ur,"*":document.createElement("div")});var e=Yr.test(t)&&RegExp.$1;e&&e in Jr||(e="*");var n=Jr[e];t="string"==typeof t?t.replace(/(^\s*)|(\s*$)/g,""):t,n.innerHTML=""+t;var i=n.childNodes[0];return i&&n.contains(i)&&n.removeChild(i),i}function eo(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}var no=Ui.cloneEvent,io=Ui.isViewportChanged,ro=function(t){function e(e){var n=t.call(this,e)||this;return n.extendEvents=[],n.dragging=!1,n.preItem=null,n.graph=e,n.destroyed=!1,n.initEvents(),n}return Object(f.__extends)(e,t),e.prototype.initEvents=function(){var t=this.graph,e=this.extendEvents,n=void 0===e?[]:e,i=t.get("canvas"),r=i.get("el"),o=fr(this,"onCanvasEvents"),a=fr(this,"onExtendEvents"),s=fr(this,"onWheelEvent");i.off("*").on("*",o),this.canvasHandler=o,n.push(qr(r,"DOMMouseScroll",s)),n.push(qr(r,"mousewheel",s)),"undefined"!=typeof window&&(n.push(qr(window,"keydown",a)),n.push(qr(window,"keyup",a)),n.push(qr(window,"focus",a)))},e.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},e.prototype.onCanvasEvents=function(t){var n=this.graph,i=n.get("canvas"),r=t.target,o=t.type;t.canvasX=t.x,t.canvasY=t.y;var a={x:t.canvasX,y:t.canvasY},s=n.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),io(s)&&(a=n.getPointByClient(t.clientX,t.clientY)),t.x=a.x,t.y=a.y,t.currentTarget=n,r===i)return"mousemove"!==o&&"mouseleave"!==o||this.handleMouseMove(t,"canvas"),t.target=i,t.item=null,n.emit(o,t),void n.emit("canvas:".concat(o),t);var l=e.getItemRoot(r);if(l){var u=l.get("item");if(!u.destroyed){var c=u.getType();if(t.target=r,t.item=u,t.canvasX===t.x&&t.canvasY===t.y){var h=n.getCanvasByPoint(t.x,t.y);t.canvasX=h.x,t.canvasY=h.y}n.emit(o,t),t.name&&!t.name.includes(":")?n.emit("".concat(c,":").concat(o),t):n.emit(t.name,t),"dragstart"===o&&(this.dragging=!0),"dragend"===o&&(this.dragging=!1),"mousemove"===o&&this.handleMouseMove(t,c)}}else n.emit(o,t)},e.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},e.prototype.onWheelEvent=function(t){or(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},e.prototype.handleMouseMove=function(t,e){var n=this.graph,i=this.preItem,r=n.get("canvas"),o=t.target===r?null:t.item;t=no(t),i&&i!==o&&!i.destroyed&&(t.item=i,this.emitCustomEvent(i.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(i.getType(),"dragleave",t)),o&&i!==o&&(t.item=o,this.emitCustomEvent(e,"mouseenter",t),this.dragging&&this.emitCustomEvent(e,"dragenter",t)),this.preItem=o},e.prototype.emitCustomEvent=function(t,e,n){n.type=e,this.graph.emit("".concat(t,":").concat(e),n)},e.prototype.destroy=function(){var t=this.graph,e=this.canvasHandler,n=this.extendEvents;t.get("canvas").off("*",e),lr(n,function(t){t.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},e}(Ji);class oo{constructor(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=(()=>{})}layout(t){return this.init(t),this.execute(!0)}init(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]}execute(t){}executeWithWorker(){}getDefaultCfg(){return{}}updateCfg(t){t&&Object.assign(this,t)}getType(){return"base"}destroy(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}const ao=t=>"string"==typeof t,so=/-(\w)/g,lo=((t=>{const e=Object.create(null)})(t=>t.replace(so,(t,e)=>e?e.toUpperCase():"")),Array.isArray),uo=t=>"number"==typeof t,co=t=>Number.isNaN(Number(t)),ho=t=>null!==t&&"object"==typeof t,fo=t=>{if(null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){const e=[];return t.forEach(t=>{e.push(t)}),e.map(t=>fo(t))}if("object"==typeof t&&t!=={}){const e=Object.assign({},t);return Object.keys(e).forEach(t=>{e[t]=fo(e[t])}),e}return t},po=(t,e)=>{const n=t[e];return ho(n)?n.cell:n},go=(t,e,n)=>{const i=[];for(let e=0;e<t;e++)i[e]=0;return n?(n.forEach(t=>{const n=po(t,"source"),r=po(t,"target");n&&(i[e[n]]+=1),r&&(i[e[r]]+=1)}),i):i},vo=t=>{const e=[],n=t.length;for(let i=0;i<n;i+=1){e[i]=[];for(let r=0;r<n;r+=1)i===r?e[i][r]=0:0!==t[i][r]&&t[i][r]?e[i][r]=t[i][r]:e[i][r]=1/0}for(let t=0;t<n;t+=1)for(let i=0;i<n;i+=1)for(let r=0;r<n;r+=1)e[i][r]>e[i][t]+e[t][r]&&(e[i][r]=e[i][t]+e[t][r]);return e},mo=(t,e)=>{const{nodes:n,edges:i}=t,r=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((t,e)=>{o[t.id]=e;r.push([])}),i&&i.forEach(t=>{const n=po(t,"source"),i=po(t,"target"),a=o[n],s=o[i];r[a][s]=1,e||(r[s][a]=1)}),r},yo=(t,e)=>{const n=[];return t.forEach(t=>{const i=[];t.forEach(t=>{i.push(t*e)}),n.push(i)}),n},bo=(t,e)=>{if(t&&t.children)for(let n=t.children.length-1;n>=0;n--)if(!bo(t.children[n],e))return;return!!e(t)},xo=(t,e)=>{"function"==typeof e&&bo(t,e)},wo=t=>"function"==typeof t,_o=new Map,So=(t,e)=>{if(_o.get(t)&&console.warn(`The layout with the name ${t} exists already, it will be overridden`),ho(e)){class n extends oo{constructor(t){super();const n=this,i={},r=n.getDefaultCfg();Object.assign(i,r,e,t),Object.keys(i).forEach(t=>{const e=i[t];n[t]=e})}}_o.set(t,n)}else _o.set(t,e);return _o.get(t)};class Mo extends oo{constructor(t){super(),this.begin=[0,0],this.preventOverlap=!0,this.preventOverlapPadding=10,this.condense=!1,this.sortBy="degree",this.nodeSize=30,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.row=0,this.col=0,this.cellWidth=0,this.cellHeight=0,this.cellUsed={},this.id2manPos={},this.onLayoutEnd=(()=>{}),this.updateCfg(t)}getDefaultCfg(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}}execute(){const t=this,e=t.nodes,n=t.edges,i=e.length,r=t.begin;if(0===i)return t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n};if(1===i)return e[0].x=r[0],e[0].y=r[1],t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n};const o=[];e.forEach(t=>{o.push(t)});const a={};if(o.forEach((t,e)=>{a[t.id]=e}),("degree"===t.sortBy||!ao(t.sortBy)||void 0===o[0][t.sortBy])&&(t.sortBy="degree",co(e[0].degree))){const t=go(o.length,a,n);o.forEach((e,n)=>{e.degree=t[n]})}o.sort((e,n)=>n[t.sortBy]-e[t.sortBy]),t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);const s=t.rows,l=null!=t.cols?t.cols:t.columns;if(t.cells=i,null!=s&&null!=l?(t.rows=s,t.cols=l):null!=s&&null==l?(t.rows=s,t.cols=Math.ceil(t.cells/t.rows)):null==s&&null!=l?(t.cols=l,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){const e=t.small(),n=t.large();(e-1)*n>=t.cells?t.small(e-1):(n-1)*e>=t.cells&&t.large(n-1)}else for(;t.cols*t.rows<t.cells;){const e=t.small(),n=t.large();(n+1)*e>=t.cells?t.large(n+1):t.small(e+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&o.forEach(e=>{let n,i;e.x&&e.y||(e.x=0,e.y=0),lo(e.size)?(n=e.size[0],i=e.size[1]):uo(e.size)?(n=e.size,i=e.size):ho(e.size)&&(n=e.size.width,i=e.size.height),void 0!==n&&void 0!==i||(lo(t.nodeSize)?(n=t.nodeSize[0],i=t.nodeSize[1]):uo(t.nodeSize)?(n=t.nodeSize,i=t.nodeSize):(n=30,i=30));const r=t.preventOverlapPadding,o=n+r,a=i+r;t.cellWidth=Math.max(t.cellWidth,o),t.cellHeight=Math.max(t.cellHeight,a)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(let e=0;e<o.length;e++){const n=o[e];let i;if(t.position&&(i=t.position(n)),i&&(void 0!==i.row||void 0!==i.col)){const e={row:i.row,col:i.col};if(void 0===e.col)for(e.col=0;t.used(e.row,e.col);)e.col++;else if(void 0===e.row)for(e.row=0;t.used(e.row,e.col);)e.row++;t.id2manPos[n.id]=e,t.use(e.row,e.col)}t.getPos(n)}return t.onLayoutEnd&&t.onLayoutEnd(),{edges:n,nodes:o}}small(t){const e=this;let n;const i=e.rows||5,r=e.cols||5;if(null==t)n=Math.min(i,r);else{Math.min(i,r)===e.rows?e.rows=t:e.cols=t}return n}large(t){const e=this;let n;const i=e.rows||5,r=e.cols||5;if(null==t)n=Math.max(i,r);else{Math.max(i,r)===e.rows?e.rows=t:e.cols=t}return n}used(t,e){return this.cellUsed[`c-${t}-${e}`]||!1}use(t,e){this.cellUsed[`c-${t}-${e}`]=!0}moveToNextCell(){const t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)}getPos(t){const e=this,n=e.begin,i=e.cellWidth,r=e.cellHeight;let o,a;const s=e.id2manPos[t.id];if(s)o=s.col*i+i/2+n[0],a=s.row*r+r/2+n[1];else{for(;e.used(e.row,e.col);)e.moveToNextCell();o=e.col*i+i/2+n[0],a=e.row*r+r/2+n[1],e.use(e.row,e.col),e.moveToNextCell()}t.x=o,t.y=a}getType(){return"grid"}}class Co extends oo{constructor(t){super(),this.center=[0,0],this.width=300,this.height=300,this.nodes=[],this.edges=[],this.onLayoutEnd=(()=>{}),this.updateCfg(t)}getDefaultCfg(){return{center:[0,0],width:300,height:300}}execute(){const t=this,e=t.nodes,n=t.center;return t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),e&&e.forEach(e=>{e.x=.9*(Math.random()-.5)*t.width+n[0],e.y=.9*(Math.random()-.5)*t.height+n[1]}),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:this.edges}}getType(){return"random"}}const Io=(t,e)=>{let n;return n=t?uo(t)?e=>t:t:t=>e||1};class ko extends oo{constructor(t){super(),this.maxIteration=1e3,this.workerEnabled=!1,this.edgeStrength=200,this.nodeStrength=1e3,this.coulombDisScale=.005,this.damping=.9,this.maxSpeed=1e3,this.minMovement=.5,this.interval=.02,this.factor=1,this.linkDistance=1,this.gravity=10,this.preventOverlap=!0,this.tick=(()=>{}),this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(t)}getDefaultCfg(){return{maxIteration:500,gravity:10,enableTick:!0}}execute(){var t,e;const n=this,i=n.nodes;if(void 0!==n.timeInterval&&"undefined"!=typeof window&&window.clearInterval(n.timeInterval),!i||0===i.length)return void(null===(t=n.onLayoutEnd)||void 0===t||t.call(n));n.width||"undefined"==typeof window||(n.width=window.innerWidth),n.height||"undefined"==typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);const r=n.center;if(1===i.length)return i[0].x=r[0],i[0].y=r[1],void(null===(e=n.onLayoutEnd)||void 0===e||e.call(n));const o={},a={};i.forEach((t,e)=>{uo(t.x)||(t.x=Math.random()*n.width),uo(t.y)||(t.y=Math.random()*n.height),o[t.id]=t,a[t.id]=e}),n.nodeMap=o,n.nodeIdxMap=a,n.linkDistance=Io(n.linkDistance,1),n.nodeStrength=Io(n.nodeStrength,1),n.edgeStrength=Io(n.edgeStrength,1);const s=n.nodeSize;let l;if(n.preventOverlap){const t=n.nodeSpacing;let e;e=uo(t)?()=>t:wo(t)?t:()=>0,l=s?lo(s)?t=>{return(s[0]>s[1]?s[0]:s[1])+e(t)}:t=>s+e(t):t=>{if(t.size){if(lo(t.size)){return(t.size[0]>t.size[1]?t.size[0]:t.size[1])+e(t)}if(ho(t.size)){return(t.size.width>t.size.height?t.size.width:t.size.height)+e(t)}return t.size+e(t)}return 10+e(t)}}n.nodeSize=l;const u=n.edges;n.degrees=go(i.length,n.nodeIdxMap,u),n.getMass||(n.getMass=(t=>{return n.degrees[n.nodeIdxMap[t.id]]||1})),n.run()}run(){var t;const e=this,{maxIteration:n,nodes:i,workerEnabled:r,minMovement:o}=e;if(i)if(r){for(let t=0;t<n;t++){const n=e.runOneStep(t);if(e.reachMoveThreshold(i,n,o))break}null===(t=e.onLayoutEnd)||void 0===t||t.call(e)}else{if("undefined"==typeof window)return;let t=0;this.timeInterval=window.setInterval(()=>{var r,a;if(!i)return;const s=e.runOneStep(t)||[];e.reachMoveThreshold(i,s,o)&&(null===(r=e.onLayoutEnd)||void 0===r||r.call(e),window.clearInterval(e.timeInterval)),++t>=n&&(null===(a=e.onLayoutEnd)||void 0===a||a.call(e),window.clearInterval(e.timeInterval))},0)}}reachMoveThreshold(t,e,n){let i=0;return t.forEach((t,n)=>{const r=t.x-e[n].x,o=t.y-e[n].y;i+=Math.sqrt(r*r+o*o)}),(i/=t.length)<n}runOneStep(t){var e;const{nodes:n,edges:i}=this,r=[],o=[];if(!n)return;n.forEach((t,e)=>{r[2*e]=0,r[2*e+1]=0,o[2*e]=0,o[2*e+1]=0}),this.calRepulsive(r,n),i&&this.calAttractive(r,i),this.calGravity(r,n);const a=Math.max(.02,this.interval-.002*t);this.updateVelocity(r,o,a,n);const s=[];return n.forEach(t=>{s.push({x:t.x,y:t.y})}),this.updatePosition(o,a,n),null===(e=this.tick)||void 0===e||e.call(this),s}calRepulsive(t,e){const n=this.getMass,i=this.nodeStrength,r=this.factor,o=this.coulombDisScale,a=this.preventOverlap,s=this.nodeSize;e.forEach((l,u)=>{const c=n?n(l):1;e.forEach((e,h)=>{if(u>=h)return;const d=l.x-e.x,f=l.y-e.y,p=Math.sqrt(d*d+f*f)+.01,g=(p+.1)*o,v=d/p,m=f/p,y=(i(l)+i(e))/2*r/(g*g),b=n?n(e):1;if(t[2*u]+=v*y,t[2*u+1]+=m*y,t[2*h]-=v*y,t[2*h+1]-=m*y,a&&p<(s(l)+s(e))/2){const n=(i(l)+i(e))/2/(p*p);t[2*u]+=v*n/c,t[2*u+1]+=m*n/c,t[2*h]-=v*n/b,t[2*h+1]-=m*n/b}})})}calAttractive(t,e){const n=this.nodeMap,i=this.nodeIdxMap,r=this.linkDistance,o=this.edgeStrength,a=this.getMass;e.forEach((e,s)=>{const l=po(e,"source"),u=po(e,"target"),c=n[l],h=n[u],d=h.x-c.x,f=h.y-c.y,p=Math.sqrt(d*d+f*f)+.01,g=d/p,v=f/p,m=((r(e)||1)-p)*o(e),y=i[l],b=i[u],x=a?a(c):1,w=a?a(h):1;t[2*y]-=g*m/x,t[2*y+1]-=v*m/x,t[2*b]+=g*m/w,t[2*b+1]+=v*m/w})}calGravity(t,e){const n=this,i=n.center,r=n.gravity,o=n.degrees,a=e.length;for(let s=0;s<a;s++){const a=e[s];let l=a.x-i[0],u=a.y-i[1],c=r;if(n.getCenter){const t=n.getCenter(a,o[s]);t&&uo(t[0])&&uo(t[1])&&uo(t[2])&&(l=a.x-t[0],u=a.y-t[1],c=t[2])}c&&(t[2*s]-=c*l,t[2*s+1]-=c*u)}}updateVelocity(t,e,n,i){const r=this,o=n*r.damping;i.forEach((n,i)=>{let a=t[2*i]*o||.01,s=t[2*i+1]*o||.01;const l=Math.sqrt(a*a+s*s);if(l>r.maxSpeed){const t=r.maxSpeed/l;a*=t,s*=t}e[2*i]=a,e[2*i+1]=s})}updatePosition(t,e,n){n.forEach((n,i)=>{if(uo(n.fx)&&uo(n.fy))return n.x=n.fx,void(n.y=n.fy);const r=t[2*i]*e,o=t[2*i+1]*e;n.x+=r,n.y+=o})}stop(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval)}destroy(){this.stop(),this.tick=null,this.nodes=null,this.edges=null,this.destroyed=!0}getType(){return"gForce"}}var To=function(t,e){var n,i=1;function r(){var r,o,a=n.length,s=0,l=0;for(r=0;r<a;++r)s+=(o=n[r]).x,l+=o.y;for(s=(s/a-t)*i,l=(l/a-e)*i,r=0;r<a;++r)(o=n[r]).x-=s,o.y-=l}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r.strength=function(t){return arguments.length?(i=+t,r):i},r};function Oo(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,a,s,l,u,c,h,d,f=t._root,p={data:i},g=t._x0,v=t._y0,m=t._x1,y=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((u=e>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a,r=f,!(f=f[h=c<<1|u]))return r[h]=p,t;if(s=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===s&&n===l)return p.next=f,r?r[h]=p:t._root=p,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(u=e>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a}while((h=c<<1|u)==(d=(l>=a)<<1|s>=o));return r[d]=f,r[h]=p,t}var Eo=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r};function Ao(t){return t[0]}function No(t){return t[1]}function Lo(t,e,n){var i=new Do(null==e?Ao:e,null==n?No:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Do(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function jo(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Po=Lo.prototype=Do.prototype;Po.copy=function(){var t,e,n=new Do(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=jo(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=jo(e));return n},Po.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Oo(this.cover(e,n),e,n,t)},Po.addAll=function(t){var e,n,i,r,o=t.length,a=new Array(o),s=new Array(o),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(a[n]=i,s[n]=r,i<l&&(l=i),i>c&&(c=i),r<u&&(u=r),r>h&&(h=r));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<o;++n)Oo(this,a[n],s[n],t[n]);return this},Po.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var a,s,l=r-n||1,u=this._root;n>t||t>=r||i>e||e>=o;)switch(s=(e<i)<<1|t<n,(a=new Array(4))[s]=u,u=a,l*=2,s){case 0:r=n+l,o=i+l;break;case 1:n=r-l,o=i+l;break;case 2:r=n+l,i=o-l;break;case 3:n=r-l,i=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},Po.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},Po.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Po.find=function(t,e,n){var i,r,o,a,s,l,u,c=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new Eo(g,c,h,d,f)),null==n?n=1/0:(c=t-n,h=e-n,d=t+n,f=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(r=l.x0)>d||(o=l.y0)>f||(a=l.x1)<c||(s=l.y1)<h))if(g.length){var v=(r+a)/2,m=(o+s)/2;p.push(new Eo(g[3],v,m,a,s),new Eo(g[2],r,m,v,s),new Eo(g[1],v,o,a,m),new Eo(g[0],r,o,v,m)),(u=(e>=m)<<1|t>=v)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var y=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),x=y*y+b*b;if(x<n){var w=Math.sqrt(n=x);c=t-w,h=e-w,d=t+w,f=e+w,i=g.data}}return i},Po.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,r,o,a,s,l,u,c,h,d,f=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!f)return this;if(f.length)for(;;){if((u=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(l=(g+m)/2))?g=l:m=l,e=f,!(f=f[h=c<<1|u]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(i=f,!(f=f.next))return this;return(r=f.next)&&delete f.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=r,this)},Po.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Po.root=function(){return this._root},Po.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},Po.visit=function(t){var e,n,i,r,o,a,s=[],l=this._root;for(l&&s.push(new Eo(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,o=e.x1,a=e.y1)&&l.length){var u=(i+o)/2,c=(r+a)/2;(n=l[3])&&s.push(new Eo(n,u,c,o,a)),(n=l[2])&&s.push(new Eo(n,i,c,u,a)),(n=l[1])&&s.push(new Eo(n,u,r,o,c)),(n=l[0])&&s.push(new Eo(n,i,r,u,c))}return this},Po.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new Eo(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,a=e.x0,s=e.y0,l=e.x1,u=e.y1,c=(a+l)/2,h=(s+u)/2;(o=r[0])&&n.push(new Eo(o,a,s,c,h)),(o=r[1])&&n.push(new Eo(o,c,s,l,h)),(o=r[2])&&n.push(new Eo(o,a,h,c,u)),(o=r[3])&&n.push(new Eo(o,c,h,l,u))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Po.x=function(t){return arguments.length?(this._x=t,this):this._x},Po.y=function(t){return arguments.length?(this._y=t,this):this._y};var Ro=function(t){return function(){return t}},zo=function(t){return 1e-6*(t()-.5)};function Bo(t){return t.x+t.vx}function Fo(t){return t.y+t.vy}var Go=function(t){var e,n,i,r=1,o=1;function a(){for(var t,a,l,u,c,h,d,f=e.length,p=0;p<o;++p)for(a=Lo(e,Bo,Fo).visitAfter(s),t=0;t<f;++t)l=e[t],h=n[l.index],d=h*h,u=l.x+l.vx,c=l.y+l.vy,a.visit(g);function g(t,e,n,o,a){var s=t.data,f=t.r,p=h+f;if(!s)return e>u+p||o<u-p||n>c+p||a<c-p;if(s.index>l.index){var g=u-s.x-s.vx,v=c-s.y-s.vy,m=g*g+v*v;m<p*p&&(0===g&&(m+=(g=zo(i))*g),0===v&&(m+=(v=zo(i))*v),m=(p-(m=Math.sqrt(m)))/m*r,l.vx+=(g*=m)*(p=(f*=f)/(d+f)),l.vy+=(v*=m)*p,s.vx-=g*(p=1-p),s.vy-=v*p)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var i,r,o=e.length;for(n=new Array(o),i=0;i<o;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!=typeof t&&(t=Ro(null==t?1:+t)),a.initialize=function(t,n){e=t,i=n,l()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(r=+t,a):r},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:Ro(+e),l(),a):t},a};function Vo(t){return t.index}function Wo(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}var Ho=function(t){var e,n,i,r,o,a,s=Vo,l=function(t){return 1/Math.min(r[t.source.index],r[t.target.index])},u=Ro(30),c=1;function h(i){for(var r=0,s=t.length;r<c;++r)for(var l,u,h,d,f,p,g,v=0;v<s;++v)u=(l=t[v]).source,d=(h=l.target).x+h.vx-u.x-u.vx||zo(a),f=h.y+h.vy-u.y-u.vy||zo(a),d*=p=((p=Math.sqrt(d*d+f*f))-n[v])/p*i*e[v],f*=p,h.vx-=d*(g=o[v]),h.vy-=f*g,u.vx+=d*(g=1-g),u.vy+=f*g}function d(){if(i){var a,l,u=i.length,c=t.length,h=new Map(i.map((t,e)=>[s(t,e,i),t]));for(a=0,r=new Array(u);a<c;++a)(l=t[a]).index=a,"object"!=typeof l.source&&(l.source=Wo(h,l.source)),"object"!=typeof l.target&&(l.target=Wo(h,l.target)),r[l.source.index]=(r[l.source.index]||0)+1,r[l.target.index]=(r[l.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)l=t[a],o[a]=r[l.source.index]/(r[l.source.index]+r[l.target.index]);e=new Array(c),f(),n=new Array(c),p()}}function f(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+l(t[n],n,t)}function p(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){i=t,a=e,d()},h.links=function(e){return arguments.length?(t=e,d(),h):t},h.id=function(t){return arguments.length?(s=t,h):s},h.iterations=function(t){return arguments.length?(c=+t,h):c},h.strength=function(t){return arguments.length?(l="function"==typeof t?t:Ro(+t),f(),h):l},h.distance=function(t){return arguments.length?(u="function"==typeof t?t:Ro(+t),p(),h):u},h},Uo={value:function(){}};function Yo(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Jo(i)}function Jo(t){this._=t}function Qo(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function Zo(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Uo,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}Jo.prototype=Yo.prototype={constructor:Jo,on:function(t,e){var n,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)r[n]=Zo(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Zo(r[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=Qo(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Jo(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var $o=Yo,Xo=n("9fCz");function Ko(t){return t.x}function qo(t){return t.y}var ta=10,ea=Math.PI*(3-Math.sqrt(5)),na=function(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,a=.6,s=new Map,l=Object(Xo.a)(h),u=$o("tick","end"),c=function(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}();function h(){d(),u.call("tick",e),n<i&&(l.stop(),u.call("end",e))}function d(i){var l,u,c=t.length;void 0===i&&(i=1);for(var h=0;h<i;++h)for(n+=(o-n)*r,s.forEach(function(t){t(n)}),l=0;l<c;++l)null==(u=t[l]).fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return e}function f(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=ta*Math.sqrt(.5+n),o=n*ea;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,c),e}return null==t&&(t=[]),f(),e={tick:d,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(c=t,s.forEach(p),e):c},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,i){var r,o,a,s,l,u=0,c=t.length;for(null==i?i=1/0:i*=i,u=0;u<c;++u)(a=(r=e-(s=t[u]).x)*r+(o=n-s.y)*o)<i&&(l=s,i=a);return l},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}},ia=function(){var t,e,n,i,r,o=Ro(-30),a=1,s=1/0,l=.81;function u(n){var r,o=t.length,a=Lo(t,Ko,qo).visitAfter(h);for(i=n,r=0;r<o;++r)e=t[r],a.visit(d)}function c(){if(t){var e,n,i=t.length;for(r=new Array(i),e=0;e<i;++e)n=t[e],r[n.index]=+o(n,e,t)}}function h(t){var e,n,i,o,a,s=0,l=0;if(t.length){for(i=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,i+=n*e.x,o+=n*e.y);t.x=i/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function d(t,o,u,c){if(!t.value)return!0;var h=t.x-e.x,d=t.y-e.y,f=c-o,p=h*h+d*d;if(f*f/l<p)return p<s&&(0===h&&(p+=(h=zo(n))*h),0===d&&(p+=(d=zo(n))*d),p<a&&(p=Math.sqrt(a*p)),e.vx+=h*t.value*i/p,e.vy+=d*t.value*i/p),!0;if(!(t.length||p>=s)){(t.data!==e||t.next)&&(0===h&&(p+=(h=zo(n))*h),0===d&&(p+=(d=zo(n))*d),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(f=r[t.data.index]*i/p,e.vx+=h*f,e.vy+=d*f)}while(t=t.next)}}return u.initialize=function(e,i){t=e,n=i,c()},u.strength=function(t){return arguments.length?(o="function"==typeof t?t:Ro(+t),c(),u):o},u.distanceMin=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.distanceMax=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u.theta=function(t){return arguments.length?(l=t*t,u):Math.sqrt(l)},u},ra=function(t){var e,n,i,r=Ro(.1);function o(t){for(var r,o=0,a=e.length;o<a;++o)(r=e[o]).vx+=(i[o]-r.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=Ro(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:Ro(+t),a(),o):r},o.x=function(e){return arguments.length?(t="function"==typeof e?e:Ro(+e),a(),o):t},o},oa=function(t){var e,n,i,r=Ro(.1);function o(t){for(var r,o=0,a=e.length;o<a;++o)(r=e[o]).vy+=(i[o]-r.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=Ro(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:Ro(+t),a(),o):r},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Ro(+e),a(),o):t},o};function aa(){function t(t){return()=>t}let e,n=t=>t.cluster,i=t(1),r=t(-1),o=t(100),a=t(.1),s=[0,0],l=[],u={},c=[],h=100,d=100,f={none:{x:0,y:0}},p=[],g="force",v=!0,m=.1;function y(t){if(!v)return y;e.tick(),x();for(let e,i=0,r=l.length,o=t*m;i<r;++i)(e=l[i]).vx+=(f[n(e)].x-e.x)*o,e.vy+=(f[n(e)].y-e.y)*o}function b(){l&&function(){if(!l||!l.length)return;if(void 0===n(l[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");const t=function(){const t=[],e=[],r={};let o=[],a={},s=[];return a=function(t){const e={};return t.forEach(t=>{const i=n(t);e[i]||(e[i]={count:0,sumforceNodeSize:0})}),t.forEach(t=>{const r=n(t),o=i(t),a=e[r];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI*(o*o)*1.3,e[r]=a}),e}(l),s=function(t){const e={},i=[];return t.forEach(t=>{const i=function(t){const e=po(t,"source"),i=po(t,"target"),r=n(u[e]),o=n(u[i]);return r<=o?`${r}~${o}`:`${o}~${r}`}(t);let r=0;void 0!==e[i]&&(r=e[i]),r+=1,e[i]=r}),Object.entries(e).forEach(([t,e])=>{const n=t.split("~")[0],r=t.split("~")[1];void 0!==n&&void 0!==r&&i.push({source:n,target:r,count:e})}),i}(c),(o=Object.keys(a)).forEach((e,n)=>{const i=a[e];t.push({id:e,size:i.count,r:Math.sqrt(i.sumforceNodeSize/Math.PI)}),r[e]=n}),s.forEach(t=>{const n=po(t,"source"),i=po(t,"target"),o=r[n],a=r[i];void 0!==o&&void 0!==a&&e.push({source:o,target:a,count:t.count})}),{nodes:t,links:e}}();e=na(t.nodes).force("x",ra(h).strength(.1)).force("y",oa(d).strength(.1)).force("collide",Go(t=>t.r).iterations(4)).force("charge",ia().strength(r)).force("links",Ho(t.nodes.length?t.links:[]).distance(o).strength(a)),p=e.nodes(),x()}()}function x(){return f={none:{x:0,y:0}},p.forEach(t=>{f[t.id]={x:t.x-s[0],y:t.y-s[1]}}),f}return y.initialize=(t=>{l=t,b()}),y.template=function(t){return arguments.length?(g=t,b(),y):g},y.groupBy=function(t){return arguments.length?"string"==typeof t?(n=(e=>e[t]),y):(n=t,y):n},y.enableGrouping=function(t){return arguments.length?(v=t,y):v},y.strength=function(t){return arguments.length?(m=t,y):m},y.centerX=function(t){return arguments.length?(h=t,y):h},y.centerY=function(t){return arguments.length?(d=t,y):d},y.nodes=function(t){return arguments.length?(function(t){u={},t.forEach(t=>{u[t.id]=t})}(t||[]),l=t||[],y):l},y.links=function(t){return arguments.length?(c=t||[],b(),y):c},y.forceNodeSize=function(e){return arguments.length?(i="function"==typeof e?e:t(+e),b(),y):i},y.nodeSize=y.forceNodeSize,y.forceCharge=function(e){return arguments.length?(r="function"==typeof e?e:t(+e),b(),y):r},y.forceLinkDistance=function(e){return arguments.length?(o="function"==typeof e?e:t(+e),b(),y):o},y.forceLinkStrength=function(e){return arguments.length?(a="function"==typeof e?e:t(+e),b(),y):a},y.offset=function(t){return arguments.length?(s=t,y):s},y.getFocis=x,y}const sa={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};class la extends oo{constructor(t){super(),this.center=[0,0],this.nodeStrength=null,this.edgeStrength=null,this.preventOverlap=!1,this.clusterNodeStrength=null,this.clusterEdgeStrength=null,this.clusterEdgeDistance=null,this.clusterNodeSize=null,this.clusterFociStrength=null,this.linkDistance=50,this.alphaDecay=.028,this.alphaMin=.001,this.alpha=.3,this.collideStrength=1,this.workerEnabled=!1,this.tick=(()=>{}),this.onLayoutEnd=(()=>{}),this.ticking=void 0,t&&this.updateCfg(t)}getDefaultCfg(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick(){},onLayoutEnd(){},workerEnabled:!1}}init(t){this.nodes=t.nodes||[];const e=t.edges||[];this.edges=e.map(t=>{const e={},n=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(t).forEach(i=>{n.indexOf(i)>-1||(e[i]=t[i])}),e}),this.ticking=!1}execute(t){const e=this,n=e.nodes,i=e.edges;if(e.ticking)return;let r=e.forceSimulation;const o=e.alphaMin,a=e.alphaDecay,s=e.alpha;if(r){if(t)if(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(i)),r.nodes(n),i&&e.edgeForce)e.edgeForce.links(i);else if(i&&!e.edgeForce){const t=Ho().id(t=>t.id).links(i);e.edgeStrength&&t.strength(e.edgeStrength),e.linkDistance&&t.distance(e.linkDistance),e.edgeForce=t,r.force("link",t)}e.preventOverlap&&e.overlapProcess(r),r.alpha(s).restart(),this.ticking=!0}else try{const t=ia();if(e.nodeStrength&&t.strength(e.nodeStrength),r=na().nodes(n),e.clustering){const t=aa();t.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),i&&t.links(i),n&&t.nodes(n),t.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=t,r.force("group",t)}if(r.force("center",To(e.center[0],e.center[1])).force("charge",t).alpha(s).alphaDecay(a).alphaMin(o),e.preventOverlap&&e.overlapProcess(r),i){const t=Ho().id(t=>t.id).links(i);e.edgeStrength&&t.strength(e.edgeStrength),e.linkDistance&&t.distance(e.linkDistance),e.edgeForce=t,r.force("link",t)}if(e.workerEnabled&&!ua()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),e.workerEnabled){r.stop();const t=function(t){const e=t.alphaMin(),n=t.alphaTarget(),i=t.alpha(),r=Math.log((e-n)/(i-n))/Math.log(1-t.alphaDecay());return Math.ceil(r)}(r);for(let e=1;e<=t;e++)r.tick(),postMessage({nodes:n,currentTick:e,totalTicks:t,type:sa.TICK},void 0);e.ticking=!1}else r.on("tick",()=>{e.tick()}).on("end",()=>{e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()}),e.ticking=!0;e.forceSimulation=r,e.ticking=!0}catch(t){e.ticking=!1,console.warn(t)}}overlapProcess(t){const e=this.nodeSize,n=this.nodeSpacing;let i,r;const o=this.collideStrength;if(r=uo(n)?()=>n:wo(n)?n:()=>0,e)if(wo(e))i=(t=>{return e(t)+r(t)});else if(lo(e)){const t=(e[0]>e[1]?e[0]:e[1])/2;i=(e=>t+r(e))}else if(uo(e)){const t=e/2;i=(e=>t+r(e))}else i=(()=>10);else i=(t=>{if(t.size){if(lo(t.size)){return(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+r(t)}if(ho(t.size)){return(t.size.width>t.size.height?t.size.width:t.size.height)/2+r(t)}return t.size/2+r(t)}return 10+r(t)});t.force("collisionForce",Go(i).strength(o))}updateCfg(t){const e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,Object.assign(e,t)}destroy(){const t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0}}function ua(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}function ca(t,e){const n=t.degree,i=e.degree;return n<i?-1:n>i?1:0}class ha extends oo{constructor(t){super(),this.radius=null,this.startRadius=null,this.endRadius=null,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.divisions=1,this.ordering=null,this.angleRatio=1,this.nodes=[],this.edges=[],this.nodeMap={},this.degrees=[],this.width=300,this.height=300,this.updateCfg(t)}getDefaultCfg(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}}execute(){const t=this,e=t.nodes,n=t.edges,i=e.length;if(0===i)return void(t.onLayoutEnd&&t.onLayoutEnd());t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);const r=t.center;if(1===i)return e[0].x=r[0],e[0].y=r[1],void(t.onLayoutEnd&&t.onLayoutEnd());let o=t.radius,a=t.startRadius,s=t.endRadius;const l=t.divisions,u=t.startAngle,c=t.endAngle,h=(c-u)/i,d={};e.forEach((t,e)=>{d[t.id]=e}),t.nodeMap=d;const f=go(e.length,d,n);t.degrees=f,o||a||s?!a&&s?a=s:a&&!s&&(s=a):o=t.height>t.width?t.width/2:t.height/2;const p=h*t.angleRatio,g=t.ordering;let v=[];v="topology"===g?t.topologyOrdering():"topology-directed"===g?t.topologyOrdering(!0):"degree"===g?t.degreeOrdering():e;const m=t.clockwise,y=Math.ceil(i/l);for(let t=0;t<i;++t){let e=o;e||null===a||null===s||(e=a+t*(s-a)/(i-1)),e||(e=10+100*t/(i-1));let n=u+t%y*p+2*Math.PI/l*Math.floor(t/y);m||(n=c-t%y*p-2*Math.PI/l*Math.floor(t/y)),v[t].x=r[0]+Math.cos(n)*e,v[t].y=r[1]+Math.sin(n)*e,v[t].weight=f[t]}return t.onLayoutEnd&&t.onLayoutEnd(),{nodes:v,edges:this.edges}}topologyOrdering(t=!1){const e=this.degrees,n=this.edges,i=this.nodes,r=fo(i),o=this.nodeMap,a=[r[0]],s=[i[0]],l=[],u=i.length;l[0]=!0,function(t,e,n,i){t.forEach((e,n)=>{t[n].children=[],t[n].parent=[]}),i?e.forEach(e=>{const i=po(e,"source"),r=po(e,"target");let o=0;i&&(o=n[i]);let a=0;r&&(a=n[r]);const s=t[o].children,l=t[a].parent;s.push(t[a].id),l.push(t[o].id)}):e.forEach(e=>{const i=po(e,"source"),r=po(e,"target");let o=0;i&&(o=n[i]);let a=0;r&&(a=n[r]);const s=t[o].children,l=t[a].children;s.push(t[a].id),l.push(t[o].id)})}(r,n,o,t);let c=0;return r.forEach((t,h)=>{if(0!==h)if(h!==u-1&&e[h]===e[h+1]&&!function(t,e,n){const i=n.length;for(let r=0;r<i;r++){const i=po(n[r],"source"),o=po(n[r],"target");if(t.id===i&&e.id===o||e.id===i&&t.id===o)return!0}return!1}(a[c],t,n)||l[h]){const t=a[c].children;let n=!1;for(let u=0;u<t.length;u++){const c=o[t[u]];if(e[c]===e[h]&&!l[c]){a.push(r[c]),s.push(i[o[r[c].id]]),l[c]=!0,n=!0;break}}let d=0;for(;!n&&(l[d]||(a.push(r[d]),s.push(i[o[r[d].id]]),l[d]=!0,n=!0),++d!==u););}else a.push(t),s.push(i[o[t.id]]),l[h]=!0,c++}),s}degreeOrdering(){const t=this.nodes,e=[],n=this.degrees;return t.forEach((t,i)=>{t.degree=n[i],e.push(t)}),e.sort(ca),e}getType(){return"circular"}}var da=n("brd9");let fa=n.n(da).a;fa||"undefined"==typeof window||(fa=window.graphlib),Array.prototype.flat||(Array.prototype.flat=function(t){let e=t||1;if(!isFinite(e))return;const n=this.length;let i=[];if(0===this.length)return this;for(;e--;){const t=[];let r=!1;if(0===i.length){r=!0;for(let t=0;t<n;t++)this[t]instanceof Array?i.push(...this[t]):i.push(this[t])}else{for(let e=0;e<i.length;e++)i[e]instanceof Array?(r=!0,t.push(...i[e])):t.push(i[e]);i=t}if(!r&&e===1/0)break}return i});var pa=fa;const ga=t=>{t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev},va=(t,e)=>{if("_next"!==t&&"_prev"!==t)return e};var ma=class{constructor(){const t={};t._next=t._prev=t,this.isentinel=t}dequeue(){const t=this.isentinel,e=t._prev;if(e!==t)return ga(e),e}enqueue(){const t=this.isentinel,e=t._prev;if(e!==t)return ga(e),e}toString(){const t=[],e=this.isentinel;let n=e._prev;for(;n!==e;)t.push(JSON.stringify(n,va)),n=n._prev;return`[${t.join(", ")}]`}};const ya=pa.Graph,ba=()=>1,xa=(t,e,n)=>{let i=[];const r=e[e.length-1],o=e[0];let a;for(;t.nodeCount();){for(;a=o.dequeue();)wa(t,e,n,a);for(;a=r.dequeue();)wa(t,e,n,a);if(t.nodeCount())for(let r=e.length-2;r>0;--r)if(a=e[r].dequeue()){i=i.concat(wa(t,e,n,a,!0));break}}return i},wa=(t,e,n,i,r)=>{var o,a;const s=r?[]:void 0;return null===(o=t.inEdges(i.v))||void 0===o||o.forEach(i=>{const o=t.edge(i),a=t.node(i.v);r&&s.push({v:i.v,w:i.w}),void 0===a.out&&(a.out=0),a.out-=o,Sa(e,n,a)}),null===(a=t.outEdges(i.v))||void 0===a||a.forEach(i=>{const r=t.edge(i),o=i.w,a=t.node(o);void 0===a.in&&(a.in=0),a.in-=r,Sa(e,n,a)}),t.removeNode(i.v),s},_a=(t,e)=>{const n=new ya;let i=0,r=0;t.nodes().forEach(t=>{n.setNode(t,{v:t,in:0,out:0})}),t.edges().forEach(t=>{const o=n.edge(t.v,t.w)||0,a=null===e||void 0===e?void 0:e(t),s=o+a;n.setEdge(t.v,t.w,s),r=Math.max(r,n.node(t.v).out+=a),i=Math.max(i,n.node(t.w).in+=a)});const o=[],a=r+i+3;for(let t=0;t<a;t++)o.push(new ma);const s=i+1;return n.nodes().forEach(t=>{Sa(o,s,n.node(t))}),{buckets:o,zeroIdx:s,graph:n}},Sa=(t,e,n)=>{n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)};var Ma=(t,e)=>{var n;if(t.nodeCount()<=1)return[];const i=_a(t,e||ba);return null===(n=xa(i.graph,i.buckets,i.zeroIdx).map(e=>t.outEdges(e.v,e.w)))||void 0===n?void 0:n.flat()};const Ca=t=>{const e=[],n={},i={},r=o=>{var a;i.hasOwnProperty(o)||(i[o]=!0,n[o]=!0,null===(a=t.outEdges(o))||void 0===a||a.forEach(t=>{n.hasOwnProperty(t.w)?e.push(t):r(t.w)}),delete n[o])};return t.nodes().forEach(r),e};var Ia=t=>{const e="greedy"===t.graph().acyclicer?Ma(t,(t=>e=>t.edge(e).weight)(t)):Ca(t);null===e||void 0===e||e.forEach(e=>{const n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,`rev-${Math.random()}`)})},ka=t=>{t.edges().forEach(e=>{const n=t.edge(e);if(n.reversed){t.removeEdge(e);const i=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,i)}})};const Ta=pa.Graph,Oa=(t,e,n,i)=>{let r;do{r=`${i}${Math.random()}`}while(t.hasNode(r));return n.dummy=e,t.setNode(r,n),r},Ea=t=>{const e=(new Ta).setGraph(t.graph());return t.nodes().forEach(n=>{e.setNode(n,t.node(n))}),t.edges().forEach(n=>{const i=e.edge(n.v,n.w)||{weight:0,minlen:1},r=t.edge(n);e.setEdge(n.v,n.w,{weight:i.weight+r.weight,minlen:Math.max(i.minlen,r.minlen)})}),e},Aa=(t,e)=>{const n={};return null===t||void 0===t||t.forEach((t,i)=>{n[t]=e[i]}),n},Na=t=>{const e=t.nodes().filter(e=>void 0!==t.node(e).rank).map(e=>t.node(e).rank),n=Math.min(...e);t.nodes().forEach(e=>{const i=t.node(e);i.hasOwnProperty("rank")&&(i.rank||(i.rank=0),i.rank-=n)})},La=t=>{const e=t.nodes().filter(e=>void 0!==t.node(e).rank).map(e=>t.node(e).rank),n=Math.min(...e),i=[];t.nodes().forEach(e=>{var r;const o=((null===(r=t.node(e))||void 0===r?void 0:r.rank)||0)-n;i[o]||(i[o]=[]),i[o].push(e)});let r=0;const o=t.graph().nodeRankFactor||0;for(let e=0;e<i.length;e++){const n=i[e];void 0===n&&e%o!=0?--r:r&&(null===n||void 0===n||n.forEach(e=>{t.node(e).rank||(t.node(e).rank=0),t.node(e).rank+=r}))}},Da=t=>{const e=t.nodes().map(e=>{const n=t.node(e).rank;return void 0!==n?n:-1/0});return Math.max(...e)},ja=(t,e)=>{const n=Date.now();try{return e()}finally{console.log(`${t} time: ${Date.now()-n}ms`)}},Pa=(t,e)=>e(),Ra=(t,e)=>{let n,i=1/0;return null===t||void 0===t||t.forEach(t=>{const r=e(t);i>r&&(i=r,n=t)}),n};var za={addDummyNode:Oa,simplify:Ea,asNonCompoundGraph:t=>{const e=new Ta({multigraph:t.isMultigraph()}).setGraph(t.graph());return t.nodes().forEach(n=>{var i;(null===(i=t.children(n))||void 0===i?void 0:i.length)||e.setNode(n,t.node(n))}),t.edges().forEach(n=>e.setEdge(n,t.edge(n))),e},successorWeights:t=>{const e=t.nodes().map(e=>{var n;const i={};return null===(n=t.outEdges(e))||void 0===n||n.forEach(e=>{i[e.w]=(i[e.w]||0)+t.edge(e).weight}),i});return Aa(t.nodes(),e)},predecessorWeights:t=>{const e=t.nodes().map(e=>{var n;const i={};return null===(n=t.inEdges(e))||void 0===n||n.forEach(e=>{i[e.v]=(i[e.v]||0)+t.edge(e).weight}),i});return Aa(t.nodes(),e)},intersectRect:(t,e)=>{const n=t.x,i=t.y,r=e.x-n,o=e.y-i;let a,s,l=t.width/2,u=t.height/2;return r||o?(Math.abs(o)*l>Math.abs(r)*u?(o<0&&(u=-u),a=u*r/o,s=u):(r<0&&(l=-l),a=l,s=l*o/r),{x:n+a,y:i+s}):{x:0,y:0}},buildLayerMatrix:t=>{const e=[],n=[],i=Da(t)+1;for(let t=0;t<i;t++)e.push([]),n.push([]);return t.nodes().forEach(i=>{const r=t.node(i).rank;void 0!==r&&e[r]&&n[r].push(i)}),null===n||void 0===n||n.forEach((n,i)=>{null===n||void 0===n||n.sort((e,n)=>{var i,r;return(null===(i=t.node(e))||void 0===i?void 0:i.order)-(null===(r=t.node(n))||void 0===r?void 0:r.order)}),n.forEach(t=>{e[i].push(t)})}),e},normalizeRanks:Na,removeEmptyRanks:La,addBorderNode:(t,e,n,i)=>{const r={width:0,height:0};return uo(n)&&uo(i)&&(r.rank=n,r.order=i),Oa(t,"border",r,e)},maxRank:Da,partition:(t,e)=>{const n={lhs:[],rhs:[]};return null===t||void 0===t||t.forEach(t=>{e(t)?n.lhs.push(t):n.rhs.push(t)}),n},time:ja,notime:Pa,zipObject:Aa,minBy:Ra};const Ba=(t,e)=>{var n,i;let r=e.v,o=t.node(r).rank;const a=e.w,s=t.node(a).rank,l=e.name,u=t.edge(e),c=u.labelRank;if(s===o+1)return;let h,d,f;for(t.removeEdge(e),f=0,++o;o<s;++f,++o)u.points=[],d={edgeLabel:u,width:0,height:0,edgeObj:e,rank:o},h=za.addDummyNode(t,"edge",d,"_d"),o===c&&(d.width=u.width,d.height=u.height,d.dummy="edge-label",d.labelpos=u.labelpos),t.setEdge(r,h,{weight:u.weight},l),0===f&&(t.graph().dummyChains||(t.graph().dummyChains=[]),null===(i=null===(n=t.graph())||void 0===n?void 0:n.dummyChains)||void 0===i||i.push(h)),r=h;t.setEdge(r,a,{weight:u.weight},l)};var Fa=t=>{t.graph().dummyChains=[],t.edges().forEach(e=>Ba(t,e))},Ga=t=>{var e;null===(e=t.graph().dummyChains)||void 0===e||e.forEach(e=>{var n;let i=t.node(e);const r=i.edgeLabel;let o;i.edgeObj&&t.setEdge(i.edgeObj,r);let a=e;for(;i.dummy;)o=null===(n=t.successors(a))||void 0===n?void 0:n[0],t.removeNode(a),r.points.push({x:i.x,y:i.y}),"edge-label"===i.dummy&&(r.x=i.x,r.y=i.y,r.width=i.width,r.height=i.height),a=o,i=t.node(a)})};const Va=t=>{var e;const n={},i=e=>{var r;const o=t.node(e);if(n.hasOwnProperty(e))return o.rank;n[e]=!0;const a=null===(r=t.outEdges(e))||void 0===r?void 0:r.map(e=>i(e.w)-t.edge(e).minlen||1/0);let s=Math.min(...a);return s!==Number.POSITIVE_INFINITY&&void 0!==s&&null!==s||(s=0),o.rank=s,s};null===(e=t.sources())||void 0===e||e.forEach(t=>i(t))},Wa=t=>{var e;const n={};let i=0;const r=e=>{var o;const a=t.node(e);if(n.hasOwnProperty(e))return a.rank;n[e]=!0;const s=null===(o=t.outEdges(e))||void 0===o?void 0:o.map(e=>r(e.w)-t.edge(e).minlen||1/0);let l=Math.min(...s);return l!==Number.POSITIVE_INFINITY&&void 0!==l&&null!==l||(l=0),a.rank=l,i=Math.min(a.rank,i),a.rank};null===(e=t.sources())||void 0===e||e.forEach(t=>r(t)),i+=1;const o=(e,n)=>{var i;const r=t.node(e),a=isNaN(r.layer)?n:r.layer;(void 0===r.rank||r.rank<a)&&(r.rank=a),null===(i=t.outEdges(e))||void 0===i||i.map(e=>{o(e.w,a+t.edge(e).minlen)})};t.nodes().forEach(e=>{const n=t.node(e);isNaN(n.layer)?n.rank-=i:o(e,n.layer)})},Ha=(t,e)=>t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen;const Ua=pa.Graph,Ya=t=>{const e=new Ua({directed:!1}),n=t.nodes()[0],i=t.nodeCount();let r,o;for(e.setNode(n,{});Ja(e,t)<i;)r=$a(e,t),o=e.hasNode(r.v)?Ha(t,r):-Ha(t,r),Xa(e,t,o);return e},Ja=(t,e)=>{const n=i=>{e.nodeEdges(i).forEach(r=>{const o=r.v,a=i===o?r.w:o;t.hasNode(a)||Ha(e,r)||(t.setNode(a,{}),t.setEdge(i,a,{}),n(a))})};return t.nodes().forEach(n),t.nodeCount()},Qa=t=>{const e=new Ua({directed:!1}),n=t.nodes()[0],i=t.nodeCount();let r,o;for(e.setNode(n,{});Za(e,t)<i;)r=$a(e,t),o=e.hasNode(r.v)?Ha(t,r):-Ha(t,r),Xa(e,t,o);return e},Za=(t,e)=>{const n=i=>{var r;null===(r=e.nodeEdges(i))||void 0===r||r.forEach(r=>{const o=r.v,a=i===o?r.w:o;t.hasNode(a)||void 0===e.node(a).layer&&Ha(e,r)||(t.setNode(a,{}),t.setEdge(i,a,{}),n(a))})};return t.nodes().forEach(n),t.nodeCount()},$a=(t,e)=>Ra(e.edges(),n=>t.hasNode(n.v)!==t.hasNode(n.w)?Ha(e,n):1/0),Xa=(t,e,n)=>{t.nodes().forEach(t=>{e.node(t).rank||(e.node(t).rank=0),e.node(t).rank+=n})};const Ka=pa.alg,{preorder:qa,postorder:ts}=Ka,es=t=>{t=Ea(t),Va(t);const e=Ya(t);let n,i;for(os(e),ns(e,t);n=ss(e);)i=ls(e,t,n),us(e,t,n,i)},ns=(t,e)=>{let n=ts(t,t.nodes());null===(n=null===n||void 0===n?void 0:n.slice(0,(null===n||void 0===n?void 0:n.length)-1))||void 0===n||n.forEach(n=>{is(t,e,n)})},is=(t,e,n)=>{const i=t.node(n).parent;t.edge(n,i).cutvalue=rs(t,e,n)},rs=(t,e,n)=>{var i;const r=t.node(n).parent;let o=!0,a=e.edge(n,r),s=0;return a||(o=!1,a=e.edge(r,n)),s=a.weight,null===(i=e.nodeEdges(n))||void 0===i||i.forEach(i=>{const a=i.v===n,l=a?i.w:i.v;if(l!==r){const r=a===o,u=e.edge(i).weight;if(s+=r?u:-u,hs(t,n,l)){const e=t.edge(n,l).cutvalue;s+=r?-e:e}}}),s},os=(t,e)=>{void 0!==e&&(e=t.nodes()[0]),as(t,{},1,e)},as=(t,e,n,i,r)=>{var o;const a=n;let s=n;const l=t.node(i);return e[i]=!0,null===(o=t.neighbors(i))||void 0===o||o.forEach(n=>{e.hasOwnProperty(n)||(s=as(t,e,s,n,i))}),l.low=a,l.lim=s++,r?l.parent=r:delete l.parent,s},ss=t=>t.edges().find(e=>t.edge(e).cutvalue<0),ls=(t,e,n)=>{let i=n.v,r=n.w;e.hasEdge(i,r)||(i=n.w,r=n.v);const o=t.node(i),a=t.node(r);let s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);const u=e.edges().filter(e=>l===ds(t,t.node(e.v),s)&&l!==ds(t,t.node(e.w),s));return Ra(u,t=>Ha(e,t))},us=(t,e,n,i)=>{const r=n.v,o=n.w;t.removeEdge(r,o),t.setEdge(i.v,i.w,{}),os(t),ns(t,e),cs(t,e)},cs=(t,e)=>{const n=t.nodes().find(t=>!e.node(t).parent);let i=qa(t,n);null===(i=null===i||void 0===i?void 0:i.slice(1))||void 0===i||i.forEach(n=>{const i=t.node(n).parent;let r=e.edge(n,i),o=!1;r||(r=e.edge(i,n),o=!0),e.node(n).rank=e.node(i).rank+(o?r.minlen:-r.minlen)})},hs=(t,e,n)=>t.hasEdge(e,n),ds=(t,e,n)=>n.low<=e.lim&&e.lim<=n.lim;es.initLowLimValues=os,es.initCutValues=ns,es.calcCutValue=rs,es.leaveEdge=ss,es.enterEdge=ls,es.exchangeEdges=us;var fs=es;const ps=Va,gs=t=>{Wa(t),Qa(t)},vs=t=>{fs(t)};var ms=t=>{switch(t.graph().ranker){case"network-simplex":vs(t);break;case"tight-tree":gs(t);break;case"longest-path":ps(t);break;default:gs(t)}};const ys=(t,e,n,i)=>{const r=[],o=[],a=Math.min(e[n].low,e[i].low),s=Math.max(e[n].lim,e[i].lim);let l,u;l=n;do{l=t.parent(l),r.push(l)}while(l&&(e[l].low>a||s>e[l].lim));for(u=l,l=i;(l=t.parent(l))!==u;)o.push(l);return{lca:u,path:r.concat(o.reverse())}},bs=t=>{var e;const n={};let i=0;const r=e=>{var o;const a=i;null===(o=t.children(e))||void 0===o||o.forEach(r),n[e]={low:a,lim:i++}};return null===(e=t.children())||void 0===e||e.forEach(r),n};var xs=t=>{var e;const n=bs(t);null===(e=t.graph().dummyChains)||void 0===e||e.forEach(e=>{var i,r;let o=t.node(e);const a=o.edgeObj;if(!a)return;const s=ys(t,n,a.v,a.w),l=s.path,u=s.lca;let c=0,h=l[c],d=!0;for(;e!==a.w;){if(o=t.node(e),d){for(;(h=l[c])!==u&&t.node(h).maxRank<o.rank;)c++;h===u&&(d=!1)}if(!d){for(;c<l.length-1&&(null===(i=t.node(h=l[c+1]))||void 0===i?void 0:i.minRank)<=o.rank;)c++;h=l[c]}t.setParent(e,h),e=null===(r=t.successors(e))||void 0===r?void 0:r[0]}})};const ws=(t,e,n,i,r,o,a)=>{const s=t.children(a);if(!(null===s||void 0===s?void 0:s.length))return void(a!==e&&t.setEdge(e,a,{weight:0,minlen:n}));const l=za.addBorderNode(t,"_bt"),u=za.addBorderNode(t,"_bb"),c=t.node(a);t.setParent(l,a),c.borderTop=l,t.setParent(u,a),c.borderBottom=u,null===s||void 0===s||s.forEach(s=>{ws(t,e,n,i,r,o,s);const c=t.node(s),h=c.borderTop?c.borderTop:s,d=c.borderBottom?c.borderBottom:s,f=c.borderTop?i:2*i,p=h!==d?1:r-o[a]+1;t.setEdge(l,h,{minlen:p,weight:f,nestingEdge:!0}),t.setEdge(d,u,{minlen:p,weight:f,nestingEdge:!0})}),t.parent(a)||t.setEdge(e,l,{weight:0,minlen:r+o[a]})},_s=t=>{var e;const n={},i=(e,r)=>{const o=t.children(e);null===o||void 0===o||o.forEach(t=>i(t,r+1)),n[e]=r};return null===(e=t.children())||void 0===e||e.forEach(t=>i(t,1)),n},Ss=t=>{let e=0;return t.edges().forEach(n=>{e+=t.edge(n).weight}),e};var Ms=t=>{var e;const n=za.addDummyNode(t,"root",{},"_root"),i=_s(t),r=Math.max(...Object.values(i))-1,o=2*r+1;t.graph().nestingRoot=n,t.edges().forEach(e=>{t.edge(e).minlen*=o});const a=Ss(t)+1;null===(e=t.children())||void 0===e||e.forEach(e=>{ws(t,n,o,a,r,i,e)}),t.graph().nodeRankFactor=o},Cs=t=>{const e=t.graph();e.nestingRoot&&t.removeNode(e.nestingRoot),delete e.nestingRoot,t.edges().forEach(e=>{t.edge(e).nestingEdge&&t.removeEdge(e)})};const Is=(t,e,n,i,r,o)=>{const a={rank:o,width:0,height:0,borderType:e},s=r[e][o-1],l=za.addDummyNode(t,"border",a,n);r[e][o]=l,t.setParent(l,i),s&&t.setEdge(s,l,{weight:1})};var ks=t=>{var e;const n=e=>{const i=t.children(e),r=t.node(e);if((null===i||void 0===i?void 0:i.length)&&i.forEach(t=>n(t)),r.hasOwnProperty("minRank")){r.borderLeft=[],r.borderRight=[];for(let n=r.minRank,i=r.maxRank+1;n<i;++n)Is(t,"borderLeft","_bl",e,r,n),Is(t,"borderRight","_br",e,r,n)}};null===(e=t.children())||void 0===e||e.forEach(t=>n(t))};const Ts=t=>{t.nodes().forEach(e=>{Os(t.node(e))}),t.edges().forEach(e=>{Os(t.edge(e))})},Os=t=>{const e=t.width;t.width=t.height,t.height=e},Es=t=>{t.nodes().forEach(e=>{As(t.node(e))}),t.edges().forEach(e=>{var n;const i=t.edge(e);null===(n=i.points)||void 0===n||n.forEach(t=>As(t)),i.hasOwnProperty("y")&&As(i)})},As=t=>{t.y=-t.y},Ns=t=>{t.nodes().forEach(e=>{Ls(t.node(e))}),t.edges().forEach(e=>{var n;const i=t.edge(e);null===(n=i.points)||void 0===n||n.forEach(t=>Ls(t)),i.hasOwnProperty("x")&&Ls(i)})},Ls=t=>{const e=t.x;t.x=t.y,t.y=e};var Ds=t=>{var e;const n=null===(e=t.graph().rankdir)||void 0===e?void 0:e.toLowerCase();"lr"!==n&&"rl"!==n||Ts(t)},js=t=>{var e;const n=null===(e=t.graph().rankdir)||void 0===e?void 0:e.toLowerCase();"bt"!==n&&"rl"!==n||Es(t),"lr"!==n&&"rl"!==n||(Ns(t),Ts(t))};var Ps=t=>{const e={},n=t.nodes().filter(e=>{var n;return!(null===(n=t.children(e))||void 0===n?void 0:n.length)}),i=n.map(e=>t.node(e).rank),r=Math.max(...i),o=[];for(let t=0;t<r+1;t++)o.push([]);const a=n=>{var i;if(e.hasOwnProperty(n))return;e[n]=!0;const r=t.node(n);isNaN(r.rank)||o[r.rank].push(n),null===(i=t.successors(n))||void 0===i||i.forEach(t=>a(t))},s=n.sort((e,n)=>t.node(e).rank-t.node(n).rank),l=s.filter(e=>void 0!==t.node(e).fixorder).sort((e,n)=>t.node(e).fixorder-t.node(n).fixorder);return null===l||void 0===l||l.forEach(n=>{isNaN(t.node(n).rank)||o[t.node(n).rank].push(n),e[n]=!0}),null===s||void 0===s||s.forEach(a),o};const Rs=(t,e,n)=>{const i=Aa(n,n.map((t,e)=>e)),r=e.map(e=>{var n;const r=null===(n=t.outEdges(e))||void 0===n?void 0:n.map(e=>({pos:i[e.w]||0,weight:t.edge(e).weight}));return null===r||void 0===r?void 0:r.sort((t,e)=>t.pos-e.pos)}).flat().filter(t=>void 0!==t);let o=1;for(;o<n.length;)o<<=1;const a=2*o-1;o-=1;const s=Array(a).fill(0,0,a);let l=0;return null===r||void 0===r||r.forEach(t=>{let e=t.pos+o;s[e]+=t.weight;let n=0;for(;e>0;)e%2&&(n+=s[e+1]),s[e=e-1>>1]+=t.weight;l+=t.weight*n}),l};var zs=(t,e)=>{let n=0;for(let i=1;i<(null===e||void 0===e?void 0:e.length);++i)n+=Rs(t,e[i-1],e[i]);return n};const Bs=pa.Graph,Fs=t=>{let e;for(;t.hasNode(e=`_root${Math.random()}`););return e};var Gs=(t,e,n)=>{const i=Fs(t),r=new Bs({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(e=>t.node(e));return t.nodes().forEach(o=>{const a=t.node(o),s=t.parent(o);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(r.setNode(o),r.setParent(o,s||i),t[n](o).forEach(e=>{const n=e.v===o?e.w:e.v,i=r.edge(n,o),a=void 0!==i?i.weight:0;r.setEdge(n,o,{weight:t.edge(e).weight+a})}),a.hasOwnProperty("minRank")&&r.setNode(o,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))}),r};var Vs=(t,e,n)=>{const i={};let r;null===n||void 0===n||n.forEach(n=>{let o,a,s=t.parent(n);for(;s;){if((o=t.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void e.setEdge(a,s);s=o}})};var Ws=(t,e)=>e.map(e=>{const n=t.inEdges(e);if(!(null===n||void 0===n?void 0:n.length))return{v:e};{const i={sum:0,weight:0};return null===n||void 0===n||n.forEach(e=>{const n=t.edge(e),r=t.node(e.v);i.sum+=n.weight*r.order,i.weight+=n.weight}),{v:e,barycenter:i.sum/i.weight,weight:i.weight}}});const Hs=t=>{var e,n;const i=[],r=t=>e=>{e.merged||(void 0===e.barycenter||void 0===t.barycenter||e.barycenter>=t.barycenter)&&Us(t,e)},o=e=>n=>{n.in.push(e),0==--n.indegree&&t.push(n)};for(;null===t||void 0===t?void 0:t.length;){const a=t.pop();i.push(a),null===(e=a.in.reverse())||void 0===e||e.forEach(t=>r(a)(t)),null===(n=a.out)||void 0===n||n.forEach(t=>o(a)(t))}const a=["vs","i","barycenter","weight"];return i.filter(t=>!t.merged).map(t=>{const e={};return null===a||void 0===a||a.forEach(n=>{void 0!==t[n]&&(e[n]=t[n])}),e})},Us=(t,e)=>{var n;let i=0,r=0;t.weight&&(i+=t.barycenter*t.weight,r+=t.weight),e.weight&&(i+=e.barycenter*e.weight,r+=e.weight),t.vs=null===(n=e.vs)||void 0===n?void 0:n.concat(t.vs),t.barycenter=i/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0};var Ys=(t,e)=>{var n,i,r;const o={};null===t||void 0===t||t.forEach((t,e)=>{const n=o[t.v]={i:e,indegree:0,in:[],out:[],vs:[t.v]};void 0!==t.barycenter&&(n.barycenter=t.barycenter,n.weight=t.weight)}),null===(n=e.edges())||void 0===n||n.forEach(t=>{const e=o[t.v],n=o[t.w];void 0!==e&&void 0!==n&&(n.indegree++,e.out.push(o[t.w]))});const a=null===(r=(i=Object.values(o)).filter)||void 0===r?void 0:r.call(i,t=>!t.indegree);return Hs(a)};const Js=(t,e,n)=>{let i,r=n;for(;e.length&&(i=e[e.length-1]).i<=r;)e.pop(),null===t||void 0===t||t.push(i.vs),r++;return r},Qs=(t,e)=>(n,i)=>{if(void 0!==n.fixorder&&void 0!==i.fixorder)return n.fixorder-i.fixorder;if(n.barycenter<i.barycenter)return-1;if(n.barycenter>i.barycenter)return 1;if(e&&void 0!==n.order&&void 0!==i.order){if(n.order<i.order)return-1;if(n.order>i.order)return 1}return t?i.i-n.i:n.i-i.i};var Zs=(t,e,n)=>{const i=za.partition(t,t=>t.hasOwnProperty("fixorder")&&!isNaN(t.fixorder)||t.hasOwnProperty("barycenter")),r=i.lhs,o=i.rhs.sort((t,e)=>-t.i- -e.i),a=[];let s=0,l=0,u=0;null===r||void 0===r||r.sort(Qs(!!e,!!n)),u=Js(a,o,u),null===r||void 0===r||r.forEach(t=>{var e;u+=null===(e=t.vs)||void 0===e?void 0:e.length,a.push(t.vs),s+=t.barycenter*t.weight,l+=t.weight,u=Js(a,o,u)});const c={vs:a.flat()};return l&&(c.barycenter=s/l,c.weight=l),c};const $s=(t,e,n,i,r)=>{var o,a,s,l;let u=t.children(e);const c=t.node(e),h=c?c.borderLeft:void 0,d=c?c.borderRight:void 0,f={};h&&(u=null===u||void 0===u?void 0:u.filter(t=>t!==h&&t!==d));const p=Ws(t,u||[]);null===p||void 0===p||p.forEach(e=>{var r;if(null===(r=t.children(e.v))||void 0===r?void 0:r.length){const r=$s(t,e.v,n,i);f[e.v]=r,r.hasOwnProperty("barycenter")&&Ks(e,r)}});const g=Ys(p,n);Xs(g,f),null===(o=g.filter(t=>{var e;return!!t.vs||(null===(e=t.vs)||void 0===e?void 0:e.length)>0}))||void 0===o||o.forEach(e=>{const n=t.node(e.vs[0]);e.fixorder=n.fixorder,e.order=n.order});const v=Zs(g,i,r);if(h&&(v.vs=[h,v.vs,d].flat(),null===(a=t.predecessors(h))||void 0===a?void 0:a.length)){const e=t.node((null===(s=t.predecessors(h))||void 0===s?void 0:s[0])||{}),n=t.node((null===(l=t.predecessors(d))||void 0===l?void 0:l[0])||{});v.hasOwnProperty("barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+e.order+n.order)/(v.weight+2),v.weight+=2}return v},Xs=(t,e)=>{null===t||void 0===t||t.forEach(t=>{var n;const i=null===(n=t.vs)||void 0===n?void 0:n.map(t=>e[t]?e[t].vs:t);t.vs=i.flat()})},Ks=(t,e)=>{void 0!==t.barycenter?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)};var qs=$s;const tl=pa.Graph,el=(t,e,n)=>e.map(e=>Gs(t,e,n)),nl=(t,e,n)=>{const i=new tl;null===t||void 0===t||t.forEach(t=>{var r;const o=t.graph().root,a=qs(t,o,i,e,n);for(let e=0;e<(null===(r=a.vs)||void 0===r?void 0:r.length);e++)t.node(a.vs[e]).order=e;Vs(t,i,a.vs)})},il=(t,e)=>{null===e||void 0===e||e.forEach(e=>{null===e||void 0===e||e.forEach((e,n)=>{t.node(e).order=n})})};var rl=t=>{const e=za.maxRank(t),n=[],i=[];for(let t=1;t<e+1;t++)n.push(t);for(let t=e-1;t>-1;t--)i.push(t);const r=el(t,n,"inEdges"),o=el(t,i,"outEdges");let a=Ps(t);il(t,a);let s,l=Number.POSITIVE_INFINITY;for(let e=0,n=0;n<4;++e,++n){nl(e%2?r:o,e%4>=2),a=za.buildLayerMatrix(t);const i=zs(t,a);i<l&&(n=0,s=fo(a),l=i)}a=Ps(t),il(t,a);for(let e=0,n=0;n<4;++e,++n){nl(e%2?r:o,e%4>=2,!0),a=za.buildLayerMatrix(t);const i=zs(t,a);i<l&&(n=0,s=fo(a),l=i)}il(t,s)};const ol=pa.Graph,al=(t,e)=>{const n={},i=(e,i)=>{let r=0,o=0;const a=e.length,s=null===i||void 0===i?void 0:i[(null===i||void 0===i?void 0:i.length)-1];return null===i||void 0===i||i.forEach((e,l)=>{var u;const c=ll(t,e),h=c?t.node(c).order:a;(c||e===s)&&(null===(u=i.slice(o,l+1))||void 0===u||u.forEach(e=>{var i;null===(i=t.predecessors(e))||void 0===i||i.forEach(i=>{const o=t.node(i),a=o.order;!(a<r||h<a)||o.dummy&&t.node(e).dummy||ul(n,i,e)})}),o=l+1,r=h)}),i};return(null===e||void 0===e?void 0:e.length)&&e.reduce(i),n},sl=(t,e)=>{const n={},i=(e,i,r,o,a)=>{let s;const l=[];for(let t=i;t<r;t++)l.push(t);l.forEach(i=>{var r;s=e[i],t.node(s).dummy&&(null===(r=t.predecessors(s))||void 0===r||r.forEach(e=>{const i=t.node(e);i.dummy&&(i.order<o||i.order>a)&&ul(n,e,s)}))})},r=(e,n)=>{let r,o=-1,a=0;return null===n||void 0===n||n.forEach((s,l)=>{if("border"===t.node(s).dummy){const e=t.predecessors(s)||[];e.length&&(r=t.node(e[0]).order,i(n,a,l,o,r),a=l,o=r)}i(n,a,n.length,r,e.length)}),n};return(null===e||void 0===e?void 0:e.length)&&e.reduce(r),n},ll=(t,e)=>{var n;if(t.node(e).dummy)return null===(n=t.predecessors(e))||void 0===n?void 0:n.find(e=>t.node(e).dummy)},ul=(t,e,n)=>{let i=e,r=n;if(i>r){const t=i;i=r,r=t}let o=t[i];o||(t[i]=o={}),o[r]=!0},cl=(t,e,n)=>{let i=e,r=n;if(i>r){i=r,r=e}return t[i]&&t[i].hasOwnProperty(r)},hl=(t,e,n,i)=>{const r={},o={},a={};return null===e||void 0===e||e.forEach(t=>{null===t||void 0===t||t.forEach((t,e)=>{r[t]=t,o[t]=t,a[t]=e})}),null===e||void 0===e||e.forEach(t=>{let e=-1;null===t||void 0===t||t.forEach(t=>{let s=i(t);if(s.length){const i=((s=s.sort((t,e)=>a[t]-a[e])).length-1)/2;for(let l=Math.floor(i),u=Math.ceil(i);l<=u;++l){const i=s[l];o[t]===t&&e<a[i]&&!cl(n,t,i)&&(o[i]=t,o[t]=r[t]=r[i],e=a[i])}}})}),{root:r,align:o}},dl=(t,e,n,i,r)=>{var o;const a={},s=fl(t,e,n,r),l=r?"borderLeft":"borderRight",u=(t,e)=>{let n=s.nodes(),i=n.pop();const r={};for(;i;)r[i]?t(i):(r[i]=!0,n.push(i),n=n.concat(e(i))),i=n.pop()};return u(t=>{a[t]=(s.inEdges(t)||[]).reduce((t,e)=>Math.max(t,(a[e.v]||0)+s.edge(e)),0)},s.predecessors.bind(s)),u(e=>{const n=(s.outEdges(e)||[]).reduce((t,e)=>Math.min(t,(a[e.w]||0)-s.edge(e)),Number.POSITIVE_INFINITY),i=t.node(e);n!==Number.POSITIVE_INFINITY&&i.borderType!==l&&(a[e]=Math.max(a[e],n))},s.successors.bind(s)),null===(o=Object.values(i))||void 0===o||o.forEach(t=>{a[t]=a[n[t]]}),a},fl=(t,e,n,i)=>{const r=new ol,o=t.graph(),a=ml(o.nodesep,o.edgesep,i);return null===e||void 0===e||e.forEach(e=>{let i;null===e||void 0===e||e.forEach(e=>{const o=n[e];if(r.setNode(o),i){const s=n[i],l=r.edge(s,o);r.setEdge(s,o,Math.max(a(t,e,i),l||0))}i=e})}),r},pl=(t,e)=>za.minBy(Object.values(e),e=>{var n;let i=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return null===(n=Object.keys(e))||void 0===n||n.forEach(n=>{const o=e[n],a=yl(t,n)/2;i=Math.max(o+a,i),r=Math.min(o-a,r)}),i-r});function gl(t,e){const n=Object.values(e),i=Math.min(...n),r=Math.max(...n);["u","d"].forEach(n=>{["l","r"].forEach(o=>{const a=n+o,s=t[a];let l;if(s===e)return;const u=Object.values(s);(l="l"===o?i-Math.min(...u):r-Math.max(...u))&&(t[a]={},Object.keys(s).forEach(e=>{t[a][e]=s[e]+l}))})})}const vl=(t,e)=>{const n={};return Object.keys(t.ul).forEach(i=>{if(e)n[i]=t[e.toLowerCase()][i];else{const e=Object.values(t).map(t=>t[i]).sort((t,e)=>t-e);n[i]=(e[1]+e[2])/2}}),n},ml=(t,e,n)=>(i,r,o)=>{const a=i.node(r),s=i.node(o);let l,u=0;if(u+=a.width/2,a.hasOwnProperty("labelpos"))switch((a.labelpos||"").toLowerCase()){case"l":l=-a.width/2;break;case"r":l=a.width/2}if(l&&(u+=n?l:-l),l=0,u+=(a.dummy?e:t)/2,u+=(s.dummy?e:t)/2,u+=s.width/2,s.hasOwnProperty("labelpos"))switch((s.labelpos||"").toLowerCase()){case"l":l=s.width/2;break;case"r":l=-s.width/2}return l&&(u+=n?l:-l),l=0,u},yl=(t,e)=>{var n;return(null===(n=t.node(e))||void 0===n?void 0:n.width)||0};var bl=t=>{var e;(t=>{const e=za.buildLayerMatrix(t),n=t.graph().ranksep;let i=0;null===e||void 0===e||e.forEach(e=>{const r=e.map(e=>t.node(e).height),o=Math.max(...r);null===e||void 0===e||e.forEach(e=>{t.node(e).y=i+o/2}),i+=o+n})})(t=za.asNonCompoundGraph(t));const n=(t=>{const e=za.buildLayerMatrix(t),n=Object.assign(al(t,e),sl(t,e)),i={};let r;["u","d"].forEach(o=>{r="u"===o?e:Object.values(e).reverse(),["l","r"].forEach(e=>{"r"===e&&(r=r.map(t=>Object.values(t).reverse()));const a=("u"===o?t.predecessors:t.successors).bind(t),s=hl(0,r,n,a),l=dl(t,r,s.root,s.align,"r"===e);"r"===e&&Object.keys(l).forEach(t=>l[t]=-l[t]),i[o+e]=l})});const o=pl(t,i);return o&&gl(i,o),vl(i,t.graph().align)})(t);null===(e=Object.keys(n))||void 0===e||e.forEach(e=>{t.node(e).x=n[e]})};var xl=(t,e)=>{const n=t.nodes().filter(e=>{var n;return!(null===(n=t.children(e))||void 0===n?void 0:n.length)}).map(e=>t.node(e).rank),i=Math.max(...n),r=[];for(let t=0;t<i+1;t++)r.push([]);null===e||void 0===e||e.forEach(e=>{const n=t.node(e);n&&!n.dummy&&(isNaN(n.rank)||(n.fixorder=r[n.rank].length,r[n.rank].push(e)))})};const wl=pa.Graph,_l=(t,e,n)=>{e("    removeSelfEdges",()=>{Wl(t)}),e("    acyclic",()=>{Ia(t)}),e("    nestingGraph.run",()=>{Ms(t)}),e("    rank",()=>{ms(za.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",()=>{jl(t)}),e("    removeEmptyRanks",()=>{La(t)}),e("    nestingGraph.cleanup",()=>{Cs(t)}),e("    normalizeRanks",()=>{Na(t)}),e("    assignRankMinMax",()=>{Pl(t)}),e("    removeEdgeLabelProxies",()=>{Rl(t)}),e("    normalize.run",()=>{Fa(t)}),e("    parentDummyChains",()=>{xs(t)}),e("    addBorderSegments",()=>{ks(t)}),n&&n.keepNodeOrder&&e("    initDataOrder",()=>{xl(t,n.nodeOrder)}),e("    order",()=>{rl(t)}),e("    insertSelfEdges",()=>{Hl(t)}),e("    adjustCoordinateSystem",()=>{Ds(t)}),e("    position",()=>{bl(t)}),e("    positionSelfEdges",()=>{Ul(t)}),e("    removeBorderNodes",()=>{Vl(t)}),e("    normalize.undo",()=>{Ga(t)}),e("    fixupEdgeLabelCoords",()=>{Fl(t)}),e("    undoCoordinateSystem",()=>{js(t)}),e("    translateGraph",()=>{zl(t)}),e("    assignNodeIntersects",()=>{Bl(t)}),e("    reversePoints",()=>{Gl(t)}),e("    acyclic.undo",()=>{ka(t)})},Sl=(t,e)=>{const n=e._nodes||{};t.nodes().forEach(e=>{const i=t.node(e);void 0!==n[e]?(i.fixorder=n[e]._order,delete n[e]._order):delete i.fixorder})},Ml=(t,e)=>{t.nodes().forEach(n=>{var i;const r=t.node(n),o=e.node(n);r&&(r.x=o.x,r.y=o.y,r._order=o.order,r._rank=o.rank,(null===(i=e.children(n))||void 0===i?void 0:i.length)&&(r.width=o.width,r.height=o.height))}),t.edges().forEach(n=>{const i=t.edge(n),r=e.edge(n);i.points=r.points,r.hasOwnProperty("x")&&(i.x=r.x,i.y=r.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height},Cl=["nodesep","edgesep","ranksep","marginx","marginy"],Il={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},kl=["acyclicer","ranker","rankdir","align"],Tl=["width","height","layer","fixorder"],Ol={width:0,height:0},El=["minlen","weight","width","height","labeloffset"],Al={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Nl=["labelpos"],Ll=t=>{const e=new wl({multigraph:!0,compound:!0}),n=Jl(t.graph()),i={};return null===kl||void 0===kl||kl.forEach(t=>{void 0!==n[t]&&(i[t]=n[t])}),e.setGraph(Object.assign({},Il,Yl(n,Cl),i)),t.nodes().forEach(n=>{const i=Jl(t.node(n)),r=Yl(i,Tl);Object.keys(Ol).forEach(t=>{void 0===r[t]&&(r[t]=Ol[t])}),e.setNode(n,r),e.setParent(n,t.parent(n))}),t.edges().forEach(n=>{const i=Jl(t.edge(n)),r={};null===Nl||void 0===Nl||Nl.forEach(t=>{void 0!==i[t]&&(r[t]=i[t])}),e.setEdge(n,Object.assign({},Al,Yl(i,El),r))}),e},Dl=t=>{const e=t.graph();e.ranksep||(e.ranksep=0),e.ranksep/=2,t.nodes().forEach(e=>{const n=t.node(e);isNaN(n.layer)||(n.layer?n.layer*=2:n.layer=0)}),t.edges().forEach(n=>{var i;const r=t.edge(n);r.minlen*=2,"c"!==(null===(i=r.labelpos)||void 0===i?void 0:i.toLowerCase())&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})},jl=t=>{t.edges().forEach(e=>{const n=t.edge(e);if(n.width&&n.height){const n=t.node(e.v),i={e:e,rank:(t.node(e.w).rank-n.rank)/2+n.rank};za.addDummyNode(t,"edge-proxy",i,"_ep")}})},Pl=t=>{let e=0;t.nodes().forEach(n=>{const i=t.node(n);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=Math.max(e,i.maxRank||-1/0))}),t.graph().maxRank=e},Rl=t=>{t.nodes().forEach(e=>{const n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})},zl=t=>{let e=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,r=0;const o=t.graph(),a=o.marginx||0,s=o.marginy||0,l=t=>{if(!t)return;const o=t.x,a=t.y,s=t.width,l=t.height;isNaN(o)||isNaN(s)||(e=Math.min(e,o-s/2),n=Math.max(n,o+s/2)),isNaN(a)||isNaN(l)||(i=Math.min(i,a-l/2),r=Math.max(r,a+l/2))};t.nodes().forEach(e=>{l(t.node(e))}),t.edges().forEach(e=>{const n=t.edge(e);n.hasOwnProperty("x")&&l(n)}),e-=a,i-=s,t.nodes().forEach(n=>{const r=t.node(n);r.x-=e,r.y-=i}),t.edges().forEach(n=>{var r;const o=t.edge(n);null===(r=o.points)||void 0===r||r.forEach(t=>{t.x-=e,t.y-=i}),o.hasOwnProperty("x")&&(o.x-=e),o.hasOwnProperty("y")&&(o.y-=i)}),o.width=n-e+a,o.height=r-i+s},Bl=t=>{t.edges().forEach(e=>{const n=t.edge(e),i=t.node(e.v),r=t.node(e.w);let o,a;n.points?(o=n.points[0],a=n.points[n.points.length-1]):(n.points=[],o=r,a=i),n.points.unshift(za.intersectRect(i,o)),n.points.push(za.intersectRect(r,a))})},Fl=t=>{t.edges().forEach(e=>{const n=t.edge(e);if(n.hasOwnProperty("x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})},Gl=t=>{t.edges().forEach(e=>{const n=t.edge(e);n.reversed&&n.points.reverse()})},Vl=t=>{t.nodes().forEach(e=>{var n,i,r;if(null===(n=t.children(e))||void 0===n?void 0:n.length){const n=t.node(e),o=t.node(n.borderTop),a=t.node(n.borderBottom),s=t.node(n.borderLeft[(null===(i=n.borderLeft)||void 0===i?void 0:i.length)-1]),l=t.node(n.borderRight[(null===(r=n.borderRight)||void 0===r?void 0:r.length)-1]);n.width=Math.abs((null===l||void 0===l?void 0:l.x)-(null===s||void 0===s?void 0:s.x))||10,n.height=Math.abs((null===a||void 0===a?void 0:a.y)-(null===o||void 0===o?void 0:o.y))||10,n.x=((null===s||void 0===s?void 0:s.x)||0)+n.width/2,n.y=((null===o||void 0===o?void 0:o.y)||0)+n.height/2}}),t.nodes().forEach(e=>{"border"===t.node(e).dummy&&t.removeNode(e)})},Wl=t=>{t.edges().forEach(e=>{if(e.v===e.w){const n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})},Hl=t=>{const e=za.buildLayerMatrix(t);null===e||void 0===e||e.forEach(e=>{let n=0;null===e||void 0===e||e.forEach((e,i)=>{var r;const o=t.node(e);o.order=i+n,null===(r=o.selfEdges)||void 0===r||r.forEach(e=>{za.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:i+ ++n,e:e.e,label:e.label},"_se")}),delete o.selfEdges})})},Ul=t=>{t.nodes().forEach(e=>{const n=t.node(e);if("selfedge"===n.dummy){const i=t.node(n.e.v),r=i.x+i.width/2,o=i.y,a=n.x-r,s=i.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:r+2*a/3,y:o-s},{x:r+5*a/6,y:o-s},{y:o,x:r+a},{x:r+5*a/6,y:o+s},{x:r+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})},Yl=(t,e)=>{const n={};return null===e||void 0===e||e.forEach(e=>{void 0!==t[e]&&(n[e]=+t[e])}),n},Jl=t=>{const e={};return Object.keys(t).forEach(n=>{const i=t[n];e[n.toLowerCase()]=i}),e};var Ql={graphlib:pa,layout:(t,e)=>{const n=e&&e.debugTiming?za.time:za.notime;n("layout",()=>{e&&!e.keepNodeOrder&&e.prevGraph&&n("  inheritOrder",()=>{Sl(t,e.prevGraph)});const i=n("  buildLayoutGraph",()=>Ll(t));e&&!1===e.edgeLabelSpace||n("  makeSpaceForEdgeLabels",()=>{Dl(i)});try{n("  runLayout",()=>{_l(i,n,e)})}catch(t){if("Not possible to find intersection inside of the rectangle"===t.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",t);throw t}n("  updateInputGraph",()=>{Ml(t,i)})})},util:{time:ja,notime:Pa}};class Zl extends oo{constructor(t){super(),this.rankdir="TB",this.nodesep=50,this.ranksep=50,this.controlPoints=!1,this.sortByCombo=!1,this.edgeLabelSpace=!0,this.nodes=[],this.edges=[],this.onLayoutEnd=(()=>{}),this.layoutNode=(t=>{const{nodes:e}=this,n=e.find(e=>e.id===t);if(n){return!1!==n.layout}return!0}),this.updateCfg(t)}getDefaultCfg(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}execute(){const t=this,{nodes:e,nodeSize:n,rankdir:i,combos:r,begin:o}=t;if(!e)return;const a=t.edges||[],s=new Ql.graphlib.Graph({multigraph:!0,compound:!0});let l;l=n?lo(n)?()=>n:()=>[n,n]:t=>t.size?lo(t.size)?t.size:ho(t.size)?[t.size.width||40,t.size.height||40]:[t.size,t.size]:[40,40];let u=$l(t.nodesepFunc,t.nodesep,50),c=$l(t.ranksepFunc,t.ranksep,50);"LR"!==i&&"RL"!==i||(u=$l(t.ranksepFunc,t.ranksep,50),c=$l(t.nodesepFunc,t.nodesep,50)),s.setDefaultEdgeLabel(()=>({})),s.setGraph(t);const h={};e.filter(t=>!1!==t.layout).forEach(t=>{const e=l(t),n=c(t),i=u(t),r=e[0]+2*i,o=e[1]+2*n,a=t.layer;uo(a)?s.setNode(t.id,{width:r,height:o,layer:a}):s.setNode(t.id,{width:r,height:o}),this.sortByCombo&&t.comboId&&(h[t.comboId]||(h[t.comboId]=!0,s.setNode(t.comboId,{})),s.setParent(t.id,t.comboId))}),this.sortByCombo&&r&&r.forEach(t=>{t.parentId&&(h[t.parentId]||(h[t.parentId]=!0,s.setNode(t.parentId,{})),s.setParent(t.id,t.parentId))}),a.forEach(t=>{const e=po(t,"source"),n=po(t,"target");this.layoutNode(e)&&this.layoutNode(n)&&s.setEdge(e,n,{weight:t.weight||1})});let d=void 0;t.preset&&(d=new Ql.graphlib.Graph({multigraph:!0,compound:!0}),t.preset.nodes.forEach(t=>{null===d||void 0===d||d.setNode(t.id,t)})),Ql.layout(s,{prevGraph:d,edgeLabelSpace:t.edgeLabelSpace,keepNodeOrder:Boolean(!!t.nodeOrder),nodeOrder:t.nodeOrder});const f=[0,0];if(o){let t=1/0,e=1/0;s.nodes().forEach(n=>{const i=s.node(n);t>i.x&&(t=i.x),e>i.y&&(e=i.y)}),s.edges().forEach(n=>{s.edge(n).points.forEach(n=>{t>n.x&&(t=n.x),e>n.y&&(e=n.y)})}),f[0]=o[0]-t,f[1]=o[1]-e}return s.nodes().forEach(t=>{const n=s.node(t),i=e.findIndex(e=>e.id===t);e[i]&&(e[i].x=n.x+f[0],e[i].y=n.y+f[1],e[i]._order=n._order)}),s.edges().forEach(e=>{const n=s.edge(e),i=a.findIndex(t=>{const n=po(t,"source"),i=po(t,"target");return n===e.v&&i===e.w});t.edgeLabelSpace&&t.controlPoints&&"loop"!==a[i].type&&(a[i].controlPoints=n.points.slice(1,n.points.length-1),a[i].controlPoints.forEach(t=>{t.x+=f[0],t.y+=f[1]}))}),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:a}}getType(){return"dagre"}}function $l(t,e,n){let i;return i=t||(uo(e)?()=>e:()=>n)}const Xl=Object.prototype.toString;function Kl(t){return Xl.call(t).endsWith("Array]")}function ql(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Kl(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!Kl(n.output))throw new TypeError("output option must be an array if specified");e=n.output}else e=new Array(t.length);var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Kl(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,i=void 0===n?0:n,r=e.toIndex,o=void 0===r?t.length:r;if(i<0||i>=t.length||!Number.isInteger(i))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=i||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[i],s=i+1;s<o;s++)t[s]<a&&(a=t[s]);return a}(t),r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Kl(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,i=void 0===n?0:n,r=e.toIndex,o=void 0===r?t.length:r;if(i<0||i>=t.length||!Number.isInteger(i))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=i||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[i],s=i+1;s<o;s++)t[s]>a&&(a=t[s]);return a}(t);if(i===r)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=n.min,a=void 0===o?n.autoMinMax?i:0:o,s=n.max,l=void 0===s?n.autoMinMax?r:1:s;if(a>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-a)/(r-i),c=0;c<t.length;c++)e[c]=(t[c]-i)*u+a;return e}const tu=" ".repeat(2),eu=" ".repeat(4);function nu(t,e={}){const{maxRows:n=15,maxColumns:i=10,maxNumSize:r=8}=e;return`${t.constructor.name} {\n${tu}[\n${eu}${function(t,e,n,i){const{rows:r,columns:o}=t,a=Math.min(r,e),s=Math.min(o,n),l=[];for(let e=0;e<a;e++){let n=[];for(let r=0;r<s;r++)n.push(iu(t.get(e,r),i));l.push(`${n.join(" ")}`)}s!==o&&(l[l.length-1]+=` ... ${o-n} more columns`);a!==r&&l.push(`... ${r-e} more rows`);return l.join(`\n${eu}`)}(t,n,i,r)}\n${tu}]\n${tu}rows: ${t.rows}\n${tu}columns: ${t.columns}\n}`}function iu(t,e){const n=String(t);if(n.length<=e)return n.padEnd(e," ");const i=t.toPrecision(e-2);if(i.length<=e)return i;const r=t.toExponential(e-2),o=r.indexOf("e"),a=r.slice(o);return r.slice(0,e-a.length)+a}function ru(t,e,n){let i=n?t.rows:t.rows-1;if(e<0||e>i)throw new RangeError("Row index out of range")}function ou(t,e,n){let i=n?t.columns:t.columns-1;if(e<0||e>i)throw new RangeError("Column index out of range")}function au(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function su(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function lu(t,e,n){return{row:uu(t,e),column:cu(t,n)}}function uu(t,e){if("object"!=typeof e)throw new TypeError("unexpected type for row indices");if(e.some(e=>e<0||e>=t.rows))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function cu(t,e){if("object"!=typeof e)throw new TypeError("unexpected type for column indices");if(e.some(e=>e<0||e>=t.columns))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function hu(t,e,n,i,r){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(fu("startRow",e),fu("endRow",n),fu("startColumn",i),fu("endColumn",r),e>n||i>r||e<0||e>=t.rows||n<0||n>=t.rows||i<0||i>=t.columns||r<0||r>=t.columns)throw new RangeError("Submatrix indices are out of range")}function du(t,e=0){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function fu(t,e){if("number"!=typeof e)throw new TypeError(`${t} must be a number`)}function pu(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}class gu{static from1DArray(t,e,n){if(t*e!==n.length)throw new RangeError("data length does not match given dimensions");let i=new mu(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++)i.set(r,t,n[r*e+t]);return i}static rowVector(t){let e=new mu(1,t.length);for(let n=0;n<t.length;n++)e.set(0,n,t[n]);return e}static columnVector(t){let e=new mu(t.length,1);for(let n=0;n<t.length;n++)e.set(n,0,t[n]);return e}static zeros(t,e){return new mu(t,e)}static ones(t,e){return new mu(t,e).fill(1)}static rand(t,e,n={}){if("object"!=typeof n)throw new TypeError("options must be an object");const{random:i=Math.random}=n;let r=new mu(t,e);for(let n=0;n<t;n++)for(let t=0;t<e;t++)r.set(n,t,i());return r}static randInt(t,e,n={}){if("object"!=typeof n)throw new TypeError("options must be an object");const{min:i=0,max:r=1e3,random:o=Math.random}=n;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(r))throw new TypeError("max must be an integer");if(i>=r)throw new RangeError("min must be smaller than max");let a=r-i,s=new mu(t,e);for(let n=0;n<t;n++)for(let t=0;t<e;t++){let e=i+Math.round(o()*a);s.set(n,t,e)}return s}static eye(t,e,n){void 0===e&&(e=t),void 0===n&&(n=1);let i=Math.min(t,e),r=this.zeros(t,e);for(let t=0;t<i;t++)r.set(t,t,n);return r}static diag(t,e,n){let i=t.length;void 0===e&&(e=i),void 0===n&&(n=e);let r=Math.min(i,e,n),o=this.zeros(e,n);for(let e=0;e<r;e++)o.set(e,e,t[e]);return o}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,i=t.columns,r=new mu(n,i);for(let o=0;o<n;o++)for(let n=0;n<i;n++)r.set(o,n,Math.min(t.get(o,n),e.get(o,n)));return r}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,i=t.columns,r=new this(n,i);for(let o=0;o<n;o++)for(let n=0;n<i;n++)r.set(o,n,Math.max(t.get(o,n),e.get(o,n)));return r}static checkMatrix(t){return gu.isMatrix(t)?t:new mu(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.call(this,e,n);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.push(this.get(e,n));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,n=-1,i=!0,r=!1;for(;t<this.rows&&i;){for(e=0,r=!1;e<this.columns&&!1===r;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(r=!0,n=e):(i=!1,r=!0);t++}return i}isReducedEchelonForm(){let t=0,e=0,n=-1,i=!0,r=!1;for(;t<this.rows&&i;){for(e=0,r=!1;e<this.columns&&!1===r;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(r=!0,n=e):(i=!1,r=!0);for(let n=e+1;n<this.rows;n++)0!==this.get(t,n)&&(i=!1);t++}return i}echelonForm(){let t=this.clone(),e=0,n=0;for(;e<t.rows&&n<t.columns;){let i=e;for(let r=e;r<t.rows;r++)t.get(r,n)>t.get(i,n)&&(i=r);if(0===t.get(i,n))n++;else{t.swapRows(e,i);let r=t.get(e,n);for(let i=n;i<t.columns;i++)t.set(e,i,t.get(e,i)/r);for(let i=e+1;i<t.rows;i++){let r=t.get(i,n)/t.get(e,n);t.set(i,n,0);for(let o=n+1;o<t.columns;o++)t.set(i,o,t.get(i,o)-t.get(e,o)*r)}e++,n++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,n=t.rows,i=n-1;for(;i>=0;)if(0===t.maxRow(i))i--;else{let r=0,o=!1;for(;r<n&&!1===o;)1===t.get(i,r)?o=!0:r++;for(let n=0;n<i;n++){let o=t.get(n,r);for(let a=r;a<e;a++){let e=t.get(n,a)-o*t.get(i,a);t.set(n,a,e)}}i--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:n=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let i=new mu(this.rows*e,this.columns*n);for(let t=0;t<e;t++)for(let e=0;e<n;e++)i.setSubMatrix(this,this.rows*t,this.columns*e);return i}fill(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,t);return this}neg(){return this.mulS(-1)}getRow(t){ru(this,t);let e=[];for(let n=0;n<this.columns;n++)e.push(this.get(t,n));return e}getRowVector(t){return mu.rowVector(this.getRow(t))}setRow(t,e){ru(this,t),e=au(this,e);for(let n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}swapRows(t,e){ru(this,t),ru(this,e);for(let n=0;n<this.columns;n++){let i=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,i)}return this}getColumn(t){ou(this,t);let e=[];for(let n=0;n<this.rows;n++)e.push(this.get(n,t));return e}getColumnVector(t){return mu.columnVector(this.getColumn(t))}setColumn(t,e){ou(this,t),e=su(this,e);for(let n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}swapColumns(t,e){ou(this,t),ou(this,e);for(let n=0;n<this.rows;n++){let i=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,i)}return this}addRowVector(t){t=au(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}subRowVector(t){t=au(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}mulRowVector(t){t=au(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}divRowVector(t){t=au(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}addColumnVector(t){t=su(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}subColumnVector(t){t=su(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}mulColumnVector(t){t=su(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}divColumnVector(t){t=su(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}mulRow(t,e){ru(this,t);for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}mulColumn(t,e){ou(this,t);for(let n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}max(){if(this.isEmpty())return NaN;let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxIndex(){pu(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)>t&&(t=this.get(n,i),e[0]=n,e[1]=i);return e}min(){if(this.isEmpty())return NaN;let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minIndex(){pu(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)<t&&(t=this.get(n,i),e[0]=n,e[1]=i);return e}maxRow(t){if(ru(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}maxRowIndex(t){ru(this,t),pu(this);let e=this.get(t,0),n=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i),n[1]=i);return n}minRow(t){if(ru(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}minRowIndex(t){ru(this,t),pu(this);let e=this.get(t,0),n=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i),n[1]=i);return n}maxColumn(t){if(ou(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}maxColumnIndex(t){ou(this,t),pu(this);let e=this.get(0,t),n=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)>e&&(e=this.get(i,t),n[0]=i);return n}minColumn(t){if(ou(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}minColumnIndex(t){ou(this,t),pu(this);let e=this.get(0,t),n=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)<e&&(e=this.get(i,t),n[0]=i);return n}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let n=0;n<t;n++)e.push(this.get(n,n));return e}norm(t="frobenius"){let e=0;if("max"===t)return this.max();if("frobenius"===t){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)e+=this.get(t,n)*this.get(t,n);return Math.sqrt(e)}throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}dot(t){gu.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let n=0;for(let i=0;i<e.length;i++)n+=e[i]*t[i];return n}mmul(t){t=mu.checkMatrix(t);let e=this.rows,n=this.columns,i=t.columns,r=new mu(e,i),o=new Float64Array(n);for(let a=0;a<i;a++){for(let e=0;e<n;e++)o[e]=t.get(e,a);for(let t=0;t<e;t++){let e=0;for(let i=0;i<n;i++)e+=this.get(t,i)*o[i];r.set(t,a,e)}}return r}strassen2x2(t){t=mu.checkMatrix(t);let e=new mu(2,2);const n=this.get(0,0),i=t.get(0,0),r=this.get(0,1),o=t.get(0,1),a=this.get(1,0),s=t.get(1,0),l=this.get(1,1),u=t.get(1,1),c=(n+l)*(i+u),h=(a+l)*i,d=n*(o-u),f=l*(s-i),p=(n+r)*u,g=c+f-p+(r-l)*(s+u),v=d+p,m=h+f,y=c-h+d+(a-n)*(i+o);return e.set(0,0,g),e.set(0,1,v),e.set(1,0,m),e.set(1,1,y),e}strassen3x3(t){t=mu.checkMatrix(t);let e=new mu(3,3);const n=this.get(0,0),i=this.get(0,1),r=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),l=this.get(2,0),u=this.get(2,1),c=this.get(2,2),h=t.get(0,0),d=t.get(0,1),f=t.get(0,2),p=t.get(1,0),g=t.get(1,1),v=t.get(1,2),m=t.get(2,0),y=t.get(2,1),b=t.get(2,2),x=(n-o)*(-d+g),w=(-n+o+a)*(h-d+g),_=(o+a)*(-h+d),S=n*h,M=(-n+l+u)*(h-f+v),C=(-n+l)*(f-v),I=(l+u)*(-h+f),k=(-r+u+c)*(g+m-y),T=(r-c)*(g-y),O=r*m,E=(u+c)*(-m+y),A=(-r+a+s)*(v+m-b),N=(r-s)*(v-b),L=(a+s)*(-m+b),D=S+O+i*p,j=(n+i+r-o-a-u-c)*g+w+_+S+k+O+E,P=S+M+I+(n+i+r-a-s-l-u)*v+O+A+L,R=x+a*(-h+d+p-g-v-m+b)+w+S+O+A+N,z=x+w+_+S+s*y,B=O+A+N+L+o*f,F=S+M+C+u*(-h+f+p-g-v-m+y)+k+T+O,G=k+T+O+E+l*d,V=S+M+C+I+c*b;return e.set(0,0,D),e.set(0,1,j),e.set(0,2,P),e.set(1,0,R),e.set(1,1,z),e.set(1,2,B),e.set(2,0,F),e.set(2,1,G),e.set(2,2,V),e}mmulStrassen(t){t=mu.checkMatrix(t);let e=this.clone(),n=e.rows,i=e.columns,r=t.rows,o=t.columns;function a(t,e,n){let i=t.rows,r=t.columns;if(i===e&&r===n)return t;{let i=gu.zeros(e,n);return i=i.setSubMatrix(t,0,0)}}i!==r&&console.warn(`Multiplying ${n} x ${i} and ${r} x ${o} matrix: dimensions do not match.`);let s=Math.max(n,r),l=Math.max(i,o);return function t(e,n,i,r){if(i<=512||r<=512)return e.mmul(n);i%2==1&&r%2==1?(e=a(e,i+1,r+1),n=a(n,i+1,r+1)):i%2==1?(e=a(e,i+1,r),n=a(n,i+1,r)):r%2==1&&(e=a(e,i,r+1),n=a(n,i,r+1));let o=parseInt(e.rows/2,10),s=parseInt(e.columns/2,10),l=e.subMatrix(0,o-1,0,s-1),u=n.subMatrix(0,o-1,0,s-1),c=e.subMatrix(0,o-1,s,e.columns-1),h=n.subMatrix(0,o-1,s,n.columns-1),d=e.subMatrix(o,e.rows-1,0,s-1),f=n.subMatrix(o,n.rows-1,0,s-1),p=e.subMatrix(o,e.rows-1,s,e.columns-1),g=n.subMatrix(o,n.rows-1,s,n.columns-1),v=t(gu.add(l,p),gu.add(u,g),o,s),m=t(gu.add(d,p),u,o,s),y=t(l,gu.sub(h,g),o,s),b=t(p,gu.sub(f,u),o,s),x=t(gu.add(l,c),g,o,s),w=t(gu.sub(d,l),gu.add(u,h),o,s),_=t(gu.sub(c,p),gu.add(f,g),o,s),S=gu.add(v,b);S.sub(x),S.add(_);let M=gu.add(y,x),C=gu.add(m,b),I=gu.sub(v,m);I.add(y),I.add(w);let k=gu.zeros(2*S.rows,2*S.columns);return(k=(k=(k=(k=k.setSubMatrix(S,0,0)).setSubMatrix(M,S.rows,0)).setSubMatrix(C,0,S.columns)).setSubMatrix(I,S.rows,S.columns)).subMatrix(0,i-1,0,r-1)}(e=a(e,s,l),t=a(t,s,l),s,l)}scaleRows(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let i=new mu(this.rows,this.columns);for(let t=0;t<this.rows;t++){const r=this.getRow(t);r.length>0&&ql(r,{min:e,max:n,output:r}),i.setRow(t,r)}return i}scaleColumns(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let i=new mu(this.rows,this.columns);for(let t=0;t<this.columns;t++){const r=this.getColumn(t);r.length&&ql(r,{min:e,max:n,output:r}),i.setColumn(t,r)}return i}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let n=0;n<t;n++){let t=this.get(e,n),i=this.get(e,this.columns-1-n);this.set(e,n,i),this.set(e,this.columns-1-n,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let n=0;n<t;n++){let t=this.get(n,e),i=this.get(this.rows-1-n,e);this.set(n,e,i),this.set(this.rows-1-n,e,t)}return this}kroneckerProduct(t){t=mu.checkMatrix(t);let e=this.rows,n=this.columns,i=t.rows,r=t.columns,o=new mu(e*i,n*r);for(let a=0;a<e;a++)for(let e=0;e<n;e++)for(let n=0;n<i;n++)for(let s=0;s<r;s++)o.set(i*a+n,r*e+s,this.get(a,e)*t.get(n,s));return o}kroneckerSum(t){if(t=mu.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,n=t.rows,i=this.kroneckerProduct(mu.eye(n,n)),r=mu.eye(e,e).kroneckerProduct(t);return i.add(r)}transpose(){let t=new mu(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}sortRows(t=vu){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=vu){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,n,i){hu(this,t,e,n,i);let r=new mu(e-t+1,i-n+1);for(let o=t;o<=e;o++)for(let e=n;e<=i;e++)r.set(o-t,e-n,this.get(o,e));return r}subMatrixRow(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let i=new mu(t.length,n-e+1);for(let r=0;r<t.length;r++)for(let o=e;o<=n;o++){if(t[r]<0||t[r]>=this.rows)throw new RangeError(`Row index out of range: ${t[r]}`);i.set(r,o-e,this.get(t[r],o))}return i}subMatrixColumn(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let i=new mu(n-e+1,t.length);for(let r=0;r<t.length;r++)for(let o=e;o<=n;o++){if(t[r]<0||t[r]>=this.columns)throw new RangeError(`Column index out of range: ${t[r]}`);i.set(o-e,r,this.get(o,t[r]))}return i}setSubMatrix(t,e,n){if((t=mu.checkMatrix(t)).isEmpty())return this;hu(this,e,e+t.rows-1,n,n+t.columns-1);for(let i=0;i<t.rows;i++)for(let r=0;r<t.columns;r++)this.set(e+i,n+r,t.get(i,r));return this}selection(t,e){let n=lu(this,t,e),i=new mu(t.length,e.length);for(let t=0;t<n.row.length;t++){let e=n.row[t];for(let r=0;r<n.column.length;r++){let o=n.column[r];i.set(t,r,this.get(e,o))}}return i}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let n=0;n<t;n++)e+=this.get(n,n);return e}clone(){let t=new mu(this.rows,this.columns);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}sum(t){switch(t){case"row":return function(t){let e=du(t.rows);for(let n=0;n<t.rows;++n)for(let i=0;i<t.columns;++i)e[n]+=t.get(n,i);return e}(this);case"column":return function(t){let e=du(t.columns);for(let n=0;n<t.rows;++n)for(let i=0;i<t.columns;++i)e[i]+=t.get(n,i);return e}(this);case void 0:return function(t){let e=0;for(let n=0;n<t.rows;n++)for(let i=0;i<t.columns;i++)e+=t.get(n,i);return e}(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return function(t){let e=du(t.rows,1);for(let n=0;n<t.rows;++n)for(let i=0;i<t.columns;++i)e[n]*=t.get(n,i);return e}(this);case"column":return function(t){let e=du(t.columns,1);for(let n=0;n<t.rows;++n)for(let i=0;i<t.columns;++i)e[i]*=t.get(n,i);return e}(this);case void 0:return function(t){let e=1;for(let n=0;n<t.rows;n++)for(let i=0;i<t.columns;i++)e*=t.get(n,i);return e}(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{unbiased:n=!0,mean:i=this.mean(t)}=e;if("boolean"!=typeof n)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!Array.isArray(i))throw new TypeError("mean must be an array");return function(t,e,n){const i=t.rows,r=t.columns,o=[];for(let a=0;a<i;a++){let i=0,s=0,l=0;for(let e=0;e<r;e++)i+=l=t.get(a,e)-n[a],s+=l*l;e?o.push((s-i*i/r)/(r-1)):o.push((s-i*i/r)/r)}return o}(this,n,i);case"column":if(!Array.isArray(i))throw new TypeError("mean must be an array");return function(t,e,n){const i=t.rows,r=t.columns,o=[];for(let a=0;a<r;a++){let r=0,s=0,l=0;for(let e=0;e<i;e++)r+=l=t.get(e,a)-n[a],s+=l*l;e?o.push((s-r*r/i)/(i-1)):o.push((s-r*r/i)/i)}return o}(this,n,i);case void 0:if("number"!=typeof i)throw new TypeError("mean must be a number");return function(t,e,n){const i=t.rows,r=t.columns,o=i*r;let a=0,s=0,l=0;for(let e=0;e<i;e++)for(let i=0;i<r;i++)a+=l=t.get(e,i)-n,s+=l*l;return e?(s-a*a/o)/(o-1):(s-a*a/o)/o}(this,n,i);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);const n=this.variance(t,e);if(void 0===t)return Math.sqrt(n);for(let t=0;t<n.length;t++)n[t]=Math.sqrt(n[t]);return n}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{center:n=this.mean(t)}=e;switch(t){case"row":if(!Array.isArray(n))throw new TypeError("center must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let i=0;i<t.columns;i++)t.set(n,i,t.get(n,i)-e[n])}(this,n),this;case"column":if(!Array.isArray(n))throw new TypeError("center must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let i=0;i<t.columns;i++)t.set(n,i,t.get(n,i)-e[i])}(this,n),this;case void 0:if("number"!=typeof n)throw new TypeError("center must be a number");return function(t,e){for(let n=0;n<t.rows;n++)for(let i=0;i<t.columns;i++)t.set(n,i,t.get(n,i)-e)}(this,n),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");let n=e.scale;switch(t){case"row":if(void 0===n)n=function(t){const e=[];for(let n=0;n<t.rows;n++){let i=0;for(let e=0;e<t.columns;e++)i+=Math.pow(t.get(n,e),2)/(t.columns-1);e.push(Math.sqrt(i))}return e}(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let i=0;i<t.columns;i++)t.set(n,i,t.get(n,i)/e[n])}(this,n),this;case"column":if(void 0===n)n=function(t){const e=[];for(let n=0;n<t.columns;n++){let i=0;for(let e=0;e<t.rows;e++)i+=Math.pow(t.get(e,n),2)/(t.rows-1);e.push(Math.sqrt(i))}return e}(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let i=0;i<t.columns;i++)t.set(n,i,t.get(n,i)/e[i])}(this,n),this;case void 0:if(void 0===n)n=function(t){const e=t.size-1;let n=0;for(let i=0;i<t.columns;i++)for(let r=0;r<t.rows;r++)n+=Math.pow(t.get(r,i),2)/e;return Math.sqrt(n)}(this);else if("number"!=typeof n)throw new TypeError("scale must be a number");return function(t,e){for(let n=0;n<t.rows;n++)for(let i=0;i<t.columns;i++)t.set(n,i,t.get(n,i)/e)}(this,n),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return nu(this,t)}}function vu(t,e){return t-e}gu.prototype.klass="Matrix","undefined"!=typeof Symbol&&(gu.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return nu(this)}),gu.random=gu.rand,gu.randomInt=gu.randInt,gu.diagonal=gu.diag,gu.prototype.diagonal=gu.prototype.diag,gu.identity=gu.eye,gu.prototype.negate=gu.prototype.neg,gu.prototype.tensorProduct=gu.prototype.kroneckerProduct;class mu extends gu{constructor(t,e){if(super(),mu.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>=0){if(this.data=[],!(Number.isInteger(e)&&e>=0))throw new TypeError("nColumns must be a positive integer");for(let n=0;n<t;n++)this.data.push(new Float64Array(e))}else{if(!Array.isArray(t))throw new TypeError("First argument must be a positive number or an array");{const n=t;if("number"!=typeof(e=(t=n.length)?n[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let i=0;i<t;i++){if(n[i].length!==e)throw new RangeError("Inconsistent array dimensions");this.data.push(Float64Array.from(n[i]))}}}this.rows=t,this.columns=e}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}removeRow(t){return ru(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),ru(this,t,!0),e=Float64Array.from(au(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){ou(this,t);for(let e=0;e<this.rows;e++){const n=new Float64Array(this.columns-1);for(let i=0;i<t;i++)n[i]=this.data[e][i];for(let i=t+1;i<this.columns;i++)n[i-1]=this.data[e][i];this.data[e]=n}return this.columns-=1,this}addColumn(t,e){void 0===e&&(e=t,t=this.columns),ou(this,t,!0),e=su(this,e);for(let n=0;n<this.rows;n++){const i=new Float64Array(this.columns+1);let r=0;for(;r<t;r++)i[r]=this.data[n][r];for(i[r++]=e[n];r<this.columns+1;r++)i[r]=this.data[n][r-1];this.data[n]=i}return this.columns+=1,this}}var yu,bu;bu=mu,(yu=gu).prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},yu.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t);return this},yu.prototype.addM=function(t){if(t=bu.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t.get(e,n));return this},yu.add=function(t,e){return new bu(t).add(e)},yu.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},yu.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t);return this},yu.prototype.subM=function(t){if(t=bu.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t.get(e,n));return this},yu.sub=function(t,e){return new bu(t).sub(e)},yu.prototype.subtract=yu.prototype.sub,yu.prototype.subtractS=yu.prototype.subS,yu.prototype.subtractM=yu.prototype.subM,yu.subtract=yu.sub,yu.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},yu.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this},yu.prototype.mulM=function(t){if(t=bu.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t.get(e,n));return this},yu.mul=function(t,e){return new bu(t).mul(e)},yu.prototype.multiply=yu.prototype.mul,yu.prototype.multiplyS=yu.prototype.mulS,yu.prototype.multiplyM=yu.prototype.mulM,yu.multiply=yu.mul,yu.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},yu.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t);return this},yu.prototype.divM=function(t){if(t=bu.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t.get(e,n));return this},yu.div=function(t,e){return new bu(t).div(e)},yu.prototype.divide=yu.prototype.div,yu.prototype.divideS=yu.prototype.divS,yu.prototype.divideM=yu.prototype.divM,yu.divide=yu.div,yu.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},yu.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t);return this},yu.prototype.modM=function(t){if(t=bu.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t.get(e,n));return this},yu.mod=function(t,e){return new bu(t).mod(e)},yu.prototype.modulus=yu.prototype.mod,yu.prototype.modulusS=yu.prototype.modS,yu.prototype.modulusM=yu.prototype.modM,yu.modulus=yu.mod,yu.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},yu.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t);return this},yu.prototype.andM=function(t){if(t=bu.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t.get(e,n));return this},yu.and=function(t,e){return new bu(t).and(e)},yu.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},yu.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t);return this},yu.prototype.orM=function(t){if(t=bu.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t.get(e,n));return this},yu.or=function(t,e){return new bu(t).or(e)},yu.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},yu.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t);return this},yu.prototype.xorM=function(t){if(t=bu.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t.get(e,n));return this},yu.xor=function(t,e){return new bu(t).xor(e)},yu.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},yu.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t);return this},yu.prototype.leftShiftM=function(t){if(t=bu.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t.get(e,n));return this},yu.leftShift=function(t,e){return new bu(t).leftShift(e)},yu.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},yu.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t);return this},yu.prototype.signPropagatingRightShiftM=function(t){if(t=bu.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t.get(e,n));return this},yu.signPropagatingRightShift=function(t,e){return new bu(t).signPropagatingRightShift(e)},yu.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},yu.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t);return this},yu.prototype.rightShiftM=function(t){if(t=bu.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t.get(e,n));return this},yu.rightShift=function(t,e){return new bu(t).rightShift(e)},yu.prototype.zeroFillRightShift=yu.prototype.rightShift,yu.prototype.zeroFillRightShiftS=yu.prototype.rightShiftS,yu.prototype.zeroFillRightShiftM=yu.prototype.rightShiftM,yu.zeroFillRightShift=yu.rightShift,yu.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},yu.not=function(t){return new bu(t).not()},yu.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},yu.abs=function(t){return new bu(t).abs()},yu.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},yu.acos=function(t){return new bu(t).acos()},yu.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},yu.acosh=function(t){return new bu(t).acosh()},yu.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},yu.asin=function(t){return new bu(t).asin()},yu.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},yu.asinh=function(t){return new bu(t).asinh()},yu.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},yu.atan=function(t){return new bu(t).atan()},yu.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},yu.atanh=function(t){return new bu(t).atanh()},yu.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},yu.cbrt=function(t){return new bu(t).cbrt()},yu.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},yu.ceil=function(t){return new bu(t).ceil()},yu.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},yu.clz32=function(t){return new bu(t).clz32()},yu.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},yu.cos=function(t){return new bu(t).cos()},yu.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},yu.cosh=function(t){return new bu(t).cosh()},yu.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},yu.exp=function(t){return new bu(t).exp()},yu.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},yu.expm1=function(t){return new bu(t).expm1()},yu.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},yu.floor=function(t){return new bu(t).floor()},yu.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},yu.fround=function(t){return new bu(t).fround()},yu.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},yu.log=function(t){return new bu(t).log()},yu.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},yu.log1p=function(t){return new bu(t).log1p()},yu.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},yu.log10=function(t){return new bu(t).log10()},yu.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},yu.log2=function(t){return new bu(t).log2()},yu.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},yu.round=function(t){return new bu(t).round()},yu.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},yu.sign=function(t){return new bu(t).sign()},yu.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},yu.sin=function(t){return new bu(t).sin()},yu.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},yu.sinh=function(t){return new bu(t).sinh()},yu.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},yu.sqrt=function(t){return new bu(t).sqrt()},yu.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},yu.tan=function(t){return new bu(t).tan()},yu.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},yu.tanh=function(t){return new bu(t).tanh()},yu.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},yu.trunc=function(t){return new bu(t).trunc()},yu.pow=function(t,e){return new bu(t).pow(e)},yu.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},yu.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t));return this},yu.prototype.powM=function(t){if(t=bu.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t.get(e,n)));return this};class xu extends gu{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}}function wu(t,e){let n=0;return Math.abs(t)>Math.abs(e)?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0!==e?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0}class _u{constructor(t,e={}){if((t=xu.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");let n=t.rows,i=t.columns;const{computeLeftSingularVectors:r=!0,computeRightSingularVectors:o=!0,autoTranspose:a=!1}=e;let s,l=Boolean(r),u=Boolean(o),c=!1;if(n<i)if(a){n=(s=t.transpose()).rows,i=s.columns,c=!0;let e=l;l=u,u=e}else s=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else s=t.clone();let h=Math.min(n,i),d=Math.min(n+1,i),f=new Float64Array(d),p=new mu(n,h),g=new mu(i,i),v=new Float64Array(i),m=new Float64Array(n),y=new Float64Array(d);for(let t=0;t<d;t++)y[t]=t;let b=Math.min(n-1,i),x=Math.max(0,Math.min(i-2,n)),w=Math.max(b,x);for(let t=0;t<w;t++){if(t<b){f[t]=0;for(let e=t;e<n;e++)f[t]=wu(f[t],s.get(e,t));if(0!==f[t]){s.get(t,t)<0&&(f[t]=-f[t]);for(let e=t;e<n;e++)s.set(e,t,s.get(e,t)/f[t]);s.set(t,t,s.get(t,t)+1)}f[t]=-f[t]}for(let e=t+1;e<i;e++){if(t<b&&0!==f[t]){let i=0;for(let r=t;r<n;r++)i+=s.get(r,t)*s.get(r,e);i=-i/s.get(t,t);for(let r=t;r<n;r++)s.set(r,e,s.get(r,e)+i*s.get(r,t))}v[e]=s.get(t,e)}if(l&&t<b)for(let e=t;e<n;e++)p.set(e,t,s.get(e,t));if(t<x){v[t]=0;for(let e=t+1;e<i;e++)v[t]=wu(v[t],v[e]);if(0!==v[t]){v[t+1]<0&&(v[t]=0-v[t]);for(let e=t+1;e<i;e++)v[e]/=v[t];v[t+1]+=1}if(v[t]=-v[t],t+1<n&&0!==v[t]){for(let e=t+1;e<n;e++)m[e]=0;for(let e=t+1;e<n;e++)for(let n=t+1;n<i;n++)m[e]+=v[n]*s.get(e,n);for(let e=t+1;e<i;e++){let i=-v[e]/v[t+1];for(let r=t+1;r<n;r++)s.set(r,e,s.get(r,e)+i*m[r])}}if(u)for(let e=t+1;e<i;e++)g.set(e,t,v[e])}}let _=Math.min(i,n+1);if(b<i&&(f[b]=s.get(b,b)),n<_&&(f[_-1]=0),x+1<_&&(v[x]=s.get(x,_-1)),v[_-1]=0,l){for(let t=b;t<h;t++){for(let e=0;e<n;e++)p.set(e,t,0);p.set(t,t,1)}for(let t=b-1;t>=0;t--)if(0!==f[t]){for(let e=t+1;e<h;e++){let i=0;for(let r=t;r<n;r++)i+=p.get(r,t)*p.get(r,e);i=-i/p.get(t,t);for(let r=t;r<n;r++)p.set(r,e,p.get(r,e)+i*p.get(r,t))}for(let e=t;e<n;e++)p.set(e,t,-p.get(e,t));p.set(t,t,1+p.get(t,t));for(let e=0;e<t-1;e++)p.set(e,t,0)}else{for(let e=0;e<n;e++)p.set(e,t,0);p.set(t,t,1)}}if(u)for(let t=i-1;t>=0;t--){if(t<x&&0!==v[t])for(let e=t+1;e<i;e++){let n=0;for(let r=t+1;r<i;r++)n+=g.get(r,t)*g.get(r,e);n=-n/g.get(t+1,t);for(let r=t+1;r<i;r++)g.set(r,e,g.get(r,e)+n*g.get(r,t))}for(let e=0;e<i;e++)g.set(e,t,0);g.set(t,t,1)}let S=_-1,M=0,C=Number.EPSILON;for(;_>0;){let t,e;for(t=_-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+C*Math.abs(f[t]+Math.abs(f[t+1]));if(Math.abs(v[t])<=e||Number.isNaN(v[t])){v[t]=0;break}}if(t===_-2)e=4;else{let n;for(n=_-1;n>=t&&n!==t;n--){let e=(n!==_?Math.abs(v[n]):0)+(n!==t+1?Math.abs(v[n-1]):0);if(Math.abs(f[n])<=C*e){f[n]=0;break}}n===t?e=3:n===_-1?e=1:(e=2,t=n)}switch(t++,e){case 1:{let e=v[_-2];v[_-2]=0;for(let n=_-2;n>=t;n--){let r=wu(f[n],e),o=f[n]/r,a=e/r;if(f[n]=r,n!==t&&(e=-a*v[n-1],v[n-1]=o*v[n-1]),u)for(let t=0;t<i;t++)r=o*g.get(t,n)+a*g.get(t,_-1),g.set(t,_-1,-a*g.get(t,n)+o*g.get(t,_-1)),g.set(t,n,r)}break}case 2:{let e=v[t-1];v[t-1]=0;for(let i=t;i<_;i++){let r=wu(f[i],e),o=f[i]/r,a=e/r;if(f[i]=r,e=-a*v[i],v[i]=o*v[i],l)for(let e=0;e<n;e++)r=o*p.get(e,i)+a*p.get(e,t-1),p.set(e,t-1,-a*p.get(e,i)+o*p.get(e,t-1)),p.set(e,i,r)}break}case 3:{const e=Math.max(Math.abs(f[_-1]),Math.abs(f[_-2]),Math.abs(v[_-2]),Math.abs(f[t]),Math.abs(v[t])),r=f[_-1]/e,o=f[_-2]/e,a=v[_-2]/e,s=f[t]/e,c=v[t]/e,h=((o+r)*(o-r)+a*a)/2,d=r*a*(r*a);let m=0;0===h&&0===d||(m=d/(h+(m=h<0?0-Math.sqrt(h*h+d):Math.sqrt(h*h+d))));let y=(s+r)*(s-r)+m,b=s*c;for(let e=t;e<_-1;e++){let r=wu(y,b);0===r&&(r=Number.MIN_VALUE);let o=y/r,a=b/r;if(e!==t&&(v[e-1]=r),y=o*f[e]+a*v[e],v[e]=o*v[e]-a*f[e],b=a*f[e+1],f[e+1]=o*f[e+1],u)for(let t=0;t<i;t++)r=o*g.get(t,e)+a*g.get(t,e+1),g.set(t,e+1,-a*g.get(t,e)+o*g.get(t,e+1)),g.set(t,e,r);if(0===(r=wu(y,b))&&(r=Number.MIN_VALUE),o=y/r,a=b/r,f[e]=r,y=o*v[e]+a*f[e+1],f[e+1]=-a*v[e]+o*f[e+1],b=a*v[e+1],v[e+1]=o*v[e+1],l&&e<n-1)for(let t=0;t<n;t++)r=o*p.get(t,e)+a*p.get(t,e+1),p.set(t,e+1,-a*p.get(t,e)+o*p.get(t,e+1)),p.set(t,e,r)}v[_-2]=y,M+=1;break}case 4:if(f[t]<=0&&(f[t]=f[t]<0?-f[t]:0,u))for(let e=0;e<=S;e++)g.set(e,t,-g.get(e,t));for(;t<S&&!(f[t]>=f[t+1]);){let e=f[t];if(f[t]=f[t+1],f[t+1]=e,u&&t<i-1)for(let n=0;n<i;n++)e=g.get(n,t+1),g.set(n,t+1,g.get(n,t)),g.set(n,t,e);if(l&&t<n-1)for(let i=0;i<n;i++)e=p.get(i,t+1),p.set(i,t+1,p.get(i,t)),p.set(i,t,e);t++}M=0,_--}}if(c){let t=g;g=p,p=t}this.m=n,this.n=i,this.s=f,this.U=p,this.V=g}solve(t){let e=t,n=this.threshold,i=this.s.length,r=mu.zeros(i,i);for(let t=0;t<i;t++)Math.abs(this.s[t])<=n?r.set(t,t,0):r.set(t,t,1/this.s[t]);let o=this.U,a=this.rightSingularVectors,s=a.mmul(r),l=a.rows,u=o.rows,c=mu.zeros(l,u);for(let t=0;t<l;t++)for(let e=0;e<u;e++){let n=0;for(let r=0;r<i;r++)n+=s.get(t,r)*o.get(e,r);c.set(t,e,n)}return c.mmul(e)}solveForDiagonal(t){return this.solve(mu.diag(t))}inverse(){let t=this.V,e=this.threshold,n=t.rows,i=t.columns,r=new mu(n,this.s.length);for(let o=0;o<n;o++)for(let n=0;n<i;n++)Math.abs(this.s[n])>e&&r.set(o,n,t.get(o,n)/this.s[n]);let o=this.U,a=o.rows,s=o.columns,l=new mu(n,a);for(let t=0;t<n;t++)for(let e=0;e<a;e++){let n=0;for(let i=0;i<s;i++)n+=r.get(t,i)*o.get(e,i);l.set(t,e,n)}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s;for(let i=0,r=n.length;i<r;i++)n[i]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return mu.diag(this.s)}}class Su{constructor(t){this.distances=t.distances,this.dimension=t.dimension||2,this.linkDistance=t.linkDistance}layout(){const{dimension:t,distances:e,linkDistance:n}=this;try{const i=mu.mul(mu.pow(e,2),-.5),r=i.mean("row"),o=i.mean("column"),a=i.mean();i.add(a).subRowVector(r).subColumnVector(o);const s=new _u(i),l=mu.sqrt(s.diagonalMatrix).diagonal();return s.leftSingularVectors.toJSON().map(e=>mu.mul([e],[l]).toJSON()[0].splice(0,t))}catch(t){const i=[];for(let t=0;t<e.length;t++){const t=Math.random()*n,e=Math.random()*n;i.push([t,e])}return i}}}const Mu=800;class Cu{constructor(t){this.disp=[],this.positions=t.positions,this.adjMatrix=t.adjMatrix,this.focusID=t.focusID,this.radii=t.radii,this.iterations=t.iterations||10,this.height=t.height||10,this.width=t.width||10,this.speed=t.speed||100,this.gravity=t.gravity||10,this.nodeSizeFunc=t.nodeSizeFunc,this.k=t.k||5,this.strictRadial=t.strictRadial,this.nodes=t.nodes}layout(){const t=this,e=t.positions,n=[],i=t.iterations,r=t.width/10;t.maxDisplace=r,t.disp=n;for(let r=0;r<i;r++)e.forEach((t,e)=>{n[e]={x:0,y:0}}),t.getRepulsion(),t.updatePositions();return e}getRepulsion(){const t=this,e=t.positions,n=t.nodes,i=t.disp,r=t.k,o=t.radii||[];e.forEach((a,s)=>{i[s]={x:0,y:0},e.forEach((e,l)=>{if(s===l)return;if(o[s]!==o[l])return;let u=a[0]-e[0],c=a[1]-e[1],h=Math.sqrt(u*u+c*c);if(0===h){h=1;const t=s>l?1:-1;u=.01*t,c=.01*t}if(h<t.nodeSizeFunc(n[s])/2+t.nodeSizeFunc(n[l])/2){const t=r*r/h;i[s].x+=u/h*t,i[s].y+=c/h*t}})})}updatePositions(){const t=this.positions,e=this.disp,n=this.speed,i=this.strictRadial,r=this.focusID,o=this.maxDisplace||this.width/10;i&&e.forEach((e,n)=>{const i=t[n][0]-t[r][0],o=t[n][1]-t[r][1],a=Math.sqrt(i*i+o*o);let s=o/a,l=-i/a;const u=Math.sqrt(e.x*e.x+e.y*e.y);let c=Math.acos((s*e.x+l*e.y)/u);c>Math.PI/2&&(c-=Math.PI/2,s*=-1,l*=-1);const h=Math.cos(c)*u;e.x=s*h,e.y=l*h});const a=this.radii;t.forEach((s,l)=>{if(l===r)return;const u=Math.sqrt(e[l].x*e[l].x+e[l].y*e[l].y);if(u>0&&l!==r){const c=Math.min(o*(n/Mu),u);if(s[0]+=e[l].x/u*c,s[1]+=e[l].y/u*c,i){let e=s[0]-t[r][0],n=s[1]-t[r][1];const i=Math.sqrt(e*e+n*n);e=e/i*a[l],n=n/i*a[l],s[0]=t[r][0]+e,s[1]=t[r][1]+n}}})}}function Iu(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}class ku extends oo{constructor(t){super(),this.maxIteration=1e3,this.focusNode=null,this.unitRadius=null,this.linkDistance=50,this.preventOverlap=!1,this.strictRadial=!0,this.maxPreventOverlapIteration=200,this.sortStrength=10,this.nodes=[],this.edges=[],this.updateCfg(t)}getDefaultCfg(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}}execute(){const t=this,e=t.nodes,n=t.edges||[];if(!e||0===e.length)return void(t.onLayoutEnd&&t.onLayoutEnd());t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);const i=t.center;if(1===e.length)return e[0].x=i[0],e[0].y=i[1],void(t.onLayoutEnd&&t.onLayoutEnd());const r=t.linkDistance;let o=null;if(ao(t.focusNode)){let n=!1;for(let i=0;i<e.length;i++)e[i].id===t.focusNode&&(o=e[i],t.focusNode=o,n=!0,i=e.length);n||(o=null)}else o=t.focusNode;o||(o=e[0],t.focusNode=o);const a=function(t,e){let n=-1;return t.forEach((t,i)=>{t.id===e&&(n=i)}),n}(e,o.id);t.focusIndex=a;const s=mo({nodes:e,edges:n},!1),l=vo(s),u=t.maxToFocus(l,a);t.handleInfinity(l,a,u+1),t.distances=l;const c=l[a],h=t.width||500,d=t.height||500;let f=h-i[0]>i[0]?i[0]:h-i[0],p=d-i[1]>i[1]?i[1]:d-i[1];0===f&&(f=h/2),0===p&&(p=d/2);const g=p>f?f:p,v=Math.max(...c),m=[];c.forEach((e,n)=>{t.unitRadius||(t.unitRadius=g/v),m[n]=e*t.unitRadius}),t.radii=m;const y=t.eIdealDisMatrix();t.eIdealDistances=y;const b=function(t){const e=t.length,n=t[0].length,i=[];for(let r=0;r<e;r++){const e=[];for(let i=0;i<n;i++)0!==t[r][i]?e.push(1/(t[r][i]*t[r][i])):e.push(0);i.push(e)}return i}(y);t.weights=b;let x=new Su({linkDistance:r,distances:y}).layout();x.forEach(t=>{co(t[0])&&(t[0]=Math.random()*r),co(t[1])&&(t[1]=Math.random()*r)}),t.positions=x,x.forEach((t,n)=>{e[n].x=t[0]+i[0],e[n].y=t[1]+i[1]}),x.forEach(t=>{t[0]-=x[a][0],t[1]-=x[a][1]}),t.run();const w=t.preventOverlap,_=t.nodeSize;let S;const M=t.strictRadial;if(w){const n=t.nodeSpacing;let i;i=uo(n)?()=>n:wo(n)?n:()=>0,S=_?lo(_)?t=>{return(_[0]>_[1]?_[0]:_[1])+i(t)}:t=>_+i(t):t=>{if(t.size){if(lo(t.size)){return(t.size[0]>t.size[1]?t.size[0]:t.size[1])+i(t)}if(ho(t.size)){return(t.size.width>t.size.height?t.size.width:t.size.height)+i(t)}return t.size+i(t)}return 10+i(t)};const r={nodes:e,nodeSizeFunc:S,adjMatrix:s,positions:x,radii:m,height:d,width:h,strictRadial:M,focusID:a,iterations:t.maxPreventOverlapIteration||200,k:x.length/4.5},o=new Cu(r);x=o.layout()}return x.forEach((t,n)=>{e[n].x=t[0]+i[0],e[n].y=t[1]+i[1]}),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}run(){const t=this,e=t.maxIteration,n=t.positions||[],i=t.weights||[],r=t.eIdealDistances||[],o=t.radii||[];for(let a=0;a<=e;a++){const s=a/e;t.oneIteration(s,n,o,r,i)}}oneIteration(t,e,n,i,r){const o=1-t,a=this.focusIndex;e.forEach((s,l)=>{const u=Iu(s,[0,0]),c=0===u?0:1/u;if(l===a)return;let h=0,d=0,f=0;e.forEach((t,e)=>{if(l===e)return;const n=Iu(s,t),o=0===n?0:1/n,a=i[e][l];f+=r[l][e],h+=r[l][e]*(t[0]+a*(s[0]-t[0])*o),d+=r[l][e]*(t[1]+a*(s[1]-t[1])*o)});const p=0===n[l]?0:1/n[l];f*=o,f+=t*p*p,h*=o,h+=t*p*s[0]*c,s[0]=h/f,d*=o,d+=t*p*s[1]*c,s[1]=d/f})}eIdealDisMatrix(){const t=this,e=t.nodes;if(!e)return[];const n=t.distances,i=t.linkDistance,r=t.radii||[],o=t.unitRadius||50,a=[];return n&&n.forEach((n,s)=>{const l=[];n.forEach((n,a)=>{if(s===a)l.push(0);else if(r[s]===r[a])if("data"===t.sortBy)l.push(n*(Math.abs(s-a)*t.sortStrength)/(r[s]/o));else if(t.sortBy){let i=e[s][t.sortBy]||0,u=e[a][t.sortBy]||0;ao(i)&&(i=i.charCodeAt(0)),ao(u)&&(u=u.charCodeAt(0)),l.push(n*(Math.abs(i-u)*t.sortStrength)/(r[s]/o))}else l.push(n*i/(r[s]/o));else{const t=(i+o)/2;l.push(n*t)}}),a.push(l)}),a}handleInfinity(t,e,n){const i=t.length;for(let r=0;r<i;r++)if(t[e][r]===1/0){t[e][r]=n,t[r][e]=n;for(let o=0;o<i;o++)t[r][o]!==1/0&&t[e][o]===1/0&&(t[e][o]=n+t[r][o],t[o][e]=n+t[r][o])}for(let n=0;n<i;n++)if(n!==e)for(let r=0;r<i;r++)if(t[n][r]===1/0){let i=Math.abs(t[e][n]-t[e][r]);i=0===i?1:i,t[n][r]=i}}maxToFocus(t,e){let n=0;for(let i=0;i<t[e].length;i++)t[e][i]!==1/0&&(n=t[e][i]>n?t[e][i]:n);return n}getType(){return"radial"}}class Tu extends oo{constructor(t){super(),this.nodeSize=30,this.minNodeSpacing=10,this.preventOverlap=!1,this.equidistant=!1,this.startAngle=1.5*Math.PI,this.clockwise=!0,this.sortBy="degree",this.nodes=[],this.edges=[],this.width=300,this.height=300,this.onLayoutEnd=(()=>{}),this.updateCfg(t)}getDefaultCfg(){return{nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}}execute(){const t=this,e=t.nodes,n=t.edges,i=e.length;if(0===i)return void(t.onLayoutEnd&&t.onLayoutEnd());t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);const r=t.center;if(1===i)return e[0].x=r[0],e[0].y=r[1],void(t.onLayoutEnd&&t.onLayoutEnd());const o=[];let a;a=lo(t.nodeSize)?Math.max(t.nodeSize[0],t.nodeSize[1]):t.nodeSize,e.forEach(t=>{o.push(t);let e=a;lo(t.size)?e=Math.max(t.size[0],t.size[1]):uo(t.size)?e=t.size:ho(t.size)&&(e=Math.max(t.size.width,t.size.height)),a=Math.max(a,e)}),t.clockwise=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise;const s={},l={};if(o.forEach((t,e)=>{s[t.id]=t,l[t.id]=e}),!("degree"!==t.sortBy&&ao(t.sortBy)&&void 0!==o[0][t.sortBy]||(t.sortBy="degree",uo(e[0].degree)))){const t=go(e.length,l,n);o.forEach((e,n)=>{e.degree=t[n]})}o.sort((e,n)=>n[t.sortBy]-e[t.sortBy]),t.maxValueNode=o[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;const u=[[]];let c=u[0];o.forEach(e=>{if(c.length>0){const n=Math.abs(c[0][t.sortBy]-e[t.sortBy]);t.maxLevelDiff&&n>=t.maxLevelDiff&&(c=[],u.push(c))}c.push(e)});let h=a+t.minNodeSpacing;if(!t.preventOverlap){const e=u.length>0&&u[0].length>1,n=(Math.min(t.width,t.height)/2-h)/(u.length+(e?1:0));h=Math.min(h,n)}let d=0;if(u.forEach(e=>{let n=t.sweep;void 0===n&&(n=2*Math.PI-2*Math.PI/e.length);const i=e.dTheta=n/Math.max(1,e.length-1);if(e.length>1&&t.preventOverlap){const t=Math.cos(i)-Math.cos(0),e=Math.sin(i)-Math.sin(0),n=Math.sqrt(h*h/(t*t+e*e));d=Math.max(n,d)}e.r=d,d+=h}),t.equidistant){let t=0,e=0;for(let n=0;n<u.length;n++){const i=u[n].r-e;t=Math.max(t,i)}e=0,u.forEach((n,i)=>{0===i&&(e=n.r),n.r=e,e+=t})}return u.forEach(e=>{const n=e.dTheta,i=e.r;e.forEach((e,o)=>{const a=t.startAngle+(t.clockwise?1:-1)*n*o;e.x=r[0]+i*Math.cos(a),e.y=r[1]+i*Math.sin(a)})}),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}getType(){return"concentric"}}class Ou extends oo{constructor(t){super(),this.center=[0,0],this.linkDistance=50,this.nodes=[],this.edges=[],this.onLayoutEnd=(()=>{}),this.updateCfg(t)}getDefaultCfg(){return{center:[0,0],linkDistance:50}}execute(){const t=this,{nodes:e,edges:n=[]}=t,i=t.center;if(!e||0===e.length)return void(t.onLayoutEnd&&t.onLayoutEnd());if(1===e.length)return e[0].x=i[0],e[0].y=i[1],void(t.onLayoutEnd&&t.onLayoutEnd());const r=t.linkDistance,o=mo({nodes:e,edges:n},!1),a=vo(o);t.handleInfinity(a);const s=yo(a,r);t.scaledDistances=s;const l=t.runMDS();return t.positions=l,l.forEach((t,n)=>{e[n].x=t[0]+i[0],e[n].y=t[1]+i[1]}),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}runMDS(){const t=this.scaledDistances,e=mu.mul(mu.pow(t,2),-.5),n=e.mean("row"),i=e.mean("column"),r=e.mean();e.add(r).subRowVector(n).subColumnVector(i);const o=new _u(e),a=mu.sqrt(o.diagonalMatrix).diagonal();return o.leftSingularVectors.toJSON().map(t=>mu.mul([t],[a]).toJSON()[0].splice(0,2))}handleInfinity(t){let e=-999999;t.forEach(t=>{t.forEach(t=>{t!==1/0&&e<t&&(e=t)})}),t.forEach((n,i)=>{n.forEach((n,r)=>{n===1/0&&(t[i][r]=e)})})}getType(){return"mds"}}const Eu=800;class Au extends oo{constructor(t){super(),this.maxIteration=1e3,this.workerEnabled=!1,this.gravity=10,this.speed=5,this.clustering=!1,this.clusterGravity=10,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.onLayoutEnd=(()=>{}),this.tick=(()=>{}),this.updateCfg(t)}getDefaultCfg(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}execute(){var t,e;const n=this,i=n.nodes;if(void 0!==n.timeInterval&&"undefined"!=typeof window&&window.clearInterval(n.timeInterval),!i||0===i.length)return void(null===(t=n.onLayoutEnd)||void 0===t||t.call(n));n.width||"undefined"==typeof window||(n.width=window.innerWidth),n.height||"undefined"==typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);const r=n.center;if(1===i.length)return i[0].x=r[0],i[0].y=r[1],void(null===(e=n.onLayoutEnd)||void 0===e||e.call(n));const o={},a={};return i.forEach((t,e)=>{uo(t.x)||(t.x=Math.random()*this.width),uo(t.y)||(t.y=Math.random()*this.height),o[t.id]=t,a[t.id]=e}),n.nodeMap=o,n.nodeIdxMap=a,n.run()}run(){var t;const e=this,n=e.nodes;if(!n)return;const{edges:i,maxIteration:r,workerEnabled:o,clustering:a}=e,s={};if(a&&n.forEach(t=>{void 0===s[t.cluster]&&(s[t.cluster]={name:t.cluster,cx:0,cy:0,count:0})}),o){for(let t=0;t<r;t++)e.runOneStep(s);null===(t=e.onLayoutEnd)||void 0===t||t.call(e)}else{if("undefined"==typeof window)return;let t=0;this.timeInterval=window.setInterval(()=>{var n;e.runOneStep(s),++t>=r&&(null===(n=e.onLayoutEnd)||void 0===n||n.call(e),window.clearInterval(e.timeInterval))},0)}return{nodes:n,edges:i}}runOneStep(t){var e;const n=this,i=n.nodes;if(!i)return;const{edges:r,center:o,gravity:a,speed:s,clustering:l}=n,u=n.height*n.width,c=Math.sqrt(u)/10,h=u/(i.length+1),d=Math.sqrt(h),f=[];if(i.forEach((t,e)=>{f[e]={x:0,y:0}}),n.applyCalculate(i,r,f,d,h),l){for(const e in t)t[e].cx=0,t[e].cy=0,t[e].count=0;i.forEach(e=>{const n=t[e.cluster];uo(e.x)&&(n.cx+=e.x),uo(e.y)&&(n.cy+=e.y),n.count++});for(const e in t)t[e].cx/=t[e].count,t[e].cy/=t[e].count;const e=n.clusterGravity||a;i.forEach((n,i)=>{if(!uo(n.x)||!uo(n.y))return;const r=t[n.cluster],o=Math.sqrt((n.x-r.cx)*(n.x-r.cx)+(n.y-r.cy)*(n.y-r.cy)),a=d*e;f[i].x-=a*(n.x-r.cx)/o,f[i].y-=a*(n.y-r.cy)/o})}i.forEach((t,e)=>{if(!uo(t.x)||!uo(t.y))return;const n=.01*d*a;f[e].x-=n*(t.x-o[0]),f[e].y-=n*(t.y-o[1])}),i.forEach((t,e)=>{if(uo(t.fx)&&uo(t.fy))return t.x=t.fx,void(t.y=t.fy);if(!uo(t.x)||!uo(t.y))return;const n=Math.sqrt(f[e].x*f[e].x+f[e].y*f[e].y);if(n>0){const i=Math.min(c*(s/Eu),n);t.x+=f[e].x/n*i,t.y+=f[e].y/n*i}}),null===(e=n.tick)||void 0===e||e.call(n)}applyCalculate(t,e,n,i,r){this.calRepulsive(t,n,r),e&&this.calAttractive(e,n,i)}calRepulsive(t,e,n){t.forEach((i,r)=>{e[r]={x:0,y:0},t.forEach((t,o)=>{if(r===o)return;if(!(uo(i.x)&&uo(t.x)&&uo(i.y)&&uo(t.y)))return;let a=i.x-t.x,s=i.y-t.y,l=a*a+s*s;if(0===l){l=1;const t=r>o?1:-1;a=.01*t,s=.01*t}const u=n/l;e[r].x+=a*u,e[r].y+=s*u})})}calAttractive(t,e,n){t.forEach(t=>{const i=po(t,"source"),r=po(t,"target");if(!i||!r)return;const o=this.nodeIdxMap[i],a=this.nodeIdxMap[r];if(o===a)return;const s=this.nodeMap[i],l=this.nodeMap[r];if(!(uo(l.x)&&uo(s.x)&&uo(l.y)&&uo(s.y)))return;const u=l.x-s.x,c=l.y-s.y,h=Math.sqrt(u*u+c*c),d=h*h/n;e[a].x-=u/h*d,e[a].y-=c/h*d,e[o].x+=u/h*d,e[o].y+=c/h*d})}stop(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval)}destroy(){this.stop(),this.tick=null,this.nodes=null,this.edges=null,this.destroyed=!0}getType(){return"fruchterman"}}var Nu=n("dYct"),Lu=n.n(Nu),Du=n("Z60a"),ju=n.n(Du),Pu=n("C9uT"),Ru=n.n(Pu),zu=n("jb0h"),Bu=n.n(zu),Fu=(n("X6mv"),n("YVy+")),Gu=n("lVvd"),Vu=n("YulH");function Wu(t){return"number"==typeof t}function Hu(t){return void 0===t?0:t>360||t<-360?t%360:t}function Uu(t,e,n){return Wu(t)?Gu.e.fromValues(t,e,n):3===t.length?Gu.e.clone(t):Gu.e.fromValues(t[0],t[1],t[2])}var Yu,Ju,Qu,Zu,$u,Xu,Ku,qu,tc,ec,nc=function(){function t(e,n){ju()(this,t),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=e,this.matrix=Gu.b.clone(n.matrix),this.right=Gu.e.clone(n.right),this.up=Gu.e.clone(n.up),this.forward=Gu.e.clone(n.forward),this.position=Gu.e.clone(n.position),this.focalPoint=Gu.e.clone(n.focalPoint),this.distanceVector=Gu.e.clone(n.distanceVector),this.azimuth=n.azimuth,this.elevation=n.elevation,this.roll=n.roll,this.relAzimuth=n.relAzimuth,this.relElevation=n.relElevation,this.relRoll=n.relRoll,this.dollyingStep=n.dollyingStep,this.distance=n.distance}return Ru()(t,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(t){t.matrix=Gu.b.copy(t.matrix,this.matrix),t.right=Gu.e.copy(t.right,this.right),t.up=Gu.e.copy(t.up,this.up),t.forward=Gu.e.copy(t.forward,this.forward),t.position=Gu.e.copy(t.position,this.position),t.focalPoint=Gu.e.copy(t.focalPoint,this.focalPoint),t.distanceVector=Gu.e.copy(t.distanceVector,this.distanceVector),t.azimuth=this.azimuth,t.elevation=this.elevation,t.roll=this.roll,t.relAzimuth=this.relAzimuth,t.relElevation=this.relElevation,t.relRoll=this.relRoll,t.dollyingStep=this.dollyingStep,t.distance=this.distance}}]),t}();!function(t){t.ORBITING="ORBITING",t.EXPLORING="EXPLORING",t.TRACKING="TRACKING"}(qu||(qu={})),function(t){t.DEFAULT="DEFAULT",t.ROTATIONAL="ROTATIONAL",t.TRANSLATIONAL="TRANSLATIONAL",t.CINEMATIC="CINEMATIC"}(tc||(tc={})),function(t){t.ORTHOGRAPHIC="ORTHOGRAPHIC",t.PERSPECTIVE="PERSPECTIVE"}(ec||(ec={}));var ic,rc,oc,ac,sc,lc,uc,cc=Math.PI/180,hc=180/Math.PI,dc=(Yu=Object(Vu.injectable)(),Ju=Object(Vu.inject)(Fu.IDENTIFIER.InteractorService),Yu((Ku=Xu=function(){function t(){ju()(this,t),this.matrix=Gu.b.create(),this.right=Gu.e.fromValues(1,0,0),this.up=Gu.e.fromValues(0,1,0),this.forward=Gu.e.fromValues(0,0,1),this.position=Gu.e.fromValues(0,0,1),this.focalPoint=Gu.e.fromValues(0,0,0),this.distanceVector=Gu.e.fromValues(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,Lu()(this,"interactor",$u,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=Gu.b.create(),this.view=void 0,this.following=void 0,this.type=qu.EXPLORING,this.trackingMode=tc.DEFAULT,this.projectionMode=ec.PERSPECTIVE,this.frustum=new Fu.Frustum,this.landmarks=[],this.landmarkAnimationID=void 0}return Ru()(t,[{key:"clone",value:function(){var e=new t;return e.setType(this.type,void 0),e.interactor=this.interactor,e}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(t,e){return this.type=t,this.type===qu.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===qu.TRACKING&&void 0!==e&&this.setTrackingMode(e),this}},{key:"setProjectionMode",value:function(t){return this.projectionMode=t,this}},{key:"setTrackingMode",value:function(t){if(this.type!==qu.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=t,this}},{key:"setWorldRotation",value:function(t){this.rotateWorld=t,this._getAngles()}},{key:"getViewTransform",value:function(){return Gu.b.invert(Gu.b.create(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(t){return this.matrix=t,this._update(),this}},{key:"setAspect",value:function(t){return this.setPerspective(this.near,this.far,this.fov,t),this}},{key:"setViewOffset",value:function(t,e,n,i,r,o){return this.aspect=t/e,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.projectionMode===ec.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===ec.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(t,e,n,i){return this.projectionMode=ec.PERSPECTIVE,this.fov=n,this.near=t,this.far=e,this.aspect=i,Gu.b.perspective(this.perspective,this.fov*cc,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(t,e,n,i,r,o){this.projectionMode=ec.ORTHOGRAPHIC,this.rright=e,this.left=t,this.top=n,this.bottom=i,this.near=r,this.far=o;var a=(this.rright-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),l=(this.rright+this.left)/2,u=(this.top+this.bottom)/2,c=l-a,h=l+a,d=u+s,f=u-s;if(void 0!==this.view&&this.view.enabled){var p=(this.rright-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;h=(c+=p*this.view.offsetX)+p*this.view.width,f=(d-=g*this.view.offsetY)-g*this.view.height}return Gu.b.ortho(this.perspective,c,h,d,f,r,o),this}},{key:"setPosition",value:function(t,e,n){return this._setPosition(t,e,n),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(t,e,n){var i=Gu.e.fromValues(0,1,0);if(this.focalPoint=Uu(t,e,n),this.trackingMode===tc.CINEMATIC){var r=Gu.e.subtract(Gu.e.create(),this.focalPoint,this.position);t=r[0],e=r[1],n=r[2];var o=Gu.e.length(r),a=Math.asin(e/o)*hc,s=90+Math.atan2(n,t)*hc,l=Gu.b.create();Gu.b.rotateY(l,l,s*cc),Gu.b.rotateX(l,l,a*cc),i=Gu.e.transformMat4(Gu.e.create(),[0,1,0],l)}return Gu.b.invert(this.matrix,Gu.b.lookAt(Gu.b.create(),this.position,this.focalPoint,i)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(t){if(!(this.distance===t||t<0)){this.distance=t,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var e=Gu.e.create();t=this.distance;var n=this.forward,i=this.focalPoint;return e[0]=t*n[0]+i[0],e[1]=t*n[1]+i[1],e[2]=t*n[2]+i[2],this._setPosition(e),this}}},{key:"setMaxDistance",value:function(t){return this.maxDistance=t,this}},{key:"setMinDistance",value:function(t){return this.minDistance=t,this}},{key:"changeAzimuth",value:function(t){return this.setAzimuth(this.azimuth+t),this}},{key:"changeElevation",value:function(t){return this.setElevation(this.elevation+t),this}},{key:"changeRoll",value:function(t){return this.setRoll(this.roll+t),this}},{key:"setAzimuth",value:function(t){return this.azimuth=Hu(t),this.computeMatrix(),this._getAxes(),this.type===qu.ORBITING||this.type===qu.EXPLORING?this._getPosition():this.type===qu.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(t){return this.elevation=Hu(t),this.computeMatrix(),this._getAxes(),this.type===qu.ORBITING||this.type===qu.EXPLORING?this._getPosition():this.type===qu.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(t){return this.roll=Hu(t),this.computeMatrix(),this._getAxes(),this.type===qu.ORBITING||this.type===qu.EXPLORING?this._getPosition():this.type===qu.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(t,e,n){if(this.type===qu.EXPLORING){t=Hu(t),e=Hu(e),n=Hu(n);var i=Gu.c.setAxisAngle(Gu.c.create(),[1,0,0],(this.rotateWorld?1:-1)*e*cc),r=Gu.c.setAxisAngle(Gu.c.create(),[0,1,0],(this.rotateWorld?1:-1)*t*cc),o=Gu.c.setAxisAngle(Gu.c.create(),[0,0,1],n*cc),a=Gu.c.multiply(Gu.c.create(),r,i);a=Gu.c.multiply(Gu.c.create(),a,o);var s=Gu.b.fromQuat(Gu.b.create(),a);Gu.b.translate(this.matrix,this.matrix,[0,0,-this.distance]),Gu.b.multiply(this.matrix,this.matrix,s),Gu.b.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+e)>90)return;this.relElevation=Hu(e),this.relAzimuth=Hu(t),this.relRoll=Hu(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===qu.ORBITING||this.type===qu.EXPLORING?this._getPosition():this.type===qu.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(t,e){var n=Uu(t,e,0),i=Gu.e.clone(this.position);return Gu.e.add(i,i,Gu.e.scale(Gu.e.create(),this.right,n[0])),Gu.e.add(i,i,Gu.e.scale(Gu.e.create(),this.up,n[1])),this._setPosition(i),this}},{key:"dolly",value:function(t){var e=this.forward,n=Gu.e.clone(this.position),i=this.dollyingStep,r=this.distance+t*this.dollyingStep;return i=Math.max(Math.min(r,this.maxDistance),this.minDistance)-this.distance,n[0]+=i*e[0],n[1]+=i*e[1],n[2]+=i*e[2],this._setPosition(n),this.type===qu.ORBITING||this.type===qu.EXPLORING?this._getDistance():this.type===qu.TRACKING&&Gu.e.add(this.focalPoint,n,this.distanceVector),this}},{key:"createLandmark",value:function(t,e){var n=this.clone();n.setPosition(e.position),n.setFocalPoint(e.focalPoint),void 0!==e.roll&&n.setRoll(e.roll);var i=new nc(t,n);return this.landmarks.push(i),i}},{key:"setLandmark",value:function(t){var e=new nc(t,this);return this.landmarks.push(e),this}},{key:"gotoLandmark",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,i=this.landmarks.find(function(e){return e.name===t});if(i){if(0===n)return void i.retrieve(this);void 0!==this.landmarkAnimationID&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var r,o=i.getPosition(),a=i.getFocalPoint(),s=i.getRoll();window.requestAnimationFrame(function t(i){void 0===r&&(r=i);var l,u=i-r,c=(1-Math.cos(u/n*Math.PI))/2,h=Gu.e.create(),d=Gu.e.create();if(Gu.e.lerp(h,e.focalPoint,a,c),Gu.e.lerp(d,e.position,o,c),l=e.roll*(1-c)+s*c,e.setFocalPoint(h),e.setPosition(d),e.setRoll(l),e.computeMatrix(),!(Gu.e.dist(h,a)+Gu.e.dist(d,o)>.01))return e.setFocalPoint(h),e.setPosition(d),e.setRoll(l),e.computeMatrix(),void e.interactor.connect();u<n&&(e.landmarkAnimationID=window.requestAnimationFrame(t))})}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var t,e,n=Gu.c.setAxisAngle(Gu.c.create(),[0,0,1],this.roll*cc);Gu.b.identity(this.matrix),t=Gu.c.setAxisAngle(Gu.c.create(),[1,0,0],(this.rotateWorld&&this.type!==qu.TRACKING||this.type===qu.TRACKING?1:-1)*this.elevation*cc),e=Gu.c.setAxisAngle(Gu.c.create(),[0,1,0],(this.rotateWorld&&this.type!==qu.TRACKING||this.type===qu.TRACKING?1:-1)*this.azimuth*cc);var i=Gu.c.multiply(Gu.c.create(),e,t);i=Gu.c.multiply(Gu.c.create(),i,n);var r=Gu.b.fromQuat(Gu.b.create(),i);this.type===qu.ORBITING||this.type===qu.EXPLORING?(Gu.b.translate(this.matrix,this.matrix,this.focalPoint),Gu.b.multiply(this.matrix,this.matrix,r),Gu.b.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===qu.TRACKING&&(Gu.b.translate(this.matrix,this.matrix,this.position),Gu.b.multiply(this.matrix,this.matrix,r))}},{key:"_setPosition",value:function(t,e,n){this.position=Uu(t,e,n);var i=this.matrix;i[12]=this.position[0],i[13]=this.position[1],i[14]=this.position[2],i[15]=1}},{key:"_getAxes",value:function(){Gu.e.copy(this.right,Uu(Gu.f.transformMat4(Gu.f.create(),[1,0,0,0],this.matrix))),Gu.e.copy(this.up,Uu(Gu.f.transformMat4(Gu.f.create(),[0,1,0,0],this.matrix))),Gu.e.copy(this.forward,Uu(Gu.f.transformMat4(Gu.f.create(),[0,0,1,0],this.matrix))),Gu.e.normalize(this.right,this.right),Gu.e.normalize(this.up,this.up),Gu.e.normalize(this.forward,this.forward)}},{key:"_getAngles",value:function(){var t=this.distanceVector[0],e=this.distanceVector[1],n=this.distanceVector[2],i=Gu.e.length(this.distanceVector);if(0===i)return this.elevation=0,void(this.azimuth=0);this.type===qu.TRACKING?(this.elevation=Math.asin(e/i)*hc,this.azimuth=Math.atan2(-t,-n)*hc):this.rotateWorld?(this.elevation=Math.asin(e/i)*hc,this.azimuth=Math.atan2(-t,-n)*hc):(this.elevation=-Math.asin(e/i)*hc,this.azimuth=-Math.atan2(-t,-n)*hc)}},{key:"_getPosition",value:function(){Gu.e.copy(this.position,Uu(Gu.f.transformMat4(Gu.f.create(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){Gu.e.transformMat3(this.distanceVector,[0,0,-this.distance],Gu.a.fromMat4(Gu.a.create(),this.matrix)),Gu.e.add(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=Gu.e.subtract(Gu.e.create(),this.focalPoint,this.position),this.distance=Gu.e.length(this.distanceVector),this.dollyingStep=this.distance/100}}]),t}(),Xu.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},Zu=Ku,$u=Bu()(Zu.prototype,"interactor",[Ju],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qu=Zu))||Qu),fc=(ic=Object(Vu.injectable)(),rc=Object(Vu.inject)(Fu.IDENTIFIER.GeometryComponentManager),ic((uc=lc=function(){function t(){ju()(this,t),this.config=void 0,Lu()(this,"geometry",sc,this),this.entity=void 0,this.component=void 0}return Ru()(t,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.component=this.geometry.create(t),this.component.entity=t,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),t}(),lc.BOX="box",lc.SPHERE="sphere",lc.PLANE="plane",lc.MERGED="merged",ac=uc,sc=Bu()(ac.prototype,"geometry",[rc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oc=ac))||oc),pc=n("En79"),gc=n.n(pc),vc=n("7hDC"),mc=n.n(vc),yc=n("fKPv"),bc=n.n(yc),xc=n("TUfL");function wc(){if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var _c={}.toString,Sc=function(t,e){return _c.call(t)==="[object "+e+"]"},Mc=n("Oy1H"),Cc=n.n(Mc),Ic=9007199254740991,kc={};kc["[object Float32Array]"]=kc["[object Float64Array]"]=kc["[object Int8Array]"]=kc["[object Int16Array]"]=kc["[object Int32Array]"]=kc["[object Uint8Array]"]=kc["[object Uint8ClampedArray]"]=kc["[object Uint16Array]"]=kc["[object Uint32Array]"]=!0,kc["[object Arguments]"]=kc["[object Array]"]=kc["[object ArrayBuffer]"]=kc["[object Boolean]"]=kc["[object DataView]"]=kc["[object Date]"]=kc["[object Error]"]=kc["[object Function]"]=kc["[object Map]"]=kc["[object Number]"]=kc["[object Object]"]=kc["[object RegExp]"]=kc["[object Set]"]=kc["[object String]"]=kc["[object WeakMap]"]=!1;var Tc=Object.prototype.toString;var Oc,Ec,Ac,Nc,Lc,Dc,jc,Pc=function(t){return function(t){return!!t&&"object"===Cc()(t)}(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ic}(t.length)&&!!kc[Tc.call(t)]};function Rc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function zc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rc(Object(n),!0).forEach(function(e){bc()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rc(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Bc,Fc,Gc,Vc,Wc,Hc,Uc,Yc,Jc,Qc,Zc,$c,Xc,Kc,qc,th,eh,nh,ih,rh,oh,ah,sh,lh,uh,ch,hh,dh,fh,ph,gh,vh,mh,yh,bh,xh=(Oc=Object(Vu.injectable)(),Ec=Object(Vu.inject)(Fu.IDENTIFIER.RenderEngine),Ac=Object(Vu.inject)(Fu.IDENTIFIER.ConfigService),Oc((Lc=function(){function t(){ju()(this,t),Lu()(this,"engine",Dc,this),Lu()(this,"configService",jc,this),this.entity=Object(Fu.createEntity)(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return Ru()(t,[{key:"init",value:function(){var t=this.configService.get(),e=t.canvas,n=t.engineOptions;this.initPromise=this.engine.init(zc({canvas:e||wc(),swapChainFormat:xc.TextureFormat.BGRA8Unorm,antialiasing:!1},n))}},{key:"setBundle",value:function(t){this.compiledBundle=JSON.parse(JSON.stringify(t))}},{key:"setDispatch",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=t),this}},{key:"setMaxIteration",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=t),this}},{key:"setBinding",value:function(t,e){var n,i=this;if("string"==typeof t){var r=Wu(e)||Pc(e)||(n=e,Array.isArray?Array.isArray(n):Sc(n,"Array"));if(this.compiledBundle&&this.compiledBundle.context){var o=this.compiledBundle.context.defines.find(function(e){return e.name===t});if(o)return o.value=e,this;var a=this.compiledBundle.context.uniforms.find(function(e){return e.name===t});a&&(r?(a.data=e,a.isReferer=!1,a.storageClass===Fu.STORAGE_CLASS.Uniform?this.model&&this.model.updateUniform(t,e):this.model&&this.model.updateBuffer(t,e)):(a.isReferer=!0,a.data=e))}}else Object.keys(t).forEach(function(e){i.setBinding(e,t[e])});return this}},{key:"execute",value:function(){var t=mc()(gc.a.mark(function t(){var e,n,i=this,r=arguments;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:1,!this.dirty){t.next=6;break}return this.compiledBundle.context&&(e>1?this.compiledBundle.context.maxIteration=e:this.compiledBundle.context.maxIteration++),t.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(t){return t.isReferer}).forEach(function(t){var e=t.data,n=t.name;i.model.confirmInput(e.model,n)}),n=0;n<e;n++)this.model.run();return this.engine.endFrame(),t.abrupt("return",this);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getOutput",value:function(){var t=mc()(gc.a.mark(function t(){return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.model.readData());case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"compile",value:function(){var t=mc()(gc.a.mark(function t(){var e,n,i;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initPromise;case 2:return e=zc({},this.compiledBundle.context),n=this.engine.supportWebGPU?this.engine.useWGSL?Fu.Target.WGSL:Fu.Target.GLSL450:Fu.Target.GLSL100,i=this.compiledBundle.shaders[n],e.defines.filter(function(t){return t.runtime}).forEach(function(t){var e="".concat(Fu.DefineValuePlaceholder).concat(t.name);i=i.replace(e,"".concat(t.value))}),e.shader=i,e.uniforms.forEach(function(t){if(!t.data&&t.storageClass===Fu.STORAGE_CLASS.StorageBuffer){var n=1;t.type===Fu.AST_TOKEN_TYPES.FloatArray?n=1:t.type===Fu.AST_TOKEN_TYPES.Vector4FloatArray&&(n=4),t.data=new Float32Array(e.output.length*n).fill(0)}}),this.compiledBundle.context=e,t.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=t.sent;case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}(),Dc=Bu()(Lc.prototype,"engine",[Ec],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jc=Bu()(Lc.prototype,"configService",[Ac],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nc=Lc))||Nc),wh=(Bc=Object(Vu.injectable)(),Fc=Object(Vu.inject)(Fu.IDENTIFIER.MaterialComponentManager),Bc((Uc=Hc=function(){function t(){ju()(this,t),this.config=void 0,Lu()(this,"material",Wc,this),this.entity=void 0,this.component=void 0}return Ru()(t,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t,e){this.entity=t,this.component=this.material.create(t),this.component.entity=t,this.component.type=e,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),t}(),Hc.BASIC="basic",Vc=Uc,Wc=Bu()(Vc.prototype,"material",[Fc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gc=Vc))||Gc),_h=(Yc=Object(Vu.injectable)(),Jc=Object(Vu.inject)(Fu.IDENTIFIER.MeshComponentManager),Qc=Object(Vu.inject)(Fu.IDENTIFIER.CullableComponentManager),Zc=Object(Vu.inject)(Fu.IDENTIFIER.TransformComponentManager),$c=Object(Vu.inject)(Fu.IDENTIFIER.Systems),Xc=Object(Vu.named)(Fu.IDENTIFIER.SceneGraphSystem),Yc((oh=rh=function(){function t(){ju()(this,t),this.attributes={},this.config=void 0,Lu()(this,"mesh",th,this),Lu()(this,"cullable",eh,this),Lu()(this,"transform",nh,this),Lu()(this,"sceneGraphSystem",ih,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return Ru()(t,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.cullable.create(t),this.meshComponent=this.mesh.create(t),this.transformComponent=this.transform.create(t),this.onEntityCreated()}},{key:"setMaterial",value:function(t){return this.meshComponent.material=t,this}},{key:"setGeometry",value:function(t){return this.meshComponent.geometry=t,this}},{key:"setAttributes",value:function(t){var e=this;Object.keys(t).forEach(function(n){void 0!==t[n]&&t[n]!==e.attributes[n]&&(e.onAttributeChanged({name:n,data:t[n]}),e.attributes[n]=t[n])})}},{key:"setVisible",value:function(t){var e=this;return this.meshComponent.visible=t,this.meshComponent.children.forEach(function(n){var i=e.mesh.getComponentByEntity(n);i&&(i.visible=t)}),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(t){return this.sceneGraphSystem.attach(this.entity,t.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(t){var e=t.name,n=t.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(e),n)}},{key:"convertAttributeName2UniformName",value:function(t){return t}}]),t}(),rh.POINT="point",rh.LINE="line",rh.GRID="grid",qc=oh,th=Bu()(qc.prototype,"mesh",[Jc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eh=Bu()(qc.prototype,"cullable",[Qc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nh=Bu()(qc.prototype,"transform",[Zc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ih=Bu()(qc.prototype,"sceneGraphSystem",[$c,Xc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kc=qc))||Kc),Sh=n("8a/n"),Mh=n.n(Sh),Ch=function(){function t(e,n){ju()(this,t),this.attribute=void 0,this.buffer=void 0;var i=n.buffer,r=n.offset,o=n.stride,a=n.normalized,s=n.size,l=n.divisor;this.buffer=i,this.attribute={buffer:i.get(),offset:r||0,stride:o||0,normalized:a||!1,divisor:l||0},s&&(this.attribute.size=s)}return Ru()(t,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),Ih=(ah={},bc()(ah,Fu.gl.POINTS,"points"),bc()(ah,Fu.gl.LINES,"lines"),bc()(ah,Fu.gl.LINE_LOOP,"line loop"),bc()(ah,Fu.gl.LINE_STRIP,"line strip"),bc()(ah,Fu.gl.TRIANGLES,"triangles"),bc()(ah,Fu.gl.TRIANGLE_FAN,"triangle fan"),bc()(ah,Fu.gl.TRIANGLE_STRIP,"triangle strip"),ah),kh=(sh={},bc()(sh,Fu.gl.STATIC_DRAW,"static"),bc()(sh,Fu.gl.DYNAMIC_DRAW,"dynamic"),bc()(sh,Fu.gl.STREAM_DRAW,"stream"),sh),Th=(lh={},bc()(lh,Fu.gl.BYTE,"int8"),bc()(lh,Fu.gl.UNSIGNED_INT,"int16"),bc()(lh,Fu.gl.INT,"int32"),bc()(lh,Fu.gl.UNSIGNED_BYTE,"uint8"),bc()(lh,Fu.gl.UNSIGNED_SHORT,"uint16"),bc()(lh,Fu.gl.UNSIGNED_INT,"uint32"),bc()(lh,Fu.gl.FLOAT,"float"),lh),Oh=(uh={},bc()(uh,Fu.gl.ALPHA,"alpha"),bc()(uh,Fu.gl.LUMINANCE,"luminance"),bc()(uh,Fu.gl.LUMINANCE_ALPHA,"luminance alpha"),bc()(uh,Fu.gl.RGB,"rgb"),bc()(uh,Fu.gl.RGBA,"rgba"),bc()(uh,Fu.gl.RGBA4,"rgba4"),bc()(uh,Fu.gl.RGB5_A1,"rgb5 a1"),bc()(uh,Fu.gl.RGB565,"rgb565"),bc()(uh,Fu.gl.DEPTH_COMPONENT,"depth"),bc()(uh,Fu.gl.DEPTH_STENCIL,"depth stencil"),uh),Eh=(ch={},bc()(ch,Fu.gl.DONT_CARE,"dont care"),bc()(ch,Fu.gl.NICEST,"nice"),bc()(ch,Fu.gl.FASTEST,"fast"),ch),Ah=(hh={},bc()(hh,Fu.gl.NEAREST,"nearest"),bc()(hh,Fu.gl.LINEAR,"linear"),bc()(hh,Fu.gl.LINEAR_MIPMAP_LINEAR,"mipmap"),bc()(hh,Fu.gl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),bc()(hh,Fu.gl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),bc()(hh,Fu.gl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),hh),Nh=(dh={},bc()(dh,Fu.gl.REPEAT,"repeat"),bc()(dh,Fu.gl.CLAMP_TO_EDGE,"clamp"),bc()(dh,Fu.gl.MIRRORED_REPEAT,"mirror"),dh),Lh=(fh={},bc()(fh,Fu.gl.NONE,"none"),bc()(fh,Fu.gl.BROWSER_DEFAULT_WEBGL,"browser"),fh),Dh=(ph={},bc()(ph,Fu.gl.NEVER,"never"),bc()(ph,Fu.gl.ALWAYS,"always"),bc()(ph,Fu.gl.LESS,"less"),bc()(ph,Fu.gl.LEQUAL,"lequal"),bc()(ph,Fu.gl.GREATER,"greater"),bc()(ph,Fu.gl.GEQUAL,"gequal"),bc()(ph,Fu.gl.EQUAL,"equal"),bc()(ph,Fu.gl.NOTEQUAL,"notequal"),ph),jh=(gh={},bc()(gh,Fu.gl.FUNC_ADD,"add"),bc()(gh,Fu.gl.MIN_EXT,"min"),bc()(gh,Fu.gl.MAX_EXT,"max"),bc()(gh,Fu.gl.FUNC_SUBTRACT,"subtract"),bc()(gh,Fu.gl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),gh),Ph=(vh={},bc()(vh,Fu.gl.ZERO,"zero"),bc()(vh,Fu.gl.ONE,"one"),bc()(vh,Fu.gl.SRC_COLOR,"src color"),bc()(vh,Fu.gl.ONE_MINUS_SRC_COLOR,"one minus src color"),bc()(vh,Fu.gl.SRC_ALPHA,"src alpha"),bc()(vh,Fu.gl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),bc()(vh,Fu.gl.DST_COLOR,"dst color"),bc()(vh,Fu.gl.ONE_MINUS_DST_COLOR,"one minus dst color"),bc()(vh,Fu.gl.DST_ALPHA,"dst alpha"),bc()(vh,Fu.gl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),bc()(vh,Fu.gl.CONSTANT_COLOR,"constant color"),bc()(vh,Fu.gl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),bc()(vh,Fu.gl.CONSTANT_ALPHA,"constant alpha"),bc()(vh,Fu.gl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),bc()(vh,Fu.gl.SRC_ALPHA_SATURATE,"src alpha saturate"),vh),Rh=(mh={},bc()(mh,Fu.gl.NEVER,"never"),bc()(mh,Fu.gl.ALWAYS,"always"),bc()(mh,Fu.gl.LESS,"less"),bc()(mh,Fu.gl.LEQUAL,"lequal"),bc()(mh,Fu.gl.GREATER,"greater"),bc()(mh,Fu.gl.GEQUAL,"gequal"),bc()(mh,Fu.gl.EQUAL,"equal"),bc()(mh,Fu.gl.NOTEQUAL,"notequal"),mh),zh=(yh={},bc()(yh,Fu.gl.ZERO,"zero"),bc()(yh,Fu.gl.KEEP,"keep"),bc()(yh,Fu.gl.REPLACE,"replace"),bc()(yh,Fu.gl.INVERT,"invert"),bc()(yh,Fu.gl.INCR,"increment"),bc()(yh,Fu.gl.DECR,"decrement"),bc()(yh,Fu.gl.INCR_WRAP,"increment wrap"),bc()(yh,Fu.gl.DECR_WRAP,"decrement wrap"),yh),Bh=(bh={},bc()(bh,Fu.gl.FRONT,"front"),bc()(bh,Fu.gl.BACK,"back"),bh),Fh=function(){function t(e,n){ju()(this,t),this.buffer=void 0;var i=n.data,r=n.usage,o=n.type;this.buffer=e.buffer({data:i,usage:kh[r||Fu.gl.STATIC_DRAW],type:Th[o||Fu.gl.UNSIGNED_BYTE]})}return Ru()(t,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(t){var e=t.data,n=t.offset;this.buffer.subdata(e,n)}}]),t}(),Gh=n("rzQm"),Vh=n.n(Gh),Wh=9007199254740991,Hh={};Hh["[object Float32Array]"]=Hh["[object Float64Array]"]=Hh["[object Int8Array]"]=Hh["[object Int16Array]"]=Hh["[object Int32Array]"]=Hh["[object Uint8Array]"]=Hh["[object Uint8ClampedArray]"]=Hh["[object Uint16Array]"]=Hh["[object Uint32Array]"]=!0,Hh["[object Arguments]"]=Hh["[object Array]"]=Hh["[object ArrayBuffer]"]=Hh["[object Boolean]"]=Hh["[object DataView]"]=Hh["[object Date]"]=Hh["[object Error]"]=Hh["[object Function]"]=Hh["[object Map]"]=Hh["[object Number]"]=Hh["[object Object]"]=Hh["[object RegExp]"]=Hh["[object Set]"]=Hh["[object String]"]=Hh["[object WeakMap]"]=!1;var Uh=Object.prototype.toString;var Yh=function(t){return function(t){return!!t&&"object"===Cc()(t)}(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Wh}(t.length)&&!!Hh[Uh.call(t)]};function Jh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Qh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jh(Object(n),!0).forEach(function(e){bc()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jh(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Zh="attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}",$h=0,Xh=!1,Kh=function(){function t(e,n){var i=this;ju()(this,t),this.reGl=e,this.context=n,this.entity=Object(Fu.createEntity)(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var r={};this.context.uniforms.forEach(function(t){var e=t.name,n=t.type,o=t.data,a=t.isReferer,s=t.storageClass;if(s===Fu.STORAGE_CLASS.StorageBuffer){if(a)i.textureCache[e]={data:void 0},r["".concat(e,"Size")]=function(){return o.compiledBundle.context.output.textureSize};else{i.textureCache[e]=i.calcDataTexture(e,n,o);var l=i.textureCache[e],u=l.textureWidth,c=l.isOutput;r["".concat(e,"Size")]=[u,u],c&&(i.outputTextureName=e,i.context.needPingpong&&(i.outputTextureName="".concat(e,"Output"),i.textureCache[i.outputTextureName]=i.calcDataTexture(e,n,o)))}r[e]=function(){return Xh&&console.log("[".concat(i.entity,"]: ").concat(e," ").concat(i.textureCache[e].id)),i.textureCache[e].texture}}else if(s===Fu.STORAGE_CLASS.Uniform){if(o&&(Array.isArray(o)||Yh(o))&&o.length>16)throw new Error("invalid data type ".concat(n));r[e]=function(){return t.data}}});var o=this.getOuputDataTexture(),a=o.textureWidth,s=o.texelCount;r.u_OutputTextureSize=[a,a],r.u_OutputTexelCount=s,this.context.output.textureSize=[a,a];var l={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(this.context.shader),uniforms:r,vert:Zh,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(l)}return Ru()(t,[{key:"run",value:function(){var t=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){t.computeCommand()}),Xh&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var t=mc()(gc.a.mark(function t(){var e,n,i,r,o,a,s,l,u=this;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){e=u.reGl.read()}),!e){t.next=6;break}if(n=this.getOuputDataTexture(),i=n.originalDataLength,r=n.elementsPerTexel,o=n.typedArrayConstructor,a=void 0===o?Float32Array:o,s=[],4!==r)for(l=0;l<e.length;l+=4)1===r?s.push(e[l]):2===r?s.push(e[l],e[l+1]):s.push(e[l],e[l+1],e[l+2]);else s=e;return t.abrupt("return",new a(s.slice(0,i)));case 6:return t.abrupt("return",new Float32Array);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"confirmInput",value:function(t,e){var n;this.entity===t.entity?(this.dynamicPingpong=!0,n=this):n=t,this.textureCache[e].id=n.getOuputDataTexture().id,this.textureCache[e].texture=n.getOuputDataTexture().texture,Xh&&console.log("[".concat(this.entity,"]: confirm input ").concat(e," from model ").concat(n.entity,", ").concat(n.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=this.context.uniforms.find(function(e){return e.name===t});if(n){var i=this.calcDataTexture(t,n.type,e),r=i.texture,o=i.data;this.textureCache[t].data=o,this.textureCache[t].texture=r}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var t=this.context.output.name;this.textureCache[t].id=this.getOuputDataTexture().id,this.textureCache[t].texture=this.getOuputDataTexture().texture}var e=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=e,Xh&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var t=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=t}},{key:"cloneDataTexture",value:function(t){var e=t.data,n=t.textureWidth;return Qh(Qh({},t),{},{id:$h++,texture:this.reGl.texture({width:n,height:n,data:e,type:"float"})})}},{key:"calcDataTexture",value:function(t,e,n){var i=1;e===Fu.AST_TOKEN_TYPES.Vector4FloatArray&&(i=4);for(var r=[],o=0;o<n.length;o+=i)1===i?r.push(n[o],0,0,0):2===i?r.push(n[o],n[o+1],0,0):3===i?r.push(n[o],n[o+1],n[o+2],0):4===i&&r.push(n[o],n[o+1],n[o+2],n[o+3]);var a=n.length,s=Math.ceil(a/i),l=Math.ceil(Math.sqrt(s)),u=l*l;s<u&&r.push.apply(r,Vh()(new Array(4*(u-s)).fill(0)));var c=this.reGl.texture({width:l,height:l,data:r,type:"float"});return{id:$h++,data:r,originalDataLength:a,typedArrayConstructor:Yh(n)?n.constructor:void 0,textureWidth:l,texture:c,texelCount:s,elementsPerTexel:i,isOutput:t===this.context.output.name}}}]),t}(),qh=function(){function t(e,n){ju()(this,t),this.elements=void 0;var i=n.data,r=n.usage,o=n.type,a=n.count;this.elements=e.elements({data:i,usage:kh[r||Fu.gl.STATIC_DRAW],type:Th[o||Fu.gl.UNSIGNED_BYTE],count:a})}return Ru()(t,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){var e=t.data;this.elements.subdata(e)}},{key:"destroy",value:function(){this.elements.destroy()}}]),t}(),td=function(){function t(e,n){ju()(this,t),this.framebuffer=void 0;var i=n.width,r=n.height,o=n.color,a=n.colors,s=(n.depth,n.stencil,{width:i,height:r});Array.isArray(a)&&(s.colors=a.map(function(t){return t.get()})),o&&"boolean"!=typeof o&&(s.color=o.get()),this.framebuffer=e.framebuffer(s)}return Ru()(t,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.framebuffer.resize(e,n)}}]),t}();function ed(t){var e={};return Object.keys(t).forEach(function(n){!function t(e,n,i,r){if(null===n||"number"==typeof n||"boolean"==typeof n||Array.isArray(n)&&"number"==typeof n[0]||Yh(n)||""===n||void 0!==n.resize)return void(i["".concat(r&&r+".").concat(e)]=n);o=n,a=Cc()(o),null==o||"object"!==a&&"function"!==a||Object.keys(n).forEach(function(o){t(o,n[o],i,"".concat(r&&r+".").concat(e))});var o,a;Array.isArray(n)&&n.forEach(function(n,o){Object.keys(n).forEach(function(a){t(a,n[a],i,"".concat(r&&r+".").concat(e,"[").concat(o,"]"))})})}(n,t[n],e,"")}),e}function nd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function id(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nd(Object(n),!0).forEach(function(e){bc()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nd(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var rd,od,ad=function(){function t(e,n){ju()(this,t),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=e;var i=n.vs,r=n.fs,o=n.defines,a=n.attributes,s=n.uniforms,l=n.primitive,u=n.count,c=n.elements,h=n.depth,d=n.blend,f=n.stencil,p=n.cull,g=n.instances,v=n.scissor,m=n.viewport,y={};s&&(this.uniforms=ed(s),Object.keys(s).forEach(function(t){y[t]=e.prop(t)}));var b={};Object.keys(a).forEach(function(t){b[t]=a[t].get()});var x=o&&this.generateDefines(o)||"",w={attributes:b,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(x,"\n").concat(r),uniforms:y,vert:"\n".concat(x,"\n").concat(i),primitive:Ih[void 0===l?Fu.gl.TRIANGLES:l]};g&&(w.instances=g),u&&(w.count=u),c&&(w.elements=c.get()),v&&(w.scissor=v),m&&(w.viewport=m),this.initDepthDrawParams({depth:h},w),this.initBlendDrawParams({blend:d},w),this.initStencilDrawParams({stencil:f},w),this.initCullDrawParams({cull:p},w),this.drawCommand=e(w)}return Ru()(t,[{key:"addUniforms",value:function(t){this.uniforms=id(id({},this.uniforms),ed(t))}},{key:"draw",value:function(t){var e=id(id({},this.uniforms),ed(t.uniforms||{})),n={};Object.keys(e).forEach(function(t){var i=Cc()(e[t]);"boolean"===i||"number"===i||Array.isArray(e[t])||e[t].BYTES_PER_ELEMENT?n[t]=e[t]:"string"===i||(n[t]=e[t].get())}),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(t,e){var n=t.depth;n&&(e.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:Dh[n.func||Fu.gl.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,e){var n=t.blend;if(n){var i=n.enable,r=n.func,o=n.equation,a=n.color,s=void 0===a?[0,0,0,0]:a;e.blend={enable:!!i,func:{srcRGB:Ph[r&&r.srcRGB||Fu.gl.SRC_ALPHA],srcAlpha:Ph[r&&r.srcAlpha||Fu.gl.SRC_ALPHA],dstRGB:Ph[r&&r.dstRGB||Fu.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:Ph[r&&r.dstAlpha||Fu.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:jh[o&&o.rgb||Fu.gl.FUNC_ADD],alpha:jh[o&&o.alpha||Fu.gl.FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(t,e){var n=t.stencil;if(n){var i=n.enable,r=n.mask,o=void 0===r?-1:r,a=n.func,s=void 0===a?{cmp:Fu.gl.ALWAYS,ref:0,mask:-1}:a,l=n.opFront,u=void 0===l?{fail:Fu.gl.KEEP,zfail:Fu.gl.KEEP,zpass:Fu.gl.KEEP}:l,c=n.opBack,h=void 0===c?{fail:Fu.gl.KEEP,zfail:Fu.gl.KEEP,zpass:Fu.gl.KEEP}:c;e.stencil={enable:!!i,mask:o,func:id(id({},s),{},{cmp:Rh[s.cmp]}),opFront:{fail:zh[u.fail],zfail:zh[u.zfail],zpass:zh[u.zpass]},opBack:{fail:zh[h.fail],zfail:zh[h.zfail],zpass:zh[h.zpass]}}}}},{key:"initCullDrawParams",value:function(t,e){var n=t.cull;if(n){var i=n.enable,r=n.face,o=void 0===r?Fu.gl.BACK:r;e.cull={enable:!!i,face:Bh[o]}}}},{key:"generateDefines",value:function(t){return Object.keys(t).map(function(e){return"#define ".concat(e," ").concat(Number(t[e]))}).join("\n")}}]),t}(),sd=function(){function t(e,n){ju()(this,t),this.texture=void 0,this.width=void 0,this.height=void 0;var i=n.data,r=n.type,o=void 0===r?Fu.gl.UNSIGNED_BYTE:r,a=n.width,s=n.height,l=n.flipY,u=void 0!==l&&l,c=n.format,h=void 0===c?Fu.gl.RGBA:c,d=n.mipmap,f=void 0!==d&&d,p=n.wrapS,g=void 0===p?Fu.gl.CLAMP_TO_EDGE:p,v=n.wrapT,m=void 0===v?Fu.gl.CLAMP_TO_EDGE:v,y=n.aniso,b=void 0===y?0:y,x=n.alignment,w=void 0===x?1:x,_=n.premultiplyAlpha,S=void 0!==_&&_,M=n.mag,C=void 0===M?Fu.gl.NEAREST:M,I=n.min,k=void 0===I?Fu.gl.NEAREST:I,T=n.colorSpace,O=void 0===T?Fu.gl.BROWSER_DEFAULT_WEBGL:T;this.width=a,this.height=s;var E={width:a,height:s,type:Th[o],format:Oh[h],wrapS:Nh[g],wrapT:Nh[m],mag:Ah[C],min:Ah[k],alignment:w,flipY:u,colorSpace:Lh[O],premultiplyAlpha:S,aniso:b};i&&(E.data=i),"number"==typeof f?E.mipmap=Eh[f]:"boolean"==typeof f&&(E.mipmap=f),this.texture=e.texture(E)}return Ru()(t,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.texture.resize(e,n),this.width=e,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),t}(),ld=Object(Vu.injectable)()(rd=function(){function t(){var e=this;ju()(this,t),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var t=mc()(gc.a.mark(function t(n){return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.uniforms){t.next=3;break}return t.next=3,Promise.all(Object.keys(n.uniforms).map(function(){var t=mc()(gc.a.mark(function t(e){var i;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.uniforms[e]||void 0===n.uniforms[e].load){t.next=5;break}return t.next=3,n.uniforms[e].load();case 3:i=t.sent,n.uniforms[e]=i;case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return",new ad(e.gl,n));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new Ch(e.gl,t)},this.createBuffer=function(t){return new Fh(e.gl,t)},this.createElements=function(t){return new qh(e.gl,t)},this.createTexture2D=function(t){return new sd(e.gl,t)},this.createFramebuffer=function(t){return new td(e.gl,t)},this.useFramebuffer=function(t,n){e.gl({framebuffer:t?t.get():null})(n)},this.createComputeModel=function(){var t=mc()(gc.a.mark(function t(n){return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Kh(e.gl,n));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),this.clear=function(t){var n=t.color,i=t.depth,r=t.stencil,o=t.framebuffer,a=void 0===o?null:o,s={color:n,depth:i,stencil:r};s.framebuffer=null===a?a:a.get(),e.gl.clear(s)},this.setScissor=function(t){e.gl&&e.gl._gl&&(t.enable&&t.box?(e.gl._gl.enable(Fu.gl.SCISSOR_TEST),e.gl._gl.scissor(t.box.x,t.box.y,t.box.width,t.box.height)):e.gl._gl.disable(Fu.gl.SCISSOR_TEST),e.gl._refresh())},this.viewport=function(t){var n=t.x,i=t.y,r=t.width,o=t.height;e.gl&&e.gl._gl&&(e.gl._gl.viewport(n,i,r,o),e.gl._refresh())},this.readPixels=function(t){var n=t.framebuffer,i={x:t.x,y:t.y,width:t.width,height:t.height};return n&&(i.framebuffer=n.get()),e.gl.read(i)},this.getCanvas=function(){return e.$canvas},this.getGLContext=function(){return e.gl._gl},this.destroy=function(){e.gl&&(e.gl.destroy(),e.inited=!1)}}return Ru()(t,[{key:"init",value:function(){var t=mc()(gc.a.mark(function t(e){return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.inited){t.next=2;break}return t.abrupt("return");case 2:return this.$canvas=e.canvas,t.next=5,new Promise(function(t,n){Mh()({canvas:e.canvas,attributes:{alpha:!0,antialias:e.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(e,i){!e&&i||n(e),t(i)}})});case 5:this.gl=t.sent,this.inited=!0;case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),t}())||rd;function ud(t,e,n,i){if("undefined"!=typeof window){var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",t),i&&(o.id=i),o.onload=function(){e&&e()},o.onerror=function(e){n&&n("Unable to load script '".concat(t,"'"),e)},r.appendChild(o)}}function cd(t,e){return new Promise(function(e,n){ud(t,function(){e()},function(t,e){n(e)})})}var hd=function(){return dd.apply(this,arguments)};function dd(){return(dd=mc()(gc.a.mark(function t(){return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!od){t.next=2;break}return t.abrupt("return",od);case 2:return t.next=4,cd("https://preview.babylonjs.com/glslang/glslang.js");case 4:return od=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),t.abrupt("return",od);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}var fd=function(){function t(e,n){ju()(this,t),this.engine=e,this.options=n,this.attribute=void 0,this.buffer=void 0;var i=n,r=i.buffer,o=i.offset,a=i.stride,s=i.normalized,l=i.size,u=i.divisor,c=i.arrayStride,h=i.attributes,d=i.stepMode;this.buffer=r,this.attribute={buffer:r.get(),offset:o||0,stride:a||0,normalized:s||!1,divisor:u||0,arrayStride:c||0,attributes:h,stepMode:d||"vertex"},l&&(this.attribute.size=l)}return Ru()(t,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),pd=function(){function t(e,n){ju()(this,t),this.engine=e,this.options=n,this.buffer=void 0;var i=n,r=i.data,o=i.usage;i.type;this.buffer=this.createBuffer(r instanceof Array?new Float32Array(r):r,o||xc.BufferUsage.Vertex|xc.BufferUsage.CopyDst)}return Ru()(t,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(t){var e=t.data,n=t.offset;this.setSubData(this.buffer,n,e instanceof Array?new Float32Array(e):e)}},{key:"createBuffer",value:function(t,e){var n=t.byteLength%4,i={size:t.byteLength+n,usage:e},r=this.engine.device.createBuffer(i);return this.setSubData(r,0,t),r}},{key:"setSubData",value:function(t,e,n){(Fu.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue).writeBuffer(t,e,n)}}]),t}();var gd,vd,md,yd,bd,xd,wd,_d=function(){function t(e,n){ju()(this,t),this.engine=e,this.context=n,this.entity=Object(Fu.createEntity)(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return Ru()(t,[{key:"init",value:function(){var t=mc()(gc.a.mark(function t(){var e,n,i,r,o,a,s,l=this;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:e=t.sent,n=e.computeStage,i=this.context.uniforms.filter(function(t){return t.storageClass===Fu.STORAGE_CLASS.StorageBuffer}),r=this.context.uniforms.filter(function(t){return t.storageClass===Fu.STORAGE_CLASS.Uniform}),o=r.length?1:0,this.bindGroupEntries=[],o&&(a=0,s=[],r.forEach(function(t){if("number"==typeof t.data)l.uniformGPUBufferLayout.push({name:t.name,offset:a}),a+=4,s.push(t.data);else{var e,n=(null===(e=t.data)||void 0===e?void 0:e.length)||1;3===n&&(n=4,t.data.push(0));var i=a/4%4;if(i>0){var r=4-i;if(n>1&&n<=r)2===n&&(3===r&&(a+=4,s.push(0)),s.push.apply(s,Vh()(t.data)),l.uniformGPUBufferLayout.push({name:t.name,offset:a}));else{for(var o=0;o<r;o++)a+=4,s.push(0);s.push.apply(s,Vh()(t.data)),l.uniformGPUBufferLayout.push({name:t.name,offset:a})}}a+=4*n}}),this.uniformBuffer=new pd(this.engine,{data:s instanceof Array?new Float32Array(s):s,usage:xc.BufferUsage.Uniform|xc.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),i.forEach(function(t){var e;null!==t.data&&(t.type!==Fu.AST_TOKEN_TYPES.Vector4FloatArray&&t.type!==Fu.AST_TOKEN_TYPES.FloatArray||(t.name===l.context.output.name?(e=new pd(l.engine,{data:isFinite(Number(t.data))?[t.data]:t.data,usage:xc.BufferUsage.Storage|xc.BufferUsage.CopyDst|xc.BufferUsage.CopySrc}),l.outputBuffer=e,l.context.output={name:t.name,length:isFinite(Number(t.data))?1:t.data.length,typedArrayConstructor:Float32Array,gpuBuffer:e.get()}):t.isReferer?t.data.model&&t.data.model.outputBuffer&&(e=t.data.model.outputBuffer):e=new pd(l.engine,{data:isFinite(Number(t.data))?[t.data]:t.data,usage:xc.BufferUsage.Storage|xc.BufferUsage.CopyDst|xc.BufferUsage.CopySrc}),l.vertexBuffers[t.name]=e,l.bindGroupEntries.push({binding:o,resource:{name:t.name,refer:e?void 0:t.data,buffer:e?e.get():void 0}}),o++))}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:n}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"destroy",value:function(){var t=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(e){return t.vertexBuffers[e].destroy()})}},{key:"readData",value:function(){var t=mc()(gc.a.mark(function t(){var e,n,i,r,o,a,s,l,u;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.context.output)){t.next=16;break}if(n=e.length,i=e.typedArrayConstructor,!(r=e.gpuBuffer)){t.next=16;break}return o=n*i.BYTES_PER_ELEMENT,a=this.engine.device.createBuffer({size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),(s=this.engine.device.createCommandEncoder()).copyBufferToBuffer(r,0,a,0,o),(Fu.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([s.finish()]),t.next=12,a.mapAsync(xc.MapMode.Read);case 12:return l=a.getMappedRange(),u=new i(l.slice(0)),a.unmap(),t.abrupt("return",u);case 16:return t.abrupt("return",new Float32Array);case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"run",value:function(){var t;this.engine.currentComputePass&&(this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(t=this.engine.currentComputePass).dispatch.apply(t,Vh()(this.context.dispatch)))}},{key:"updateBuffer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.vertexBuffers[t];i&&i.subData({data:e,offset:n})}},{key:"updateUniform",value:function(t,e){var n=this.uniformGPUBufferLayout.find(function(e){return e.name===t});n&&this.uniformBuffer.subData({data:Number.isFinite(e)?new Float32Array([e]):new Float32Array(e),offset:n.offset})}},{key:"confirmInput",value:function(t,e){var n=this.vertexBuffers[e],i=t.outputBuffer;if(n&&i&&n!==i){var r=this.engine.device.createCommandEncoder(),o=t.context.output,a=o.length*o.typedArrayConstructor.BYTES_PER_ELEMENT;r.copyBufferToBuffer(i.get(),0,n.get(),0,a),(Fu.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([r.finish()])}}},{key:"compileShaderToSpirV",value:function(t,e,n){return this.compileRawShaderToSpirV(n+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"compileComputePipelineStageDescriptor",value:function(){var t=mc()(gc.a.mark(function t(e){var n,i;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e,i="#version 450\n",this.engine.options.useWGSL){t.next=6;break}return t.next=5,this.compileShaderToSpirV(e,"compute",i);case 5:n=t.sent;case 6:return t.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:n,isWHLSL:Fu.isSafari}),entryPoint:"main"}});case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),t}(),Sd=function(){function t(e,n){ju()(this,t),this.engine=e,this.options=n,this.indexCount=void 0,this.buffer=void 0;var i=n,r=i.data,o=(i.usage,i.type,i.count);this.indexCount=o||0,this.buffer=new pd(e,{data:r instanceof Array?new Uint16Array(r):r,usage:xc.BufferUsage.Index|xc.BufferUsage.CopyDst})}return Ru()(t,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),Md=function(){function t(e,n){ju()(this,t),this.engine=e,this.options=n,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var i=n,r=(i.width,i.height,i.color),o=(i.colors,i.depth);i.stencil;r&&(this.colorTexture=r),o&&(this.depthTexture=o)}return Ru()(t,[{key:"get",value:function(){var t,e;return{color:null===(t=this.colorTexture)||void 0===t?void 0:t.get(),depth:null===(e=this.depthTexture)||void 0===e?void 0:e.get()}}},{key:"destroy",value:function(){var t,e;null===(t=this.colorTexture)||void 0===t||t.destroy(),null===(e=this.depthTexture)||void 0===e||e.destroy()}},{key:"resize",value:function(t){var e,n,i=t.width,r=t.height;i===this.width&&r===this.height||(null===(e=this.colorTexture)||void 0===e||e.resize({width:i,height:r}),null===(n=this.depthTexture)||void 0===n||n.resize({width:i,height:r}));this.width=i,this.height=r}}]),t}(),Cd=(gd={},bc()(gd,Fu.gl.POINTS,xc.PrimitiveTopology.PointList),bc()(gd,Fu.gl.LINES,xc.PrimitiveTopology.LineList),bc()(gd,Fu.gl.LINE_LOOP,xc.PrimitiveTopology.LineList),bc()(gd,Fu.gl.LINE_STRIP,xc.PrimitiveTopology.LineStrip),bc()(gd,Fu.gl.TRIANGLES,xc.PrimitiveTopology.TriangleList),bc()(gd,Fu.gl.TRIANGLE_FAN,xc.PrimitiveTopology.TriangleList),bc()(gd,Fu.gl.TRIANGLE_STRIP,xc.PrimitiveTopology.TriangleStrip),gd),Id=(vd={},bc()(vd,Fu.gl.NEVER,xc.CompareFunction.Never),bc()(vd,Fu.gl.ALWAYS,xc.CompareFunction.Always),bc()(vd,Fu.gl.LESS,xc.CompareFunction.Less),bc()(vd,Fu.gl.LEQUAL,xc.CompareFunction.LessEqual),bc()(vd,Fu.gl.GREATER,xc.CompareFunction.Greater),bc()(vd,Fu.gl.GEQUAL,xc.CompareFunction.GreaterEqual),bc()(vd,Fu.gl.EQUAL,xc.CompareFunction.Equal),bc()(vd,Fu.gl.NOTEQUAL,xc.CompareFunction.NotEqual),vd),kd=(md={},bc()(md,Fu.gl.FUNC_ADD,xc.BlendOperation.Add),bc()(md,Fu.gl.MIN_EXT,xc.BlendOperation.Min),bc()(md,Fu.gl.MAX_EXT,xc.BlendOperation.Max),bc()(md,Fu.gl.FUNC_SUBTRACT,xc.BlendOperation.Subtract),bc()(md,Fu.gl.FUNC_REVERSE_SUBTRACT,xc.BlendOperation.ReverseSubtract),md),Td=(yd={},bc()(yd,Fu.gl.ZERO,xc.BlendFactor.Zero),bc()(yd,Fu.gl.ONE,xc.BlendFactor.One),bc()(yd,Fu.gl.SRC_COLOR,xc.BlendFactor.SrcColor),bc()(yd,Fu.gl.ONE_MINUS_SRC_COLOR,xc.BlendFactor.OneMinusSrcColor),bc()(yd,Fu.gl.SRC_ALPHA,xc.BlendFactor.SrcAlpha),bc()(yd,Fu.gl.ONE_MINUS_SRC_ALPHA,xc.BlendFactor.OneMinusSrcAlpha),bc()(yd,Fu.gl.DST_COLOR,xc.BlendFactor.DstColor),bc()(yd,Fu.gl.ONE_MINUS_DST_COLOR,xc.BlendFactor.OneMinusDstColor),bc()(yd,Fu.gl.DST_ALPHA,xc.BlendFactor.DstAlpha),bc()(yd,Fu.gl.ONE_MINUS_DST_ALPHA,xc.BlendFactor.OneMinusDstAlpha),bc()(yd,Fu.gl.CONSTANT_COLOR,xc.BlendFactor.BlendColor),bc()(yd,Fu.gl.ONE_MINUS_CONSTANT_COLOR,xc.BlendFactor.OneMinusBlendColor),bc()(yd,Fu.gl.SRC_ALPHA_SATURATE,xc.BlendFactor.SrcAlphaSaturated),yd),Od=(bd={},bc()(bd,Fu.gl.ALPHA,"r8unorm"),bc()(bd,Fu.gl.RGBA,"rgba8unorm"),bc()(bd,Fu.gl.DEPTH_COMPONENT,"depth32float"),bc()(bd,Fu.gl.DEPTH_STENCIL,"depth24plus-stencil8"),bd),Ed=(xd={},bc()(xd,Fu.gl.NEAREST,"nearest"),bc()(xd,Fu.gl.LINEAR,"linear"),xd),Ad=(wd={},bc()(wd,Fu.gl.REPEAT,"repeat"),bc()(wd,Fu.gl.CLAMP_TO_EDGE,"clamp-to-edge"),bc()(wd,Fu.gl.MIRRORED_REPEAT,"mirror-repeat"),wd);function Nd(t){var e=t.cull;return e&&e.enable?e.face?e.face===Fu.gl.FRONT?xc.CullMode.Front:xc.CullMode.Back:void 0:xc.CullMode.None}function Ld(t){var e=t.depth,n=(t.stencil,{compare:xc.CompareFunction.Always,depthFailOp:xc.StencilOperation.Keep,failOp:xc.StencilOperation.Keep,passOp:xc.StencilOperation.Keep});return{depthWriteEnabled:e&&e.enable,depthCompare:Id[(null===e||void 0===e?void 0:e.func)||Fu.gl.ALWAYS],format:xc.TextureFormat.Depth24PlusStencil8,stencilFront:n,stencilBack:n,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function Dd(t,e){var n=t.blend;return[{format:e,alphaBlend:{srcFactor:Td[n&&n.func&&n.func.srcAlpha||Fu.gl.ONE],dstFactor:Td[n&&n.func&&n.func.dstAlpha||Fu.gl.ZERO],operation:kd[n&&n.equation&&n.equation.alpha||Fu.gl.FUNC_ADD]},colorBlend:{srcFactor:Td[n&&n.func&&n.func.srcRGB||Fu.gl.ONE],dstFactor:Td[n&&n.func&&n.func.dstRGB||Fu.gl.ZERO],operation:kd[n&&n.equation&&n.equation.rgb||Fu.gl.FUNC_ADD]},writeMask:xc.ColorWrite.All}]}function jd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Pd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jd(Object(n),!0).forEach(function(e){bc()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Rd,zd,Bd=function(){function t(e,n){ju()(this,t),this.engine=e,this.options=n,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return Ru()(t,[{key:"init",value:function(){var t=mc()(gc.a.mark(function t(){var e,n,i,r,o,a,s,l,u,c,h,d,f,p,g,v,m=this;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.options,n=e.vs,i=e.fs,r=e.attributes,o=e.uniforms,a=e.primitive,e.count,s=e.elements,l=e.depth,u=e.blend,c=e.stencil,h=e.cull,e.instances,t.next=3,this.compilePipelineStageDescriptor(n,i,null);case 3:d=t.sent,f=d.vertexStage,p=d.fragmentStage,o&&this.buildUniformBindGroup(o),s&&(this.indexBuffer=s.get(),this.indexCount=s.indexCount),g={vertexBuffers:Object.keys(r).map(function(t,e){var n=r[t],i=n.get(),o=i.arrayStride,a=i.stepMode,s=i.attributes;return m.attributeCache[t]=n,{arrayStride:o,stepMode:a,attributes:s}})},v={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:Cd[a||Fu.gl.TRIANGLES],rasterizationState:Pd(Pd({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:Nd({cull:h})}),depthStencilState:Ld({depth:l,stencil:c}),colorStates:Dd({blend:u},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:f,fragmentStage:p,vertexState:g},this.renderPipeline=this.engine.device.createRenderPipeline(v);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"addUniforms",value:function(t){this.uniforms=Pd(Pd({},this.uniforms),ed(t))}},{key:"draw",value:function(t){var e=this,n=this.engine.getCurrentRenderPass(),i=Pd(Pd({},this.uniforms),ed(t.uniforms||{})),r=[];Object.keys(i).forEach(function(t){var n=Cc()(i[t]);if("boolean"===n||"number"===n||Array.isArray(i[t])||i[t].BYTES_PER_ELEMENT){var o,a=null===(o=e.uniformGPUBufferLayout.find(function(e){return e.name===t}))||void 0===o?void 0:o.offset;null!==a&&e.uniformBuffer.subData({data:i[t],offset:a})}else{var s,l=null===(s=e.uniformGPUBufferLayout.find(function(e){return e.name===t}))||void 0===s?void 0:s.offset;if(null!==l){var u=i[t].get(),c=u.color||u,h=c.texture,d=c.sampler;d&&(r.push({binding:l,resource:d}),l++),r.push({binding:l,resource:h.createView()})}}}),this.uniformBuffer&&(r[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:r}),this.renderPipeline&&n.setPipeline(this.renderPipeline),n.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&n.setIndexBuffer(this.indexBuffer.get(),xc.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach(function(t,i){n.setVertexBuffer(0+i,e.attributeCache[t].get().buffer,0)}),this.indexBuffer?n.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):n.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var t=mc()(gc.a.mark(function t(e,n,i){var r,o,a;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r="#version 450\n",o=e,a=n,this.engine.options.useWGSL){t.next=10;break}return t.next=6,this.compileShaderToSpirV(e,"vertex",r);case 6:return o=t.sent,t.next=9,this.compileShaderToSpirV(n,"fragment",r);case 9:a=t.sent;case 10:return t.abrupt("return",this.createPipelineStageDescriptor(o,a));case 11:case"end":return t.stop()}},t,this)}));return function(e,n,i){return t.apply(this,arguments)}}()},{key:"compileShaderToSpirV",value:function(t,e,n){return this.compileRawShaderToSpirV(n+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"createPipelineStageDescriptor",value:function(t,e){return{vertexStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:Fu.isSafari}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:Fu.isSafari}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:xc.FrontFace.CCW,cullMode:xc.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(t){var e=this,n=0,i=function(t){for(var e=0,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var o=0,a=i;o<a.length;o++)e+=a[o].length;for(var s=new t(e),l=0,u=0,c=i;u<c.length;u++){var h=c[u];s.set(h,l),l+=h.length}return s}.apply(void 0,[Float32Array].concat(Vh()(Object.keys(t).map(function(i){return t[i]?(e.uniformGPUBufferLayout.push({name:i,offset:n}),n+=4*(t[i].length||1),t[i]):[]})))),r=[],o=!1;i.length&&(o=!0,r.push({binding:0,visibility:xc.ShaderStage.Fragment|xc.ShaderStage.Vertex,type:xc.BindingType.UniformBuffer})),Object.keys(t).filter(function(e){return null===t[e]}).forEach(function(t,n){e.uniformGPUBufferLayout.push({name:t,offset:2*n+(o?1:0)}),r.push({binding:2*n+(o?1:0),visibility:xc.ShaderStage.Fragment,type:xc.BindingType.Sampler},{binding:2*n+(o?1:0)+1,visibility:xc.ShaderStage.Fragment,type:xc.BindingType.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:r}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),o&&(this.uniformBuffer=new pd(this.engine,{data:i instanceof Array?new Float32Array(i):i,usage:xc.BufferUsage.Uniform|xc.BufferUsage.CopyDst}))}}]),t}(),Fd=function(){function t(e,n){ju()(this,t),this.engine=e,this.options=n,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return Ru()(t,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(t){var e=t.width,n=t.height;e===this.width&&n===this.height||(this.destroy(),this.createTexture()),this.width=e,this.height=n}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var t=this.options,e=(t.data,t.type),n=(void 0===e&&Fu.gl.UNSIGNED_BYTE,t.width),i=t.height,r=(t.flipY,t.format),o=void 0===r?Fu.gl.RGBA:r,a=(t.mipmap,t.wrapS),s=void 0===a?Fu.gl.CLAMP_TO_EDGE:a,l=t.wrapT,u=void 0===l?Fu.gl.CLAMP_TO_EDGE:l,c=t.aniso,h=void 0===c?0:c,d=(t.alignment,t.premultiplyAlpha,t.mag),f=void 0===d?Fu.gl.NEAREST:d,p=t.min,g=void 0===p?Fu.gl.NEAREST:p,v=t.colorSpace,m=(void 0===v&&Fu.gl.BROWSER_DEFAULT_WEBGL,t.usage);this.width=n,this.height=i,this.texture=this.engine.device.createTexture({size:[n,i,1],mipLevelCount:1,sampleCount:1,dimension:xc.TextureDimension.E2d,format:Od[o],usage:m||xc.TextureUsage.Sampled|xc.TextureUsage.CopyDst}),(!m||m&xc.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:Ad[s],addressModeV:Ad[u],addressModeW:Ad[s],magFilter:Ed[f],minFilter:Ed[g],maxAnisotropy:h}))}}]),t}(),Gd=Object(Vu.injectable)()(Rd=function(){function t(){var e=this;ju()(this,t),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(t){t.framebuffer;var n=t.color,i=t.depth,r=t.stencil;e.options.supportCompute&&e.startComputePass(),e.currentRenderTarget?(e.currentRenderPass&&e.endRenderTargetRenderPass(),e.startRenderTargetRenderPass(e.currentRenderTarget,n||null,!!i,!!r)):(e.mainColorAttachments[0].loadValue=n||xc.LoadOp.Load,e.mainDepthAttachment.depthLoadValue=i||xc.LoadOp.Load,e.mainDepthAttachment.stencilLoadValue=r?e.clearStencilValue:xc.LoadOp.Load,e.mainRenderPass&&e.endMainRenderPass(),e.startMainRenderPass())},this.createModel=function(){var t=mc()(gc.a.mark(function t(n){var i;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new Bd(e,n),t.next=3,i.init();case 3:return t.abrupt("return",i);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new fd(e,t)},this.createBuffer=function(t){return new pd(e,t)},this.createElements=function(t){return new Sd(e,t)},this.createTexture2D=function(t){return new Fd(e,t)},this.createFramebuffer=function(t){return new Md(e,t)},this.useFramebuffer=function(t,n){e.currentRenderTarget&&e.unbindFramebuffer(e.currentRenderTarget),e.currentRenderTarget=t,e.currentRenderTargetViewDescriptor={dimension:xc.TextureViewDimension.E2d,arrayLayerCount:1,aspect:xc.TextureAspect.All},e.currentRenderPass=null,n()},this.createComputeModel=function(){var t=mc()(gc.a.mark(function t(n){var i;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new _d(e,n),t.next=3,i.init();case 3:return t.abrupt("return",i);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),this.getCanvas=function(){return e.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(t){var n=t.x,i=t.y,r=t.width,o=t.height;if(e.currentRenderPass){if(e.transientViewport.x!==1/0){e.getCurrentRenderPass().setViewport(e.transientViewport.x,e.transientViewport.y,e.transientViewport.width,e.transientViewport.height,0,1)}else if(n!==e.cachedViewport.x||i!==e.cachedViewport.y||r!==e.cachedViewport.width||o!==e.cachedViewport.height){e.cachedViewport={x:n,y:i,width:r,height:o},e.getCurrentRenderPass().setViewport(n,i,r,o,0,1)}}else e.transientViewport={x:n,y:i,width:r,height:o}},this.readPixels=function(t){throw new Error("Method not implemented.")}}return Ru()(t,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var t=mc()(gc.a.mark(function t(e){return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.canvas=e.canvas,this.options=e,this.useWGSL=!!e.useWGSL,this.mainPassSampleCount=e.antialiasing?this.defaultSampleCount:1,t.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"setScissor",value:function(t){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(t){return t.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),Fu.isSafari?this.device.getQueue().submit(this.commandBuffers.filter(function(t){return t})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(t){return t}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var t=mc()(gc.a.mark(function t(){var e,n;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hd();case 2:return this.glslang=t.sent,t.next=5,null===(e=navigator)||void 0===e?void 0:null===(n=e.gpu)||void 0===n?void 0:n.requestAdapter();case 5:return this.adapter=t.sent,t.next=8,this.adapter.requestDevice();case 8:this.device=t.sent;case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(Fu.isSafari?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:xc.TextureUsage.OutputAttachment|xc.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:xc.TextureDimension.E2d,format:xc.TextureFormat.BGRA8Unorm,usage:xc.TextureUsage.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(t),this.mainColorAttachments=[{attachment:Fu.isSafari?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:xc.StoreOp.Store}]}else this.mainColorAttachments=[{attachment:Fu.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:xc.StoreOp.Store}];var e={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:xc.TextureDimension.E2d,format:Fu.isSafari?"depth32float-stencil8":xc.TextureFormat.Depth24PlusStencil8,usage:xc.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(e),this.mainDepthAttachment={attachment:Fu.isSafari?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:xc.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:xc.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=Fu.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=Fu.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(t,e,n){var i,r,o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null===(i=t.get().color)||void 0===i?void 0:i.texture;s&&(o=s.createView(this.currentRenderTargetViewDescriptor));var l,u=null===(r=t.get().depth)||void 0===r?void 0:r.texture;u&&(l=u.createView());var c=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:o,loadValue:null!==e?e:xc.LoadOp.Load,storeOp:xc.StoreOp.Store}],depthStencilAttachment:u&&l?{attachment:l,depthLoadValue:n?this.clearDepthValue:xc.LoadOp.Load,depthStoreOp:xc.StoreOp.Store,stencilLoadValue:a?this.clearStencilValue:xc.LoadOp.Load,stencilStoreOp:xc.StoreOp.Store}:void 0});this.currentRenderPass=c,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&null!==this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(t){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),t}())||Rd,Vd=n("NM/j"),Wd=n.n(Vd),Hd=n("j/rp"),Ud=n.n(Hd),Yd=n("T/v0"),Jd=n.n(Yd),Qd=n("tNLN"),Zd=n.n(Qd);function $d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Zd()(t);if(e){var r=Zd()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Jd()(this,n)}}var Xd,Kd=Object(Vu.injectable)()(zd=function(t){Ud()(n,t);var e=$d(n);function n(){return ju()(this,n),e.apply(this,arguments)}return Ru()(n,[{key:"onEntityCreated",value:function(){var t=this.config,e=t.widthSegments,n=void 0===e?1:e,i=t.heightSegments,r=void 0===i?1:i,o=t.depthSegments,a=void 0===o?1:o,s=t.halfExtents,l=void 0===s?Gu.e.fromValues(.5,.5,.5):s,u=n,c=r,h=a,d=Wd()(l,3),f=d[0],p=d[1],g=d[2],v=[Gu.e.fromValues(-f,-p,g),Gu.e.fromValues(f,-p,g),Gu.e.fromValues(f,p,g),Gu.e.fromValues(-f,p,g),Gu.e.fromValues(f,-p,-g),Gu.e.fromValues(-f,-p,-g),Gu.e.fromValues(-f,p,-g),Gu.e.fromValues(f,p,-g)],m=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],y=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],b=1,x=2,w=3,_=4,S=5,M=[],C=[],I=[],k=[],T=[],O=0,E=function(t,e,n){var i,r,o,a;for(o=0;o<=e;o++)for(a=0;a<=n;a++){var s=Gu.e.create(),l=Gu.e.create(),u=Gu.e.create(),c=Gu.e.create();Gu.e.lerp(s,v[m[t][0]],v[m[t][1]],o/e),Gu.e.lerp(l,v[m[t][0]],v[m[t][2]],a/n),Gu.e.sub(u,l,v[m[t][0]]),Gu.e.add(c,s,u),i=o/e,r=a/n,M.push(c[0],c[1],c[2]),C.push(y[t][0],y[t][1],y[t][2]),I.push(i,r),i=.875*(i/=3)+4/64,r=.875*(r/=3)+4/64,i+=t%3/3,r+=Math.floor(t/3)/3,k.push(i,r),o<e&&a<n&&(T.push(O+n+1,O+1,O),T.push(O+n+1,O+n+2,O+1)),O++}};E(0,u,c),E(b,u,c),E(x,u,h),E(w,u,h),E(_,h,c),E(S,h,c);var A=Object(Fu.generateAABBFromVertices)(M),N=this.getComponent();N.indices=Uint32Array.from(T),N.aabb=A,N.vertexCount=O,N.attributes=[{dirty:!0,name:"position",data:Float32Array.from(M),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(C),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(I),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(fc))||zd;function qd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Zd()(t);if(e){var r=Zd()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Jd()(this,n)}}var tf,ef=Object(Vu.injectable)()(Xd=function(t){Ud()(n,t);var e=qd(n);function n(){return ju()(this,n),e.apply(this,arguments)}return Ru()(n,[{key:"onEntityCreated",value:function(){var t=this.config.geometries,e=void 0===t?[]:t,n=this.getComponent();n.aabb=new Fu.AABB;var i=[],r=[],o=0;e.forEach(function(t){var e=t.aabb,a=t.indices,s=t.vertexCount,l=t.attributes;n.aabb.add(e),n.vertexCount+=s,a&&r.push.apply(r,Vh()(a.map(function(t){return t+o}))),o+=s,l.forEach(function(t,e){i[e]?t.data&&(Wu(t.data)?i[e].push(t.data):Pc(t.data)?i[e].data=function(t,e){if(!t&&!e)throw new Error("Please specify valid arguments for parameters a and b.");if(!e||0===e.length)return t;if(!t||0===t.length)return e;if(Object.prototype.toString.call(t)!==Object.prototype.toString.call(e))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var n=new t.constructor(t.length+e.length);return n.set(t),n.set(e,t.length),n}(i[e].data,t.data):i[e].data=i[e].data.concat(t.data)):(i[e]=t,i[e].dirty=!0)})}),n.attributes=i,n.indices=Uint32Array.from(r),n.dirty=!0}}]),n}(fc))||Xd;function nf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Zd()(t);if(e){var r=Zd()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Jd()(this,n)}}var rf,of=Object(Vu.injectable)()(tf=function(t){Ud()(n,t);var e=nf(n);function n(){return ju()(this,n),e.apply(this,arguments)}return Ru()(n,[{key:"onEntityCreated",value:function(){for(var t=this.config,e=t.halfExtents,n=void 0===e?[.5,.5]:e,i=t.widthSegments,r=void 0===i?5:i,o=t.lengthSegments,a=void 0===o?5:o,s=[],l=[],u=[],c=[],h=0,d=0;d<=r;d++)for(var f=0;f<=a;f++){var p=-n[0]+2*n[0]*d/r,g=-(-n[1]+2*n[1]*f/a),v=d/r,m=f/a;s.push(p,0,g),l.push(0,1,0),u.push(v,m),d<r&&f<a&&(c.push(h+a+1,h+1,h),c.push(h+a+1,h+a+2,h+1)),h++}var y=Object(Fu.generateAABBFromVertices)(s),b=this.getComponent();b.indices=Uint32Array.from(c),b.aabb=y,b.vertexCount=h,b.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(l),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(u),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(fc))||tf;function af(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Zd()(t);if(e){var r=Zd()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Jd()(this,n)}}var sf,lf,uf,cf,hf,df,ff,pf=Object(Vu.injectable)()(rf=function(t){Ud()(n,t);var e=af(n);function n(){return ju()(this,n),e.apply(this,arguments)}return Ru()(n,[{key:"onEntityCreated",value:function(){for(var t=this.config,e=t.radius,n=void 0===e?.5:e,i=t.latitudeBands,r=void 0===i?16:i,o=t.longitudeBands,a=void 0===o?16:o,s=[],l=[],u=[],c=[],h=0;h<=r;h++)for(var d=h*Math.PI/r,f=Math.sin(d),p=Math.cos(d),g=0;g<=a;g++){var v=2*g*Math.PI/a-Math.PI/2,m=Math.sin(v),y=Math.cos(v)*f,b=p,x=m*f,w=1-g/a,_=1-h/r;s.push(y*n,b*n,x*n),l.push(y,b,x),u.push(w,_)}for(var S=0;S<r;++S)for(var M=0;M<a;++M){var C=S*(a+1)+M,I=C+a+1;c.push(C+1,I,C),c.push(C+1,I+1,I)}var k=Object(Fu.generateAABBFromVertices)(s),T=this.getComponent();T.indices=Uint32Array.from(c),T.aabb=k,T.vertexCount=s.length/3,T.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(l),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(u),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(fc))||rf,gf=n("M1I4"),vf=n.n(gf);function mf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Zd()(t);if(e){var r=Zd()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Jd()(this,n)}}var yf,bf,xf,wf,_f,Sf,Mf,Cf,If,kf,Tf,Of=(sf=Object(Vu.injectable)(),lf=Object(Vu.inject)(Fu.IDENTIFIER.RenderEngine),uf=Object(Vu.inject)(Fu.IDENTIFIER.ShaderModuleService),sf((hf=function(t){Ud()(n,t);var e=mf(n);function n(){var t;ju()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),Lu()(t,"engine",df,vf()(t)),Lu()(t,"shaderModuleService",ff,vf()(t)),t}return Ru()(n,[{key:"onEntityCreated",value:function(){var t=this.getComponent(),e=this.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform Uniforms {\n  vec4 color;\n  mat4 projectionMatrix;\n  mat4 modelViewMatrix;\n} uniforms;\n\nlayout(location = 0) in vec3 position;\n// layout(location = 1) in vec3 barycentric;\n\nlayout(location = 0) out vec4 fragColor;\n// layout(location = 1) out vec3 v_Barycentric;\n\nvoid main() {\n  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);\n  fragColor = uniforms.color;\n  // v_Barycentric = barycentric;\n}":'attribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform vec4 color;\n\nvarying vec4 fragColor;\n\n#pragma include "uv.vert.declaration"\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  fragColor = color;\n\n  #pragma include "uv.vert.main"\n}',n=this.engine.supportWebGPU?"// layout(set = 0, binding = 1) uniform WireframeUniforms {\n//   float lineWidth;\n//   vec4 lineColor;\n// } wireframe;\n\nlayout(location = 0) in vec4 fragColor;\n// layout(location = 1) in vec3 v_Barycentric;\n\nlayout(location = 0) out vec4 outColor;\n\n// wireframe\n// float edgeFactor() {\n//   vec3 d = fwidth(v_Barycentric);\n//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);\n//   return min(min(a3.x, a3.y), a3.z);\n// }\n\nvoid main() {\n  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));\n  outColor = fragColor;\n}":'varying vec4 fragColor;\n\n#pragma include "uv.frag.declaration"\n#pragma include "map.frag.declaration"\n\nvoid main() {\n  vec4 diffuseColor = fragColor;\n\n  #pragma include "map.frag.main"\n\n  gl_FragColor = diffuseColor;\n}';this.shaderModuleService.registerModule("material-basic",{vs:e,fs:n});var i=this.shaderModuleService.getModule("material-basic"),r=i.vs,o=i.fs,a=i.uniforms;t.vertexShaderGLSL=r,t.fragmentShaderGLSL=o,t.setUniform(a),this.config.map&&(t.setDefines({USE_UV:1,USE_MAP:1}),t.setUniform({map:this.config.map,uvTransform:Gu.a.create()}))}}]),n}(wh),df=Bu()(hf.prototype,"engine",[lf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ff=Bu()(hf.prototype,"shaderModuleService",[uf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cf=hf))||cf);function Ef(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Zd()(t);if(e){var r=Zd()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Jd()(this,n)}}var Af=(yf=Object(Vu.injectable)(),bf=Object(Vu.inject)(Fu.IDENTIFIER.Systems),xf=Object(Vu.named)(Fu.IDENTIFIER.MaterialSystem),wf=Object(Vu.inject)(Fu.IDENTIFIER.Systems),_f=Object(Vu.named)(Fu.IDENTIFIER.GeometrySystem),Sf=Object(Vu.inject)(Fu.IDENTIFIER.ShaderModuleService),yf((Cf=function(t){Ud()(n,t);var e=Ef(n);function n(){var t;ju()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),Lu()(t,"materialSystem",If,vf()(t)),Lu()(t,"geometrySystem",kf,vf()(t)),Lu()(t,"shaderModuleService",Tf,vf()(t)),t}return Ru()(n,[{key:"onAttributeChanged",value:function(t){var e=t.name,n=t.data,i=this.getMeshComponent();i&&i.material&&("gridColor"===e?(i.material.setUniform("u_GridColor",n),i.material.setUniform("u_GridColor2",n)):"gridSize"===e&&(i.material.setUniform("u_GridSize",n),i.material.setUniform("u_GridSize2",n)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:"attribute vec3 a_Position;\n\nvarying vec3 v_Position;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nvoid main() {\n  v_Position = a_Position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);\n}",fs:"// generate grid, borrow from clay.gl viewer\n// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl\n#extension GL_OES_standard_derivatives : enable\n\nvarying vec3 v_Position;\n// varying vec3 v_Normal;\n\nuniform float u_GridSize : 5;\nuniform float u_GridSize2 : .5;\nuniform vec4 u_GridColor : [0, 0, 0, 1];\nuniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];\nuniform bool u_GridEnabled : true;\n\n// uniform vec3 u_LightDirection;\n// uniform vec3 u_LightColor;\n// uniform vec3 u_Camera;\n\nvoid main() {\n  // vec3 n = v_Normal;\n  // vec3 l = normalize(u_LightDirection);\n  // float NdotL = clamp(dot(n, l), 0.001, 1.0);\n\n  gl_FragColor = vec4(1.);\n\n  if (u_GridEnabled) {\n    float wx = v_Position.x;\n    float wz = v_Position.z;\n    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;\n    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;\n\n    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;\n    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;\n\n    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);\n    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);\n    // if (v0 > 0.1) {\n        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);\n    // }\n    // else {\n        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);\n    // }\n  }\n\n  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);\n  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;\n\n  // gl_FragColor.rgb *= diffuseColor;\n}"});var t=this.shaderModuleService.getModule("grid"),e=t.vs,n=t.fs,i=t.uniforms,r=this.materialSystem.createShaderMaterial({vertexShader:e,fragmentShader:n});this.setMaterial(r);var o=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(o),r.setCull({enable:!1,face:Fu.gl.BACK}).setDepth({enable:!0,func:Fu.gl.LESS}),r.setUniform(i),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),o.setIndex([0,3,2,2,1,0]),o.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),n}(_h),If=Bu()(Cf.prototype,"materialSystem",[bf,xf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kf=Bu()(Cf.prototype,"geometrySystem",[wf,_f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tf=Bu()(Cf.prototype,"shaderModuleService",[Sf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mf=Cf))||Mf),Nf=n("V7eP"),Lf=n("h8/j");function Df(t,e,n,i,r){jf(e,i,-r),jf(e,i,r),t.push(n),t.push(n)}function jf(t,e,n){t.push([[e[0],e[1]],n])}var Pf,Rf,zf,Bf,Ff,Gf,Vf,Wf,Hf,Uf,Yf;function Jf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Zd()(t);if(e){var r=Zd()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Jd()(this,n)}}var Qf,Zf,$f,Xf,Kf,qf,tp,ep,np,ip,rp,op=(Pf=Object(Vu.injectable)(),Rf=Object(Vu.inject)(Fu.IDENTIFIER.Systems),zf=Object(Vu.named)(Fu.IDENTIFIER.MaterialSystem),Bf=Object(Vu.inject)(Fu.IDENTIFIER.Systems),Ff=Object(Vu.named)(Fu.IDENTIFIER.GeometrySystem),Gf=Object(Vu.inject)(Fu.IDENTIFIER.ShaderModuleService),Pf((Wf=function(t){Ud()(n,t);var e=Jf(n);function n(){var t;ju()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),Lu()(t,"materialSystem",Hf,vf()(t)),Lu()(t,"geometrySystem",Uf,vf()(t)),Lu()(t,"shaderModuleService",Yf,vf()(t)),t.vertexCount=void 0,t}return Ru()(n,[{key:"onAttributeChanged",value:function(t){var e=t.name,n=t.data,i=this.getMeshComponent();if(i&&i.material)switch(e){case"dashArray":i.material.setUniform("u_dash_array",n);break;case"dashOffset":i.material.setUniform("u_dash_offset",n);break;case"dashRatio":i.material.setUniform("u_dash_ratio",n);break;case"thickness":i.material.setUniform("u_thickness",n);break;case"color":var r=new Array(this.vertexCount).fill(void 0).map(function(){return n}).reduce(function(t,e){return[].concat(Vh()(t),Vh()(e))},[]);i.geometry.setAttribute("a_color",Float32Array.from(r),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]})}}},{key:"onEntityCreated",value:function(){var t=this;this.shaderModuleService.registerModule("line",{vs:"attribute vec2 a_pos;\nattribute vec4 a_color;\nattribute float a_line_miter;\nattribute vec2 a_line_normal;\nattribute float a_counters;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float u_thickness : 0.02;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n  v_color = a_color;\n  v_counters = a_counters;\n\n  vec3 normal = normalize(vec3(a_line_normal, 0.0));\n\n  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);\n\n  v_normal = vec2(normal * sign(a_line_miter));\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;\n}\n",fs:"uniform float u_dash_array : 0.02;\nuniform float u_dash_offset : 0;\nuniform float u_dash_ratio : 0;\nuniform float u_thickness : 0.02;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n    float blur = 1. - smoothstep(0.98, 1., length(v_normal));\n\n    gl_FragColor = v_color;\n    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));\n}"});var e=this.shaderModuleService.getModule("line"),n=e.vs,i=e.fs,r=e.uniforms,o=this.materialSystem.createShaderMaterial({vertexShader:n,fragmentShader:i}),a=function(t,e,n){var i=[0,0],r=[0,0],o=[0,0],a=[0,0],s=-1,l=!1,u=null,c=Object(Nf.create)(),h=n||0,d=[],f=[],p=[],g=[0,0];e&&(t=t.slice()).push(t[0]);for(var v=t.length,m=1;m<v;m++){var y=h,b=t[m-1],x=t[m],w=m<t.length-1?t[m+1]:null;if(g.push(m/v,m/v),Object(Lf.direction)(i,x,b),u||(u=[0,0],Object(Lf.normal)(u,i)),l||(l=!0,Df(f,d,b,u,1)),p.push([y+0,y+1,y+2]),w){Object(Lf.direction)(r,w,x);var _=Object(Lf.computeMiter)(o,a,i,r,1),S=Object(Nf.dot)(o,u)<0?-1:1,M=_>3;if(!isFinite(_)){Object(Lf.normal)(u,i),Df(f,d,x,u,1),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),h+=2,s=S;continue}M?(_=3,g.push(m/v),jf(d,u,-S),f.push(x),jf(d,a,_*S),f.push(x),p.push(s!==-S?[y,y+2,y+3]:[y+2,y+1,y+3]),p.push([y+2,y+3,y+4]),Object(Lf.normal)(c,r),Object(Nf.copy)(u,c),jf(d,u,-S),f.push(x),h+=3):(Df(f,d,x,a,_),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),S=-1,Object(Nf.copy)(u,a),h+=2),s=S}else Object(Lf.normal)(u,i),Df(f,d,x,u,1),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),h+=2}return{normals:d,attrIndex:p,attrPos:f,attrCounters:g}}(this.config.points,!1),s=a.normals,l=a.attrIndex,u=a.attrPos,c=a.attrCounters,h=u.length;this.vertexCount=h;var d=this.geometrySystem.createBufferGeometry({vertexCount:h});this.setMaterial(o),this.setGeometry(d),o.setCull({enable:!1,face:Fu.gl.BACK}).setUniform(r),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var f=[],p=[];s.forEach(function(t){var e=t[0],n=t[1];f.push([e[0],e[1]]),p.push(n)}),d.setIndex(l.reduce(function(t,e){return[].concat(Vh()(t),Vh()(e))},[])),d.setAttribute("a_pos",Float32Array.from(u.reduce(function(t,e){return[].concat(Vh()(t),Vh()(e))},[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var g=new Array(h).fill(void 0).map(function(){return Vh()(t.config.color)}).reduce(function(t,e){return[].concat(Vh()(t),Vh()(e))},[]);d.setAttribute("a_color",Float32Array.from(g),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),d.setAttribute("a_line_miter",Float32Array.from(p),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),d.setAttribute("a_line_normal",Float32Array.from(f.reduce(function(t,e){return[].concat(Vh()(t),Vh()(e))},[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),d.setAttribute("a_counters",Float32Array.from(c),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),n}(_h),Hf=Bu()(Wf.prototype,"materialSystem",[Rf,zf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uf=Bu()(Wf.prototype,"geometrySystem",[Bf,Ff],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yf=Bu()(Wf.prototype,"shaderModuleService",[Gf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vf=Wf))||Vf);function ap(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function sp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Zd()(t);if(e){var r=Zd()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Jd()(this,n)}}var lp,up,cp,hp,dp,fp,pp,gp,vp,mp=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],yp=(Qf=Object(Vu.injectable)(),Zf=Object(Vu.inject)(Fu.IDENTIFIER.Systems),$f=Object(Vu.named)(Fu.IDENTIFIER.MaterialSystem),Xf=Object(Vu.inject)(Fu.IDENTIFIER.Systems),Kf=Object(Vu.named)(Fu.IDENTIFIER.GeometrySystem),qf=Object(Vu.inject)(Fu.IDENTIFIER.ShaderModuleService),Qf((ep=function(t){Ud()(n,t);var e=sp(n);function n(){var t;ju()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),Lu()(t,"materialSystem",np,vf()(t)),Lu()(t,"geometrySystem",ip,vf()(t)),Lu()(t,"shaderModuleService",rp,vf()(t)),t}return Ru()(n,[{key:"onAttributeChanged",value:function(t){var e=t.name,n=t.data,i=this.getMeshComponent();i&&i.material&&("strokeWidth"===e?i.material.setUniform("u_stroke_width",n):"strokeColor"===e?i.material.setUniform("u_stroke_color",n):"strokeOpacity"===e?i.material.setUniform("u_stroke_opacity",n):"opacity"===e?i.material.setUniform("u_opacity",n):"blur"===e&&i.material.setUniform("u_blur",n))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:'attribute vec2 position;\nattribute vec4 color;\nattribute float shape;\nattribute vec2 offset;\nattribute float size;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nuniform float u_stroke_width : 0.01;\nuniform float u_device_pixel_ratio;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include "picking"\n\nvoid main() {\n  v_color = color;\n  v_radius = size;\n\n  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);\n\n  // construct point coords\n  v_data = vec4(position, antialiasblur, shape);\n\n  gl_Position = projectionMatrix * modelViewMatrix\n    * vec4(position * size + offset, 0.0, 1.0);\n\n  setPickingColor(a_PickingColor);\n}',fs:"uniform float u_blur : 0.05;\nuniform float u_opacity : 0.7;\nuniform float u_stroke_width : 0.01;\nuniform vec4 u_stroke_color : [0, 0, 0, 0];\nuniform float u_stroke_opacity : 1;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include \"sdf2d\"\n#pragma include \"picking\"\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  float antialiasblur = v_data.z;\n  float antialiased_blur = -max(u_blur, antialiasblur);\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  // if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  // } else if (shape == 1) {\n  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  // } else if (shape == 2) {\n  //   outer_df = sdBox(v_data.xy, vec2(1.));\n  //   inner_df = sdBox(v_data.xy, vec2(r));\n  // } else if (shape == 3) {\n  //   outer_df = sdPentagon(v_data.xy, 0.8);\n  //   inner_df = sdPentagon(v_data.xy, r * 0.8);\n  // } else if (shape == 4) {\n  //   outer_df = sdHexagon(v_data.xy, 0.8);\n  //   inner_df = sdHexagon(v_data.xy, r * 0.8);\n  // } else if (shape == 5) {\n  //   outer_df = sdOctogon(v_data.xy, 1.0);\n  //   inner_df = sdOctogon(v_data.xy, r);\n  // } else if (shape == 6) {\n  //   outer_df = sdHexagram(v_data.xy, 0.52);\n  //   inner_df = sdHexagram(v_data.xy, r * 0.52);\n  // } else if (shape == 7) {\n  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));\n  //   inner_df = sdRhombus(v_data.xy, vec2(r));\n  // } else if (shape == 8) {\n  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  // }\n\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\n\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n    antialiased_blur,\n    0.0,\n    inner_df\n  );\n  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;\n\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  gl_FragColor.a = gl_FragColor.a * opacity_t;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}"});var t=this.shaderModuleService.getModule("grid"),e=t.vs,n=t.fs,i=t.uniforms,r=this.materialSystem.createShaderMaterial({vertexShader:e,fragmentShader:n,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:Fu.gl.SRC_ALPHA,dstRGB:Fu.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});r.setUniform(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ap(Object(n),!0).forEach(function(e){bc()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ap(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({u_device_pixel_ratio:window.devicePixelRatio},i));var o=this.buildAttributes(),a=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:o.instancedOffsets.length/2,vertexCount:6});a.setIndex([0,2,1,0,3,2]),a.setAttribute("position",Float32Array.from(o.positions),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),a.setAttribute("offset",Float32Array.from(o.instancedOffsets),{arrayStride:8,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),a.setAttribute("color",Float32Array.from(o.instancedColors),{arrayStride:16,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),a.setAttribute("size",Float32Array.from(o.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),a.setAttribute("shape",Float32Array.from(o.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),a.setAttribute("a_PickingColor",Float32Array.from(o.instancedPickingColors),{arrayStride:12,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(r),this.setGeometry(a)}},{key:"buildAttribute",value:function(t,e,n){var i,r,o,a,s;(i=e.instancedPickingColors).push.apply(i,Vh()([(s=t.id||n)+1&255,s+1>>8&255,s+1>>8>>8&255])),e.instancedShapes.push(mp.indexOf(t.shape||"circle")),(r=e.instancedColors).push.apply(r,Vh()(t.color||[1,0,0,1])),(o=e.instancedOffsets).push.apply(o,Vh()(t.position||[0,0])),(a=e.instancedSizes).push.apply(a,Vh()(t.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var t=this,e={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(n,i){t.buildAttribute(n,e,i)}):this.buildAttribute(this.config,e,0),e}}]),n}(_h),np=Bu()(ep.prototype,"materialSystem",[Zf,$f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ip=Bu()(ep.prototype,"geometrySystem",[Xf,Kf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rp=Bu()(ep.prototype,"shaderModuleService",[qf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tp=ep))||tp);function bp(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return xp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function xp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var wp,_p,Sp,Mp,Cp,Ip,kp,Tp,Op,Ep=(lp=Object(Vu.injectable)(),up=Object(Vu.inject)(Fu.IDENTIFIER.RenderEngine),cp=Object(Vu.inject)(Fu.IDENTIFIER.ShaderModuleService),hp=Object(Vu.inject)(Fu.IDENTIFIER.ConfigService),lp((fp=function(){function t(){ju()(this,t),this.container=void 0,Lu()(this,"engine",pp,this),Lu()(this,"shaderModule",gp,this),Lu()(this,"configService",vp,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return Ru()(t,[{key:"init",value:function(){var t=mc()(gc.a.mark(function t(){var e,n,i,r,o;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:"#ifdef USE_UV\n  attribute vec2 uv;\n\t#ifdef UVS_VERTEX_ONLY\n    vec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif"}),this.shaderModule.registerModule("uv.vert.main",{vs:"#ifdef USE_UV\n  vUv = (uvTransform * vec3(uv, 1)).xy;\n#endif"}),this.shaderModule.registerModule("uv.frag.declaration",{fs:"#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))\n  varying vec2 vUv;\n#endif"}),this.shaderModule.registerModule("map.frag.declaration",{fs:"#ifdef USE_MAP\n  uniform sampler2D map;\n#endif"}),this.shaderModule.registerModule("map.frag.main",{fs:"#ifdef USE_MAP\n  vec4 texelColor = texture2D(map, vUv);\n  // texelColor = mapTexelToLinear(texelColor);\n  diffuseColor *= texelColor;\n#endif"}),e=this.container.getAll(Fu.IDENTIFIER.Systems),!(n=this.configService.get()).canvas){t.next=30;break}return t.next=11,this.engine.init({canvas:n.canvas,swapChainFormat:xc.TextureFormat.BGRA8Unorm,antialiasing:!1});case 11:i=bp(e),t.prev=12,i.s();case 14:if((r=i.n()).done){t.next=21;break}if(!(o=r.value).initialize){t.next=19;break}return t.next=19,o.initialize();case 19:t.next=14;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(12),i.e(t.t0);case 26:return t.prev=26,i.f(),t.finish(26);case 29:this.inited=!0;case 30:case"end":return t.stop()}},t,this,[[12,23,26,29]])}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=mc()(gc.a.mark(function t(){var e,n,i,r,o,a,s,l=arguments;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.inited&&!this.rendering){t.next=2;break}return t.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(t){t()}),this.rendering=!0,this.engine.beginFrame(),e=this.container.getAll(Fu.IDENTIFIER.Systems),n=l.length,i=new Array(n),r=0;r<n;r++)i[r]=l[r];o=bp(e),t.prev=8,o.s();case 10:if((a=o.n()).done){t.next=17;break}if(!(s=a.value).execute){t.next=15;break}return t.next=15,s.execute(i);case 15:t.next=10;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(8),o.e(t.t0);case 22:return t.prev=22,o.f(),t.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return t.stop()}},t,this,[[8,19,22,25]])}));return function(){return t.apply(this,arguments)}}()},{key:"clear",value:function(t){var e=this;return this.inited?this.engine.clear(t):this.pendings.unshift(function(){e.engine.clear(t),e.pendings.shift()}),this}},{key:"setSize",value:function(t){var e=t.width,n=t.height,i=this.engine.getCanvas();return this.size={width:e,height:n},i.width=e,i.height=n,this}},{key:"getSize",value:function(){return this.size}}]),t}(),pp=Bu()(fp.prototype,"engine",[up],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gp=Bu()(fp.prototype,"shaderModule",[cp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vp=Bu()(fp.prototype,"configService",[hp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dp=fp))||dp),Ap=Object(Vu.injectable)()(wp=function(){function t(){ju()(this,t),this.entities=[]}return Ru()(t,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(t){return this.addEntity(t.getEntity()),this}},{key:"removeRenderable",value:function(t){return this.removeEntity(t.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(t){return-1===this.entities.indexOf(t)&&this.entities.push(t),this}},{key:"removeEntity",value:function(t){var e=this.entities.indexOf(t);return this.entities.splice(e,1),this}}]),t}())||wp,Np=Object(Vu.injectable)()(_p=function(){function t(){ju()(this,t),this.cache={}}return Ru()(t,[{key:"get",value:function(t){return this.cache[t]}},{key:"set",value:function(t,e){this.cache[t]=e}}]),t}())||_p;function Lp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Dp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lp(Object(n),!0).forEach(function(e){bc()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lp(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var jp,Pp,Rp,zp,Bp,Fp,Gp,Vp,Wp,Hp,Up,Yp=(Sp=Object(Vu.injectable)(),Mp=Object(Vu.inject)(Np),Cp=Object(Vu.inject)(Fu.IDENTIFIER.RenderEngine),Sp((kp=function(){function t(){ju()(this,t),Lu()(this,"textureCache",Tp,this),Lu()(this,"engine",Op,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return Ru()(t,[{key:"setConfig",value:function(t){this.config=t}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var t=mc()(gc.a.mark(function t(){var e=this;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.config.url){t.next=4;break}return t.abrupt("return",new Promise(function(t,n){var i=e.textureCache.get(e.config.url);if(i)t(i);else{var r=new Image;r.crossOrigin="Anonymous",r.src=e.config.url,r.onload=function(){var n=e.engine.createTexture2D(Dp(Dp({},e.config),{},{data:r,width:r.width,height:r.height,flipY:!0}));e.textureCache.set(e.config.url,n),e.texture=n,e.loaded=!0,t(n)},r.onerror=function(){n()}}}));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),t.abrupt("return",this.texture);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}(),Tp=Bu()(kp.prototype,"textureCache",[Mp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Op=Bu()(kp.prototype,"engine",[Cp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ip=kp))||Ip),Jp=(jp=Object(Vu.injectable)(),Pp=Object(Vu.inject)(Fu.IDENTIFIER.Systems),Rp=Object(Vu.named)(Fu.IDENTIFIER.RendererSystem),jp((Bp=function(){function t(){ju()(this,t),Lu()(this,"rendererSystem",Fp,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return Ru()(t,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(t){return this.camera=t,this}},{key:"setScene",value:function(t){return this.scene=t,this}},{key:"setViewport",value:function(t){return this.viewport=t,this}},{key:"setClearColor",value:function(t){return this.clearColor=t,this}},{key:"pick",value:function(t){return this.rendererSystem.pick(t,this)}}]),t}(),Fp=Bu()(Bp.prototype,"rendererSystem",[Pp,Rp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zp=Bp))||zp);function Qp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Zp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qp(Object(n),!0).forEach(function(e){bc()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qp(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var $p=(Gp=Object(Vu.injectable)(),Vp=Object(Vu.inject)(Fu.IDENTIFIER.ConfigService),Gp((Hp=function(){function t(){ju()(this,t),Lu()(this,"configService",Up,this),this.container=void 0}return Ru()(t,[{key:"getEngine",value:function(){var t=mc()(gc.a.mark(function t(){var e,n,i,r;return gc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.container.get(Fu.IDENTIFIER.RenderEngine),n=this.configService.get(),i=n.canvas,r=n.engineOptions,t.next=4,e.init(Zp({canvas:i||wc(),swapChainFormat:xc.TextureFormat.BGRA8Unorm,antialiasing:!1},r));case 4:return t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getTransformComponent",value:function(t){return this.container.get(Fu.IDENTIFIER.TransformComponentManager).getComponentByEntity(t)}},{key:"getMeshComponent",value:function(t){return this.container.get(Fu.IDENTIFIER.MeshComponentManager).getComponentByEntity(t)}},{key:"setConfig",value:function(t){this.configService.set(t)}},{key:"setContainer",value:function(t){this.container=t}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return Object(Fu.createEntity)()}},{key:"createScene",value:function(){return this.container.get(Ap)}},{key:"createCamera",value:function(){return this.container.get(dc)}},{key:"createView",value:function(){return this.container.get(Jp)}},{key:"createRenderable",value:function(t,e){var n=t?this.container.getNamed(Fu.IDENTIFIER.Renderable,t):this.container.get(_h),i=Object(Fu.createEntity)();return n.setConfig(e||{}),n.setEntity(i),n}},{key:"createGeometry",value:function(t,e){var n=this.container.getNamed(Fu.IDENTIFIER.Geometry,t),i=Object(Fu.createEntity)();return n.setConfig(e||{}),n.setEntity(i),n.getComponent()}},{key:"createMaterial",value:function(t,e){var n=this.container.getNamed(Fu.IDENTIFIER.Material,t),i=Object(Fu.createEntity)();return n.setConfig(e||{}),n.setEntity(i,t),n.getComponent()}},{key:"createTexture2D",value:function(t){var e=this.container.get(Yp);return e.setConfig(t),e}},{key:"createBufferGeometry",value:function(t){return this.container.getNamed(Fu.IDENTIFIER.Systems,Fu.IDENTIFIER.GeometrySystem).createBufferGeometry(t)}},{key:"createInstancedBufferGeometry",value:function(t){return this.container.getNamed(Fu.IDENTIFIER.Systems,Fu.IDENTIFIER.GeometrySystem).createInstancedBufferGeometry(t)}},{key:"createShaderMaterial",value:function(t){return this.container.getNamed(Fu.IDENTIFIER.Systems,Fu.IDENTIFIER.MaterialSystem).createShaderMaterial(t)}},{key:"createKernel",value:function(t){var e=this.container.get(xh);return"string"==typeof t?e.setBundle(JSON.parse(t)):e.setBundle(t),e.init(),e}},{key:"createRenderer",value:function(){var t=this.container.get(Ep);return t.container=this.container,t.init(),t}},{key:"destroy",value:function(){this.container.getAll(Fu.IDENTIFIER.Systems).forEach(function(t){t.tearDown&&t.tearDown()}),this.container.get(Fu.IDENTIFIER.RenderEngine).destroy(),this.container.get(Fu.IDENTIFIER.InteractorService).destroy()}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(Fu.createWorldContainer)(),i=navigator.gpu?Gd:ld;n.isBound(Fu.IDENTIFIER.RenderEngine)||n.bind(Fu.IDENTIFIER.RenderEngine).to(i).inSingletonScope(),n.bind(Ep).toSelf(),n.bind(xh).toSelf(),n.bind(_h).toSelf(),n.bind(Jp).toSelf(),n.bind(dc).toSelf(),n.bind(Ap).toSelf(),n.bind(t).toSelf(),n.bind(Np).toSelf(),n.bind(Yp).toSelf(),n.bind(Fu.IDENTIFIER.Geometry).to(Kd).whenTargetNamed(fc.BOX),n.bind(Fu.IDENTIFIER.Geometry).to(pf).whenTargetNamed(fc.SPHERE),n.bind(Fu.IDENTIFIER.Geometry).to(of).whenTargetNamed(fc.PLANE),n.bind(Fu.IDENTIFIER.Geometry).to(ef).whenTargetNamed(fc.MERGED),n.bind(Fu.IDENTIFIER.Material).to(Of).whenTargetNamed(wh.BASIC),n.bind(Fu.IDENTIFIER.Renderable).to(yp).whenTargetNamed(_h.POINT),n.bind(Fu.IDENTIFIER.Renderable).to(op).whenTargetNamed(_h.LINE),n.bind(Fu.IDENTIFIER.Renderable).to(Af).whenTargetNamed(_h.GRID);var r=n.get(t);return r.setContainer(n),r.setConfig(e),r}}]),t}(),Up=Bu()(Hp.prototype,"configService",[Vp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wp=Hp))||Wp);const Xp=(t,e)=>{let n;return n=t?uo(t)?()=>t:t:()=>e||1},Kp=(t,e)=>{const n=[],i=[],r={};let o=0;for(o=0;o<t.length;o++){const e=t[o];r[e.id]=o,n.push(e.x),n.push(e.y),n.push(0),n.push(0),i.push([])}for(o=0;o<e.length;o++){const t=e[o],n=po(t,"source"),a=po(t,"target");i[r[n]].push(r[a]),i[r[a]].push(r[n])}let a=0;for(o=0;o<t.length;o++){const t=n.length,e=i[o],r=e.length;n[4*o+2]=t,n[4*o+3]=e.length,a=Math.max(a,e.length);for(let t=0;t<r;++t){const i=e[t];n.push(+i)}}for(;n.length%4!=0;)n.push(0);return{maxEdgePerVetex:a,array:new Float32Array(n)}},qp=(t,e,n,i)=>{const r=[],o=[],a={};let s=0;for(s=0;s<t.length;s++){const e=t[s];a[e.id]=s,r.push(e.x),r.push(e.y),r.push(0),r.push(0),o.push([])}for(s=0;s<e.length;s++){const t=e[s],r=po(t,"source"),l=po(t,"target");o[a[r]].push(a[l]),o[a[r]].push(n(t)),o[a[r]].push(i(t)),o[a[r]].push(0),o[a[l]].push(a[r]),o[a[l]].push(n(t)),o[a[l]].push(i(t)),o[a[l]].push(0)}let l=0;for(s=0;s<t.length;s++){const t=r.length,e=o[s],n=e.length;r[4*s+2]=t+1048576*n/4,r[4*s+3]=0,l=Math.max(l,n/4);for(let t=0;t<n;++t){const n=e[t];r.push(+n)}}for(;r.length%4!=0;)r.push(0);return{maxEdgePerVetex:l,array:new Float32Array(r)}},tg=(t,e)=>{const n=[],i=t.length,r={};return e.forEach(e=>{t.forEach((t,o)=>{if(void 0===r[e[t]]&&(r[e[t]]=Object.keys(r).length),n.push(r[e[t]]),o===i-1)for(;n.length%4!=0;)n.push(0)})}),{array:new Float32Array(n),count:Object.keys(r).length}},eg=t=>{const e=[],n=t.length,i=t[0].length;for(let r=0;r<i;r++)t.forEach((t,i)=>{if(e.push(t[r]),i===n-1)for(;e.length%4!=0;)e.push(0)});return new Float32Array(e)},ng='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',ig='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}';var rg=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})};class og extends oo{constructor(t){super(),this.maxIteration=1e3,this.gravity=10,this.speed=1,this.clustering=!1,this.clusterField="cluster",this.clusterGravity=10,this.workerEnabled=!1,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(t)}getDefaultCfg(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}execute(){return rg(this,void 0,void 0,function*(){const t=this,e=t.nodes;if(!e||0===e.length)return void(t.onLayoutEnd&&t.onLayoutEnd());t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);const n=t.center;if(1===e.length)return e[0].x=n[0],e[0].y=n[1],void(t.onLayoutEnd&&t.onLayoutEnd());const i={},r={};e.forEach((t,e)=>{uo(t.x)||(t.x=Math.random()*this.width),uo(t.y)||(t.y=Math.random()*this.height),i[t.id]=t,r[t.id]=e}),t.nodeMap=i,t.nodeIdxMap=r,yield t.run()})}executeWithWorker(t,e){return rg(this,void 0,void 0,function*(){const n=this.nodes,i=this.center;if(!n||0===n.length)return;if(1===n.length)return n[0].x=i[0],void(n[0].y=i[1]);const r={},o={};n.forEach((t,e)=>{uo(t.x)||(t.x=Math.random()*this.width),uo(t.y)||(t.y=Math.random()*this.height),r[t.id]=t,o[t.id]=e}),this.nodeMap=r,this.nodeIdxMap=o,yield this.run(t,e)})}run(t,e){return rg(this,void 0,void 0,function*(){const n=this.nodes,i=this.edges,r=this.maxIteration,o=this.center,a=this.height*this.width;let s=Math.sqrt(a)/10;const l=a/(n.length+1),u=Math.sqrt(l),c=this.speed,h=this.clustering,{array:d,count:f}=tg([this.clusterField],n);n.forEach((t,e)=>{let n=0,i=0;uo(t.fx)&&uo(t.fy)&&(n=t.fx||.001,i=t.fy||.001),d[4*e+1]=n,d[4*e+2]=i});const p=n.length,{maxEdgePerVetex:g,array:v}=Kp(n,i);let m;m=this.workerEnabled?$p.create({canvas:t,engineOptions:{supportCompute:!0}}):$p.create({engineOptions:{supportCompute:!0}});const y=this.onLayoutEnd,b=[];for(let t=0;t<f;t++)b.push(0,0,0,0);const x=m.createKernel(ng).setDispatch([p,1,1]).setBinding({u_Data:v,u_K:u,u_K2:l,u_Gravity:this.gravity,u_ClusterGravity:this.clusterGravity||this.gravity||1,u_Speed:c,u_MaxDisplace:s,u_Clustering:h?1:0,u_Center:o,u_AttributeArray:d,u_ClusterCenters:b,MAX_EDGE_PER_VERTEX:g,VERTEX_COUNT:p});let w;h&&(w=m.createKernel(ig).setDispatch([f,1,1]).setBinding({u_Data:v,u_NodeAttributes:d,u_ClusterCenters:b,VERTEX_COUNT:p,CLUSTER_COUNT:f}));yield(()=>rg(this,void 0,void 0,function*(){for(let t=0;t<r;t++)yield x.execute(),h&&(w.setBinding({u_Data:x}),yield w.execute(),x.setBinding({u_ClusterCenters:w})),x.setBinding({u_MaxDisplace:s*=.99});const i=yield x.getOutput();t?e.postMessage({type:sa.GPUEND,vertexEdgeData:i}):n.forEach((t,e)=>{const n=i[4*e],r=i[4*e+1];t.x=n,t.y=r}),y&&y()}))()})}getType(){return"fruchterman-gpu"}}const ag='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',sg='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}';var lg=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})};class ug extends oo{constructor(t){super(),this.maxIteration=1e3,this.edgeStrength=200,this.nodeStrength=1e3,this.coulombDisScale=.005,this.damping=.9,this.maxSpeed=1e3,this.minMovement=.5,this.interval=.02,this.factor=1,this.linkDistance=1,this.gravity=10,this.workerEnabled=!1,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(t)}getDefaultCfg(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}}execute(){return lg(this,void 0,void 0,function*(){const t=this,e=t.nodes;if(!e||0===e.length)return void(t.onLayoutEnd&&t.onLayoutEnd());t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);const n=t.center;if(1===e.length)return e[0].x=n[0],e[0].y=n[1],void(t.onLayoutEnd&&t.onLayoutEnd());const i={},r={};e.forEach((e,n)=>{uo(e.x)||(e.x=Math.random()*t.width),uo(e.y)||(e.y=Math.random()*t.height),i[e.id]=e,r[e.id]=n}),t.nodeMap=i,t.nodeIdxMap=r,t.nodeStrength=Xp(t.nodeStrength,1),t.edgeStrength=Xp(t.edgeStrength,1),yield t.run()})}executeWithWorker(t,e){const n=this,i=n.nodes,r=n.center;if(!i||0===i.length)return;if(1===i.length)return i[0].x=r[0],void(i[0].y=r[1]);const o={},a={};i.forEach((t,e)=>{uo(t.x)||(t.x=Math.random()*n.width),uo(t.y)||(t.y=Math.random()*n.height),o[t.id]=t,a[t.id]=e}),n.nodeMap=o,n.nodeIdxMap=a,n.nodeStrength=Xp(n.nodeStrength,1),n.edgeStrength=Xp(n.edgeStrength,1),n.run(t,e)}run(t,e){return lg(this,void 0,void 0,function*(){const n=this,i=n.nodes,r=n.edges,o=n.maxIteration;n.width||"undefined"==typeof window||(n.width=window.innerWidth),n.height||"undefined"==typeof window||(n.height=window.innerHeight);const a=i.length;n.linkDistance=Xp(n.linkDistance),n.edgeStrength=Xp(n.edgeStrength);const{maxEdgePerVetex:s,array:l}=qp(i,r,n.linkDistance,n.edgeStrength);n.degrees=go(i.length,n.nodeIdxMap,r);const u=[],c=[],h=[],d=[],f=[],p=[],g=[];n.getMass||(n.getMass=(t=>n.degrees[n.nodeIdxMap[t.id]]||1));const v=n.gravity,m=n.center;i.forEach((t,e)=>{u.push(n.getMass(t)),c.push(n.nodeStrength(t)),n.degrees[e]||(n.degrees[e]=0);let i=[m[0],m[1],v];if(n.getCenter){const r=n.getCenter(t,n.degrees[e]);r&&uo(r[0])&&uo(r[1])&&uo(r[2])&&(i=r)}h.push(i[0]),d.push(i[1]),f.push(i[2]),uo(t.fx)&&uo(t.fy)?(p.push(t.fx||.001),g.push(t.fy||.001)):(p.push(0),g.push(0))});const y=eg([u,n.degrees,c,p]),b=eg([h,d,f,g]);let x;x=n.workerEnabled?$p.create({canvas:t,engineOptions:{supportCompute:!0}}):$p.create({engineOptions:{supportCompute:!0}});const w=n.onLayoutEnd,_=[];l.forEach(t=>{_.push(t)});for(let t=0;t<4;t++)_.push(0);const S=x.createKernel(ag).setDispatch([a,1,1]).setBinding({u_Data:l,u_damping:n.damping,u_maxSpeed:n.maxSpeed,u_minMovement:n.minMovement,u_coulombDisScale:n.coulombDisScale,u_factor:n.factor,u_NodeAttributeArray1:y,u_NodeAttributeArray2:b,MAX_EDGE_PER_VERTEX:s,VERTEX_COUNT:a,u_AveMovement:_,u_interval:n.interval}),M=x.createKernel(sg).setDispatch([1,1,1]).setBinding({u_Data:l,VERTEX_COUNT:a,u_AveMovement:[0,0,0,0]});yield(()=>lg(this,void 0,void 0,function*(){for(let t=0;t<o;t++){yield S.execute(),M.setBinding({u_Data:S}),yield M.execute();const e=Math.max(.02,n.interval-.002*t);S.setBinding({u_interval:e,u_AveMovement:M})}const r=yield S.getOutput();t?e.postMessage({type:sa.GPUEND,vertexEdgeData:r}):i.forEach((t,e)=>{const n=r[4*e],i=r[4*e+1];t.x=n,t.y=i}),w&&w()}))()})}getType(){return"gForce-gpu"}}class cg extends oo{constructor(t){super(),this.center=[0,0],this.maxIteration=100,this.gravity=10,this.comboGravity=10,this.linkDistance=10,this.alpha=1,this.alphaMin=.001,this.alphaDecay=1-Math.pow(this.alphaMin,1/300),this.alphaTarget=0,this.velocityDecay=.6,this.edgeStrength=.6,this.nodeStrength=30,this.preventOverlap=!1,this.preventNodeOverlap=!1,this.preventComboOverlap=!1,this.collideStrength=void 0,this.nodeCollideStrength=.5,this.comboCollideStrength=.5,this.comboSpacing=20,this.comboPadding=10,this.optimizeRangeFactor=1,this.onTick=(()=>{}),this.onLayoutEnd=(()=>{}),this.depthAttractiveForceScale=1,this.depthRepulsiveForceScale=2,this.nodes=[],this.edges=[],this.combos=[],this.comboTrees=[],this.width=300,this.height=300,this.bias=[],this.nodeMap={},this.oriComboMap={},this.indexMap={},this.comboMap={},this.previousLayouted=!1,this.updateCfg(t)}getDefaultCfg(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}}execute(){const t=this,e=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},e&&0!==e.length){if(1===e.length)return e[0].x=n[0],e[0].y=n[1],void(t.onLayoutEnd&&t.onLayoutEnd());t.initVals(),t.run(),t.onLayoutEnd&&t.onLayoutEnd()}else t.onLayoutEnd&&t.onLayoutEnd()}run(){const t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);const i=t.center,r=t.velocityDecay,o=t.comboMap;t.previousLayouted||t.initPos(o);for(let i=0;i<n;i++){const n=[];e.forEach((t,e)=>{n[e]={x:0,y:0}}),t.applyCalculate(n),t.applyComboCenterForce(n),e.forEach((t,e)=>{uo(t.x)&&uo(t.y)&&(t.x+=n[e].x*r,t.y+=n[e].y*r)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()}const a=[0,0];e.forEach(t=>{uo(t.x)&&uo(t.y)&&(a[0]+=t.x,a[1]+=t.y)}),a[0]/=e.length,a[1]/=e.length;const s=[i[0]-a[0],i[1]-a[1]];e.forEach((t,e)=>{uo(t.x)&&uo(t.y)&&(t.x+=s[0],t.y+=s[1])}),t.combos.forEach(t=>{const e=o[t.id];e&&e.empty&&(t.x=e.cx||t.x,t.y=e.cy||t.y)}),t.previousLayouted=!0}initVals(){const t=this,e=t.edges,n=t.nodes,i=t.combos,r={},o={},a={};n.forEach((t,e)=>{o[t.id]=t,a[t.id]=e}),t.nodeMap=o,t.indexMap=a;const s={};i.forEach(t=>{s[t.id]=t}),t.oriComboMap=s,t.comboMap=t.getComboMap();const l=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||l,t.preventNodeOverlap=t.preventNodeOverlap||l;const u=t.collideStrength;u&&(t.comboCollideStrength=u,t.nodeCollideStrength=u),t.comboCollideStrength=t.comboCollideStrength?t.comboCollideStrength:0,t.nodeCollideStrength=t.nodeCollideStrength?t.nodeCollideStrength:0;for(let t=0;t<e.length;++t){const n=po(e[t],"source"),i=po(e[t],"target");r[n]?r[n]++:r[n]=1,r[i]?r[i]++:r[i]=1}const c=[];for(let t=0;t<e.length;++t){const n=po(e[t],"source"),i=po(e[t],"target");c[t]=r[n]/(r[n]+r[i])}this.bias=c;const h=t.nodeSize,d=t.nodeSpacing;let f,p;if(p=uo(d)?()=>d:wo(d)?d:()=>0,this.nodeSpacing=p,h)if(wo(h))f=(t=>h(t));else if(lo(h)){const t=(h[0]>h[1]?h[0]:h[1])/2;f=(e=>t)}else{const t=h/2;f=(e=>t)}else f=(t=>{if(t.size){if(lo(t.size)){return(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2}if(ho(t.size)){return(t.size.width>t.size.height?t.size.width:t.size.height)/2}return t.size/2}return 10});this.nodeSize=f;const g=t.comboSpacing;let v;v=uo(g)?()=>g:wo(g)?g:()=>0,this.comboSpacing=v;const m=t.comboPadding;let y;y=uo(m)?()=>m:lo(m)?()=>Math.max.apply(null,m):wo(m)?m:()=>0,this.comboPadding=y;let b,x=this.linkDistance;x||(x=10),b=uo(x)?t=>x:x,this.linkDistance=b;let w,_=this.edgeStrength;_||(_=1),w=uo(_)?t=>_:_,this.edgeStrength=w;let S,M=this.nodeStrength;M||(M=30),S=uo(M)?t=>M:M,this.nodeStrength=S}initPos(t){this.nodes.forEach((e,n)=>{const i=e.comboId,r=t[i];i&&r?(e.x=r.cx+100/(n+1),e.y=r.cy+100/(n+1)):(e.x=100/(n+1),e.y=100/(n+1))})}getComboMap(){const t=this,e=t.nodeMap,n=t.comboTrees,i=t.oriComboMap,r={};return(n||[]).forEach(n=>{const o=[];xo(n,n=>{if("node"===n.itemType)return!0;if(!i[n.id])return!0;if(void 0===r[n.id]){const e={id:n.id,name:n.id,cx:0,cy:0,count:0,depth:t.oriComboMap[n.id].depth||0,children:[]};r[n.id]=e}const a=n.children;a&&a.forEach(t=>{if(!r[t.id]&&!e[t.id])return!0;o.push(t)});const s=r[n.id];if(s.cx=0,s.cy=0,0===o.length){s.empty=!0;const t=i[n.id];s.cx=t.x,s.cy=t.y}return o.forEach(t=>{if(s.count++,"node"!==t.itemType){const e=r[t.id];return uo(e.cx)&&(s.cx+=e.cx),void(uo(e.cy)&&(s.cy+=e.cy))}const n=e[t.id];n&&(uo(n.x)&&(s.cx+=n.x),uo(n.y)&&(s.cy+=n.y))}),s.cx/=s.count||1,s.cy/=s.count||1,s.children=o,!0})}),r}applyComboCenterForce(t){const e=this.gravity,n=this.comboGravity||e,i=this.alpha,r=this.comboTrees,o=this.indexMap,a=this.nodeMap,s=this.comboMap;(r||[]).forEach(e=>{xo(e,e=>{if("node"===e.itemType)return!0;if(!s[e.id])return!0;const r=s[e.id],l=(r.depth+1)/10*.5,u=r.cx,c=r.cy;return r.cx=0,r.cy=0,r.children.forEach(e=>{if("node"!==e.itemType){const t=s[e.id];return t&&uo(t.cx)&&(r.cx+=t.cx),void(t&&uo(t.cy)&&(r.cy+=t.cy))}const h=a[e.id],d=h.x-u||.005,f=h.y-c||.005,p=Math.sqrt(d*d+f*f),g=o[h.id],v=n*i/p*l;t[g].x-=d*v,t[g].y-=f*v,uo(h.x)&&(r.cx+=h.x),uo(h.y)&&(r.cy+=h.y)}),r.cx/=r.count||1,r.cy/=r.count||1,!0})})}applyCalculate(t){const e=this.comboMap,n=this.nodes,i={};n.forEach((t,e)=>{n.forEach((n,r)=>{if(e<r)return;const o=t.x-n.x||.005,a=t.y-n.y||.005;let s=o*o+a*a;const l=Math.sqrt(s);s<1&&(s=l),i[`${t.id}-${n.id}`]={vx:o,vy:a,vl2:s,vl:l},i[`${n.id}-${t.id}`]={vl2:s,vl:l,vx:-o,vy:-a}})}),this.updateComboSizes(e),this.calRepulsive(t,i),this.calAttractive(t,i),this.preventComboOverlap&&this.comboNonOverlapping(t,e)}updateComboSizes(t){const e=this,n=e.comboTrees,i=e.nodeMap,r=e.nodeSize,o=e.comboSpacing,a=e.comboPadding;(n||[]).forEach(n=>{const s=[];xo(n,n=>{if("node"===n.itemType)return!0;const l=t[n.id];if(!l)return!1;const u=n.children;u&&u.forEach(e=>{(t[e.id]||i[e.id])&&s.push(e)}),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0,s.forEach(t=>{if("node"!==t.itemType)return!0;const e=i[t.id];if(!e)return!0;const n=r(e),o=e.x-n,a=e.y-n,s=e.x+n,u=e.y+n;l.minX>o&&(l.minX=o),l.minY>a&&(l.minY=a),l.maxX<s&&(l.maxX=s),l.maxY<u&&(l.maxY=u)});let c=e.oriComboMap[n.id].size||10;lo(c)&&(c=c[0]);const h=Math.max(l.maxX-l.minX,l.maxY-l.minY,c);return l.r=h/2+o(l)/2+a(l),!0})})}comboNonOverlapping(t,e){const n=this.comboTree,i=this.comboCollideStrength,r=this.indexMap,o=this.nodeMap;xo(n,n=>{if(!e[n.id]&&!o[n.id]&&"comboTreeRoot"!==n.id)return!1;const a=n.children;return a&&a.length>1&&a.forEach((n,s)=>{if("node"===n.itemType)return!1;const l=e[n.id];l&&a.forEach((a,u)=>{if(s<=u)return!1;if("node"===a.itemType)return!1;const c=e[a.id];if(!c)return!1;const h=l.cx-c.cx||.005,d=l.cy-c.cy||.005,f=h*h+d*d,p=l.r||1,g=c.r||1,v=p+g,m=g*g,y=p*p;if(f<v*v){const e=n.children;if(!e||0===e.length)return!1;const s=a.children;if(!s||0===s.length)return!1;const l=Math.sqrt(f),u=(v-l)/l*i,c=h*u,p=d*u,g=m/(y+m),b=1-g;e.forEach(e=>{if("node"!==e.itemType)return!1;if(!o[e.id])return;const n=r[e.id];s.forEach(e=>{if("node"!==e.itemType)return!1;if(!o[e.id])return!1;const i=r[e.id];t[n].x+=c*g,t[n].y+=p*g,t[i].x-=c*b,t[i].y-=p*b})})}})}),!0})}calRepulsive(t,e){const n=this,i=n.nodes,r=n.width*n.optimizeRangeFactor,o=n.nodeStrength,a=n.alpha,s=n.nodeCollideStrength,l=n.preventNodeOverlap,u=n.nodeSize,c=n.nodeSpacing,h=n.depthRepulsiveForceScale,d=n.center;i.forEach((f,p)=>{if(f.x&&f.y){if(d){const e=n.gravity,i=f.x-d[0]||.005,r=f.y-d[1]||.005,o=Math.sqrt(i*i+r*r);t[p].x-=i*e*a/o,t[p].y-=r*e*a/o}i.forEach((n,i)=>{if(p===i)return;if(!n.x||!n.y)return;const{vl2:d,vl:g}=e[`${f.id}-${n.id}`];if(g>r)return;const{vx:v,vy:m}=e[`${f.id}-${n.id}`];let y=Math.log(Math.abs(n.depth-f.depth)/10)+1||1;y=y<1?1:y,n.comboId!==f.comboId&&(y+=1);const b=y?Math.pow(h,y):1,x=o(n)*a/d*b;if(t[p].x+=v*x,t[p].y+=m*x,p<i&&l){const e=u(f)+c(f)||1,r=u(n)+c(n)||1,o=e+r;if(d<o*o){const n=(o-g)/g*s,a=r*r;let l=a/(e*e+a);const u=v*n,c=m*n;t[p].x+=u*l,t[p].y+=c*l,l=1-l,t[i].x-=u*l,t[i].y-=c*l}}})}})}calAttractive(t,e){const n=this,i=n.edges,r=n.linkDistance,o=n.alpha,a=n.edgeStrength,s=n.bias,l=n.depthAttractiveForceScale;i.forEach((i,u)=>{const c=po(i,"source"),h=po(i,"target");if(!c||!h||c===h)return;const d=n.indexMap[c],f=n.indexMap[h],p=n.nodeMap[c],g=n.nodeMap[h];if(!p||!g)return;let v=p.depth===g.depth?0:Math.log(Math.abs(p.depth-g.depth)/10);p.comboId===g.comboId&&(v/=2);let m=v?Math.pow(l,v):1;if(p.comboId!==g.comboId&&1===m?m=l/2:p.comboId===g.comboId&&(m=2),!(uo(g.x)&&uo(p.x)&&uo(g.y)&&uo(p.y)))return;const{vl:y,vx:b,vy:x}=e[`${h}-${c}`],w=(y-r(i))/y*o*a(i)*m,_=b*w,S=x*w,M=s[u];t[f].x-=_*M,t[f].y-=S*M,t[d].x+=_*(1-M),t[d].y+=S*(1-M)})}getType(){return"comboForce"}}class hg{constructor(t){this.id=t.id||0,this.rx=t.rx,this.ry=t.ry,this.fx=0,this.fy=0,this.mass=t.mass,this.degree=t.degree,this.g=t.g||0}distanceTo(t){const e=this.rx-t.rx,n=this.ry-t.ry;return Math.hypot(e,n)}setPos(t,e){this.rx=t,this.ry=e}resetForce(){this.fx=0,this.fy=0}addForce(t){const e=t.rx-this.rx,n=t.ry-this.ry;let i=Math.hypot(e,n);i=i<1e-4?1e-4:i;const r=this.g*(this.degree+1)*(t.degree+1)/i;this.fx+=r*e/i,this.fy+=r*n/i}in(t){return t.contains(this.rx,this.ry)}add(t){const e=this.mass+t.mass,n=(this.rx*this.mass+t.rx*t.mass)/e,i=(this.ry*this.mass+t.ry*t.mass)/e,r=this.degree+t.degree;return new hg({rx:n,ry:i,mass:e,degree:r})}}class dg{constructor(t){this.xmid=t.xmid,this.ymid=t.ymid,this.length=t.length,this.massCenter=t.massCenter||[0,0],this.mass=t.mass||1}getLength(){return this.length}contains(t,e){const n=this.length/2;return t<=this.xmid+n&&t>=this.xmid-n&&e<=this.ymid+n&&e>=this.ymid-n}NW(){const t=this.xmid-this.length/4,e=this.ymid+this.length/4,n=this.length/2;return new dg({xmid:t,ymid:e,length:n})}NE(){const t=this.xmid+this.length/4,e=this.ymid+this.length/4,n=this.length/2;return new dg({xmid:t,ymid:e,length:n})}SW(){const t=this.xmid-this.length/4,e=this.ymid-this.length/4,n=this.length/2;return new dg({xmid:t,ymid:e,length:n})}SE(){const t=this.xmid+this.length/4,e=this.ymid-this.length/4,n=this.length/2;return new dg({xmid:t,ymid:e,length:n})}}class fg{constructor(t){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=t&&(this.quad=t)}insert(t){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new fg(this.quad.NW()),this.NE=new fg(this.quad.NE()),this.SW=new fg(this.quad.SW()),this.SE=new fg(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t)):this.body=t}_putBody(t){this.quad&&(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))}_isExternal(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE}updateForce(t){if(null!=this.body&&t!==this.body)if(this._isExternal())t.addForce(this.body);else{(this.quad?this.quad.getLength():0)/this.body.distanceTo(t)<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t))}}}class pg extends oo{constructor(t){super(),this.center=[0,0],this.width=300,this.height=300,this.nodes=[],this.edges=[],this.kr=5,this.kg=1,this.mode="normal",this.preventOverlap=!1,this.dissuadeHubs=!1,this.barnesHut=void 0,this.maxIteration=0,this.ks=.1,this.ksmax=10,this.tao=.1,this.onLayoutEnd=(()=>{}),this.prune=void 0,this.updateCfg(t)}getDefaultCfg(){return{}}execute(){const t=this,{nodes:e,onLayoutEnd:n,prune:i}=t;let r=t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);const o=[],a=e.length;for(let n=0;n<a;n+=1){const i=e[n];let r=10,a=10;uo(i.size)&&(r=i.size,a=i.size),lo(i.size)?(isNaN(i.size[0])||(r=i.size[0]),isNaN(i.size[1])||(a=i.size[1])):ho(i.size)&&(r=i.size.width,a=i.size.height),t.getWidth&&!isNaN(t.getWidth(i))&&(a=t.getWidth(i)),t.getHeight&&!isNaN(t.getHeight(i))&&(r=t.getHeight(i));const s=Math.max(r,a);o.push(s)}void 0===t.barnesHut&&a>250&&(t.barnesHut=!0),void 0===t.prune&&a>100&&(t.prune=!0),0!==this.maxIteration||t.prune?0===this.maxIteration&&i&&(r=100,a<=200&&a>100?r=500:a>200&&(r=950),this.maxIteration=r):(r=250,a<=200&&a>100?r=1e3:a>200&&(r=1200),this.maxIteration=r),t.kr||(t.kr=50,a>100&&a<=500?t.kr=20:a>500&&(t.kr=1)),t.kg||(t.kg=20,a>100&&a<=500?t.kg=10:a>500&&(t.kg=1)),this.nodes=t.updateNodesByForces(o),n()}updateNodesByForces(t){const e=this,{edges:n,maxIteration:i}=e;let r=e.nodes;const o=n.filter(t=>{return po(t,"source")!==po(t,"target")}),a=r.length,s=o.length,l=[],u={},c={},h=[];for(let t=0;t<a;t+=1)u[r[t].id]=t,l[t]=0,(void 0===r[t].x||isNaN(r[t].x))&&(r[t].x=1e3*Math.random()),(void 0===r[t].y||isNaN(r[t].y))&&(r[t].y=1e3*Math.random()),h.push({x:r[t].x,y:r[t].y});for(let t=0;t<s;t+=1){let e,n,i=0,s=0;for(let l=0;l<a;l+=1){const a=po(o[t],"source"),u=po(o[t],"target");r[l].id===a?(e=r[l],i=l):r[l].id===u&&(n=r[l],s=l),c[t]={sourceIdx:i,targetIdx:s}}e&&(l[u[e.id]]+=1),n&&(l[u[n.id]]+=1)}let d=i;if(r=this.iterate(d,u,c,s,l,t),e.prune){for(let t=0;t<s;t+=1)l[c[t].sourceIdx]<=1?(r[c[t].sourceIdx].x=r[c[t].targetIdx].x,r[c[t].sourceIdx].y=r[c[t].targetIdx].y):l[c[t].targetIdx]<=1&&(r[c[t].targetIdx].x=r[c[t].sourceIdx].x,r[c[t].targetIdx].y=r[c[t].sourceIdx].y);e.prune=!1,e.barnesHut=!1,d=100,r=this.iterate(d,u,c,s,l,t)}return r}iterate(t,e,n,i,r,o){const a=this;let{nodes:s}=a;const{kr:l,preventOverlap:u}=a,{barnesHut:c}=a,h=s.length;let d=0;let f=t;let p=[];const g=[],v=[];for(let t=0;t<h;t+=1)if(p[2*t]=0,p[2*t+1]=0,c){const e={id:t,rx:s[t].x,ry:s[t].y,mass:1,g:l,degree:r[t]};v[t]=new hg(e)}for(;f>0;){for(let t=0;t<h;t+=1)g[2*t]=p[2*t],g[2*t+1]=p[2*t+1],p[2*t]=0,p[2*t+1]=0;p=this.getAttrForces(f,50,i,e,n,r,o,p),p=c&&(u&&f>50||!u)?this.getOptRepGraForces(p,v,r):this.getRepGraForces(f,50,p,100,o,r);const t=this.updatePos(p,g,d,r);s=t.nodes,d=t.sg,f--,a.tick&&a.tick()}return s}getAttrForces(t,e,n,i,r,o,a,s){const{nodes:l,preventOverlap:u,dissuadeHubs:c,mode:h,prune:d}=this;for(let f=0;f<n;f+=1){const n=l[r[f].sourceIdx],p=r[f].sourceIdx,g=l[r[f].targetIdx],v=r[f].targetIdx;if(d&&(o[p]<=1||o[v]<=1))continue;const m=[g.x-n.x,g.y-n.y];let y=Math.hypot(m[0],m[1]);y=y<1e-4?1e-4:y,m[0]=m[0]/y,m[1]=m[1]/y,u&&t<e&&(y=y-a[p]-a[v]);let b=y,x=b;"linlog"===h&&(x=b=Math.log(1+y)),c&&(b=y/o[p],x=y/o[v]),u&&t<e&&y<=0?(b=0,x=0):u&&t<e&&y>0&&(b=y,x=y),s[2*i[n.id]]+=b*m[0],s[2*i[g.id]]-=x*m[0],s[2*i[n.id]+1]+=b*m[1],s[2*i[g.id]+1]-=x*m[1]}return s}getRepGraForces(t,e,n,i,r,o){const{nodes:a,preventOverlap:s,kr:l,kg:u,center:c,prune:h}=this,d=a.length;for(let f=0;f<d;f+=1){for(let u=f+1;u<d;u+=1){if(h&&(o[f]<=1||o[u]<=1))continue;const c=[a[u].x-a[f].x,a[u].y-a[f].y];let d=Math.hypot(c[0],c[1]);d=d<1e-4?1e-4:d,c[0]=c[0]/d,c[1]=c[1]/d,s&&t<e&&(d=d-r[f]-r[u]);let p=l*(o[f]+1)*(o[u]+1)/d;s&&t<e&&d<0?p=i*(o[f]+1)*(o[u]+1):s&&t<e&&0===d?p=0:s&&t<e&&d>0&&(p=l*(o[f]+1)*(o[u]+1)/d),n[2*f]-=p*c[0],n[2*u]+=p*c[0],n[2*f+1]-=p*c[1],n[2*u+1]+=p*c[1]}const p=[a[f].x-c[0],a[f].y-c[1]],g=Math.hypot(p[0],p[1]);p[0]=p[0]/g,p[1]=p[1]/g;const v=u*(o[f]+1);n[2*f]-=v*p[0],n[2*f+1]-=v*p[1]}return n}getOptRepGraForces(t,e,n){const{nodes:i,kg:r,center:o,prune:a}=this,s=i.length;let l=9e10,u=-9e10,c=9e10,h=-9e10;for(let t=0;t<s;t+=1)a&&n[t]<=1||(e[t].setPos(i[t].x,i[t].y),i[t].x>=u&&(u=i[t].x),i[t].x<=l&&(l=i[t].x),i[t].y>=h&&(h=i[t].y),i[t].y<=c&&(c=i[t].y));const d=Math.max(u-l,h-c),f=new dg({xmid:(u+l)/2,ymid:(h+c)/2,length:d,massCenter:o,mass:s}),p=new fg(f);for(let t=0;t<s;t+=1)a&&n[t]<=1||e[t].in(f)&&p.insert(e[t]);for(let l=0;l<s;l+=1){if(a&&n[l]<=1)continue;e[l].resetForce(),p.updateForce(e[l]),t[2*l]-=e[l].fx,t[2*l+1]-=e[l].fy;const s=[i[l].x-o[0],i[l].y-o[1]];let u=Math.hypot(s[0],s[1]);u=u<1e-4?1e-4:u,s[0]=s[0]/u,s[1]=s[1]/u;const c=r*(n[l]+1);t[2*l]-=c*s[0],t[2*l+1]-=c*s[1]}return t}updatePos(t,e,n,i){const{nodes:r,ks:o,tao:a,prune:s,ksmax:l}=this,u=r.length,c=[],h=[];let d=0,f=0;for(let n=0;n<u;n+=1){if(s&&i[n]<=1)continue;const r=[t[2*n]-e[2*n],t[2*n+1]-e[2*n+1]],o=Math.hypot(r[0],r[1]),a=[t[2*n]+e[2*n],t[2*n+1]+e[2*n+1]],l=Math.hypot(a[0],a[1]);c[n]=o,h[n]=l/2,d+=(i[n]+1)*c[n],f+=(i[n]+1)*h[n]}const p=n;n=a*f/d,0!==p&&(n=n>1.5*p?1.5*p:n);for(let e=0;e<u;e+=1){if(s&&i[e]<=1)continue;let a=o*n/(1+n*Math.sqrt(c[e])),u=Math.hypot(t[2*e],t[2*e+1]);const h=l/(u=u<1e-4?1e-4:u),d=(a=a>h?h:a)*t[2*e],f=a*t[2*e+1];r[e].x+=d,r[e].y+=f}return{nodes:r,sg:n}}}class gg{constructor(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}init(t,e,n){this.cells=[],this.CELL_W=n.CELL_W||gg.DEFAULT_CELL_W,this.CELL_H=n.CELL_H||gg.DEFAULT_CELL_H,this.columnNum=Math.ceil(t/this.CELL_W),this.rowNum=Math.ceil(e/this.CELL_H),gg.MIN_DIST=Math.pow(t,2)+Math.pow(e,2);for(let t=0;t<this.columnNum;t++){const e=[];for(let n=0;n<this.rowNum;n++){const i={dx:t,dy:n,x:t*this.CELL_W,y:n*this.CELL_H,occupied:!1};e.push(i)}this.cells.push(e)}}findGridByNodeId(t){var e,n;for(let i=0;i<this.columnNum;i++)for(let r=0;r<this.rowNum;r++)if(this.cells[i][r].node&&(null===(n=null===(e=this.cells[i][r])||void 0===e?void 0:e.node)||void 0===n?void 0:n.id)===t)return{column:i,row:r};return null}sqdist(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}occupyNearest(t){let e,n=gg.MIN_DIST,i=null;for(let r=0;r<this.columnNum;r++)for(let o=0;o<this.rowNum;o++)!this.cells[r][o].occupied&&(e=this.sqdist(t,this.cells[r][o]))<n&&(n=e,i=this.cells[r][o]);return i&&(i.occupied=!0),i}insertColumn(t,e){if(!(e<=0)){for(let t=0;t<e;t++){this.cells[t+this.columnNum]=[];for(let e=0;e<this.rowNum;e++)this.cells[t+this.columnNum][e]={dx:t,dy:e,x:t*this.CELL_W,y:e*this.CELL_H,occupied:!1,node:null}}for(let n=this.columnNum-1;n>t;n--)for(let t=0;t<this.rowNum;t++)this.cells[n+e][t]=Object.assign(Object.assign({},this.cells[n][t]),{x:(n+e)*this.CELL_W,y:t*this.CELL_H}),this.cells[n][t]={x:n*this.CELL_W,y:t*this.CELL_H,occupied:!0,node:null};for(let n=0;n<this.additionColumn.length;n++)this.additionColumn[n]>=t&&(this.additionColumn[n]+=e);for(let n=0;n<e;n++)this.additionColumn.push(t+n+1);this.columnNum+=e}}insertRow(t,e){if(!(e<=0)){for(let t=0;t<e;t++)for(let e=0;e<this.columnNum;e++)this.cells[e][t+this.rowNum]={dx:e,dy:t,x:e*this.CELL_W,y:t*this.CELL_H,occupied:!1,node:null};for(let n=0;n<this.columnNum;n++)for(let i=this.rowNum-1;i>t;i--)this.cells[n][i+e]=Object.assign(Object.assign({},this.cells[n][i]),{dx:n,dy:i+e,x:n*this.CELL_W,y:(i+e)*this.CELL_H}),this.cells[n][i]={dx:n,dy:i,x:n*this.CELL_W,y:i*this.CELL_H,occupied:!1,node:null};for(let n=0;n<this.additionRow.length;n++)this.additionRow[n]>=t&&(this.additionRow[n]+=e);for(let n=0;n<e;n++)this.additionRow.push(t+n+1);this.rowNum+=e}}getNodes(){const t=[];for(let e=0;e<this.columnNum;e++)for(let n=0;n<this.rowNum;n++)this.cells[e][n].node&&t.push(this.cells[e][n]);return t}}gg.MIN_DIST=50,gg.DEFAULT_CELL_W=80,gg.DEFAULT_CELL_H=80;const vg=1200,mg=800,yg=1e7,bg=10,xg=3.141592653589793,wg=1.5707963267948966,_g=.375*xg,Sg=.625*xg,Mg=new Map,Cg=10,Ig=10;let kg=.8;const Tg=.1,Og=.5;function Eg(t,e){const n=(Mg.get(t.id)||[]).find(t=>t.source===e.id||t.target===e.id),i=t.size[0]*t.size[1],r=e.size[0]*e.size[1],o=i>r?e:t,a=i>r?t:e,s=o.x-o.size[0]/2,l=o.y-o.size[1]/2,u=o.x+o.size[0]/2,c=o.y+o.size[1]/2,h=a.x-a.size[0]/2,d=a.y-a.size[1]/2,f=a.x+a.size[0]/2,p=a.y+a.size[1]/2,g=o.x,v=o.y,m=a.x,y=a.y;let b=0,x=0;if(u>=h&&f>=s&&c>=d&&p>=l){0===(x=Math.sqrt(Math.pow(m-g,2)+Math.pow(y-v,2)))&&(x=1e-7),b=1*bg/x*100+((u<f?u:f)-(s>h?s:h))*((c<p?c:p)-(l>d?l:d)),b*=yg}else{let t=!1;const e=function(t,e,n){const i=t.x-t.size[0]/2,r=t.y-t.size[1]/2,o=t.x+t.size[0]/2,a=t.y+t.size[1]/2,s=e.x-e.size[0]/2,l=e.y-e.size[1]/2,u=e.x+e.size[0]/2,c=e.y+e.size[1]/2,h=t.x,d=t.y,f=e.x,p=e.y,g=f-h,v=Math.atan2(g,p-d);let m=0,y=0,b=0,x=0;v>wg?(y=r-c,m=s-o,b=parseFloat(y?(y/Math.cos(v)).toFixed(2):m.toFixed(2)),x=parseFloat(m?(m/Math.sin(v)).toFixed(2):y.toFixed(2))):b=x=0<v&&v<=wg?(y=l-a)>(m=s-o)?parseFloat(y?(y/Math.cos(v)).toFixed(2):m.toFixed(2)):parseFloat(m?(m/Math.sin(v)).toFixed(2):y.toFixed(2)):v<-wg?(y=r-c)>(m=-(u-i))?parseFloat(y?(y/Math.cos(v)).toFixed(2):m.toFixed(2)):parseFloat(m?(m/Math.sin(v)).toFixed(2):y.toFixed(2)):(y=l-a)>(m=Math.abs(g)>(o-i)/2?i-u:g)?parseFloat(y?(y/Math.cos(v)).toFixed(2):m.toFixed(2)):parseFloat(m&&0!==v?(m/Math.sin(v)).toFixed(2):y.toFixed(2));const w=parseFloat(v.toFixed(2));let _=n;return n&&(_=_g<w&&w<Sg),{distance:Math.abs(b<x?b:x),isHoriz:_}}(o,a,t);x=e.distance,t=e.isHoriz,x<=bg?b+=0!==x?n?bg+1*yg/x:bg+yg*bg/x:yg:(b+=x,n&&(b+=x*x))}return b}function Ag(t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];(i.x<0||i.y<0||i.x>vg||i.y>mg)&&(e+=1e12);for(let r=n+1;r<t.length;r++)e+=Eg(i,t[r])}return e}function Ng(t,e,n,i){const r=new Map;n.forEach((t,e)=>{r.set(t.id,t)});const o=[];(i.filter(e=>e.source===t.id||e.target===t.id)||[]).forEach(e=>{const n=e.source===t.id?e.target:e.source,i=r.get(n);i&&o.push(i)});let a=!0;for(let n=0;n<o.length;n++){const i=o[n],r=180*Math.atan((t.y-i.y)/(i.x-t.y)),s=180*Math.atan((e.y-i.y)/(i.x-e.y));if((r<30||r>150)&&!(s<30||s>150)||r*s<0){a=!1;break}if(r>70&&r<110&&!(s>70&&s<110)||r*s<0){a=!1;break}if((i.x-t.x)*(i.x-e.x)<0){a=!1;break}if((i.y-t.y)*(i.y-e.y)<0){a=!1;break}}return a}function Lg(t,e){let n=!1;const i=1*Cg,r=1*Ig,o=[i,-i,0,0],a=[0,0,r,-r];for(let i=0;i<t.length;++i){const r=t[i];let s=Dg(r,t);for(let i=0;i<o.length;i++){if(Ng(r,{x:r.x+o[i],y:r.y+a[i]},t,e)){r.x+=o[i],r.y+=a[i];const e=Dg(r,t),l=Math.random();e<s?(s=e,n=!0):l<kg&&l>Tg?(s=e,n=!0):(r.x-=o[i],r.y-=a[i])}}}return kg>Tg&&(kg*=Og),n?Ag(t):0}function Dg(t,e){let n=0;(t.x<0||t.y<0||t.x+t.size[0]+20>vg||t.y+t.size[1]+20>mg)&&(n+=1e12);for(let i=0;i<e.length;++i)t.id!==e[i].id&&(n+=Eg(t,e[i]));return n}var jg=function(t,e){if(0===t.length)return{nodes:t,edges:e};t.forEach(t=>{const n=e.filter(e=>e.source===t.id||e.target===t.id);Mg.set(t,n)}),t.sort((t,e)=>{var n,i;return(null===(n=Mg.get(t.id))||void 0===n?void 0:n.length)-(null===(i=Mg.get(e.id))||void 0===i?void 0:i.length)});let n=Ag(t),i=20,r=1,o=0,a=0;for(;i>0&&!(++a>=50);){const a=Lg(t,e);0!==a&&(o=a),r=o-n,n=o,0===r?--i:i=20}return t.forEach(t=>{t.x=t.x-t.size[0]/2,t.y=t.y-t.size[1]/2}),{nodes:t,edges:e}};function Pg(t,e){const{nodes:n,edges:i}=t,r=e.width,o=e.height;if(!(null===n||void 0===n?void 0:n.length))return Promise.resolve();const a=[];n.forEach(t=>{if(i.filter(e=>e.source===t.id||e.target===t.id).length>1){const e=Object.assign({},t);delete e.size,a.push(e)}});const s=[];i.forEach(t=>{const e=a.find(e=>e.id===t.source),n=a.find(e=>e.id===t.target);e&&n&&s.push(t)});const l=new Zl({type:"dagre",ranksep:e.nodeMinGap,nodesep:e.nodeMinGap}),{nodes:u}=l.layout({nodes:a,edges:s});n.forEach(t=>{const e=(u||[]).find(e=>e.id===t.id);t.x=(null===e||void 0===e?void 0:e.x)||r/2,t.y=(null===e||void 0===e?void 0:e.y)||o/2});const c=JSON.parse(JSON.stringify(n)),h=JSON.parse(JSON.stringify(i)),d=na().nodes(c).force("link",Ho(h).id(t=>t.id).distance(t=>{return s.find(e=>e.source===t.source&&e.target===t.target)?30:20})).force("charge",ia()).force("center",To(r/2,o/2)).force("x",ra(r/2)).force("y",oa(o/2)).alpha(.3).alphaDecay(.08).alphaMin(.001);return new Promise(t=>{d.on("end",()=>{n.forEach(t=>{const e=c.find(e=>e.id===t.id);e&&(t.x=e.x,t.y=e.y)});const a=Math.min(...n.map(t=>t.x)),s=Math.max(...n.map(t=>t.x)),l=Math.min(...n.map(t=>t.y)),u=Math.max(...n.map(t=>t.y)),h=r/(s-a),d=o/(u-l);n.forEach(t=>{void 0!==t.x&&h<1&&(t.x=(t.x-a)*h),void 0!==t.y&&d<1&&(t.y=(t.y-l)*d)}),n.forEach(t=>{t.sizeTemp=t.size,t.size=[10,10]}),jg(n,i),n.forEach(t=>{t.size=t.sizeTemp||[],delete t.sizeTemp}),function(t,e){if(!t.nodes||0===t.nodes.length)return t;const n=e.width,i=e.height,r=e.nodeMinGap;let o=1e4,a=1e4;t.nodes.forEach(t=>{const e=t.size[0]||50,n=t.size[1]||50;o=Math.min(e,o),a=Math.min(n,a)});const s=new gg;s.init(n,i,{CELL_H:a,CELL_W:o}),t.nodes.forEach(t=>{const e=s.occupyNearest(t);e&&(e.node={id:t.id,size:t.size},t.x=e.x,t.y=e.y,t.dx=e.dx,t.dy=e.dy)});for(let e=0;e<t.nodes.length;e++){const n=t.nodes[e],i=s.findGridByNodeId(n.id);if(!i)throw new Error("can not find node cell");const{column:l,row:u}=i;if(n.size[0]+r>o){const t=Math.ceil((n.size[0]+r)/o)-1;let e=t;for(let n=0;n<t&&(s.additionColumn.indexOf(l+n+1)>-1&&!s.cells[l+n+1][u].node);n++)e--;s.insertColumn(l,e)}if(n.size[1]+r>a){const t=Math.ceil((n.size[1]+r)/a)-1;let e=t;for(let n=0;n<t&&(s.additionRow.indexOf(u+n+1)>-1&&!s.cells[l][u+n+1].node);n++)e--;s.insertRow(u,e)}}for(let e=0;e<s.columnNum;e++)for(let n=0;n<s.rowNum;n++){const i=s.cells[e][n];if(i.node){const e=t.nodes.find(t=>{var e;return t.id===(null===(e=null===i||void 0===i?void 0:i.node)||void 0===e?void 0:e.id)});e&&(e.x=i.x+e.size[0]/2,e.y=i.y+e.size[1]/2)}}}({nodes:n,edges:i},e),t()})})}const Rg={force:la,fruchterman:Au,forceAtlas2:pg,gForce:ko,dagre:Zl,circular:ha,radial:ku,concentric:Tu,grid:Mo,mds:Ou,comboForce:cg,random:Co,"gForce-gpu":ug,"fruchterman-gpu":og,er:class extends oo{constructor(t){super(),this.width=300,this.height=300,this.nodeMinGap=50,this.onLayoutEnd=(()=>{}),t&&this.updateCfg(t)}getDefaultCfg(){return{width:300,height:300,nodeMinGap:50}}execute(){const t=this,e=t.nodes,n=t.edges;return null===e||void 0===e||e.forEach(t=>{t.size||(t.size=[50,50])}),Pg({nodes:e,edges:n},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then(()=>{t.onLayoutEnd&&t.onLayoutEnd()})}getType(){return"er"}}};var zg=n("Py8m"),Bg=n.n(zg),Fg=Ui.traverseTree,Gg=function(t,e){return t?pr(t)?function(e){return t}:t:function(t){return e||1}},Vg=function(t,e){var n=[],i=[],r={},o=0;for(o=0;o<t.length;o++){var a=t[o];r[a.id]=o,n.push(a.x),n.push(a.y),n.push(0),n.push(0),i.push([])}for(o=0;o<e.length;o++){var s=e[o];i[r[s.source]].push(r[s.target]),i[r[s.target]].push(r[s.source])}var l=0;for(o=0;o<t.length;o++){var u=n.length,c=i[o],h=c.length;n[4*o+2]=u,n[4*o+3]=c.length,l=Math.max(l,c.length);for(var d=0;d<h;++d){var f=c[d];n.push(+f)}}for(;n.length%4!=0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:l}},Wg=function(t,e,n){var i=[],r=[],o={},a=0;for(a=0;a<t.length;a++){var s=t[a];o[s.id]=a,i.push(s.x),i.push(s.y),i.push(0),i.push(0),r.push([])}for(a=0;a<e.length;a++){var l=e[a];r[o[l.source]].push(o[l.target]),r[o[l.source]].push(n(l)),r[o[l.target]].push(o[l.source]),r[o[l.target]].push(n(l))}var u=0;for(a=0;a<t.length;a++){var c=i.length,h=r[a],d=h.length;i[4*a+2]=c,i[4*a+3]=d/2,u=Math.max(u,d/2);for(var f=0;f<d;++f){var p=h[f];i.push(+p)}}for(;i.length%4!=0;)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:u}},Hg=function(t,e,n,i){var r=[],o=[],a={},s=0;for(s=0;s<t.length;s++){var l=t[s];a[l.id]=s,r.push(l.x),r.push(l.y),r.push(0),r.push(0),o.push([])}for(s=0;s<e.length;s++){var u=e[s];o[a[u.source]].push(a[u.target]),o[a[u.source]].push(n(u)),o[a[u.source]].push(i(u)),o[a[u.source]].push(0),o[a[u.target]].push(a[u.source]),o[a[u.target]].push(n(u)),o[a[u.target]].push(i(u)),o[a[u.target]].push(0)}var c=0;for(s=0;s<t.length;s++){var h=r.length,d=o[s],f=d.length;r[4*s+2]=h+1048576*f/4,r[4*s+3]=0,c=Math.max(c,f/4);for(var p=0;p<f;++p){var g=d[p];r.push(+g)}}for(;r.length%4!=0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:c}},Ug=function(t,e){var n=[],i=t.length,r={};return e.forEach(function(e){t.forEach(function(t,o){if(void 0===r[e[t]]&&(r[e[t]]=Object.keys(r).length),n.push(r[e[t]]),o===i-1)for(;n.length%4!=0;)n.push(0)})}),{array:new Float32Array(n),count:Object.keys(r).length}},Yg=function(t){for(var e=[],n=t.length,i=t[0].length,r=function(i){t.forEach(function(t,r){if(e.push(t[i]),r===n-1)for(;e.length%4!=0;)e.push(0)})},o=0;o<i;o++)r(o);return new Float32Array(e)},Jg=function(t,e){var n={x:1/0,y:1/0},i={x:-1/0,y:-1/0},r="x",o="y";e&&["V","TB","BT"].indexOf(e)>=0&&(o="x",r="y");var a=0;Fg(t,function(t){return a++,t.x>i.x&&(i.x=t.x),t.x<n.x&&(n.x=t.x),t.y>i.y&&(i.y=t.y),t.y<n.y&&(n.y=t.y),!0});var s=2*Math.PI/a,l=i[o]-n[o];return 0===l?t:(Fg(t,function(e){var i=(e[o]-n[o])/l*(2*Math.PI-s)+s,a=Math.abs("x"===r?e.x-t.x:e.y-t.y);return e.x=a*Math.cos(i),e.y=a*Math.sin(i),!0}),t)},Qg=function t(){return"undefined"==typeof window||"undefined"==typeof document?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n")),t},addGetWebGLMessage:function(e){var n=void 0!==(e=e||{}).parent?e.parent:document.body,i=void 0!==e.id?e.id:"oldie",r=t().getWebGLErrorMessage();r.id=i,n.appendChild(r)}}},Zg=Object(f.__assign)(Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},Ui),u),c),h),$g=Zg.radialLayout,Xg=function(){function t(t){this.type=t.type,this.radial=t.radial,this.config=t}return t.prototype.init=function(t){var e=this;this.data=t,this.radial?this.layoutMethod=function(t){var n=Bg.a[e.type](t,e.config);return $g(n),n}:this.layoutMethod=function(t){return Bg.a[e.type](t,e.config)}},t.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},t.prototype.layout=function(t){return this.init(t),this.execute()},t}();So("grid",Mo),So("random",Co),So("force",la),So("circular",ha),So("dagre",Zl),So("radial",ku),So("concentric",Tu),So("mds",Ou),So("fruchterman",Au),So("fruchterman-gpu",og),So("gForce",ko),So("gForce-gpu",ug),So("comboForce",cg),So("forceAtlas2",pg);var Kg=function(t,e){e.isCustomLayout=!0,Rg[t]=So(t,e)},qg=function(){return function(t,e){var n=t.toString(),i=new Blob(["importScripts('".concat(e,"');(").concat(n,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(i))}}(),tv=function(t){return void 0===t&&(t="https://unpkg.com/@antv/layout@latest/dist/layout.min.js"),new qg(function(){var t={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout),onmessage=function(e){(function(e){var n=e.data.type;return n===t.RUN||n===t.GPURUN})(e)&&function(e){var n=this;switch(e.data.type){case t.RUN:var i,r=e.data,o=r.nodes,a=r.edges,s=r.layoutCfg,l=(f=void 0===s?{}:s).type;if(!(u=layout.getLayoutByName(l))){this.postMessage({type:t.ERROR,message:"layout ".concat(l," not found")});break}f.onLayoutEnd=function(){n.postMessage({type:t.END,nodes:o}),null===i||void 0===i||i.destroy()},(i=new u(f)).init({nodes:o,edges:a}),i.execute();break;case t.GPURUN:var u,c=e.data,h=c.nodes,d=(a=c.edges,c.layoutCfg),f=void 0===d?{}:d,p=c.canvas;if(l=f.type,!(u=layout.getLayoutByName(l))){this.postMessage({type:t.ERROR,message:"layout ".concat(l," not found")});break}if("gpu"!==l.split("-")[1]){this.postMessage({type:t.ERROR,message:"layout ".concat(l," does not support GPU")});break}var g=new u(f);g.init({nodes:h,edges:a}),g.executeWithWorker(p,this)}}(e)}},t)},ev="LAYOUT_RUN",nv="LAYOUT_END",iv="LAYOUT_ERROR",rv="LAYOUT_TICK",ov="GPU_LAYOUT_RUN",av="GPU_LAYOUT_END";function sv(t){"@babel/helpers - typeof";return(sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var lv=function(t){return setTimeout(t,16)},uv=function(t){return clearTimeout(t)},cv=function(t){return("undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||lv)(t)},hv=function(t){return("undefined"!=typeof window&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||uv)(t)},dv=["fruchterman","gForce"],fv=["force","grid","circular"],pv=function(t){function e(e){var n=t.call(this,e)||this;return n.graph=e,n.layoutCfg=e.get("layout")||{},n.layoutType=n.getLayoutType(),n.worker=null,n.workerData={},n.initLayout(),n}return Object(f.__extends)(e,t),e.prototype.initLayout=function(){},e.prototype.getWorker=function(){return this.worker?this.worker:("undefined"==typeof Worker?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=tv(this.layoutCfg.workerScriptURL),this.worker)},e.prototype.stopWorker=function(){var t=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,t.requestId&&(hv(t.requestId),t.requestId=null),t.requestId2&&(hv(t.requestId2),t.requestId2=null))},e.prototype.execLayoutMethod=function(t,e){var n=this;return new Promise(function(i,r){return Object(f.__awaiter)(n,void 0,void 0,function(){var n,o,a,s,l,u,c;return Object(f.__generator)(this,function(h){switch(h.label){case 0:if(!(n=this.graph)||n.get("destroyed"))return[2];o=t.type,t.onLayoutEnd=function(){n.emit("aftersublayout",{type:o}),i()},o&&this.isGPU&&(this.hasGPUVersion(o)?o="".concat(o,"-gpu"):console.warn("The '".concat(o,"' layout does not support GPU calculation for now, it will run in CPU."))),"force"===o||"g6force"===o||"gForce"===o?(a=t.onTick,u=function(){a&&a(),n.refreshPositions()},t.tick=u):"comboForce"===t.type&&(t.comboTrees=n.get("comboTrees")),!1;try{s=new Rg[o](t)}catch(t){console.warn("The layout method: '".concat(o,"' does not exist! Please specify it first.")),r()}return s.enableTick&&(l=t.onTick,u=function(){l&&l(),n.refreshPositions()},s.tick=u),function(t,e){var n;if(!(null===(n=null===t||void 0===t?void 0:t.nodes)||void 0===n?void 0:n.length))return;t.nodes.forEach(function(t){t.layoutOrder=e})}(c=this.filterLayoutData(this.data,t),e),s.init(c),n.emit("beforesublayout",{type:o}),[4,s.execute()];case 1:return h.sent(),s.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),this.layoutMethods[e]=s,[2]}})})})},e.prototype.updateLayoutMethod=function(t,e){var n=this;return new Promise(function(i,r){return Object(f.__awaiter)(n,void 0,void 0,function(){var n,r,o;return Object(f.__generator)(this,function(a){switch(a.label){case 0:return n=this.graph,r=null===e||void 0===e?void 0:e.type,e.onLayoutEnd=function(){n.emit("aftersublayout",{type:r}),i()},o=this.filterLayoutData(this.data,e),t.init(o),t.updateCfg(e),n.emit("beforesublayout",{type:r}),[4,t.execute()];case 1:return a.sent(),t.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd(),[2]}})})})},e.prototype.layout=function(t){var e=this,n=this.graph;this.data=this.setDataFromGraph();var i=this.data,r=i.nodes,o=i.hiddenNodes;if(!r)return!1;var a=n.get("width"),s=n.get("height"),l={};Object.assign(l,{width:a,height:s,center:[a/2,s/2]},this.layoutCfg),this.layoutCfg=l,this.destoryLayoutMethods(),n.emit("beforelayout"),this.initPositions(l.center,r),this.initPositions(l.center,o);var u=l.type;u&&"gpu"===u.split("-")[1]&&(u=u.split("-")[0],l.gpuEnabled=!0);var c=!1;l.gpuEnabled&&(c=!0,Qg().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),c=!1)),this.isGPU=c;var h=l.onLayoutEnd,d=l.layoutEndFormatted,p=l.adjust;if(d||(l.layoutEndFormatted=!0,l.onAllLayoutEnd=function(){return Object(f.__awaiter)(e,void 0,void 0,function(){return Object(f.__generator)(this,function(t){switch(t.label){case 0:return h&&h(),this.refreshLayout(),p&&l.pipes?[4,this.adjustPipesBox(this.data,p)]:[3,2];case 1:t.sent(),this.refreshLayout(),t.label=2;case 2:return n.emit("afterlayout"),[2]}})})}),this.stopWorker(),l.workerEnabled&&this.layoutWithWorker(this.data))return!0;var g=Promise.resolve();return l.type?g=g.then(function(){return Object(f.__awaiter)(e,void 0,void 0,function(){return Object(f.__generator)(this,function(t){switch(t.label){case 0:return[4,this.execLayoutMethod(l,0)];case 1:return[2,t.sent()]}})})}):l.pipes&&l.pipes.forEach(function(t,n){g=g.then(function(){return Object(f.__awaiter)(e,void 0,void 0,function(){return Object(f.__generator)(this,function(e){switch(e.label){case 0:return[4,this.execLayoutMethod(t,n)];case 1:return[2,e.sent()]}})})})}),g.then(function(){l.onAllLayoutEnd&&l.onAllLayoutEnd(),t&&t()}).catch(function(t){console.warn("graph layout failed,",t)}),!1},e.prototype.layoutWithWorker=function(t){var e=this,n=this.layoutCfg,i=this.graph,r=this.getWorker(),o=this.workerData;if(!r)return!1;o.requestId=null,o.requestId2=null,o.currentTick=null,o.currentTickData=null,i.emit("beforelayout");var a=Promise.resolve();if(n.type)a=a.then(function(){return e.runWebworker(r,t,n)});else if(n.pipes)for(var s=function(n){a=a.then(function(){return e.runWebworker(r,t,n)})},l=0,u=n.pipes;l<u.length;l++){s(u[l])}return a.then(function(){n.onAllLayoutEnd&&n.onAllLayoutEnd()}).catch(function(t){console.error("layout failed",t)}),!0},e.prototype.runWebworker=function(t,e,n){var i=this,r=this.isGPU,o=this.filterLayoutData(e,n),a=o.nodes,s=o.edges,l=document.createElement("canvas"),u=r&&"undefined"!=typeof window&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in l,c=function(t,e){var n={};if(t&&"object"===sv(t))return Object.keys(t).forEach(function(i){t.hasOwnProperty(i)&&e(t[i])&&(n[i]=t[i])}),n;return t}(n,function(t){return"function"!=typeof t});if(u){var h=l.transferControlToOffscreen();c.type="".concat(c.type,"-gpu"),t.postMessage({type:ov,nodes:a,edges:s,layoutCfg:c,canvas:h},[h])}else t.postMessage({type:ev,nodes:a,edges:s,layoutCfg:c});return new Promise(function(e,r){t.onmessage=function(t){i.handleWorkerMessage(e,r,t,o,n)}})},e.prototype.handleWorkerMessage=function(t,e,n,i,r){var o=this.graph,a=this.workerData,s=n.data,l=function(){r.onTick&&r.onTick()};switch(s.type){case rv:a.currentTick=s.currentTick,a.currentTickData=s,a.requestId||(a.requestId=cv(function(){gv(i,s),o.refreshPositions(),l(),s.currentTick===s.totalTicks?t():a.currentTick===s.totalTicks&&(a.requestId2=cv(function(){gv(i,a.currentTickData),o.refreshPositions(),a.requestId2=null,l(),t()})),a.requestId=null}));break;case nv:null==a.currentTick&&(gv(i,s),t());break;case av:null==a.currentTick&&(!function(t,e){for(var n=t.nodes,i=e.vertexEdgeData,r=n.length,o=0;o<r;o++){var a=n[o],s=i[4*o],l=i[4*o+1];a.x=s,a.y=l}}(i,s),t());break;case iv:console.warn("Web-Worker layout error!",s.message),e();break;default:e()}},e.prototype.updateLayoutCfg=function(t){var e=this,n=this.graph,i=this.layoutMethods,r=mr({},this.layoutCfg,t);if(this.layoutCfg=r,null===i||void 0===i?void 0:i.length){if(this.data=this.setDataFromGraph(),this.stopWorker(),!t.workerEnabled||!this.layoutWithWorker(this.data)){n.emit("beforelayout");var o=Promise.resolve();1===i.length?o=o.then(function(){return Object(f.__awaiter)(e,void 0,void 0,function(){return Object(f.__generator)(this,function(t){switch(t.label){case 0:return[4,this.updateLayoutMethod(i[0],r)];case 1:return[2,t.sent()]}})})}):null===i||void 0===i||i.forEach(function(t,n){var i=r.pipes[n];o=o.then(function(){return Object(f.__awaiter)(e,void 0,void 0,function(){return Object(f.__generator)(this,function(e){switch(e.label){case 0:return[4,this.updateLayoutMethod(t,i)];case 1:return[2,e.sent()]}})})})}),o.then(function(){r.onAllLayoutEnd&&r.onAllLayoutEnd()}).catch(function(t){console.warn("layout failed",t)})}}else this.layout()},e.prototype.adjustPipesBox=function(t,e){var n=this;return new Promise(function(i){var r=t.nodes;(null===r||void 0===r?void 0:r.length)||i(),fv.includes(e)||(console.warn("The adjust type ".concat(e," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),i());var o={center:n.layoutCfg.center,nodeSize:function(t){return Math.max(t.height,t.width)},preventOverlap:!0,onLayoutEnd:function(){}},a=n.getLayoutBBox(r),s=a.groupNodes,l=a.layoutNodes,u=br(l);o.onLayoutEnd=function(){null===l||void 0===l||l.forEach(function(t,e){var n,i,r,o=t.x-(null===(n=u[e])||void 0===n?void 0:n.x),a=t.y-(null===(i=u[e])||void 0===i?void 0:i.y);null===(r=s[e])||void 0===r||r.forEach(function(t){t.x+=o,t.y+=a})}),i()},new Rg[e](o).layout({nodes:l})})},e.prototype.hasGPUVersion=function(t){return dv.includes(t)},e.prototype.destroy=function(){this.destoryLayoutMethods();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},e}(Yi);function gv(t,e){for(var n=t.nodes,i=e.nodes,r=n.length,o=0;o<r;o++){var a=n[o];a.x=i[o].x,a.y=i[o].y}}var vv=J.a.transform,mv=function(t){function e(e){var n=t.call(this,e)||this,i=n.get("defaultNode");return i||n.set("defaultNode",{type:"circle"}),i.type||(i.type="circle",n.set("defaultNode",i)),n.destroyed=!1,n}return Object(f.__extends)(e,t),e.prototype.initLayoutController=function(){var t=new pv(this);this.set({layoutController:t})},e.prototype.initEventController=function(){var t=new ro(this);this.set({eventController:t})},e.prototype.initCanvas=function(){var t=this.get("container");if("string"==typeof t&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e,n=t.clientWidth,i=t.clientHeight,r=this.get("width")||n,o=this.get("height")||i;if(this.get("width")||this.get("height")||(this.set("width",n),this.set("height",i)),"svg"===this.get("renderer"))e=new er.Canvas({container:t,width:r,height:o});else{var a={container:t,width:r,height:o},s=this.get("pixelRatio");s&&(a.pixelRatio=s),e=new tr.Canvas(a)}this.set("canvas",e)},e.prototype.initPlugins=function(){var t=this;lr(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},e.prototype.downloadImageWatermark=function(t,e,n,i){return Object(f.__awaiter)(this,void 0,void 0,function(){var r,o,a;return Object(f.__generator)(this,function(s){switch(s.label){case 0:return r=t.style.backgroundImage,o=r.slice(5,r.length-2),(a=new Image).src=o,[4,new Promise(function(t){a.onload=function(){var r=e.createPattern(a,"repeat");e.rect(0,0,n,i),e.fillStyle=r,e.fill(),t("")}})];case 1:return s.sent(),[2]}})})},e.prototype.asyncToDataUrl=function(t,e,n,i,r,o){var a=this,s=document.querySelector(".g6-graph-watermarker"),l=this.get("canvas"),u=l.getRenderer(),c=o||l.get("el"),h="";t||(t="image/png"),setTimeout(function(){return Object(f.__awaiter)(a,void 0,void 0,function(){var o,a,l,d,p,g,v,m,y,b;return Object(f.__generator)(this,function(f){switch(f.label){case 0:return"svg"!==u?[3,1]:(o=c.cloneNode(!0),a=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),(l=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",a)).replaceChild(o,l.documentElement),d=(new XMLSerializer).serializeToString(l),h="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d)),[3,4]);case 1:return p=void 0,g=c.getContext("2d"),v=i||this.get("width"),m=r||this.get("height"),y=void 0,s?[4,this.downloadImageWatermark(s,g,v,m)]:[3,3];case 2:f.sent(),f.label=3;case 3:if(e){b="undefined"!=typeof window?window.devicePixelRatio:1;try{p=g.getImageData(0,0,v*b,m*b),y=g.globalCompositeOperation,g.globalCompositeOperation="destination-over",g.fillStyle=e,g.fillRect(0,0,v,m)}catch(t){console.error("Download image failed. Out of memory at ImageData creation")}}h=c.toDataURL(t),e&&(g.clearRect(0,0,v,m),g.putImageData(p,0,0),g.globalCompositeOperation=y),f.label=4;case 4:return n&&n(h),[2]}})})},16)},e.prototype.toDataURL=function(t,e){var n=this.get("canvas"),i=n.getRenderer(),r=n.get("el");t||(t="image/png");var o="";if("svg"===i){var a=r.cloneNode(!0),s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),l=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s);l.replaceChild(a,l.documentElement);var u=(new XMLSerializer).serializeToString(l);o="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(u))}else{var c=void 0,h=r.getContext("2d"),d=this.get("width"),f=this.get("height"),p=void 0;if(e){var g="undefined"!=typeof window?window.devicePixelRatio:1;try{c=h.getImageData(0,0,d*g,f*g),p=h.globalCompositeOperation,h.globalCompositeOperation="destination-over",h.fillStyle=e,h.fillRect(0,0,d,f)}catch(t){console.error("Download image failed. Out of memory at ImageData creation")}}o=r.toDataURL(t),e&&(h.clearRect(0,0,d,f),h.putImageData(c,0,0),h.globalCompositeOperation=p)}return o},e.prototype.toFullDataURL=function(t,e,n){var i=this.get("group").getCanvasBBox(),r=i.height,o=i.width,a=this.get("renderer"),s=to('<id="virtual-image"></div>'),l=n?n.backgroundColor:void 0,u=n?n.padding:void 0;u?pr(u)&&(u=[u,u,u,u]):u=[0,0,0,0];var c=r+u[0]+u[2],h=o+u[1]+u[3],d={container:s,height:c,width:h,quickHit:!0},f="svg"===a?new er.Canvas(d):new tr.Canvas(d),p=this.get("group").clone(),g=br(p.getMatrix());g||(g=[1,0,0,0,1,0,0,0,1]);var v=(i.maxX+i.minX)/2,m=(i.maxY+i.minY)/2;g=vv(g,[["t",-v,-m],["t",o/2+u[3],r/2+u[0]]]),p.resetMatrix(),p.setMatrix(g),f.add(p);var y=f.get("el"),b="";e||(e="image/png"),setTimeout(function(){if("svg"===a){var n=y.cloneNode(!0),i=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),r=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",i);r.replaceChild(n,r.documentElement);var o=(new XMLSerializer).serializeToString(r);b="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(o))}else{var s=void 0,u=y.getContext("2d"),d=void 0;if(l){var f="undefined"!=typeof window?window.devicePixelRatio:1;try{s=u.getImageData(0,0,h*f,c*f),d=u.globalCompositeOperation,u.globalCompositeOperation="destination-over",u.fillStyle=l,u.fillRect(0,0,h,c)}catch(t){console.error("Download image failed. Out of memory at ImageData creation")}}b=y.toDataURL(e),l&&(u.clearRect(0,0,h,c),u.putImageData(s,0,0),u.globalCompositeOperation=d)}t&&t(b)},16)},e.prototype.downloadFullImage=function(t,e,n){var i=this,r=this.get("group").getCanvasBBox(),o=r.height,a=r.width,s=this.get("renderer"),l=to('<id="virtual-image"></div>'),u=document.querySelector(".g6-graph-watermarker"),c=n?n.backgroundColor:void 0,h=n?n.padding:void 0;h?pr(h)&&(h=[h,h,h,h]):h=[0,0,0,0];var d=o+h[0]+h[2],f=a+h[1]+h[3];if(u){var p=this.get("graphWaterMarker").cfg||{},g=p.width,v=p.height;d=Math.ceil(d/v)*v,f=Math.ceil(f/g)*g}var m={container:l,height:d,width:f},y="svg"===s?new er.Canvas(m):new tr.Canvas(m),b=this.get("group").clone(),x=br(b.getMatrix());x||(x=[1,0,0,0,1,0,0,0,1]);var w=(r.maxX+r.minX)/2,_=(r.maxY+r.minY)/2;x=vv(x,[["t",-w,-_],["t",a/2+h[3],o/2+h[0]]]),b.resetMatrix(),b.setMatrix(x),y.add(b);var S=y.get("el");e||(e="image/png"),this.asyncToDataUrl(e,c,function(n){var r=document.createElement("a"),o=(t||"graph")+("svg"===s?".svg":".".concat(e.split("/")[1]));i.dataURLToImage(n,s,r,o);var a=document.createEvent("MouseEvents");a.initEvent("click",!1,!1),r.dispatchEvent(a)},f,d,S)},e.prototype.downloadImage=function(t,e,n){var i=this;this.isAnimating()&&this.stopAnimate();var r=this.get("canvas").getRenderer();e||(e="image/png");var o=(t||"graph")+("svg"===r?".svg":e.split("/")[1]),a=document.createElement("a");this.asyncToDataUrl(e,n,function(t){i.dataURLToImage(t,r,a,o);var e=document.createEvent("MouseEvents");e.initEvent("click",!1,!1),a.dispatchEvent(e)})},e.prototype.dataURLToImage=function(t,e,n,i){if(t&&"data:"!==t){if("undefined"!=typeof window)if(window.Blob&&window.URL&&"svg"!==e){var r=t.split(","),o="";if(r&&r.length>0){var a=r[0].match(/:(.*?);/);a&&a.length>=2&&(o=a[1])}for(var s=atob(r[1]),l=s.length,u=new Uint8Array(l);l--;)u[l]=s.charCodeAt(l);var c=new Blob([u],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(c,i):n.addEventListener("click",function(){n.download=i,n.href=window.URL.createObjectURL(c)})}else n.addEventListener("click",function(){n.download=i,n.href=t})}else console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items")},e.prototype.addPlugin=function(t){t.destroyed||(this.get("plugins").push(t),t.initPlugin(this))},e.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},e.prototype.setImageWaterMarker=function(t,e){void 0===t&&(t=Kr.waterMarkerImage);var n=this.get("container");dr(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var i=this.get("graphWaterMarker"),r=Sr({},Kr.imageWaterMarkerConfig,e),o=r.width,a=r.height,s=r.compatible,l=r.image;if(!i){var u={container:n,width:o,height:a,capture:!1},c=this.get("pixelRatio");c&&(u.pixelRatio=c),i=new tr.Canvas(u),this.set("graphWaterMarker",i)}i.get("el").style.display="none";var h=i.get("context"),d=l.rotate,f=l.x,p=l.y;h.rotate(-d*Math.PI/180);var g=new Image;g.crossOrigin="anonymous",g.src=t,g.onload=function(){if(h.drawImage(g,f,p,l.width,l.height),h.rotate(d*Math.PI/180),s)n.style.cssText="background-image: url(".concat(i.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var t=document.querySelector(".g6-graph-watermarker");t||((t=document.createElement("div")).className="g6-graph-watermarker"),t.className="g6-graph-watermarker",i.destroyed||(t.style.cssText="background-image: url(".concat(i.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),n.appendChild(t))}}},e.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");dr(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var i=this.get("graphWaterMarker"),r=Sr({},Kr.textWaterMarkerConfig,e),o=r.width,a=r.height,s=r.compatible,l=r.text;if(!i){var u={container:n,width:o,height:a,capture:!1},c=this.get("pixelRatio");c&&(u.pixelRatio=c),i=new tr.Canvas(u),this.set("graphWaterMarker",i)}i.get("el").style.display="none";var h=i.get("context"),d=l.rotate,f=l.fill,p=l.fontFamily,g=l.fontSize,v=l.baseline,m=l.x,y=l.y,b=l.lineHeight;h.rotate(-d*Math.PI/180),h.font="".concat(g,"px ").concat(p),h.fillStyle=f,h.textBaseline=v;for(var x=t.length-1;x>=0;x--)h.fillText(t[x],m,y+x*b);if(h.rotate(d*Math.PI/180),s)n.style.cssText="background-image: url(".concat(i.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var w=document.querySelector(".g6-graph-watermarker");w||((w=document.createElement("div")).className="g6-graph-watermarker"),w.style.cssText="background-image: url(".concat(i.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),n.appendChild(w)}},e.prototype.destroy=function(){var e,n,i,r;lr(this.get("plugins"),function(t){t.destroyPlugin()});var o=this.get("tooltips");if(o)for(var a=0;a<o.length;a++){var s=o[a];if(s){var l=s.parentElement;l&&l.removeChild(s)}}null===(e=this.get("eventController"))||void 0===e||e.destroy(),null===(n=this.get("layoutController"))||void 0===n||n.destroy(),null===(i=this.get("graphWaterMarker"))||void 0===i||i.destroy(),null===(r=document.querySelector(".g6-graph-watermarker"))||void 0===r||r.remove(),t.prototype.destroy.call(this)},e}(Ii),yv=Zg.radialLayout,bv=Zg.traverseTree,xv=function(t){function e(e){var n=t.call(this,e)||this;return n.layoutAnimating=!1,n.set("removeList",[]),n.set("layoutMethod",n.getLayout()),n}return Object(f.__extends)(e,t),e.prototype.getLayout=function(){var t=this.get("layout");return t?"function"==typeof t?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var n=Bg.a[t.type](e,t);return yv(n),n}:function(e){return Bg.a[t.type](e,t)}):null},e.indexOfChild=function(t,e){var n=-1;return lr(t,function(t,i){if(e===t.id)return n=i,!1}),n},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.animate=!0,e},e.prototype.innerAddChild=function(t,e,n){var i=this,r=t.data;r&&(r.x=t.x,r.y=t.y,r.depth=t.depth);var o=i.addItem("node",r,!1);if(e){if(o.set("parent",e),n){var a=e.get("originAttrs");if(a)o.set("originAttrs",a);else{var s=e.getModel();o.set("originAttrs",{x:s.x,y:s.y})}}var l=e.get("children");l?l.push(o):e.set("children",[o]),i.addItem("edge",{source:e.get("id"),target:o.get("id"),id:"".concat(e.get("id"),":").concat(o.get("id"))},!1)}return lr(t.children||[],function(t){i.innerAddChild(t,o,n)}),i.emit("afteraddchild",{item:o,parent:e}),o},e.prototype.innerUpdateChild=function(t,n,i){var r=this,o=r.findById(t.id);if(o){lr(t.children||[],function(t){r.innerUpdateChild(t,o,i)});var a,s,l=o.get("children");if(l)if(l.length>0)for(var u=l.length-1;u>=0;u--){var c=l[u].getModel();-1===e.indexOfChild(t.children||[],c.id)&&(r.innerRemoveChild(c.id,{x:t.x,y:t.y},i),l.splice(u,1))}o.get("originAttrs")&&(a=o.get("originAttrs").x,s=o.get("originAttrs").y);var h=o.getModel();i&&o.set("originAttrs",{x:h.x,y:h.y}),o.set("model",t.data),a===t.x&&s===t.y||o.updatePosition({x:t.x,y:t.y})}else r.innerAddChild(t,n,i)},e.prototype.innerRemoveChild=function(t,e,n){var i=this,r=i.findById(t);if(r)if(lr(r.get("children"),function(t){i.innerRemoveChild(t.getModel().id,e,n)}),n){var o=r.getModel();r.set("to",e),r.set("originAttrs",{x:o.x,y:o.y}),i.get("removeList").push(r)}else i.removeItem(r,!1)},e.prototype.changeData=function(t){var e=this;this.getNodes().map(function(t){return e.clearItemStates(t)}),this.getEdges().map(function(t){return e.clearItemStates(t)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},e.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");this.updateLayout(t)},e.prototype.updateLayout=function(t){t?(this.set("layout",t),this.set("layoutMethod",this.getLayout()),this.layout()):console.warn("layout cannot be null")},e.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");this.layout(t)},e.prototype.layout=function(t){var e=this.get("data"),n=this.get("layoutMethod"),i=n?n(e,this.get("layout")):e,r=this.get("animate");(this.emit("beforerefreshlayout",{data:e,layoutData:i}),this.emit("beforelayout"),this.innerUpdateChild(i,void 0,r),t)&&this.get("viewController").fitView();r?this.layoutAnimate(i):(this.refresh(),this.paint()),this.emit("afterrefreshlayout",{data:e,layoutData:i}),this.emit("afterlayout")},e.prototype.addChild=function(t,e){this.emit("beforeaddchild",{model:t,parent:e}),dr(e)||(e=e.get("id"));var n=this.findDataById(e);n&&(n.children||(n.children=[]),n.children.push(t),this.changeData())},e.prototype.updateChildren=function(t,e){e&&this.findById(e)?(this.findDataById(e).children=t,this.changeData()):console.warn("Update children failed! There is no node with id '".concat(e,"'"))},e.prototype.updateChild=function(t,n){if(n&&this.findById(n)){var i=this.findDataById(n),r=this.findById(t.id);if(i.children||(i.children=[]),r){var o=e.indexOfChild(i.children,t.id);i.children[o]=t}else i.children.push(t);this.changeData()}else this.changeData(t)},e.prototype.removeChild=function(t){var n=this.findById(t);if(n){var i=n.get("parent");if(i&&!i.destroyed){var r=this.findDataById(i.get("id")),o=r&&r.children||[],a=n.getModel(),s=e.indexOfChild(o,a.id);o.splice(s,1)}this.changeData()}},e.prototype.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var i=null;return lr(e.children||[],function(e){return e.id===t?(i=e,!1):!(i=n.findDataById(t,e))&&void 0}),i},e.prototype.layoutAnimate=function(t,e){var n=this,i=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(t){var e=t.get("model");e.sourceAnchor||(e.sourceAnchor=t.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(i){bv(t,function(r){var o=n.findById(r.id);if(o){var a=o.get("originAttrs"),s=o.get("model");if(a||(a={x:s.x,y:s.y},o.set("originAttrs",a)),e){var l=e(o,i,a,t);o.set("model",Object.assign(s,l))}else s.x=a.x+(r.x-a.x)*i,s.y=a.y+(r.y-a.y)*i}return!0}),lr(n.get("removeList"),function(t){var e=t.getModel(),n=t.get("originAttrs"),r=t.get("to");e.x=n.x+(r.x-n.x)*i,e.y=n.y+(r.y-n.y)*i}),n.refreshPositions()},{duration:i.duration,easing:i.ease,callback:function(){lr(n.getNodes(),function(t){t.set("originAttrs",null)}),lr(n.get("removeList"),function(t){n.removeItem(t)}),n.set("removeList",[]),i.callback&&i.callback(),n.emit("afteranimate",{data:t})},delay:i.delay})},e.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(){var t=this.get("data");if(!t||!sr(t)||!Object.keys(t).length)throw new Error("data must be defined first");this.clear(),this.emit("beforerender"),this.layout(this.get("fitView")),this.emit("afterrender")},e.prototype.save=function(){return this.get("data")},e}(mv),wv=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},_v=function(t,e){if(!wv(t))return t;for(var n=[],i=0;i<t.length;i++){var r=t[i];e(r,i)&&n.push(r)}return n},Sv={}.toString,Mv=function(t,e){return Sv.call(t)==="[object "+e+"]"},Cv=function(t){return Mv(t,"Function")},Iv=function(t){return null===t||void 0===t},kv=function(t){return Array.isArray?Array.isArray(t):Mv(t,"Array")},Tv=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var Ov=function(t,e){if(t)if(kv(t))for(var n=0,i=t.length;n<i&&!1!==e(t[n],n);n++);else if(Tv(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break};Object.keys;var Ev=function(t){return"object"==typeof t&&null!==t},Av=function(t){if(!Ev(t)||!Mv(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var Nv=function(t){var e=t.filter(function(t){return!isNaN(t)});if(!e.length)return{min:0,max:0};if(kv(t[0])){for(var n=[],i=0;i<t.length;i++)n=n.concat(t[i]);e=n}var r=function(t){if(kv(t))return t.reduce(function(t,e){return Math.max(t,e)},t[0])}(e);return{min:function(t){if(kv(t))return t.reduce(function(t,e){return Math.min(t,e)},t[0])}(e),max:r}},Lv=Array.prototype,Dv=(Lv.splice,Lv.indexOf,Array.prototype.splice,function(t){return Mv(t,"String")});function jv(t){if(wv(t))return t[0]}function Pv(t){if(wv(t)){return t[t.length-1]}}Object.prototype.hasOwnProperty;var Rv=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n};var zv=function(t,e){var n=e.toString(),i=n.indexOf(".");if(-1===i)return Math.round(t);var r=n.substr(i+1).length;return r>20&&(r=20),parseFloat(t.toFixed(r))},Bv=function(t){return Mv(t,"Number")};Number.isInteger&&Number.isInteger;Math.PI,parseInt,Math.PI;var Fv=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return Ov(t,function(n,i){Cv(t)&&"prototype"===i||e.push(n)}),e};var Gv={}.toString,Vv=function(t){return Gv.call(t).replace(/^\[object /,"").replace(/]$/,"")},Wv=function(t){return Mv(t,"Date")},Hv=Object.prototype,Uv=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Hv)};function Yv(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Jv(t,e,n,i){return e&&Yv(t,e),n&&Yv(t,n),i&&Yv(t,i),t}var Qv=function(t){if("object"!=typeof t||null===t)return t;var e;if(kv(t)){e=[];for(var n=0,i=t.length;n<i;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=Qv(t[n]):e[n]=t[n]}else for(var r in e={},t)"object"==typeof t[r]&&null!=t[r]?e[r]=Qv(t[r]):e[r]=t[r];return e},Zv=Qv;var $v=function(t,e,n){var i;return function(){var r=this,o=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(r,o)},e),a&&t.apply(r,o)}},Xv=5;function Kv(t,e,n,i){for(var r in n=n||0,i=i||Xv,e)if(e.hasOwnProperty(r)){var o=e[r];null!==o&&Av(o)?(Av(t[r])||(t[r]={}),n<i?Kv(t[r],o,n+1,i):t[r]=e[r]):kv(o)?(t[r]=[],t[r]=t[r].concat(o)):void 0!==o&&(t[r]=o)}}var qv=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)Kv(t,e[i]);return t},tm=function(t,e){if(!wv(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,r=0;r<t.length;r++)if(t[r]===e){i=r;break}return i},em=Object.prototype.hasOwnProperty;var nm,im=function(t){if(Iv(t))return!0;if(wv(t))return!t.length;var e=Vv(t);if("Map"===e||"Set"===e)return!t.size;if(Uv(t))return!Object.keys(t).length;for(var n in t)if(em.call(t,n))return!1;return!0},rm=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Dv(t)||Dv(e))return!1;if(wv(t)||wv(e)){if(t.length!==e.length)return!1;for(var n=!0,i=0;i<t.length&&(n=rm(t[i],e[i]));i++);return n}if(Ev(t)||Ev(e)){var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(n=!0,i=0;i<r.length&&(n=rm(t[r[i]],e[r[i]]));i++);return n}return!1},om=rm,am=function(t,e){if(!wv(t))return t;for(var n=[],i=0;i<t.length;i++){var r=t[i];n.push(e(r,i))}return n},sm=function(t,e,n){for(var i=0,r=Dv(e)?e.split("."):e;t&&i<r.length;)t=t[r[i++]];return void 0===t||i<r.length?n:t},lm=(Object.prototype.hasOwnProperty,{}),um=function(t){return lm[t=t||"g"]?lm[t]+=1:lm[t]=1,t+lm[t]};function cm(t){return Iv(t)?0:wv(t)?t.length:Object.keys(t).length}(function(t,e){if(!Cv(t))throw new TypeError("Expected a function");var n=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,i);return a.set(o,s),s};n.cache=new Map})(function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,r=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return nm||(nm=document.createElement("canvas").getContext("2d")),nm.font=[o,a,r,n+"px",i].join(" "),nm.measureText(Dv(t)?t:"").width},function(t,e){return void 0===e&&(e={}),Object(f.__spreadArrays)([t],Fv(e)).join("")}),function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();var hm,dm=function(){function t(t){this._cfgs=qv(this.getDefaultCfgs(),t),this._events={},this.destroyed=!1}return t.prototype.getDefaultCfgs=function(){return{}},t.prototype.initPlugin=function(t){var e=this;e.set("graph",t);var n=e.getEvents(),i={};Ov(n,function(n,r){var o=Rv(e,n);i[r]=o,t.on(r,o)}),this._events=i,this.init()},t.prototype.getEvents=function(){return{}},t.prototype.get=function(t){var e;return null===(e=this._cfgs)||void 0===e?void 0:e[t]},t.prototype.set=function(t,e){this._cfgs[t]=e},t.prototype.destroy=function(){},t.prototype.destroyPlugin=function(){this.destroy();var t=this.get("graph"),e=this._events;Ov(e,function(e,n){t.off(n,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},t}(),fm=this&&this.__extends||(hm=function(t,e){return(hm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}hm(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pm="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",gm=function(t){function e(e){return t.call(this,e)||this}return fm(e,t),e.prototype.getDefaultCfgs=function(){return{img:pm,follow:!0}},e.prototype.init=function(){var t=this.get("graph"),e=t.get("container"),n=t.get("canvas").get("el"),i=this.get("img")||pm,r=to("<div class='g6-grid-container' style=\"position:absolute;overflow:hidden;z-index: -1;\"></div>"),o=to("<div\n        class='g6-grid'\n        style='position:absolute;\n        background-image: ".concat(i,";\n        user-select: none\n        '></div>"));this.set("container",r),this.set("gridContainer",o),this.positionInit(),r.appendChild(o),e.insertBefore(r,n)},e.prototype.positionInit=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("width"),i=t.get("height");eo(this.get("container"),{width:"".concat(n,"px"),height:"".concat(i,"px")});var r=80*n/e,o=80*i/e;eo(this.get("gridContainer"),{width:"".concat(r,"px"),height:"".concat(o,"px"),left:"-".concat(r/2,"px"),top:"-".concat(o/2,"px")})},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var e=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var i=this.get("follow");eo(e,{transform:"matrix(".concat(n[0],", ").concat(n[1],", ").concat(n[3],", ").concat(n[4],", ").concat(i?n[6]:"0",", ").concat(i?n[7]:"0",")")})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph").get("container"),e=this.get("container");t.removeChild(e)},e}(dm),vm=n("z/wH"),mm=n.n(vm),ym=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();"undefined"!=typeof document&&mm()("\n  .g6-component-contextmenu {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .g6-contextmenu-ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n");var bm=function(t){function e(e){return t.call(this,e)||this}return ym(e,t),e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(t){return"\n          <ul class='g6-contextmenu-ul'>\n            <li>菜单项1</li>\n            <li>菜单项2</li>\n          </ul>\n        "},shouldBegin:function(t){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},e.prototype.getEvents=function(){return"click"===this.get("trigger")?{click:"onMenuShow"}:{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),e=to("<div class=".concat(t||"g6-component-contextmenu","></div>"));eo(e,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),Dv(n)&&(n=document.getElementById(n)),n.appendChild(e),this.set("menu",e)},e.prototype.onMenuShow=function(t){var e=this;t.preventDefault();var n=this.get("itemTypes");if(t.item){if(t.item&&t.item.getType&&-1===n.indexOf(t.item.getType()))return void e.onMenuHide()}else if(-1===n.indexOf("canvas"))return void e.onMenuHide();if(this.get("shouldBegin")(t)){var i=this.get("menu"),r=this.get("getContent"),o=this.get("graph"),a=r(t,o);Dv(a)?i.innerHTML=a:i.innerHTML=a.outerHTML,this.removeMenuEventListener();var s=this.get("handleMenuClick");if(s){var l=function(e){s(e.target,t.item,o)};this.set("handleMenuClickWrapper",l),i.addEventListener("click",l)}var u=o.get("width"),c=o.get("height"),h=i.getBoundingClientRect(),d=this.get("offsetX")||0,f=this.get("offsetY")||0,p=o.getContainer().offsetTop,g=o.getContainer().offsetLeft,v=t.canvasX+g+d,m=t.canvasY+p+f;v+h.width>u&&(v=t.canvasX-h.width-d+g),m+h.height>c&&(m=t.canvasY-h.height-f+p),eo(i,{top:"".concat(m,"px"),left:"".concat(v,"px"),visibility:"visible"});var y="click"===this.get("trigger"),b=function(t){y?y=!1:e.onMenuHide()};document.body.addEventListener("click",b),this.set("handler",b)}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");t&&(this.get("menu").removeEventListener("click",t),this.set("handleMenuClickWrapper",null));e&&document.body.removeEventListener("click",e)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&eo(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),Dv(e)&&(e=document.getElementById(e)),e.removeChild(t)}},e}(dm),xm=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wm=this&&this.__assign||function(){return(wm=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},_m=Math.max,Sm=J.a.transform,Mm=function(t){function e(e){var n=t.call(this,e)||this;return n.handleUpdateCanvas=$v(function(t){var e=n;e.destroyed||e.updateCanvas()},100,!1),n}return xm(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.size,i=e.graph;if(!this.destroyed){var r=this.get("canvas").get("container"),o=to("\n      <div\n        class=".concat(e.viewportClassName,"\n        style='position:absolute;\n          left:0;\n          top:0;\n          box-sizing:border-box;\n          outline: 2px solid #1980ff'\n        draggable=true>\n      </div>")),a=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,s=0,l=0,u=!1,c=0,h=0,d=0,f=0,p=0,g=0;o.addEventListener("dragstart",function(r){var a,v;if(r.dataTransfer){var m=new Image;m.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",null===(v=(a=r.dataTransfer).setDragImage)||void 0===v||v.call(a,m,0,0);try{r.dataTransfer.setData("text/html","view-port-minimap")}catch(t){r.dataTransfer.setData("text","view-port-minimap")}}if(e.refresh=!1,r.target===o){var y=o.style;c=parseInt(y.left,10),h=parseInt(y.top,10),d=parseInt(y.width,10),f=parseInt(y.height,10),d>n[0]||f>n[1]||(g=i.getZoom(),p=t.get("ratio"),u=!0,s=r.clientX,l=r.clientY)}},!1),o.addEventListener(a?"dragover":"drag",function(t){if(u&&!Iv(t.clientX)&&!Iv(t.clientY)){var e=s-t.clientX,r=l-t.clientY;(c-e<0||c-e+d>=n[0])&&(e=0),(h-r<0||h-r+f>=n[1])&&(r=0),h-=r,eo(o,{left:"".concat(c-=e,"px"),top:"".concat(h,"px")}),i.translate(e*g/p,r*g/p),s=t.clientX,l=t.clientY}},!1),o.addEventListener("dragend",function(){u=!1,e.refresh=!0},!1),this.set("viewport",o),r.appendChild(o)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=(this.get("dx"),this.get("dy"),this.get("totaldx")),n=this.get("totaldy"),i=this.get("graph"),r=this.get("size"),o=i.get("width"),a=i.get("height"),s=i.getPointByCanvas(0,0),l=i.getPointByCanvas(o,a),u=this.get("viewport");u||this.initViewport();var c=(l.x-s.x)*t,h=(l.y-s.y)*t,d=s.x*t+e,f=s.y*t+n,p=d+c,g=f+h;d<0&&(c+=d,d=0),p>r[0]&&(c-=p-r[0]),f<0&&(h+=f,f=0),g>r[1]&&(h-=g-r[1]),this.set("ratio",t),eo(u,{left:"".concat(d,"px"),top:"".concat(f,"px"),width:"".concat(c,"px"),height:"".concat(h,"px")})}},e.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),n=t.get("group");if(!n.destroyed){var i=n.clone();i.resetMatrix(),e.clear(),e.add(i),"svg"===t.get("renderer")&&this.updateVisible(i)}},e.prototype.updateVisible=function(t){var e=this;if(t.isGroup()||t.get("visible")){var n=t.get("children");if(!n||!n.length)return;n.forEach(function(t){t.get("visible")||t.hide(),e.updateVisible(t)})}else t.hide()},e.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph,n=this.get("canvas"),i=n.get("children")[0]||n.addGroup();Ov(e.getEdges(),function(e){t.updateOneEdgeKeyShape(e,i)}),Ov(e.getNodes(),function(e){t.updateOneNodeKeyShape(e,i)});var r=e.getCombos();if(r&&r.length){var o=i.find(function(t){return"comboGroup"===t.get("name")})||i.addGroup({name:"comboGroup"});setTimeout(function(){t.destroyed||(Ov(r,function(e){t.updateOneComboKeyShape(e,o)}),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),t.updateCanvas())},250)}this.clearDestroyedShapes()},e.prototype.updateOneComboKeyShape=function(t,e){if(!this.destroyed){var n=this.get("itemMap")||{},i=n[t.get("id")],r=t.getBBox(),o=t.get("keyShape").clone(),a=o.attr(),s={x:r.centerX,y:r.centerY};i?s=Object.assign(a,s):(i=o,e.add(i));var l=i.get("type");"rect"!==l&&"image"!==l||(s.x=r.minX,s.y=r.minY),i.attr(s),t.isVisible()?i.show():i.hide(),i.exist=!0;var u=t.getModel().depth;isNaN(u)||i.set("zIndex",u),n[t.get("id")]=i,this.set("itemMap",n)}},e.prototype.updateOneNodeKeyShape=function(t,e){var n=this.get("itemMap")||{},i=n[t.get("id")],r=t.getBBox(),o=t.get("keyShape").clone(),a=o.attr(),s={x:r.centerX,y:r.centerY};i?s=Object.assign(a,s):(i=o,e.add(i));var l=i.get("type");"rect"!==l&&"image"!==l||(s.x=r.minX,s.y=r.minY),i.attr(s),t.isVisible()?i.show():i.hide(),i.exist=!0;var u=t.getModel().depth;isNaN(u)||i.set("zIndex",u),n[t.get("id")]=i,this.set("itemMap",n)},e.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph,n=this.get("canvas"),i=n.get("children")[0]||n.addGroup();Ov(e.getEdges(),function(e){t.updateOneEdgeKeyShape(e,i)}),Ov(e.getNodes(),function(e){t.updateOneNodeDelegateShape(e,i)});var r=e.getCombos();if(r&&r.length){var o=i.find(function(t){return"comboGroup"===t.get("name")})||i.addGroup({name:"comboGroup"});setTimeout(function(){t.destroyed||(Ov(r,function(e){t.updateOneComboKeyShape(e,o)}),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),t.updateCanvas())},250)}this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(e&&0!==e.length)for(var n=e.length-1;n>=0;n--){var i=t[e[n]],r=i.exist;i.exist=!1,r||(i.remove(),delete t[e[n]])}},e.prototype.updateOneEdgeKeyShape=function(t,e){var n=this.get("itemMap")||{},i=n[t.get("id")];if(i){var r=t.get("keyShape").attr("path");i.attr("path",r)}else i=t.get("keyShape").clone(),e.add(i);t.isVisible()?i.show():i.hide(),i.exist=!0,n[t.get("id")]=i,this.set("itemMap",n)},e.prototype.updateOneNodeDelegateShape=function(t,e){var n=this.get("delegateStyle"),i=this.get("itemMap")||{},r=i[t.get("id")],o=t.getBBox();if(r){var a={x:o.minX,y:o.minY,width:o.width,height:o.height};r.attr(a)}else r=e.addShape("rect",{attrs:wm({x:o.minX,y:o.minY,width:o.width,height:o.height},n),name:"minimap-node-shape"});t.isVisible()?r.show():r.hide(),r.exist=!0,i[t.get("id")]=r,this.set("itemMap",i)},e.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this.get("graph"),e=this.get("size"),n=this.get("className"),i=this.get("container"),r=to("<div class='".concat(n,"' style='width: ").concat(e[0],"px; height: ").concat(e[1],"px; overflow: hidden'></div>"));Dv(i)&&(i=document.getElementById(i)),i?i.appendChild(r):t.get("container").appendChild(r),this.set("container",r);var o,a=to('<div class="g6-minimap-container" style="position: relative;"></div>');r.appendChild(a),a.addEventListener("dragenter",function(t){t.preventDefault()}),a.addEventListener("dragover",function(t){t.preventDefault()}),o="svg"===t.get("renderer")?new er.Canvas({container:a,width:e[0],height:e[1]}):new tr.Canvas({container:a,width:e[0],height:e[1]}),this.set("canvas",o),this.updateCanvas()},e.prototype.updateCanvas=function(){if(!this.destroyed&&this.get("refresh")){var t=this.get("graph");if(!t.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var e=this.get("size"),n=this.get("canvas"),i=this.get("type"),r=this.get("padding");if(!n.destroyed){switch(i){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var o=n.get("children")[0];if(o){o.resetMatrix();var a=o.getCanvasBBox(),s=t.get("canvas").getCanvasBBox(),l=t.getZoom()||1,u=s.width/l,c=s.height/l;Number.isFinite(a.width)&&(u=_m(a.width,u),c=_m(a.height,c)),u+=2*r,c+=2*r;var h=Math.min(e[0]/u,e[1]/c),d=[1,0,0,0,1,0,0,0,1],f=0,p=0;Number.isFinite(a.minX)&&(f=-a.minX),Number.isFinite(a.minY)&&(p=-a.minY);var g=(e[0]-(u-2*r)*h)/2,v=(e[1]-(c-2*r)*h)/2;d=Sm(d,[["t",f,p],["s",h,h],["t",g,v]]),o.setMatrix(d),this.set("ratio",h),this.set("totaldx",g+f*h),this.set("totaldy",v+p*h),this.set("dx",g),this.set("dy",v),this.updateViewport()}}}}},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},e}(dm),Cm=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Im(t,e,n){var i=t.x-e.x,r=t.y-e.y;return!n||Math.abs(i)>n||Math.abs(r)>n?Math.sqrt(i*i+r*r):n}function km(t,e){var n=(e.source.y-e.target.y)/(e.source.x-e.target.x),i=(n*n*e.source.x+n*(t.y-e.source.y)+t.x)/(n*n+1);return{x:i,y:n*(i-e.source.x)+e.source.y}}var Tm=function(t){function e(e){return t.call(this,e)||this}return Cm(e,t),e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick");this.set("tick",function(){e&&e(),t.refreshPositions()})},e.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var n=t.edges||[],i={},r=!1;if((t.nodes||[]).forEach(function(t){null!==t.x&&null!==!t.y&&void 0!==t.x&&void 0!==!t.y||(r=!0),i[t.id]=t}),r)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",i);var o=e.get("divisions"),a=e.get("divRate"),s=e.divideEdges(o);e.set("edgePoints",s);var l=e.getEdgeBundles();e.set("edgeBundles",l);for(var u=e.get("cycles"),c=e.get("iterations"),h=e.get("iterRate"),d=e.get("lambda"),f=0;f<u;f++){for(var p=function(t){var r=[];n.forEach(function(t,n){if(t.source!==t.target){var a=i[t.source],l=i[t.target];r[n]=e.getEdgeForces({source:a,target:l},n,o,d);for(var u=0;u<o+1;u++)s[n][u].x+=r[n][u].x,s[n][u].y+=r[n][u].y}})},g=0;g<c;g++)p();d/=2,o*=a,c*=h,s=e.divideEdges(o),e.set("edgePoints",s)}n.forEach(function(t,e){t.source!==t.target&&(t.type="polyline",t.controlPoints=s[e].slice(1,s[e].length-1))}),e.get("graph").refresh()}},e.prototype.updateBundling=function(t){var e=this,n=t.data;if(n&&e.set("data",n),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(n){e.set(n,t[n])}),t.onTick){var i=this.get("graph");e.set("tick",function(){t.onTick(),i.refresh()})}e.bundling(n)},e.prototype.divideEdges=function(t){var e=this,n=e.get("data").edges,i=e.get("nodeIdMap"),r=e.get("edgePoints");return r&&void 0!==r||(r=[]),n.forEach(function(n,o){r[o]&&void 0!==r[o]||(r[o]=[]);var a=i[n.source],s=i[n.target];if(1===t)r[o].push({x:a.x,y:a.y}),r[o].push({x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),r[o].push({x:s.x,y:s.y});else{var l=(r[o]&&r[o]!==[]?e.getEdgeLength(r[o]):Im({x:a.x,y:a.y},{x:s.x,y:s.y}))/(t+1),u=l,c=[{x:a.x,y:a.y}];r[o].forEach(function(t,e){if(0!==e){for(var n=Im(t,r[o][e-1]);n>u;){var i=u/n,a={x:r[o][e-1].x,y:r[o][e-1].y};a.x+=i*(t.x-r[o][e-1].x),a.y+=i*(t.y-r[o][e-1].y),c.push(a),n-=u,u=l}u-=n}}),c.push({x:s.x,y:s.y}),r[o]=c}}),r},e.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(n,i){0!==i&&(e+=Im(n,t[i-1]))}),e},e.prototype.getEdgeBundles=function(){var t=this,e=t.get("data").edges||[],n=t.get("bundleThreshold"),i=t.get("nodeIdMap"),r=t.get("edgeBundles");return r||(r=[]),e.forEach(function(t,e){r[e]&&void 0!==r[e]||(r[e]=[])}),e.forEach(function(o,a){var s=i[o.source],l=i[o.target];e.forEach(function(e,o){if(!(o<=a)){var u=i[e.source],c=i[e.target];t.getBundleScore({source:s,target:l},{source:u,target:c})>=n&&(r[a].push(o),r[o].push(a))}})}),r},e.prototype.getBundleScore=function(t,e){return t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=Im({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=Im({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y}),this.getAngleScore(t,e)*this.getScaleScore(t,e)*this.getPositionScore(t,e)*this.getVisibilityScore(t,e)},e.prototype.getAngleScore=function(t,e){return function(t,e){return t.x*e.x+t.y*e.y}({x:t.vx,y:t.vy},{x:e.vx,y:e.vy})/(t.length*e.length)},e.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2;return 2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n)},e.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2;return n/(n+Im({x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},{x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2}))},e.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),i=this.getEdgeVisibility(e,t);return n<i?n:i},e.prototype.getEdgeVisibility=function(t,e){var n=km(e.source,t),i=km(e.target,t),r={x:(n.x+i.x)/2,y:(n.y+i.y)/2},o={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Im(r,o)/Im(n,i))},e.prototype.getEdgeForces=function(t,e,n,i){for(var r=this.get("edgePoints"),o=this.get("K")/(Im(t.source,t.target)*(n+1)),a=[{x:0,y:0}],s=1;s<n;s++){var l={x:0,y:0},u=this.getSpringForce({pre:r[e][s-1],cur:r[e][s],next:r[e][s+1]},o),c=this.getElectrostaticForce(s,e);l.x=i*(u.x+c.x),l.y=i*(u.y+c.y),a.push(l)}return a.push({x:0,y:0}),a},e.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,i=t.pre.y+t.next.y-2*t.cur.y;return{x:n*=e,y:i*=e}},e.prototype.getElectrostaticForce=function(t,e){var n=this.get("eps"),i=this.get("edgeBundles"),r=this.get("edgePoints"),o={x:0,y:0};return i[e].forEach(function(i){var a={x:r[i][t].x-r[e][t].x,y:r[i][t].y-r[e][t].y};if(Math.abs(a.x)>n||Math.abs(a.y)>n){var s=1/Im(r[i][t],r[e][t]);o.x+=a.x*s,o.y+=a.y*s}}),o},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),t.prototype.destroy.call(this)},e}(dm),Om=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Em=this&&this.__assign||function(){return(Em=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Am={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},Nm=function(t){function e(e){return t.call(this,e)||this}return Om(e,t),e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:Zv(Am),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"}}return t},e.prototype.init=function(){var t=this.get("r");this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{}),this.set("r2",t*t);var e=this.get("d");this.set("molecularParam",(e+1)*t)},e.prototype.createDelegate=function(t){var e=this,n=this,i=n.get("delegate");i&&!i.destroyed||(n.magnify(t),(i=n.get("delegate")).on("dragstart",function(t){n.set("delegateCenterDiff",{x:i.attr("x")-t.x,y:i.attr("y")-t.y})}),i.on("drag",function(t){n.magnify(t)}),"wheel"===this.get("scaleDBy")&&i.on("mousewheel",function(t){e.scaleDByWheel(t)}),"wheel"===this.get("scaleRBy")&&i.on("mousewheel",function(t){n.scaleRByWheel(t)}))},e.prototype.scaleRByWheel=function(t){if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var e,n=this.get("graph"),i=this.get("delegate"),r=(i?{x:i.attr("x"),y:i.attr("y")}:void 0)||n.getPointByClient(t.clientX,t.clientY);e=t.originalEvent.wheelDelta<0?.95:1/.95;var o=this.get("maxR"),a=this.get("minR"),s=this.get("r");(s>(o||n.get("height"))&&e>1||s<(a||.05*n.get("height"))&&e<1)&&(e=1),s*=e,this.set("r",s),this.set("r2",s*s);var l=this.get("d");this.set("molecularParam",(l+1)*s),this.set("delegateCenterDiff",void 0),this.magnify(t,r)}},e.prototype.scaleRByDrag=function(t){if(t){var e,n=this.get("dragPrePos"),i=this.get("graph"),r=i.getPointByClient(t.clientX,t.clientY);e=t.x-n.x<0?.95:1/.95;var o=this.get("maxR"),a=this.get("minR"),s=this.get("r");(s>(o||i.get("height"))&&e>1||s<(a||.05*i.get("height"))&&e<1)&&(e=1),s*=e,this.set("r",s),this.set("r2",s*s);var l=this.get("d");this.set("molecularParam",(l+1)*s),this.magnify(t,r),this.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){if(t||t.originalEvent){t.preventDefault&&t.preventDefault();var e=0;e=t.originalEvent.wheelDelta<0?-.1:.1;var n=this.get("d")+e,i=this.get("maxD"),r=this.get("minD");if(n<i&&n>r){this.set("d",n);var o=this.get("r");this.set("molecularParam",(n+1)*o);var a=this.get("delegate"),s=a?{x:a.attr("x"),y:a.attr("y")}:void 0;this.set("delegateCenterDiff",void 0),this.magnify(t,s)}}},e.prototype.scaleDByDrag=function(t){var e=this.get("dragPrePos"),n=t.x-e.x>0?.1:-.1,i=this.get("d")+n,r=this.get("maxD"),o=this.get("minD");if(i<r&&i>o){this.set("d",i);var a=this.get("r");this.set("molecularParam",(i+1)*a),this.magnify(t)}this.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,e){this.restoreCache();var n=this.get("graph"),i=this.get("cachedMagnifiedModels"),r=this.get("cachedOriginPositions"),o=this.get("showLabel"),a=this.get("r"),s=this.get("r2"),l=this.get("d"),u=this.get("molecularParam"),c=n.getNodes(),h=c.length,d=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};!this.get("dragging")||"mousemove"!==this.get("trigger")&&"click"!==this.get("trigger")||(d=this.get("cacheCenter"));var f=this.get("delegateCenterDiff");f&&(d.x+=f.x,d.y+=f.y),this.updateDelegate(d,a);for(var p=0;p<h;p++){var g=c[p].getModel(),v=g.x,m=g.y;if(!isNaN(v)&&!isNaN(m)){var y=(v-d.x)*(v-d.x)+(m-d.y)*(m-d.y);if(!isNaN(y)&&y<s&&0!==y){var b=Math.sqrt(y),x=u*b/(l*b+a),w=(v-d.x)/b,_=(m-d.y)/b;if(g.x=w*x+d.x,g.y=_*x+d.y,r[g.id]||(r[g.id]={x:v,y:m,texts:[]}),i.push(g),o&&2*b<a)for(var S=c[p].getContainer().getChildren(),M=S.length,C=0;C<M;C++){var I=S[C];"text"===I.get("type")&&(r[g.id].texts.push({visible:I.get("visible"),shape:I}),I.set("visible",!0))}}}}n.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this.get("cachedMagnifiedModels"),e=this.get("cachedOriginPositions"),n=t.length,i=0;i<n;i++){var r=t[i],o=e[r.id];r.x=o.x,r.y=o.y;for(var a=o.texts.length,s=0;s<a;s++){var l=o.texts[s];l.shape.set("visible",l.visible)}}this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var e=t.r,n=t.d,i=t.trigger,r=t.minD,o=t.maxD,a=t.minR,s=t.maxR,l=t.scaleDBy,u=t.scaleRBy;isNaN(t.r)||(this.set("r",e),this.set("r2",e*e)),isNaN(n)||this.set("d",n),isNaN(o)||this.set("maxD",o),isNaN(r)||this.set("minD",r),isNaN(s)||this.set("maxR",s),isNaN(a)||this.set("minR",a);var c,h=this.get("d"),d=this.get("r");(this.set("molecularParam",(h+1)*d),"mousemove"!==i&&"click"!==i&&"drag"!==i||this.set("trigger",i),"drag"===l||"wheel"===l||"unset"===l)&&(this.set("scaleDBy",l),this.get("delegate").remove(),this.get("delegate").destroy(),(c=this.get("dPercentText"))&&(c.remove(),c.destroy()));"drag"!==u&&"wheel"!==u&&"unset"!==u||(this.set("scaleRBy",u),this.get("delegate").remove(),this.get("delegate").destroy(),(c=this.get("dPercentText"))&&(c.remove(),c.destroy()))},e.prototype.updateDelegate=function(t,e){var n=this,i=this,r=i.get("graph"),o=i.get("delegate");if(!o||o.destroyed){var a=r.get("group"),s=i.get("delegateStyle")||Am;o=a.addShape("circle",{attrs:Em({r:e/1.5,x:t.x,y:t.y},s),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&("wheel"===this.get("scaleRBy")?o.on("mousewheel",function(t){i.scaleRByWheel(t)}):"drag"===this.get("scaleRBy")&&(o.on("dragstart",function(t){i.set("dragging",!0),i.set("cacheCenter",{x:t.x,y:t.y}),i.set("dragPrePos",{x:t.x,y:t.y})}),o.on("drag",function(t){i.scaleRByDrag(t)}),o.on("dragend",function(t){i.set("dragging",!1)})),"wheel"===this.get("scaleDBy")?o.on("mousewheel",function(t){n.scaleDByWheel(t)}):"drag"===this.get("scaleDBy")&&(o.on("dragstart",function(t){i.set("dragging",!0),i.set("cacheCenter",{x:t.x,y:t.y}),i.set("dragPrePos",{x:t.x,y:t.y})}),o.on("drag",function(t){n.scaleDByDrag(t)}),o.on("dragend",function(t){i.set("dragging",!1)})))}else o.attr({x:t.x,y:t.y,r:e/1.5});if(i.get("showDPercent")){var l=Math.round((i.get("d")-i.get("minD"))/(i.get("maxD")-i.get("minD"))*100),u=i.get("dPercentText"),c=t.y+e/1.5+16;if(!u||u.destroyed)u=r.get("group").addShape("text",{attrs:{text:"".concat(l,"%"),x:t.x,y:c,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),i.set("dPercentText",u);else u.attr({text:"".concat(l,"%"),x:t.x,y:c})}i.set("delegate",o)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(dm),Lm=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();"undefined"!=typeof document&&mm()("\n  .g6-component-toolbar {\n    position: absolute;\n    list-style-type: none;\n    padding: 6px;\n    left: 0px;\n    top: 0px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    margin: 0;\n  }\n  .g6-component-toolbar li {\n    float: left;\n    text-align: center;\n    width: 35px;\n    height: 24px;\n    cursor: pointer;\n\t\tlist-style-type:none;\n    list-style: none;\n    margin-left: 0px;\n  }\n  .g6-component-toolbar li .icon {\n    opacity: 0.7;\n  }\n  .g6-component-toolbar li .icon:hover {\n    opacity: 1;\n  }\n");var Dm=function(t){function e(e){return t.call(this,e)||this}return Lm(e,t),e.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(t){return'\n          <ul class=\'g6-component-toolbar\'>\n            <li code=\'redo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>\n              </svg>\n            </li>\n            <li code=\'undo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>\n              </svg>\n            </li>\n            <li  code=\'zoomOut\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>\n              </svg>\n            </li>\n            <li code=\'zoomIn\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>\n              </svg>\n            </li>\n            <li code=\'realZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>\n              </svg>\n            </li>\n            <li code=\'autoZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>\n              </svg>\n            </li>\n          </ul>\n        '},zoomSensitivity:2}},e.prototype.init=function(){var t=this,e=this.get("graph"),n=this.get("getContent")(e),i=n;Dv(n)&&(i=to(n));var r=this.get("className");i.setAttribute("class",r||"g6-component-toolbar");var o=this.get("container");o||(o=this.get("graph").get("container")),Dv(o)&&(o=document.getElementById(o)),o.appendChild(i),this.set("toolBar",i);var a=this.get("handleClick");i.addEventListener("click",function(n){var i=function(t){if(!t)return[];if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;){if(e.push(n),"HTML"===n.tagName)return e.push(document,window),e;n=n.parentElement}return e}(n).filter(function(t){return"LI"===t.nodeName});if(0!==i.length){var r=i[0].getAttribute("code");r&&(a?a(r,e):t.handleDefaultOperator(r,e))}});var s=this.get("position");s&&eo(i,{top:"".concat(s.y,"px"),left:"".concat(s.x,"px")}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),i=document.querySelector('.g6-component-toolbar li[code="redo"]'),r=document.querySelector('.g6-component-toolbar li[code="redo"] svg');e&&n&&i&&r&&t.on("stackchange",function(t){var o=t.undoStack,a=t.redoStack,s=o.length,l=a.length;1===s?(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),n.removeAttribute("style")),0===l?(i.setAttribute("style","cursor: not-allowed"),r.setAttribute("style","opacity: 0.4")):(i.removeAttribute("style"),r.removeAttribute("style"))})},e.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(e&&1!==e.length){var n=e.pop();if(n){var i=n.action;t.pushStack(i,Zv(n.data),"redo");var r=n.data.before;if("add"===i&&(r=n.data.after),!r)return;switch(i){case"visible":Object.keys(r).forEach(function(e){var n=r[e];n&&n.forEach(function(e){var n=t.findById(e.id);e.visible?t.showItem(n,!1):t.hideItem(n,!1)})});break;case"render":case"update":Object.keys(r).forEach(function(e){var n=r[e];n&&n.forEach(function(e){t.updateItem(e.id,e,!1)})});break;case"changedata":t.changeData(r,!1);break;case"delete":Object.keys(r).forEach(function(e){var n=r[e];n&&n.forEach(function(e){var n=e.itemType;delete e.itemType,t.addItem(n,e,!1)})});break;case"add":Object.keys(r).forEach(function(e){var n=r[e];n&&n.forEach(function(e){t.removeItem(e.id,!1)})});break;case"updateComboTree":Object.keys(r).forEach(function(e){var n=r[e];n&&n.forEach(function(e){t.updateComboTree(e.id,e.parentId,!1)})})}}}},e.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(e&&0!==e.length){var n=e.pop();if(n){var i=n.action,r=n.data.after;if(t.pushStack(i,Zv(n.data)),"delete"===i&&(r=n.data.before),!r)return;switch(i){case"visible":Object.keys(r).forEach(function(e){var n=r[e];n&&n.forEach(function(e){var n=t.findById(e.id);e.visible?t.showItem(n,!1):t.hideItem(n,!1)})});break;case"render":case"update":Object.keys(r).forEach(function(e){var n=r[e];n&&n.forEach(function(e){t.updateItem(e.id,e,!1)})});break;case"changedata":t.changeData(r,!1);break;case"delete":r.edges&&r.edges.forEach(function(e){t.removeItem(e.id,!1)}),r.nodes&&r.nodes.forEach(function(e){t.removeItem(e.id,!1)}),r.combos&&r.combos.forEach(function(e){t.removeItem(e.id,!1)});break;case"add":Object.keys(r).forEach(function(e){var n=r[e];n&&n.forEach(function(e){var n=e.itemType;delete e.itemType,t.addItem(n,e,!1)})});break;case"updateComboTree":Object.keys(r).forEach(function(e){var n=r[e];n&&n.forEach(function(e){t.updateComboTree(e.id,e.parentId,!1)})})}}}},e.prototype.handleDefaultOperator=function(t,e){var n=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":var i=1/(1-.05*this.get("zoomSensitivity"));if(i*n>(this.get("maxZoom")||e.get("maxZoom")))return;e.zoomTo(n*i);break;case"zoomIn":var r=1-.05*this.get("zoomSensitivity");if(r*n<(this.get("minZoom")||e.get("minZoom")))return;e.zoomTo(n*r);break;case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20])}},e.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),Dv(e)&&(e=document.getElementById(e)),e.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},e}(dm),jm=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();"undefined"!=typeof document&&mm()("\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .tooltip-type {\n    padding: 0;\n    margin: 0;\n  }\n  .tooltip-id {\n    color: #531dab;\n  }\n");var Pm=function(t){function e(e){return t.call(this,e)||this}return jm(e,t),e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(t){return"\n          <h4 class='tooltip-type'>类型：".concat(t.item.getType(),"</h4>\n          <span class='tooltip-id'>ID：").concat(t.item.getID(),"</span>\n        ")},shouldBegin:function(t){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},e.prototype.getEvents=function(){return"click"===this.get("trigger")?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},e.prototype.init=function(){var t=this,e=t.get("className")||"g6-component-tooltip",n=to("<div class=".concat(e,"></div>")),i=t.get("container");i||(i=t.get("graph").get("container")),Dv(i)&&(i=document.getElementById(i)),eo(n,{position:"absolute",visibility:"hidden",display:"none"}),i.appendChild(n),"click"!==t.get("trigger")&&(n.addEventListener("mouseenter",function(t){eo(n,{visibility:"visible",display:"unset"})}),n.addEventListener("mouseleave",function(e){t.hideTooltip()})),t.set("tooltip",n)},e.prototype.onClick=function(t){var e=this.get("itemTypes");if(!t.item||!t.item.getType||-1!==e.indexOf(t.item.getType())){var n=t.item,i=this.get("graph");this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),i.emit("tooltipchange",{item:t.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(t),i.emit("tooltipchange",{item:t.item,action:"show"}))}},e.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!t.item||!t.item.getType||-1!==e.indexOf(t.item.getType())){var n=t.item,i=this.get("graph");this.currentTarget=n,this.showTooltip(t),i.emit("tooltipchange",{item:t.item,action:"show"})}},e.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&-1===e.indexOf(t.item.getType())||this.currentTarget&&t.item===this.currentTarget&&this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},e.prototype.showTooltip=function(t){if(t.item){var e=this.get("itemTypes");if(!t.item.getType||-1!==e.indexOf(t.item.getType())){var n=this.get("tooltip"),i=this.get("getContent")(t);Dv(i)?n.innerHTML=i:n.innerHTML=i.outerHTML,this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&eo(t,{visibility:"hidden",display:"none"})},e.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),n=this.get("tooltip");if(e(t)){var i=this.get("graph"),r=i.get("width"),o=i.get("height"),a=this.get("offsetX")||0,s=this.get("offsetY")||0,l=i.getPointByClient(t.clientX,t.clientY),u=this.get("fixToNode"),c=t.item;if(c.getType&&"node"===c.getType()&&u&&kv(u)&&u.length>=2){var h=c.getBBox();l={x:h.minX+h.width*u[0],y:h.minY+h.height*u[1]}}var d=i.getCanvasByPoint(l.x,l.y),f=d.x,p=d.y,g=i.getContainer(),v={x:f+g.offsetLeft+a,y:p+g.offsetTop+s};eo(n,{visibility:"visible",display:"unset"});var m=n.getBoundingClientRect();f+m.width+a>r&&(v.x-=m.width+a),p+m.height+s>o&&(v.y-=m.height+s),eo(n,{left:"".concat(v.x,"px"),top:"".concat(v.y,"px")})}else eo(n,{visibility:"hidden",display:"none"})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),Dv(e)&&(e=document.getElementById(e)),e.removeChild(t)}},e}(dm),Rm={};function zm(t,e){Rm[t]=e}var Bm=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){Jv(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return am(this.ticks,function(e,n){return Tv(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}})},t.prototype.getText=function(t,e){var n=this.formatter,i=n?n(t,e):t;return Iv(i)||!Cv(i.toString)?"":i.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){Jv(this,this.__cfg__),this.setDomain(),im(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Dv(t)){var n=Rm[t];if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else Cv(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(t,e,n){return Bv(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}(),Fm=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return Object(f.__extends)(e,t),e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=Bv(t)?t:NaN),e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),i=Math.round(e*n)+this.min;return i<this.min||i>this.max?NaN:this.values[i]},e.prototype.getText=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=e;return Bv(e)&&!this.values.includes(e)&&(r=this.values[r]),t.prototype.getText.apply(this,Object(f.__spreadArray)([r],n,!1))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(Iv(this.getConfig("min"))&&(this.min=0),Iv(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(Bm),Gm=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Vm="[^\\s]+",Wm=/\[([^]*?)\]/gm;function Hm(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n.push(t[i].substr(0,e));return n}var Um=function(t){return function(e,n){var i=n[t].map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase());return i>-1?i:null}};function Ym(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];for(var a in o)t[a]=o[a]}return t}var Jm=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Qm=["January","February","March","April","May","June","July","August","September","October","November","December"],Zm=Hm(Qm,3),$m={dayNamesShort:Hm(Jm,3),dayNames:Jm,monthNamesShort:Zm,monthNames:Qm,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}},Xm=Ym({},$m),Km=function(t){return Xm=Ym(Xm,t)},qm=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},ty=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},ey={D:function(t){return String(t.getDate())},DD:function(t){return ty(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return ty(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return ty(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return ty(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return ty(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return ty(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return ty(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return ty(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return ty(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return ty(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return ty(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+ty(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+ty(Math.floor(Math.abs(e)/60),2)+":"+ty(Math.abs(e)%60,2)}},ny=function(t){return+t-1},iy=[null,"[1-9]\\d?"],ry=[null,Vm],oy=["isPm",Vm,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],ay=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],sy={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+Vm,function(t){return parseInt(t,10)}],M:["month","[1-9]\\d?",ny],MM:["month","\\d\\d",ny],YY:["year","\\d\\d",function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond","\\d\\d",function(t){return 10*+t}],SSS:["millisecond","\\d{3}"],d:iy,dd:iy,ddd:ry,dddd:ry,MMM:["month",Vm,Um("monthNamesShort")],MMMM:["month",Vm,Um("monthNames")],a:oy,A:oy,ZZ:ay,Z:ay},ly={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},uy=function(t){return Ym(ly,t)},cy=function(t,e,n){if(void 0===e&&(e=ly.default),void 0===n&&(n={}),"number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");var i=[];e=(e=ly[e]||e).replace(Wm,function(t,e){return i.push(e),"@@@"});var r=Ym(Ym({},Xm),n);return(e=e.replace(Gm,function(e){return ey[e](t,r)})).replace(/@@@/g,function(){return i.shift()})};function hy(t,e,n){if(void 0===n&&(n={}),"string"!=typeof e)throw new Error("Invalid format in fecha parse");if(e=ly[e]||e,t.length>1e3)return null;var i={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},r=[],o=[],a=e.replace(Wm,function(t,e){return o.push(qm(e)),"@@@"}),s={},l={};a=qm(a).replace(Gm,function(t){var e=sy[t],n=e[0],i=e[1],o=e[3];if(s[n])throw new Error("Invalid format. "+n+" specified twice in format");return s[n]=!0,o&&(l[o]=!0),r.push(e),"("+i+")"}),Object.keys(l).forEach(function(t){if(!s[t])throw new Error("Invalid format. "+t+" is required in specified format")}),a=a.replace(/@@@/g,function(){return o.shift()});var u=t.match(new RegExp(a,"i"));if(!u)return null;for(var c=Ym(Ym({},Xm),n),h=1;h<u.length;h++){var d=r[h-1],f=d[0],p=d[2],g=p?p(u[h],c):+u[h];if(null==g)return null;i[f]=g}1===i.isPm&&null!=i.hour&&12!=+i.hour?i.hour=+i.hour+12:0===i.isPm&&12==+i.hour&&(i.hour=0);for(var v=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond),m=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],y=(h=0,m.length);h<y;h++)if(s[m[h][0]]&&i[m[h][0]]!==v[m[h][1]]())return null;return null==i.timezoneOffset?v:new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond))}var dy={format:cy,parse:hy,defaultI18n:$m,setGlobalDateI18n:Km,setGlobalDateMasks:uy},fy=function(t){return function(e,n,i,r){for(var o=Iv(i)?0:i,a=Iv(r)?e.length:r;o<a;){var s=o+a>>>1;t(e[s])>n?a=s:o=s+1}return o}},py="format";function gy(t,e){return(d[py]||dy[py])(t,e)}function vy(t){return Dv(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Wv(t)&&(t=t.getTime()),t}var my=1e3,yy=60*my,by=60*yy,xy=24*by,wy=31*xy,_y=365*xy,Sy=[["HH:mm:ss",my],["HH:mm:ss",10*my],["HH:mm:ss",30*my],["HH:mm",yy],["HH:mm",10*yy],["HH:mm",30*yy],["HH",by],["HH",6*by],["HH",12*by],["YYYY-MM-DD",xy],["YYYY-MM-DD",4*xy],["YYYY-WW",7*xy],["YYYY-MM",wy],["YYYY-MM",4*wy],["YYYY-MM",6*wy],["YYYY",380*xy]];var My=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return Object(f.__extends)(e,t),e.prototype.translate=function(t){t=vy(t);var e=this.values.indexOf(t);return-1===e&&(e=Bv(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var i=this.values[n],r=this.formatter;return i=r?r(i,e):gy(i,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;Ov(e,function(t,n){e[n]=vy(t)}),e.sort(function(t,e){return t-e}),t.prototype.setDomain.call(this)},e}(Fm),Cy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return Object(f.__extends)(e,t),e.prototype.scale=function(t){if(Iv(t))return NaN;var e=this.rangeMin(),n=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=jv(e),i=Pv(e);n<this.min&&(this.min=n),i>this.max&&(this.max=i),Iv(this.minLimit)||(this.min=n),Iv(this.maxLimit)||(this.max=i)},e.prototype.setDomain=function(){var t=Nv(this.values),e=t.min,n=t.max;Iv(this.min)&&(this.min=e),Iv(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=_v(n,function(t){return t>=e.min&&t<=e.max})),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(Bm),Iy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return Object(f.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(Cy);function ky(t,e){var n=Math.E;return e>=0?Math.pow(n,Math.log(e)/t):-1*Math.pow(n,Math.log(-e)/t)}function Ty(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function Oy(t,e,n){Iv(n)&&(n=Math.max.apply(null,t));var i=n;return Ov(t,function(t){t>0&&t<i&&(i=t)}),i===n&&(i=n/e),i>1&&(i=1),i}var Ey=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return Object(f.__extends)(e,t),e.prototype.invert=function(t){var e,n=this.base,i=Ty(n,this.max),r=this.rangeMin(),o=this.rangeMax()-r,a=this.positiveMin;if(a){if(0===t)return 0;var s=1/(i-(e=Ty(n,a/n)))*o;if(t<s)return t/s*a}else e=Ty(n,this.min);var l=(t-r)/o*(i-e)+e;return Math.pow(n,l)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=Oy(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var i=this.base,r=this.positiveMin;return r&&(n=1*r/i),t<r?t/r/(Ty(i,e)-Ty(i,n)):(Ty(i,t)-Ty(i,n))/(Ty(i,e)-Ty(i,n))},e}(Cy),Ay=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return Object(f.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,i=ky(n,this.max),r=ky(n,this.min),o=e*(i-r)+r,a=o>=0?1:-1;return Math.pow(o,n)*a},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var i=this.exponent;return(ky(i,t)-ky(i,n))/(ky(i,e)-ky(i,n))},e}(Cy),Ny=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return Object(f.__extends)(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),i=this.formatter;return i?i(n,e):gy(n,this.mask)},e.prototype.scale=function(e){var n=e;return(Dv(n)||Wv(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return vy(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if(Iv(e)&&Bv(e)||(this.min=this.translate(this.min)),Iv(n)&&Bv(n)||(this.max=this.translate(this.max)),t&&t.length){var i=[],r=1/0,o=r,a=0;Ov(t,function(t){var e=vy(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");r>e?(o=r,r=e):o>e&&(o=e),a<e&&(a=e),i.push(e)}),t.length>1&&(this.minTickInterval=o-r),Iv(e)&&(this.min=r),Iv(n)&&(this.max=a)}},e}(Iy),Ly=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return Object(f.__extends)(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,i=this.getInvertPercent(t),r=Math.floor(i*(n-1));if(r>=n-1)return Pv(e);if(r<0)return jv(e);var o=e[r],a=r/(n-1);return o+(i-a)/((r+1)/(n-1)-a)*(e[r+1]-o)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||(Pv(e)!==this.max&&e.push(this.max),jv(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<jv(e))return 0;if(t>Pv(e))return 1;var n=0;return Ov(e,function(e,i){if(!(t>=e))return!1;n=i}),n/(e.length-1)},e}(Cy),Dy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return Object(f.__extends)(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(Ly),jy={};function Py(t,e){if(function(t){return jy[t]}(t))throw new Error("type '"+t+"' existed.");jy[t]=e}var Ry=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return Object(f.__extends)(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&Bv(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(Bm);function zy(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}var By=[1,5,2,2.5,4,3],Fy=100*Number.EPSILON;function Gy(t,e,n,i,r,o){var a=cm(e),s=tm(e,t),l=0,u=function(t,e){return(t%e+e)%e}(i,o);return(u<Fy||o-u<Fy)&&i<=0&&r>=0&&(l=1),1-s/(a-1)-n+l}function Vy(t,e,n){var i=cm(e);return 1-tm(e,t)/(i-1)-n+1}function Wy(t,e,n,i,r,o){var a=(t-1)/(o-r),s=(e-1)/(Math.max(o,i)-Math.min(n,r));return 2-Math.max(a/s,s/a)}function Hy(t,e){return t>=e?2-(t-1)/(e-1):1}function Uy(t,e,n,i){var r=e-t;return 1-.5*(Math.pow(e-i,2)+Math.pow(t-n,2))/Math.pow(.1*r,2)}function Yy(t,e,n){var i=e-t;if(n>i){var r=(n-i)/2;return 1-Math.pow(r,2)/Math.pow(.1*i,2)}return 1}function Jy(t,e,n,i,r,o){void 0===n&&(n=5),void 0===i&&(i=!0),void 0===r&&(r=By),void 0===o&&(o=[.25,.2,.5,.05]);var a=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||"number"!=typeof t||"number"!=typeof e||!a)return{min:0,max:0,ticks:[]};if(e-t<1e-15||1===a)return{min:t,max:e,ticks:[t]};for(var s={score:-2,lmin:0,lmax:0,lstep:0},l=1;l<1/0;){for(var u=0;u<r.length;u+=1){var c=r[u],h=Vy(c,r,l);if(o[0]*h+o[1]+o[2]+o[3]<s.score){l=1/0;break}for(var d=2;d<1/0;){var f=Hy(d,a);if(o[0]*h+o[1]+o[2]*f+o[3]<s.score)break;for(var p=(e-t)/(d+1)/l/c,g=Math.ceil(Math.log10(p));g<1/0;){var v=l*c*Math.pow(10,g),m=Yy(t,e,v*(d-1));if(o[0]*h+o[1]*m+o[2]*f+o[3]<s.score)break;var y=Math.floor(e/v)*l-(d-1)*l,b=Math.ceil(t/v)*l;if(y<=b)for(var x=b-y,w=0;w<=x;w+=1){var _=(y+w)*(v/l),S=_+v*(d-1),M=v,C=Gy(c,r,l,_,S,M),I=Uy(t,e,_,S),k=Wy(d,a,t,e,_,S),T=o[0]*C+o[1]*I+o[2]*k+1*o[3];T>s.score&&(!i||_<=t&&S>=e)&&(s.lmin=_,s.lmax=S,s.lstep=M,s.score=T)}g+=1}d+=1}}l+=1}var O=zy(s.lmax),E=zy(s.lmin),A=zy(s.lstep),N=Math.floor(function(t){return Math.round(1e12*t)/1e12}((O-E)/A))+1,L=new Array(N);L[0]=zy(E);for(u=1;u<N;u++)L[u]=zy(L[u-1]+A);return{min:Math.min(t,jv(L)),max:Math.max(e,Pv(L)),ticks:L}}function Qy(t){var e=t.values,n=t.tickInterval,i=t.tickCount,r=e;if(Bv(n))return _v(r,function(t,e){return e%n==0});var o=t.min,a=t.max;if(Iv(o)&&(o=0),Iv(a)&&(a=e.length-1),Bv(i)&&i<a-o){var s=Jy(o,a,i,!1,[1,2,5,3,4,7,6,8,9]).ticks;return _v(s,function(t){return t>=o&&t<=a}).map(function(t){return e[t]})}return e.slice(o,a+1)}var Zy=Math.sqrt(50),$y=Math.sqrt(10),Xy=Math.sqrt(2),Ky=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,n;void 0===t&&(t=5);var i,r=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],l=this._domain[a];return l<s&&(s=(e=[l,s])[0],l=e[1],o=(n=[a,o])[0],a=n[1]),(i=qy(s,l,t))>0?i=qy(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,t):i<0&&(i=qy(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,t)),i>0?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i,this.domain(r)):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i,this.domain(r)),this},t.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,n){var i,r,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];(i=e<t)&&(r=t,t=e,e=r);if(0===(a=qy(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));++s<r;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(t-s)/a;i&&o.reverse();return o}(this._domain[0],this._domain[this._domain.length-1],t||5)},t}();function qy(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=Zy?10:o>=$y?5:o>=Xy?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=Zy?10:o>=$y?5:o>=Xy?2:1)}function tb(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e}function eb(t,e,n){var i=tb(t,n,"floor"),r=tb(e,n,"ceil");i=zv(i,n),r=zv(r,n);for(var o=[],a=i;a<=r;a+=n){var s=zv(a,n);o.push(s)}return{min:i,max:r,ticks:o}}function nb(t,e,n){var i,r=t.minLimit,o=t.maxLimit,a=t.min,s=t.max,l=t.tickCount,u=void 0===l?5:l,c=Iv(r)?Iv(e)?a:e:r,h=Iv(o)?Iv(n)?s:n:o;if(c>h&&(h=(i=[c,h])[0],c=i[1]),u<=2)return[c,h];for(var d=(h-c)/(u-1),f=[],p=0;p<u;p++)f.push(c+d*p);return f}function ib(t,e,n){if(void 0===n&&(n=5),t===e)return{max:e,min:t,ticks:[t]};var i=n<0?0:Math.round(n);if(0===i)return{max:e,min:t,ticks:[]};var r=(e-t)/i,o=Math.pow(10,Math.floor(Math.log10(r))),a=o;2*o-r<1.5*(r-a)&&5*o-r<2.75*(r-(a=2*o))&&10*o-r<1.5*(r-(a=5*o))&&(a=10*o);for(var s=Math.ceil(e/a),l=Math.floor(t/a),u=Math.max(s*a,e),c=Math.min(l*a,t),h=Math.floor((u-c)/a)+1,d=new Array(h),f=0;f<h;f++)d[f]=zy(c+f*a);return{min:c,max:u,ticks:d}}function rb(t,e){var n=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function ob(t){return new Date(t).getFullYear()}function ab(t){return new Date(t,0,1).getTime()}function sb(t){return new Date(t).getMonth()}function lb(t,e){return new Date(t,e,1).getTime()}zm("cat",Qy),zm("time-cat",function(t){var e=Qy(t),n=Pv(t.values);return n!==Pv(e)&&e.push(n),e}),zm("wilkinson-extended",function(t){var e=t.min,n=t.max,i=t.tickCount,r=t.nice,o=t.tickInterval,a=t.minLimit,s=t.maxLimit,l=Jy(e,n,i,r).ticks;return Iv(a)&&Iv(s)?o?eb(e,n,o).ticks:l:nb(t,jv(l),Pv(l))}),zm("r-pretty",function(t){var e=t.min,n=t.max,i=t.tickCount,r=t.tickInterval,o=t.minLimit,a=t.maxLimit,s=ib(e,n,i).ticks;return Iv(o)&&Iv(a)?r?eb(e,n,r).ticks:s:nb(t,jv(s),Pv(s))}),zm("time",function(t){var e=t.min,n=t.max,i=t.minTickInterval,r=t.tickInterval,o=t.tickCount;if(r)o=Math.ceil((n-e)/r);else{var a=(n-e)/(r=function(t,e,n){var i=(e-t)/n,r=fy(function(t){return t[1]})(Sy,i)-1,o=Sy[r];return r<0?o=Sy[0]:r>=Sy.length&&(o=Pv(Sy)),o}(e,n,o)[1])/o;a>1&&(r*=Math.ceil(a)),i&&r<i&&(r=i)}for(var s=[],l=e;l<n+r;l+=r)s.push(l);return s}),zm("time-pretty",function(t){var e=t.min,n=t.max,i=t.minTickInterval,r=t.tickCount,o=t.tickInterval,a=[];o||(o=(n-e)/r,i&&o<i&&(o=i));var s=ob(e);if(o>_y)for(var l=ob(n),u=Math.ceil(o/_y),c=s;c<=l+u;c+=u)a.push(ab(c));else if(o>wy){var h=Math.ceil(o/wy),d=sb(e),f=function(t,e){var n=ob(t),i=ob(e),r=sb(t);return 12*(i-n)+(sb(e)-r)%12}(e,n);for(c=0;c<=f+h;c+=h)a.push(lb(s,c+d))}else if(o>xy){var p=(b=new Date(e)).getFullYear(),g=b.getMonth(),v=b.getDate(),m=Math.ceil(o/xy),y=function(t,e){return Math.ceil((e-t)/xy)}(e,n);for(c=0;c<y+m;c+=m)a.push(new Date(p,g,v+c).getTime())}else if(o>by){p=(b=new Date(e)).getFullYear(),g=b.getMonth(),m=b.getDate();var b,x=b.getHours(),w=Math.ceil(o/by),_=function(t,e){return Math.ceil((e-t)/by)}(e,n);for(c=0;c<=_+w;c+=w)a.push(new Date(p,g,m,x+c).getTime())}else if(o>yy){var S=function(t,e){return Math.ceil((e-t)/6e4)}(e,n),M=Math.ceil(o/yy);for(c=0;c<=S+M;c+=M)a.push(e+c*yy)}else{var C=o;C<my&&(C=my);var I=Math.floor(e/my)*my,k=Math.ceil((n-e)/my),T=Math.ceil(C/my);for(c=0;c<k+T;c+=T)a.push(I+c*my)}return a.length>=512&&console.warn("Notice: current ticks length("+a.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+o+") is too small, increase the value to solve the problem!"),a}),zm("log",function(t){var e,n=t.base,i=t.tickCount,r=t.min,o=t.max,a=t.values,s=Ty(n,o);if(r>0)e=Math.floor(Ty(n,r));else{var l=Oy(a,n,o);e=Math.floor(Ty(n,l))}for(var u=s-e,c=Math.ceil(u/i),h=[],d=e;d<s+c;d+=c)h.push(Math.pow(n,d));return r<=0&&h.unshift(0),h}),zm("pow",function(t){var e=t.exponent,n=t.tickCount,i=Math.ceil(ky(e,t.max));return ib(Math.floor(ky(e,t.min)),i,n).ticks.map(function(t){var n=t>=0?1:-1;return Math.pow(t,e)*n})}),zm("quantile",function(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var i=n.slice().sort(function(t,e){return t-e}),r=[],o=0;o<e;o++){var a=o/(e-1);r.push(rb(i,a))}return r}),zm("d3-linear",function(t){var e=t.min,n=t.max,i=t.tickInterval,r=t.minLimit,o=t.maxLimit,a=function(t){var e=t.min,n=t.max,i=t.nice,r=t.tickCount,o=new Ky;return o.domain([e,n]),i&&o.nice(r),o.ticks(r)}(t);return Iv(r)&&Iv(o)?i?eb(e,n,i).ticks:a:nb(t,jv(a),Pv(a))}),Py("cat",Fm),Py("category",Fm),Py("identity",Ry),Py("linear",Iy),Py("log",Ey),Py("pow",Ay),Py("time",Ny),Py("timeCat",My),Py("quantize",Ly),Py("quantile",Dy);var ub=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};function cb(t){return function(t){return am(t,function(t,e){return[0===e?"M":"L",t[0],t[1]]})}(t)}function hb(t,e,n,i){void 0===i&&(i=!0);var r=new Iy({values:t}),o=new Fm({values:am(t,function(t,e){return e})}),a=am(t,function(t,i){return[o.scale(i)*e,n-r.scale(t)*n]});return i?function(t){if(t.length<=2)return cb(t);var e=[];Ov(t,function(t){om(t,e.slice(e.length-2))||e.push(t[0],t[1])});var n=ni.a(e,!1),i=jv(t),r=i[0],o=i[1];return n.unshift(["M",r,o]),n}(a):cb(a)}function db(t,e,n,i){var r=ub([],t,!0),o=function(t,e){var n=new Iy({values:t}),i=Math.max(0,n.min);return e-n.scale(i)*e}(i,n);return r.push(["L",e,o]),r.push(["L",0,o]),r.push(["Z"]),r}function fb(t){var e,n,i,r,o=t.x,a=t.y,s=t.y0,l=t.size;kv(a)?(e=a[0],n=a[1]):(e=s,n=a),kv(o)?(i=o[0],r=o[1]):(i=o-l/2,r=o+l/2);var u=[{x:i,y:e},{x:i,y:n}];return u.push({x:r,y:n},{x:r,y:e}),u}var pb=this&&this.__assign||function(){return(pb=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},gb={stroke:"#C5C5C5",strokeOpacity:.85},vb={fill:"#CACED4",opacity:.85},mb=function(){function t(t){var e=t.x,n=void 0===e?0:e,i=t.y,r=void 0===i?0:i,o=t.width,a=void 0===o?200:o,s=t.height,l=void 0===s?26:s,u=t.smooth,c=void 0===u||u,h=t.isArea,d=void 0!==h&&h,f=t.data,p=void 0===f?[]:f,g=t.lineStyle,v=t.areaStyle,m=t.group,y=t.interval,b=void 0===y?null:y;this.group=m,this.x=n,this.y=r,this.width=a,this.height=l,this.data=p,this.smooth=c,this.isArea=d,this.lineStyle=Object.assign({},gb,g),this.areaStyle=Object.assign({},vb,v),this.intervalConfig=b,this.renderLine()}return t.prototype.renderLine=function(){var t=this,e=t.x,n=t.y,i=t.width,r=t.height,o=(t.barWidth,t.data),a=t.smooth,s=t.isArea,l=t.lineStyle,u=t.areaStyle,c=this.group.addGroup({name:"trend-group"});if(o){var h=hb(o,i,r,a);if(c.addShape("path",{attrs:pb({path:h},l),name:"trend-line"}),s){var d=db(h,i,r,o);c.addShape("path",{attrs:pb({path:d},u),name:"trend-area"})}}this.intervalConfig&&c.addShape("path",{attrs:pb({path:function(t,e,n,i){void 0===i&&(i=5);for(var r=new Iy({values:t}),o=new Fm({values:am(t,function(t,e){return e})}),a=am(t,function(t,i){return[o.scale(i)*e,n-r.scale(t)*n]}),s=[],l=0;l<a.length;l++){var u=a[l],c=fb({x:u[0],y:u[1],y0:n,size:i});s.push.apply(s,c)}return function(t,e){void 0===e&&(e=!0);var n=[],i=t[0];n.push(["M",i.x,i.y]);for(var r=1,o=t.length;r<o;r++)n.push(["L",t[r].x,t[r].y]);return e&&(n.push(["L",i.x,i.y]),n.push(["z"])),n}(s)}(this.intervalConfig.data,i,r,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),c.move(e,n)},t.prototype.destory=function(){this.group.destroy()},t}(),yb=this&&this.__assign||function(){return(yb=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},bb={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},xb={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},wb=function(){function t(t){var e=t.group,n=t.name,i=t.type,r=t.x,o=void 0===r?0:r,a=t.y,s=void 0===a?0:a,l=t.width,u=void 0===l?2:l,c=t.height,h=void 0===c?24:c,d=t.style,f=void 0===d?{}:d;this.group=e,this.name=n,this.handleType=i,this.x=o,this.y=s,this.width=u,this.height=h,"trend"===i?this.style=yb(yb({},bb),f):"simple"===i&&(this.style=yb(yb({},xb),f)),this.renderHandle()}return t.prototype.setX=function(t){this.setXY(t,void 0)},t.prototype.setY=function(t){this.setXY(void 0,t)},t.prototype.setXY=function(t,e){Bv(t)&&(this.x=t),Bv(e)&&(this.y=e),this.updateXY()},t.prototype.renderHandle=function(){var t=this.width,e=this.height,n=this.style,i=this.name,r=n.fill,o=n.stroke,a=n.radius,s=n.opacity,l=n.cursor;this.handleGroup=this.group.addGroup(),"trend"===this.handleType?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:r,stroke:o,radius:a,opacity:s,cursor:l},name:"".concat(i,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:r,stroke:o,radius:a,opacity:s,cursor:l,lineAppendWidth:12},name:"".concat(i,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:r,stroke:o,radius:a,opacity:s,cursor:l},name:"".concat(i,"-handler")})):"simple"===this.handleType&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:r,stroke:o,radius:a,opacity:s,cursor:l,lineWidth:2},name:"".concat(i,"-handler")})),this.updateXY(),"trend"===this.handleType?this.bindTrendEvents():"simple"===this.handleType&&this.bindSimpleEvents()},t.prototype.bindSimpleEvents=function(){var t=this,e=this.name;this.handleGroup.on("".concat(e,"-handler:mouseenter"),function(){var e=t.style.highLightFill;t.topCircle.attr("fill",e)}),this.handleGroup.on("".concat(e,"-handler:mouseleave"),function(){var e=t.style.fill;t.topCircle.attr("fill",e)})},t.prototype.bindTrendEvents=function(){var t=this,e=this.name;this.handleGroup.on("".concat(e,"-handler:mouseenter"),function(){var e=t.style.highLightFill;t.verticalLine.attr("fill",e),t.topCircle.attr("fill",e),t.bottomCircle.attr("fill",e)}),this.handleGroup.on("".concat(e,"-handler:mouseleave"),function(){var e=t.style.fill;t.verticalLine.attr("fill",e),t.topCircle.attr("fill",e),t.bottomCircle.attr("fill",e)})},t.prototype.show=function(){this.handleGroup.show()},t.prototype.hide=function(){this.handleGroup.hide()},t.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},t}(),_b=this&&this.__assign||function(){return(_b=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Sb=function(){function t(t){this.config=qv({},t),this.init()}return t.prototype.update=function(t){this.config=qv({},this.config,t),this.updateElement(),this.renderMarker()},t.prototype.init=function(){this.initElement(),this.renderMarker()},t.prototype.initElement=function(){var t=this.config,e=t.group,n=t.style,i=n.scale,r=void 0===i?1:i,o=n.offsetX,a=void 0===o?0:o,s=n.offsetY,l=void 0===s?0:s,u=this.config.x+a,c=this.config.y+l,h=e.addGroup({name:"playPauseBtn"});this.startMarkerGroup=h.addGroup({name:"playPauseBtn"}),this.circle=e.addShape("circle",{attrs:_b({x:u,y:c,r:this.config.r*r},n),name:"playPauseBtn"}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(u,c,r),fill:n.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=h.addGroup({name:"playPauseBtn"});var d=.25*this.config.r*r,f=.5*this.config.r*Math.sqrt(3)*r;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:u-.375*this.config.r*r,y:c-f/2,width:d,height:f,fill:n.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:u+1/8*this.config.r*r,y:c-f/2,width:d,height:f,fill:n.stroke||"#aaa",lineWidth:0}})},t.prototype.updateElement=function(){var t=this.config.style,e=t.scale,n=void 0===e?1:e,i=t.offsetX,r=void 0===i?0:i,o=t.offsetY,a=void 0===o?0:o,s=this.config.x+r,l=this.config.y+a;this.circle.attr("x",s),this.circle.attr("y",l),this.circle.attr("r",this.config.r*n),this.startMarker.attr("path",this.getStartMarkerPath(s,l,n));var u=.25*this.config.r*n,c=.5*this.config.r*Math.sqrt(3)*n;this.pauseLeftMarker.attr("x",s-.375*this.config.r*n),this.pauseLeftMarker.attr("y",l-c/2),this.pauseLeftMarker.attr("width",u),this.pauseLeftMarker.attr("height",c),this.pauseRightMarker.attr("x",s+1/8*this.config.r*n),this.pauseRightMarker.attr("y",l-c/2),this.pauseRightMarker.attr("width",u),this.pauseRightMarker.attr("height",c)},t.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},t.prototype.getStartMarkerPath=function(t,e,n){var i=.5*this.config.r*Math.sqrt(3)*n;return[["M",t-i/Math.sqrt(3)/2,e-i/2],["L",t+i/Math.sqrt(3),e],["L",t-i/Math.sqrt(3)/2,e+i/2]]},t}(),Mb=this&&this.__assign||function(){return(Mb=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Cb=J.a.transform,Ib={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},kb={fill:"#fff"},Tb={fill:"green"},Ob={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},Eb={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},Ab={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:Ob,timeTypeControllerStyle:Eb},Nb=function(){function t(t){this.controllerCfg=qv({},Ab,t),this.group=t.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=t.fontFamily||"Arial, sans-serif",this.init()}return t.prototype.init=function(){this.renderPlayButton()},t.prototype.getNextMarkerPath=function(t,e,n){return[["M",t,e-n],["L",t+n,e],["L",t,e+n],["Z",t,e-n],["M",t,e],["L",t-n,e-n],["L",t-n,e+n],["Z"]]},t.prototype.getPreMarkerPath=function(t,e,n){return[["M",t,e-n],["L",t-n,e],["L",t,e+n],["L",t,e-n],["M",t,e],["L",t+n,e-n],["L",t+n,e+n],["Z"]]},t.prototype.renderPlayButton=function(){var t=this.controllerCfg,e=t.width,n=t.height,i=t.x,r=t.y,o=t.hideTimeTypeController,a=t.fill,s=void 0===a?"#aaa":a,l=t.stroke,u=void 0===l?"green":l,c=t.containerStyle,h=void 0===c?{}:c,d=Mb(Mb({},Ib),t.playBtnStyle||{}),f=Mb(Mb({},kb),t.preBtnStyle||{}),p=Mb(Mb({},Tb),t.nextBtnStyle||{}),g=n/2-5,v=r+10,m=this.controllerGroup.addShape("rect",{attrs:Mb({x:i,y:v,width:e,height:n,stroke:u,fill:s},h),name:"container-rect"});this.playButton?this.playButton.update({x:e/2,y:v,r:g}):this.playButton=new Sb({group:this.controllerGroup,x:e/2,y:v+g+5,r:g,isPlay:this.isPlay,style:d});var y=f.offsetX||0,b=f.offsetY||0,x=(f.scale||1)*g;this.controllerGroup.addShape("path",{attrs:Mb({path:this.getPreMarkerPath(e/2-5*g+y,v+g+5+b,.5*x)},f),name:"preStepBtn"});var w=p.offsetX||0,_=p.offsetY||0,S=(p.scale||1)*g;this.controllerGroup.addShape("path",{attrs:Mb({path:this.getNextMarkerPath(e/2+5*g+w,v+g+5+_,.5*S)},p),name:"nextStepBtn"}),m.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var M=this.controllerCfg.scale,C=void 0===M?1:M,I=this.controllerGroup.getCanvasBBox(),k=(I.maxX+I.minX)/2,T=(I.maxY+I.minY)/2,O=Cb([1,0,0,0,1,0,0,0,1],[["t",-k,-T],["s",C,C],["t",k,T]]);this.controllerGroup.setMatrix(O)},t.prototype.renderSpeedBtn=function(){var t=this.controllerCfg,e=t.y,n=t.width,i=t.hideTimeTypeController,r=Mb(Mb({},Ob),this.controllerCfg.speedControllerStyle||{}),o=r.scroller,a=void 0===o?{}:o,s=r.text,l=void 0===s?{}:s,u=r.pointer,c=void 0===u?{}:u,h=r.scale,d=void 0===h?1:h,f=r.offsetX,p=void 0===f?0:f,g=r.offsetY,v=void 0===g?0:g,m=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=m;var y=[],b=5;this.speedAxisY=[19,22,26,32,39];for(var x=0;x<5;x++){var w=e+this.speedAxisY[x],_=n-(i?50:110);m.addShape("line",{attrs:Mb({x1:_,x2:_+15,y1:w,y2:w},a),speed:b,name:"speed-rect"}),this.speedAxisY[x]=w,y.push(b),b-=1}this.speedText=m.addShape("text",{attrs:Mb({x:n-(i?50:110)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},l),name:"speed-text"}),this.speedPoint=m.addShape("path",{attrs:Mb({path:this.getPointerPath(n-(i?50:110),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},c),name:"speed-pointer"});var S=this.speedGroup.getCanvasBBox(),M=(S.maxX+S.minX)/2,C=(S.maxY+S.minY)/2,I=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];I=Cb(I,[["t",-M,-C],["s",d,d],["t",M+p*d,C+v*d]]),this.speedGroup.setMatrix(I)},t.prototype.getPointerPath=function(t,e){return[["M",t,e],["L",t-10,e-4],["L",t-10,e+4],["Z"]]},t.prototype.renderToggleTime=function(){var t,e=this.controllerCfg.width,n=Mb(Mb({},Eb),this.controllerCfg.timeTypeControllerStyle||{}),i=n.scale,r=void 0===i?1:i,o=n.offsetX,a=void 0===o?0:o,s=n.offsetY,l=void 0===s?0:s,u=n.box,c=void 0===u?{}:u,h=n.check,d=void 0===h?{}:h,f=n.text,p=void 0===f?{}:f;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:Mb({x:e-50,y:this.speedAxisY[0]+3.5},c),isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:Mb({path:[["M",e-50+3,this.speedAxisY[1]+6],["L",e-50+7,this.speedAxisY[1]+10],["L",e-50+12,this.speedAxisY[1]+4]]},d),capture:!1,name:"check-icon"}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:Mb({text:(null===(t=this.controllerCfg)||void 0===t?void 0:t.timePointControllerText)||"单一时间",x:e-50+15,y:this.speedAxisY[0]+4,fontFamily:"undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},p),name:"checked-text"});var g=this.toggleGroup.getCanvasBBox(),v=(g.maxX+g.minX)/2,m=(g.maxY+g.minY)/2,y=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];y=Cb(y,[["t",-v,-m],["s",r,r],["t",v+a*r,m+l*r]]),this.toggleGroup.setMatrix(y)},t.prototype.bindEvent=function(){var t=this;this.speedGroup.on("speed-rect:click",function(e){var n=e.target.attr("y1"),i=t.speedPoint.attr("matrix"),r=t.speedAxisY.indexOf(i[7]||0),o=t.speedAxisY.indexOf(n),a=t.speedAxisY[o]-t.speedAxisY[r];i=Cb(i,[["t",0,a]]),t.speedPoint.setMatrix(i),t.currentSpeed=t.speedAxisY.length-o,t.speedText.attr("text","".concat(t.currentSpeed,".0X")),t.group.emit("timebarConfigChanged",{speed:t.currentSpeed,type:t.currentType})}),this.speedGroup.on("mousewheel",function(e){e.preventDefault();var n=t.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],i=n[7],r=t.speedAxisY.indexOf(i);if(-1===r){var o=1/0;t.speedAxisY.forEach(function(t,e){var n=Math.abs(t-i);o>n&&(o=n,r=e)})}r=e.originalEvent.deltaY>0?Math.max(0,r-1):Math.min(t.speedAxisY.length-1,r+1);var a=t.speedAxisY[r]-i;n=Cb(n,[["t",0,a]]),t.speedPoint.setMatrix(n),t.currentSpeed=t.speedAxisY.length-r,t.speedText.attr("text","".concat(t.currentSpeed,".0X")),t.group.emit("timebarConfigChanged",{speed:t.currentSpeed,type:t.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(e){var n,i,r=e.target.get("isChecked");r?(t.checkedIcon.hide(),t.checkedText.attr("text",(null===(i=t.controllerCfg)||void 0===i?void 0:i.timePointControllerText)||"单一时间"),t.currentType="range"):(t.checkedIcon.show(),t.checkedText.attr("text",(null===(n=t.controllerCfg)||void 0===n?void 0:n.timeRangeControllerText)||"时间范围"),t.currentType="single"),e.target.set("isChecked",!r),t.group.emit("timebarConfigChanged",{type:t.currentType,speed:t.currentSpeed})})},t.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},t}(),Lb=this&&this.__assign||function(){return(Lb=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Db=J.a.transform,jb={fill:"#416180",opacity:.05},Pb={fill:"#416180",opacity:.15,radius:5},Rb={fill:"#5B8FF9",opacity:.3,cursor:"grab"},zb={width:2,height:24},Bb={textBaseline:"middle",fill:"#000",opacity:.45},Fb={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},Gb={lineWidth:1,stroke:"#ccc"},Vb=function(){function t(t){var e=this;this.prevX=0,this.onMouseDown=function(t){return function(n){e.currentHandler=t;var i=n.originalEvent;i.stopPropagation(),i.preventDefault(),e.prevX=sm(i,"touches.0.pageX",i.pageX);var r=e.canvas.get("container");r.addEventListener("mousemove",e.onMouseMove),r.addEventListener("mouseup",e.onMouseUp),r.addEventListener("mouseleave",e.onMouseUp),r.addEventListener("touchmove",e.onMouseMove),r.addEventListener("touchend",e.onMouseUp),r.addEventListener("touchcancel",e.onMouseUp)}},this.onMouseMove=function(t){t.stopPropagation(),t.preventDefault();var n=sm(t,"touches.0.pageX",t.pageX),i=n-e.prevX,r=e.adjustOffsetRange(i/e.width);e.updateStartEnd(r),e.updateUI(),e.prevX=n},this.onMouseUp=function(){e.currentHandler&&(e.currentHandler=void 0);var t=e.canvas.get("container");t&&(t.removeEventListener("mousemove",e.onMouseMove),t.removeEventListener("mouseup",e.onMouseUp),t.removeEventListener("mouseleave",e.onMouseUp),t.removeEventListener("touchmove",e.onMouseMove),t.removeEventListener("touchend",e.onMouseUp),t.removeEventListener("touchcancel",e.onMouseUp))};var n=t.x,i=void 0===n?0:n,r=t.y,o=void 0===r?0:r,a=t.width,s=void 0===a?100:a,l=t.height,u=t.padding,c=void 0===u?10:u,h=t.trendCfg,d=t.controllerCfg,f=void 0===d?{speed:1}:d,p=t.backgroundStyle,g=void 0===p?{}:p,v=t.foregroundStyle,m=void 0===v?{}:v,y=t.handlerStyle,b=void 0===y?{}:y,x=t.textStyle,w=void 0===x?{}:x,_=t.start,S=void 0===_?0:_,M=t.end,C=void 0===M?1:M,I=t.minText,k=void 0===I?"":I,T=t.maxText,O=void 0===T?"":T,E=t.group,A=t.graph,N=t.canvas,L=t.tick,D=void 0===L?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(t){return t},ticks:[]}:L,j=t.type;this.graph=A,this.canvas=N,this.group=E,this.timeBarType=j,this.x=i,this.y=o,this.width=s,this.height=l,this.padding=c,this.ticks=D.ticks,this.trendCfg=h,this.controllerCfg=f,this.currentSpeed=f.speed||1,this.tickLabelFormatter=D.tickLabelFormatter,"trend"===j?this.backgroundStyle=Lb(Lb({},jb),g):"simple"===j&&(this.backgroundStyle=Lb(Lb({},Pb),g)),this.foregroundStyle=Lb(Lb({},Rb),m),this.handlerStyle=Lb(Lb({},zb),b),this.textStyle=Lb(Lb({},Bb),w),this.tickLabelStyle=Lb(Lb({},Fb),D.tickLabelStyle),this.tickLineStyle=Lb(Lb({},Gb),D.tickLineStyle),this.currentMode="range",this.start=S,this.end=C,this.minText=k,this.maxText=O,this.fontFamily="undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return t.prototype.update=function(t){var e=t.x,n=t.y,i=t.width,r=t.height,o=t.minText,a=t.maxText,s=t.start,l=t.end;this.start=Math.min(1,Math.max(s,0)),this.end=Math.min(1,Math.max(l,0)),Jv(this,{x:e,y:n,width:i,height:r,minText:o,maxText:a}),this.updateUI()},t.prototype.setText=function(t,e){this.minTextShape.attr("text",t),this.maxTextShape.attr("text",e)},t.prototype.renderSlider=function(){var t=this,e=this.width,n=this.height,i=this.timeBarType;if("trend"===i&&cm(sm(this.trendCfg,"data"))){var r=new mb(Lb(Lb({x:this.x,y:this.y,width:e,height:n},this.trendCfg),{group:this.group}));this.trendComponent=r}var o=this.group.addGroup({name:"slider-group"});o.addShape("rect",{attrs:Lb({x:0,y:0,width:e,height:n},this.backgroundStyle),name:"background"});var a=this.group.addGroup();"trend"===i?(this.minTextShape=a.addShape("text",{attrs:Lb({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=a.addShape("text",{attrs:Lb({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=a.addShape("text",{attrs:Lb({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=a.addShape("text",{attrs:Lb({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Lb({x:0,y:this.y,height:n},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",function(t){t.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(e){e.target.attr("cursor",t.foregroundStyle.cursor||"grab")});var s=sm(this.handlerStyle,"width",2),l=sm(this.handlerStyle,"height",24),u=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new wb({name:"minHandlerShape",group:u,type:i,x:this.x,y:this.y,width:s,height:l,style:this.handlerStyle});var c=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new wb({name:"maxHandlerShape",group:c,type:i,x:this.x,y:this.y,width:s,height:l,style:this.handlerStyle});var h=this.ticks,d=e/(h.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(t){t.destroy()});var f=-1/0,p=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=h.map(function(e,i){var r;t.tickPosList.push(t.x+i*d),t.tickLabelFormatter?(r=t.tickLabelFormatter(e),!Dv(r)&&r&&(r=e.date)):r=e.date;var o=t.x+i*d,a=t.y+n+5,s=t.group.addShape("text",{attrs:Lb({x:o,y:a,text:r,fontFamily:t.fontFamily||"Arial, sans-serif"},t.tickLabelStyle),name:"tick-label"});if(Bv(p)&&i!==h.length-1){var l=Db([1,0,0,0,1,0,0,0,1],[["t",-o,-a],["r",p],["t",o-5,a+2]]);s.attr({textAlign:"left",matrix:l})}0===i?s.attr({textAlign:"left"}):i!==h.length-1&&s.attr({textAlign:"right"});var u=t.group.addShape("line",{attrs:Lb({x1:t.x+i*d,y1:t.y+n+2,x2:t.x+i*d,y2:t.y+n+6},t.tickLineStyle),name:"tick-line"});u.toBack();var c=s.getBBox();return c.minX>f?(s.show(),u.show(),f=c.minX+c.width+10):(s.hide(),u.hide()),s}),this.controllerBtnGroup=new Nb(Lb({group:this.group,x:this.x,y:this.y+n+25,width:e,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),o.move(this.x,this.y),this.bindEvents()},t.prototype.bindEvents=function(){var t=this,e=this.group.find(function(t){return"minHandlerShape"===t.get("name")});e&&(e.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),e.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var n=this.group.find(function(t){return"maxHandlerShape"===t.get("name")});n&&(n.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),n.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat("playPauseBtn",":click"),function(){t.isPlay=!t.isPlay,t.currentHandler=t.maxHandlerShape,t.changePlayStatus()}),this.group.on("".concat("nextStepBtn",":click"),function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(.01),t.updateUI()}),this.group.on("".concat("preStepBtn",":click"),function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(-.01),t.updateUI()}),this.group.on("timebarConfigChanged",function(e){var n=e.type,i=e.speed;t.currentSpeed=i,t.currentMode=n,"single"===n?(t.minHandlerShape.hide(),t.foregroundShape.hide(),t.minTextShape.hide()):"range"===n&&(t.minHandlerShape.show(),t.foregroundShape.show(),t.minTextShape.show())})},t.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1;return 0},t.prototype.adjustOffsetRange=function(t){switch(this.currentHandler){case this.minHandlerShape:var e=0-this.start,n=1-this.start;return Math.min(n,Math.max(e,t));case this.maxHandlerShape:e=0-this.end,n=1-this.end;return Math.min(n,Math.max(e,t));case this.foregroundShape:e=0-this.start,n=1-this.end;return Math.min(n,Math.max(e,t));default:return 0}},t.prototype.updateStartEnd=function(t){var e=this.ticks[this.adjustTickIndex(this.start*this.width)],n=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler)return this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):null===e||void 0===e?void 0:e.date,void(this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):null===n||void 0===n?void 0:n.date);switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=t,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;case this.foregroundShape:this.start+=t,this.end+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date}},t.prototype.updateUI=function(){var t=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var e=this.x+this.start*this.width,n=this.x+this.end*this.width;this.foregroundShape.attr("x",e),this.foregroundShape.attr("width",n-e);var i=sm(this.handlerStyle,"width",2);this.setText(this.minText,this.maxText);var r=this.dodgeText([e,n]),o=r[0],a=r[1];this.minHandlerShape.setX(e-i/2),Ov(o,function(e,n){return t.minTextShape.attr(n,e)}),this.maxHandlerShape.setX(n-i/2),Ov(a,function(e,n){return t.maxTextShape.attr(n,e)}),"range"===this.currentMode?this.graph.emit("valuechange",{value:[this.start,this.end].sort()}):"single"===this.currentMode&&this.graph.emit("valuechange",{value:[this.end,this.end]})},t.prototype.dodgeText=function(t){var e,n,i=sm(this.handlerStyle,"width",2),r=this.minTextShape,o=this.maxTextShape,a=t[0],s=t[1],l=!1;a>s&&(a=(e=[s,a])[0],s=e[1],r=(n=[o,r])[0],o=n[1],l=!0);var u=r.getBBox(),c=o.getBBox(),h=null,d=null;return"trend"===this.timeBarType?(h=a-u.width<this.x+2?{x:a+i/2+2,textAlign:"left"}:{x:a-i/2-2,textAlign:"right"},d=s+c.width>this.x+this.width?{x:s-i/2-2,textAlign:"right"}:{x:s+i/2+2,textAlign:"left"}):"simple"===this.timeBarType&&(h=r.attr("x")>u.width?{x:a,textAlign:"center"}:{x:a,textAlign:"left"},d=o.attr("x")>this.width-c.width?{x:s,textAlign:"right"}:{x:s,textAlign:"center"}),l?[d,h]:[h,d]},t.prototype.startPlay=function(){var t=this;return"undefined"!=typeof window?window.requestAnimationFrame(function(){var e=t,n=e.ticks,i=e.width,r=t.currentSpeed,o=i/n.length/(1e3*(10-r)/60),a=t.adjustOffsetRange(o/t.width);t.updateStartEnd(a),t.updateUI(),t.isPlay&&(t.playHandler=t.startPlay())}):void 0},t.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timebarstartplay",null)):this.playHandler&&("undefined"!=typeof window&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit("timebarendplay",null))},t.prototype.destory=function(){this.graph.off("valuechange");var t=this.group,e=t.find(function(t){return"minHandlerShape"===t.get("name")});e&&(e.off("minHandlerShape-handler:mousedown"),e.off("minHandlerShape-handler:touchstart"),e.destroy());var n=t.find(function(t){return"maxHandlerShape"===t.get("name")});n&&(n.off("maxHandlerShape-handler:mousedown"),n.off("maxHandlerShape-handler:touchstart"),n.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),t.off("".concat("playPauseBtn",":click")),t.off("".concat("nextStepBtn",":click")),t.off("".concat("preStepBtn",":click")),t.off("timebarConfigChanged"),t.destroy(),this.trendComponent&&this.trendComponent.destory()},t}(),Wb=function(){function t(t){var e=t.x,n=void 0===e?0:e,i=t.y,r=void 0===i?0:i,o=t.container,a=t.text,s=t.padding,l=void 0===s?[4,4,4,4]:s,u=t.className,c=void 0===u?"g6-component-timebar-tooltip":u,h=t.backgroundColor,d=void 0===h?"#000":h,f=t.textColor,p=void 0===f?"#fff":f,g=t.opacity,v=void 0===g?.8:g,m=t.fontSize,y=void 0===m?12:m;this.container=o,this.className=c,this.backgroundColor=d,this.textColor=p,this.x=n,this.y=r,this.text=a,this.padding=l,this.opacity=v,this.fontSize=y,this.render()}return t.prototype.render=function(){var t=this.className,e=(this.x,this.y,this.backgroundColor),n=this.textColor,i=this.text,r=this.padding,o=this.opacity,a=this.fontSize,s=this.container,l=to("<div class='".concat(t,"' style=\"position: absolute; width: fit-content; height: fit-content; opacity: ").concat(o,'"></div>'));Dv(s)&&(s=document.getElementById(s)),s.appendChild(l),this.parentHeight=s.offsetHeight,this.parentWidth=s.offsetWidth,eo(l,{visibility:"hidden",top:0,left:0});var u=to("\n      <div style='position: absolute; white-space:nowrap; background-color: ".concat(e,"; font-size: ").concat(a,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(n,"; padding: ").concat(r[0],"px ").concat(r[1],"px ").concat(r[2],"px ").concat(r[3],"px'></div>"));u.innerHTML=i,l.appendChild(u),this.backgroundDOM=u;var c=to("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(e,"'></div>"));l.appendChild(c),this.arrowDOM=c,this.container=l},t.prototype.show=function(t){var e=t.text,n=t.x;t.y,t.clientX,t.clientY;this.backgroundDOM.innerHTML=e;var i=this.backgroundDOM.offsetWidth,r=this.backgroundDOM.offsetHeight,o=this.arrowDOM.offsetWidth,a=this.arrowDOM.offsetHeight;eo(this.container,{top:"".concat(-r-a,"px"),left:"".concat(n,"px"),visibility:"visible"}),eo(this.backgroundDOM,{marginLeft:"".concat(-i/2,"px")}),eo(this.arrowDOM,{marginLeft:"".concat(-o/2,"px"),top:"".concat(r,"px")});var s=n-i/2,l=n+i/2;s<0?eo(this.backgroundDOM,{marginLeft:"".concat(-i/2-s,"px")}):l>this.parentWidth&&eo(this.backgroundDOM,{marginLeft:"".concat(-i/2-l+this.parentWidth+12,"px")})},t.prototype.hide=function(){eo(this.container,{top:0,left:0,visibility:"hidden"})},t}(),Hb=this&&this.__assign||function(){return(Hb=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ub=J.a.transform,Yb={fill:"#5B8FF9"},Jb={fill:"#e6e8e9"},Qb=function(){function t(t){this.frameCount=0,this.fontFamily="Arial, sans-serif";var e=t.graph,n=t.canvas,i=t.group,r=t.width,o=t.height,a=t.padding,s=t.data,l=t.start,u=t.end,c=t.x,h=void 0===c?0:c,d=t.y,f=void 0===d?0:d,p=t.tickLabelFormatter,g=t.selectedTickStyle,v=void 0===g?Yb:g,m=t.unselectedTickStyle,y=void 0===m?Jb:m,b=t.tooltipBackgroundColor,x=t.tooltipFomatter,w=t.tickLabelStyle;this.graph=e,this.group=i,this.sliceGroup=i.addGroup({name:"slice-group"}),this.canvas=n,this.width=r,this.height=o,this.padding=a,this.data=s,this.start=l,this.end=u,this.tickLabelFormatter=p,this.tickLabelStyle=w||{},this.selectedTickStyle=v,this.unselectedTickStyle=y,this.x=h,this.y=f,this.tooltipBackgroundColor=b,this.tooltipFomatter=x,this.fontFamily="undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return t.prototype.renderSlices=function(){var t=this,e=this,n=e.width,i=e.height,r=e.padding,o=e.data,a=e.start,s=e.end,l=e.tickLabelFormatter,u=e.selectedTickStyle,c=e.unselectedTickStyle,h=e.tickLabelStyle,d=n-2*r,f=i-(3*r+4+10)-2*r,p=o.length,g=(d-2*(p-1))/p;this.tickWidth=g;var v=this.sliceGroup,m=[],y=[],b=Math.round(p*a),x=Math.round(p*s);this.startTickRectId=b,this.endTickRectId=x;var w=h.rotate;delete h.rotate,o.forEach(function(e,i){var o=i>=b&&i<=x?u:c,a=v.addShape("rect",{attrs:Hb({x:r+i*(g+2),y:r,width:g,height:f},o),draggable:!0,name:"tick-rect-".concat(i)}),s=v.addShape("rect",{attrs:{x:r+i*g+2*(2*i-1)/2,y:r,width:0===i||i===p-1?g+1:g+2,height:f,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(i)});s.toFront();var d,_=a.getBBox(),S=(_.minX+_.maxX)/2;if(m.push({rect:a,pickRect:s,value:e.date,x:S,y:_.minY}),l?(d=l(e),!Dv(d)&&d&&(d=e.date)):i%Math.round(p/10)==0&&(d=e.date),d){y.push(d);var M=_.maxY+2*r;v.addShape("line",{attrs:{stroke:"#BFBFBF",x1:S,y1:M,x2:S,y2:M+4},name:"tick-line"});var C=M+4+r,I=v.addShape("text",{attrs:Hb({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:S,y:C,textAlign:"center",text:d,textBaseline:"top",fontSize:10,fontFamily:t.fontFamily||"Arial, sans-serif"},h),capture:!1,name:"tick-label"}),k=I.getBBox();if(k.maxX>n?I.attr("textAlign","right"):k.minX<0&&I.attr("textAlign","left"),Bv(w)&&10!==y.length){var T=Ub([1,0,0,0,1,0,0,0,1],[["t",-S,-C],["r",w],["t",S-5,C+2]]);I.attr({textAlign:"left",matrix:T})}1===y.length?I.attr({textAlign:"left"}):10===y.length&&I.attr({textAlign:"right"})}}),this.tickRects=m;var _=this.group;this.currentSpeed=1,this.controllerBtnGroup=new Nb({group:_,x:this.x,y:this.y+i+5,width:n,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},t.prototype.initEvent=function(){var t=this,e=this.sliceGroup;e.on("click",function(e){var n=e.target;if("rect"===n.get("type")&&n.get("name")){var i=parseInt(n.get("name").split("-")[2],10);if(!isNaN(i)){var r=t.tickRects,o=t.unselectedTickStyle;r.forEach(function(t){t.rect.attr(o)});var a=t.selectedTickStyle;r[i].rect.attr(a),t.startTickRectId=i,t.endTickRectId=i;var s=i/r.length;t.graph.emit("valuechange",{value:[s,s]})}}}),e.on("dragstart",function(e){var n=t.tickRects,i=t.unselectedTickStyle;n.forEach(function(t){t.rect.attr(i)});var r=e.target,o=parseInt(r.get("name").split("-")[2],10),a=t.selectedTickStyle;n[o].rect.attr(a),t.startTickRectId=o;var s=o/n.length;t.graph.emit("valuechange",{value:[s,s]}),t.dragging=!0}),e.on("dragover",function(e){if(t.dragging&&"rect"===e.target.get("type")){for(var n=parseInt(e.target.get("name").split("-")[2],10),i=t.startTickRectId,r=t.tickRects,o=t.selectedTickStyle,a=t.unselectedTickStyle,s=0;s<r.length;s++){var l=s>=i&&s<=n?o:a;r[s].rect.attr(l)}var u=r.length;t.endTickRectId=n;var c=i/u,h=n/u;t.graph.emit("valuechange",{value:[c,h]})}}),e.on("drop",function(e){if(t.dragging&&(t.dragging=!1,"rect"===e.target.get("type"))){var n=t.startTickRectId,i=parseInt(e.target.get("name").split("-")[2],10);if(!(i<n)){var r=t.selectedTickStyle,o=t.tickRects;o[i].rect.attr(r),t.endTickRectId=i;var a=o.length,s=n/a,l=i/a;t.graph.emit("valuechange",{value:[s,l]})}}});var n=this.tooltipBackgroundColor,i=this.tooltipFomatter,r=this.canvas,o=new Wb({container:r.get("container"),backgroundColor:n}),a=this.tickRects;a.forEach(function(t){var e=t.pickRect;e.on("mouseenter",function(t){var e=t.target;if("rect"===e.get("type")){var n=parseInt(e.get("name").split("-")[2],10),s=r.getClientByPoint(a[n].x,a[n].y);o.show({x:a[n].x,y:a[n].y,clientX:s.x,clientY:s.y,text:i?i(a[n].value):a[n].value})}}),e.on("mouseleave",function(t){o.hide()})});var s=this.group;s.on("".concat("playPauseBtn",":click"),function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),s.on("".concat("nextStepBtn",":click"),function(){t.updateStartEnd(1)}),s.on("".concat("preStepBtn",":click"),function(){t.updateStartEnd(-1)}),s.on("timebarConfigChanged",function(e){e.type;var n=e.speed;t.currentSpeed=n})},t.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timebarstartplay",null)):this.playHandler&&("undefined"!=typeof window&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit("timebarendplay",null))},t.prototype.startPlay=function(){var t=this;return"undefined"!=typeof window?window.requestAnimationFrame(function(){var e=t.currentSpeed;t.frameCount%(60/e)==0&&(t.frameCount=0,t.updateStartEnd(1)),t.frameCount++,t.isPlay&&(t.playHandler=t.startPlay())}):void 0},t.prototype.updateStartEnd=function(t){var e=this.tickRects,n=e.length,i=this.unselectedTickStyle,r=this.selectedTickStyle,o=this.endTickRectId;if(t>0?this.endTickRectId++:(e[this.endTickRectId].rect.attr(i),this.endTickRectId--),o!==this.startTickRectId)this.endTickRectId<this.startTickRectId&&(this.startTickRectId=this.endTickRectId);else{for(var a=this.startTickRectId;a<=this.endTickRectId-1;a++)e[a].rect.attr(i);this.startTickRectId=this.endTickRectId}if(e[this.endTickRectId]){e[this.endTickRectId].rect.attr(r);var s=this.startTickRectId/n,l=this.endTickRectId/n;this.graph.emit("valuechange",{value:[s,l]})}},t.prototype.destory=function(){this.graph.off("valuechange");var t=this.sliceGroup;t.off("click"),t.off("dragstart"),t.off("dragover"),t.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,t.off("".concat("playPauseBtn",":click")),t.off("".concat("nextStepBtn",":click")),t.off("".concat("preStepBtn",":click")),t.off("timebarConfigChanged"),this.sliceGroup.destroy()},t}(),Zb=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$b=this&&this.__assign||function(){return($b=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Xb=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},Kb=function(t){function e(e){return t.call(this,e)||this}return Zb(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{}}},e.prototype.initContainer=function(){var t,e,n=this.get("graph"),i=this._cfgs,r=i.width,o=i.height,a=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container");s?(Dv(s)&&(s=document.getElementById(s)),t=s):eo(t=to("<div class='".concat(a,"'></div>")),{position:"relative"}),l.appendChild(t),this.set("timeBarContainer",t),e="SVG"===n.get("renderer")?new er.Canvas({container:t,width:r,height:o}):new tr.Canvas({container:t,width:r,height:o}),this.get("containerCSS")&&eo(t,this.get("containerCSS")),this.set("canvas",e)},e.prototype.init=function(){this.initContainer();var t=this.get("canvas").addGroup({name:"timebar-group"});this.set("timeBarGroup",t),this.renderTrend(),this.initEvent();var e="undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",e)},e.prototype.renderTrend=function(){var t=this,e=this._cfgs,n=e.width,i=e.x,r=e.y,o=e.padding,a=e.type,s=e.trend,l=e.slider,u=e.controllerCfg,c=e.textStyle,h=e.tick,d=e.backgroundStyle,f=e.foregroundStyle,p=s.data,g=Xb(s,["data"]),v=n-2*o,m="trend"===a?26:4,y=this.get("graph"),b=this.get("timeBarGroup"),x=this.get("canvas"),w=null;if("trend"===a||"simple"===a){var _=this.get("getValue");w=new Vb($b($b({graph:y,canvas:x,group:b,type:a,x:i+o,y:"trend"===a?r+o:r+o+15,width:v,height:m,padding:o,backgroundStyle:d,foregroundStyle:f,trendCfg:$b($b({},g),{data:p.map(function(t){return(null===_||void 0===_?void 0:_(t))||t.value})})},l),{tick:{ticks:p,tickLabelFormatter:h.tickLabelFormatter,tickLabelStyle:h.tickLabelStyle,tickLineStyle:h.tickLineStyle},handlerStyle:$b($b({},l.handlerStyle),{height:l.height||m}),controllerCfg:u,textStyle:c}))}else"tick"===a&&(w=new Qb($b({graph:y,canvas:x,group:b,x:i+o,y:r+o,width:n,height:42,padding:2},h)));var S=function e(){var n=t.get("timebar");n.draggingHandler=!1,n.isPlay&&(n.isPlay=!1,n.currentHandler=n.maxHandlerShape,n.changePlayStatus()),document.removeEventListener("mouseup",e)};x.on("mousedown",function(t){"maxHandlerShape-handler"!==t.target.get("name")&&"minHandlerShape-handler"!==t.target.get("name")&&t.target!==w.foregroundShape||document.addEventListener("mouseup",S)}),this.set("timebar",w)},e.prototype.filterData=function(t){var e,n=t.value,i=null,r=this._cfgs.type;if("trend"===r||"simple"===r?i=this._cfgs.trend.data:"tick"===r&&(i=this._cfgs.tick.data),i&&0!==i.length){var o=this.get("rangeChange"),a=this.get("graph"),s=Math.round(i.length*n[0]),l=Math.round(i.length*n[1]);l=l>=i.length?i.length-1:l,s=s>=i.length?i.length-1:s;var u=null===(e=this._cfgs.tick)||void 0===e?void 0:e.tickLabelFormatter,c=u?u(i[s]):i[s].date,h=u?u(i[l]):i[l].date;if("tick"!==r)this.get("timebar").setText(c,h);if(o)o(a,c,h);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=a.get("data"));var d=this.get("filterItemTypes"),f=this.get("changeData"),p=this.get("getDate"),g=this.get("shouldIgnore"),v=i[s].date,m=i[l].date;if(f||void 0===f){var y=this.cacheGraphData.nodes,b=this.cacheGraphData.edges;if(d.includes("node")){var x=(y=y.filter(function(t){var e=+((null===p||void 0===p?void 0:p(t))||t.date);return e>=v&&e<=m||(null===g||void 0===g?void 0:g("node",t,{min:v,max:m}))})).map(function(t){return t.id});b&&(b=b.filter(function(t){return x.includes(t.source)&&x.includes(t.target)||(null===g||void 0===g?void 0:g("edge",t,{min:v,max:m}))}))}(this.get("filterEdge")||d.includes("edge"))&&(b=b.filter(function(t){var e=+((null===p||void 0===p?void 0:p(t))||t.date);return e>=v&&e<=m||(null===g||void 0===g?void 0:g("edge",t,{min:v,max:m}))})),a.changeData({nodes:y,edges:b})}else d.includes("node")&&a.getNodes().forEach(function(t){var e=t.getModel();if(null===g||void 0===g||!g("node",e,{min:v,max:m})){var n=+((null===p||void 0===p?void 0:p(e))||e.date);n<v||n>m?a.hideItem(t):a.showItem(t)}}),(this.get("filterEdge")||d.includes("edge"))&&a.getEdges().forEach(function(t){var e=t.getModel();if(null===g||void 0===g||!g("edge",e,{min:i[s].date,max:i[l].date})){var n=+((null===p||void 0===p?void 0:p(e))||e.date);n<i[s].date||n>i[l].date?a.hideItem(t):a.showItem(t)}})}}else console.warn("请配置 TimeBar 组件的数据")},e.prototype.initEvent=function(){var t=this,e=0,n=0,i=this._cfgs.type;i&&"trend"!==i&&"simple"!==i?"tick"===i&&(e=this._cfgs.tick.start,n=this._cfgs.tick.end):(e=this._cfgs.slider.start,n=this._cfgs.slider.end);var r=this.get("graph");r.on("afterrender",function(i){t.filterData({value:[e,n]})}),r.on("valuechange",function(t,e,n){var i,r,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),i=null,a=t.apply(r,o),i||(r=o=null)},u=function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return r=this,o=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),s=u,a=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(i),s=0,i=r=o=null},u}(function(e){t.filterData(e)},200,{trailing:!0,leading:!0}))},e.prototype.destroy=function(){var e=this.get("timebar");e&&e.destory&&e.destory(),t.prototype.destroy.call(this);var n=this.get("timeBarContainer");if(n){var i=this.get("container");i||(i=this.get("graph").get("container")),Dv(i)&&(i=document.getElementById(i)),i.removeChild(n)}},e}(dm),qb=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tx=Ui.applyMatrix;var ex=function(t){function e(e){return t.call(this,e)||this}return qb(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.graph;if(!this.destroyed){var i=this.get("container");Dv(i)&&(i=document.getElementById(i));var r=to("<div class=".concat(e.viewportClassName,"\n      style='position:absolute;\n        left:0;\n        top:0;\n        box-sizing:border-box;\n        border: 2px solid #1980ff'>\n      </div>")),o=0,a=0,s=!1,l=0,u=0,c=0,h=0,d=0,f=0;i.addEventListener("mousedown",function(i){if(e.refresh=!1,i.target===r){var l=r.style;c=parseInt(l.width,10),h=parseInt(l.height,10);var u=t.get("width"),p=t.get("height");c>u||h>p||(f=n.getZoom(),d=t.get("ratio"),s=!0,o=i.clientX,a=i.clientY)}},!1),i.addEventListener("mousemove",function(e){if(s&&!Iv(e.clientX)&&!Iv(e.clientY)){var i=t.get("width"),p=t.get("height"),g=r.style;l=parseInt(g.left,10),u=parseInt(g.top,10),c=parseInt(g.width,10),h=parseInt(g.height,10);var v=o-e.clientX,m=a-e.clientY;l-v<0?v=l:l-v+c>=i&&(v=0),u-m<0?m=u:u-m+h>=p&&(m=0),u-=m,eo(r,{left:"".concat(l-=v,"px"),top:"".concat(u,"px")}),n.translate(v*f/d,m*f/d),o=e.clientX,a=e.clientY}},!1),i.addEventListener("mouseleave",function(){s=!1,e.refresh=!0},!1),i.addEventListener("mouseup",function(){s=!1,e.refresh=!0},!1),this.set("viewport",r),i.appendChild(r)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),n=this.get("height"),i=this.get("graph"),r=i.get("width"),o=r/i.get("height"),a=i.getGroup(),s=a.getCanvasBBox(),l=[(s.minX+s.maxX)/2,(s.minY+s.maxY)/2],u=[s.maxX-s.minX,s.maxY-s.minY],c={centerX:l[0],centerY:l[1],width:0,height:0,minX:0,minY:0};s[0]/s[1]>o?(c.width=u[0],c.height=c.width/o):(c.height=u[1],c.width=c.height*o),c.minX=l[0]-c.width/2,c.minY=l[1]-c.height/2;var h=a.getMatrix();h||(h=[1,0,0,0,1,0,0,0,1]);var d=J.b.invert([1,0,0,0,1,0,0,0,1],h),f=tx({x:c.minX,y:c.minY},d),p=i.getCanvasByPoint(f.x,f.y),g=this.get("viewport");g||this.initViewport();var v=r/c.width,m=v*e,y=v*n,b=e*-p.x/c.width,x=n*-p.y/c.height,w=b+m,_=x+y;b<0&&(m+=b,b=0),w>e&&(m-=w-e),x<0&&(y+=x,x=0),_>n&&(y-=_-n),this.set("ratio",t),eo(g,{left:"".concat(b,"px"),top:"".concat(x,"px"),width:"".concat(m,"px"),height:"".concat(y,"px")})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this.get("graph"),e=t.get("width"),n=t.get("height")/e,i=this.get("className"),r=this.get("container"),o=this.get("width"),a=this.get("height");o||a||(o=200),o?(a=n*o,this.set("height",a)):(o=1/n*a,this.set("width",o));var s=to("<div class='".concat(i,"' style='width: ").concat(o,"px; height: ").concat(a,"px; overflow: hidden; position: relative;'></div>"));Dv(r)&&(r=document.getElementById(r)),r?r.appendChild(s):t.get("container").appendChild(s),this.set("container",s);var l=to('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');s.appendChild(l);var u=to('<span style="display: table-cell; vertical-align: middle; "></span>');l.appendChild(u),this.set("containerDOM",l),this.set("containerSpan",u);var c=to('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));this.set("imgDOM",c),this.updateImgSize(),u.appendChild(c),this.updateCanvas()},e.prototype.updateImgSize=function(){var t=this.get("imgDOM"),e=this.get("width"),n=this.get("height");t.onload=function(){var i=function(t,e){var n,i;if(t.naturalWidth)n=t.naturalWidth,i=t.naturalHeight;else{var r=new Image;r.src=t.src,r.onload=function(){e&&e(r.width,r.height)}}return[n,i]}(t);i[0]>i[1]?t.width=e:t.height=n}},e.prototype.updateCanvas=function(){if(this.get("refresh")){var t=this.get("graph");if(!t.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var e=this.get("width")/t.get("canvas").getCanvasBBox().width;this.set("ratio",e),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){this.get("imgDOM").remove(),this.set("graphImg",t);var e=to('<img alt="" src="'.concat(t,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));this.set("imgDOM",e),e.src=t,this.updateImgSize(),this.get("containerSpan").appendChild(e),this.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(dm),nx=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ix=this&&this.__assign||function(){return(ix=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},rx=Ui.distance,ox={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},ax=function(t){function e(e){return t.call(this,e)||this}return nx(e,t),e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:Zv(ox),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"}}return t},e.prototype.init=function(){var t=this.get("showLabel"),e="node"===t||"both"===t,n="edge"===t||"both"===t;this.set("showNodeLabel",e),this.set("showEdgeLabel",n),this.get("shouldShow")||this.set("shouldShow",function(){return!0})},e.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");n&&!n.destroyed||(e.filter(t),(n=e.get("delegate")).on("dragstart",function(t){}),n.on("drag",function(t){e.filter(t)}),"wheel"===this.get("scaleRBy")&&n.on("mousewheel",function(t){e.scaleRByWheel(t)}))},e.prototype.scaleRByWheel=function(t){if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var e,n=this.get("graph"),i=this.get("delegate");(i?{x:i.attr("x"),y:i.attr("y")}:void 0)||n.getPointByClient(t.clientX,t.clientY);e=t.originalEvent.wheelDelta<0?.95:1/.95;var r=this.get("maxR"),o=this.get("minR"),a=this.get("r");(a>(r||n.get("height"))&&e>1||a<(o||.05*n.get("height"))&&e<1)&&(e=1),a*=e,this.set("r",a),this.filter(t)}},e.prototype.filter=function(t){var e=this.get("graph"),n=e.getNodes(),i={},r=this.get("r"),o=this.get("type"),a={x:t.x,y:t.y};this.updateDelegate(a,r);var s=this.get("shouldShow"),l=this.get("vShapes");l&&l.forEach(function(t){t.remove(),t.destroy()}),l=[],n.forEach(function(t){var e=t.getModel(),n=e.x,o=e.y;rx({x:n,y:o},a)<r&&(i[e.id]=t)});var u=[];e.getEdges().forEach(function(t){var e=t.getModel(),n=e.source,r=e.target;s(e)&&("only-source"===o||"one"===o?i[n]&&!i[r]&&u.push(t):"only-target"===o||"one"===o?i[r]&&!i[n]&&u.push(t):"both"===o&&i[n]&&i[r]&&u.push(t))});var c=this.get("showNodeLabel"),h=this.get("showEdgelabel"),d=e.get("group");u.forEach(function(t){t.get("group").get("children").forEach(function(t){var e=t.get("type"),n=d.addShape(e,{attrs:t.attr()});l.push(n),c&&"text"===e&&n.set("visible",!0)})}),Object.keys(i).forEach(function(t){var e=i[t].get("group").clone();if(d.add(e),l.push(e),h)for(var n=e.get("children"),r=0;r<n.length;r++){var o=n[r];"text"===o.get("type")&&o.set("visible",!0)}}),this.set("vShapes",l)},e.prototype.updateParams=function(t){var e=t.r,n=t.trigger,i=t.minR,r=t.maxR,o=t.scaleRBy,a=t.showLabel,s=t.shouldShow;if(isNaN(t.r)||this.set("r",e),isNaN(r)||this.set("maxR",r),isNaN(i)||this.set("minR",i),"mousemove"!==n&&"click"!==n||this.set("trigger",n),"wheel"===o||"unset"===o){this.set("scaleRBy",o),this.get("delegate").remove(),this.get("delegate").destroy();var l=this.get("dPercentText");l&&(l.remove(),l.destroy())}"node"!==a&&"both"!==a||this.set("showNodeLabel",!0),"edge"!==a&&"both"!==a||this.set("showEdgeLabel",!0),s&&this.set("shouldShow",s)},e.prototype.updateDelegate=function(t,e){var n=this,i=n.get("graph"),r=n.get("delegate");if(!r||r.destroyed){var o=i.get("group"),a=n.get("delegateStyle")||ox;r=o.addShape("circle",{attrs:ix({r:e,x:t.x,y:t.y},a),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&"wheel"===this.get("scaleRBy")&&r.on("mousewheel",function(t){n.scaleRByWheel(t)})}else r.attr({x:t.x,y:t.y,r:e});n.set("delegate",r)},e.prototype.clear=function(){var t=this.get("vShapes");t&&t.forEach(function(t){t.remove(),t.destroy()}),t=[],this.set("vShapes",t);var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy())},e.prototype.destroy=function(){this.clear()},e}(dm),sx=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lx=Ui.pointLineDistance,ux={stroke:"#FA8C16",lineWidth:1},cx=function(t){function e(e){return t.call(this,e)||this}return sx(e,t),e.prototype.getDefaultCfgs=function(){return{line:ux,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},e.prototype.init=function(){},e.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},e.prototype.onDragStart=function(){this.initBoxLine()},e.prototype.onDrag=function(t){var e=t.item,n=(e.get("delegateShape")||e).getBBox(),i=e.getModel(),r=i.x-n.x,o=i.y-n.y;this.show({x:n.minX+r,y:n.minY+o},{width:n.width,height:n.height})},e.prototype.onDragEnd=function(){this.destory()},e.prototype.initBoxLine=function(){var t=this._cfgs,e=t.horizontalLines,n=t.verticalLines,i=t.itemAlignType;this.get("graph").getNodes().forEach(function(t){var r=t.getBBox(),o=t.get("id");!0===i||"horizontal"===i?(e["".concat(o,"tltr")]=[r.minX,r.minY,r.maxX,r.minY,t],e["".concat(o,"lcrc")]=[r.minX,r.centerY,r.maxX,r.centerY,t],e["".concat(o,"blbr")]=[r.minX,r.maxY,r.maxX,r.maxY,t]):"center"===i&&(e["".concat(o,"lcrc")]=[r.minX,r.centerY,r.maxX,r.centerY,t]),!0===i||"vertical"===i?(n["".concat(o,"tlbl")]=[r.minX,r.minY,r.minX,r.maxY,t],n["".concat(o,"tcbc")]=[r.centerX,r.minY,r.centerX,r.maxY,t],n["".concat(o,"trbr")]=[r.maxX,r.minY,r.maxX,r.maxY,t]):"center"===i&&(n["".concat(o,"tcbc")]=[r.centerX,r.minY,r.centerX,r.maxY,t])})},e.prototype.show=function(t,e){var n=Jv({},t);return this.itemAlign(t,e,n),t},e.prototype.itemAlign=function(t,e,n){var i=this,r=this._cfgs,o=r.horizontalLines,a=r.verticalLines,s=r.tolerance,l={x:n.x+e.width/2,y:n.y},u={x:n.x+e.width/2,y:n.y+e.height/2},c={x:n.x+e.width/2,y:n.y+e.height},h={x:n.x,y:n.y+e.height/2},d={x:n.x+e.width,y:n.y+e.height/2},f=[],p=[],g=null;if(this.clearAlignLine(),Ov(o,function(t){t[4].isVisible&&(f.push(i.getLineDisObject(t,l)),f.push(i.getLineDisObject(t,u)),f.push(i.getLineDisObject(t,c)))}),Ov(a,function(t){t[4].isVisible&&(p.push(i.getLineDisObject(t,h)),p.push(i.getLineDisObject(t,u)),p.push(i.getLineDisObject(t,d)))}),f.sort(function(t,e){return t.dis-e.dis}),p.sort(function(t,e){return t.dis-e.dis}),0!==f.length&&f[0].dis<s){t.y=f[0].line[1]-f[0].point.y+n.y,g={type:"item",horizontals:[f[0]]};for(var v=1;v<3;v++)f[0].dis===f[v].dis&&g.horizontals.push(f[v])}if(0!==p.length&&p[0].dis<s){t.x=p[0].line[0]-p[0].point.x+n.x,g?g.verticals=[p[0]]:g={type:"item",verticals:[p[0]]};for(v=1;v<3;v++)p[0].dis===p[v].dis&&g.verticals.push(p[v])}g&&(g.bbox=e,this.addAlignLine(g))},e.prototype.addAlignLine=function(t){var e=t.bbox,n=t.type,i=t.horizontals,r=t.verticals,o=this._cfgs,a=o.line,s=o.alignLines,l=this.get("graph").get("group");"item"===n&&(i&&Ov(i,function(t){var n,i,r=t.line,o=t.point,u=(r[0]+r[2])/2;o.x<u?(n=o.x-e.width/2,i=Math.max(r[0],r[2])):(n=o.x+e.width/2,i=Math.min(r[0],r[2]));var c=Jv({x1:n,y1:r[1],x2:i,y2:r[1]},a),h=l.addShape("line",{attrs:c,capture:!1});s.push(h)}),r&&Ov(r,function(t){var n,i,r=t.line,o=t.point,u=(r[1]+r[3])/2;o.y<u?(n=o.y-e.height/2,i=Math.max(r[1],r[3])):(n=o.y+e.height/2,i=Math.min(r[1],r[3]));var c=Jv({x1:r[0],y1:n,x2:r[0],y2:i},a),h=l.addShape("line",{attrs:c,capture:!1});s.push(h)}))},e.prototype.getLineDisObject=function(t,e){return{line:t,point:e,dis:lx(t,e)}},e.prototype.getContainer=function(){return this.get("container")},e.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;Ov(t,function(t){t.remove()}),t.length=0},e.prototype.destory=function(){var t=this._cfgs,e=t.horizontalLines,n=t.verticalLines;this.get("graph").getNodes().forEach(function(t){var i=t.get("id");delete e["".concat(i,"tltr")],delete e["".concat(i,"lcrc")],delete e["".concat(i,"blbr")],delete n["".concat(i,"tlbl")],delete n["".concat(i,"tcbc")],delete n["".concat(i,"trbr")]}),this.clearAlignLine()},e}(dm),hx=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dx=this&&this.__assign||function(){return(dx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},fx=["click","mouseenter"],px={PluginBase:dm,Menu:bm,Grid:gm,Minimap:Mm,Bundling:Tm,ToolBar:Dm,Tooltip:Pm,Fisheye:Nm,TimeBar:Kb,ImageMinimap:ex,EdgeFilterLens:ax,SnapLine:cx,Legend:function(t){function e(e){return t.call(this,e)||this}return hx(e,t),e.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},e.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var t=this.get("filter")||{};t.multiple&&"mouseenter"===t.trigger&&this.set("multiple",!1);var e=this.get("align");if(!e){var n=this.get("position").split("-");n.includes("left")&&(e="left"),e=n.includes("right")?"right":"center",this.set("align",e)}var i=this.get("graph").get("container"),r=to("<div class='g6-legend-container' style=\"position: absolute;\"></div>");i.appendChild(r),this.set("container",r);var o=this.render();eo(r,this.getContainerPos(o)),this.bindEvents()},e.prototype.getContainerPos=function(t){void 0===t&&(t=[0,0]);var e=this.get("graph"),n=this.get("offsetX"),i=this.get("offsetY"),r=this.get("margin"),o=this.get("position").split("-"),a={top:0,right:1,bottom:2,left:3},s={left:(e.getWidth()-t[0])/2+0,top:(e.getHeight()-t[1])/2+0};return o.forEach(function(n){var i=r[a[n]],o=n;switch(n){case"top":case"left":i+=0;break;case"bottom":i=e.getHeight()-t[1]-i+0,o="top";break;default:i=e.getWidth()-t[0]-i+0,o="left"}s[o]=i}),s.top+=i+e.getContainer().offsetTop,s.left+=n+e.getContainer().offsetLeft,Object.keys(s).forEach(function(t){s[t]="".concat(s[t],"px")}),s},e.prototype.bindEvents=function(){var t=this,e=t.get("filter");if(e&&e.enable){var n=e.trigger||"click";fx.includes(n)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),n="click");var i=t.get("legendCanvas");"mouseenter"===n?(i.on("node-container:mouseenter",function(e){return t.filterData(e)}),i.on("node-container:mouseleave",function(e){t.clearFilter(),t.clearActiveLegend()})):(i.on("node-container:click",function(e){return t.filterData(e)}),i.on("click",function(e){e.target&&e.target.isCanvas&&e.target.isCanvas()&&(t.clearFilter(),t.clearActiveLegend())}))}},e.prototype.changeData=function(t){this.set("data",t);var e=this.render();eo(this.get("container"),this.getContainerPos(e))},e.prototype.activateLegend=function(t){var e=this.get("filter");(null===e||void 0===e?void 0:e.multiple)||this.clearActiveLegend();var n=t.get("parent");n.get("active")?(n.set("active",!1),this.findLegendItemsByState("active").length&&n.set("inactive",!0)):(n.set("inactive",!1),n.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach(function(t){t.set("inactive",!0)}):this.clearActiveLegend();var i=(null===e||void 0===e?void 0:e.lengedStateStyles)||{},r=(null===i||void 0===i?void 0:i.inactive)||{opacity:.5,"text-shape":{opacity:.5}},o=r["text-shape"]||{};this.findLegendItemsByState("inactive").forEach(function(t){var e=t.get("children"),n=e[0],i=e[1];n.attr(dx(dx({},n.get("oriAttrs")),r)),i.attr(dx(dx({},i.get("oriAttrs")),o))});var a=(null===i||void 0===i?void 0:i.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},s=a["text-shape"]||{};this.findLegendItemsByState("active").forEach(function(t){var e=t.get("children"),n=e[0],i=e[1];n.attr(dx(dx({},n.get("oriAttrs")),a)),i.attr(dx(dx({},i.get("oriAttrs")),s))})},e.prototype.findLegendItemsByState=function(t,e,n){void 0===e&&(e="all"),void 0===n&&(n=!0);var i=this.get("legendCanvas").find(function(t){return"root"===t.get("name")}),r=i.find(function(t){return"node-group"===t.get("name")}),o=i.find(function(t){return"edge-group"===t.get("name")});return"node"===e?r.get("children").filter(function(e){return!!e.get(t)===n}):"edge"===e?o.get("children").filter(function(e){return!!e.get(t)===n}):r.get("children").filter(function(e){return!!e.get(t)===n}).concat(o.get("children").filter(function(e){return!!e.get(t)===n}))},e.prototype.clearActiveLegend=function(){var t=this.get("legendCanvas").find(function(t){return"root"===t.get("name")});[t.find(function(t){return"node-group"===t.get("name")}),t.find(function(t){return"edge-group"===t.get("name")})].forEach(function(t){t.get("children").forEach(function(t){t.set("active",!1),t.set("inactive",!1);var e=t.get("children"),n=e[0],i=e[1];n.attr(n.get("oriAttrs")),i.attr(i.get("oriAttrs"))})})},e.prototype.filterData=function(t){var e=this.get("filter"),n=null===e||void 0===e?void 0:e.filterFunctions;if(e&&n){var i=this.get("legendCanvas"),r=this.get("graph"),o=e.graphActiveState||"active",a=e.graphInactiveState||"inactive",s=e.multiple;this.clearFilter(),s||this.clearActiveLegend(),this.activateLegend(t.target);var l=i.find(function(t){return"root"===t.get("name")}),u=l.find(function(t){return"node-group"===t.get("name")}),c=l.find(function(t){return"edge-group"===t.get("name")}),h=u.get("children").filter(function(t){return t.get("active")}),d=c.get("children").filter(function(t){return t.get("active")}),f=0,p=["getNodes","getEdges"];p.forEach(function(t){r[t]().forEach(function(e){var i=!1;("getNodes"===t?h:d).forEach(function(t){var r=n[t.get("id")];i=i||r(e.getModel())}),i?(r.setItemState(e,a,!1),r.setItemState(e,o,!0),f++):(r.setItemState(e,o,!1),r.setItemState(e,a,!0))})}),f||p.forEach(function(t){r[t]().forEach(function(t){r.clearItemStates(t,[a])})})}},e.prototype.clearFilter=function(){var t=this.get("graph"),e=this.get("filter");if(e){var n=e.graphActiveState||"active",i=e.graphInactiveState||"inactive";t.getNodes().forEach(function(e){t.clearItemStates(e,[n,i])}),t.getEdges().forEach(function(e){t.clearItemStates(e,[n,i])})}},e.prototype.render=function(){var t=this;this.processData();var e=this.get("legendCanvas");if(!e){var n=(e=new tr.Canvas({container:this.get("container"),width:200,height:200})).addGroup({name:"root"});n.addGroup({name:"node-group"}),n.addGroup({name:"edge-group"}),this.set("legendCanvas",e)}var i=e.find(function(t){return"root"===t.get("name")}),r=i.find(function(t){return"node-group"===t.get("name")}),o=i.find(function(t){return"edge-group"===t.get("name")}),a=this.get("itemsData"),s=[r,o];["nodes","edges"].forEach(function(e,n){a[e].forEach(function(i){var r,o,a=s[n].addGroup({id:i.id,name:"node-container"}),l=i.type,u=t.getShapeSize(i),c=u.width,h=u.height,d=u.r,f=t.getStyle(e.substr(0,4),i);switch(i.type){case"circle":o={r:d,x:0,y:0};break;case"rect":o={width:c,height:h,x:-c/2,y:-h/2};break;case"ellipse":o={r1:c,r2:h,x:0,y:0};break;case"line":o={x1:-c/2,y1:0,x2:c/2,y2:0},l="line";break;case"quadratic":o={path:[["M",-c/2,0],["Q",0,c/2,c/2,0]]},l="path";break;case"cubic":o={path:[["M",-c/2,0],["C",-c/6,c/2,c/6,-c/2,c/2,0]]},l="path";break;default:o={r:d,x:0,y:0}}var p=a.addShape(l,{attrs:dx(dx({},o),f),name:"".concat(i.type,"-node-keyShape"),oriAttrs:dx({opacity:1},f)});if(i.label){var g=p.getBBox(),v=(null===(r=i.labelCfg)||void 0===r?void 0:r.style)||{},m=dx({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},v);a.addShape("text",{attrs:dx({x:g.maxX+4,y:0,text:i.label},m),className:"legend-label",name:"".concat(i.type,"-node-text"),oriAttrs:m})}})});var l,u=this.get("padding"),c=i.find(function(t){return"title-container"===t.get("name")}),h={height:0,maxY:0,width:0};if(this.get("title")){c||(c=i.addGroup({name:"title-container"}));var d={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:u[0]},f=this.get("titleConfig")||{},p=Object.assign(d,f.style||{});l=c.addShape("text",{attrs:dx({text:this.get("title")},p)}),h=c.getCanvasBBox(),c.setMatrix([1,0,0,0,1,0,f.offsetX,f.offsetY,1])}this.layoutItems();var g=i.getCanvasBBox(),v=r.getCanvasBBox(),m=v.minX<0?Math.abs(v.minX)+u[3]:u[3],y=h.maxY<v.minY?Math.abs(h.maxY-v.minY)+u[0]:h.maxY+u[0],b=[1,0,0,0,1,0,m,y,1];r.setMatrix(b);var x=[(g=i.getCanvasBBox()).minX+g.width+u[1],g.minY+g.height+u[2]];if(l){f=dx({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));h=c.getCanvasBBox();var w=c.getMatrix()||[1,0,0,0,1,0,0,0,1];"center"===f.position?w[6]=x[0]/2+f.offsetX:"right"===f.position?(w[6]=x[0]-u[3]+f.offsetX,l.attr({textAlign:"right"})):(w[6]=u[3]+f.offsetX,l.attr({textAlign:"left"})),c.setMatrix(w),h=c.getCanvasBBox(),b=[1,0,0,0,1,0,m=v.minX<0?Math.abs(v.minX)+u[3]:u[3],y=v.minY<h.maxY?Math.abs(h.maxY-v.minY)+u[0]:h.maxY+u[0],1],r.setMatrix(b);var _=[1,0,0,0,1,0,m,y,1];"vertical"===this.get("layout")?_[6]+=v.maxX+this.get("horiSep"):_[7]+=v.maxY+this.get("vertiSep"),o.setMatrix(_)}else{v=r.getCanvasBBox();var S=[1,0,0,0,1,0,0,0,1];"vertical"===this.get("layout")?S[6]+=b[6]+v.maxX+this.get("horiSep"):S[7]+=b[7]+v.maxY+this.get("vertiSep"),o.setMatrix(S)}g=i.getCanvasBBox(),v=r.getCanvasBBox(),b=r.getMatrix()||[1,0,0,0,1,0,0,0,1];var M=o.getMatrix()||[1,0,0,0,1,0,0,0,1],C=o.getCanvasBBox();x=[Math.max(v.width+b[6],C.width+M[6])+u[1],Math.max(v.height+b[7],C.height+M[7])+u[2]],e.changeSize(x[0],x[1]);var I=this.get("containerStyle"),k=i.getMatrix()||[1,0,0,0,1,0,0,0,1],T=Ui.invertMatrix({x:0,y:0},k);return i.addShape("rect",{attrs:dx({x:T.x+(I.lineWidth||1),y:T.y+(I.lineWidth||1),width:x[0]-2*(I.lineWidth||1),height:x[1]-2*(I.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},I),name:"legend-back-rect",capture:!1}).toBack(),x},e.prototype.layoutItems=function(){var t=this.get("legendCanvas"),e=this.get("horiSep"),n=this.get("vertiSep"),i=this.get("layout"),r=this.get("align"),o=[0,0],a=t.find(function(t){return"root"===t.get("name")}),s=a.find(function(t){return"node-group"===t.get("name")}),l=a.find(function(t){return"edge-group"===t.get("name")}),u={min:0,max:-1/0},c=-1/0;s.get("children").forEach(function(t,r){0===r&&(u.min=o[0]);var a=t.get("children")[0],s=t.getCanvasBBox(),l=a.getBBox(),h=l.width,d=l.height,f=0,p=0,g=0;"vertical"===i?(p=o[1],g=o[0]+h/2,o[0]=g+s.height+n,f=s.maxX+p+h/2):(p=o[0]+h/2,g=o[1],o[0]=p+s.width+e,f=s.maxY+g+d/2),o[0]>u.max&&(u.max=o[0]),f>c&&(c=f),t.setMatrix([1,0,0,0,1,0,p,g,1])});var h=u.max-u.min,d={min:0,max:-1/0},f=s.getCanvasBBox();o[0]=0,o[1]="vertical"===i?f.maxX+e:f.maxY+n,l.get("children").forEach(function(t,r){0===r&&(d.min=o[0]);var a=t.get("children")[0],s=t.getCanvasBBox(),l=a.getBBox(),u=l.width,c=l.height,h=0,f=0;"vertical"===i?(h=o[1],f=o[0],o[0]=f+s.height+n,t.setMatrix([1,0,0,0,1,0,0,f+c/2,1])):(h=o[0],f=o[1],o[0]=h+s.width+e,t.setMatrix([1,0,0,0,1,0,h+u/2,0,1])),o[0]>d.max&&(d.max=o[0])});var p=d.max-d.min;if(r&&""!==r&&"left"!==r){var g=h-p,v="center"===r?Math.abs(g)/2:Math.abs(g);(g<0?s:l).get("children").forEach(function(t){var e=t.getMatrix()||[1,0,0,0,1,0,0,0,1];"vertical"===i?e[7]+=v:e[6]+=v,t.setMatrix(e)})}},e.prototype.processData=function(){var t=this.get("data"),e={nodes:[],edges:[]};t.nodes&&(t.nodes.sort(function(t,e){return t.order-e.order}),t.nodes.forEach(function(t){var n,i,r,o,a,s=t.size||[(null===(n=t.style)||void 0===n?void 0:n.width)||(null===(i=t.style)||void 0===i?void 0:i.r)||8,(null===(r=t.style)||void 0===r?void 0:r.height)||(null===(o=t.style)||void 0===o?void 0:o.r)||8],l=(null===(a=t.labelCfg)||void 0===a?void 0:a.style)||{};e.nodes.push({id:t.id||um(),type:t.type||"circle",style:dx({},t.style),order:t.order,label:t.label,itemType:"node",size:s,labelCfg:{position:"right",style:dx({fontFamily:"Arial"},l)}})})),t.edges&&(t.edges.sort(function(t,e){return t.order-e.order}),t.edges.forEach(function(t){var n,i,r=t.type||"line";"cubic-horizontal"===t.type&&(r="cubic");var o=(null===(n=t.labelCfg)||void 0===n?void 0:n.style)||{},a=t.size||[(null===(i=t.style)||void 0===i?void 0:i.width)||8,1];e.edges.push({id:t.id||um(),type:r,size:a,style:dx({lineWidth:kv(a)?a[1]:1},t.style),order:t.order,label:t.label,itemType:"edge",labelCfg:{position:"right",style:dx({fontFamily:"Arial"},o)}})})),this.set("itemsData",e)},e.prototype.getContainer=function(){return this.get("container")},e.prototype.formatArray=function(t){var e=this.get(t);if(Bv(e))this.set(t,[e,e,e,e]);else if(kv(e))switch(e.length){case 0:this.set(t,[0,0,0,0]);break;case 1:this.set(t,[e[0],e[0],e[0],e[0]]);break;case 2:this.set(t,[e[0],e[1],e[0],e[1]]);break;case 3:this.set(t,[e[0],e[1],e[2],e[1]])}return this.get(t)},e.prototype.getShapeSize=function(t){var e,n,i;return t.size&&(kv(t.size)?(e=t.size[0],n=t.size[1]||t.size[0],i=t.size[0]/2):Bv(t.size)&&(e=t.size,n=t.size,i=t.size/2)),t.style&&(t.style.width&&(e=t.style.width),t.style.height&&(n=t.style.height),t.style.r&&(i=t.style.r)),i||(i=5),e||(e=i),n||(n=i),{width:e,height:n,r:i}},e.prototype.getStyle=function(t,e){return dx(dx({},"node"===t?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1}),e.style||{})},e.prototype.destroy=function(){var t=this.get("graph").get("container"),e=this.get("container");t.removeChild(e)},e}(dm)},gx={}.toString,vx=function(t,e){return gx.call(t)==="[object "+e+"]"},mx=function(t){return vx(t,"Function")},yx=function(t){return Array.isArray?Array.isArray(t):vx(t,"Array")},bx=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var xx=function(t,e){if(t)if(yx(t))for(var n=0,i=t.length;n<i&&!1!==e(t[n],n);n++);else if(bx(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break};Object.keys;var wx=function(t){return"object"==typeof t&&null!==t},_x=function(t){if(!wx(t)||!vx(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var Sx=Array.prototype,Mx=(Sx.splice,Sx.indexOf,Array.prototype.splice,function(t){return vx(t,"String")});Object.prototype.hasOwnProperty;var Cx=function(t){return vx(t,"Number")};Number.isInteger&&Number.isInteger;Math.PI,parseInt,Math.PI;var Ix=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return xx(t,function(n,i){mx(t)&&"prototype"===i||e.push(n)}),e};Object.prototype;function kx(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Tx(t,e,n,i){return e&&kx(t,e),n&&kx(t,n),i&&kx(t,i),t}var Ox=5;function Ex(t,e,n,i){for(var r in n=n||0,i=i||Ox,e)if(e.hasOwnProperty(r)){var o=e[r];null!==o&&_x(o)?(_x(t[r])||(t[r]={}),n<i?Ex(t[r],o,n+1,i):t[r]=e[r]):yx(o)?(t[r]=[],t[r]=t[r].concat(o)):void 0!==o&&(t[r]=o)}}var Ax=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)Ex(t,e[i]);return t};Object.prototype.hasOwnProperty;var Nx;Object.prototype.hasOwnProperty;(function(t,e){if(!mx(t))throw new TypeError("Expected a function");var n=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,i);return a.set(o,s),s};n.cache=new Map})(function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,r=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return Nx||(Nx=document.createElement("canvas").getContext("2d")),Nx.font=[o,a,r,n+"px",i].join(" "),Nx.measureText(Mx(t)?t:"").width},function(t,e){return void 0===e&&(e={}),Object(f.__spreadArrays)([t],Ix(e)).join("")}),function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();Qi("circle",{options:{size:Ki.defaultNode.size,style:{x:0,y:0,stroke:Ki.defaultNode.style.stroke,fill:Ki.defaultNode.style.fill,lineWidth:Ki.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ki.nodeLabel.style.fill,fontSize:Ki.nodeLabel.style.fontSize,fontFamily:Ki.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ki.defaultNode.linkPoints.size,lineWidth:Ki.defaultNode.linkPoints.lineWidth,fill:Ki.defaultNode.linkPoints.fill,stroke:Ki.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(f.__assign)({},Ki.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,i=void 0===n?{}:n,r=this.getShapeStyle(t),o=Ax({},i,t.icon),a="".concat(this.type,"-keyShape"),s=e.addShape("circle",{attrs:r,className:a,name:a,draggable:!0});e.shapeMap[a]=s;var l=o.width,u=o.height,c=o.show,h=o.text;if(c){var d="".concat(this.type,"-icon");e.shapeMap[d]=h?e.addShape("text",{attrs:Object(f.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:d,name:d,draggable:!0}):e.addShape("image",{attrs:Object(f.__assign)({x:-l/2,y:-u/2},o),className:d,name:d,draggable:!0})}return this.drawLinkPoints(t,e),s},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints;if(n){var i=n||{},r=i.top,o=i.left,a=i.right,s=i.bottom,l=i.size,u=i.r,c=Object(f.__rest)(i,["top","left","right","bottom","size","r"]),h=this.getSize(t)[0]/2;if(o){var d="link-point-left";e.shapeMap[d]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:-h,y:0,r:l/2||u||5}),className:d,name:d,isAnchorPoint:!0})}if(a){var p="link-point-right";e.shapeMap[p]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:h,y:0,r:l/2||u||5}),className:p,name:p,isAnchorPoint:!0})}if(r){var g="link-point-top";e.shapeMap[g]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:0,y:-h,r:l/2||u||5}),className:g,name:g,isAnchorPoint:!0})}if(s){var v="link-point-bottom";e.shapeMap[v]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:0,y:h,r:l/2||u||5}),className:v,name:v,isAnchorPoint:!0})}}},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},i=Ax({},e,n),r=this.getSize(t)[0]/2;return Object(f.__assign)({x:0,y:0,r:r},i)},update:function(t,e,n){var i=e.getContainer(),r=this.getSize(t),o=Object(f.__assign)({},t.style);void 0===t.style.stroke&&t.color&&(o.stroke=t.color),void 0!==t.style.r||isNaN(r[0])||(o.r=r[0]/2),this.updateShape(t,e,o,!0,n),this.updateLinkPoints(t,i)}},"single-node"),Qi("rect",{options:{size:[100,30],style:{radius:0,stroke:Ki.defaultNode.style.stroke,fill:Ki.defaultNode.style.fill,lineWidth:Ki.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ki.nodeLabel.style.fill,fontSize:Ki.nodeLabel.style.fontSize,fontFamily:Ki.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ki.defaultNode.linkPoints.size,lineWidth:Ki.defaultNode.linkPoints.lineWidth,fill:Ki.defaultNode.linkPoints.fill,stroke:Ki.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(f.__assign)({},Ki.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t),i=e.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return e.shapeMap["".concat(this.type,"-keyShape")]=i,this.drawLinkPoints(t,e),i},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=void 0===n?{}:n,r=i.top,o=i.left,a=i.right,s=i.bottom,l=i.size,u=i.r,c=Object(f.__rest)(i,["top","left","right","bottom","size","r"]),h=this.getSize(t),d=h[0],p=h[1];o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:-d/2,y:0,r:l/2||u||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:d/2,y:0,r:l/2||u||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),r&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:0,y:-p/2,r:l/2||u||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:0,y:p/2,r:l/2||u||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var e=Tx({},(this.mergeStyle||this.getOptions(t)).style,{stroke:t.color}),n=this.getSize(t),i=e.width||n[0],r=e.height||n[1];return Object(f.__assign)({x:-i/2,y:-r/2,width:i,height:r},e)},update:function(t,e,n){var i=e.getContainer(),r=this.getOptions({}).style,o=this.getSize(t),a=e.get("keyShape");t.size||(o[0]=a.attr("width")||r.width,o[1]=a.attr("height")||r.height);var s={stroke:t.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},l=Tx({},r,a.attr(),s);l=Tx(l,t.style),this.updateShape(t,e,l,!1,n),this.updateLinkPoints(t,i)}},"single-node"),Qi("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Ki.defaultNode.style.stroke,fill:Ki.defaultNode.style.fill,lineWidth:Ki.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ki.nodeLabel.style.fill,fontSize:Ki.nodeLabel.style.fontSize,fontFamily:Ki.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ki.defaultNode.linkPoints.size,lineWidth:Ki.defaultNode.linkPoints.lineWidth,fill:Ki.defaultNode.linkPoints.fill,stroke:Ki.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(f.__assign)({},Ki.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,i=void 0===n?{}:n,r=this.getShapeStyle(t),o=e.addShape("ellipse",{attrs:r,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});e.shapeMap["ellipse-keyShape"]=o;var a=i.width,s=i.height,l=i.show,u=i.text;return l&&(e.shapeMap["".concat(this.type,"-icon")]=u?e.addShape("text",{attrs:Object(f.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:Object(f.__assign)({x:-a/2,y:-s/2},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=void 0===n?{}:n,r=i.top,o=i.left,a=i.right,s=i.bottom,l=i.size,u=i.r,c=Object(f.__rest)(i,["top","left","right","bottom","size","r"]),h=this.getSize(t),d=h[0]/2,p=h[1]/2;o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:-d,y:0,r:l/2||u||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:d,y:0,r:l/2||u||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),r&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:0,y:-p,r:l/2||u||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:0,y:p,r:l/2||u||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var e=Tx({},(this.mergeStyle||this.getOptions(t)).style,{stroke:t.color}),n=this.getSize(t),i=n[0]/2,r=n[1]/2;return Object(f.__assign)({x:0,y:0,rx:i,ry:r},e)},update:function(t,e,n){var i=e.getContainer(),r=this.getOptions({}).style,o=this.getSize(t),a={stroke:t.color,rx:o[0]/2,ry:o[1]/2},s=Tx({},r,e.get("keyShape").attr(),a);s=Tx(s,t.style),this.updateShape(t,e,s,!0,n),this.updateLinkPoints(t,i)}},"single-node"),Qi("diamond",{options:{size:[80,80],style:{stroke:Ki.defaultNode.style.stroke,fill:Ki.defaultNode.style.fill,lineWidth:Ki.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ki.nodeLabel.style.fill,fontSize:Ki.nodeLabel.style.fontSize,fontFamily:Ki.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ki.defaultNode.linkPoints.size,lineWidth:Ki.defaultNode.linkPoints.lineWidth,fill:Ki.defaultNode.linkPoints.fill,stroke:Ki.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(f.__assign)({},Ki.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,i=void 0===n?{}:n,r=this.getShapeStyle(t),o=e.addShape("path",{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=o;var a=i.width,s=i.height,l=i.show,u=i.text;return l&&(e.shapeMap["".concat(this.type,"-icon")]=u?e.addShape("text",{attrs:Object(f.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:Object(f.__assign)({x:-a/2,y:-s/2},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=void 0===n?{}:n,r=i.top,o=i.left,a=i.right,s=i.bottom,l=i.size,u=i.r,c=Object(f.__rest)(i,["top","left","right","bottom","size","r"]),h=this.getSize(t),d=h[0],p=h[1];o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:-d/2,y:0,r:l/2||u||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:d/2,y:0,r:l/2||u||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),r&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:0,y:-p/2,r:l/2||u||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:0,y:p/2,r:l/2||u||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(t){var e=this.getSize(t),n=e[0],i=e[1];return[["M",0,-i/2],["L",n/2,0],["L",0,i/2],["L",-n/2,0],["Z"]]},getShapeStyle:function(t){var e=Tx({},(this.mergeStyle||this.getOptions(t)).style,{stroke:t.color}),n=this.getPath(t);return Object(f.__assign)({path:n},e)},update:function(t,e,n){var i=e.getContainer(),r=this.getOptions({}).style,o=this.getPath(t),a={stroke:t.color,path:o},s=Tx({},r,e.get("keyShape").attr(),a);s=Tx(s,t.style),this.updateShape(t,e,s,!0,n),this.updateLinkPoints(t,i)}},"single-node"),Qi("triangle",{options:{size:40,direction:"up",style:{stroke:Ki.defaultNode.style.stroke,fill:Ki.defaultNode.style.fill,lineWidth:Ki.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ki.nodeLabel.style.fill,fontSize:Ki.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ki.defaultNode.linkPoints.size,lineWidth:Ki.defaultNode.linkPoints.lineWidth,fill:Ki.defaultNode.linkPoints.fill,stroke:Ki.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:Object(f.__assign)({},Ki.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(t,e){var n=this.mergeStyle||this.getOptions(t),i=n.icon,r=void 0===i?{}:i,o=n.direction,a=this.getShapeStyle(t),s=t.direction||o,l=e.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=l;var u=r.width,c=r.height,h=r.show,d=r.offset,p=r.text;if(h)if(p)e.shapeMap["".concat(this.type,"-icon")]=e.addShape("text",{attrs:Object(f.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var g=-u/2,v=-c/2;"up"!==s&&"down"!==s||(v+=d),"left"!==s&&"right"!==s||(g+=d),e.shapeMap["".concat(this.type,"-icon")]=e.addShape("image",{attrs:Object(f.__assign)({x:g,y:v},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(t,e),l},drawLinkPoints:function(t,e){var n=this.mergeStyle||this.getOptions(t),i=n.linkPoints,r=void 0===i?{}:i,o=n.direction,a=t.direction||o,s=r.top,l=r.left,u=r.right,c=r.bottom,h=r.size,d=r.r,p=Object(f.__rest)(r,["top","left","right","bottom","size","r"]),g=this.getSize(t)[0];if(l){var v=null,m=g*Math.sin(1/3*Math.PI),y=g*Math.sin(1/3*Math.PI);"up"===a?v=[-y,m]:"down"===a?v=[-y,-m]:"left"===a&&(v=[-y,y-m]),v&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},p),{x:v[0],y:v[1],r:h/2||d||5}),className:"link-point-left",name:"link-point-left"}))}if(u){var b=null;m=g*Math.sin(1/3*Math.PI),y=g*Math.sin(1/3*Math.PI);"up"===a?b=[y,m]:"down"===a?b=[y,-m]:"right"===a&&(b=[y,y-m]),b&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},p),{x:b[0],y:b[1],r:h/2||d||5}),className:"link-point-right",name:"link-point-right"}))}if(s){var x=null;m=g*Math.sin(1/3*Math.PI),y=g*Math.sin(1/3*Math.PI);"up"===a?x=[y-m,-m]:"left"===a?x=[y,-m]:"right"===a&&(x=[-y,-m]),x&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},p),{x:x[0],y:x[1],r:h/2||d||5}),className:"link-point-top",name:"link-point-top"}))}if(c){var w=null;m=g*Math.sin(1/3*Math.PI),y=g*Math.sin(1/3*Math.PI);"down"===a?w=[-y+m,m]:"left"===a?w=[y,m]:"right"===a&&(w=[-y,m]),w&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},p),{x:w[0],y:w[1],r:h/2||d||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(t){var e=(this.mergeStyle||this.getOptions(t)).direction,n=t.direction||e,i=this.getSize(t)[0],r=i*Math.sin(1/3*Math.PI),o=i*Math.sin(1/3*Math.PI),a=[["M",-o,r],["L",0,-r],["L",o,r],["Z"]];return"down"===n?a=[["M",-o,-r],["L",o,-r],["L",0,r],["Z"]]:"left"===n?a=[["M",-o,o-r],["L",o,-o],["L",o,o],["Z"]]:"right"===n&&(a=[["M",o,o-r],["L",-o,o],["L",-o,-o],["Z"]]),a},getShapeStyle:function(t){var e=Tx({},(this.mergeStyle||this.getOptions(t)).style,{stroke:t.color}),n=this.getPath(t);return Object(f.__assign)({path:n},e)},update:function(t,e,n){var i=e.getContainer(),r=this.getOptions({}).style,o=this.getPath(t),a={stroke:t.color,path:o},s=Tx({},r,e.get("keyShape").attr(),a);s=Tx(s,t.style),this.updateShape(t,e,s,!0,n),this.updateLinkPoints(t,i)},updateLinkPoints:function(t,e){var n=this.getOptions({}),i=n.linkPoints,r=n.direction,o=t.direction||r,a=e.shapeMap["link-point-left"]||e.find(function(t){return"link-point-left"===t.get("className")}),s=e.shapeMap["link-point-right"]||e.find(function(t){return"link-point-right"===t.get("className")}),l=e.shapeMap["link-point-top"]||e.find(function(t){return"link-point-top"===t.get("className")}),u=e.shapeMap["link-point-bottom"]||e.find(function(t){return"link-point-bottom"===t.get("className")}),c=i,h=a||s||l||u;h&&(c=h.attr());var d=Tx({},c,t.linkPoints),p=d.fill,g=d.stroke,v=d.lineWidth,m=d.size/2;m||(m=d.r);var y=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},b=y.left,x=y.right,w=y.top,_=y.bottom,S=this.getSize(t)[0],M={r:m,fill:p,stroke:g,lineWidth:v},C=null,I=S*Math.sin(1/3*Math.PI),k=S*Math.sin(1/3*Math.PI);"up"===o?C=[-k,I]:"down"===o?C=[-k,-I]:"left"===o&&(C=[-k,k-I]),C&&(a?b||void 0===b?a.attr(Object(f.__assign)(Object(f.__assign)({},M),{x:C[0],y:C[1]})):(a.remove(),delete e.shapeMap["link-point-left"]):b&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},M),{x:C[0],y:C[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var T=null;"up"===o?T=[k,I]:"down"===o?T=[k,-I]:"right"===o&&(T=[k,k-I]),T&&(s?x||void 0===x?s.attr(Object(f.__assign)(Object(f.__assign)({},M),{x:T[0],y:T[1]})):(s.remove(),delete e.shapeMap["link-point-right"]):x&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},M),{x:T[0],y:T[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var O=null;"up"===o?O=[k-I,-I]:"left"===o?O=[k,-I]:"right"===o&&(O=[-k,-I]),O&&(l?w||void 0===w?l.attr(Object(f.__assign)(Object(f.__assign)({},M),{x:O[0],y:O[1]})):(l.remove(),delete e.shapeMap["link-point-top"]):w&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},M),{x:O[0],y:O[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var E=null;"down"===o?E=[-k+I,I]:"left"===o?E=[k,I]:"right"===o&&(E=[-k,I]),E&&(u?_||void 0===_?u.attr(Object(f.__assign)(Object(f.__assign)({},M),{x:E[0],y:E[1]})):(u.remove(),delete e.shapeMap["link-point-bottom"]):_&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},M),{x:E[0],y:E[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),Qi("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Ki.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:Ki.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:Ki.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).preRect,i=void 0===n?{}:n,r=this.getShapeStyle(t),o=this.getSize(t),a=o[0],s=o[1],l=e.addShape("rect",{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=l;var u=i.show,c=Object(f.__rest)(i,["show"]);return u&&(e.shapeMap["pre-rect"]=e.addShape("rect",{attrs:Object(f.__assign)({x:-a/2,y:-s/2,height:s},c),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(t,e),this.drawStateIcon(t,e),this.drawLinkPoints(t,e),l},drawLogoIcon:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).logoIcon,i=void 0===n?{}:n,r=this.getSize(t)[0];if(i.show){var o=i.width,a=i.height,s=i.x,l=i.y,u=i.offset,c=i.text,h=Object(f.__rest)(i,["width","height","x","y","offset","text"]);e.shapeMap["rect-logo-icon"]=c?e.addShape("text",{attrs:Object(f.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},h),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):e.addShape("image",{attrs:Object(f.__assign)(Object(f.__assign)({},h),{x:s||-r/2+o+u,y:l||-a/2,width:o,height:a}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).stateIcon,i=void 0===n?{}:n,r=this.getSize(t)[0];if(i.show){var o=i.width,a=i.height,s=i.x,l=i.y,u=i.offset,c=i.text,h=Object(f.__rest)(i,["width","height","x","y","offset","text"]);e.shapeMap["rect-state-icon"]=c?e.addShape("text",{attrs:Object(f.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},h),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):e.addShape("image",{attrs:Object(f.__assign)(Object(f.__assign)({},h),{x:s||r/2-o+u,y:l||-a/2,width:o,height:a}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=void 0===n?{}:n,r=i.top,o=i.left,a=i.right,s=i.bottom,l=i.size,u=i.r,c=Object(f.__rest)(i,["top","left","right","bottom","size","r"]),h=this.getSize(t),d=h[0],p=h[1];o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:-d/2,y:0,r:l/2||u||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:d/2,y:0,r:l/2||u||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),r&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:0,y:-p/2,r:l/2||u||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},c),{x:0,y:p/2,r:l/2||u||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(t,e){var n=this.getOptions(t),i=n.labelCfg,r=void 0===i?{}:i,o=n.logoIcon,a=void 0===o?{}:o,s=n.descriptionCfg,l=void 0===s?{}:s,u=this.getSize(t)[0],c=null,h=a.show,d=a.width,p=-u/2+r.offset;h&&(p=-u/2+d+r.offset);var g=r.style,v=l.style,m=l.paddingTop;return Mx(t.description)?(c=e.addShape("text",{attrs:Object(f.__assign)(Object(f.__assign)({},g),{x:p,y:-5,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),e.shapeMap["text-shape"]=c,e.shapeMap["rect-description"]=e.addShape("text",{attrs:Object(f.__assign)(Object(f.__assign)({},v),{x:p,y:17+(m||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(c=e.addShape("text",{attrs:Object(f.__assign)(Object(f.__assign)({},g),{x:p,y:7,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),e.shapeMap["text-shape"]=c),c},getShapeStyle:function(t){var e=Tx({},(this.mergeStyle||this.getOptions(t)).style,{stroke:t.color}),n=this.getSize(t),i=e.width||n[0],r=e.height||n[1];return Object(f.__assign)({x:-i/2,y:-r/2,width:i,height:r},e)},update:function(t,e){var n=this.mergeStyle||this.getOptions(t),i=n.style,r=void 0===i?{}:i,o=n.labelCfg,a=void 0===o?{}:o,s=n.descriptionCfg,l=void 0===s?{}:s,u=this.getSize(t),c=u[0],h=u[1];e.get("keyShape").attr(Object(f.__assign)(Object(f.__assign)({},r),{x:-c/2,y:-h/2,width:c,height:h}));var d=e.getContainer(),p=d.shapeMap["rect-logo-icon"]||d.find(function(t){return"rect-logo-icon"===t.get("className")}),g=Tx({},p?p.attr():{},t.logoIcon),v=g.width;void 0===v&&(v=this.options.logoIcon.width);var m=t.logoIcon?t.logoIcon.show:void 0,y=a.offset,b=-c/2+v+y;m||void 0===m||(b=-c/2+y);var x=d.shapeMap["node-label"]||d.find(function(t){return"node-label"===t.get("className")}),w=d.shapeMap["rect-description"]||d.find(function(t){return"rect-description"===t.get("className")});if(t.label)if(x){var _=t.labelCfg?t.labelCfg.style:{},S=Tx({},x.attr(),_);t.label&&(S.text=t.label),S.x=b,Mx(t.description)&&(S.y=-5),w&&(w.resetMatrix(),w.attr({x:b})),x.resetMatrix(),x.attr(S)}else d.shapeMap["node-label"]=d.addShape("text",{attrs:Object(f.__assign)(Object(f.__assign)({},a.style),{x:b,y:t.description?-5:7,text:t.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});if(Mx(t.description)){var M=l.paddingTop;if(w){_=t.descriptionCfg?t.descriptionCfg.style:{};var C=Tx({},w.attr(),_);Mx(t.description)&&(C.text=t.description),C.x=b,w.resetMatrix(),w.attr(Object(f.__assign)(Object(f.__assign)({},C),{y:17+(M||0)}))}else d.shapeMap["rect-description"]=d.addShape("text",{attrs:Object(f.__assign)(Object(f.__assign)({},l.style),{x:b,y:17+(M||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})}var I=d.shapeMap["pre-rect"]||d.find(function(t){return"pre-rect"===t.get("className")});if(I&&!I.destroyed){var k=Tx({},I.attr(),t.preRect);I.attr(Object(f.__assign)(Object(f.__assign)({},k),{x:-c/2,y:-h/2,height:h}))}if(p&&!p.destroyed)if(m||void 0===m){var T=g.width,O=g.height,E=g.x,A=g.y,N=g.offset,L=Object(f.__rest)(g,["width","height","x","y","offset"]);p.attr(Object(f.__assign)(Object(f.__assign)({},L),{x:E||-c/2+T+N,y:A||-O/2,width:T,height:O}))}else p.remove(),delete d.shapeMap["pre-rect"];else m&&this.drawLogoIcon(t,d);var D=d.shapeMap["rect-state-icon"]||d.find(function(t){return"rect-state-icon"===t.get("className")}),j=Tx({},D?D.attr():{},t.stateIcon);if(D){j.show||void 0===j.show||(D.remove(),delete d.shapeMap["rect-state-icon"]);var P=j.width,R=(O=j.height,E=j.x,A=j.y,j.offset),z=Object(f.__rest)(j,["width","height","x","y","offset"]);D.attr(Object(f.__assign)(Object(f.__assign)({},z),{x:E||c/2-P+R,y:A||-O/2,width:P,height:O}))}else j.show&&this.drawStateIcon(t,d);this.updateLinkPoints(t,d)}},"single-node"),Qi("star",{options:{size:60,style:{stroke:Ki.defaultNode.style.stroke,fill:Ki.defaultNode.style.fill,lineWidth:Ki.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ki.nodeLabel.style.fill,fontSize:Ki.nodeLabel.style.fontSize,fontFamily:Ki.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ki.defaultNode.linkPoints.size,lineWidth:Ki.defaultNode.linkPoints.lineWidth,fill:Ki.defaultNode.linkPoints.fill,stroke:Ki.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(f.__assign)({},Ki.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,i=void 0===n?{}:n,r=this.getShapeStyle(t),o=e.addShape("path",{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=o;var a=i.width,s=i.height,l=i.show,u=i.text;return l&&(e.shapeMap["".concat(this.type,"-icon")]=u?e.addShape("text",{attrs:Object(f.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:Object(f.__assign)({x:-a/2,y:-s/2},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=void 0===n?{}:n,r=i.top,o=i.left,a=i.right,s=i.leftBottom,l=i.rightBottom,u=i.size,c=i.r,h=Object(f.__rest)(i,["top","left","right","leftBottom","rightBottom","size","r"]),d=this.getSize(t)[0];if(a){var p=Math.cos(.1*Math.PI)*d,g=Math.sin(.1*Math.PI)*d;e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},h),{x:p,y:-g,r:u/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(r){p=Math.cos(.5*Math.PI)*d,g=Math.sin(.5*Math.PI)*d;e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},h),{x:p,y:-g,r:u/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){p=Math.cos(.9*Math.PI)*d,g=Math.sin(.9*Math.PI)*d;e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},h),{x:p,y:-g,r:u/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(s){p=Math.cos(1.3*Math.PI)*d,g=Math.sin(1.3*Math.PI)*d;e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},h),{x:p,y:-g,r:u/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(l){p=Math.cos(1.7*Math.PI)*d,g=Math.sin(1.7*Math.PI)*d;e.shapeMap["link-point-right-bottom"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},h),{x:p,y:-g,r:u/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(t){for(var e=this.getSize(t)[0],n=3*e/8,i=t.innerR||n,r=[],o=0;o<5;o++){var a=Math.cos((18+72*o)/180*Math.PI)*e,s=Math.sin((18+72*o)/180*Math.PI)*e,l=Math.cos((54+72*o)/180*Math.PI)*i,u=Math.sin((54+72*o)/180*Math.PI)*i;0===o?r.push(["M",a,-s]):r.push(["L",a,-s]),r.push(["L",l,-u])}return r.push(["Z"]),r},getShapeStyle:function(t){var e=Tx({},(this.mergeStyle||this.getOptions(t)).style,{stroke:t.color}),n=this.getPath(t);return Object(f.__assign)({path:n},e)},update:function(t,e,n){var i=e.getContainer(),r=this.getOptions({}).style,o=this.getPath(t),a={stroke:t.color,path:o},s=Tx({},r,e.get("keyShape").attr(),a);s=Tx(s,t.style),this.updateShape(t,e,s,!0,n),this.updateLinkPoints(t,i)},updateLinkPoints:function(t,e){var n=this.getOptions({}).linkPoints,i=e.shapeMap["link-point-left"]||e.find(function(t){return"link-point-left"===t.get("className")}),r=e.shapeMap["link-point-right"]||e.find(function(t){return"link-point-right"===t.get("className")}),o=e.shapeMap["link-point-top"]||e.find(function(t){return"link-point-top"===t.get("className")}),a=e.shapeMap["link-point-left-bottom"]||e.find(function(t){return"link-point-left-bottom"===t.get("className")}),s=e.shapeMap["link-point-left-bottom"]||e.find(function(t){return"link-point-right-bottom"===t.get("className")}),l=n,u=i||r||o||a||s;u&&(l=u.attr());var c=Tx({},l,t.linkPoints),h=c.fill,d=c.stroke,p=c.lineWidth,g=c.size/2;g||(g=c.r);var v=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},m=v.left,y=v.right,b=v.top,x=v.leftBottom,w=v.rightBottom,_=this.getSize(t)[0],S={r:g,fill:h,stroke:d,lineWidth:p},M=Math.cos(.1*Math.PI)*_,C=Math.sin(.1*Math.PI)*_;r?y||void 0===y?r.attr(Object(f.__assign)(Object(f.__assign)({},S),{x:M,y:-C})):(r.remove(),delete e.shapeMap["link-point-right"]):y&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},S),{x:M,y:-C}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),M=Math.cos(.5*Math.PI)*_,C=Math.sin(.5*Math.PI)*_,o?b||void 0===b?o.attr(Object(f.__assign)(Object(f.__assign)({},S),{x:M,y:-C})):(o.remove(),delete e.shapeMap["link-point-top"]):b&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},S),{x:M,y:-C}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),M=Math.cos(.9*Math.PI)*_,C=Math.sin(.9*Math.PI)*_,i?m||void 0===m?i.attr(Object(f.__assign)(Object(f.__assign)({},S),{x:M,y:-C})):(i.remove(),delete e.shapeMap["link-point-left"]):m&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},S),{x:M,y:-C}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),M=Math.cos(1.3*Math.PI)*_,C=Math.sin(1.3*Math.PI)*_,a?x||void 0===x?a.attr(Object(f.__assign)(Object(f.__assign)({},S),{x:M,y:-C})):(a.remove(),delete e.shapeMap["link-point-left-bottom"]):x&&(e.shapeMap["link-point-left-bottom"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},S),{x:M,y:-C}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),M=Math.cos(1.7*Math.PI)*_,C=Math.sin(1.7*Math.PI)*_,s?w||void 0===w?s.attr(Object(f.__assign)(Object(f.__assign)({},S),{x:M,y:-C})):(a.remove(),delete e.shapeMap["link-point-right-bottom"]):w&&(e.shapeMap["link-point-right-bottom"]=e.addShape("circle",{attrs:Object(f.__assign)(Object(f.__assign)({},S),{x:M,y:-C}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var Lx=Ui.defaultSubjectColors;Qi("donut",{options:{size:Ki.defaultNode.size,style:{x:0,y:0,stroke:Ki.defaultNode.style.stroke,fill:Ki.defaultNode.style.fill,lineWidth:Ki.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ki.nodeLabel.style.fill,fontSize:Ki.nodeLabel.style.fontSize,fontFamily:Ki.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ki.defaultNode.linkPoints.size,lineWidth:Ki.defaultNode.linkPoints.lineWidth,fill:Ki.defaultNode.linkPoints.fill,stroke:Ki.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(f.__assign)({},Ki.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,i=void 0===n?{}:n,r=this.getShapeStyle(t),o=Ax({},i,t.icon),a=e.addShape("circle",{attrs:r,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});e.shapeMap["".concat(this.type,"-keyShape")]=a;var s=o.width,l=o.height,u=o.show,c=o.text;u&&(e.shapeMap["".concat(this.type,"-icon")]=c?e.addShape("text",{attrs:Object(f.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:Object(f.__assign)({x:-s/2,y:-l/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}));var h=a.attr("r"),d=.6*h,p=(h+d)/2,g=t,v=g.donutAttrs,m=void 0===v?{}:v,y=g.donutColorMap,b=void 0===y?{}:y,x=Object.keys(m).length;if(m&&x>1){var w=[],_=0;if(Object.keys(m).forEach(function(t){var e=m[t]||0;Cx(e)&&(w.push({key:t,value:e,color:b[t]}),_+=e)}),_){var S=h-d;if(1===x)return void(e.shapeMap["fan-shape-0"]=e.addShape("circle",{attrs:{r:p,x:0,y:0,stroke:w[0].color||Lx[0],lineWidth:S},name:"fan-shape-0"}));var M=[p,0],C=0;w.forEach(function(t,n){var i=t.value/_;if(!(i<.001))if(i>.999&&(i=1),1!==i){t.percent=i,t.angle=i*Math.PI*2,t.beginAgnle=C,C+=t.angle,t.endAngle=C,t.arcBegin=M,t.arcEnd=[p*Math.cos(t.endAngle),-p*Math.sin(t.endAngle)];var r=t.angle>Math.PI?1:0,o=[["M",t.arcBegin[0],t.arcBegin[1]],["A",p,p,0,r,0,t.arcEnd[0],t.arcEnd[1]],["L",t.arcEnd[0],t.arcEnd[1]]];e.shapeMap["fan-shape-".concat(n)]=e.addShape("path",{attrs:{path:o,lineWidth:S,stroke:t.color||Lx[n%Lx.length]},name:"fan-shape-".concat(n)}),M=t.arcEnd}else e.shapeMap["fan-shape-".concat(n)]=e.addShape("circle",{attrs:{r:p,x:0,y:0,stroke:t.color||Lx[n%Lx.length],lineWidth:S},name:"fan-shape-".concat(n)})})}}return this.drawLinkPoints(t,e),a},update:void 0},"circle");var Dx=function(t){var e=t.x,n=t.y;return{x:e,y:n,centerX:e,centerY:n,minX:e,minY:n,maxX:e,maxY:n,height:0,width:0}},jx=function(t){for(var e=[],n={},i=t.length-1;i>=0;i--){var r=t[i];r.id="".concat(r.x,"|||").concat(r.y),n[r.id]=r,e.push(r)}return e},Px=function(t){return jx(t)},Rx=function(t,e){return t.width||t.height?{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}:t},zx=function(t,e,n){var i=function(t,e){var n=Math.abs(t.x-e.centerX),i=Math.abs(t.y-e.centerY);return 0===n&&0===i?0:n/e.width>i/e.height}(e,t);if(0===i){var r=t.centerX,o=t.centerY;return n.y<e.y?o=t.minY:n.x>e.x?r=t.maxX:n.x<e.x?r=t.minX:n.x===e.x&&(o=t.maxY),{x:r,y:o}}return i?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Bx=function(t,e){var n=Math.min(t.minX,e.minX),i=Math.min(t.minY,e.minY),r=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+r)/2,centerY:(i+o)/2,minX:n,minY:i,maxX:r,maxY:o,height:o-i,width:r-n}},Fx=function(t){return[{x:t.minX,y:t.minY},{x:t.maxX,y:t.minY},{x:t.maxX,y:t.maxY},{x:t.minX,y:t.maxY}]},Gx=function(t,e){var n=t.x,i=t.y;return n<e.minX||n>e.maxX||i<e.minY||i>e.maxY},Vx=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Wx=function(t,e,n,i,r){return Vx(t,e)+Vx(t,n)+function(t,e){var n=0;return e.forEach(function(e){e&&(t.x===e.x&&(n+=-2),t.y===e.y&&(n+=-2))}),n}(t,[e,n,i,r])},Hx=function t(e,n,i,r,o){void 0===o&&(o=0),e.unshift(n[r]),i[r]&&i[r]!==r&&o<=100&&t(e,n,i,i[r],o+1)},Ux=function(t,e,n,i){var r=n.x-t.x,o=n.y-t.y,a=i.x-t.x,s=i.y-t.y,l=n.x-e.x,u=n.y-e.y,c=i.x-e.x,h=i.y-e.y;return(r*s-o*a)*(l*h-u*c)<=0&&(r*u-o*l)*(a*h-s*c)<=0},Yx=function(t,e,n){if(n.width||n.height){var i=Fx(n),r=i[0],o=i[1],a=i[2],s=i[3];return Ux(t,e,r,o)||Ux(t,e,r,s)||Ux(t,e,o,a)||Ux(t,e,a,s)}return!1},Jx=function(t,e,n,i){var r=[];return t.forEach(function(t){if(t!==e&&(t.x===e.x||t.y===e.y)){if(Yx(t,e,n)||Yx(t,e,i))return;r.push(t)}}),jx(r)},Qx=function(t,e){var n=[],i=t[0];return n.push("M".concat(i.x," ").concat(i.y)),t.forEach(function(i,r){var o=t[r+1],a=t[r+2];if(o&&a)if(function(t,e,n){return!(t.x===e.x&&e.x===n.x||t.y===e.y&&e.y===n.y)}(i,o,a)){var s=function(t,e,n,i){var r=Vx(t,e),o=Vx(n,e);return r<i&&(i=r),o<i&&(i=o),[{x:e.x-i/r*(e.x-t.x),y:e.y-i/r*(e.y-t.y)},{x:e.x-i/o*(e.x-n.x),y:e.y-i/o*(e.y-n.y)}]}(i,o,a,e),l=s[0],u=s[1];n.push("L".concat(l.x," ").concat(l.y)),n.push("Q".concat(o.x," ").concat(o.y," ").concat(u.x," ").concat(u.y)),n.push("L".concat(u.x," ").concat(u.y))}else n.push("L".concat(o.x," ").concat(o.y));else o&&n.push("L".concat(o.x," ").concat(o.y))}),n.join("")},Zx=function(t,e,n,i,r){var o,a;if(n&&n.getType())if("combo"===n.getType()){(o=n.getKeyShape().getCanvasBBox()||Dx(t)).centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=n.getBBox();else o=Dx(t);if(i&&i.getType())if("combo"===i.getType()){var s=i.getKeyShape().getBBox();if(s){var l=i.getModel(),u=l.x,c=l.y;(a={x:u,y:c,width:s.width,height:s.height,minX:s.minX+u,maxX:s.maxX+u,minY:s.minY+c,maxY:s.maxY+c}).centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2}else a=Dx(e)}else a=i&&i.getBBox();else a=Dx(e);var h=Rx(o,r),d=Rx(a,r),f=zx(h,t,e),p=zx(d,e,t),g=function(t){void 0===t&&(t=[]);var e=[],n=[];t.forEach(function(t){e.push(t.x),n.push(t.y)});var i=Math.min.apply(Math,e),r=Math.max.apply(Math,e),o=Math.min.apply(Math,n),a=Math.max.apply(Math,n);return{centerX:(i+r)/2,centerY:(o+a)/2,maxX:r,maxY:a,minX:i,minY:o,height:a-o,width:r-i}}([f,p]),v=Bx(h,g),m=Bx(d,g),y=[];y=y.concat(Fx(v)).concat(Fx(m));var b={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[g,v,m].forEach(function(t){y=y.concat(function(t,e){return function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]}(t,e.x).concat(function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]}(t,e.y))}(t,b).filter(function(t){return Gx(t,h)&&Gx(t,d)}))}),[{x:f.x,y:p.y},{x:p.x,y:f.y}].forEach(function(t){Gx(t,h)&&Gx(t,d)&&y.push(t)}),y.unshift(f),y.push(p);var x=function(t,e,n,i,r,o,a){var s=[],l=[e],u={},c={},h={};c[e.id]=0,h[e.id]=Wx(e,n,e);var d,f,p,g,v,m={};for(t.forEach(function(t){m[t.id]=t});l.length;){if(d=void 0,f=1/0,l.forEach(function(t){h[t.id]<=f&&(f=h[t.id],d=t)}),d===n){var y=[];return Hx(y,m,u,n.id),y}g=d,(v=(p=l).indexOf(g))>-1&&p.splice(v,1),s.push(d),Jx(t,d,i,r).forEach(function(t){if(-1===s.indexOf(t)){-1===l.indexOf(t)&&l.push(t);var i=h[d.id]+Vx(d,t);c[t.id]&&i>=c[t.id]||(u[t.id]=d.id,c[t.id]=i,h[t.id]=c[t.id]+Wx(t,n,e,o,a))}})}return[e,n]}(y=jx(y),f,p,o,a,t,e);return x.unshift(t),x.push(e),Px(x)},$x={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},fallbackRoute:function(t,e,n,i,r){return Px(Zx(t,e,n,i,r.offset))}},Xx=(Math.PI,function(t,e){var n=Math.round(Math.abs(t/e));return n<0?0:(t<0?-1:1)*n}),Kx=function(t,e){var n=e.x-t.x,i=e.y-t.y;return n||i?Math.atan2(i,n):0},qx=function(t,e){var n=Math.abs(t-e);return n>Math.PI?2*Math.PI-n:n},tw=function(t,e,n){for(var i=1/0,r=0,o=e.length;r<o;r++){var a=n(t,e[r]);a<i&&(i=a)}return i},ew=function(t,e,n,i,r){var o=[];if(!n)return[t];var a=r.directions,s=r.offset,l=n.getBBox(),u=e.x>l.minX&&e.x<l.maxX&&e.y>l.minY&&e.y<l.maxY,c=Rx(l,s);for(var h in c)c[h]=Xx(c[h],r.gridSize);if(u){for(var d=0,f=a;d<f.length;d++){var p=f[d],g=[[{x:c.minX,y:c.minY},{x:c.maxX,y:c.minY}],[{x:c.minX,y:c.minY},{x:c.minX,y:c.maxY}],[{x:c.maxX,y:c.minY},{x:c.maxX,y:c.maxY}],[{x:c.minX,y:c.maxY},{x:c.maxX,y:c.maxY}]];for(h=0;h<4;h++){var v=g[h],m=Ui.getLineIntersect(t,{x:t.x+p.stepX*c.width,y:t.y+p.stepY*c.height},v[0],v[1]);m&&!Yx(t,m,l)&&(m.id="".concat(m.x,"|||").concat(m.y),o.push(m))}}return o}var y=zx(c,t,i);return y.id="".concat(y.x,"|||").concat(y.y),[y]},nw=function(t,e,n,i){var r=Kx(t,e);if(!n[t.id]){var o=Kx(i,t);return qx(o,r)}var a=Kx({x:n[t.id].x,y:n[t.id].y},t);return qx(a,r)},iw=function(t,e,n,i,r,o,a){var s=[i],l=t.id,u=t.x,c=t.y,h={x:u,y:c,id:l};for(nw(h,o,e,n)&&s.unshift({x:o.x===i.x?i.x:h.x*a,y:o.y===i.y?i.y:h.y*a});e[l]&&e[l].id!==l;){var d={x:u,y:c,id:l},f=e[l].id,p=e[l].x,g=e[l].y,v={x:p,y:g,id:f};nw(v,d,e,n)&&s.unshift({x:v.x===d.x?s[0].x:v.x*a,y:v.y===d.y?s[0].y:v.y*a}),l=f,u=p,c=g}var m=u,y=c;return s[0].x=m===n.x?r.x:s[0].x,s[0].y=y===n.y?r.y:s[0].y,s.unshift(r),s},rw=function(t,e,n,i,r){if(isNaN(t.x)||isNaN(e.x))return[];var o=Ax($x,r);o.obstacles=o.obstacles||[];var a=o.gridSize,s=function(t,e,n){var i={};return t.forEach(function(t){if(t)for(var r=Rx(t.getBBox(),n),o=Xx(r.minX,e);o<=Xx(r.maxX,e);o+=1)for(var a=Xx(r.minY,e);a<=Xx(r.maxY,e);a+=1)i["".concat(o,"|||").concat(a)]=!0}),i}(o.obstacles.concat([n,i]),a,o.offset),l={x:Xx(t.x,a),y:Xx(t.y,a)},u={x:Xx(e.x,a),y:Xx(e.y,a)};t.id="".concat(l.x,"|||").concat(l.y),e.id="".concat(u.x,"|||").concat(u.y);var c=ew(l,t,n,u,o),h=ew(u,e,i,l,o);c.forEach(function(t){delete s[t.id]}),h.forEach(function(t){delete s[t.id]});for(var d={},f={},p={},g={},v={},m=0;m<c.length;m++){var y=c[m];d[y.id]=y,g[y.id]=0,v[y.id]=tw(y,h,o.distFunc)}for(var b,x,w,_,S,M,C,I=o.maximumLoops,k=o.penalties;Object.keys(d).length>0&&I>0&&(b=void 0,x=1/0,Object.keys(d).forEach(function(t){var e=d[t].id;v[e]<=x&&(x=v[e],b=d[e])}),b);){if(h.findIndex(function(t){return t.x===b.x&&t.y===b.y})>-1)return iw(b,p,l,e,t,u,a);delete d[b.id],f[b.id]=!0;for(m=0;m<o.directions.length;m++)w=o.directions[m],f[(_={x:b.x+w.stepX,y:b.y+w.stepY,id:"".concat(Math.round(b.x)+w.stepX,"|||").concat(Math.round(b.y)+w.stepY)}).id]||(C=nw(b,_,p,l))>o.maxAllowedDirectionChange||s[_.id]||(d[_.id]||(d[_.id]=_),S=o.distFunc(b,_)+(isNaN(k[C])?a:k[C]),M=g[b.id]+S,g[_.id]&&M>=g[_.id]||(p[_.id]=b,g[_.id]=M,v[_.id]=M+tw(_,h,o.distFunc)));I-=1}return o.fallbackRoute(t,e,n,i,o)};Zi("polyline",{options:{color:Ki.defaultEdge.color,size:Ki.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Ki.defaultEdge.style.stroke,lineAppendWidth:Ki.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ki.edgeLabel.style.fill,fontSize:Ki.edgeLabel.style.fontSize,fontFamily:Ki.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:Object(f.__assign)({},Ki.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);0===n.radius&&delete n.radius;var i=e.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return e.shapeMap["edge-shape"]=i,i},getShapeStyle:function(t){var e=Tx({},this.options.style,{stroke:t.color},t.style);t=this.getPathPoints(t),this.radius=e.radius,this.offset=e.offset;var n=t.startPoint,i=t.endPoint,r=this.getControlPoints(t),o=[n];r&&(o=o.concat(r)),o.push(i);var a=t.sourceNode,s=t.targetNode,l=e.radius,u=Tx({},this.options.routeCfg,t.routeCfg);u.offset=e.offset;var c=this.getPath(o,a,s,l,u);return(yx(c)&&c.length<=1||Mx(c)&&-1===c.indexOf("L"))&&(c="M0 0, L0 0"),(isNaN(n.x)||isNaN(n.y)||isNaN(i.x)||isNaN(i.y))&&(c="M0 0, L0 0"),Tx({},Ki.defaultEdge.style,e,{lineWidth:t.size,path:c})},updateShapeStyle:function(t,e){var n=e.getContainer();if(e.isVisible()){var i={stroke:t.color},r=n.shapeMap["edge-shape"]||n.find(function(t){return"edge-shape"===t.get("className")})||e.getKeyShape(),o=t.size,a=(t=this.getPathPoints(t)).startPoint,s=t.endPoint,l=this.getControlPoints(t),u=[a];l&&(u=u.concat(l)),u.push(s);var c=r.attr(),h=Tx({},i,c,t.style),d=t.sourceNode,f=t.targetNode,p=h.radius,g=Tx({},this.options.routeCfg,t.routeCfg);g.offset=h.offset;var v=this.getPath(u,d,f,p,g);(yx(v)&&v.length<=1||Mx(v)&&-1===v.indexOf("L"))&&(v="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(s.x)||isNaN(s.y))&&(v="M0 0, L0 0"),c.endArrow&&!1===h.endArrow&&(t.style.endArrow={path:""}),c.startArrow&&!1===h.startArrow&&(t.style.startArrow={path:""});var m=Tx(i,r.attr(),{lineWidth:o,path:v},t.style);r&&r.attr(m)}},getPath:function(t,e,n,i,r){var o=r.offset,a=r.simple;if(!o||t.length>2){if(i)return Qx(t,i);var s=[];return xx(t,function(t,e){0===e?s.push(["M",t.x,t.y]):s.push(["L",t.x,t.y])}),s}var l=a?Zx(t[t.length-1],t[0],n,e,o):rw(t[0],t[t.length-1],e,n,r);return l&&l.length?i?Qx(l,i):Ui.pointsToPolygon(l):"M0 0, L0 0"}},"single-edge");var ow=Zg.cloneEvent,aw=Zg.isNaN,sw=Math.abs,lw=["shift","ctrl","alt","control"],uw={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(t){var e=this.origin,n=+t.clientX,i=+t.clientY;if(!aw(n)&&!aw(i)){var r=n-e.x,o=i-e.y;"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(r=0),this.origin={x:n,y:i};var a=this.graph.get("width"),s=this.graph.get("height"),l=this.graph.get("canvas").getCanvasBBox(),u=this.scalableRange,c=this.scalableRange;u<1&&u>-1&&(u*=a,c*=s),(l.minX<=a+u&&l.minX+r>a+u||l.maxX+u>=0&&l.maxX+u+r<0)&&(r=0),(l.minY<=s+c&&l.minY+o>s+c||l.maxY+c>=0&&l.maxY+c+o<0)&&(o=0),this.graph.translate(r,o)}},onTouchStart:function(t){var e=t.originalEvent.touches,n=e[0],i=e[1];n&&i||(t.preventDefault(),this.onMouseDown(t))},onMouseDown:function(t){var e=t.originalEvent;if((!e||t.name===Bi.TOUCHSTART||0===e.button)&&(t.name===Bi.TOUCHSTART||"undefined"==typeof window||!window.event||window.event.buttons||window.event.button)&&this.shouldBegin.call(this,t)&&!this.keydown){var n=t.target,i=n&&n.isCanvas&&n.isCanvas();if((this.allowDragOnItem||i)&&(this.origin={x:t.clientX,y:t.clientY},this.dragging=!1,this.enableOptimize)){for(var r=this.graph,o=r.getEdges(),a=0,s=o.length;a<s;a++){var l=o[a].get("group").get("children");l&&l.forEach(function(t){t.set("ori-visibility",t.get("ori-visibility")||t.get("visible")),t.hide()})}for(var u=r.getNodes(),c=0,h=u.length;c<h;c++)for(var d=0,f=u[c].getContainer().get("children");d<f.length;d++){var p=f[d];p.get("isKeyShape")||(p.set("ori-visibility",p.get("ori-visibility")||p.get("visible")),p.hide())}}}},onTouchMove:function(t){var e=t.originalEvent.touches,n=e[0],i=e[1];n&&i?this.onMouseUp(t):(t.preventDefault(),this.onMouseMove(t))},onMouseMove:function(t){var e=this.graph;if(!this.keydown){var n=t.target,i=n&&n.isCanvas&&n.isCanvas();if((this.allowDragOnItem||i)&&(t=ow(t),this.origin)){if(this.dragging)t.type="drag",e.emit("canvas:drag",t);else{if(sw(this.origin.x-t.clientX)+sw(this.origin.y-t.clientY)<10)return;this.shouldBegin.call(this,t)&&(t.type="dragstart",e.emit("canvas:dragstart",t),this.originPosition={x:t.clientX,y:t.clientY},this.dragging=!0)}this.shouldUpdate.call(this,t)&&this.updateViewport(t)}}},onMouseUp:function(t){var e,n,i=this.graph;if(!this.keydown){var r=i.getZoom(),o=i.get("modeController"),a=null===(n=null===(e=null===o||void 0===o?void 0:o.modes[o.mode])||void 0===e?void 0:e.filter(function(t){return"zoom-canvas"===t.type}))||void 0===n?void 0:n[0],s=a?a.optimizeZoom||.1:0;if(this.enableOptimize){for(var l=i.getEdges(),u=0,c=l.length;u<c;u++){var h=l[u].get("group").get("children");h&&h.forEach(function(t){t.get("ori-visibility")&&t.show()})}if(r>s)for(var d=i.getNodes(),f=0,p=d.length;f<p;f++)for(var g=0,v=d[f].getContainer().get("children");g<v.length;g++){var m=v[g];if(!m.get("isKeyShape"))m.get("ori-visibility")&&m.show()}}this.dragging?(t=ow(t),this.shouldEnd.call(this,t)&&this.updateViewport(t),t.type="dragend",t.dx=t.clientX-this.originPosition.x,t.dy=t.clientY-this.originPosition.y,i.emit("canvas:dragend",t),this.endDrag()):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(t){var e=t.key;e&&(lw.indexOf(e.toLowerCase())>-1?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},cw={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd"}},validationCombo:function(t){return!(!this.origin||!t||t.destroyed)&&"combo"===t.getType()},onTouchStart:function(t){if(t.item){try{var e=t.originalEvent.touches,n=e[0],i=e[1];if(n&&i)return;t.preventDefault()}catch(t){console.warn("Touch original event not exist!")}this.onDragStart(t)}},onTouchMove:function(t){try{var e=t.originalEvent.touches,n=e[0],i=e[1];if(n&&i)return void this.onDragEnd(t);t.preventDefault()}catch(t){console.warn("Touch original event not exist!")}this.onDrag(t)},onDragStart:function(t){var e=this;if(this.currentShouldEnd=!0,this.shouldBegin.call(this,t)){var n=t.item;if(n&&!n.destroyed&&!n.hasLocked()){n.getContainer().set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(n);var i=t.target;if(i)if(i.get("isAnchorPoint"))return;var r=this.graph;this.targets=[],this.targetCombo=null;var o=r.findAllByState("node",this.selectedState),a=n.get("id");0===o.filter(function(t){var e=t.get("id");return a===e}).length?this.targets.push(n):o.length>1?o.forEach(function(t){t.hasLocked()||e.targets.push(t)}):this.targets.push(n);var s=[];this.targets.forEach(function(t){s.push(br(t.getModel()))}),this.set("beforeDragNodes",s),this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(t){t.getEdges().forEach(function(t){t.isVisible()&&(e.hidenEdge[t.getID()]=!0,t.hide())})}),this.origin={x:t.x,y:t.y},this.point={},this.originPoint={}}}},onDrag:function(t){var e=this;this.origin&&this.shouldUpdate.call(this,t)&&(this.get("enableDelegate")?this.updateDelegate(t):this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:t,updateEdge:this.get("updateEdge")}):this.targets.map(function(n){e.update(n,t)}))},onDragEnd:function(t){var e,n=this;if(this.origin){null===(e=this.cachedCaptureItems)||void 0===e||e.forEach(function(t){t.getContainer().set("capture",!0)}),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(t){t.getEdges().forEach(function(t){n.hidenEdge[t.getID()]&&t.show(),t.refresh()})}),this.hidenEdge={};var i=this.graph;if(i.get("enabledStack")&&this.enableStack){var r={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(t){r.before.nodes.push({id:t.id,x:t.x,y:t.y})}),this.targets.forEach(function(t){var e=t.getModel();r.after.nodes.push({id:e.id,x:e.x,y:e.y})}),i.pushStack("update",br(r))}i.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(t){var e=t.item;if(this.currentShouldEnd=this.shouldEnd.call(this,t,e),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd&&this.validationCombo(e)){var n=this.graph;if(this.comboActiveState&&n.setItemState(e,this.comboActiveState,!1),this.targetCombo=e,this.onlyChangeComboSize)n.updateCombos();else{var i=e.getModel();this.targets.map(function(t){t.getModel().comboId!==i.id&&n.updateComboTree(t,i.id)}),n.updateCombo(e)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(t){var e=this.graph;this.currentShouldEnd=this.shouldEnd.call(this,t,void 0),this.updatePositions(t,!this.currentShouldEnd),this.targets&&0!==this.targets.length&&this.currentShouldEnd&&(this.onlyChangeComboSize?e.updateCombos():this.targets.map(function(t){t.getModel().comboId&&e.updateComboTree(t)}))},onDropNode:function(t){if(this.targets&&0!==this.targets.length){var e=t.item,n=this.graph,i=e.getModel().comboId,r=i?n.findById(i):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,t,r),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd){if(this.onlyChangeComboSize)n.updateCombos();else if(i){var o=n.findById(i);this.comboActiveState&&n.setItemState(o,this.comboActiveState,!1),this.targets.map(function(t){var e=t.getModel();i!==e.comboId&&n.updateComboTree(t,i)}),n.updateCombo(o)}else this.targets.map(function(t){t.getModel().comboId&&n.updateComboTree(t)});n.emit("dragnodeend",{items:this.targets,targetItem:e})}}},onDragEnter:function(t){var e=t.item;if(this.validationCombo(e)){var n=this.graph;this.comboActiveState&&n.setItemState(e,this.comboActiveState,!0)}},onDragLeave:function(t){var e=t.item;if(this.validationCombo(e)){var n=this.graph;this.comboActiveState&&n.setItemState(e,this.comboActiveState,!1)}},updatePositions:function(t,e){var n=this;this.targets&&0!==this.targets.length&&(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:t,updateEdge:this.get("updateEdge"),updateFunc:this.update}):e||this.targets.map(function(e){return n.update(e,t)}):this.targets.map(function(i){return n.update(i,t,e)}))},update:function(t,e,n){var i=this.origin,r=t.get("model"),o=t.get("id");this.point[o]||(this.point[o]={x:r.x||0,y:r.y||0});var a=e.x-i.x+this.point[o].x,s=e.y-i.y+this.point[o].y;n&&(a+=i.x-e.x,s+=i.y-e.y);var l={x:a,y:s};this.get("updateEdge")?this.graph.updateItem(t,l,!1):t.updatePosition(l)},debounceUpdate:xr(function(t){var e=t.targets,n=t.graph,i=t.point,r=t.origin,o=t.evt,a=t.updateEdge;t.updateFunc;e.map(function(t){var e=t.get("model"),s=t.get("id");i[s]||(i[s]={x:e.x||0,y:e.y||0});var l={x:o.x-r.x+i[s].x,y:o.y-r.y+i[s].y};a?n.updateItem(t,l,!1):t.updatePosition(l)})},50,!0),updateDelegate:function(t){var e=this.graph;if(this.delegateRect){var n=t.x-this.origin.x+this.originPoint.minX,i=t.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:n,y:i})}else{var r=e.get("group"),o=Sr({},Kr.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(t),s=a.x,l=a.y,u=a.width,c=a.height,h=a.minX,d=a.minY;this.originPoint={x:s,y:l,width:u,height:c,minX:h,minY:d},this.delegateRect=r.addShape("rect",{attrs:Object(f.__assign)({width:u,height:c,x:s,y:l},o),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(t){var e=this.targets;0===e.length&&e.push(t.item);for(var n=1/0,i=-1/0,r=1/0,o=-1/0,a=0;a<e.length;a++){var s=e[a].getBBox(),l=s.minX,u=s.minY,c=s.maxX,h=s.maxY;l<n&&(n=l),u<r&&(r=u),c>i&&(i=c),h>o&&(o=h)}return{x:Math.floor(n),y:Math.floor(r),width:Math.ceil(i)-Math.floor(n),height:Math.ceil(o)-Math.floor(r),minX:n,minY:r}}},hw={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return"mouseenter"===this.get("trigger")?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(t){try{var e=t.originalEvent.touches,n=e[0],i=e[1];if(n&&i)return;t.preventDefault()}catch(t){console.warn("Touch original event not exist!")}this.setAllItemStates(t)},clearOnTouchStart:function(t){try{var e=t.originalEvent.touches,n=e[0],i=e[1];if(n&&i)return;t.preventDefault()}catch(t){console.warn("Touch original event not exist!")}this.clearActiveState(t)},setAllItemStates:function(t){var e=t.item,n=this.graph;if(this.item=e,this.shouldUpdate(t.item,{event:t,action:"activate"})){for(var i=this.activeState,r=this.inactiveState,o=n.getNodes(),a=n.getCombos(),s=n.getEdges(),l=n.get("vedges"),u=o.length,c=a.length,h=s.length,d=l.length,f=0;f<u;f++){var p=o[f],g=p.hasState("selected");this.resetSelected&&g&&n.setItemState(p,"selected",!1),n.setItemState(p,i,!1),r&&n.setItemState(p,r,!0)}for(f=0;f<c;f++){var v=a[f];g=v.hasState("selected");this.resetSelected&&g&&n.setItemState(v,"selected",!1),n.setItemState(v,i,!1),r&&n.setItemState(v,r,!0)}for(f=0;f<h;f++){var m=s[f];n.setItemState(m,i,!1),r&&n.setItemState(m,r,!0)}for(f=0;f<d;f++){var y=l[f];n.setItemState(y,i,!1),r&&n.setItemState(y,r,!0)}r&&n.setItemState(e,r,!1),n.setItemState(e,i,!0);var b=e.getEdges(),x=b.length;for(f=0;f<x;f++){var w=void 0;w=(m=b[f]).getSource()===e?m.getTarget():m.getSource(),r&&n.setItemState(w,r,!1),n.setItemState(w,i,!0),n.setItemState(m,r,!1),n.setItemState(m,i,!0),m.toFront()}n.emit("afteractivaterelations",{item:t.item,action:"activate"})}},clearActiveState:function(t){var e=this.get("graph");if(this.shouldUpdate(t.item,{event:t,action:"deactivate"})){var n=this.activeState,i=this.inactiveState,r=e.get("autoPaint");e.setAutoPaint(!1);for(var o=e.getNodes()||[],a=e.getCombos()||[],s=e.getEdges()||[],l=e.get("vedges")||[],u=o.length,c=a.length,h=s.length,d=l.length,f=0;f<u;f++){var p=o[f];e.clearItemStates(p,[n,i])}for(f=0;f<c;f++){var g=a[f];e.clearItemStates(g,[n,i])}for(f=0;f<h;f++){var v=s[f];e.clearItemStates(v,[n,i,"deactivate"])}for(f=0;f<d;f++){var m=l[f];e.clearItemStates(m,[n,i,"deactivate"])}e.paint(),e.setAutoPaint(r),e.emit("afteractivaterelations",{item:t.item||this.get("item"),action:"deactivate"})}}},dw=Math.min,fw=Math.max,pw=Math.abs,gw=["drag","shift","ctrl","alt","control"],vw={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return gw.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior brush-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),"drag"===this.trigger?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(t){var e=t.item,n=this.brush;e||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),n||(n=this.createBrush()),this.originPoint={x:t.canvasX,y:t.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(t){this.dragging&&("drag"===this.trigger||this.keydown)&&this.updateBrush(t)},onMouseUp:function(t){this.graph;(this.brush||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(t),this.dragging=!1)},clearStates:function(){var t=this.graph,e=this.selectedState,n=t.findAllByState("node",e),i=t.findAllByState("edge",e);n.forEach(function(n){return t.setItemState(n,e,!1)}),i.forEach(function(n){return t.setItemState(n,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(t){var e=this,n=this.graph,i=this.originPoint,r=this.shouldUpdate,o=this.selectedState,a={x:t.x,y:t.y},s=n.getPointByCanvas(i.x,i.y),l=dw(a.x,s.x),u=fw(a.x,s.x),c=dw(a.y,s.y),h=fw(a.y,s.y),d=[],f=[];n.getNodes().forEach(function(t){if(t.isVisible()){var e=t.getBBox();if(e.centerX>=l&&e.centerX<=u&&e.centerY>=c&&e.centerY<=h&&r(t,"select")){d.push(t);var i=t.getModel();f.push(i.id),n.setItemState(t,o,!0)}}});var p=[];this.includeEdges&&d.forEach(function(t){t.getOutEdges().forEach(function(t){if(t.isVisible()){var i=t.getModel(),o=i.source,a=i.target;f.includes(o)&&f.includes(a)&&r(t,"select")&&(p.push(t),n.setItemState(t,e.selectedState,!0))}})}),this.selectedEdges=p,this.selectedNodes=d,this.onSelect&&this.onSelect(d,p),n.emit("nodeselectchange",{selectedItems:{nodes:d,edges:p},select:!0})},createBrush:function(){var t=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,this.delegate=t,t},updateBrush:function(t){var e=this.originPoint;this.brush.attr({width:pw(t.canvasX-e.x),height:pw(t.canvasY-e.y),x:dw(t.canvasX,e.x),y:dw(t.canvasY,e.y)})},onKeyDown:function(t){var e=t.key;if(e){var n=this.trigger.toLowerCase(),i=e.toLowerCase();this.keydown=i===n||"control"===i&&"ctrl"===n||"ctrl"===i&&"control"===n}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},mw=["shift","ctrl","alt","control"],yw={getDefaultCfg:function(){return{multiple:!0,trigger:"shift",selectedState:"selected"}},getEvents:function(){return mw.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior brush-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),this.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(t){var e=this,n=t.item;if(n&&!n.destroyed){n.getType();var i=e.graph,r=e.keydown,o=e.multiple,a=e.shouldUpdate;if(e.shouldBegin.call(e,t)){if(!r||!o){var s=i.findAllByState("node",e.selectedState).concat(i.findAllByState("combo",e.selectedState));lr(s,function(t){t!==n&&i.setItemState(t,e.selectedState,!1)})}if(n.hasState(e.selectedState)){a.call(e,t)&&i.setItemState(n,e.selectedState,!1);var l=i.findAllByState("node",e.selectedState),u=i.findAllByState("combo",e.selectedState);i.emit("nodeselectchange",{target:n,selectedItems:{nodes:l,combos:u},select:!1})}else{a.call(e,t)&&i.setItemState(n,e.selectedState,!0);l=i.findAllByState("node",e.selectedState),u=i.findAllByState("combo",e.selectedState);i.emit("nodeselectchange",{target:n,selectedItems:{nodes:l,combos:u},select:!0})}}}},onCanvasClick:function(){var t=this,e=this.graph,n=e.findAllByState("node",this.selectedState);lr(n,function(n){e.setItemState(n,t.selectedState,!1)});var i=e.findAllByState("combo",this.selectedState);lr(i,function(n){e.setItemState(n,t.selectedState,!1)}),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.trigger.toLowerCase()||"control"===e.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},bw=J.a.transform,xw={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var t=this.fixSelectedItems;return t.fixState||(t.fixState="selected"),t.fixAll&&(t.fixLineWidth=!0,t.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(t){var e=t.originalEvent.touches,n=e[0],i=e[1];t.preventDefault(),i&&(this.shouldBegin&&!this.shouldBegin.call(this,t)||(this.startPoint={pageX:n.pageX,pageY:n.pageY},this.moveable=!0,i&&(this.endPoint={pageX:i.pageX,pageY:i.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(t){if(this.moveable){t.preventDefault();var e=t.originalEvent.touches,n=e[0],i=e[1];if(i){this.endPoint||(this.endPoint={pageX:i.pageX,pageY:i.pageY});var r=function(t,e){return Math.hypot(e.x-t.x,e.y-t.y)},o=r({x:n.pageX,y:n.pageY},{x:i.pageX,y:i.pageY})/r({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),a=this.originScale*o;this.currentScale=a;var s=this.get("minZoom")||this.graph.get("minZoom");if(!(a>(this.get("maxZoom")||this.graph.get("maxZoom"))||a<s)){var l=this.get("animate"),u=this.get("animateCfg"),c=this.graph.get("canvas").getPointByClient(t.clientX,t.clientY);this.graph.zoomTo(a,{x:c.x,y:c.y},l,u),this.graph.emit("wheelzoom",t)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(t){var e=this,n=this.graph,i=this.fixSelectedItems;if((!this.shouldBegin||this.shouldBegin.call(this,t))&&this.shouldUpdate.call(this,t)){t.preventDefault();var r,o=n.get("canvas").getPointByClient(t.clientX,t.clientY),a=this.get("sensitivity"),s=n.getZoom();r=s*(t.wheelDelta<0?1-.05*a:1/(1-.05*a));var l=this.get("minZoom")||n.get("minZoom");if(!(r>(this.get("maxZoom")||n.get("maxZoom"))||r<l)){if(this.get("enableOptimize")){var u=this.get("optimizeZoom"),c=this.get("optimized"),h=n.getNodes(),d=n.getEdges(),f=h.length,p=d.length;if(!c){for(var g=0;g<f;g++){if(!(C=h[g]).destroyed)for(var v=(J=C.get("group").get("children")).length,m=0;m<v;m++){(j=J[m]).destoryed||j.get("isKeyShape")||(j.set("ori-visibility",j.get("ori-visibility")||j.get("visible")),j.hide())}}for(var y=0;y<p;y++)for(v=(J=(Y=d[y]).get("group").get("children")).length,m=0;m<v;m++){(j=J[m]).set("ori-visibility",j.get("ori-visibility")||j.get("visible")),j.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var b=setTimeout(function(){var t=n.getZoom();if(e.get("optimized")){e.set("optimized",!1);for(var i=0;i<f;i++){var r=h[i],o=(c=r.get("group").get("children")).length;if(t<u)(s=(g=r.getKeyShape()).get("ori-visibility"))&&g.show();else for(var a=0;a<o;a++){var s=(m=c[a]).get("ori-visibility");!m.get("visible")&&s&&s&&m.show()}}for(var l=0;l<p;l++){var c,g,v=d[l];o=(c=v.get("group").get("children")).length;if(t<u)(s=(g=v.getKeyShape()).get("ori-visibility"))&&g.show();else for(a=0;a<o;a++){var m;if(!(m=c[a]).get("visible"))(s=m.get("ori-visibility"))&&m.show()}}}},100);this.set("timeout",b)}if(s<=1){var x=void 0,w=void 0;if(i.fixAll||i.fixLineWidth||i.fixLabel){x=n.findAllByState("node",i.fixState),w=n.findAllByState("edge",i.fixState);for(var _=s/r,S=x.length,M=0;M<S;M++){var C,I=(C=x[M]).getContainer(),k=C.getModel(),T=C.getOriginStyle(),O=C.getStateStyle(i.fixState),E=C.get("shapeFactory").getShape(k.type).getStateStyle(i.fixState,C)[i.fixState];if(i.fixAll){if(r<=1){var A=br(I.getMatrix());A||(A=[1,0,0,0,1,0,0,0,1]);var N=C.getModel(),L=N.x,D=N.y;A=bw(A,[["t",-L,-D],["s",_,_],["t",L,D]]),I.setMatrix(A)}}else for(v=(J=I.get("children")).length,m=0;m<v;m++){var j=J[m],P=void 0,R=void 0;if(i.fixLabel)if("text"===j.get("type")){P=j.attr("fontSize")||12;var z=O[j.get("name")],B=E[j.get("name")],F=z?z.fontSize:12,G=B?B.fontSize:12,V=F||G||12;if(r<=1&&j.attr("fontSize",V/r),R)break}if(i.fixLineWidth&&j.get("isKeyShape")){R=j.attr("lineWidth")||0;var W=O.lineWidth||E.lineWidth||T.lineWidth||0;if(r<=1&&j.attr("lineWidth",W/r),P)break}}}for(var H=w.length,U=0;U<H;U++){var Y,J=(I=(Y=w[U]).getContainer()).get("children");for(k=Y.getModel(),O=Y.getStateStyle(i.fixState),E=Y.get("shapeFactory").getShape(k.type).getStateStyle(i.fixState,Y)[i.fixState],v=J.length,m=0;m<v;m++){j=J[m],P=void 0,R=void 0;if(i.fixLabel||i.fixAll)if("text"===j.get("type")){P=j.attr("fontSize")||12;z=O[j.get("name")],B=E[j.get("name")],F=z?z.fontSize:12,G=B?B.fontSize:12,V=F||G||12;if(r<=1&&j.attr("fontSize",V/r),R)break}if((i.fixLineWidth||i.fixAll)&&j.get("isKeyShape")){R=j.attr("lineWidth")||0;W=O.lineWidth||E.lineWidth||1;if(r<=1&&j.attr("lineWidth",W/r),P)break}}}}}var Q=this.get("animate"),Z=this.get("animateCfg");n.zoomTo(r,{x:o.x,y:o.y},Q,Z),n.emit("wheelzoom",t)}}}},ww={onMouseEnter:function(t){var e=t.item;this.currentTarget=e,this.showTooltip(t),this.graph.emit("tooltipchange",{item:t.item,action:"show"})},onMouseMove:function(t){this.shouldUpdate(t)?this.currentTarget&&t.item===this.currentTarget&&this.updatePosition(t):this.hideTooltip()},onMouseLeave:function(t){this.shouldEnd(t)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(t){var e=this.container;if(t.item&&!t.item.destroyed){e||(e=this.createTooltip(this.graph.get("canvas")),this.container=e);var n=this.formatText(t.item.get("model"),t);e.innerHTML=n,eo(this.container,{visibility:"visible"}),this.updatePosition(t)}},hideTooltip:function(){eo(this.container,{visibility:"hidden"})},updatePosition:function(t){var e=this.get("shouldBegin"),n=this.width,i=this.height,r=this.container,o=this.graph;if(e(t)){var a=o.getPointByClient(t.clientX,t.clientY),s=o.getCanvasByPoint(a.x,a.y),l=s.x,u=s.y,c=r.getBoundingClientRect();l>n/2?l-=c.width:l+=this.offset,u>i/2?u-=c.height:u+=this.offset;var h="".concat(l,"px"),d="".concat(u,"px");eo(this.container,{left:h,top:d,visibility:"visible"})}else eo(r,{visibility:"hidden"})},createTooltip:function(t){var e=t.get("el");e.style.position="relative";var n=to('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return e.parentNode.appendChild(n),eo(n,{position:"absolute",visibility:"visible"}),this.width=t.get("width"),this.height=t.get("height"),this.container=n,this.graph.get("tooltips").push(n),n}},_w=Object(f.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},ww),Sw=Object(f.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: ".concat(t.source," target: ").concat(t.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},ww),Mw=["click","dblclick"],Cw={getDefaultCfg:function(){return{trigger:"click",onChange:function(){}}},getEvents:function(){var t,e;return Mw.includes(this.trigger)?e=this.trigger:(e="click",console.warn("Behavior collapse-expand 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),(t={})["node:".concat(e)]="onNodeClick",t.touchstart="onNodeClick",t},onNodeClick:function(t){var e=t.item;if(e){var n=this.graph.findDataById(e.get("id"));if(n){var i=n.children;if(i&&0!==i.length){var r=!n.collapsed;this.shouldBegin(t,r)&&(n.collapsed=r,e.getModel().collapsed=r,this.graph.emit("itemcollapsed",{item:t.item,collapsed:r}),this.shouldUpdate(t,r)&&(this.onChange(e,r),this.graph.layout()))}}}}},Iw=Zg.calculationItemsBBox,kw={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(t){var e=t.item;return!(!e||e.destroyed)&&(!!this.shouldUpdate.call(this,t)&&"combo"===e.getType())},onDragStart:function(t){var e=this,n=this.graph,i=t.item;if(this.currentShouldEnd=!0,this.validationCombo(t)){this.targets=[];var r=n.findAllByState("combo",this.selectedState),o=i.get("id");0===r.filter(function(t){var e=t.get("id");return o===e}).length?this.targets.push(i):this.targets=r,this.activeState&&this.targets.map(function(t){var i=t.getModel();if(i.parentId){var r=n.findById(i.parentId);r&&n.setItemState(r,e.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:t.x,y:t.y},this.currentItemChildCombos=[],function t(e,n){if(!1!==n(e)&&e){var i=e.get("combos");if(0===i.length)return!1;lr(i,function(e){t(e,n)})}}(i,function(t){if(t.destroyed)return!1;var n=t.getModel();return e.currentItemChildCombos.push(n.id),!0})}},onDrag:function(t){var e=this;if(this.origin&&this.validationCombo(t))if(this.enableDelegate)this.updateDelegate(t);else{if(this.activeState){var n=this.graph,i=t.item,r=i.getModel(),o=n.getCombos(),a=i.getBBox(),s=a.centerX,l=a.centerY,u=a.width;o.filter(function(t){var n=t.getModel();return r.parentId,n.id!==r.id&&!e.currentItemChildCombos.includes(n.id)}).map(function(t){var i=t.getBBox(),r=i.centerX,o=i.centerY,a=i.width,c=s-r,h=l-o,d=2*Math.sqrt(c*c+h*h);u+a-d>.8*u?n.setItemState(t,e.activeState,!0):n.setItemState(t,e.activeState,!1)})}lr(this.targets,function(n){e.updateCombo(n,t)})}},updatePositions:function(t,e){var n=this;(this.enableDelegate||e)&&lr(this.targets,function(i){n.updateCombo(i,t,e)})},onDrop:function(t){var e=this,n=t.item;if(this.currentShouldEnd=this.shouldEnd.call(this,t,n),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd&&n&&this.targets&&!n.destroyed){var i=this.graph,r=n.getModel();this.targets.map(function(t){t.getModel().parentId!==r.id?(e.activeState&&i.setItemState(n,e.activeState,!1),e.onlyChangeComboSize?i.updateCombo(t):i.updateComboTree(t,r.id)):i.updateCombo(n)}),this.end(n,t),this.endComparison=!0}},onNodeDrop:function(t){var e=this;if(this.targets&&0!==this.targets.length){var n=this.graph,i=t.item.getModel().comboId,r=i?n.findById(i):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,t,r),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd){var o;if(i){if(this.activeState){var a=n.findById(i);n.setItemState(a,this.activeState,!1)}this.targets.map(function(t){e.onlyChangeComboSize?n.updateCombo(t):i!==t.getID()&&(o=n.findById(i),i!==t.getModel().parentId&&n.updateComboTree(t,i))})}else this.targets.map(function(t){e.onlyChangeComboSize?n.updateCombo(t):t.getModel().comboId&&n.updateComboTree(t)});this.endComparison=!0,this.end(o,t)}}},onDragEnter:function(t){if(this.origin&&this.validationCombo(t)){var e=t.item,n=this.graph;this.activeState&&n.setItemState(e,this.activeState,!0)}},onDragLeave:function(t){if(this.origin&&this.validationCombo(t)){var e=t.item,n=this.graph;this.activeState&&n.setItemState(e,this.activeState,!1)}},onDragEnd:function(t){if(this.targets&&0!==this.targets.length){var e=t.item;this.currentShouldEnd&&this.updatePositions(t);var n=this.getParentCombo(e.getModel().parentId),i=this.graph;n&&this.activeState&&i.setItemState(n,this.activeState,!1),this.end(void 0,t)}},end:function(t,e){var n=this;if(this.origin){var i=this.graph;if(this.delegateShape)i.get("delegateGroup").clear(),this.delegateShape=null;t&&this.activeState&&i.setItemState(t,this.activeState,!1),t||this.targets.map(function(t){n.onlyChangeComboSize?i.updateCombo(t):i.updateComboTree(t)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(t,e){var n=this;if(!1!==e(t)&&t){var i=t.get("combos");lr(i,function(t){n.traverse(t,e)});var r=t.get("nodes");lr(r,function(t){n.traverse(t,e)})}},updateCombo:function(t,e,n){var i=this;this.traverse(t,function(t){return!t.destroyed&&(i.updateSignleItem(t,e,n),!0)})},updateSignleItem:function(t,e,n){var i=this.origin,r=this.graph,o=t.getModel(),a=t.get("id");this.point[a]||(this.point[a]={x:o.x,y:o.y});var s=e.x-i.x+this.point[a].x,l=e.y-i.y+this.point[a].y;n&&(s+=i.x-e.x,l+=i.y-e.y),r.updateItem(t,{x:s,y:l})},getParentCombo:function(t){var e=this.graph;if(t){var n=e.findById(t);if(n)return n}},updateDelegate:function(t){var e=this.graph;if(this.delegateShape){var n=t.x-this.origin.x+this.originPoint.minX,i=t.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:n,y:i})}else{var r=e.get("delegateGroup"),o=null,a=(o=this.targets.length>1?Iw(this.targets):this.targets[0].getBBox()).x,s=o.y,l=o.width,u=o.height,c=o.minX,h=o.minY;this.originPoint={x:a,y:s,width:l,height:u,minX:c,minY:h};var d=Object(f.__assign)(Object(f.__assign)({},Kr.delegateStyle),this.delegateStyle);this.delegateShape=r.addShape("rect",{attrs:Object(f.__assign)({width:o.width,height:o.height,x:o.x,y:o.y},d),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}}},Tw=["click","dblclick"],Ow={getDefaultCfg:function(){return{trigger:"dblclick",relayout:!0}},getEvents:function(){var t,e;return Tw.includes(this.trigger)?e=this.trigger:(e="dblclick",console.warn("Behavior collapse-expand-group 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),(t={})["combo:".concat(e)]="onComboClick",t},onComboClick:function(t){var e=t.item,n=this.graph,i=this.relayout;if(e&&!e.destroyed&&"combo"===e.getType()){var r=e.getModel().id;r&&(n.collapseExpandCombo(r),i&&n.get("layout")?n.layout():n.refreshPositions())}}},Ew=Zg.isPolygonsIntersect,Aw=Zg.pathToPoints,Nw=["drag","shift","ctrl","alt","control"],Lw=["click","drag"],Dw=["shift","ctrl","control","alt","meta",void 0],jw=["shift","ctrl","alt","control"],Pw=["shift","ctrl","alt","control"];lr({"drag-canvas":uw,"zoom-canvas":xw,"drag-node":cw,"activate-relations":hw,"brush-select":vw,"click-select":yw,"lasso-select":{getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return Nw.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior lasso-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),"drag"===this.trigger?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(t){var e=this.lasso;t.item||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),e||(e=this.createLasso()),this.dragging=!0,this.originPoint={x:t.x,y:t.y},this.points.push(this.originPoint),e.show())},onDragMove:function(t){this.dragging&&("drag"===this.trigger||this.keydown)&&(this.points.push({x:t.x,y:t.y}),this.updateLasso(t))},onDragEnd:function(t){(this.lasso||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var t=this.points,e=[];return t.length&&(t.forEach(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])}),e.push(["L",t[0].x,t[0].y])),e},clearStates:function(){var t=this.graph,e=this.selectedState,n=t.findAllByState("node",e),i=t.findAllByState("edge",e);n.forEach(function(n){return t.setItemState(n,e,!1)}),i.forEach(function(n){return t.setItemState(n,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var t=this,e=this.graph,n=this.shouldUpdate,i=this.points.map(function(t){return[e.getCanvasByPoint(t.x,t.y).x,e.getCanvasByPoint(t.x,t.y).y]}),r=this.selectedState,o=[],a=[];e.getNodes().forEach(function(t){if(t.isVisible()&&function(t,e){var n,i=t.getKeyShape();if("path"===t.get("type"))n=Aw(i.attr("path"));else{var r=i.getCanvasBBox();n=[[r.minX,r.minY],[r.maxX,r.minY],[r.maxX,r.maxY],[r.minX,r.maxY]]}return Ew(e,n)}(t,i)&&n(t,"select")){o.push(t);var s=t.getModel();a.push(s.id),e.setItemState(t,r,!0)}});var s=[];this.includeEdges&&o.forEach(function(i){i.getOutEdges().forEach(function(i){if(i.isVisible()){var r=i.getModel(),o=r.source,l=r.target;a.includes(o)&&a.includes(l)&&n(i,"select")&&(s.push(i),e.setItemState(i,t.selectedState,!0))}})}),this.selectedEdges=s,this.selectedNodes=o,this.onSelect&&this.onSelect(o,s),e.emit("nodeselectchange",{selectedItems:{nodes:o,edges:s},select:!0})},createLasso:function(){var t=this.graph.get("delegateGroup").addShape("path",{attrs:Object(f.__assign)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.delegate=t,this.points=[],t},updateLasso:function(t){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},tooltip:_w,"edge-tooltip":Sw,"collapse-expand":Cw,"drag-combo":kw,"collapse-expand-combo":Ow,"create-edge":{getDefaultCfg:function(){return{trigger:"click",key:void 0,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var t;return Lw.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="click",console.warn("Behavior create-edge 的 trigger 参数不合法，请输入 'click'，'drag'")),this.key&&-1===Dw.indexOf(this.key.toLowerCase())&&(this.trigger=void 0,console.warn("Behavior create-edge 的 key 参数不合法，请输入 'shift'，'ctrl'，'alt'，'control'，或 undefined")),"drag"===this.trigger?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:"click"===this.trigger&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),this.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(t){if(!this.key||this.keydown){var e=t.item;e&&e.getID()!==this.source&&"node"===e.getType()||this.cancelCreating({item:this.edge,x:t.x,y:t.y})}},onClick:function(t){if(!this.key||this.keydown){var e=t.item,n=this.graph,i=e.getModel(),r=this.getEdgeConfig;if(this.addingEdge&&this.edge){if(!this.shouldEnd.call(this,t))return;var o=void 0;o=r&&rr(r)?r({source:this.source,target:i.id}):this.edgeConfig;var a=Object(f.__assign)({target:i.id},o);if(this.source===i.id&&(a.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(this.edge,a,!1),n.get("enabledStack")){var s=Object(f.__assign)(Object(f.__assign)({},this.edge.getModel()),{itemType:"edge"}),l={};l.edges=[s],n.pushStack("add",{before:{},after:l})}n.emit("aftercreateedge",{edge:this.edge}),this.edge.getKeyShape().set("capture",!0),this.edge=null,this.addingEdge=!1}else{if(!this.shouldBegin.call(this,t))return;o=void 0;o=r&&rr(r)?r({source:i.id,target:i.id}):this.edgeConfig,this.edge=n.addItem("edge",Object(f.__assign)({source:i.id,target:i.id},o),!1),this.source=i.id,this.addingEdge=!0,this.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(t){if(!this.key||this.keydown){this.edge&&this.edge.destroyed&&this.cancelCreating({item:this.edge});var e={x:t.x,y:t.y};this.graph.findById(this.source)?this.addingEdge&&this.edge&&this.graph.updateItem(this.edge,{target:e},!1):this.addingEdge=!1}},cancelCreating:function(t){var e,n;if(!this.key||this.keydown){var i=this.graph,r=t.item;return this.addingEdge&&(this.edge===r||(null===(n=null===(e=t.target)||void 0===e?void 0:e.isCanvas)||void 0===n?void 0:n.call(e)))?(this.edge&&!this.edge.destroyed&&i.removeItem(this.edge,!1),this.edge=null,void(this.addingEdge=!1)):void 0}},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.key.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.addingEdge&&this.edge&&(this.graph.removeItem(this.edge,!1),this.addingEdge=!1,this.edge=null),this.keydown=!1}},"shortcuts-call":{getDefaultCfg:function(){return{trigger:"ctrl",combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return jw.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="ctrl",console.warn("Behavior shortcuts-fit-view 的 trigger 参数 '".concat(this.trigger,"' 不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(t){var e=t.key;if(e){var n=this.trigger.toLowerCase(),i=e.toLowerCase();this.triggerKeydown||(this.triggerKeydown=i===n||"control"===i&&"ctrl"===n||"ctrl"===i&&"control"===n);var r=this.graph;if(!r[this.functionName])return console.warn("Behavior shortcuts-fit-view 的 functionName 参数 '".concat(this.functionName,"' 不合法，它不是 Graph 的一个函数名")),{};if(!this.triggerKeydown||this.combinedKey){var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(i===o||"control"===i&&"ctrl"===o||"ctrl"===i&&"control"===o)&&(this.functionParams&&this.functionParams.length?r[this.functionName].apply(r,this.functionParams):r[this.functionName]())}else this.functionParams&&this.functionParams.length?r[this.functionName].apply(r,this.functionParams):r[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},"scroll-canvas":{getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0}},getEvents:function(){return this.zoomKey&&-1!==Pw.indexOf(this.zoomKey)||(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(t){var e=this,n=this.graph,i=t["".concat(this.zoomKey,"Key")];if("control"===this.zoomKey&&(i=t.ctrlKey),i){var r=n.get("canvas").getPointByClient(t.clientX,t.clientY),o=n.getZoom();t.wheelDelta>0?o+=.05*o:o-=.05*o,n.zoomTo(o,{x:r.x,y:r.y})}else{var a=t.deltaX||t.movementX,s=t.deltaY||t.movementY;!s&&navigator.userAgent.indexOf("Firefox")>-1&&(s=125*-t.wheelDelta/3);var l=this.graph.get("width"),u=this.graph.get("height"),c=this.graph.get("canvas").getCanvasBBox(),h=this.scalableRange,d=this.scalableRange;h<1&&h>-1&&(h*=l,d*=u);var f=c.minX,p=c.maxX,g=c.minY,v=c.maxY;a>0?p<-h?a=0:p-a<-h&&(a=p+h):a<0&&(f>l+h?a=0:f-a>l+h&&(a=f-(l+h))),s>0?v<-d?s=0:v-s<-d&&(s=v+d):s<0&&(g>u+d?s=0:g-s>u+d&&(s=g-(u+d))),"x"===this.get("direction")?s=0:"y"===this.get("direction")&&(a=0),n.translate(-a,-s)}if(t.preventDefault(),this.get("enableOptimize")){var m=this.get("optimizeZoom"),y=this.get("optimized"),b=n.getNodes(),x=n.getEdges(),w=b.length,_=x.length;if(!y){for(var S=0;S<w;S++){var M=b[S];if(!M.destroyed)for(var C=(T=M.get("group").get("children")).length,I=0;I<C;I++){(O=T[I]).destoryed||O.get("isKeyShape")||(O.set("ori-visibility",O.get("ori-visibility")||O.get("visible")),O.hide())}}for(var k=0;k<_;k++){var T;for(C=(T=x[k].get("group").get("children")).length,I=0;I<C;I++){var O;(O=T[I]).set("ori-visibility",O.get("ori-visibility")||O.get("visible")),O.hide()}}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var E=setTimeout(function(){var t=n.getZoom();if(e.get("optimized")){e.set("optimized",!1);for(var i=0;i<w;i++){var r=b[i],o=(u=r.get("group").get("children")).length;if(t<m)(s=(c=r.getKeyShape()).get("ori-visibility"))&&c.show();else for(var a=0;a<o;a++){var s=(d=u[a]).get("ori-visibility");!d.get("visible")&&s&&s&&d.show()}}for(var l=0;l<_;l++){var u,c,h=x[l];o=(u=h.get("group").get("children")).length;if(t<m)(s=(c=h.getKeyShape()).get("ori-visibility"))&&c.show();else for(a=0;a<o;a++){var d;if(!(d=u[a]).get("visible"))(s=d.get("ori-visibility"))&&d.show()}}}},100);this.set("timeout",E)}}}},function(t,e){Xi(e,t)});var Rw=Object(f.__assign)(Object(f.__assign)({},i),qi),zw=px.Grid,Bw=px.Minimap,Fw=px.Bundling,Gw=px.Menu,Vw=px.Fisheye,Ww=px.ToolBar,Hw=px.Tooltip,Uw=px.TimeBar,Yw=px.ImageMinimap,Jw=px.EdgeFilterLens,Qw=px.SnapLine,Zw=px.Legend,$w={version:Kr.version,Graph:mv,TreeGraph:xv,Util:Zg,Layout:Rg,TreeLayout:Xg,registerLayout:Kg,Global:Kr,registerBehavior:Xi,registerCombo:$i,registerEdge:Zi,registerNode:Qi,Minimap:px.Minimap,Grid:px.Grid,Bundling:px.Bundling,Menu:px.Menu,ToolBar:px.ToolBar,Tooltip:px.Tooltip,Legend:px.Legend,TimeBar:Uw,SnapLine:Qw,Fisheye:Vw,ImageMinimap:Yw,EdgeFilterLens:Jw,Algorithm:Rw,Arrow:Fi,Marker:Gi,Shape:Vi};n.d(e,!1,function(){return mv}),n.d(e,!1,function(){return xv}),n.d(e,!1,function(){return Zg}),n.d(e,!1,function(){return Rg}),n.d(e,!1,function(){return Xg}),n.d(e,!1,function(){return Kg}),n.d(e,!1,function(){return Kr}),n.d(e,!1,function(){return Bw}),n.d(e,!1,function(){return zw}),n.d(e,!1,function(){return Fw}),n.d(e,!1,function(){return Gw}),n.d(e,!1,function(){return Vw}),n.d(e,!1,function(){return Rw}),n.d(e,!1,function(){return Ww}),n.d(e,!1,function(){return Hw}),n.d(e,!1,function(){return Uw}),n.d(e,!1,function(){return Yw}),n.d(e,!1,function(){return Jw}),n.d(e,!1,function(){return Qw}),n.d(e,!1,function(){return Zw}),n.d(e,!1,function(){return Fi}),n.d(e,!1,function(){return Gi}),n.d(e,!1,function(){return Vi}),n.d(e,!1,function(){return Xn}),n.d(e,!1,function(){return $n}),n.d(e,!1,function(){return Kn}),n.d(e,!1,function(){return Mi}),n.d(e,!1,function(){return Qi}),n.d(e,!1,function(){return $i}),n.d(e,!1,function(){return Ii}),n.d(e,!1,function(){return Zi}),n.d(e,!1,function(){return Xi}),n.d(e,!1,function(){return Yi}),n.d(e,!1,function(){return Ji}),n.d(e,!1,function(){return Ki}),n.d(e,!1,function(){return Bi}),n.d(e,!1,function(){return kn}),$w.version="4.5.3";e.a=$w},"NtQ/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GADDIAsync",{enumerable:!0,get:function(){return i.GADDIAsync}}),Object.defineProperty(e,"connectedComponentAsync",{enumerable:!0,get:function(){return i.connectedComponentAsync}}),e.default=void 0,Object.defineProperty(e,"detectAllCyclesAsync",{enumerable:!0,get:function(){return i.detectAllCyclesAsync}}),Object.defineProperty(e,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return i.detectAllDirectedCycleAsync}}),Object.defineProperty(e,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return i.detectAllUndirectedCycleAsync}}),Object.defineProperty(e,"detectCycleAsync",{enumerable:!0,get:function(){return i.detectCycleAsync}}),e.detectDirectedCycleAsync=void 0,Object.defineProperty(e,"dijkstraAsync",{enumerable:!0,get:function(){return i.dijkstraAsync}}),Object.defineProperty(e,"findAllPathAsync",{enumerable:!0,get:function(){return i.findAllPathAsync}}),Object.defineProperty(e,"findShortestPathAsync",{enumerable:!0,get:function(){return i.findShortestPathAsync}}),Object.defineProperty(e,"floydWarshallAsync",{enumerable:!0,get:function(){return i.floydWarshallAsync}}),Object.defineProperty(e,"getAdjMatrixAsync",{enumerable:!0,get:function(){return i.getAdjMatrixAsync}}),Object.defineProperty(e,"getDegreeAsync",{enumerable:!0,get:function(){return i.getDegreeAsync}}),Object.defineProperty(e,"getInDegreeAsync",{enumerable:!0,get:function(){return i.getInDegreeAsync}}),Object.defineProperty(e,"getNeighborsAsync",{enumerable:!0,get:function(){return i.getNeighborsAsync}}),Object.defineProperty(e,"getOutDegreeAsync",{enumerable:!0,get:function(){return i.getOutDegreeAsync}}),Object.defineProperty(e,"labelPropagationAsync",{enumerable:!0,get:function(){return i.labelPropagationAsync}}),Object.defineProperty(e,"louvainAsync",{enumerable:!0,get:function(){return i.louvainAsync}}),Object.defineProperty(e,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return i.minimumSpanningTreeAsync}}),Object.defineProperty(e,"pageRankAsync",{enumerable:!0,get:function(){return i.pageRankAsync}});var i=n("uSER"),r=i.detectCycleAsync;e.detectDirectedCycleAsync=r;var o={getAdjMatrixAsync:i.getAdjMatrixAsync,connectedComponentAsync:i.connectedComponentAsync,getDegreeAsync:i.getDegreeAsync,getInDegreeAsync:i.getInDegreeAsync,getOutDegreeAsync:i.getOutDegreeAsync,detectCycleAsync:i.detectCycleAsync,detectDirectedCycleAsync:r,detectAllCyclesAsync:i.detectAllCyclesAsync,detectAllDirectedCycleAsync:i.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:i.detectAllUndirectedCycleAsync,dijkstraAsync:i.dijkstraAsync,findAllPathAsync:i.findAllPathAsync,findShortestPathAsync:i.findShortestPathAsync,floydWarshallAsync:i.floydWarshallAsync,labelPropagationAsync:i.labelPropagationAsync,louvainAsync:i.louvainAsync,minimumSpanningTreeAsync:i.minimumSpanningTreeAsync,pageRankAsync:i.pageRankAsync,getNeighborsAsync:i.getNeighborsAsync,GADDIAsync:i.GADDIAsync};e.default=o},O11n:function(t,e,n){"use strict";var i=n("QGUm");t.exports=s;var r="\0",o="\0",a="";function s(t){this._isDirected=!i.has(t,"directed")||t.directed,this._isMultigraph=!!i.has(t,"multigraph")&&t.multigraph,this._isCompound=!!i.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=i.constant(void 0),this._defaultEdgeLabelFn=i.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function l(t,e){t[e]?t[e]++:t[e]=1}function u(t,e){--t[e]||delete t[e]}function c(t,e,n,o){var s=""+e,l=""+n;if(!t&&s>l){var u=s;s=l,l=u}return s+a+l+a+(i.isUndefined(o)?r:o)}function h(t,e){return c(t,e.v,e.w,e.name)}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(t){return this._label=t,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(t){return i.isFunction(t)||(t=i.constant(t)),this._defaultNodeLabelFn=t,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return i.keys(this._nodes)},s.prototype.sources=function(){return i.filter(this.nodes(),i.bind(function(t){return i.isEmpty(this._in[t])},this))},s.prototype.sinks=function(){return i.filter(this.nodes(),i.bind(function(t){return i.isEmpty(this._out[t])},this))},s.prototype.setNodes=function(t,e){var n=arguments;return i.each(t,i.bind(function(t){n.length>1?this.setNode(t,e):this.setNode(t)},this)),this},s.prototype.setNode=function(t,e){return i.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=o,this._children[t]={},this._children[o][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},s.prototype.node=function(t){return this._nodes[t]},s.prototype.hasNode=function(t){return i.has(this._nodes,t)},s.prototype.removeNode=function(t){var e=this;if(i.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],i.each(this.children(t),i.bind(function(t){this.setParent(t)},this)),delete this._children[t]),i.each(i.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],i.each(i.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},s.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(i.isUndefined(e))e=o;else{for(var n=e+="";!i.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},s.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},s.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==o)return e}},s.prototype.children=function(t){if(i.isUndefined(t)&&(t=o),this._isCompound){var e=this._children[t];if(e)return i.keys(e)}else{if(t===o)return this.nodes();if(this.hasNode(t))return[]}},s.prototype.predecessors=function(t){var e=this._preds[t];if(e)return i.keys(e)},s.prototype.successors=function(t){var e=this._sucs[t];if(e)return i.keys(e)},s.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return i.union(e,this.successors(t))},s.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},s.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph()),i.each(this._nodes,i.bind(function(n,i){t(i)&&e.setNode(i,n)},this)),i.each(this._edgeObjs,i.bind(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,this.edge(t))},this));var n=this,r={};return this._isCompound&&i.each(e.nodes(),function(t){e.setParent(t,function t(i){var o=n.parent(i);return void 0===o||e.hasNode(o)?(r[i]=o,o):o in r?r[o]:t(o)}(t))}),e},s.prototype.setDefaultEdgeLabel=function(t){return i.isFunction(t)||(t=i.constant(t)),this._defaultEdgeLabelFn=t,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return i.values(this._edgeObjs)},s.prototype.setPath=function(t,e){var n=this,r=arguments;return i.reduce(t,function(t,i){return r.length>1?n.setEdge(t,i,e):n.setEdge(t,i),i}),this},s.prototype.setEdge=function(){var t,e,n,r,o=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(t=a.v,e=a.w,n=a.name,2===arguments.length&&(r=arguments[1],o=!0)):(t=a,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],o=!0)),t=""+t,e=""+e,i.isUndefined(n)||(n=""+n);var s=c(this._isDirected,t,e,n);if(i.has(this._edgeLabels,s))return o&&(this._edgeLabels[s]=r),this;if(!i.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[s]=o?r:this._defaultEdgeLabelFn(t,e,n);var u=function(t,e,n,i){var r=""+e,o=""+n;if(!t&&r>o){var a=r;r=o,o=a}var s={v:r,w:o};i&&(s.name=i);return s}(this._isDirected,t,e,n);return t=u.v,e=u.w,Object.freeze(u),this._edgeObjs[s]=u,l(this._preds[e],t),l(this._sucs[t],e),this._in[e][s]=u,this._out[t][s]=u,this._edgeCount++,this},s.prototype.edge=function(t,e,n){var i=1===arguments.length?h(this._isDirected,arguments[0]):c(this._isDirected,t,e,n);return this._edgeLabels[i]},s.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?h(this._isDirected,arguments[0]):c(this._isDirected,t,e,n);return i.has(this._edgeLabels,r)},s.prototype.removeEdge=function(t,e,n){var i=1===arguments.length?h(this._isDirected,arguments[0]):c(this._isDirected,t,e,n),r=this._edgeObjs[i];return r&&(t=r.v,e=r.w,delete this._edgeLabels[i],delete this._edgeObjs[i],u(this._preds[e],t),u(this._sucs[t],e),delete this._in[e][i],delete this._out[t][i],this._edgeCount--),this},s.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=i.values(n);return e?i.filter(r,function(t){return t.v===e}):r}},s.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=i.values(n);return e?i.filter(r,function(t){return t.w===e}):r}},s.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},O4g8:function(t,e){t.exports=!0},OEIs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataReader=void 0;var i=n("cEWm"),r=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(i.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(i.TAGGED,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(i.TAGGED_PROP,t)||[]},t}();e.MetadataReader=r},ON07:function(t,e,n){var i=n("EqjI"),r=n("7KvD").document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},OYls:function(t,e,n){n("crlp")("asyncIterator")},OuaV:function(t,e,n){var i=n("Emnw"),r=n("QGUm");t.exports=function(t,e,n){return r.transform(t.nodes(),function(r,o){r[o]=i(t,o,e,n)},{})}},OwOc:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"d",function(){return h}),e.e=function(t){for(var e in h)t[e]&&(h[e]=t[e])};var i=12,r="sans-serif",o=i+"px "+r,a=20,s=100;var l,u,c=function(t){var e={};if("undefined"==typeof JSON)return e;for(var n=0;n<t.length;n++){var i=String.fromCharCode(n+32),r=(t.charCodeAt(n)-a)/s;e[i]=r}return e}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),h={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(t,e){if(!l){var n=h.createCanvas();l=n&&n.getContext("2d")}if(l)return u!==e&&(u=l.font=e||o),l.measureText(t);t=t||"";var r=/^([0-9]*?)px$/.exec(e=e||o),a=+(r&&r[1])||i,s=0;if(e.indexOf("mono")>=0)s=a*t.length;else for(var d=0;d<t.length;d++){var f=c[t[d]];s+=null==f?a:f*a}return{width:s}},loadImage:function(t,e,n){var i=new Image;return i.onload=e,i.onerror=n,i.src=t,i}}},Oy1H:function(t,e){function n(e){"@babel/helpers - typeof";return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},P8qx:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var a=n("QmXE"),s=n("tuOO"),l=n("3gih"),u=n("cEWm"),c=n("OEIs"),h=n("1wGD"),d=n("UIf7"),f=n("7KS9"),p=n("fwdJ"),g=n("ETa/"),v=n("Zkj8"),m=n("mzs6"),y=function(){function t(t){this._appliedMiddleware=[];var e=t||{};if("object"!=typeof e)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===e.defaultScope)e.defaultScope=l.BindingScopeEnum.Transient;else if(e.defaultScope!==l.BindingScopeEnum.Singleton&&e.defaultScope!==l.BindingScopeEnum.Transient&&e.defaultScope!==l.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===e.autoBindInjectable)e.autoBindInjectable=!1;else if("boolean"!=typeof e.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===e.skipBaseClassChecks)e.skipBaseClassChecks=!1;else if("boolean"!=typeof e.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.id=p.id(),this._bindingDictionary=new m.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new c.MetadataReader}return t.merge=function(e,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var a=new t,s=o([e,n],i).map(function(t){return h.getBindingDictionary(t)}),l=h.getBindingDictionary(a);return s.forEach(function(t){var e;e=l,t.traverse(function(t,n){n.forEach(function(t){e.add(t.serviceIdentifier,t.clone())})})}),a},t.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._getContainerModuleHelpersFactory(),i=0,r=t;i<r.length;i++){var o=r[i],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},t.prototype.loadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(this,void 0,void 0,function(){var e,n,i,o,a;return r(this,function(r){switch(r.label){case 0:e=this._getContainerModuleHelpersFactory(),n=0,i=t,r.label=1;case 1:return n<i.length?(o=i[n],a=e(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach(function(e){var n,i=(n=e.id,function(t){return t.moduleId===n});t._bindingDictionary.removeByCondition(i)})},t.prototype.bind=function(t){var e=this.options.defaultScope||l.BindingScopeEnum.Transient,n=new a.Binding(t,e);return this._bindingDictionary.add(t,n),new f.BindingToSyntax(n)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(e){throw new Error(s.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new m.Lookup},t.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},t.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,u.NAMED_TAG,e)},t.prototype.isBoundTagged=function(t,e,n){var i=!1;if(this._bindingDictionary.hasKey(t)){var r=this._bindingDictionary.get(t),o=h.createMockRequest(this,t,e,n);i=r.some(function(t){return t.constraint(o)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(t,e,n)),i},t.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._appliedMiddleware=this._appliedMiddleware.concat(t);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce(function(t,e){return e(t)},n)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){return this._get(!1,!1,l.TargetTypeEnum.Variable,t)},t.prototype.getTagged=function(t,e,n){return this._get(!1,!1,l.TargetTypeEnum.Variable,t,e,n)},t.prototype.getNamed=function(t,e){return this.getTagged(t,u.NAMED_TAG,e)},t.prototype.getAll=function(t){return this._get(!0,!0,l.TargetTypeEnum.Variable,t)},t.prototype.getAllTagged=function(t,e,n){return this._get(!1,!0,l.TargetTypeEnum.Variable,t,e,n)},t.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,u.NAMED_TAG,e)},t.prototype.resolve=function(t){var e=this.createChild();return e.bind(t).toSelf(),this._appliedMiddleware.forEach(function(t){e.applyMiddleware(t)}),e.get(t)},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,e=function(t,e){t._binding.moduleId=e};return function(n){return{bindFunction:(i=n,function(n){var r=t.bind.bind(t)(n);return e(r,i),r}),isboundFunction:function(e){return t.isBound.bind(t)(e)},rebindFunction:function(n){return function(i){var r=t.rebind.bind(t)(i);return e(r,n),r}}(n),unbindFunction:function(e){t.unbind.bind(t)(e)}};var i}},t.prototype._get=function(t,e,n,i,r,o){var a=null,l={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:e,key:r,serviceIdentifier:i,targetType:n,value:o};if(this._middleware){if(void 0===(a=this._middleware(l))||null===a)throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(l);return a},t.prototype._planAndResolve=function(){var t=this;return function(e){var n=h.plan(t._metadataReader,t,e.isMultiInject,e.targetType,e.serviceIdentifier,e.key,e.value,e.avoidConstraints);return n=e.contextInterceptor(n),d.resolve(n)}},t}();e.Container=y},PDVq:function(t,e,n){"use strict";e.d=function(){return window?window.devicePixelRatio:1},e.b=function(t,e,n,i){var r=t-n,o=e-i;return Math.sqrt(r*r+o*o)},e.e=function(t,e,n,i,r,o){return r>=t&&r<=t+n&&o>=e&&o<=e+i},e.f=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},e.l=function(t,e){if(!t||!e)return t||e;return{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}},e.j=function(t,e){return t[0]===e[0]&&t[1]===e[1]};var i=n("hV/g");n.d(e,"i",function(){return i.e}),n.d(e,"k",function(){return i.f}),n.d(e,"h",function(){return i.d}),n.d(e,"g",function(){return i.c}),n.d(e,"c",function(){return i.b}),n.d(e,"o",function(){return i.k}),n.d(e,"m",function(){return i.i}),n.d(e,"n",function(){return i.j}),n.d(e,"a",function(){return i.a})},Py8m:function(t,e,n){var i;"undefined"!=typeof self&&self,i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=31)}([function(t,e,n){"use strict";var i=n(4);e.a=function(t){return Array.isArray?Array.isArray(t):Object(i.a)(t,"Array")}},function(t,e,n){"use strict";e.a=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e,n){"use strict";var i=n(0),r=n(13);e.a=function(t,e){if(t)if(Object(i.a)(t))for(var n=0,o=t.length;n<o&&!1!==e(t[n],n);n++);else if(Object(r.a)(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break}},function(t,e,n){"use strict";var i=n(4);e.a=function(t){return Object(i.a)(t,"Function")}},function(t,e,n){"use strict";var i={}.toString;e.a=function(t,e){return i.call(t)==="[object "+e+"]"}},function(t,e,n){"use strict";var i=n(4);e.a=function(t){return Object(i.a)(t,"Number")}},function(t,e,n){"use strict";e.a=function(t){return null===t||void 0===t}},function(t,e,n){var i=n(33).mix;t.exports={assign:i}},function(t,e,n){"use strict";var i=n(4);e.a=function(t){return Object(i.a)(t,"String")}},function(t,e,n){"use strict";var i=n(15),r=n(4);e.a=function(t){if(!Object(i.a)(t)||!Object(r.a)(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,n){"use strict";var i=n(6);e.a=function(t){return Object(i.a)(t)?"":t.toString()}},function(t,e,n){var i=n(18),r=function(){function t(t,e){void 0===e&&(e={});this.options=e,this.rootNode=i(t,e)}return t.prototype.execute=function(){throw new Error("please override this method")},t}();t.exports=r},function(t,e,n){"use strict";var i=n(1);e.a=function(t,e){return!!Object(i.a)(t)&&t.indexOf(e)>-1}},function(t,e,n){"use strict";e.a=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e}},function(t,e,n){"use strict";var i=n(2),r=n(1);e.a=function(t,e){if(!Object(r.a)(t))return t;var n=[];return Object(i.a)(t,function(t,i){e(t,i)&&n.push(t)}),n}},function(t,e,n){"use strict";e.a=function(t){return"object"==typeof t&&null!==t}},function(t,e,n){"use strict";function i(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}e.a=function(t,e,n,r){e&&i(t,e);n&&i(t,n);r&&i(t,r);return t}},function(t,e,n){var i=n(30),r=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],a=r[0];t.exports=function(t,e,n){var s=e.direction||a;if(e.isHorizontal=function(t){return o.indexOf(t)>-1}(s),s&&-1===r.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===r[0])n(t,e);else if(s===r[1])n(t,e),t.right2left();else if(s===r[2])n(t,e);else if(s===r[3])n(t,e),t.bottom2top();else if(s===r[4]||s===r[5]){var l=i(t,e),u=l.left,c=l.right;n(u,e),n(c,e),e.isHorizontal?u.right2left():u.bottom2top(),c.translate(u.x-c.x,u.y-c.y),t.x=u.x,t.y=c.y;var h=t.getBoundingBox();e.isHorizontal?h.top<0&&t.translate(0,-h.top):h.left<0&&t.translate(-h.left,0)}var d=e.fixedRoot;return void 0===d&&(d=!0),d&&t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t}},function(t,e,n){var i=n(7),r={getId:function(t){return t.id||t.name},getPreH:function(t){return t.preH||0},getPreV:function(t){return t.preV||0},getHGap:function(t){return t.hgap||18},getVGap:function(t){return t.vgap||18},getChildren:function(t){return t.children},getHeight:function(t){return t.height||36},getWidth:function(t){var e=t.label||" ";return t.width||18*e.split("").length}};function o(t,e){var n=this;if(n.vgap=n.hgap=0,t instanceof o)return t;n.data=t;var i=e.getHGap(t),r=e.getVGap(t);return n.preH=e.getPreH(t),n.preV=e.getPreV(t),n.width=e.getWidth(t),n.height=e.getHeight(t),n.width+=n.preH,n.height+=n.preV,n.id=e.getId(t),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(i,r),n}i.assign(o.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,e){this.hgap+=t,this.vgap+=e,this.width+=2*t,this.height+=2*e},eachNode:function(t){for(var e,n=[this];e=n.shift();)t(e),n=e.children.concat(n)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e,n=[this];e=n.shift();)t(e),n=n.concat(e.children)},getBoundingBox:function(){var t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)}),t},translate:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.eachNode(function(n){n.x+=t,n.y+=e,n.x+=n.preH,n.y+=n.preV})},right2left:function(){var t=this.getBoundingBox();this.eachNode(function(e){e.x=e.x-2*(e.x-t.left)-e.width}),this.translate(t.width,0)},bottom2top:function(){var t=this.getBoundingBox();this.eachNode(function(e){e.y=e.y-2*(e.y-t.top)-e.height}),this.translate(0,t.height)}}),t.exports=function(t,e,n){void 0===e&&(e={});var a,s=new o(t,e=i.assign({},r,e)),l=[s];if(!n&&!t.collapsed)for(;a=l.shift();)if(!a.data.collapsed){var u=e.getChildren(a.data),c=u?u.length:0;if(a.children=new Array(c),u&&c)for(var h=0;h<c;h++){var d=new o(u[h],e);a.children[h]=d,l.push(d),d.parent=a,d.depth=a.depth+1}}return s}},function(t,e,n){"use strict";var i=n(6),r=n(20);e.a=function(t,e){var n=Object(r.a)(e),o=n.length;if(Object(i.a)(t))return!o;for(var a=0;a<o;a+=1){var s=n[a];if(e[s]!==t[s]||!(s in t))return!1}return!0}},function(t,e,n){"use strict";var i=n(2),r=n(3),o=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return Object(i.a)(t,function(n,i){Object(r.a)(t)&&"prototype"===i||e.push(i)}),e};e.a=o},function(t,e,n){"use strict";var i=n(1),r=Array.prototype.splice;e.a=function(t,e){if(!Object(i.a)(t))return[];for(var n=t?e.length:0,o=n-1;n--;){var a=void 0,s=e[n];n!==o&&s===a||(a=s,r.call(t,s,1))}return t}},function(t,e,n){"use strict";var i=n(12),r=n(2);e.a=function(t){var e=[];return Object(r.a)(t,function(t){Object(i.a)(e,t)||e.push(t)}),e}},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(24);e.a=function(t,e){if(!e)return{0:t};if(!Object(r.a)(e)){var n=Object(i.a)(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",i=0,r=n.length;i<r;i++)e+=t[n[i]]&&t[n[i]].toString();return e}}return Object(o.a)(t,e)}},function(t,e,n){"use strict";var i=n(2),r=n(0),o=n(3),a=Object.prototype.hasOwnProperty;e.a=function(t,e){if(!e||!Object(r.a)(t))return{};var n,s={},l=Object(o.a)(e)?e:function(t){return t[e]};return Object(i.a)(t,function(t){n=l(t),a.call(s,n)?s[n].push(t):s[n]=[t]}),s}},function(t,e,n){"use strict";e.a=function(t,e){return t.hasOwnProperty(e)}},function(t,e,n){"use strict";var i=n(2),r=n(3),o=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return Object(i.a)(t,function(n,i){Object(r.a)(t)&&"prototype"===i||e.push(n)}),e};e.a=o},function(t,e,n){"use strict";var i={}.toString;e.a=function(t){return i.call(t).replace(/^\[object /,"").replace(/]$/,"")}},function(t,e,n){"use strict";var i=Object.prototype;e.a=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}},function(t,e,n){"use strict";var i=n(15),r=n(1),o=n(8),a=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Object(o.a)(t)||Object(o.a)(e))return!1;if(Object(r.a)(t)||Object(r.a)(e)){if(t.length!==e.length)return!1;for(var n=!0,s=0;s<t.length&&(n=a(t[s],e[s]));s++);return n}if(Object(i.a)(t)||Object(i.a)(e)){var l=Object.keys(t),u=Object.keys(e);if(l.length!==u.length)return!1;for(n=!0,s=0;s<l.length&&(n=a(t[l[s]],e[l[s]]));s++);return n}return!1};e.a=a},function(t,e,n){var i=n(18);t.exports=function(t,e){for(var n=i(t.data,e,!0),r=i(t.data,e,!0),o=t.children.length,a=Math.round(o/2),s=e.getSide||function(t,e){return e<a?"right":"left"},l=0;l<o;l++){var u=t.children[l];"right"===s(u,l)?r.children.push(u):n.children.push(u)}return n.eachNode(function(t){t.isRoot()||(t.side="left")}),r.eachNode(function(t){t.isRoot()||(t.side="right")}),{left:n,right:r}}},function(t,e,n){var i={compactBox:n(32),dendrogram:n(114),indented:n(116),mindmap:n(118)};t.exports=i},function(t,e,n){var i=n(11),r=n(113),o=n(17),a=n(7),s=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.prototype.execute=function(){return o(this.rootNode,this.options,r)},i}(i),l={};t.exports=function(t,e){return e=a.assign({},l,e),new s(t,e).execute()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12);n.d(e,"contains",function(){return i.a}),n.d(e,"includes",function(){return i.a});var r=n(34);n.d(e,"difference",function(){return r.a});var o=n(35);n.d(e,"find",function(){return o.a});var a=n(36);n.d(e,"findIndex",function(){return a.a});var s=n(37);n.d(e,"firstValue",function(){return s.a});var l=n(38);n.d(e,"flatten",function(){return l.a});var u=n(39);n.d(e,"flattenDeep",function(){return u.a});var c=n(40);n.d(e,"getRange",function(){return c.a});var h=n(41);n.d(e,"pull",function(){return h.a});var d=n(21);n.d(e,"pullAt",function(){return d.a});var f=n(42);n.d(e,"reduce",function(){return f.a});var p=n(43);n.d(e,"remove",function(){return p.a});var g=n(44);n.d(e,"sortBy",function(){return g.a});var v=n(45);n.d(e,"union",function(){return v.a});var m=n(22);n.d(e,"uniq",function(){return m.a});var y=n(46);n.d(e,"valuesOfKey",function(){return y.a});var b=n(47);n.d(e,"head",function(){return b.a});var x=n(48);n.d(e,"last",function(){return x.a});var w=n(49);n.d(e,"startsWith",function(){return w.a});var _=n(50);n.d(e,"endsWith",function(){return _.a});var S=n(14);n.d(e,"filter",function(){return S.a});var M=n(51);n.d(e,"every",function(){return M.a});var C=n(52);n.d(e,"some",function(){return C.a});var I=n(53);n.d(e,"group",function(){return I.a});var k=n(24);n.d(e,"groupBy",function(){return k.a});var T=n(23);n.d(e,"groupToMap",function(){return T.a});var O=n(54);n.d(e,"getWrapBehavior",function(){return O.a});var E=n(55);n.d(e,"wrapBehavior",function(){return E.a});var A=n(56);n.d(e,"number2color",function(){return A.a});var N=n(57);n.d(e,"parseRadius",function(){return N.a});var L=n(58);n.d(e,"clamp",function(){return L.a});var D=n(59);n.d(e,"fixedBase",function(){return D.a});var j=n(60);n.d(e,"isDecimal",function(){return j.a});var P=n(61);n.d(e,"isEven",function(){return P.a});var R=n(62);n.d(e,"isInteger",function(){return R.a});var z=n(63);n.d(e,"isNegative",function(){return z.a});var B=n(64);n.d(e,"isNumberEqual",function(){return B.a});var F=n(65);n.d(e,"isOdd",function(){return F.a});var G=n(66);n.d(e,"isPositive",function(){return G.a});var V=n(67);n.d(e,"maxBy",function(){return V.a});var W=n(68);n.d(e,"minBy",function(){return W.a});var H=n(69);n.d(e,"mod",function(){return H.a});var U=n(70);n.d(e,"toDegree",function(){return U.a});var Y=n(71);n.d(e,"toInteger",function(){return Y.a});var J=n(72);n.d(e,"toRadian",function(){return J.a});var Q=n(73);n.d(e,"forIn",function(){return Q.a});var Z=n(25);n.d(e,"has",function(){return Z.a});var $=n(74);n.d(e,"hasKey",function(){return $.a});var X=n(75);n.d(e,"hasValue",function(){return X.a});var K=n(20);n.d(e,"keys",function(){return K.a});var q=n(19);n.d(e,"isMatch",function(){return q.a});var tt=n(26);n.d(e,"values",function(){return tt.a});var et=n(76);n.d(e,"lowerCase",function(){return et.a});var nt=n(77);n.d(e,"lowerFirst",function(){return nt.a});var it=n(78);n.d(e,"substitute",function(){return it.a});var rt=n(79);n.d(e,"upperCase",function(){return rt.a});var ot=n(80);n.d(e,"upperFirst",function(){return ot.a});var at=n(27);n.d(e,"getType",function(){return at.a});var st=n(81);n.d(e,"isArguments",function(){return st.a});var lt=n(0);n.d(e,"isArray",function(){return lt.a});var ut=n(1);n.d(e,"isArrayLike",function(){return ut.a});var ct=n(82);n.d(e,"isBoolean",function(){return ct.a});var ht=n(83);n.d(e,"isDate",function(){return ht.a});var dt=n(84);n.d(e,"isError",function(){return dt.a});var ft=n(3);n.d(e,"isFunction",function(){return ft.a});var pt=n(85);n.d(e,"isFinite",function(){return pt.a});var gt=n(6);n.d(e,"isNil",function(){return gt.a});var vt=n(86);n.d(e,"isNull",function(){return vt.a});var mt=n(5);n.d(e,"isNumber",function(){return mt.a});var yt=n(13);n.d(e,"isObject",function(){return yt.a});var bt=n(15);n.d(e,"isObjectLike",function(){return bt.a});var xt=n(9);n.d(e,"isPlainObject",function(){return xt.a});var wt=n(28);n.d(e,"isPrototype",function(){return wt.a});var _t=n(87);n.d(e,"isRegExp",function(){return _t.a});var St=n(8);n.d(e,"isString",function(){return St.a});var Mt=n(4);n.d(e,"isType",function(){return Mt.a});var Ct=n(88);n.d(e,"isUndefined",function(){return Ct.a});var It=n(89);n.d(e,"isElement",function(){return It.a});var kt=n(90);n.d(e,"requestAnimationFrame",function(){return kt.a});var Tt=n(91);n.d(e,"clearAnimationFrame",function(){return Tt.a});var Ot=n(92);n.d(e,"augment",function(){return Ot.a});var Et=n(93);n.d(e,"clone",function(){return Et.a});var At=n(94);n.d(e,"debounce",function(){return At.a});var Nt=n(95);n.d(e,"memoize",function(){return Nt.a});var Lt=n(96);n.d(e,"deepMix",function(){return Lt.a});var Dt=n(2);n.d(e,"each",function(){return Dt.a});var jt=n(97);n.d(e,"extend",function(){return jt.a});var Pt=n(98);n.d(e,"indexOf",function(){return Pt.a});var Rt=n(99);n.d(e,"isEmpty",function(){return Rt.a});var zt=n(29);n.d(e,"isEqual",function(){return zt.a});var Bt=n(100);n.d(e,"isEqualWith",function(){return Bt.a});var Ft=n(101);n.d(e,"map",function(){return Ft.a});var Gt=n(102);n.d(e,"mapValues",function(){return Gt.a});var Vt=n(16);n.d(e,"mix",function(){return Vt.a}),n.d(e,"assign",function(){return Vt.a});var Wt=n(103);n.d(e,"get",function(){return Wt.a});var Ht=n(104);n.d(e,"set",function(){return Ht.a});var Ut=n(105);n.d(e,"pick",function(){return Ut.a});var Yt=n(106);n.d(e,"throttle",function(){return Yt.a});var Jt=n(107);n.d(e,"toArray",function(){return Jt.a});var Qt=n(10);n.d(e,"toString",function(){return Qt.a});var Zt=n(108);n.d(e,"uniqueId",function(){return Zt.a});var $t=n(109);n.d(e,"noop",function(){return $t.a});var Xt=n(110);n.d(e,"identity",function(){return Xt.a});var Kt=n(111);n.d(e,"size",function(){return Kt.a});var qt=n(112);n.d(e,"Cache",function(){return qt.a})},function(t,e,n){"use strict";var i=n(14),r=n(12);e.a=function(t,e){return void 0===e&&(e=[]),Object(i.a)(t,function(t){return!Object(r.a)(e,t)})}},function(t,e,n){"use strict";var i=n(3),r=n(19),o=n(0),a=n(9);e.a=function(t,e){if(!Object(o.a)(t))return null;var n;if(Object(i.a)(e)&&(n=e),Object(a.a)(e)&&(n=function(t){return Object(r.a)(t,e)}),n)for(var s=0;s<t.length;s+=1)if(n(t[s]))return t[s];return null}},function(t,e,n){"use strict";e.a=function(t,e,n){void 0===n&&(n=0);for(var i=n;i<t.length;i++)if(e(t[i],i))return i;return-1}},function(t,e,n){"use strict";var i=n(6),r=n(0);e.a=function(t,e){for(var n=null,o=0;o<t.length;o++){var a=t[o][e];if(!Object(i.a)(a)){n=Object(r.a)(a)?a[0]:a;break}}return n}},function(t,e,n){"use strict";var i=n(0);e.a=function(t){if(!Object(i.a)(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e}},function(t,e,n){"use strict";var i=n(0),r=function(t,e){if(void 0===e&&(e=[]),Object(i.a)(t))for(var n=0;n<t.length;n+=1)r(t[n],e);else e.push(t);return e};e.a=r},function(t,e,n){"use strict";var i=n(0),r=n(14);e.a=function(t){if(!(t=Object(r.a)(t,function(t){return!isNaN(t)})).length)return{min:0,max:0};if(Object(i.a)(t[0])){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);t=e}var o=Math.max.apply(null,t);return{min:Math.min.apply(null,t),max:o}}},function(t,e,n){"use strict";var i=Array.prototype,r=i.splice,o=i.indexOf;e.a=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++)for(var a=e[i],s=-1;(s=o.call(t,a))>-1;)r.call(t,s,1);return t}},function(t,e,n){"use strict";var i=n(2),r=n(0),o=n(9);e.a=function(t,e,n){if(!Object(r.a)(t)&&!Object(o.a)(t))return t;var a=n;return Object(i.a)(t,function(t,n){a=e(a,t,n)}),a}},function(t,e,n){"use strict";var i=n(1),r=n(21);e.a=function(t,e){var n=[];if(!Object(i.a)(t))return n;for(var o=-1,a=[],s=t.length;++o<s;){var l=t[o];e(l,o,t)&&(n.push(l),a.push(o))}return Object(r.a)(t,a),n}},function(t,e,n){"use strict";var i=n(0),r=n(8),o=n(3);e.a=function(t,e){var n;if(Object(o.a)(e))n=function(t,n){return e(t)-e(n)};else{var a=[];Object(r.a)(e)?a.push(e):Object(i.a)(e)&&(a=e),n=function(t,e){for(var n=0;n<a.length;n+=1){var i=a[n];if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return 0}}return t.sort(n),t}},function(t,e,n){"use strict";var i=n(22);e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(i.a)([].concat.apply([],t))}},function(t,e,n){"use strict";var i=n(2),r=n(0),o=n(6);e.a=function(t,e){var n=[],a={};return t.forEach(function(t){var s=t[e];Object(o.a)(s)||(Object(r.a)(s)||(s=[s]),Object(i.a)(s,function(t){a[t]||(n.push(t),a[t]=!0)}))}),n}},function(t,e,n){"use strict";e.a=function(t){if(Object(i.a)(t))return t[0];return};var i=n(1)},function(t,e,n){"use strict";e.a=function(t){if(Object(i.a)(t)){var e=t;return e[e.length-1]}return};var i=n(1)},function(t,e,n){"use strict";var i=n(0),r=n(8);e.a=function(t,e){return!(!Object(i.a)(t)&&!Object(r.a)(t))&&t[0]===e}},function(t,e,n){"use strict";var i=n(0),r=n(8);e.a=function(t,e){return!(!Object(i.a)(t)&&!Object(r.a)(t))&&t[t.length-1]===e}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1}},function(t,e,n){"use strict";var i=n(23);e.a=function(t,e){if(!e)return[t];var n=Object(i.a)(t,e),r=[];for(var o in n)r.push(n[o]);return r}},function(t,e,n){"use strict";e.a=function(t,e){return t["_wrap_"+e]}},function(t,e,n){"use strict";e.a=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n}},function(t,e,n){"use strict";var i={};e.a=function(t){var e=i[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,i[t]=e}return e}},function(t,e,n){"use strict";var i=n(0);e.a=function(t){var e=0,n=0,r=0,o=0;return Object(i.a)(t)?1===t.length?e=n=r=o=t[0]:2===t.length?(e=r=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],o=t[3]):e=n=r=o=t,{r1:e,r2:n,r3:r,r4:o}}},function(t,e,n){"use strict";e.a=function(t,e,n){return t<e?e:t>n?n:t}},function(t,e,n){"use strict";e.a=function(t,e){var n=e.toString(),i=n.indexOf(".");if(-1===i)return Math.round(t);var r=n.substr(i+1).length;return r>20&&(r=20),parseFloat(t.toFixed(r))}},function(t,e,n){"use strict";var i=n(5);e.a=function(t){return Object(i.a)(t)&&t%1!=0}},function(t,e,n){"use strict";var i=n(5);e.a=function(t){return Object(i.a)(t)&&t%2==0}},function(t,e,n){"use strict";var i=n(5),r=Number.isInteger?Number.isInteger:function(t){return Object(i.a)(t)&&t%1==0};e.a=r},function(t,e,n){"use strict";var i=n(5);e.a=function(t){return Object(i.a)(t)&&t<0}},function(t,e,n){"use strict";e.a=function(t,e,n){void 0===n&&(n=i);return Math.abs(t-e)<n};var i=1e-5},function(t,e,n){"use strict";var i=n(5);e.a=function(t){return Object(i.a)(t)&&t%2!=0}},function(t,e,n){"use strict";var i=n(5);e.a=function(t){return Object(i.a)(t)&&t>0}},function(t,e,n){"use strict";var i=n(2),r=n(0),o=n(3);e.a=function(t,e){if(Object(r.a)(t)){var n,a,s=t[0];return n=Object(o.a)(e)?e(t[0]):t[0][e],Object(i.a)(t,function(t){(a=Object(o.a)(e)?e(t):t[e])>n&&(s=t,n=a)}),s}}},function(t,e,n){"use strict";var i=n(2),r=n(0),o=n(3);e.a=function(t,e){if(Object(r.a)(t)){var n,a,s=t[0];return n=Object(o.a)(e)?e(t[0]):t[0][e],Object(i.a)(t,function(t){(a=Object(o.a)(e)?e(t):t[e])<n&&(s=t,n=a)}),s}}},function(t,e,n){"use strict";e.a=function(t,e){return(t%e+e)%e}},function(t,e,n){"use strict";var i=180/Math.PI;e.a=function(t){return i*t}},function(t,e,n){"use strict";e.a=parseInt},function(t,e,n){"use strict";var i=Math.PI/180;e.a=function(t){return i*t}},function(t,e,n){"use strict";var i=n(2);e.a=i.a},function(t,e,n){"use strict";var i=n(25);e.a=i.a},function(t,e,n){"use strict";var i=n(12),r=n(26);e.a=function(t,e){return Object(i.a)(Object(r.a)(t),e)}},function(t,e,n){"use strict";var i=n(10);e.a=function(t){return Object(i.a)(t).toLowerCase()}},function(t,e,n){"use strict";var i=n(10);e.a=function(t){var e=Object(i.a)(t);return e.charAt(0).toLowerCase()+e.substring(1)}},function(t,e,n){"use strict";e.a=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]}):t}},function(t,e,n){"use strict";var i=n(10);e.a=function(t){return Object(i.a)(t).toUpperCase()}},function(t,e,n){"use strict";var i=n(10);e.a=function(t){var e=Object(i.a)(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,n){"use strict";var i=n(4);e.a=function(t){return Object(i.a)(t,"Arguments")}},function(t,e,n){"use strict";var i=n(4);e.a=function(t){return Object(i.a)(t,"Boolean")}},function(t,e,n){"use strict";var i=n(4);e.a=function(t){return Object(i.a)(t,"Date")}},function(t,e,n){"use strict";var i=n(4);e.a=function(t){return Object(i.a)(t,"Error")}},function(t,e,n){"use strict";var i=n(5);e.a=function(t){return Object(i.a)(t)&&isFinite(t)}},function(t,e,n){"use strict";e.a=function(t){return null===t}},function(t,e,n){"use strict";var i=n(4);e.a=function(t){return Object(i.a)(t,"RegExp")}},function(t,e,n){"use strict";e.a=function(t){return void 0===t}},function(t,e,n){"use strict";e.a=function(t){return t instanceof Element||t instanceof HTMLDocument}},function(t,e,n){"use strict";e.a=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,n){"use strict";e.a=function(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}},function(t,e,n){"use strict";var i=n(16),r=n(3);e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],o=1;o<t.length;o++){var a=t[o];Object(r.a)(a)&&(a=a.prototype),Object(i.a)(n.prototype,a)}}},function(t,e,n){"use strict";var i=n(0),r=function(t){if("object"!=typeof t||null===t)return t;var e;if(Object(i.a)(t)){e=[];for(var n=0,o=t.length;n<o;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=r(t[n]):e[n]=t[n]}else for(var a in e={},t)"object"==typeof t[a]&&null!=t[a]?e[a]=r(t[a]):e[a]=t[a];return e};e.a=r},function(t,e,n){"use strict";e.a=function(t,e,n){var i;return function(){var r=this,o=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(r,o)},e),a&&t.apply(r,o)}}},function(t,e,n){"use strict";var i=n(3);e.a=function(t,e){if(!Object(i.a)(t))throw new TypeError("Expected a function");var n=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,i);return a.set(o,s),s};return n.cache=new Map,n}},function(t,e,n){"use strict";var i=n(0),r=n(9),o=5;function a(t,e,n,s){for(var l in n=n||0,s=s||o,e)if(e.hasOwnProperty(l)){var u=e[l];null!==u&&Object(r.a)(u)?(Object(r.a)(t[l])||(t[l]={}),n<s?a(t[l],u,n+1,s):t[l]=e[l]):Object(i.a)(u)?(t[l]=[],t[l]=t[l].concat(u)):void 0!==u&&(t[l]=u)}}e.a=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)a(t,e[i]);return t}},function(t,e,n){"use strict";var i=n(16),r=n(3);e.a=function(t,e,n,o){Object(r.a)(e)||(n=e,e=t,t=function(){});var a=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var i=new n;return i.constructor=e,i},s=a(e.prototype,t);return t.prototype=Object(i.a)(s,t.prototype),t.superclass=a(e.prototype,e),Object(i.a)(s,n),Object(i.a)(t,o),t}},function(t,e,n){"use strict";var i=n(1);e.a=function(t,e){if(!Object(i.a)(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,o=0;o<t.length;o++)if(t[o]===e){r=o;break}return r}},function(t,e,n){"use strict";var i=n(6),r=n(1),o=n(27),a=n(28),s=Object.prototype.hasOwnProperty;e.a=function(t){if(Object(i.a)(t))return!0;if(Object(r.a)(t))return!t.length;var e=Object(o.a)(t);if("Map"===e||"Set"===e)return!t.size;if(Object(a.a)(t))return!Object.keys(t).length;for(var n in t)if(s.call(t,n))return!1;return!0}},function(t,e,n){"use strict";var i=n(3),r=n(29);e.a=function(t,e,n){return Object(i.a)(n)?!!n(t,e):Object(r.a)(t,e)}},function(t,e,n){"use strict";var i=n(2),r=n(1);e.a=function(t,e){if(!Object(r.a)(t))return t;var n=[];return Object(i.a)(t,function(t,i){n.push(e(t,i))}),n}},function(t,e,n){"use strict";var i=n(6),r=n(13),o=function(t){return t};e.a=function(t,e){void 0===e&&(e=o);var n={};return Object(r.a)(t)&&!Object(i.a)(t)&&Object.keys(t).forEach(function(i){n[i]=e(t[i],i)}),n}},function(t,e,n){"use strict";var i=n(8);e.a=function(t,e,n){for(var r=0,o=Object(i.a)(e)?e.split("."):e;t&&r<o.length;)t=t[o[r++]];return void 0===t||r<o.length?n:t}},function(t,e,n){"use strict";var i=n(13),r=n(8),o=n(5);e.a=function(t,e,n){var a=t,s=Object(r.a)(e)?e.split("."):e;return s.forEach(function(t,e){e<s.length-1?(Object(i.a)(a[t])||(a[t]=Object(o.a)(s[e+1])?[]:{}),a=a[t]):a[t]=n}),t}},function(t,e,n){"use strict";var i=n(2),r=n(9),o=Object.prototype.hasOwnProperty;e.a=function(t,e){if(null===t||!Object(r.a)(t))return{};var n={};return Object(i.a)(e,function(e){o.call(t,e)&&(n[e]=t[e])}),n}},function(t,e,n){"use strict";e.a=function(t,e,n){var i,r,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),i=null,a=t.apply(r,o),i||(r=o=null)},u=function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return r=this,o=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),s=u,a=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(i),s=0,i=r=o=null},u}},function(t,e,n){"use strict";var i=n(1);e.a=function(t){return Object(i.a)(t)?Array.prototype.slice.call(t):[]}},function(t,e,n){"use strict";var i={};e.a=function(t){return i[t=t||"g"]?i[t]+=1:i[t]=1,t+i[t]}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";e.a=function(t){if(Object(i.a)(t))return 0;if(Object(r.a)(t))return t.length;return Object.keys(t).length};var i=n(6),r=n(1)},function(t,e,n){"use strict";var i=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}();e.a=i},function(t,e){function n(t,e,n,i){void 0===i&&(i=[]);var r=this;r.w=t||0,r.h=e||0,r.y=n||0,r.x=0,r.c=i||[],r.cs=i.length,r.prelim=0,r.mod=0,r.shift=0,r.change=0,r.tl=null,r.tr=null,r.el=null,r.er=null,r.msel=0,r.mser=0}function i(t,e){!function t(e,n,i){i?e.y+=n:e.x+=n,e.children.forEach(function(e){t(e,n,i)})}(t,-function t(e,n){var i=n?e.y:e.x;return e.children.forEach(function(e){i=Math.min(t(e,n),i)}),i}(t,e),e)}n.fromNode=function(t,e){if(!t)return null;var i=[];return t.children.forEach(function(t){i.push(n.fromNode(t,e))}),e?new n(t.height,t.width,t.x,i):new n(t.width,t.height,t.y,i)},t.exports=function(t,e){void 0===e&&(e={});var r=e.isHorizontal;function o(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function a(t,e,n){for(var i=t.c[e-1],r=i.mod,o=t.c[e],a=o.mod;null!==i&&null!==o;){c(i)>n.low&&(n=n.nxt);var h=r+i.prelim+i.w-(a+o.prelim);h>0&&(a+=h,s(t,e,n.index,h));var d=c(i),f=c(o);d<=f&&null!==(i=u(i))&&(r+=i.mod),d>=f&&null!==(o=l(o))&&(a+=o.mod)}!i&&o?function(t,e,n,i){var r=t.c[0].el;r.tl=n;var o=i-n.mod-t.c[0].msel;r.mod+=o,r.prelim-=o,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}(t,e,o,a):i&&!o&&function(t,e,n,i){var r=t.c[e].er;r.tr=n;var o=i-n.mod-t.c[e].mser;r.mod+=o,r.prelim-=o,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}(t,e,i,r)}function s(t,e,n,i){t.c[e].mod+=i,t.c[e].msel+=i,t.c[e].mser+=i,function(t,e,n,i){if(n!==e-1){var r=e-n;t.c[n+1].shift+=i/r,t.c[e].shift-=i/r,t.c[e].change-=i-i/r}}(t,e,n,i)}function l(t){return 0===t.cs?t.tl:t.c[0]}function u(t){return 0===t.cs?t.tr:t.c[t.cs-1]}function c(t){return t.y+t.h}function h(t,e,n){for(;null!==n&&t>=n.low;)n=n.nxt;return{low:t,index:e,nxt:n}}!function t(e,n,i){void 0===i&&(i=0),n?(e.x=i,i+=e.width):(e.y=i,i+=e.height),e.children.forEach(function(e){t(e,n,i)})}(t,r);var d=n.fromNode(t,r);return function t(e){if(0!==e.cs){t(e.c[0]);for(var n=h(c(e.c[0].el),0,null),i=1;i<e.cs;++i){t(e.c[i]);var r=c(e.c[i].er);a(e,i,n),n=h(r,i,n)}!function(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2}(e),o(e)}else o(e)}(d),function t(e,n){n+=e.mod,e.x=e.prelim+n,function(t){for(var e=0,n=0,i=0;i<t.cs;i++)e+=t.c[i].shift,n+=e+t.c[i].change,t.c[i].mod+=n}(e);for(var i=0;i<e.cs;i++)t(e.c[i],n)}(d,0),function t(e,n,i){i?n.y=e.x:n.x=e.x,e.c.forEach(function(e,r){t(e,n.children[r],i)})}(d,t,r),i(t,r),t}},function(t,e,n){var i=n(11),r=n(115),o=n(17),a=n(7),s=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.prototype.execute=function(){return this.rootNode.width=0,o(this.rootNode,this.options,r)},i}(i),l={};t.exports=function(t,e){return e=a.assign({},l,e),new s(t,e).execute()}},function(t,e,n){var i=n(7);var r={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};t.exports=function(t,e){void 0===e&&(e={}),e=i.assign({},r,e);var n,o=0;var a=function t(e){if(!e)return null;e.width=0,e.depth&&e.depth>o&&(o=e.depth);var n=e.children,i=n.length,r=new function(t,e){void 0===t&&(t=0),void 0===e&&(e=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=e}(e.height,[]);return n.forEach(function(e,n){var o=t(e);r.children.push(o),0===n&&(r.leftChild=o),n===i-1&&(r.rightChild=o)}),r.originNode=e,r.isLeaf=e.isLeaf(),r}(t);return function t(e){if(e.isLeaf||0===e.children.length)e.drawingDepth=o;else{var n=e.children.map(function(e){return t(e)}),i=Math.min.apply(null,n);e.drawingDepth=i-1}return e.drawingDepth}(a),function t(i){i.x=i.drawingDepth*e.rankSep,i.isLeaf?(i.y=0,n&&(i.y=n.y+n.height+e.nodeSep,i.originNode.parent!==n.originNode.parent&&(i.y+=e.subTreeSep)),n=i):(i.children.forEach(function(e){t(e)}),i.y=(i.leftChild.y+i.rightChild.y)/2)}(a),function t(e,n,i){i?(n.x=e.x,n.y=e.y):(n.x=e.y,n.y=e.x),e.children.forEach(function(e,r){t(e,n.children[r],i)})}(a,t,e.isHorizontal),t}},function(t,e,n){var i=n(11),r=n(117),o=n(30),a=n(7),s=["LR","RL","H"],l=s[0],u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.prototype.execute=function(){var t=this.options,e=this.rootNode;t.isHorizontal=!0;var n=t.indent,i=void 0===n?20:n,a=t.dropCap,u=void 0===a||a,c=t.direction||l;if(c&&-1===s.indexOf(c))throw new TypeError("Invalid direction: "+c);if(c===s[0])r(e,i,u);else if(c===s[1])r(e,i,u),e.right2left();else if(c===s[2]){var h=o(e,t),d=h.left,f=h.right;r(d,i,u),d.right2left(),r(f,i,u);var p=d.getBoundingBox();f.translate(p.width,0),e.x=f.x-e.width/2}return e},i}(i),c={};t.exports=function(t,e){return e=a.assign({},c,e),new u(t,e).execute()}},function(t,e){t.exports=function(t,e,n){var i=null;t.eachNode(function(t){!function(t,e,n,i){var r="function"==typeof n?n(t):n*t.depth;if(!i)try{if(t.id===t.parent.children[0].id)return t.x+=r,void(t.y=e?e.y:0)}catch(t){}t.x+=r,t.y=e?e.y+e.height:0}(t,i,e,n),i=t})}},function(t,e,n){var i=n(11),r=n(119),o=n(17),a=n(7),s=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.prototype.execute=function(){return o(this.rootNode,this.options,r)},i}(i),l={};t.exports=function(t,e){return e=a.assign({},l,e),new s(t,e).execute()}},function(t,e,n){var i=n(7);var r={getSubTreeSep:function(){return 0}};t.exports=function(t,e){void 0===e&&(e={}),e=i.assign({},r,e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse(function(t){t.x=t.parent.x+t.parent.width}),t.parent=null,function t(e,n){var i=0;return e.children.length?e.children.forEach(function(e){i+=t(e,n)}):i=e.height,e._subTreeSep=n.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,i)+2*e._subTreeSep,e.totalHeight}(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode(function(t){var e=t.children,n=e.length;if(n){var i=e[0];if(i.startY=t.startY+t._subTreeSep,1===n)i.y=t.y+t.height/2-i.height/2;else{i.y=i.startY+i.totalHeight/2-i.height/2;for(var r=1;r<n;r++){var o=e[r];o.startY=e[r-1].startY+e[r-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}}),function t(e){var n=e.children,i=n.length;if(i){n.forEach(function(e){t(e)});var r=n[0],o=n[i-1],a=o.y-r.y+o.height,s=0;if(n.forEach(function(t){s+=t.totalHeight}),a>e.height)e.y=r.y+a/2-e.height/2;else if(1!==n.length||e.height>s){var l=e.y+(e.height-a)/2-r.y;n.forEach(function(t){t.translate(0,l)})}else e.y=(r.y+r.height/2+o.y+o.height/2)/2-e.height/2}}(t)}}])},t.exports=i()},PzsT:function(t,e,n){"use strict";var i=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},r=function(t,e){return!!i(t)&&t.indexOf(e)>-1},o=function(t,e){if(!i(t))return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];e(o,r)&&n.push(o)}return n},a=function(t,e){return void 0===e&&(e=[]),o(t,function(t){return!r(e,t)})},s={}.toString,l=function(t,e){return s.call(t)==="[object "+e+"]"},u=function(t){return l(t,"Function")},c=function(t){return null===t||void 0===t},h=function(t){return Array.isArray?Array.isArray(t):l(t,"Array")},d=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var f=function(t,e){if(t)if(h(t))for(var n=0,i=t.length;n<i&&!1!==e(t[n],n);n++);else if(d(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break},p=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return f(t,function(n,i){u(t)&&"prototype"===i||e.push(i)}),e};var g=function(t,e){var n=p(e),i=n.length;if(c(t))return!i;for(var r=0;r<i;r+=1){var o=n[r];if(e[o]!==t[o]||!(o in t))return!1}return!0},v=function(t){return"object"==typeof t&&null!==t},m=function(t){if(!v(t)||!l(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var y=function(t,e){if(!h(t))return null;var n;if(u(e)&&(n=e),m(e)&&(n=function(t){return g(t,e)}),n)for(var i=0;i<t.length;i+=1)if(n(t[i]))return t[i];return null};var b=function(t,e,n){void 0===n&&(n=0);for(var i=n;i<t.length;i++)if(e(t[i],i))return i;return-1},x=function(t,e){for(var n=null,i=0;i<t.length;i++){var r=t[i][e];if(!c(r)){n=h(r)?r[0]:r;break}}return n},w=function(t){if(!h(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},_=function(t,e){if(void 0===e&&(e=[]),h(t))for(var n=0;n<t.length;n+=1)_(t[n],e);else e.push(t);return e},S=_,M=function(t){if(h(t))return t.reduce(function(t,e){return Math.max(t,e)},t[0])},C=function(t){if(h(t))return t.reduce(function(t,e){return Math.min(t,e)},t[0])},I=function(t){var e=t.filter(function(t){return!isNaN(t)});if(!e.length)return{min:0,max:0};if(h(t[0])){for(var n=[],i=0;i<t.length;i++)n=n.concat(t[i]);e=n}var r=M(e);return{min:C(e),max:r}},k=Array.prototype,T=k.splice,O=k.indexOf,E=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++)for(var r=e[i],o=-1;(o=O.call(t,r))>-1;)T.call(t,o,1);return t},A=Array.prototype.splice,N=function(t,e){if(!i(t))return[];for(var n=t?e.length:0,r=n-1;n--;){var o=void 0,a=e[n];n!==r&&a===o||(o=a,A.call(t,a,1))}return t},L=function(t,e,n){if(!h(t)&&!m(t))return t;var i=n;return f(t,function(t,n){i=e(i,t,n)}),i},D=function(t,e){var n=[];if(!i(t))return n;for(var r=-1,o=[],a=t.length;++r<a;){var s=t[r];e(s,r,t)&&(n.push(s),o.push(r))}return N(t,o),n},j=function(t){return l(t,"String")};var P=function(t,e){var n;if(u(e))n=function(t,n){return e(t)-e(n)};else{var i=[];j(e)?i.push(e):h(e)&&(i=e),n=function(t,e){for(var n=0;n<i.length;n+=1){var r=i[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0}}return t.sort(n),t};function R(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var o=t[i];e.has(o)||(n.push(o),e.set(o,!0))}return n}var z=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return R([].concat.apply([],t))},B=function(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r][e];if(!c(o)){h(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];i[s]||(n.push(s),i[s]=!0)}}}return n};function F(t){if(i(t))return t[0]}function G(t){if(i(t)){return t[t.length-1]}}var V=function(t,e){return!(!h(t)&&!j(t))&&t[0]===e};var W=function(t,e){return!(!h(t)&&!j(t))&&t[t.length-1]===e},H=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},U=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},Y=Object.prototype.hasOwnProperty;var J=function(t,e){if(!e||!h(t))return{};for(var n,i={},r=u(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=r(a),Y.call(i,n)?i[n].push(a):i[n]=[a]}return i};function Q(t,e){if(!e)return{0:t};if(!u(e)){var n=h(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",i=0,r=n.length;i<r;i++)e+=t[n[i]]&&t[n[i]].toString();return e}}return J(t,e)}var Z=function(t,e){if(!e)return[t];var n=Q(t,e),i=[];for(var r in n)i.push(n[r]);return i};var $=function(t,e){return t["_wrap_"+e]};var X=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n},K={};var q=function(t){var e=K[t];if(!e){for(var n=t.toString(16),i=n.length;i<6;i++)n="0"+n;e="#"+n,K[t]=e}return e};var tt=function(t){var e=0,n=0,i=0,r=0;return h(t)?1===t.length?e=n=i=r=t[0]:2===t.length?(e=i=t[0],n=r=t[1]):3===t.length?(e=t[0],n=r=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],r=t[3]):e=n=i=r=t,{r1:e,r2:n,r3:i,r4:r}},et=function(t,e,n){return t<e?e:t>n?n:t},nt=function(t,e){var n=e.toString(),i=n.indexOf(".");if(-1===i)return Math.round(t);var r=n.substr(i+1).length;return r>20&&(r=20),parseFloat(t.toFixed(r))},it=function(t){return l(t,"Number")},rt=function(t){return it(t)&&t%1!=0},ot=function(t){return it(t)&&t%2==0},at=Number.isInteger?Number.isInteger:function(t){return it(t)&&t%1==0},st=function(t){return it(t)&&t<0},lt=1e-5;function ut(t,e,n){return void 0===n&&(n=lt),Math.abs(t-e)<n}var ct=function(t){return it(t)&&t%2!=0},ht=function(t){return it(t)&&t>0},dt=function(t,e){if(h(t)){for(var n,i=-1/0,r=0;r<t.length;r++){var o=t[r],a=u(e)?e(o):o[e];a>i&&(n=o,i=a)}return n}},ft=function(t,e){if(h(t)){for(var n,i=1/0,r=0;r<t.length;r++){var o=t[r],a=u(e)?e(o):o[e];a<i&&(n=o,i=a)}return n}},pt=function(t,e){return(t%e+e)%e},gt=180/Math.PI,vt=function(t){return gt*t},mt=parseInt,yt=Math.PI/180,bt=function(t){return yt*t},xt=f,wt=function(t,e){return t.hasOwnProperty(e)},_t=wt,St=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return f(t,function(n,i){u(t)&&"prototype"===i||e.push(n)}),e},Mt=function(t,e){return r(St(t),e)},Ct=function(t){return c(t)?"":t.toString()},It=function(t){return Ct(t).toLowerCase()},kt=function(t){var e=Ct(t);return e.charAt(0).toLowerCase()+e.substring(1)};var Tt=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]}):t},Ot=function(t){return Ct(t).toUpperCase()},Et=function(t){var e=Ct(t);return e.charAt(0).toUpperCase()+e.substring(1)},At={}.toString,Nt=function(t){return At.call(t).replace(/^\[object /,"").replace(/]$/,"")},Lt=function(t){return l(t,"Arguments")},Dt=function(t){return l(t,"Boolean")},jt=function(t){return l(t,"Date")},Pt=function(t){return l(t,"Error")},Rt=function(t){return it(t)&&isFinite(t)},zt=function(t){return null===t},Bt=Object.prototype,Ft=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Bt)},Gt=function(t){return l(t,"RegExp")},Vt=function(t){return void 0===t},Wt=function(t){return t instanceof Element||t instanceof HTMLDocument};function Ht(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Ut(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Yt(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Jt(t,e,n,i){return e&&Yt(t,e),n&&Yt(t,n),i&&Yt(t,i),t}var Qt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],i=1;i<t.length;i++){var r=t[i];u(r)&&(r=r.prototype),Jt(n.prototype,r)}},Zt=function(t){if("object"!=typeof t||null===t)return t;var e;if(h(t)){e=[];for(var n=0,i=t.length;n<i;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=Zt(t[n]):e[n]=t[n]}else for(var r in e={},t)"object"==typeof t[r]&&null!=t[r]?e[r]=Zt(t[r]):e[r]=t[r];return e},$t=Zt;var Xt=function(t,e,n){var i;return function(){var r=this,o=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(r,o)},e),a&&t.apply(r,o)}},Kt=function(t,e){if(!u(t))throw new TypeError("Expected a function");var n=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,i);return a.set(o,s),s};return n.cache=new Map,n},qt=5;function te(t,e,n,i){for(var r in n=n||0,i=i||qt,e)if(e.hasOwnProperty(r)){var o=e[r];null!==o&&m(o)?(m(t[r])||(t[r]={}),n<i?te(t[r],o,n+1,i):t[r]=e[r]):h(o)?(t[r]=[],t[r]=t[r].concat(o)):void 0!==o&&(t[r]=o)}}var ee=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)te(t,e[i]);return t},ne=function(t,e,n,i){u(e)||(n=e,e=t,t=function(){});var r=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var i=new n;return i.constructor=e,i},o=r(e.prototype,t);return t.prototype=Jt(o,t.prototype),t.superclass=r(e.prototype,e),Jt(o,n),Jt(t,i),t},ie=function(t,e){if(!i(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,o=0;o<t.length;o++)if(t[o]===e){r=o;break}return r},re=Object.prototype.hasOwnProperty;var oe=function(t){if(c(t))return!0;if(i(t))return!t.length;var e=Nt(t);if("Map"===e||"Set"===e)return!t.size;if(Ft(t))return!Object.keys(t).length;for(var n in t)if(re.call(t,n))return!1;return!0},ae=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(j(t)||j(e))return!1;if(i(t)||i(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length&&(n=ae(t[r],e[r]));r++);return n}if(v(t)||v(e)){var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(n=!0,r=0;r<o.length&&(n=ae(t[o[r]],e[o[r]]));r++);return n}return!1},se=ae,le=function(t,e,n){return u(n)?!!n(t,e):se(t,e)},ue=function(t,e){if(!i(t))return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(e(o,r))}return n},ce=function(t){return t},he=function(t,e){void 0===e&&(e=ce);var n={};return d(t)&&!c(t)&&Object.keys(t).forEach(function(i){n[i]=e(t[i],i)}),n},de=function(t,e,n){for(var i=0,r=j(e)?e.split("."):e;t&&i<r.length;)t=t[r[i++]];return void 0===t||i<r.length?n:t},fe=function(t,e,n){var i=t,r=j(e)?e.split("."):e;return r.forEach(function(t,e){e<r.length-1?(d(i[t])||(i[t]=it(r[e+1])?[]:{}),i=i[t]):i[t]=n}),t},pe=Object.prototype.hasOwnProperty,ge=function(t,e){if(null===t||!m(t))return{};var n={};return f(e,function(e){pe.call(t,e)&&(n[e]=t[e])}),n},ve=function(t,e){return L(t,function(t,n,i){return e.includes(i)||(t[i]=n),t},{})},me=function(t,e,n){var i,r,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),i=null,a=t.apply(r,o),i||(r=o=null)},u=function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return r=this,o=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),s=u,a=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(i),s=0,i=r=o=null},u},ye=function(t){return i(t)?Array.prototype.slice.call(t):[]},be={},xe=function(t){return be[t=t||"g"]?be[t]+=1:be[t]=1,t+be[t]},we=function(){},_e=function(t){return t};function Se(t){return c(t)?0:i(t)?t.length:Object.keys(t).length}var Me,Ce=n("TToO"),Ie=Kt(function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,r=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return Me||(Me=document.createElement("canvas").getContext("2d")),Me.font=[o,a,r,n+"px",i].join(" "),Me.measureText(j(t)?t:"").width},function(t,e){return void 0===e&&(e={}),Object(Ce.__spreadArrays)([t],St(e)).join("")}),ke=function(t,e,n,i){void 0===i&&(i="...");var r,o,a=Ie(i,n),s=j(t)?t:Ct(t),l=e,u=[];if(Ie(t,n)<=e)return t;for(;r=s.substr(0,16),!((o=Ie(r,n))+a>l&&o>l);)if(u.push(r),l-=o,!(s=s.substr(16)))return u.join("");for(;r=s.substr(0,1),!((o=Ie(r,n))+a>l);)if(u.push(r),l-=o,!(s=s.substr(1)))return u.join("");return""+u.join("")+i},Te=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}();n.d(e,!1,function(){return r}),n.d(e,!1,function(){return r}),n.d(e,!1,function(){return a}),n.d(e,!1,function(){return y}),n.d(e,!1,function(){return b}),n.d(e,!1,function(){return x}),n.d(e,!1,function(){return w}),n.d(e,!1,function(){return S}),n.d(e,!1,function(){return I}),n.d(e,!1,function(){return E}),n.d(e,!1,function(){return N}),n.d(e,!1,function(){return L}),n.d(e,!1,function(){return D}),n.d(e,!1,function(){return P}),n.d(e,!1,function(){return z}),n.d(e,!1,function(){return R}),n.d(e,!1,function(){return B}),n.d(e,!1,function(){return F}),n.d(e,!1,function(){return G}),n.d(e,!1,function(){return V}),n.d(e,!1,function(){return W}),n.d(e,!1,function(){return o}),n.d(e,!1,function(){return H}),n.d(e,!1,function(){return U}),n.d(e,!1,function(){return Z}),n.d(e,!1,function(){return J}),n.d(e,!1,function(){return Q}),n.d(e,!1,function(){return $}),n.d(e,!1,function(){return X}),n.d(e,!1,function(){return q}),n.d(e,!1,function(){return tt}),n.d(e,!1,function(){return et}),n.d(e,!1,function(){return nt}),n.d(e,!1,function(){return rt}),n.d(e,!1,function(){return ot}),n.d(e,!1,function(){return at}),n.d(e,!1,function(){return st}),n.d(e,!1,function(){return ut}),n.d(e,!1,function(){return ct}),n.d(e,!1,function(){return ht}),n.d(e,!1,function(){return M}),n.d(e,!1,function(){return dt}),n.d(e,!1,function(){return C}),n.d(e,!1,function(){return ft}),n.d(e,"g",function(){return pt}),n.d(e,!1,function(){return vt}),n.d(e,!1,function(){return mt}),n.d(e,"i",function(){return bt}),n.d(e,!1,function(){return xt}),n.d(e,!1,function(){return wt}),n.d(e,!1,function(){return _t}),n.d(e,!1,function(){return Mt}),n.d(e,!1,function(){return p}),n.d(e,!1,function(){return g}),n.d(e,!1,function(){return St}),n.d(e,!1,function(){return It}),n.d(e,!1,function(){return kt}),n.d(e,!1,function(){return Tt}),n.d(e,!1,function(){return Ot}),n.d(e,!1,function(){return Et}),n.d(e,!1,function(){return Nt}),n.d(e,!1,function(){return Lt}),n.d(e,"b",function(){return h}),n.d(e,!1,function(){return i}),n.d(e,!1,function(){return Dt}),n.d(e,!1,function(){return jt}),n.d(e,!1,function(){return Pt}),n.d(e,"c",function(){return u}),n.d(e,!1,function(){return Rt}),n.d(e,"d",function(){return c}),n.d(e,!1,function(){return zt}),n.d(e,!1,function(){return it}),n.d(e,"e",function(){return d}),n.d(e,!1,function(){return v}),n.d(e,!1,function(){return m}),n.d(e,!1,function(){return Ft}),n.d(e,!1,function(){return Gt}),n.d(e,"f",function(){return j}),n.d(e,!1,function(){return l}),n.d(e,!1,function(){return Vt}),n.d(e,!1,function(){return Wt}),n.d(e,!1,function(){return Ht}),n.d(e,!1,function(){return Ut}),n.d(e,!1,function(){return Qt}),n.d(e,!1,function(){return $t}),n.d(e,!1,function(){return Xt}),n.d(e,!1,function(){return Kt}),n.d(e,!1,function(){return ee}),n.d(e,"a",function(){return f}),n.d(e,!1,function(){return ne}),n.d(e,!1,function(){return ie}),n.d(e,!1,function(){return oe}),n.d(e,!1,function(){return se}),n.d(e,!1,function(){return le}),n.d(e,!1,function(){return ue}),n.d(e,!1,function(){return he}),n.d(e,!1,function(){return Jt}),n.d(e,!1,function(){return Jt}),n.d(e,!1,function(){return de}),n.d(e,!1,function(){return fe}),n.d(e,!1,function(){return ge}),n.d(e,!1,function(){return ve}),n.d(e,!1,function(){return me}),n.d(e,"h",function(){return ye}),n.d(e,!1,function(){return Ct}),n.d(e,"j",function(){return xe}),n.d(e,!1,function(){return we}),n.d(e,!1,function(){return _e}),n.d(e,!1,function(){return Se}),n.d(e,!1,function(){return Ie}),n.d(e,!1,function(){return ke}),n.d(e,!1,function(){return Te})},PzxK:function(t,e,n){var i=n("D2L2"),r=n("sB3e"),o=n("ax3d")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},QGUm:function(t,e,n){var i;try{i=n("M4fF")}catch(t){}i||(i=window._),t.exports=i},QIhx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInSyntax=void 0;var i=n("3gih"),r=n("uCF8"),o=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=i.BindingScopeEnum.Request,new r.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=i.BindingScopeEnum.Singleton,new r.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=i.BindingScopeEnum.Transient,new r.BindingWhenOnSyntax(this._binding)},t}();e.BindingInSyntax=o},QRG4:function(t,e,n){var i=n("UuGF"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},"QWe/":function(t,e,n){n("crlp")("observable")},QbqK:function(t,e){},QmXE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Binding=void 0;var i=n("3gih"),r=n("fwdJ"),o=function(){function t(t,e){this.id=r.id(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=i.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===i.BindingScopeEnum.Singleton&&this.activated,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}();e.Binding=o},R4wc:function(t,e,n){var i=n("kM2E");i(i.S+i.F,"Object",{assign:n("To3L")})},R9M2:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},RKJ2:function(t,e){t.exports=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t}},RPLV:function(t,e,n){var i=n("7KvD").document;t.exports=i&&i.documentElement},"RY/4":function(t,e,n){var i=n("R9M2"),r=n("dSzd")("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},Re3r:function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},Rrel:function(t,e,n){var i=n("TcQ7"),r=n("n0T6").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(i(t))}},S7HD:function(t,e,n){"use strict";n("3BVV"),n("i6H2");var i=n("vrXp");n.d(e,"Canvas",function(){return i.a});n("SodV"),n("dAFD")},S82l:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},SEFl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=r,e.clone=function(t){var e=new i.a(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new i.a(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=o,e.multiply=a,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t},e.distance=l,e.squaredDistance=u,e.length=c,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],i=e[1],r=n*n+i*i;r>0&&(r=1/Math.sqrt(r));return t[0]=e[0]*r,t[1]=e[1]*r,t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var i=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=i,t},e.lerp=function(t,e,n,i){var r=e[0],o=e[1];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t},e.random=function(t,e){e=e||1;var n=2*i.c()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r,t[1]=n[1]*i+n[3]*r,t},e.transformMat2d=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t},e.transformMat3=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[3]*r+n[6],t[1]=n[1]*i+n[4]*r+n[7],t},e.transformMat4=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t},e.rotate=function(t,e,n,i){var r=e[0]-n[0],o=e[1]-n[1],a=Math.sin(i),s=Math.cos(i);return t[0]=r*s-o*a+n[0],t[1]=r*a+o*s+n[1],t},e.angle=function(t,e){var n=t[0],i=t[1],r=e[0],o=e[1],a=Math.sqrt(n*n+i*i)*Math.sqrt(r*r+o*o),s=a&&(n*r+i*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))},e.zero=function(t){return t[0]=0,t[1]=0,t},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var n=t[0],r=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=i.b*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=i.b*Math.max(1,Math.abs(r),Math.abs(a))},n.d(e,"len",function(){return f}),n.d(e,"sub",function(){return p}),n.d(e,"mul",function(){return g}),n.d(e,"div",function(){return v}),n.d(e,"dist",function(){return m}),n.d(e,"sqrDist",function(){return y}),n.d(e,"sqrLen",function(){return b}),n.d(e,"forEach",function(){return x});var i=n("NVY2");function r(){var t=new i.a(2);return i.a!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function a(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function s(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function l(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.hypot(n,i)}function u(t,e){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function c(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function h(t){var e=t[0],n=t[1];return e*e+n*n}var d,f=c,p=o,g=a,v=s,m=l,y=u,b=h,x=(d=r(),function(t,e,n,i,r,o){var a,s;for(e||(e=2),n||(n=0),s=i?Math.min(i*e+n,t.length):t.length,a=n;a<s;a+=e)d[0]=t[a],d[1]=t[a+1],r(d,d,o),t[a]=d[0],t[a+1]=d[1];return t})},SVAo:function(t,e,n){"use strict";var i=n("TToO"),r=n("oEtn"),o=n("BuFP"),a=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var i=n.getDefaultCfg();return n.cfg=Object(o.i)(i,e),n}return Object(i.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(r.a);e.a=a},SZG6:function(t,e){t.exports=function(t){var e=t[0],n=t[1];return e*e+n*n}},SfB7:function(t,e,n){t.exports=!n("+E39")&&!n("S82l")(function(){return 7!=Object.defineProperty(n("ON07")("div"),"a",{get:function(){return 7}}).a})},SldL:function(t,e,n){var i=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var r=e&&e.prototype instanceof v?e:v,o=Object.create(r.prototype),a=new T(i||[]);return o._invoke=function(t,e,n){var i=h;return function(r,o){if(i===f)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return E()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var l=c(t,e,n);if("normal"===l.type){if(i=n.done?p:d,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=p,n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",g={};function v(){}function m(){}function y(){}var b={};l(b,o,function(){return this});var x=Object.getPrototypeOf,w=x&&x(x(O([])));w&&w!==n&&i.call(w,o)&&(b=w);var _=y.prototype=v.prototype=Object.create(b);function S(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function M(t,e){var n;this._invoke=function(r,o){function a(){return new e(function(n,a){!function n(r,o,a,s){var l=c(t[r],t,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&i.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(h).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,s)})}s(l.arg)}(r,o,n,a)})}return n=n?n.then(a,a):a()}}function C(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=c(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function O(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:E}}function E(){return{value:e,done:!0}}return m.prototype=y,l(_,"constructor",y),l(y,"constructor",m),m.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},S(M.prototype),l(M.prototype,a,function(){return this}),t.AsyncIterator=M,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new M(u(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},S(_),l(_,s,"Generator"),l(_,o,function(){return this}),l(_,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=O,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:O(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=i}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},SodV:function(t,e,n){"use strict";var i=n("TToO"),r=n("i6H2"),o=n("3BVV"),a=n("gosJ"),s=n("hV/g"),l=n("PDVq"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.onCanvasChange=function(t){Object(a.h)(this,t)},e.prototype.getShapeBase=function(){return o},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),Object(a.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];Object(s.b)(t,function(t){var i=t.cfg.cacheCanvasBBox;i&&t.cfg.isInView&&(e.push(i.minX,i.maxX),n.push(i.minY,i.maxY))});var i=null;if(e.length){var r=Object(s.h)(e),o=Object(s.g)(e),a=Object(s.h)(n),u=Object(s.g)(n);i={minX:r,minY:a,x:r,y:a,maxX:o,maxY:u,width:o-r,height:u-a};var c=this.cfg.canvas;if(c){var h=c.getViewRange();this.set("isInView",Object(l.f)(i,h))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",i)},e.prototype.draw=function(t,e){var n=this.cfg.children,i=!e||this.cfg.refresh;n.length&&i&&(t.save(),Object(a.a)(t,this),this._applyClip(t,this.getClip()),Object(a.d)(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(r.AbstractGroup);e.a=u},SwQx:function(t,e,n){var i=n("QGUm");t.exports=function(t){var e,n={},r=[];function o(r){i.has(n,r)||(n[r]=!0,e.push(r),i.each(t.successors(r),o),i.each(t.predecessors(r),o))}return i.each(t.nodes(),function(t){e=[],o(t),e.length&&r.push(e)}),r}},"T/v0":function(t,e,n){var i=n("Oy1H").default,r=n("M1I4");t.exports=function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},TNV1:function(t,e,n){"use strict";var i=n("cGG2");t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},TToO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"__assign",function(){return r}),e.__rest=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n},e.__decorate=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},e.__param=function(t,e){return function(n,i){e(n,i,t)}},e.__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},e.__generator=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},n.d(e,"__createBinding",function(){return o}),e.__exportStar=function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)},e.__values=a,e.__read=s,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},e.__spreadArrays=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},e.__spreadArray=function(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},e.__await=l,e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(t){r[t]&&(i[t]=function(e){return new Promise(function(n,i){o.push([t,e,n,i])>1||s(t,e)})})}function s(t,e){try{(n=r[t](e)).value instanceof l?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},e.__asyncDelegator=function(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:l(t[i](e)),done:"return"===i}:r?r(e):e}:r}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=a(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise(function(i,r){e=t[n](e),function(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)}(i,r,e.done,e.value)})}}},e.__makeTemplateObject=function(t,e){Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e;return t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return u(e,t),e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}},e.__classPrivateFieldGet=function(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)},e.__classPrivateFieldSet=function(t,e,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,n):r?r.value=n:e.set(t,n),n};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};var o=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]};function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function l(t){return this instanceof l?(this.v=t,this):new l(t)}var u=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}},TUfL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.TextureCompressionBC="texture-compression-bc"}(e.ExtensionName||(e.ExtensionName={})),function(t){t.ClampToEdge="clamp-to-edge",t.Repeat="repeat",t.MirrorRepeat="mirror-repeat"}(e.AddressMode||(e.AddressMode={})),function(t){t.UniformBuffer="uniform-buffer",t.StorageBuffer="storage-buffer",t.ReadonlyStorageBuffer="readonly-storage-buffer",t.Sampler="sampler",t.ComparisonSampler="comparison-sampler",t.SampledTexture="sampled-texture",t.ReadonlyStorageTexture="readonly-storage-texture",t.WriteonlyStorageTexture="writeonly-storage-texture"}(e.BindingType||(e.BindingType={})),function(t){t.Zero="zero",t.One="one",t.SrcColor="src-color",t.OneMinusSrcColor="one-minus-src-color",t.SrcAlpha="src-alpha",t.OneMinusSrcAlpha="one-minus-src-alpha",t.DstColor="dst-color",t.OneMinusDstColor="one-minus-dst-color",t.DstAlpha="dst-alpha",t.OneMinusDstAlpha="one-minus-dst-alpha",t.SrcAlphaSaturated="src-alpha-saturated",t.BlendColor="blend-color",t.OneMinusBlendColor="one-minus-blend-color"}(e.BlendFactor||(e.BlendFactor={})),function(t){t.Add="add",t.Subtract="subtract",t.ReverseSubtract="reverse-subtract",t.Min="min",t.Max="max"}(e.BlendOperation||(e.BlendOperation={})),function(t){t.Never="never",t.Less="less",t.Equal="equal",t.LessEqual="less-equal",t.Greater="greater",t.NotEqual="not-equal",t.GreaterEqual="greater-equal",t.Always="always"}(e.CompareFunction||(e.CompareFunction={})),function(t){t.None="none",t.Front="front",t.Back="back"}(e.CullMode||(e.CullMode={})),function(t){t.Nearest="nearest",t.Linear="linear"}(e.FilterMode||(e.FilterMode={})),function(t){t.CCW="ccw",t.CW="cw"}(e.FrontFace||(e.FrontFace={})),function(t){t.Uint16="uint16",t.Uint32="uint32"}(e.IndexFormat||(e.IndexFormat={})),function(t){t.Vertex="vertex",t.Instance="instance"}(e.InputStepMode||(e.InputStepMode={})),function(t){t.Load="load"}(e.LoadOp||(e.LoadOp={})),function(t){t.PointList="point-list",t.LineList="line-list",t.LineStrip="line-strip",t.TriangleList="triangle-list",t.TriangleStrip="triangle-strip"}(e.PrimitiveTopology||(e.PrimitiveTopology={})),function(t){t.Keep="keep",t.Zero="zero",t.Replace="replace",t.Invert="invert",t.IncrementClamp="increment-clamp",t.DecrementClamp="decrement-clamp",t.IncrementWrap="increment-wrap",t.DecrementWrap="decrement-wrap"}(e.StencilOperation||(e.StencilOperation={})),function(t){t.Store="store",t.Clear="clear"}(e.StoreOp||(e.StoreOp={})),function(t){t.E1d="1d",t.E2d="2d",t.E3d="3d"}(e.TextureDimension||(e.TextureDimension={})),function(t){t.R8Unorm="r8unorm",t.R8Snorm="r8snorm",t.R8Uint="r8uint",t.R8Sint="r8sint",t.R16Uint="r16uint",t.R16Sint="r16sint",t.R16Float="r16float",t.RG8Unorm="rg8unorm",t.RG8Snorm="rg8snorm",t.RG8Uint="rg8uint",t.RG8Sint="rg8sint",t.R32Uint="r32uint",t.R32Sint="r32sint",t.R32Float="r32float",t.RG16Uint="rg16uint",t.RG16Sint="rg16sint",t.RG16Float="rg16float",t.RGBA8Unorm="rgba8unorm",t.RGBA8UnormSRGB="rgba8unorm-srgb",t.RGBA8Snorm="rgba8snorm",t.RGBA8Uint="rgba8uint",t.RGBA8Sint="rgba8sint",t.BGRA8Unorm="bgra8unorm",t.BGRA8UnormSRGB="bgra8unorm-srgb",t.RGB10A2Unorm="rgb10a2unorm",t.RG11B10Float="rg11b10float",t.RG32Uint="rg32uint",t.RG32Sint="rg32sint",t.RG32Float="rg32float",t.RGBA16Uint="rgba16uint",t.RGBA16Sint="rgba16sint",t.RGBA16Float="rgba16float",t.RGBA32Uint="rgba32uint",t.RGBA32Sint="rgba32sint",t.RGBA32Float="rgba32float",t.Depth32Float="depth32float",t.Depth24Plus="depth24plus",t.Depth24PlusStencil8="depth24plus-stencil8"}(e.TextureFormat||(e.TextureFormat={})),function(t){t.Float="float",t.Sint="sint",t.Uint="uint"}(e.TextureComponentType||(e.TextureComponentType={})),function(t){t.E1d="1d",t.E2d="2d",t.E2dArray="2d-array",t.Cube="cube",t.CubeArray="cube-array",t.E3d="3d"}(e.TextureViewDimension||(e.TextureViewDimension={})),function(t){t.Uchar2="uchar2",t.Uchar4="uchar4",t.Char2="char2",t.Char4="char4",t.Uchar2Norm="uchar2norm",t.Uchar4Norm="uchar4norm",t.Char2Norm="char2norm",t.Char4Norm="char4norm",t.Ushort2="ushort2",t.Ushort4="ushort4",t.Short2="short2",t.Short4="short4",t.Ushort2Norm="ushort2norm",t.Ushort4Norm="ushort4norm",t.Short2Norm="short2norm",t.Short4Norm="short4norm",t.Half2="half2",t.Half4="half4",t.Float="float",t.Float2="float2",t.Float3="float3",t.Float4="float4",t.Uint="uint",t.Uint2="uint2",t.Uint3="uint3",t.Uint4="uint4",t.Int="int",t.Int2="int2",t.Int3="int3",t.Int4="int4"}(e.VertexFormat||(e.VertexFormat={})),function(t){t.All="all",t.StencilOnly="stencil-only",t.DepthOnly="depth-only"}(e.TextureAspect||(e.TextureAspect={})),function(t){t.Error="error",t.Warning="warning",t.Info="info"}(e.CompilationMessageType||(e.CompilationMessageType={})),function(t){t.Occlusion="occlusion"}(e.QueryType||(e.QueryType={})),function(t){t[t.MapRead=1]="MapRead",t[t.MapWrite=2]="MapWrite",t[t.CopySrc=4]="CopySrc",t[t.CopyDst=8]="CopyDst",t[t.Index=16]="Index",t[t.Vertex=32]="Vertex",t[t.Uniform=64]="Uniform",t[t.Storage=128]="Storage",t[t.Indirect=256]="Indirect",t[t.QueryResolve=512]="QueryResolve"}(e.BufferUsage||(e.BufferUsage={})),function(t){t[t.Red=1]="Red",t[t.Green=2]="Green",t[t.Blue=4]="Blue",t[t.Alpha=8]="Alpha",t[t.All=15]="All"}(e.ColorWrite||(e.ColorWrite={})),function(t){t[t.Vertex=1]="Vertex",t[t.Fragment=2]="Fragment",t[t.Compute=4]="Compute"}(e.ShaderStage||(e.ShaderStage={})),function(t){t[t.CopySrc=1]="CopySrc",t[t.CopyDst=2]="CopyDst",t[t.Sampled=4]="Sampled",t[t.Storage=8]="Storage",t[t.OutputAttachment=16]="OutputAttachment"}(e.TextureUsage||(e.TextureUsage={})),function(t){t[t.Read=1]="Read",t[t.Write=2]="Write"}(e.MapMode||(e.MapMode={}))},TXmL:function(t,e,n){"use strict";
/*!
 * vue-i18n v8.27.0 
 * (c) 2022 kazuya kawaguchi
 * Released under the MIT License.
 */var i=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function r(t,e){"undefined"!=typeof console&&(console.warn("[vue-i18n] "+t),e&&console.warn(e.stack))}function o(t,e){"undefined"!=typeof console&&(console.error("[vue-i18n] "+t),e&&console.error(e.stack))}var a=Array.isArray;function s(t){return null!==t&&"object"==typeof t}function l(t){return"string"==typeof t}var u=Object.prototype.toString,c="[object Object]";function h(t){return u.call(t)===c}function d(t){return null===t||void 0===t}function f(t){return"function"==typeof t}function p(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=null,i=null;return 1===t.length?s(t[0])||a(t[0])?i=t[0]:"string"==typeof t[0]&&(n=t[0]):2===t.length&&("string"==typeof t[0]&&(n=t[0]),(s(t[1])||a(t[1]))&&(i=t[1])),{locale:n,params:i}}function g(t){return JSON.parse(JSON.stringify(t))}function v(t,e){return!!~t.indexOf(e)}var m=Object.prototype.hasOwnProperty;function y(t,e){return m.call(t,e)}function b(t){for(var e=arguments,n=Object(t),i=1;i<arguments.length;i++){var r=e[i];if(void 0!==r&&null!==r){var o=void 0;for(o in r)y(r,o)&&(s(r[o])?n[o]=b(n[o],r[o]):n[o]=r[o])}}return n}function x(t,e){if(t===e)return!0;var n=s(t),i=s(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=a(t),o=a(e);if(r&&o)return t.length===e.length&&t.every(function(t,n){return x(t,e[n])});if(r||o)return!1;var l=Object.keys(t),u=Object.keys(e);return l.length===u.length&&l.every(function(n){return x(t[n],e[n])})}catch(t){return!1}}var w={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(t,e){var n=e.data,i=e.parent,r=e.props,o=e.slots,a=i.$i18n;if(a){var s=r.path,l=r.locale,u=r.places,c=o(),h=a.i(s,l,function(t){var e;for(e in t)if("default"!==e)return!1;return Boolean(e)}(c)||u?function(t,e){var n=e?function(t){0;return Array.isArray(t)?t.reduce(S,{}):Object.assign({},t)}(e):{};if(!t)return n;var i=(t=t.filter(function(t){return t.tag||""!==t.text.trim()})).every(M);0;return t.reduce(i?_:S,n)}(c.default,u):c),d=r.tag&&!0!==r.tag||!1===r.tag?r.tag:"span";return d?t(d,n,h):h}}};function _(t,e){return e.data&&e.data.attrs&&e.data.attrs.place&&(t[e.data.attrs.place]=e),t}function S(t,e,n){return t[n]=e,t}function M(t){return Boolean(t.data&&t.data.attrs&&t.data.attrs.place)}var C,I={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(t,e){var n=e.props,r=e.parent,o=e.data,a=r.$i18n;if(!a)return null;var u=null,c=null;l(n.format)?u=n.format:s(n.format)&&(n.format.key&&(u=n.format.key),c=Object.keys(n.format).reduce(function(t,e){var r;return v(i,e)?Object.assign({},t,((r={})[e]=n.format[e],r)):t},null));var h=n.locale||a.locale,d=a._ntp(n.value,h,u,c),f=d.map(function(t,e){var n,i=o.scopedSlots&&o.scopedSlots[t.type];return i?i(((n={})[t.type]=t.value,n.index=e,n.parts=d,n)):t.value}),p=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return p?t(p,{attrs:o.attrs,class:o.class,staticClass:o.staticClass},f):f}};function k(t,e,n){E(t,n)&&A(t,e,n)}function T(t,e,n,i){if(E(t,n)){var r=n.context.$i18n;(function(t,e){var n=e.context;return t._locale===n.$i18n.locale})(t,n)&&x(e.value,e.oldValue)&&x(t._localeMessage,r.getLocaleMessage(r.locale))||A(t,e,n)}}function O(t,e,n,i){if(n.context){var o=n.context.$i18n||{};e.modifiers.preserve||o.preserveDirectiveContent||(t.textContent=""),t._vt=void 0,delete t._vt,t._locale=void 0,delete t._locale,t._localeMessage=void 0,delete t._localeMessage}else r("Vue instance does not exists in VNode context")}function E(t,e){var n=e.context;return n?!!n.$i18n||(r("VueI18n instance does not exists in Vue instance"),!1):(r("Vue instance does not exists in VNode context"),!1)}function A(t,e,n){var i,o,a=function(t){var e,n,i,r;l(t)?e=t:h(t)&&(e=t.path,n=t.locale,i=t.args,r=t.choice);return{path:e,locale:n,args:i,choice:r}}(e.value),s=a.path,u=a.locale,c=a.args,d=a.choice;if(s||u||c)if(s){var f=n.context;t._vt=t.textContent=null!=d?(i=f.$i18n).tc.apply(i,[s,d].concat(N(u,c))):(o=f.$i18n).t.apply(o,[s].concat(N(u,c))),t._locale=f.$i18n.locale,t._localeMessage=f.$i18n.getLocaleMessage(f.$i18n.locale)}else r("`path` is required in v-t directive");else r("value type not supported")}function N(t,e){var n=[];return t&&n.push(t),e&&(Array.isArray(e)||h(e))&&n.push(e),n}function L(t,e){void 0===e&&(e={bridge:!1}),L.installed=!0;(C=t).version&&Number(C.version.split(".")[0]);(function(t){t.prototype.hasOwnProperty("$i18n")||Object.defineProperty(t.prototype,"$i18n",{get:function(){return this._i18n}}),t.prototype.$t=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var i=this.$i18n;return i._t.apply(i,[t,i.locale,i._getMessages(),this].concat(e))},t.prototype.$tc=function(t,e){for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];var r=this.$i18n;return r._tc.apply(r,[t,r.locale,r._getMessages(),this,e].concat(n))},t.prototype.$te=function(t,e){var n=this.$i18n;return n._te(t,n.locale,n._getMessages(),e)},t.prototype.$d=function(t){for(var e,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];return(e=this.$i18n).d.apply(e,[t].concat(n))},t.prototype.$n=function(t){for(var e,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];return(e=this.$i18n).n.apply(e,[t].concat(n))}})(C),C.mixin(function(t){function e(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return void 0===t&&(t=!1),t?{mounted:e}:{beforeCreate:function(){var t=this.$options;if(t.i18n=t.i18n||(t.__i18nBridge||t.__i18n?{}:null),t.i18n){if(t.i18n instanceof ot){if(t.__i18nBridge||t.__i18n)try{var e=t.i18n&&t.i18n.messages?t.i18n.messages:{};(t.__i18nBridge||t.__i18n).forEach(function(t){e=b(e,JSON.parse(t))}),Object.keys(e).forEach(function(n){t.i18n.mergeLocaleMessage(n,e[n])})}catch(t){}this._i18n=t.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(h(t.i18n)){var n=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ot?this.$root.$i18n:null;if(n&&(t.i18n.root=this.$root,t.i18n.formatter=n.formatter,t.i18n.fallbackLocale=n.fallbackLocale,t.i18n.formatFallbackMessages=n.formatFallbackMessages,t.i18n.silentTranslationWarn=n.silentTranslationWarn,t.i18n.silentFallbackWarn=n.silentFallbackWarn,t.i18n.pluralizationRules=n.pluralizationRules,t.i18n.preserveDirectiveContent=n.preserveDirectiveContent),t.__i18nBridge||t.__i18n)try{var i=t.i18n&&t.i18n.messages?t.i18n.messages:{};(t.__i18nBridge||t.__i18n).forEach(function(t){i=b(i,JSON.parse(t))}),t.i18n.messages=i}catch(t){}var r=t.i18n.sharedMessages;r&&h(r)&&(t.i18n.messages=b(t.i18n.messages,r)),this._i18n=new ot(t.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===t.i18n.sync||t.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),n&&n.onComponentInstanceCreated(this._i18n)}}else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ot?this._i18n=this.$root.$i18n:t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof ot&&(this._i18n=t.parent.$i18n)},beforeMount:function(){var t=this.$options;t.i18n=t.i18n||(t.__i18nBridge||t.__i18n?{}:null),t.i18n?t.i18n instanceof ot?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):h(t.i18n)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ot?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof ot&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:e,beforeDestroy:function(){if(this._i18n){var t=this;this.$nextTick(function(){t._subscribing&&(t._i18n.unsubscribeDataChanging(t),delete t._subscribing),t._i18nWatcher&&(t._i18nWatcher(),t._i18n.destroyVM(),delete t._i18nWatcher),t._localeWatcher&&(t._localeWatcher(),delete t._localeWatcher)})}}}}(e.bridge)),C.directive("t",{bind:k,update:T,unbind:O}),C.component(w.name,w),C.component(I.name,I),C.config.optionMergeStrategies.i18n=function(t,e){return void 0===e?t:e}}var D=function(){this._caches=Object.create(null)};D.prototype.interpolate=function(t,e){if(!e)return[t];var n=this._caches[t];return n||(n=function(t){var e=[],n=0,i="";for(;n<t.length;){var r=t[n++];if("{"===r){i&&e.push({type:"text",value:i}),i="";var o="";for(r=t[n++];void 0!==r&&"}"!==r;)o+=r,r=t[n++];var a="}"===r,s=j.test(o)?"list":a&&P.test(o)?"named":"unknown";e.push({value:o,type:s})}else"%"===r?"{"!==t[n]&&(i+=r):i+=r}return i&&e.push({type:"text",value:i}),e}(t),this._caches[t]=n),function(t,e){var n=[],i=0,r=Array.isArray(e)?"list":s(e)?"named":"unknown";if("unknown"===r)return n;for(;i<t.length;){var o=t[i];switch(o.type){case"text":n.push(o.value);break;case"list":n.push(e[parseInt(o.value,10)]);break;case"named":"named"===r&&n.push(e[o.value]);break;case"unknown":0}i++}return n}(n,e)};var j=/^(?:\d)+/,P=/^(?:\w)+/;var R=0,z=1,B=2,F=3,G=0,V=4,W=5,H=6,U=7,Y=8,J=[];J[G]={ws:[G],ident:[3,R],"[":[V],eof:[U]},J[1]={ws:[1],".":[2],"[":[V],eof:[U]},J[2]={ws:[2],ident:[3,R],0:[3,R],number:[3,R]},J[3]={ident:[3,R],0:[3,R],number:[3,R],ws:[1,z],".":[2,z],"[":[V,z],eof:[U,z]},J[V]={"'":[W,R],'"':[H,R],"[":[V,B],"]":[1,F],eof:Y,else:[V,R]},J[W]={"'":[V,R],eof:Y,else:[W,R]},J[H]={'"':[V,R],eof:Y,else:[H,R]};var Q=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Z(t){if(void 0===t||null===t)return"eof";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function $(t){var e,n,i,r=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(i=r,Q.test(i)?(n=(e=r).charCodeAt(0))!==e.charCodeAt(e.length-1)||34!==n&&39!==n?e:e.slice(1,-1):"*"+r)}var X=function(){this._cache=Object.create(null)};X.prototype.parsePath=function(t){var e=this._cache[t];return e||(e=function(t){var e,n,i,r,o,a,s,l=[],u=-1,c=G,h=0,d=[];function f(){var e=t[u+1];if(c===W&&"'"===e||c===H&&'"'===e)return u++,i="\\"+e,d[R](),!0}for(d[z]=function(){void 0!==n&&(l.push(n),n=void 0)},d[R]=function(){void 0===n?n=i:n+=i},d[B]=function(){d[R](),h++},d[F]=function(){if(h>0)h--,c=V,d[R]();else{if(h=0,void 0===n)return!1;if(!1===(n=$(n)))return!1;d[z]()}};null!==c;)if("\\"!==(e=t[++u])||!f()){if(r=Z(e),(o=(s=J[c])[r]||s.else||Y)===Y)return;if(c=o[0],(a=d[o[1]])&&(i=void 0===(i=o[2])?e:i,!1===a()))return;if(c===U)return l}}(t))&&(this._cache[t]=e),e||[]},X.prototype.getPathValue=function(t,e){if(!s(t))return null;var n=this.parsePath(e);if(0===n.length)return null;for(var i=n.length,r=t,o=0;o<i;){var a=r[n[o]];if(void 0===a||null===a)return null;r=a,o++}return r};var K,q=/<\/?[\w\s="/.':;#-\/]+>/,tt=/(?:@(?:\.[a-z]+)?:(?:[\w\-_|./]+|\([\w\-_|./]+\)))/g,et=/^@(?:\.([a-z]+))?:/,nt=/[()]/g,it={upper:function(t){return t.toLocaleUpperCase()},lower:function(t){return t.toLocaleLowerCase()},capitalize:function(t){return""+t.charAt(0).toLocaleUpperCase()+t.substr(1)}},rt=new D,ot=function(t){var e=this;void 0===t&&(t={}),!C&&"undefined"!=typeof window&&window.Vue&&L(window.Vue);var n=t.locale||"en-US",i=!1!==t.fallbackLocale&&(t.fallbackLocale||"en-US"),r=t.messages||{},o=t.dateTimeFormats||t.datetimeFormats||{},a=t.numberFormats||{};this._vm=null,this._formatter=t.formatter||rt,this._modifiers=t.modifiers||{},this._missing=t.missing||null,this._root=t.root||null,this._sync=void 0===t.sync||!!t.sync,this._fallbackRoot=void 0===t.fallbackRoot||!!t.fallbackRoot,this._fallbackRootWithEmptyString=void 0===t.fallbackRootWithEmptyString||!!t.fallbackRootWithEmptyString,this._formatFallbackMessages=void 0!==t.formatFallbackMessages&&!!t.formatFallbackMessages,this._silentTranslationWarn=void 0!==t.silentTranslationWarn&&t.silentTranslationWarn,this._silentFallbackWarn=void 0!==t.silentFallbackWarn&&!!t.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new X,this._dataListeners=new Set,this._componentInstanceCreatedListener=t.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==t.preserveDirectiveContent&&!!t.preserveDirectiveContent,this.pluralizationRules=t.pluralizationRules||{},this._warnHtmlInMessage=t.warnHtmlInMessage||"off",this._postTranslation=t.postTranslation||null,this._escapeParameterHtml=t.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in t&&(this.__VUE_I18N_BRIDGE__=t.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(t,n){var i=Object.getPrototypeOf(e);if(i&&i.getChoiceIndex)return i.getChoiceIndex.call(e,t,n);var r,o;return e.locale in e.pluralizationRules?e.pluralizationRules[e.locale].apply(e,[t,n]):(r=t,o=n,r=Math.abs(r),2===o?r?r>1?1:0:1:r?Math.min(r,2):0)},this._exist=function(t,n){return!(!t||!n)&&(!d(e._path.getPathValue(t,n))||!!t[n])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(r).forEach(function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,r[t])}),this._initVM({locale:n,fallbackLocale:i,messages:r,dateTimeFormats:o,numberFormats:a})},at={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};ot.prototype._checkLocaleMessage=function(t,e,n){var i=function(t,e,n,s){if(h(n))Object.keys(n).forEach(function(r){var o=n[r];h(o)?(s.push(r),s.push("."),i(t,e,o,s),s.pop(),s.pop()):(s.push(r),i(t,e,o,s),s.pop())});else if(a(n))n.forEach(function(n,r){h(n)?(s.push("["+r+"]"),s.push("."),i(t,e,n,s),s.pop(),s.pop()):(s.push("["+r+"]"),i(t,e,n,s),s.pop())});else if(l(n)){if(q.test(n)){var u="Detected HTML in message '"+n+"' of keypath '"+s.join("")+"' at '"+e+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===t?r(u):"error"===t&&o(u)}}};i(e,t,n,[])},ot.prototype._initVM=function(t){var e=C.config.silent;C.config.silent=!0,this._vm=new C({data:t,__VUE18N__INSTANCE__:!0}),C.config.silent=e},ot.prototype.destroyVM=function(){this._vm.$destroy()},ot.prototype.subscribeDataChanging=function(t){this._dataListeners.add(t)},ot.prototype.unsubscribeDataChanging=function(t){!function(t,e){if(t.delete(e));}(this._dataListeners,t)},ot.prototype.watchI18nData=function(){var t=this;return this._vm.$watch("$data",function(){for(var e,n,i=(e=t._dataListeners,n=[],e.forEach(function(t){return n.push(t)}),n),r=i.length;r--;)C.nextTick(function(){i[r]&&i[r].$forceUpdate()})},{deep:!0})},ot.prototype.watchLocale=function(t){if(t){if(!this.__VUE_I18N_BRIDGE__)return null;var e=this,n=this._vm;return this.vm.$watch("locale",function(i){n.$set(n,"locale",i),e.__VUE_I18N_BRIDGE__&&t&&(t.locale.value=i),n.$forceUpdate()},{immediate:!0})}if(!this._sync||!this._root)return null;var i=this._vm;return this._root.$i18n.vm.$watch("locale",function(t){i.$set(i,"locale",t),i.$forceUpdate()},{immediate:!0})},ot.prototype.onComponentInstanceCreated=function(t){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(t,this)},at.vm.get=function(){return this._vm},at.messages.get=function(){return g(this._getMessages())},at.dateTimeFormats.get=function(){return g(this._getDateTimeFormats())},at.numberFormats.get=function(){return g(this._getNumberFormats())},at.availableLocales.get=function(){return Object.keys(this.messages).sort()},at.locale.get=function(){return this._vm.locale},at.locale.set=function(t){this._vm.$set(this._vm,"locale",t)},at.fallbackLocale.get=function(){return this._vm.fallbackLocale},at.fallbackLocale.set=function(t){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",t)},at.formatFallbackMessages.get=function(){return this._formatFallbackMessages},at.formatFallbackMessages.set=function(t){this._formatFallbackMessages=t},at.missing.get=function(){return this._missing},at.missing.set=function(t){this._missing=t},at.formatter.get=function(){return this._formatter},at.formatter.set=function(t){this._formatter=t},at.silentTranslationWarn.get=function(){return this._silentTranslationWarn},at.silentTranslationWarn.set=function(t){this._silentTranslationWarn=t},at.silentFallbackWarn.get=function(){return this._silentFallbackWarn},at.silentFallbackWarn.set=function(t){this._silentFallbackWarn=t},at.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},at.preserveDirectiveContent.set=function(t){this._preserveDirectiveContent=t},at.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},at.warnHtmlInMessage.set=function(t){var e=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=t,n!==t&&("warn"===t||"error"===t)){var i=this._getMessages();Object.keys(i).forEach(function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,i[t])})}},at.postTranslation.get=function(){return this._postTranslation},at.postTranslation.set=function(t){this._postTranslation=t},at.sync.get=function(){return this._sync},at.sync.set=function(t){this._sync=t},ot.prototype._getMessages=function(){return this._vm.messages},ot.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},ot.prototype._getNumberFormats=function(){return this._vm.numberFormats},ot.prototype._warnDefault=function(t,e,n,i,r,o){if(!d(n))return n;if(this._missing){var a=this._missing.apply(null,[t,e,i,r]);if(l(a))return a}else 0;if(this._formatFallbackMessages){var s=p.apply(void 0,r);return this._render(e,o,s.params,e)}return e},ot.prototype._isFallbackRoot=function(t){return(this._fallbackRootWithEmptyString?!t:d(t))&&!d(this._root)&&this._fallbackRoot},ot.prototype._isSilentFallbackWarn=function(t){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(t):this._silentFallbackWarn},ot.prototype._isSilentFallback=function(t,e){return this._isSilentFallbackWarn(e)&&(this._isFallbackRoot()||t!==this.fallbackLocale)},ot.prototype._isSilentTranslationWarn=function(t){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(t):this._silentTranslationWarn},ot.prototype._interpolate=function(t,e,n,i,r,o,s){if(!e)return null;var u,c=this._path.getPathValue(e,n);if(a(c)||h(c))return c;if(d(c)){if(!h(e))return null;if(!l(u=e[n])&&!f(u))return null}else{if(!l(c)&&!f(c))return null;u=c}return l(u)&&(u.indexOf("@:")>=0||u.indexOf("@.")>=0)&&(u=this._link(t,e,u,i,"raw",o,s)),this._render(u,r,o,n)},ot.prototype._link=function(t,e,n,i,r,o,s){var l=n,u=l.match(tt);for(var c in u)if(u.hasOwnProperty(c)){var h=u[c],d=h.match(et),f=d[0],p=d[1],g=h.replace(f,"").replace(nt,"");if(v(s,g))return l;s.push(g);var m=this._interpolate(t,e,g,i,"raw"===r?"string":r,"raw"===r?void 0:o,s);if(this._isFallbackRoot(m)){if(!this._root)throw Error("unexpected error");var y=this._root.$i18n;m=y._translate(y._getMessages(),y.locale,y.fallbackLocale,g,i,r,o)}m=this._warnDefault(t,g,m,i,a(o)?o:[o],r),this._modifiers.hasOwnProperty(p)?m=this._modifiers[p](m):it.hasOwnProperty(p)&&(m=it[p](m)),s.pop(),l=m?l.replace(h,m):l}return l},ot.prototype._createMessageContext=function(t,e,n,i){var r=this,o=a(t)?t:[],l=s(t)?t:{},u=this._getMessages(),c=this.locale;return{list:function(t){return o[t]},named:function(t){return l[t]},values:t,formatter:e,path:n,messages:u,locale:c,linked:function(t){return r._interpolate(c,u[c]||{},t,null,i,void 0,[t])}}},ot.prototype._render=function(t,e,n,i){if(f(t))return t(this._createMessageContext(n,this._formatter||rt,i,e));var r=this._formatter.interpolate(t,n,i);return r||(r=rt.interpolate(t,n,i)),"string"!==e||l(r)?r:r.join("")},ot.prototype._appendItemToChain=function(t,e,n){var i=!1;return v(t,e)||(i=!0,e&&(i="!"!==e[e.length-1],e=e.replace(/!/g,""),t.push(e),n&&n[e]&&(i=n[e]))),i},ot.prototype._appendLocaleToChain=function(t,e,n){var i,r=e.split("-");do{var o=r.join("-");i=this._appendItemToChain(t,o,n),r.splice(-1,1)}while(r.length&&!0===i);return i},ot.prototype._appendBlockToChain=function(t,e,n){for(var i=!0,r=0;r<e.length&&"boolean"==typeof i;r++){var o=e[r];l(o)&&(i=this._appendLocaleToChain(t,o,n))}return i},ot.prototype._getLocaleChain=function(t,e){if(""===t)return[];this._localeChainCache||(this._localeChainCache={});var n=this._localeChainCache[t];if(!n){e||(e=this.fallbackLocale),n=[];for(var i,r=[t];a(r);)r=this._appendBlockToChain(n,r,e);(r=l(i=a(e)?e:s(e)?e.default?e.default:null:e)?[i]:i)&&this._appendBlockToChain(n,r,null),this._localeChainCache[t]=n}return n},ot.prototype._translate=function(t,e,n,i,r,o,a){for(var s,l=this._getLocaleChain(e,n),u=0;u<l.length;u++){var c=l[u];if(!d(s=this._interpolate(c,t[c],i,r,o,a,[i])))return s}return null},ot.prototype._t=function(t,e,n,i){for(var r,o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];if(!t)return"";var s,l=p.apply(void 0,o);this._escapeParameterHtml&&(l.params=(null!=(s=l.params)&&Object.keys(s).forEach(function(t){"string"==typeof s[t]&&(s[t]=s[t].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))}),s));var u=l.locale||e,c=this._translate(n,u,this.fallbackLocale,t,i,"string",l.params);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return(r=this._root).$t.apply(r,[t].concat(o))}return c=this._warnDefault(u,t,c,i,o,"string"),this._postTranslation&&null!==c&&void 0!==c&&(c=this._postTranslation(c,t)),c},ot.prototype.t=function(t){for(var e,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];return(e=this)._t.apply(e,[t,this.locale,this._getMessages(),null].concat(n))},ot.prototype._i=function(t,e,n,i,r){var o=this._translate(n,e,this.fallbackLocale,t,i,"raw",r);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(t,e,r)}return this._warnDefault(e,t,o,i,[r],"raw")},ot.prototype.i=function(t,e,n){return t?(l(e)||(e=this.locale),this._i(t,e,this._getMessages(),null,n)):""},ot.prototype._tc=function(t,e,n,i,r){for(var o,a=[],s=arguments.length-5;s-- >0;)a[s]=arguments[s+5];if(!t)return"";void 0===r&&(r=1);var l={count:r,n:r},u=p.apply(void 0,a);return u.params=Object.assign(l,u.params),a=null===u.locale?[u.params]:[u.locale,u.params],this.fetchChoice((o=this)._t.apply(o,[t,e,n,i].concat(a)),r)},ot.prototype.fetchChoice=function(t,e){if(!t||!l(t))return null;var n=t.split("|");return n[e=this.getChoiceIndex(e,n.length)]?n[e].trim():t},ot.prototype.tc=function(t,e){for(var n,i=[],r=arguments.length-2;r-- >0;)i[r]=arguments[r+2];return(n=this)._tc.apply(n,[t,this.locale,this._getMessages(),null,e].concat(i))},ot.prototype._te=function(t,e,n){for(var i=[],r=arguments.length-3;r-- >0;)i[r]=arguments[r+3];var o=p.apply(void 0,i).locale||e;return this._exist(n[o],t)},ot.prototype.te=function(t,e){return this._te(t,this.locale,this._getMessages(),e)},ot.prototype.getLocaleMessage=function(t){return g(this._vm.messages[t]||{})},ot.prototype.setLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,e)},ot.prototype.mergeLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,b(void 0!==this._vm.messages[t]&&Object.keys(this._vm.messages[t]).length?Object.assign({},this._vm.messages[t]):{},e))},ot.prototype.getDateTimeFormat=function(t){return g(this._vm.dateTimeFormats[t]||{})},ot.prototype.setDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,e),this._clearDateTimeFormat(t,e)},ot.prototype.mergeDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,b(this._vm.dateTimeFormats[t]||{},e)),this._clearDateTimeFormat(t,e)},ot.prototype._clearDateTimeFormat=function(t,e){for(var n in e){var i=t+"__"+n;this._dateTimeFormatters.hasOwnProperty(i)&&delete this._dateTimeFormatters[i]}},ot.prototype._localizeDateTime=function(t,e,n,i,r){for(var o=e,a=i[o],s=this._getLocaleChain(e,n),l=0;l<s.length;l++){var u=s[l];if(o=u,!d(a=i[u])&&!d(a[r]))break}if(d(a)||d(a[r]))return null;var c=a[r],h=o+"__"+r,f=this._dateTimeFormatters[h];return f||(f=this._dateTimeFormatters[h]=new Intl.DateTimeFormat(o,c)),f.format(t)},ot.prototype._d=function(t,e,n){if(!n)return new Intl.DateTimeFormat(e).format(t);var i=this._localizeDateTime(t,e,this.fallbackLocale,this._getDateTimeFormats(),n);if(this._isFallbackRoot(i)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(t,n,e)}return i||""},ot.prototype.d=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var i=this.locale,r=null;return 1===e.length?l(e[0])?r=e[0]:s(e[0])&&(e[0].locale&&(i=e[0].locale),e[0].key&&(r=e[0].key)):2===e.length&&(l(e[0])&&(r=e[0]),l(e[1])&&(i=e[1])),this._d(t,i,r)},ot.prototype.getNumberFormat=function(t){return g(this._vm.numberFormats[t]||{})},ot.prototype.setNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,e),this._clearNumberFormat(t,e)},ot.prototype.mergeNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,b(this._vm.numberFormats[t]||{},e)),this._clearNumberFormat(t,e)},ot.prototype._clearNumberFormat=function(t,e){for(var n in e){var i=t+"__"+n;this._numberFormatters.hasOwnProperty(i)&&delete this._numberFormatters[i]}},ot.prototype._getNumberFormatter=function(t,e,n,i,r,o){for(var a=e,s=i[a],l=this._getLocaleChain(e,n),u=0;u<l.length;u++){var c=l[u];if(a=c,!d(s=i[c])&&!d(s[r]))break}if(d(s)||d(s[r]))return null;var h,f=s[r];if(o)h=new Intl.NumberFormat(a,Object.assign({},f,o));else{var p=a+"__"+r;(h=this._numberFormatters[p])||(h=this._numberFormatters[p]=new Intl.NumberFormat(a,f))}return h},ot.prototype._n=function(t,e,n,i){if(!ot.availabilities.numberFormat)return"";if(!n)return(i?new Intl.NumberFormat(e,i):new Intl.NumberFormat(e)).format(t);var r=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),n,i),o=r&&r.format(t);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(t,Object.assign({},{key:n,locale:e},i))}return o||""},ot.prototype.n=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=this.locale,o=null,a=null;return 1===e.length?l(e[0])?o=e[0]:s(e[0])&&(e[0].locale&&(r=e[0].locale),e[0].key&&(o=e[0].key),a=Object.keys(e[0]).reduce(function(t,n){var r;return v(i,n)?Object.assign({},t,((r={})[n]=e[0][n],r)):t},null)):2===e.length&&(l(e[0])&&(o=e[0]),l(e[1])&&(r=e[1])),this._n(t,r,o,a)},ot.prototype._ntp=function(t,e,n,i){if(!ot.availabilities.numberFormat)return[];if(!n)return(i?new Intl.NumberFormat(e,i):new Intl.NumberFormat(e)).formatToParts(t);var r=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),n,i),o=r&&r.formatToParts(t);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(t,e,n,i)}return o||[]},Object.defineProperties(ot.prototype,at),Object.defineProperty(ot,"availabilities",{get:function(){if(!K){var t="undefined"!=typeof Intl;K={dateTimeFormat:t&&void 0!==Intl.DateTimeFormat,numberFormat:t&&void 0!==Intl.NumberFormat}}return K}}),ot.install=L,ot.version="8.27.0",e.a=ot},Tb0P:function(t,e,n){"use strict";e.b=function(t,e,n){var r=1;Object(i.h)(t)&&(r=t.split("\n").length);if(r>1){var o=function(t,e){return e?e-t:.14*t}(e,n);return e*r+o*(r-1)}return e},e.c=function(t,e){var n=Object(r.a)(),o=0;if(Object(i.e)(t)||""===t)return o;if(n.save(),n.font=e,Object(i.h)(t)&&t.includes("\n")){var a=t.split("\n");Object(i.a)(a,function(t){var e=n.measureText(t).width;o<e&&(o=e)})}else o=n.measureText(t).width;return n.restore(),o},e.a=function(t){var e=t.fontSize,n=t.fontFamily,i=t.fontWeight,r=t.fontStyle,o=t.fontVariant;return[r,o,i,e+"px",n].join(" ").trim()};var i=n("BuFP"),r=n("cOOB")},TcQ7:function(t,e,n){var i=n("MU5D"),r=n("52gC");t.exports=function(t){return i(r(t))}},TiMF:function(t,e,n){var i=n("QGUm");t.exports=function(t,e,n){i.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),o=[],a={};return i.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,r,o,a,s){i.has(o,n)||(o[n]=!0,r||s.push(n),i.each(a(n),function(n){t(e,n,r,o,a,s)}),r&&s.push(n))}(t,e,"post"===n,a,r,o)}),o}},TnYd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"catmullRomToBezier",function(){return l}),n.d(e,"fillPath",function(){return O}),n.d(e,"fillPathByDiff",function(){return N}),n.d(e,"formatPath",function(){return j}),n.d(e,"intersection",function(){return I}),n.d(e,"parsePathArray",function(){return v}),n.d(e,"parsePathString",function(){return s}),n.d(e,"pathToAbsolute",function(){return c}),n.d(e,"pathToCurve",function(){return p}),n.d(e,"rectPath",function(){return w});var i=n("vfXu"),r="\t\n\v\f\r   ᠎             　\u2028\u2029",o=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig"),s=function(t){if(!t)return null;if(Object(i.b)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(o,function(i,r,o){var s=[],l=r.toLowerCase();if(o.replace(a,function(t,e){e&&s.push(+e)}),"m"===l&&s.length>2&&(n.push([r].concat(s.splice(0,2))),l="l",r="m"===r?"l":"L"),"o"===l&&1===s.length&&n.push([r,s[0]]),"r"===l)n.push([r].concat(s));else for(;s.length>=e[l]&&(n.push([r].concat(s.splice(0,e[l]))),e[l]););return t}),n},l=function(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4===i?o[3]={x:+t[0],y:+t[1]}:r-2===i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4===i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},u=function(t,e,n,i,r){var o=[];if(null===r&&null===i&&(i=n),t=+t,e=+e,n=+n,i=+i,null!==r){var a=Math.PI/180,s=t+n*Math.cos(-i*a),l=t+n*Math.cos(-r*a);o=[["M",s,e+n*Math.sin(-i*a)],["A",n,n,0,+(r-i>180),0,l,e+n*Math.sin(-r*a)]]}else o=[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]];return o},c=function(t){if(!(t=s(t))||!t.length)return[["M",0,0]];var e,n,i=[],r=0,o=0,a=0,c=0,h=0;"M"===t[0][0]&&(a=r=+t[0][1],c=o=+t[0][2],h++,i[0]=["M",r,o]);for(var d=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),f=void 0,p=void 0,g=h,v=t.length;g<v;g++){if(i.push(f=[]),(e=(p=t[g])[0])!==e.toUpperCase())switch(f[0]=e.toUpperCase(),f[0]){case"A":f[1]=p[1],f[2]=p[2],f[3]=p[3],f[4]=p[4],f[5]=p[5],f[6]=+p[6]+r,f[7]=+p[7]+o;break;case"V":f[1]=+p[1]+o;break;case"H":f[1]=+p[1]+r;break;case"R":for(var m=2,y=(n=[r,o].concat(p.slice(1))).length;m<y;m++)n[m]=+n[m]+r,n[++m]=+n[m]+o;i.pop(),i=i.concat(l(n,d));break;case"O":i.pop(),(n=u(r,o,p[1],p[2])).push(n[0]),i=i.concat(n);break;case"U":i.pop(),i=i.concat(u(r,o,p[1],p[2],p[3])),f=["U"].concat(i[i.length-1].slice(-2));break;case"M":a=+p[1]+r,c=+p[2]+o;break;default:for(m=1,y=p.length;m<y;m++)f[m]=+p[m]+(m%2?r:o)}else if("R"===e)n=[r,o].concat(p.slice(1)),i.pop(),i=i.concat(l(n,d)),f=["R"].concat(p.slice(-2));else if("O"===e)i.pop(),(n=u(r,o,p[1],p[2])).push(n[0]),i=i.concat(n);else if("U"===e)i.pop(),i=i.concat(u(r,o,p[1],p[2],p[3])),f=["U"].concat(i[i.length-1].slice(-2));else for(var b=0,x=p.length;b<x;b++)f[b]=p[b];if("O"!==(e=e.toUpperCase()))switch(f[0]){case"Z":r=+a,o=+c;break;case"H":r=f[1];break;case"V":o=f[1];break;case"M":a=f[f.length-2],c=f[f.length-1];break;default:r=f[f.length-2],o=f[f.length-1]}}return i},h=function(t,e,n,i){return[t,e,n,i,n,i]},d=function(t,e,n,i,r,o){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]},f=function(t,e,n,i,r,o,a,s,l,u){n===i&&(n+=1);var c,h,d,p,g,v=120*Math.PI/180,m=Math.PI/180*(+r||0),y=[],b=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(u)h=u[0],d=u[1],p=u[2],g=u[3];else{t=(c=b(t,e,-m)).x,e=c.y,s=(c=b(s,l,-m)).x,l=c.y,t===s&&e===l&&(s+=1,l+=1);var x=(t-s)/2,w=(e-l)/2,_=x*x/(n*n)+w*w/(i*i);_>1&&(n*=_=Math.sqrt(_),i*=_);var S=n*n,M=i*i,C=(o===a?-1:1)*Math.sqrt(Math.abs((S*M-S*w*w-M*x*x)/(S*w*w+M*x*x)));p=C*n*w/i+(t+s)/2,g=C*-i*x/n+(e+l)/2,h=Math.asin(((e-g)/i).toFixed(9)),d=Math.asin(((l-g)/i).toFixed(9)),h=t<p?Math.PI-h:h,d=s<p?Math.PI-d:d,h<0&&(h=2*Math.PI+h),d<0&&(d=2*Math.PI+d),a&&h>d&&(h-=2*Math.PI),!a&&d>h&&(d-=2*Math.PI)}var I=d-h;if(Math.abs(I)>v){var k=d,T=s,O=l;d=h+v*(a&&d>h?1:-1),s=p+n*Math.cos(d),l=g+i*Math.sin(d),y=f(s,l,n,i,r,0,a,T,O,[d,k,p,g])}I=d-h;var E=Math.cos(h),A=Math.sin(h),N=Math.cos(d),L=Math.sin(d),D=Math.tan(I/4),j=4/3*n*D,P=4/3*i*D,R=[t,e],z=[t+j*A,e-P*E],B=[s+j*L,l-P*N],F=[s,l];if(z[0]=2*R[0]-z[0],z[1]=2*R[1]-z[1],u)return[z,B,F].concat(y);for(var G=[],V=0,W=(y=[z,B,F].concat(y).join().split(",")).length;V<W;V++)G[V]=V%2?b(y[V-1],y[V],m).y:b(y[V],y[V+1],m).x;return G},p=function(t,e){var n,i=c(t),r=e&&c(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],l=[],u="",p="",g=function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(f.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(d(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(d(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(h(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(h(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(h(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(h(e.x,e.y,e.X,e.Y))}return t},v=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)s[e]="A",r&&(l[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(i.length,r&&r.length||0)}},m=function(t,e,o,a,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],n=Math.max(i.length,r&&r.length||0))};n=Math.max(i.length,r&&r.length||0);for(var y=0;y<n;y++){i[y]&&(u=i[y][0]),"C"!==u&&(s[y]=u,y&&(p=s[y-1])),i[y]=g(i[y],o,p),"A"!==s[y]&&"C"===u&&(s[y]="C"),v(i,y),r&&(r[y]&&(u=r[y][0]),"C"!==u&&(l[y]=u,y&&(p=l[y-1])),r[y]=g(r[y],a,p),"A"!==l[y]&&"C"===u&&(l[y]="C"),v(r,y)),m(i,r,o,a,y),m(r,i,a,o,y);var b=i[y],x=r&&r[y],w=b.length,_=r&&x.length;o.x=b[w-2],o.y=b[w-1],o.bx=parseFloat(b[w-4])||o.x,o.by=parseFloat(b[w-3])||o.y,a.bx=r&&(parseFloat(x[_-4])||a.x),a.by=r&&(parseFloat(x[_-3])||a.y),a.x=r&&x[_-2],a.y=r&&x[_-1]}return r?[i,r]:i},g=/,?([a-z]),?/gi,v=function(t){return t.join(",").replace(g,"$1")},m=function(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n},y=function(t,e,n,i,r,o,a,s,l){null===l&&(l=1);for(var u=(l=l>1?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,f=0;f<12;f++){var p=u*c[f]+u,g=m(p,t,n,r,a),v=m(p,e,i,o,s),y=g*g+v*v;d+=h[f]*Math.sqrt(y)}return u*d},b=function(t,e,n,i,r,o,a,s){if(!(Math.max(t,n)<Math.min(r,a)||Math.min(t,n)>Math.max(r,a)||Math.max(e,i)<Math.min(o,s)||Math.min(e,i)>Math.max(o,s))){var l=(t-n)*(o-s)-(e-i)*(r-a);if(l){var u=((t*i-e*n)*(r-a)-(t-n)*(r*s-o*a))/l,c=((t*i-e*n)*(o-s)-(e-i)*(r*s-o*a))/l,h=+u.toFixed(2),d=+c.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(r,a).toFixed(2)||h>+Math.max(r,a).toFixed(2)||d<+Math.min(e,i).toFixed(2)||d>+Math.max(e,i).toFixed(2)||d<+Math.min(o,s).toFixed(2)||d>+Math.max(o,s).toFixed(2)))return{x:u,y:c}}}},x=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},w=function(t,e,n,i,r){if(r)return[["M",+t+ +r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]];var o=[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]];return o.parsePathArray=v,o},_=function(t,e,n,i){return null===t&&(t=e=n=i=0),null===e&&(e=t.y,n=t.width,i=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:i,h:i,x2:t+n,y2:e+i,cx:t+n/2,cy:e+i/2,r1:Math.min(n,i)/2,r2:Math.max(n,i)/2,r0:Math.sqrt(n*n+i*i)/2,path:w(t,e,n,i),vb:[t,e,n,i].join(" ")}},S=function(t,e,n,r,o,a,s,l){Object(i.b)(t)||(t=[t,e,n,r,o,a,s,l]);var u=function(t,e,n,i,r,o,a,s){for(var l,u,c,h,d=[],f=[[],[]],p=0;p<2;++p)if(0===p?(u=6*t-12*n+6*r,l=-3*t+9*n-9*r+3*a,c=3*n-3*t):(u=6*e-12*i+6*o,l=-3*e+9*i-9*o+3*s,c=3*i-3*e),Math.abs(l)<1e-12){if(Math.abs(u)<1e-12)continue;(h=-c/u)>0&&h<1&&d.push(h)}else{var g=u*u-4*c*l,v=Math.sqrt(g);if(!(g<0)){var m=(-u+v)/(2*l);m>0&&m<1&&d.push(m);var y=(-u-v)/(2*l);y>0&&y<1&&d.push(y)}}for(var b,x=d.length,w=x;x--;)b=1-(h=d[x]),f[0][x]=b*b*b*t+3*b*b*h*n+3*b*h*h*r+h*h*h*a,f[1][x]=b*b*b*e+3*b*b*h*i+3*b*h*h*o+h*h*h*s;return f[0][w]=t,f[1][w]=e,f[0][w+1]=a,f[1][w+1]=s,f[0].length=f[1].length=w+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}}.apply(null,t);return _(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},M=function(t,e,n,i,r,o,a,s,l){var u=1-l,c=Math.pow(u,3),h=Math.pow(u,2),d=l*l,f=d*l,p=t+2*l*(n-t)+d*(r-2*n+t),g=e+2*l*(i-e)+d*(o-2*i+e),v=n+2*l*(r-n)+d*(a-2*r+n),m=i+2*l*(o-i)+d*(s-2*o+i);return{x:c*t+3*h*l*n+3*u*l*l*r+f*a,y:c*e+3*h*l*i+3*u*l*l*o+f*s,m:{x:p,y:g},n:{x:v,y:m},start:{x:u*t+l*n,y:u*e+l*i},end:{x:u*r+l*a,y:u*o+l*s},alpha:90-180*Math.atan2(p-v,g-m)/Math.PI}},C=function(t,e,n){if(!function(t,e){return t=_(t),e=_(e),x(e,t.x,t.y)||x(e,t.x2,t.y)||x(e,t.x,t.y2)||x(e,t.x2,t.y2)||x(t,e.x,e.y)||x(t,e.x2,e.y)||x(t,e.x,e.y2)||x(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(S(t),S(e)))return n?0:[];for(var i=~~(y.apply(0,t)/8),r=~~(y.apply(0,e)/8),o=[],a=[],s={},l=n?0:[],u=0;u<i+1;u++){var c=M.apply(0,t.concat(u/i));o.push({x:c.x,y:c.y,t:u/i})}for(u=0;u<r+1;u++){c=M.apply(0,e.concat(u/r));a.push({x:c.x,y:c.y,t:u/r})}for(u=0;u<i;u++)for(var h=0;h<r;h++){var d=o[u],f=o[u+1],p=a[h],g=a[h+1],v=Math.abs(f.x-d.x)<.001?"y":"x",m=Math.abs(g.x-p.x)<.001?"y":"x",w=b(d.x,d.y,f.x,f.y,p.x,p.y,g.x,g.y);if(w){if(s[w.x.toFixed(4)]===w.y.toFixed(4))continue;s[w.x.toFixed(4)]=w.y.toFixed(4);var C=d.t+Math.abs((w[v]-d[v])/(f[v]-d[v]))*(f.t-d.t),I=p.t+Math.abs((w[m]-p[m])/(g[m]-p[m]))*(g.t-p.t);C>=0&&C<=1&&I>=0&&I<=1&&(n?l+=1:l.push({x:w.x,y:w.y,t1:C,t2:I}))}}return l},I=function(t,e){return function(t,e,n){var i,r,o,a,s,l,u,c,h,d;t=p(t),e=p(e);for(var f=n?0:[],g=0,v=t.length;g<v;g++){var m=t[g];if("M"===m[0])i=s=m[1],r=l=m[2];else{"C"===m[0]?(i=(h=[i,r].concat(m.slice(1)))[6],r=h[7]):(h=[i,r,i,r,s,l,s,l],i=s,r=l);for(var y=0,b=e.length;y<b;y++){var x=e[y];if("M"===x[0])o=u=x[1],a=c=x[2];else{"C"===x[0]?(o=(d=[o,a].concat(x.slice(1)))[6],a=d[7]):(d=[o,a,o,a,u,c,u,c],o=u,a=c);var w=C(h,d,n);if(n)f+=w;else{for(var _=0,S=w.length;_<S;_++)w[_].segment1=g,w[_].segment2=y,w[_].bez1=h,w[_].bez2=d;f=f.concat(w)}}}}}return f}(t,e)};function k(t,e){var n=[],i=[];return t.length&&function t(e,r){if(1===e.length)n.push(e[0]),i.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&i.push(e[a+1]),o[a]=[(1-r)*e[a][0]+r*e[a+1][0],(1-r)*e[a][1]+r*e[a+1][1]];t(o,r)}}(t,e),{left:n,right:i.reverse()}}var T=function(t,e,n){if(1===n)return[[].concat(t)];var i=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])i=i.concat(function(t,e,n){var i=[[t[1],t[2]]];n=n||2;var r=[];"A"===e[0]?(i.push(e[6]),i.push(e[7])):"C"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]]),i.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]])):i.push([e[1],e[2]]);for(var o=i,a=1/n,s=0;s<n-1;s++){var l=k(o,a/(1-a*s));r.push(l.left),o=l.right}return r.push(o),r.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])})}(t,e,n));else{var r=[].concat(t);"M"===r[0]&&(r[0]="L");for(var o=0;o<=n-1;o++)i.push(r)}return i},O=function(t,e){if(1===t.length)return t;var n=t.length-1,i=e.length-1,r=n/i,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<i-n;a++)t.push(t[0]);return t}for(a=0;a<i;a++){var s=Math.floor(r*a);o[s]=(o[s]||0)+1}var l=o.reduce(function(e,i,r){return r===n?e.concat(t[n]):e.concat(T(t[r],t[r+1],i))},[]);return l.unshift(t[0]),"Z"!==e[i]&&"z"!==e[i]||l.push("Z"),l},E=function(t,e){if(t.length!==e.length)return!1;var n=!0;return Object(i.a)(t,function(t,i){if(t!==e[i])return n=!1,!1}),n};function A(t,e,n){var i=null,r=n;return e<r&&(r=e,i="add"),t<r&&(r=t,i="del"),{type:i,min:r}}var N=function(t,e){var n=function(t,e){var n,i,r=t.length,o=e.length,a=0;if(0===r||0===o)return null;for(var s=[],l=0;l<=r;l++)s[l]=[],s[l][0]={min:l};for(var u=0;u<=o;u++)s[0][u]={min:u};for(l=1;l<=r;l++)for(n=t[l-1],u=1;u<=o;u++){i=e[u-1],a=E(n,i)?0:1;var c=s[l-1][u].min+1,h=s[l][u-1].min+1,d=s[l-1][u-1].min+a;s[l][u]=A(c,h,d)}return s}(t,e),i=t.length,r=e.length,o=[],a=1,s=1;if(n[i][r].min!==i){for(var l=1;l<=i;l++){var u=n[l][l].min;s=l;for(var c=a;c<=r;c++)n[l][c].min<u&&(u=n[l][c].min,s=c);a=s,n[l][a].type&&o.push({index:l-1,type:n[l][a].type})}for(l=o.length-1;l>=0;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var h=r-(i=t.length);if(i<r)for(l=0;l<h;l++)"z"===t[i-1][0]||"Z"===t[i-1][0]?t.splice(i-2,0,t[i-2]):t.push(t[i-1]),i+=1;return t};function L(t,e,n){for(var i,r=[].concat(t),o=1/(n+1),a=D(e)[0],s=1;s<=n;s++)o*=s,0===(i=Math.floor(t.length*o))?r.unshift([a[0]*o+t[i][0]*(1-o),a[1]*o+t[i][1]*(1-o)]):r.splice(i,0,[a[0]*o+t[i][0]*(1-o),a[1]*o+t[i][1]*(1-o)]);return r}function D(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var j=function(t,e){if(t.length<=1)return t;for(var n,i=0;i<e.length;i++)if(t[i][0]!==e[i][0])switch(n=D(t[i]),e[i][0]){case"M":t[i]=["M"].concat(n[0]);break;case"L":t[i]=["L"].concat(n[0]);break;case"A":t[i]=[].concat(e[i]),t[i][6]=n[0][0],t[i][7]=n[0][1];break;case"Q":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=L(n,t[i-1],1)}t[i]=["Q"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[i]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(i>0)){t[i]=e[i];break}n=L(n,t[i-1],2)}t[i]=["C"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=L(n,t[i-1],1)}t[i]=["S"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;default:t[i]=e[i]}return t}},TndR:function(t,e){t.exports=function(t,e,n){var i=e[0]*e[0]+e[1]*e[1];if(i>n*n){var r=Math.sqrt(i);t[0]=e[0]/r*n,t[1]=e[1]/r*n}else t[0]=e[0],t[1]=e[1];return t}},To3L:function(t,e,n){"use strict";var i=n("+E39"),r=n("lktj"),o=n("1kS7"),a=n("NpIQ"),s=n("sB3e"),l=n("MU5D"),u=Object.assign;t.exports=!u||n("S82l")(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i})?function(t,e){for(var n=s(t),u=arguments.length,c=1,h=o.f,d=a.f;u>c;)for(var f,p=l(arguments[c++]),g=h?r(p).concat(h(p)):r(p),v=g.length,m=0;v>m;)f=g[m++],i&&!d.call(p,f)||(n[f]=p[f]);return n}:u},ToeE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("KgSl")),r=a(n("9Nhl")),o=n("lSAc");function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t,e){var n=[],i=t.nodes,a=void 0===i?[]:i,s=t.edges,l=void 0===s?[]:s;if(0===a.length)return n;var u=a[0],c=new Set;c.add(u);var h=new r.default(function(t,n){return e?t.weight-n.weight:0});for((0,o.getEdgesByNodeId)(u.id,l).forEach(function(t){h.insert(t)});!h.isEmpty();){var d=h.delMin(),f=d.source,p=d.target;c.has(f)&&c.has(p)||(n.push(d),c.has(f)||(c.add(f),(0,o.getEdgesByNodeId)(f,l).forEach(function(t){h.insert(t)})),c.has(p)||(c.add(p),(0,o.getEdgesByNodeId)(p,l).forEach(function(t){h.insert(t)})))}return n},l=function(t,e){var n=[],r=t.nodes,o=void 0===r?[]:r,a=t.edges,s=void 0===a?[]:a;if(0===o.length)return n;var l=s.map(function(t){return t});e&&l.sort(function(t,e){return t.weight-e.weight});for(var u=new i.default(o.map(function(t){return t.id}));l.length>0;){var c=l.shift(),h=c.source,d=c.target;u.connected(h,d)||(n.push(c),u.union(h,d))}return n},u=function(t,e,n){return n?{prim:s,kruskal:l}[n](t,e):l(t,e)};e.default=u},U5ju:function(t,e,n){n("M6a0"),n("zQR9"),n("+tPU"),n("CXw9"),n("EqBC"),n("jKW+"),t.exports=n("FeBl").Promise},UIf7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolve=void 0;var i=n("tuOO"),r=n("3gih"),o=n("ATs6"),a=n("ETa/"),s=n("2Izx"),l=function(t,e,n){try{return n()}catch(n){throw o.isStackOverflowExeption(n)?new Error(i.CIRCULAR_DEPENDENCY_IN_FACTORY(t,e.toString())):n}},u=function(t){return function(e){e.parentContext.setCurrentRequest(e);var n=e.bindings,o=e.childRequests,c=e.target&&e.target.isArray(),h=!(e.parentRequest&&e.parentRequest.target&&e.target&&e.parentRequest.target.matchesArray(e.target.serviceIdentifier));if(c&&h)return o.map(function(e){return u(t)(e)});var d=null;if(!e.target.isOptional()||0!==n.length){var f=n[0],p=f.scope===r.BindingScopeEnum.Singleton,g=f.scope===r.BindingScopeEnum.Request;if(p&&f.activated)return f.cache;if(g&&null!==t&&t.has(f.id))return t.get(f.id);if(f.type===r.BindingTypeEnum.ConstantValue)d=f.cache,f.activated=!0;else if(f.type===r.BindingTypeEnum.Function)d=f.cache,f.activated=!0;else if(f.type===r.BindingTypeEnum.Constructor)d=f.implementationType;else if(f.type===r.BindingTypeEnum.DynamicValue&&null!==f.dynamicValue)d=l("toDynamicValue",f.serviceIdentifier,function(){return f.dynamicValue(e.parentContext)});else if(f.type===r.BindingTypeEnum.Factory&&null!==f.factory)d=l("toFactory",f.serviceIdentifier,function(){return f.factory(e.parentContext)});else if(f.type===r.BindingTypeEnum.Provider&&null!==f.provider)d=l("toProvider",f.serviceIdentifier,function(){return f.provider(e.parentContext)});else{if(f.type!==r.BindingTypeEnum.Instance||null===f.implementationType){var v=a.getServiceIdentifierAsString(e.serviceIdentifier);throw new Error(i.INVALID_BINDING_TYPE+" "+v)}d=s.resolveInstance(f.implementationType,o,u(t))}return"function"==typeof f.onActivation&&(d=f.onActivation(e.parentContext,d)),p&&(f.cache=d,f.activated=!0),g&&null!==t&&!t.has(f.id)&&t.set(f.id,d),d}}};e.resolve=function(t){return u(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}},UO3t:function(t,e,n){"use strict";function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.detectAllUndirectedCycle=e.detectAllDirectedCycle=e.detectAllCycles=e.default=void 0;var r,o=(r=n("0buI"))&&r.__esModule?r:{default:r},a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var n=l(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}r.default=t,n&&n.set(t,r);return r}(n("l8+k")),s=n("lSAc");function l(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(l=function(t){return t?n:e})(t)}var u=function(t,e,n){var i,r;void 0===n&&(n=!0);for(var o=[],l=0,u=(0,a.default)(t,!1);l<u.length;l++){var c=u[l];if(c.length)for(var h=c[0],d=h.id,f=[h],p=((i={})[d]=h,i),g=((r={})[d]=new Set,r);f.length>0;)for(var v=f.pop(),m=v.id,y=(0,s.getNeighbors)(m,t.edges),b=function(i){var r,a=y[i],s=t.nodes.find(function(t){return t.id===a});if(a===m)o.push(((r={})[a]=v,r));else if(a in g){if(!g[m].has(s)){for(var l=!0,u=[s,v],c=p[m];g[a].size&&!g[a].has(c)&&(u.push(c),c!==p[c.id]);)c=p[c.id];if(u.push(c),e&&n?(l=!1,u.findIndex(function(t){return e.indexOf(t.id)>-1})>-1&&(l=!0)):e&&!n&&u.findIndex(function(t){return e.indexOf(t.id)>-1})>-1&&(l=!1),l){for(var h={},d=1;d<u.length;d+=1)h[u[d-1].id]=u[d];u.length&&(h[u[u.length-1].id]=u[0]),o.push(h)}g[a].add(v)}}else p[a]=v,f.push(s),g[a]=new Set([v])},x=0;x<y.length;x+=1)b(x)}return o};e.detectAllUndirectedCycle=u;var c=function(t,e,n){void 0===n&&(n=!0);for(var i=[],r=new Set,o=[],l=[],u={},c={},h=function t(a,s,c){var h=!1;if(e&&!1===n&&e.indexOf(a.id)>-1)return h;i.push(a),r.add(a);for(var d=c[a.id],f=0;f<d.length;f+=1){if((v=u[d[f]])===s){for(var p={},g=1;g<i.length;g+=1)p[i[g-1].id]=i[g];i.length&&(p[i[i.length-1].id]=i[0]),l.push(p),h=!0}else r.has(v)||t(v,s,c)&&(h=!0)}if(h)!function(t){for(var e=[t];e.length>0;){var n=e.pop();r.has(n)&&(r.delete(n),o[n.id].forEach(function(t){e.push(t)}),o[n.id].clear())}}(a);else for(f=0;f<d.length;f+=1){var v=u[d[f]];o[v.id].has(a)||o[v.id].add(a)}return i.pop(),h},d=t.nodes,f=void 0===d?[]:d,p=0;p<f.length;p+=1){var g=f[p],v=g.id;c[v]=p,u[p]=g}if(e&&n){var m=function(t){var n=e[t];c[f[t].id]=c[n],c[n]=0,u[0]=f.find(function(t){return t.id===n}),u[c[f[t].id]]=f[t]};for(p=0;p<e.length;p++)m(p)}for(var y=function(i){for(var r,o,a=1/0,u=0;u<i.length;u+=1)for(var h=i[u],d=0;d<h.length;d++){var f=c[h[d].id];f<a&&(a=f,o=u)}var p=i[o],g=[];for(u=0;u<p.length;u+=1){var v=p[u];g[v.id]=[];for(var m=0,y=(0,s.getNeighbors)(v.id,t.edges,"target").filter(function(t){return p.map(function(t){return t.id}).indexOf(t)>-1});m<y.length;m++){var b=y[m];b!==v.id||!1===n&&e.indexOf(v.id)>-1?g[v.id].push(c[b]):l.push(((r={})[v.id]=v,r))}}return{component:p,adjList:g,minIdx:a}},b=0;b<f.length;){var x=f.filter(function(t){return c[t.id]>=b}),w=(0,a.detectStrongConnectComponents)({nodes:x,edges:t.edges}).filter(function(t){return t.length>1});if(0===w.length)break;var _=y(w),S=_.minIdx,M=_.adjList,C=_.component;if(!(C.length>1))break;C.forEach(function(t){o[t.id]=new Set});var I=u[S];if(e&&n&&-1===e.indexOf(I.id))return l;h(I,I,M),b=S+1}return l};e.detectAllDirectedCycle=c;e.detectAllCycles=function(t,e,n,i){return void 0===i&&(i=!0),e?c(t,n,i):u(t,n,i)};var h=function(t){var e=null,n=t.nodes,i={},r={},a={},s={};(void 0===n?[]:n).forEach(function(t){r[t.id]=t});for(var l={enter:function(t){var n=t.current,o=t.previous;if(a[n]){e={};for(var s=n,l=o;l!==n;)e[s]=l,s=l,l=i[l];e[s]=l}else a[n]=n,delete r[n],i[n]=o},leave:function(t){var e=t.current;s[e]=e,delete a[e]},allowTraversal:function(t){var n=t.next;return!e&&!s[n]}};Object.keys(r).length;){var u=Object.keys(r)[0];(0,o.default)(t,u,l)}return e};e.default=h},UpSf:function(t,e){t.exports="2.1.4"},UuGF:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},V3tA:function(t,e,n){n("R4wc"),t.exports=n("FeBl").Object.assign},V7eP:function(t,e,n){t.exports={EPSILON:n("a3KO"),create:n("KH7G"),clone:n("3h82"),fromValues:n("kU13"),copy:n("1Qj1"),set:n("gJt3"),equals:n("3cyw"),exactEquals:n("G4rE"),add:n("7Mv9"),subtract:n("4ZXS"),sub:n("r2qF"),multiply:n("8CPJ"),mul:n("Xw57"),divide:n("hV/S"),div:n("lWfR"),inverse:n("7u4W"),min:n("KmUV"),max:n("gBsL"),rotate:n("zFdN"),floor:n("+gjU"),ceil:n("13ij"),round:n("Lqgi"),scale:n("Cjnd"),scaleAndAdd:n("YlLA"),distance:n("KKYF"),dist:n("otDv"),squaredDistance:n("/tIZ"),sqrDist:n("1aLP"),length:n("WIrS"),len:n("HYGI"),squaredLength:n("SZG6"),sqrLen:n("rvzb"),negate:n("fWKP"),normalize:n("wYL2"),dot:n("njfc"),cross:n("Mufk"),lerp:n("EgE0"),random:n("vcfl"),transformMat2:n("FAEI"),transformMat2d:n("jfVK"),transformMat3:n("v69v"),transformMat4:n("RKJ2"),forEach:n("Ireu"),limit:n("TndR")}},"VU/8":function(t,e){t.exports=function(t,e,n,i,r,o){var a,s=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(a=t,s=t.default);var u,c="function"==typeof s?s.options:s;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId=r),o?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=u):i&&(u=i),u){var h=c.functional,d=h?c.render:c.beforeCreate;h?(c._injectStyles=u,c.render=function(t,e){return u.call(e),d(t,e)}):c.beforeCreate=d?[].concat(d,u):[u]}return{esModule:a,exports:s,options:c}}},Vvmx:function(t,e,n){(function(t,i){(function(e,n,r){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n,i,r,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function s(t){a(o,i,r,s,l,"next",t)}function l(t){a(o,i,r,s,l,"throw",t)}s(void 0)})}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),i.forEach(function(e){h(t,e,n[e])})}return t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t,e,n){return(g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&p(r,n.prototype),r}).apply(null,arguments)}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){if(t){if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function x(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=y(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r;var w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function _(t,e){return t(e={exports:{}},e.exports),e.exports}var S=_(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),M=_(function(t){var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)}),C=(M.version,function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}),I=function(t,e,n){if(C(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},k=function(t){return"object"==typeof t?null!==t:"function"==typeof t},T=function(t){if(!k(t))throw TypeError(t+" is not an object!");return t},O=function(t){try{return!!t()}catch(t){return!0}},E=!O(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),A=S.document,N=k(A)&&k(A.createElement),L=function(t){return N?A.createElement(t):{}},D=!E&&!O(function(){return 7!=Object.defineProperty(L("div"),"a",{get:function(){return 7}}).a}),j=function(t,e){if(!k(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!k(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!k(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!k(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},P=Object.defineProperty,R={f:E?Object.defineProperty:function(t,e,n){if(T(t),e=j(e,!0),T(n),D)try{return P(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},z=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},B=E?function(t,e,n){return R.f(t,e,z(1,n))}:function(t,e,n){return t[e]=n,t},F={}.hasOwnProperty,G=function(t,e){return F.call(t,e)},V=function(t,e,n){var i,r,o,a=t&V.F,s=t&V.G,l=t&V.S,u=t&V.P,c=t&V.B,h=t&V.W,d=s?M:M[e]||(M[e]={}),f=d.prototype,p=s?S:l?S[e]:(S[e]||{}).prototype;for(i in s&&(n=e),n)(r=!a&&p&&void 0!==p[i])&&G(d,i)||(o=r?p[i]:n[i],d[i]=s&&"function"!=typeof p[i]?n[i]:c&&r?I(o,S):h&&p[i]==o?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(o):u&&"function"==typeof o?I(Function.call,o):o,u&&((d.virtual||(d.virtual={}))[i]=o,t&V.R&&f&&!f[i]&&B(f,i,o)))};V.F=1,V.G=2,V.S=4,V.P=8,V.B=16,V.W=32,V.U=64,V.R=128;var W=V,H={}.toString,U=function(t){return H.call(t).slice(8,-1)},Y=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==U(t)?t.split(""):Object(t)},J=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},Q=function(t){return Y(J(t))},Z=Math.ceil,$=Math.floor,X=function(t){return isNaN(t=+t)?0:(t>0?$:Z)(t)},K=Math.min,q=function(t){return t>0?K(X(t),9007199254740991):0},tt=Math.max,et=Math.min,nt=_(function(t){var e=S["__core-js_shared__"]||(S["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:M.version,mode:"pure",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),it=0,rt=Math.random(),ot=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++it+rt).toString(36))},at=nt("keys"),st=function(t){return at[t]||(at[t]=ot(t))},lt=(!1,function(t,e,n){var i=Q(t),r=q(i.length),o=function(t,e){return(t=X(t))<0?tt(t+e,0):et(t,e)}(n,r);for(0;r>o;o++)if(o in i&&i[o]===e)return o||0;return-1}),ut=st("IE_PROTO"),ct=function(t,e){var n,i=Q(t),r=0,o=[];for(n in i)n!=ut&&G(i,n)&&o.push(n);for(;e.length>r;)G(i,n=e[r++])&&(~lt(o,n)||o.push(n));return o},ht="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),dt=Object.keys||function(t){return ct(t,ht)},ft={f:{}.propertyIsEnumerable},pt=ft.f,gt=function(t){return function(e){for(var n,i=Q(e),r=dt(i),o=r.length,a=0,s=[];o>a;)n=r[a++],E&&!pt.call(i,n)||s.push(t?[n,i[n]]:i[n]);return s}},vt=gt(!1);W(W.S,"Object",{values:function(t){return vt(t)}});var mt=M.Object.values;W(W.S+W.F*!E,"Object",{defineProperty:R.f});var yt,bt=M.Object,xt=function(t,e,n){return bt.defineProperty(t,e,n)},wt=!1;!function(){if(!window.__bk_zIndex_manager){var t={nextZIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return"default"===e?t.zIndex++:e},nextTickIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return"default"===n?(t.zIndex+=e,t.zIndex):n}};xt(t,"zIndex",{configurable:!0,get:function(){return wt||(yt=yt||(n.prototype.$BK_EL||{}).zIndex||2e3,wt=!0),yt},set:function(t){yt=t}}),window.__bk_zIndex_manager=t}}();var _t=window.__bk_zIndex_manager;function St(t,e,n,i){var r,o=!1,a=0;function s(){r&&clearTimeout(r)}function l(){var l=this,u=Date.now()-a,c=arguments;function h(){a=Date.now(),n.apply(l,c)}o||(i&&!r&&h(),s(),void 0===i&&u>t?h():!0!==e&&(r=setTimeout(i?function(){r=void 0}:h,void 0===i?t-u:t)))}return"boolean"!=typeof e&&(i=n,n=e,e=void 0),l.cancel=function(){s(),o=!0},l}function Mt(t,e,n){return void 0===n?St(t,e,!1):St(t,n,!1!==e)}var Ct=function(t,e,n,i,r,o,a,s,l,u){"boolean"!=typeof a&&(l=s,s=a,a=!1);var c,h="function"==typeof n?n.options:n;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,r&&(h.functional=!0)),i&&(h._scopeId=i),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=c):e&&(c=a?function(){e.call(this,u(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),c)if(h.functional){var d=h.render;h.render=function(t,e){return c.call(e),d(t,e)}}else{var f=h.beforeCreate;h.beforeCreate=f?[].concat(f,c):[c]}return n},It=Ct({render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"bk-fade-in-linear"}},[this.visible?e("div",{staticClass:"bk-back-to-top",style:this.positionStyle,on:{click:this.scrollTop}},[this._t("default",[e("i",{staticClass:"bk-icon icon-angle-up-line"})])],2):this._e()])},staticRenderFns:[]},void 0,{name:"bk-back-top",props:{bottom:{type:Number,default:40},right:{type:Number,default:40},target:{type:String,default:""},visibilityHeight:{type:Number,default:200}},data:function(){return{visible:!1,zIndex:0,container:document,el:document.documentElement}},computed:{positionStyle:function(){return"right: ".concat(this.right,"px; bottom: ").concat(this.bottom,"px; z-index: ").concat(this.zIndex)}},watch:{visible:function(t){t&&(this.zIndex=_t.nextTickIndex(2))}},mounted:function(){if(this._lazyScrollHandler=St(30,this.scrollHandler),this.target){if(this.el=document.querySelector(this.target),!this.el)throw new Error("target does not exist");this.container=this.el}this.container.addEventListener("scroll",this._lazyScrollHandler)},methods:{clickHandler:function(){this.$emit("click")},scrollTop:function(){this.el.scrollTo({top:0,behavior:"smooth"})},scrollHandler:function(){this.visible=this.el.scrollTop>=this.visibilityHeight}}},void 0,!1,void 0,!1,void 0,void 0,void 0),kt=function(t){return Object(J(t))},Tt=function(t,e){var n=(M.Object||{})[t]||Object[t],i={};i[t]=e(n),W(W.S+W.F*O(function(){n(1)}),"Object",i)};Tt("keys",function(){return function(t){return dt(kt(t))}});var Ot=M.Object.keys;function Et(t,e){t.install=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.props||{};Ot(i).forEach(function(t){r.hasOwnProperty(t)&&("function"==typeof r[t]||r[t]instanceof Array?r[t]={type:r[t],default:i[t]}:r[t].default=i[t])}),t.name=i.namespace?t.name.replace("bk",i.namespace):t.name,n.component(t.name,t),"function"==typeof e&&e(n,i)}}Et(It);var At=document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!0)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)},Nt=document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!0)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)},Lt=Ct({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"root"},[e("div",{ref:"point",class:{"bk-affix":this.affix},style:this.styles},[this._t("default")],2)])},staticRenderFns:[]},void 0,{name:"bk-affix",props:{offsetTop:{type:Number,default:0},offsetBottom:{type:Number},target:{type:String,default:""},zIndex:{type:Number,default:1e3}},data:function(){return{affix:!1,styles:{}}},computed:{offsetType:function(){var t="top";return this.offsetBottom>=0&&(t="bottom"),t}},mounted:function(){var t=this;this.targetEl=this.target?document.querySelector(this.target):window,this.$refs.point.style.zIndex=this.zIndex,At(this.targetEl,"scroll",this.listenScroll),At(this.targetEl,"resize",this.listenScroll),this.$nextTick(function(){t.handleScroll()})},beforeDestroy:function(){Nt(this.targetEl,"scroll",this.listenScroll),Nt(this.targetEl,"resize",this.listenScroll),Nt(window,"scroll",this.setTargetLoop)},methods:{setTargetLoop:function(){"top"===this.offsetType?this.styles={top:"".concat(this.targetEl.getBoundingClientRect().top+this.offsetTop,"px")}:this.styles={bottom:"".concat(window.innerHeight-this.targetEl.getBoundingClientRect().bottom+this.offsetBottom,"px")}},listenScroll:function(){this.throttle(this.handleScroll,100)},throttle:function(t,e){var n=0,i=null,r=this,o=e-(new Date-n),a=arguments;o<=0?(t.apply.apply(t,[r].concat(m(a))),n=new Date):i||(i=setTimeout(function(){clearTimeout(i),i=null,t.apply.apply(t,[r].concat(m(a))),n=new Date},o))},getOffset:function(t){var e=t.getBoundingClientRect(),n=this.targetEl===window?{top:0,left:0}:this.targetEl.getBoundingClientRect(),i=this.targetEl.clientTop||0,r=this.targetEl.clientLeft||0;return{top:e.top-n.top-i,left:e.left-n.left-r}},handleScroll:function(){var t=this.targetEl===window?{top:0,left:0,bottom:window.innerHeight}:this.targetEl.getBoundingClientRect(),e=this.getOffset(this.$refs.root),n=this.targetEl===window?this.targetEl.innerHeight:this.targetEl.clientHeight,i=this.$refs.point.offsetHeight;e.top<this.offsetTop&&"top"===this.offsetType&&!this.affix?(this.affix=!0,this.styles={position:"fixed",top:"".concat(t.top+this.offsetTop,"px"),left:"".concat(t.left+e.left,"px"),width:"".concat(this.$el.offsetWidth,"px")},this.targetEl!==window&&At(window,"scroll",this.setTargetLoop),this.$emit("change",!0)):e.top>this.offsetTop&&"top"===this.offsetType&&this.affix&&(this.affix=!1,this.styles=null,this.$emit("change",!1)),e.top+this.offsetBottom+i>n&&"bottom"===this.offsetType&&!this.affix?(this.affix=!0,this.styles={bottom:"".concat(window.innerHeight-t.bottom+this.offsetBottom,"px"),left:"".concat(t.left+e.left,"px"),width:"".concat(this.$el.offsetWidth,"px")},this.targetEl!==window&&At(window,"scroll",this.setTargetLoop),this.$emit("change",!0)):e.top+this.offsetBottom+i<n&&"bottom"===this.offsetType&&this.affix&&(this.affix=!1,this.styles=null,this.$emit("change",!1))}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Lt);var Dt=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-fixed-navbar-wrapper",class:[t.extCls,t.position],style:{zIndex:t.localZIndex}},t._l(t.navConfig,function(e,i){return n("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.tooltip,expression:"item.tooltip"}],key:i,staticClass:"fixed-navbar-item",on:{click:e.action}},[n("i",{class:["bk-icon",e.icon]}),n("span",{staticClass:"text"},[t._v(t._s(e.text))])])}),0)},staticRenderFns:[]},void 0,{name:"bk-fixed-navbar",props:{navItems:{type:Array,default:function(){return[]}},extCls:{type:String,default:""},position:{type:String,default:"middle"}},data:function(){return{localZIndex:_t.nextTickIndex(2)}},computed:{navConfig:function(){return this.navItems.map(function(t){return d({tooltip:{disabled:!0},action:function(){}},t)})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function jt(t){return t&&"object"===o(t)&&t.hasOwnProperty("componentOptions")}function Pt(t,e,n){t&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n)}function Rt(t,e,n){t&&(t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null)}function zt(t,e){return t.$children.reduce(function(t,n){n.$options.name===e&&t.push(n);var i=zt(n,e);return t.concat(i)},[])}Et(Dt),window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;var Bt=/([\:\-\_]+(.))/g,Ft=/^moz([A-Z])/,Gt=function(t){return t.replace(Bt,function(t,e,n,i){return i?n.toUpperCase():n}).replace(Ft,"Moz$1")};function Vt(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}function Wt(t,e){if(t){for(var n=t.className,i=(e||"").split(" "),r=0,o=i.length;r<o;r++){var a=i[r];a&&(t.classList?t.classList.add(a):Vt(t,a)||(n+=" "+a))}t.classList||(t.className=n)}}function Ht(t,e){if(t&&e){for(var n=e.split(" "),i=" "+t.className+" ",r=0,o=n.length;r<o;r++){var a=n[r];a&&(t.classList?t.classList.remove(a):Vt(t,a)&&(i=i.replace(" "+a+" "," ")))}t.classList||(t.className=(i||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))}}var Ut=Number(document.documentMode)<9?function(t,e){if(!t||!e)return null;"float"===(e=Gt(e))&&(e="styleFloat");try{switch(e){case"opacity":try{return t.filters.item("alpha").opacity/100}catch(t){return 1}default:return t.style[e]||t.currentStyle?t.currentStyle[e]:null}}catch(n){return t.style[e]}}:function(t,e){if(!t||!e)return null;"float"===(e=Gt(e))&&(e="cssFloat");try{var n=document.defaultView.getComputedStyle(t,"");return t.style[e]||n?n[e]:null}catch(n){return t.style[e]}},Yt={beforeEnter:function(t){Wt(t,"collapse-transition"),t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height="0",t.style.paddingTop=0,t.style.paddingBottom=0},enter:function(t){t.dataset.oldOverflow=t.style.overflow,0!==t.scrollHeight?(t.style.height=t.scrollHeight+"px",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom):(t.style.height="",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom),t.style.overflow="hidden"},afterEnter:function(t){Ht(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow},beforeLeave:function(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.height=t.scrollHeight+"px",t.style.overflow="hidden"},leave:function(t){0!==t.scrollHeight&&(Wt(t,"collapse-transition"),t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave:function(t){Ht(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom}},Jt={name:"CollapseTransition",functional:!0,render:function(t,e){var n=e.children;return t("transition",{on:Yt},n)}},Qt=Ct({render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{staticClass:"bk-transition",attrs:{name:this.transitionName}},["collapse"===this.name?e("CollapseTransition",[this._t("default")],2):this._t("default")],2)},staticRenderFns:[]},void 0,{name:"bk-transition",components:{CollapseTransition:Jt},props:{name:{type:String,default:""},durationTime:{type:String,default:".3s"},durationType:{type:String,default:"linear"}},computed:{transitionName:function(){return this.isCollapse?"":this.name},isCollapse:function(){return"collapse"===this.name}},mounted:function(){var t=this.getSlot();t.elm.style.transitionDuration=this.durationTime,t.elm.style.transitionTimingFunction=this.durationType},methods:{getSlot:function(){return this.$slots.default[0]}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Qt);var Zt=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"bk-alert-leave"},on:{"before-leave":t.beforeLeave,leave:t.leave,"after-leave":t.afterLeave}},[t.visible?n("div",{staticClass:"bk-alert",class:t.typeClass},[n("div",{staticClass:"bk-alert-wraper"},[t.showIcon?n("i",{staticClass:"bk-icon icon-info"}):t._e(),n("div",{staticClass:"bk-alert-content"},[n("div",{staticClass:"bk-alert-title"},[t._t("title",[t._v("\n            "+t._s(t.title)+"\n          ")])],2),n("div",{staticClass:"bk-alert-description"})]),t.closable?n("span",{staticClass:"bk-alert-close",class:t.closeClasses,on:{click:t.handleClose}},[t._v(t._s(t.closeText))]):t._e()])]):t._e()])},staticRenderFns:[]},void 0,{name:"bk-alert",props:{type:{type:String,default:"info"},title:{type:String,default:""},closable:{type:Boolean,default:!1},closeText:{type:String},showIcon:{type:Boolean,default:!0}},data:function(){return{visible:!0}},computed:{typeClass:function(){return"bk-alert-".concat(this.type)},closeClasses:function(){var t={};return this.closeText?t["close-text"]=!0:(t["bk-icon"]=!0,t["icon-close"]=!0),t}},methods:{beforeLeave:function(t){var e=t.getBoundingClientRect().height;t.style.height="".concat(e,"px")},leave:function(t){setTimeout(function(){t.style.height=0})},afterLeave:function(t){t.style.height=""},handleClose:function(){this.visible=!1,this.$emit("close")}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Zt),W(W.S,"Number",{isNaN:function(t){return t!=t}});var $t=M.Number.isNaN,Xt=Ct({render:function(){var t=this.$createElement;return(this._self._c||t)("span",{class:this.extCls},[this._v(this._s(this.formatValue))])},staticRenderFns:[]},void 0,{name:"bk-animate-number",props:{value:{type:Number,required:!0},digits:{type:Number,default:0},extCls:{type:String,default:""}},data:function(){return{tweeningValue:0,rafId:""}},computed:{formatValue:function(){return Number(this.tweeningValue).toFixed(this.digits)}},watch:{value:function(t,e){this.tween(e,t)}},mounted:function(){this.tween(0,this.value)},beforeDestroy:function(){cancelAnimationFrame(this.rafId)},methods:{tween:function(t,e){var n=this;if($t(+e))return 0;var i=Math.abs(e-t),r=e-t>0?1:-1,o=Math.ceil(i/30*Math.pow(10,this.digits))/Math.pow(10,this.digits),a=25/Math.ceil(i/o),s=1;!function t(){if(s<a)return n.rafId=requestAnimationFrame(t),void s++;n.tweeningValue+=o*r,(1===r?n.tweeningValue<e:n.tweeningValue>e)?(n.rafId=requestAnimationFrame(t),s=1):n.tweeningValue=e}()}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Xt);var Kt=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-badge-wrapper",class:t.extCls,style:{"vertical-align":t.$slots.default?"middle":"",cursor:t.icon?"pointer":""}},[t._t("default"),n("transition",{attrs:{name:"fade-center"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"bk-badge",class:t.badgeClass,style:t.badgeStyle,on:{mouseenter:t.handleHover,mouseleave:t.handleLeave}},[t.icon&&!t.dot?n("i",{staticClass:"bk-icon",class:"icon-"+t.icon}):t._e(),t.icon||t.dot?t._e():n("span",[t._v(t._s(t.text))])])])],2)},staticRenderFns:[]},void 0,{name:"bk-badge",props:{theme:{type:String,default:"",validator:function(t){return["","primary","info","warning","danger","success"].indexOf(t)>-1||0===t.indexOf("#")}},val:{type:[Number,String],default:1},valLength:{type:[Number,String],default:3},icon:{type:String,default:""},max:{type:Number,default:-1},dot:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},position:{type:String,default:"top-right"},radius:{type:[String,Number],default:void 0},extCls:{type:String,default:""}},computed:{text:function(){var t=this,e=o(this.val),n=this.max,i=this.val,r=this.icon,a="number"===e||/^\d+$/.test(this.val);if(r)return r;if(a&&n>-1&&Number(i)>n)return n+"+";var s=[],l=0;return(i+="").split("").forEach(function(e){l<Number(t.valLength)&&(l+=/[\u4e00-\u9fa5]/.test(e)?2:1,s.push(e))}),s.join("")},hexTheme:function(){return/^#[0-9a-fA-F]{3,6}$/.test(this.theme)},badgeStyle:function(){var t=void 0!==this.radius&&/^\d+(%|px|em|rem|vh|vw)?$/.test(this.radius),e=t&&/^\d+$/.test(this.radius)&&"".concat(this.radius,"px")||this.radius,n=this.icon&&{color:this.theme||"",borderColor:"transparent",backgroundColor:"#fff"}||{color:this.hexTheme?"#fff":"",backgroundColor:this.hexTheme?this.theme:"",borderColor:this.hexTheme?this.theme:"",borderWidth:this.dot?"1px":"2px"};return t&&d(n,{borderRadius:e}),n},badgeClass:function(){return[this.theme&&!this.hexTheme?"bk-"+this.theme:"",this.$slots.default?this.position:"",{pinned:this.$slots.default,dot:this.dot,"is-icon":!!this.icon}]}},methods:{handleHover:function(){this.$emit("hover")},handleLeave:function(){this.$emit("leave")}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Kt);var qt=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",t._b({class:[t.buttonCls,t.extCls],attrs:{title:t.title,disabled:t.disabled,type:t.nativeType},on:{click:t.handleClick}},"button",t.$attrs,!1),[t.loading?n("div",{staticClass:"bk-button-loading"},[n("div",{staticClass:"bounce1"}),n("div",{staticClass:"bounce2"}),n("div",{staticClass:"bounce3"}),n("div",{staticClass:"bounce4"})]):t._e(),n("div",{class:t.loading?"bk-loading-wrapper":""},[t.iconType?n("i",{staticClass:"bk-icon left-icon",class:["icon-"+t.iconType,"loading"===t.iconType?"bk-button-icon-loading":""]},["loading"===t.iconType?[n("span",{staticClass:"loading"})]:t._e()],2):t._e(),n("span",[t._t("default")],2),t.iconRightType?n("i",{staticClass:"bk-icon right-icon",class:["icon-"+t.iconRightType,"loading"===t.iconRightType?"bk-button-icon-loading":""]},["loading"===t.iconRightType?[n("span",{staticClass:"loading"})]:t._e()],2):t._e()])])},staticRenderFns:[]},void 0,{name:"bk-button",props:{theme:{type:String,default:"default",validator:function(t){return!(["default","primary","warning","success","danger"].indexOf(t)<0&&(console.error("theme property is not valid: '".concat(t,"'")),1))}},hoverTheme:{type:String,default:"",validator:function(t){return!(["","primary","warning","success","danger"].indexOf(t)<0&&(console.error("hoverTheme property is not valid: '".concat(t,"'")),1))}},size:{type:String,default:"normal",validator:function(t){return!(["small","normal","large"].indexOf(t)<0&&(console.error("size property is not valid: '".concat(t,"'")),1))}},title:{type:String,default:""},icon:String,iconRight:String,disabled:Boolean,loading:Boolean,outline:Boolean,text:Boolean,nativeType:{type:String,default:"button"},extCls:{type:String,default:""}},data:function(){return{showSlot:!0}},computed:{iconType:function(){var t=this.icon||"";return t&&0===t.indexOf("icon")&&(t=t.replace(/^(icon-)/,"")),t},iconRightType:function(){var t=this.iconRight||"";return t&&0===t.indexOf("icon")&&(t=t.replace(/^(icon-)/,"")),t},themeType:function(){return this.text&&"default"===this.theme?"primary":this.theme},buttonCls:function(){return["bk-".concat(this.themeType),"bk-button-".concat(this.size),this.hoverTheme?"bk-button-hover bk-".concat(this.hoverTheme):this.text?"bk-button-text":"bk-button",this.disabled?"is-disabled":"",this.loading?"is-loading":"",this.outline?"is-outline":"",this.showSlot?"":"no-slot"]}},mounted:function(){this.showSlot=void 0!==this.$slots.default},methods:{handleClick:function(t){this.disabled||this.loading||(this.$emit("click",t),this.$el.blur())}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(qt);var te=_(function(t){var e=function(t){var e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var r=e&&e.prototype instanceof h?e:h,o=Object.create(r.prototype),a=new S(i||[]);return o._invoke=function(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=u(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var c={};function h(){}function d(){}function f(){}var p={};s(p,r,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g(M([])));v&&v!==e&&n.call(v,r)&&(p=v);var m=f.prototype=h.prototype=Object.create(p);function y(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var i;this._invoke=function(r,o){function a(){return new e(function(i,a){!function i(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then(function(t){i("next",t,a,s)},function(t){i("throw",t,a,s)}):e.resolve(h).then(function(t){c.value=t,a(c)},function(t){return i("throw",t,a,s)})}s(l.arg)}(r,o,i,a)})}return i=i?i.then(a,a):a()}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var i=u(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,c;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function M(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=f,s(m,"constructor",f),s(f,"constructor",d),d.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new b(l(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(m),s(m,a,"Generator"),s(m,r,function(){return this}),s(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=M,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;_(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:M(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}),ee={methods:{dispatch:function(t,e,n){for(var i=this.$parent||this.$root,r=i.$options.name;i&&(!r||r!==t);)(i=i.$parent)&&(r=i.$options.name);i&&i.$emit.apply(i,[e].concat(n))}}},ne=0,ie=0,re=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"bk-form-checkbox",class:[{"is-disabled":t.disabled,"is-indeterminate":t.indeterminate,"is-checked":t.selected},t.extCls],on:{click:t.handleClick,keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.handleClick(e)):null}}},[n("span",{staticClass:"bk-checkbox",attrs:{tabindex:!t.disabled&&0}}),n("input",{attrs:{type:"hidden",name:t.name},domProps:{value:void 0===t.label?t.localValue:t.label}}),t.$slots.default?n("span",{staticClass:"bk-checkbox-text"},[t._t("default")],2):t._e()])},staticRenderFns:[]},void 0,{name:"bk-checkbox",mixins:[ee],inject:{handleRemoveItem:{default:null},handleAddItem:{default:null}},props:{value:{type:[String,Number,Boolean],default:void 0},checked:{type:Boolean,default:void 0},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number]},name:{type:String,default:function(){return"bk-checkbox_".concat(ne++)}},disabled:Boolean,indeterminate:Boolean,extCls:{type:String,default:""},beforeChange:Function},data:function(){return{parent:null,localValue:void 0}},computed:{selected:function(){return this.localValue===this.localTrueValue},parentValue:function(){return this.parent?this.parent.localValue:null},localTrueValue:function(){return this.parent?void 0===this.label&&void 0===this.value?this.trueValue:void 0!==this.value?this.value:this.label:void 0===this.label?this.trueValue:this.label}},watch:{value:function(t){this.setLocalValue(t)},checked:function(){this.setLocalValue()},parentValue:function(){this.setLocalValue()}},created:function(){this.handleAddItem&&"function"==typeof this.handleAddItem&&this.handleAddItem(this),this.init()},destroyed:function(){this.handleRemoveItem&&"function"==typeof this.handleRemoveItem&&this.handleRemoveItem(this)},methods:{getValue:function(){return this.selected?{isChecked:!0,value:this.localTrueValue}:{isChecked:!1,value:this.falseValue}},init:function(){for(var t=this.$parent;t&&!t.isCheckboxGroup&&"bk-checkbox-group"!==!t.$options.name;)t=t.$parent;this.parent=t,this.setLocalValue()},setLocalValue:function(t){if(void 0===t)if(this.parent){var e=this.localTrueValue,n=this.parent.localValue.includes(e);this.localValue=n?e:this.falseValue}else void 0!==this.checked?this.localValue=this.checked?this.localTrueValue:this.falseValue:void 0===this.value?this.localValue=this.falseValue:this.localValue=this.value;else this.localValue=t},handleClick:function(){var t=this;return s(te.mark(function e(){var n,i,r;return te.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.disabled){e.next=2;break}return e.abrupt("return",!1);case 2:if("function"!=typeof t.beforeChange){e.next=8;break}return e.next=5,t.beforeChange();case 5:if(!1!==e.sent){e.next=8;break}return e.abrupt("return");case 8:n=t.localValue,i=t.indeterminate?t.localTrueValue:n===t.localTrueValue?t.falseValue:t.localTrueValue,t.localValue=i,t.$emit("input",i,t.localTrueValue),t.$emit("change",i,n,t.localTrueValue),t.dispatch("bk-form-item","form-change"),t.parent&&(r=void 0===t.localTrueValue?i:t.localTrueValue,t.parent.handleChange(t.selected,r));case 15:case"end":return e.stop()}},e)}))()}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(re);var oe=Ct({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"bk-form-control",attrs:{name:this.name}},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"bk-checkbox-group",provide:function(){return{handleAddItem:this.handleAddItem,handleRemoveItem:this.handleRemoveItem}},props:{value:{type:Array,default:function(){return[]}},name:{type:[String,Number],default:function(){return"bk-checkbox-group_".concat(ie++)}}},data:function(){return{checkboxItems:[],isCheckboxGroup:!0,localValue:m(this.value)}},watch:{value:function(t){this.localValue=m(t)}},methods:{handleAddItem:function(t){t&&!this.checkboxItems.includes(t)&&this.checkboxItems.push(t)},handleRemoveItem:function(t){var e=this.checkboxItems.indexOf(t);e>-1&&this.checkboxItems.splice(e,1)},handleChange:function(t,e){var n=m(this.localValue),i=[];this.checkboxItems.forEach(function(t){var e=t.getValue();e.isChecked&&i.push(e.value)}),this.localValue=i,this.$emit("input",this.localValue),this.$emit("change",this.localValue,n)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(oe);var ae=Array.isArray||function(t){return"Array"==U(t)};W(W.S,"Array",{isArray:ae});var se=M.Array.isArray,le=Ct({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"bk-collapse",class:this.extCls},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"bk-collapse",provide:function(){return{collapse:this}},props:{accordion:{type:Boolean,default:!1},value:{type:[Array,String]},extCls:{type:String,default:""}},data:function(){return{currentActive:[]}},watch:{value:{handler:function(t){se(t)?this.currentActive=t.map(function(t){return"".concat(t)}):this.currentActive=void 0!==t?["".concat(t)]:[]},immediate:!0}},created:function(){var t=this;this.itemList=[],this.$on("inject",function(e){t.itemList.push(e)}),this.$on("item-toggle",this.itemToggle)},methods:{itemToggle:function(t){if(this.accordion)this.currentActive=this.currentActive.length&&this.currentActive[0]===t.name?[]:[t.name];else{var e=this.currentActive.indexOf(t.name);e>-1?this.currentActive.splice(e,1):this.currentActive.push(t.name)}this.$emit("input",this.currentActive),this.$emit("item-click",this.currentActive)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(le);var ue=Ct({render:function(){var t,e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"bk-collapse-item",class:(t={"bk-collapse-item-active":e.isActive,"is-disabled":e.disabled},t[e.extCls]=!0,t)},[e.customTriggerArea?i("div",{staticClass:"bk-collapse-item-header custom-trigger-layout"},[i("div",{staticClass:"trigger-area bk-collapse-item-hover cursor-pointer",on:{click:e.toggle}},[e._t("default")],2),i("div",{staticClass:"no-trigger-area"},[e._t("no-trigger")],2),i("span",{staticClass:"custom-trigger-angle",class:{"collapse-expand":e.isActive},on:{click:e.toggle}},[e.hideArrow?e._e():i("i",{staticClass:"bk-icon icon-angle-right"})])]):i("div",{staticClass:"bk-collapse-item-header bk-collapse-item-hover cursor-pointer",on:{click:e.toggle}},[i("span",{staticClass:"fr",class:{"collapse-expand":e.isActive}},[e.hideArrow?e._e():i("i",{staticClass:"bk-icon icon-angle-right"})]),e._t("icon"),e._t("default")],2),e.calcRender?[i("transition",{attrs:{name:"collapse"},on:{"before-enter":e.beforeEnter,enter:e.enter,"after-enter":e.afterEnter,"before-leave":e.beforeLeave,leave:e.leave,"after-leave":e.afterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive&&e.isShow,expression:"isActive && isShow"}],staticClass:"bk-collapse-item-content"},[i("div",{staticClass:"bk-collapse-item-detail"},[e._t("content")],2)])])]:e._e()],2)},staticRenderFns:[]},void 0,{name:"bk-collapse-item",inject:["collapse"],props:{customTriggerArea:{type:Boolean,default:!1},name:{type:String},hideArrow:{type:Boolean,default:!1},extCls:{type:String,default:""},contentHiddenType:{type:String,default:"none"},disabled:{type:Boolean,default:!1}},data:function(){return{index:0,isRender:!1,isShow:!1}},computed:{calcRender:function(){return"hidden"===this.contentHiddenType||this.isRender},isActive:function(){return this.collapse.currentActive.includes(this.name)}},watch:{isActive:{handler:function(t){var e=this;t&&(this.isRender||(this.isRender=!0,this.$nextTick(function(){e.isShow=!0})))},immediate:!0}},created:function(){this.collapse.$emit("inject",this)},methods:{toggle:function(){this.disabled||this.collapse.$emit("item-toggle",this)},beforeEnter:function(t){this.$emit("before-enter"),Wt(t,"collapse-transition"),t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height="0",t.style.paddingTop=0,t.style.paddingBottom=0},enter:function(t){t.dataset.oldOverflow=t.style.overflow,0!==t.scrollHeight?(t.style.height=t.scrollHeight+"px",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom):(t.style.height="",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom),t.style.overflow="hidden"},afterEnter:function(t){Ht(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow},beforeLeave:function(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.height=t.scrollHeight+"px",t.style.overflow="hidden"},leave:function(t){0!==t.scrollHeight&&(Wt(t,"collapse-transition"),t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave:function(t){this.$emit("after-leave"),Ht(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(ue);for(var ce="undefined"!=typeof window&&"undefined"!=typeof document,he=["Edge","Trident","Firefox"],de=0,fe=0;fe<he.length;fe+=1)if(ce&&navigator.userAgent.indexOf(he[fe])>=0){de=1;break}var pe=ce&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},de))}};function ge(t){return t&&"[object Function]"==={}.toString.call(t)}function ve(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function me(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function ye(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=ve(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:ye(me(t))}var be=ce&&!(!window.MSInputMethodContext||!document.documentMode),xe=ce&&/MSIE 10/.test(navigator.userAgent);function we(t){return 11===t?be:10===t?xe:be||xe}function _e(t){if(!t)return document.documentElement;for(var e=we(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===ve(n,"position")?_e(n):n:t?t.ownerDocument.documentElement:document.documentElement}function Se(t){return null!==t.parentNode?Se(t.parentNode):t}function Me(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var a,s,l=o.commonAncestorContainer;if(t!==l&&e!==l||i.contains(r))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&_e(a.firstElementChild)!==a?_e(l):l;var u=Se(t);return u.host?Me(u.host,e):Me(t,Se(e).host)}function Ce(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function Ie(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function ke(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],we(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function Te(t){var e=t.body,n=t.documentElement,i=we(10)&&getComputedStyle(n);return{height:ke("Height",e,n,i),width:ke("Width",e,n,i)}}var Oe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ee=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ae=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Ne=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function Le(t){return Ne({},t,{right:t.left+t.width,bottom:t.top+t.height})}function De(t){var e={};try{if(we(10)){e=t.getBoundingClientRect();var n=Ce(t,"top"),i=Ce(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?Te(t.ownerDocument):{},a=o.width||t.clientWidth||r.right-r.left,s=o.height||t.clientHeight||r.bottom-r.top,l=t.offsetWidth-a,u=t.offsetHeight-s;if(l||u){var c=ve(t);l-=Ie(c,"x"),u-=Ie(c,"y"),r.width-=l,r.height-=u}return Le(r)}function je(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=we(10),r="HTML"===e.nodeName,o=De(t),a=De(e),s=ye(t),l=ve(e),u=parseFloat(l.borderTopWidth,10),c=parseFloat(l.borderLeftWidth,10);n&&r&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var h=Le({top:o.top-a.top-u,left:o.left-a.left-c,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!i&&r){var d=parseFloat(l.marginTop,10),f=parseFloat(l.marginLeft,10);h.top-=u-d,h.bottom-=u-d,h.left-=c-f,h.right-=c-f,h.marginTop=d,h.marginLeft=f}return(i&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Ce(e,"top"),r=Ce(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(h,e)),h}function Pe(t){if(!t||!t.parentElement||we())return document.documentElement;for(var e=t.parentElement;e&&"none"===ve(e,"transform");)e=e.parentElement;return e||document.documentElement}function Re(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=r?Pe(t):Me(t,e);if("viewport"===i)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=je(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:Ce(n),s=e?0:Ce(n,"left");return Le({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:o})}(a,r);else{var s=void 0;"scrollParent"===i?"BODY"===(s=ye(me(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===i?t.ownerDocument.documentElement:i;var l=je(s,a,r);if("HTML"!==s.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===ve(e,"position"))return!0;var i=me(e);return!!i&&t(i)}(a))o=l;else{var u=Te(t.ownerDocument),c=u.height,h=u.width;o.top+=l.top-l.marginTop,o.bottom=c+l.top,o.left+=l.left-l.marginLeft,o.right=h+l.left}}var d="number"==typeof(n=n||0);return o.left+=d?n:n.left||0,o.top+=d?n:n.top||0,o.right-=d?n:n.right||0,o.bottom-=d?n:n.bottom||0,o}function ze(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=Re(n,i,o,r),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map(function(t){return Ne({key:t},s[t],{area:function(t){return t.width*t.height}(s[t])})}).sort(function(t,e){return e.area-t.area}),u=l.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),c=u.length>0?u[0].key:l[0].key,h=t.split("-")[1];return c+(h?"-"+h:"")}function Be(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return je(n,i?Pe(e):Me(e,n),i)}function Fe(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function Ge(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function Ve(t,e,n){n=n.split("-")[0];var i=Fe(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return r[a]=e[a]+e[l]/2-i[l]/2,r[s]=n===s?e[s]-i[u]:e[Ge(s)],r}function We(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function He(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=We(t,function(t){return t[e]===n});return t.indexOf(i)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&ge(n)&&(e.offsets.popper=Le(e.offsets.popper),e.offsets.reference=Le(e.offsets.reference),e=n(e,t))}),e}function Ue(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function Ye(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function Je(t){var e=t.ownerDocument;return e?e.defaultView:window}function Qe(){this.state.eventsEnabled||(this.state=function(t,e,n,i){n.updateBound=i,Je(t).addEventListener("resize",n.updateBound,{passive:!0});var r=ye(t);return function t(e,n,i,r){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(n,i,{passive:!0}),o||t(ye(a.parentNode),n,i,r),r.push(a)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}(this.reference,this.options,this.state,this.scheduleUpdate))}function Ze(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function $e(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Ze(e[n])&&(i="px"),t.style[n]=e[n]+i})}var Xe=ce&&/Firefox/i.test(navigator.userAgent);function Ke(t,e,n){var i=We(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var qe=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],tn=qe.slice(3);function en(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=tn.indexOf(t),i=tn.slice(n+1).concat(tn.slice(0,n));return e?i.reverse():i}var nn={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:Ae({},l,o[l]),end:Ae({},l,o[l]+o[u]-a[u])};t.offsets.popper=Ne({},a,c[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n,i=e.offset,r=t.placement,o=t.offsets,a=o.popper,s=o.reference,l=r.split("-")[0];return n=Ze(+i)?[+i,0]:function(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(We(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(u=u.map(function(t,i){var r=(1===i?!o:o)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],a=r[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}return Le(s)[e]/100*o}return"vh"===a||"vw"===a?("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){Ze(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}(i,a,s,l),"left"===l?(a.top+=n[0],a.left-=n[1]):"right"===l?(a.top+=n[0],a.left+=n[1]):"top"===l?(a.left+=n[0],a.top-=n[1]):"bottom"===l&&(a.left+=n[0],a.top+=n[1]),t.popper=a,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||_e(t.instance.popper);t.instance.reference===n&&(n=_e(n));var i=Ye("transform"),r=t.instance.popper.style,o=r.top,a=r.left,s=r[i];r.top="",r.left="",r[i]="";var l=Re(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=a,r[i]=s,e.boundaries=l;var u=e.priority,c=t.offsets.popper,h={primary:function(t){var n=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(c[t],l[t])),Ae({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=c[n];return c[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(c[n],l[t]-("right"===t?c.width:c.height))),Ae({},n,i)}};return u.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=Ne({},c,h[e](t))}),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",l=a?"left":"top",u=a?"width":"height";return n[s]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[u]),n[l]>o(i[s])&&(t.offsets.popper[l]=o(i[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!Ke(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,a=o.popper,s=o.reference,l=-1!==["left","right"].indexOf(r),u=l?"height":"width",c=l?"Top":"Left",h=c.toLowerCase(),d=l?"left":"top",f=l?"bottom":"right",p=Fe(i)[u];s[f]-p<a[h]&&(t.offsets.popper[h]-=a[h]-(s[f]-p)),s[h]+p>a[f]&&(t.offsets.popper[h]+=s[h]+p-a[f]),t.offsets.popper=Le(t.offsets.popper);var g=s[h]+s[u]/2-p/2,v=ve(t.instance.popper),m=parseFloat(v["margin"+c],10),y=parseFloat(v["border"+c+"Width"],10),b=g-t.offsets.popper[h]-m-y;return b=Math.max(Math.min(a[u]-p,b),0),t.arrowElement=i,t.offsets.arrow=(Ae(n={},h,Math.round(b)),Ae(n,d,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(Ue(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=Re(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=Ge(i),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case"flip":a=[i,r];break;case"clockwise":a=en(i);break;case"counterclockwise":a=en(i,!0);break;default:a=e.behavior}return a.forEach(function(s,l){if(i!==s||a.length===l+1)return t;i=t.placement.split("-")[0],r=Ge(i);var u=t.offsets.popper,c=t.offsets.reference,h=Math.floor,d="left"===i&&h(u.right)>h(c.left)||"right"===i&&h(u.left)<h(c.right)||"top"===i&&h(u.bottom)>h(c.top)||"bottom"===i&&h(u.top)<h(c.bottom),f=h(u.left)<h(n.left),p=h(u.right)>h(n.right),g=h(u.top)<h(n.top),v=h(u.bottom)>h(n.bottom),m="left"===i&&f||"right"===i&&p||"top"===i&&g||"bottom"===i&&v,y=-1!==["top","bottom"].indexOf(i),b=!!e.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&g||!y&&"end"===o&&v),x=!!e.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&v||!y&&"end"===o&&g),w=b||x;(d||m||w)&&(t.flipped=!0,(d||m)&&(i=a[l+1]),w&&(o="end"===o?"start":"start"===o?"end":o),t.placement=i+(o?"-"+o:""),t.offsets.popper=Ne({},t.offsets.popper,Ve(t.instance.popper,t.offsets.reference,t.placement)),t=He(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=o[n]-(s?r[a?"width":"height"]:0),t.placement=Ge(e),t.offsets.popper=Le(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!Ke(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=We(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=We(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,s,l=void 0!==o?o:e.gpuAcceleration,u=_e(t.instance.popper),c=De(u),h={position:r.position},d=function(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=Math.round,a=Math.floor,s=function(t){return t},l=o(r.width),u=o(i.width),c=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),d=e?c||h||l%2==u%2?o:a:s,f=e?o:s;return{left:d(l%2==1&&u%2==1&&!h&&e?i.left-1:i.left),top:f(i.top),bottom:f(i.bottom),right:d(i.right)}}(t,window.devicePixelRatio<2||!Xe),f="bottom"===n?"top":"bottom",p="right"===i?"left":"right",g=Ye("transform");if(s="bottom"===f?"HTML"===u.nodeName?-u.clientHeight+d.bottom:-c.height+d.bottom:d.top,a="right"===p?"HTML"===u.nodeName?-u.clientWidth+d.right:-c.width+d.right:d.left,l&&g)h[g]="translate3d("+a+"px, "+s+"px, 0)",h[f]=0,h[p]=0,h.willChange="transform";else{var v="bottom"===f?-1:1,m="right"===p?-1:1;h[f]=s*v,h[p]=a*m,h.willChange=f+", "+p}var y={"x-placement":t.placement};return t.attributes=Ne({},y,t.attributes),t.styles=Ne({},h,t.styles),t.arrowStyles=Ne({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return $e(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&$e(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=Be(r,e,t,n.positionFixed),a=ze(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),$e(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},rn=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Oe(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=pe(this.update.bind(this)),this.options=Ne({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Ne({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=Ne({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return Ne({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&ge(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return Ee(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=Be(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=ze(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=Ve(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=He(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,Ue(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Ye("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return Qe.call(this)}},{key:"disableEventListeners",value:function(){return function(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,Je(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}.call(this)}}]),t}();rn.Utils=("undefined"!=typeof window?window:t).PopperUtils,rn.placements=qe,rn.Defaults=nn;var on=Ct({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"bk-date-picker-dropdown",class:[this.className,this.extPopoverCls],style:this.styles},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"DatePickerDropdown",props:{placement:{type:String,default:"bottom-start"},className:{type:String},extPopoverCls:{type:String},transfer:{type:Boolean}},data:function(){return{popper:null,popperStatus:!1,tIndex:this.handleGetIndex()}},computed:{styles:function(){var t={};return this.transfer&&(t["z-index"]=1060+this.tIndex),t}},created:function(){this.$on("on-update-popper",this.update),this.$on("on-destroy-popper",this.destroy)},beforeDestroy:function(){this.popper&&this.popper.destroy()},methods:{update:function(){var t=this;this.popper?this.$nextTick(function(){t.popper.update(),t.popperStatus=!0}):this.$nextTick(function(){t.popper=new rn(t.$parent.$refs.reference,t.$el,{placement:t.placement,modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}},onCreate:function(){t.resetTransformOrigin(),t.$nextTick(t.popper.update())},onUpdate:function(){t.resetTransformOrigin()}})}),this.tIndex=this.handleGetIndex()},destroy:function(){var t=this;this.popper&&setTimeout(function(){t.popper&&!t.popperStatus&&(t.popper.destroy(),t.popper=null),t.popperStatus=!1},300)},resetTransformOrigin:function(){if(this.popper){var t=this.popper.popper.getAttribute("x-placement"),e=t.split("-")[0],n=t.split("-")[1];"left"===t||"right"===t||(this.popper.popper.style.transformOrigin="bottom"===e||"top"!==e&&"start"===n?"center top":"center bottom")}},handleGetIndex:function(){return _t.nextZIndex()}}},void 0,!1,void 0,!1,void 0,void 0,void 0),an=_(function(t){!function(e){var n=/^\s+/,i=/\s+$/,r=0,o=e.round,a=e.min,s=e.max,l=e.random;function u(t,l){if(l=l||{},(t=t||"")instanceof u)return t;if(!(this instanceof u))return new u(t,l);var c=function(t){var r,o,l,u={r:0,g:0,b:0},c=1,h=null,d=null,f=null,p=!1,g=!1;return"string"==typeof t&&(t=function(t){t=t.replace(n,"").replace(i,"").toLowerCase();var e,r=!1;if(k[t])t=k[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=F.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=F.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=F.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=F.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=F.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=F.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=F.hex8.exec(t))?{r:N(e[1]),g:N(e[2]),b:N(e[3]),a:P(e[4]),format:r?"name":"hex8"}:(e=F.hex6.exec(t))?{r:N(e[1]),g:N(e[2]),b:N(e[3]),format:r?"name":"hex"}:(e=F.hex4.exec(t))?{r:N(e[1]+""+e[1]),g:N(e[2]+""+e[2]),b:N(e[3]+""+e[3]),a:P(e[4]+""+e[4]),format:r?"name":"hex8"}:!!(e=F.hex3.exec(t))&&{r:N(e[1]+""+e[1]),g:N(e[2]+""+e[2]),b:N(e[3]+""+e[3]),format:r?"name":"hex"}}(t)),"object"==typeof t&&(G(t.r)&&G(t.g)&&G(t.b)?(r=t.r,o=t.g,l=t.b,u={r:255*E(r,255),g:255*E(o,255),b:255*E(l,255)},p=!0,g="%"===String(t.r).substr(-1)?"prgb":"rgb"):G(t.h)&&G(t.s)&&G(t.v)?(h=D(t.s),d=D(t.v),u=function(t,n,i){t=6*E(t,360),n=E(n,100),i=E(i,100);var r=e.floor(t),o=t-r,a=i*(1-n),s=i*(1-o*n),l=i*(1-(1-o)*n),u=r%6;return{r:255*[i,s,a,a,l,i][u],g:255*[l,i,i,s,a,a][u],b:255*[a,a,l,i,i,s][u]}}(t.h,h,d),p=!0,g="hsv"):G(t.h)&&G(t.s)&&G(t.l)&&(h=D(t.s),f=D(t.l),u=function(t,e,n){var i,r,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=E(t,360),e=E(e,100),n=E(n,100),0===e)i=r=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=a(l,s,t+1/3),r=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*i,g:255*r,b:255*o}}(t.h,h,f),p=!0,g="hsl"),t.hasOwnProperty("a")&&(c=t.a)),c=O(c),{ok:p,format:t.format||g,r:a(255,s(u.r,0)),g:a(255,s(u.g,0)),b:a(255,s(u.b,0)),a:c}}(t);this._originalInput=t,this._r=c.r,this._g=c.g,this._b=c.b,this._a=c.a,this._roundA=o(100*this._a)/100,this._format=l.format||c.format,this._gradientType=l.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=c.ok,this._tc_id=r++}function c(t,e,n){t=E(t,255),e=E(e,255),n=E(n,255);var i,r,o=s(t,e,n),l=a(t,e,n),u=(o+l)/2;if(o==l)i=r=0;else{var c=o-l;switch(r=u>.5?c/(2-o-l):c/(o+l),o){case t:i=(e-n)/c+(e<n?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,l:u}}function h(t,e,n){t=E(t,255),e=E(e,255),n=E(n,255);var i,r,o=s(t,e,n),l=a(t,e,n),u=o,c=o-l;if(r=0===o?0:c/o,o==l)i=0;else{switch(o){case t:i=(e-n)/c+(e<n?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,v:u}}function d(t,e,n,i){var r=[L(o(t).toString(16)),L(o(e).toString(16)),L(o(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function f(t,e,n,i){return[L(j(i)),L(o(t).toString(16)),L(o(e).toString(16)),L(o(n).toString(16))].join("")}function p(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.s-=e/100,n.s=A(n.s),u(n)}function g(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.s+=e/100,n.s=A(n.s),u(n)}function v(t){return u(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.l+=e/100,n.l=A(n.l),u(n)}function y(t,e){e=0===e?0:e||10;var n=u(t).toRgb();return n.r=s(0,a(255,n.r-o(-e/100*255))),n.g=s(0,a(255,n.g-o(-e/100*255))),n.b=s(0,a(255,n.b-o(-e/100*255))),u(n)}function b(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.l-=e/100,n.l=A(n.l),u(n)}function x(t,e){var n=u(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,u(n)}function w(t){var e=u(t).toHsl();return e.h=(e.h+180)%360,u(e)}function _(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+120)%360,s:e.s,l:e.l}),u({h:(n+240)%360,s:e.s,l:e.l})]}function S(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+90)%360,s:e.s,l:e.l}),u({h:(n+180)%360,s:e.s,l:e.l}),u({h:(n+270)%360,s:e.s,l:e.l})]}function M(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+72)%360,s:e.s,l:e.l}),u({h:(n+216)%360,s:e.s,l:e.l})]}function C(t,e,n){e=e||6,n=n||30;var i=u(t).toHsl(),r=360/n,o=[u(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(u(i));return o}function I(t,e){e=e||6;for(var n=u(t).toHsv(),i=n.h,r=n.s,o=n.v,a=[],s=1/e;e--;)a.push(u({h:i,s:r,v:o})),o=(o+s)%1;return a}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,n,i,r=this.toRgb();return t=r.r/255,n=r.g/255,i=r.b/255,.2126*(t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:e.pow((i+.055)/1.055,2.4))},setAlpha:function(t){return this._a=O(t),this._roundA=o(100*this._a)/100,this},toHsv:function(){var t=h(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=h(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),i=o(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=c(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=c(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),i=o(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return d(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,i,r){var a=[L(o(t).toString(16)),L(o(e).toString(16)),L(o(n).toString(16)),L(j(i))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*E(this._r,255))+"%",g:o(100*E(this._g,255))+"%",b:o(100*E(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*E(this._r,255))+"%, "+o(100*E(this._g,255))+"%, "+o(100*E(this._b,255))+"%)":"rgba("+o(100*E(this._r,255))+"%, "+o(100*E(this._g,255))+"%, "+o(100*E(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(T[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var r=u(t);n="#"+f(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return u(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(I,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},u.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:D(t[i]));t=n}return u(t,e)},u.equals=function(t,e){return!(!t||!e)&&u(t).toRgbString()==u(e).toRgbString()},u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})},u.mix=function(t,e,n){n=0===n?0:n||50;var i=u(t).toRgb(),r=u(e).toRgb(),o=n/100;return u({r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a})},u.readability=function(t,n){var i=u(t),r=u(n);return(e.max(i.getLuminance(),r.getLuminance())+.05)/(e.min(i.getLuminance(),r.getLuminance())+.05)},u.isReadable=function(t,e,n){var i,r,o=u.readability(t,e);switch(r=!1,(i=function(t){var e,n;return e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}(n)).level+i.size){case"AAsmall":case"AAAlarge":r=o>=4.5;break;case"AAlarge":r=o>=3;break;case"AAAsmall":r=o>=7}return r},u.mostReadable=function(t,e,n){var i,r,o,a,s=null,l=0;r=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<e.length;c++)(i=u.readability(t,e[c]))>l&&(l=i,s=u(e[c]));return u.isReadable(t,s,{level:o,size:a})||!r?s:(n.includeFallbackColors=!1,u.mostReadable(t,["#fff","#000"],n))};var k=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},T=u.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(k);function O(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function E(t,n){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var i=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=a(n,s(0,parseFloat(t))),i&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function A(t){return a(1,s(0,t))}function N(t){return parseInt(t,16)}function L(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function j(t){return e.round(255*parseFloat(t)).toString(16)}function P(t){return N(t)/255}var R,z,B,F=(z="[\\s|\\(]+("+(R="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",B="[\\s|\\(]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",{CSS_UNIT:new RegExp(R),rgb:new RegExp("rgb"+z),rgba:new RegExp("rgba"+B),hsl:new RegExp("hsl"+z),hsla:new RegExp("hsla"+B),hsv:new RegExp("hsv"+z),hsva:new RegExp("hsva"+B),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function G(t){return!!F.CSS_UNIT.exec(t)}t.exports?t.exports=u:window.tinycolor=u}(Math)});function sn(t){""===t&&(t="#FFFFFF");var e=an(t),n=e.toHsl(),i=e.toHsv();return 0===n.s&&(n.h=i.h=t.h||0),i.v<.0164&&(i.h=t.h||0,i.s=t.s||0),n.l<.01&&(n.h=t.h||0,n.s=t.s||0),{hsl:n,hsv:i,hex:e.toHexString().toUpperCase(),rgba:e.toRgb()}}function ln(t,e,n){return t<e?e:t>n?n:t}function un(t,e){return t.touches?t.touches[0][e]:0}function cn(t){var e=t.r,n=t.g,i=t.b,r=t.a;return"rgba(".concat([e,n,i,r].join(","),")")}var hn,dn=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticClass:"bk-color-picker-saturation",style:t.backgroundStyle,attrs:{tabindex:"0"},on:{keydown:t.handleArrowKeydown,mousedown:function(e){return e.stopPropagation(),t.handleMouseDown(e)}}},[n("div",{staticClass:"bk-color-picker-saturation-white"}),n("div",{staticClass:"bk-color-picker-saturation-black"}),n("div",{staticClass:"bk-color-picker-pointer",style:t.pointerStyle},[n("div",{staticClass:"bk-color-picker-circle"})])])},staticRenderFns:[]},void 0,{props:{colorObj:{type:Object,required:!0}},computed:{backgroundStyle:function(){return{background:"hsl(".concat(this.colorObj.hsv.h,", 100%, 50%)")}},pointerStyle:function(){return{top:"".concat(100*(1-this.colorObj.hsv.v),"%"),left:"".concat(100*this.colorObj.hsv.s,"%")}}},methods:{handleMouseDown:function(t){this.$el.focus(),this.handlePointChange(t),window.addEventListener("mousemove",this.handlePointChange,{passive:!0}),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(){window.removeEventListener("mousemove",this.handlePointChange),window.removeEventListener("mouseup",this.handleMouseUp)},handleArrowKeydown:function(t){var e=this.$refs.container,n=e.clientWidth,i=e.clientHeight,r=this.colorObj.hsv.s*n,o=(1-this.colorObj.hsv.v)*i;switch(t.code){case"ArrowLeft":t.preventDefault(),r=ln(r-10,0,n);break;case"ArrowRight":t.preventDefault(),r=ln(r+10,0,n);break;case"ArrowUp":t.preventDefault(),o=ln(o-10,0,i);break;case"ArrowDown":t.preventDefault(),o=ln(o+10,0,i);break;default:return}this.handlePointChange(null,r,o)},handlePointChange:function(t,e,n){var i=this.$refs.container,r=i.clientWidth,o=i.clientHeight,a=(void 0!==e?e:this.getLeft(t))/r,s=1-(void 0!==n?n:this.getTop(t))/o;this.changeColor(this.colorObj.hsv.h,a,s,this.colorObj.hsv.a)},getLeft:function(t){var e=this.$refs.container,n=e.getBoundingClientRect().left+window.pageXOffset;return ln((t.pageX||un(t,"PageX"))-n,0,e.clientWidth)},getTop:function(t){var e=this.$refs.container,n=e.getBoundingClientRect().top+window.pageYOffset;return ln((t.pageY||un(t,"PageY"))-n,0,e.clientHeight)},changeColor:function(t,e,n,i){this.$emit("change",{h:t,s:e,v:n,a:i})}}},void 0,!1,void 0,!1,void 0,void 0,void 0),fn=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticClass:"bk-color-picker-hue",attrs:{tabindex:"0"},on:{keydown:t.handleArrowKeydown,mousedown:function(e){return e.stopPropagation(),t.handleMouseDown(e)}}},[n("div",{staticClass:"bk-color-picker-hue-pointer",style:t.pointerStyle},[n("div",{staticClass:"bk-color-picker-hue-rectangle"})])])},staticRenderFns:[]},void 0,{props:{colorObj:{type:Object,required:!0}},computed:{pointerStyle:function(){return{left:"".concat(this.colorObj.hsv.h/360*100,"%")}}},methods:{handleArrowKeydown:function(t){var e=this.$refs.container.clientWidth,n=this.colorObj.hsv.h/360*e;switch(t.code){case"ArrowLeft":t.preventDefault(),n=ln(n-2,0,e);break;case"ArrowRight":t.preventDefault(),n=ln(n+2,0,e);break;case"ArrowUp":t.preventDefault(),n=ln(n-10,0,e);break;case"ArrowDown":t.preventDefault(),n=ln(n+10,0,e);break;default:return}this.handlePointChange(null,n)},handleMouseDown:function(t){this.$el.focus(),this.handlePointChange(t),window.addEventListener("mousemove",this.handlePointChange,{passive:!0}),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(){window.removeEventListener("mousemove",this.handlePointChange),window.removeEventListener("mouseup",this.handleMouseUp)},handlePointChange:function(t,e){var n=this.$refs.container.clientWidth,i=void 0!==e?e:this.getLeft(t);this.changeColor(i/n)},getLeft:function(t){var e=this.$refs.container,n=e.getBoundingClientRect().left+window.pageXOffset;return ln((t.pageX||un(t,"PageX"))-n,0,e.clientWidth)},changeColor:function(t){var e=this.colorObj.hsl,n=e.h,i=e.s,r=e.l,o=e.a,a=360*t;n!==a&&this.$emit("change",{h:a,s:i,l:r,a:o})}}},void 0,!1,void 0,!1,void 0,void 0,void 0),pn=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-color-picker-input"},[n("div",{staticClass:"bk-color-picker-input-hex"},[n("InputContainer",{attrs:{info:t.hex},on:{input:t.handleInput}})],1),n("div",{staticClass:"bk-color-picker-input-rgba"},[n("InputContainer",{attrs:{info:t.r},on:{input:t.handleInput}}),n("InputContainer",{attrs:{info:t.g},on:{input:t.handleInput}}),n("InputContainer",{attrs:{info:t.b},on:{input:t.handleInput}}),n("InputContainer",{attrs:{info:t.a},on:{input:t.handleInput,tab:t.handleAlphaTab}})],1)])},staticRenderFns:[]},void 0,{components:{InputContainer:Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-color-picker-input-part"},[n("input",{class:["bk-color-picker-input-value",t.info.error&&"error"],attrs:{type:"HEX"===t.info.name?"text":"number"},domProps:{value:t.info.value},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"tab",9,e.key,"Tab")?t.handleTab(e):null},input:t.handleInput}}),n("span",{staticClass:"bk-color-picker-input-text"},[t._v(t._s(t.info.name))])])},staticRenderFns:[]},void 0,{props:{info:{type:Object,required:!0}},methods:{handleTab:function(t){"a"===this.info.key&&this.$emit("tab",t)},handleInput:function(t){var e=this.info.key,n=t.target.value;this.$emit("input",e,n)}}},void 0,!1,void 0,!1,void 0,void 0,void 0)},props:{colorObj:{type:Object,required:!0}},data:function(){return{hex:{key:"hex",name:"HEX",value:this.colorObj.hex,error:!1},r:{key:"r",name:"R",value:this.colorObj.rgba.r.toString(),error:!1},g:{key:"g",name:"G",value:this.colorObj.rgba.g.toString(),error:!1},b:{key:"b",name:"B",value:this.colorObj.rgba.b.toString(),error:!1},a:{key:"a",name:"Alpha",value:this.colorObj.rgba.a.toString(),error:!1}}},watch:{colorObj:function(t){an(t.hex).toString()!==an(this.hex.value).toString()&&(this.hex.value=t.hex),this.r.value=t.rgba.r.toString(),this.g.value=t.rgba.g.toString(),this.b.value=t.rgba.b.toString(),this.a.value=t.rgba.a.toString(),this.validate()}},methods:{handleAlphaTab:function(t){this.$emit("tab",t)},handleInput:function(t,e){if(this[t].value=e,this.validate()){var n="hex"===t?this.hex.value:"rgba(".concat(this.r.value,", ").concat(this.g.value,", ").concat(this.b.value,", ").concat(this.a.value,")");this.$emit("change",n)}},validate:function(){var t=!0,e=this.hex,n=this.r,i=this.g,r=this.b,o=this.a;!e.value.startsWith("#")||4!==e.value.length&&7!==e.value.length||e.value.slice(1).match(/[^0-9a-fA-F]/)?(e.error=!0,t=!1):e.error=!1,""!==o.value&&o.value>=0&&o.value<=1?o.error=!1:(o.error=!0,t=!1);for(var a=0,s=[n,i,r];a<s.length;a++){var l=s[a],u=l.value;""!==u&&u>=0&&u<=255?l.error=!1:(l.error=!0,t=!1)}return t}}},void 0,!1,void 0,!1,void 0,void 0,void 0),gn=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-color-picker-recommend",attrs:{tabindex:"0"},on:{focus:function(e){t.isFocused=!0},blur:function(e){t.isFocused=!1},keydown:t.handleKeydown}},t._l(t.colors,function(e,i){return n("div",{key:e+i,class:{"bk-color-picker-recommend-color":!0,"bk-color-picker-recommend-selected-color":t.isFocused&&t.selectedIndex===i,"bk-color-picker-empty":""===e},style:{background:e||"#fff"},on:{click:function(e){t.selectColor(i)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.selectedIndex===i,expression:"selectedIndex === index"}],staticClass:"bk-color-picker-pointer"},[n("div",{staticClass:"bk-color-picker-circle"})])])}),0)},staticRenderFns:[]},void 0,{props:{colorObj:{type:Object,required:!0},recommend:{type:[Boolean,Array],default:!0}},data:function(){return{isFocused:!1,selectedIndex:-1,selectedColor:null}},computed:{colors:function(){return this.getColorsFromRecommend(this.recommend)}},watch:{colorObj:function(){this.selectedIndex=-1,this.selectedColor=null}},methods:{handleKeydown:function(t){if("Tab"===t.code)this.$emit("tab",t);else{var e=0,n=this.colors.length-1;switch(t.code){case"ArrowLeft":t.preventDefault(),e=ln(this.selectedIndex-1,0,n);break;case"ArrowRight":t.preventDefault(),e=ln(this.selectedIndex+1,0,n);break;case"ArrowUp":t.preventDefault(),e=ln(this.selectedIndex-10,0,n);break;case"ArrowDown":t.preventDefault(),e=ln(this.selectedIndex+10,0,n);break;default:return}this.selectColor(e)}},selectColor:function(t){var e=this,n=this.colors[t];this.$emit("change",n),this.$nextTick(function(){e.selectedIndex=t,e.selectedColor=n})},getColorsFromRecommend:function(t){return!0===t?["","#ff4500","#ff8c00","#ffd700","#90ee90","#ddffff","#00ced1","#3a84ff","#a933f5","#db7093","#000000","#494949","#9B9B9B","#ffffff"]:se(t)?t.map(function(t){return an(t).isValid()?t:""}):void 0}}},void 0,!1,void 0,!1,void 0,void 0,void 0),vn=[],mn="$clickoutsideCtx";document.addEventListener("mousedown",function(t){return hn=t}),document.addEventListener("mouseup",function(t){vn.forEach(function(e){e[mn].clickoutsideHandler(t,hn)})});var yn={bind:function(t,e,n){var i=vn.push(t)-1;t[mn]={id:i,clickoutsideHandler:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(n.context&&i.target&&r.target)||t.contains(i.target)||t.contains(r.target)||t===i.target||n.context.popup&&(n.context.popup.contains(i.target)||n.context.popup.contains(r.target))||(e.expression&&t[mn].callbackName&&n.context[t[mn].callbackName]?n.context[t[mn].callbackName](i,r,t):t[mn].bindingFn&&t[mn].bindingFn(i,r,t))},callbackName:e.expression,callbackFn:e.value}},update:function(t,e){t[mn].callbackName=e.expression,t[mn].callbackFn=e.value},unbind:function(t){for(var e=0,n=vn.length;e<n;e++)if(vn[e][mn].id===t[mn].id){vn.splice(e,1);break}}};function bn(t){return void 0===t&&(t=document.body),!0===t?document.body:t instanceof window.Node?t:document.querySelector(t)}yn.install=function(t){t.directive("bkClickoutside",yn)};var xn={inserted:function(t,e,n){var i=e.value;if("true"!==t.dataset.transfer)return!1;t.className=t.className?t.className+" v-transfer-dom":"v-transfer-dom";var r=t.parentNode;if(r){var o=document.createComment(""),a=!1;!1!==i&&(r.replaceChild(o,t),bn(i).appendChild(t),a=!0),t.__transferDomData||(t.__transferDomData={parentNode:r,home:o,target:bn(i),hasMovedOut:a})}},componentUpdated:function(t,e){var n=e.value;if("true"!==t.dataset.transfer)return!1;var i=t.__transferDomData;if(i){var r=i.parentNode,o=i.home,a=i.hasMovedOut;!a&&n?(r.replaceChild(o,t),bn(n).appendChild(t),t.__transferDomData=d({},t.__transferDomData,{hasMovedOut:!0,target:bn(n)})):a&&!1===n?(r.replaceChild(t,o),t.__transferDomData=d({},t.__transferDomData,{hasMovedOut:!1,target:bn(n)})):n&&bn(n).appendChild(t)}},unbind:function(t){if("true"!==t.dataset.transfer)return!1;t.className=t.className.replace("v-transfer-dom",""),t.__transferDomData&&(!0===t.__transferDomData.hasMovedOut&&t.__transferDomData.parentNode&&t.__transferDomData.parentNode.appendChild(t),t.__transferDomData=null)},install:function(t){t.directive("bk-transfer-dom",xn)}},wn=sn("#FFFFFF"),_n=Ct({render:function(){var t,e=this,n=e.$createElement,i=e._self._c||n;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.closeDropdown,expression:"closeDropdown"}],ref:"reference",class:["bk-color-picker",e.extCls,(t={},t["bk-color-picker-"+e.size]=e.size,t["bk-color-picker-show-dropdown"]=e.showDropdown,t["bk-color-picker-show-value"]=e.showValue,t["bk-color-picker-disabled"]=e.disabled||e.readonly,t)],attrs:{tabindex:"0"},on:{keydown:e.handleTriggerKeydown,click:e.toggleDropdown}},[i("div",{staticClass:"bk-color-picker-color"},[i("span",{class:["bk-color-picker-color-square",!e.colorStr&&"bk-color-picker-empty"],style:{background:e.colorStr||"#FFF"}})]),e.showValue?i("div",{staticClass:"bk-color-picker-text"},[i("span",[e._v(e._s(e.colorStr))])]):e._e(),e._m(0),i("transition",{attrs:{name:"transition-drop"}},[i("DatePickerDropdown",{directives:[{name:"show",rawName:"v-show",value:e.showDropdown,expression:"showDropdown"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"drop",staticStyle:{padding:"0",cursor:"default"},attrs:{transfer:e.transfer,"data-transfer":e.transfer}},[i("div",{staticClass:"bk-color-picker-dropdown",on:{click:function(t){t.stopPropagation()},mousedown:function(t){t.stopPropagation()},keydown:e.handleDropdownKeydown}},[i("SaturationPanel",{ref:"saturationPanel",attrs:{"color-obj":e.colorObj},on:{change:e.handleColorChange}}),i("HueSlider",{attrs:{"color-obj":e.colorObj},on:{change:e.handleColorChange}}),i("ColorInput",{attrs:{"color-obj":e.colorObj},on:{tab:e.handleTabInput,change:e.handleColorChange}}),e.isRenderRecommend?i("div",{staticClass:"bk-color-picker-recommend-container"},[i("RecommendColors",{attrs:{"color-obj":e.colorObj,recommend:e.recommend},on:{tab:e.handleTabRecommend,change:e.handleColorChange}})],1):e._e()],1)])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bk-color-picker-icon"},[e("span",{staticClass:"bk-icon icon-angle-down"})])}]},void 0,{name:"bk-color-picker",components:{DatePickerDropdown:on,SaturationPanel:dn,HueSlider:fn,ColorInput:pn,RecommendColors:gn},directives:{clickoutside:yn,transferDom:xn},model:{event:"change"},props:{value:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},transfer:{type:Boolean,default:!1},size:{type:String,default:"",validator:function(t){return["","large","small"].includes(t)}},showValue:{type:Boolean,default:!0},recommend:{type:[Boolean,Array],default:!0},extCls:{type:String,default:""}},data:function(){return{showDropdown:!1,colorStr:"",colorObj:wn}},computed:{isRenderRecommend:function(){return Boolean(!0===this.recommend||se(this.recommend)&&this.recommend.length)}},watch:{value:function(){this.changeColorFromProps()}},created:function(){this.changeColorFromProps({isCreated:!0})},methods:{handleTriggerKeydown:function(t){"Enter"===t.code||"NumpadEnter"===t.code?this.toggleDropdown():"Escape"===t.code&&this.closeDropdown()},handleDropdownKeydown:function(t){this.transfer&&this.handleTriggerKeydown(t)},toggleDropdown:function(){this.disabled||this.readonly||(this.showDropdown?this.closeDropdown():this.openDropdown())},handleTabInput:function(t){this.isRenderRecommend||(t.preventDefault(),this.$refs.saturationPanel.$el.focus())},handleTabRecommend:function(t){t.preventDefault(),this.$refs.saturationPanel.$el.focus()},openDropdown:function(){var t=this;this.showDropdown=!0,this.$refs.drop.update(),setTimeout(function(){t.$refs.drop.$el.querySelector(".bk-color-picker-input-hex .bk-color-picker-input-value").select()},100)},closeDropdown:function(){var t=this;this.showDropdown&&(this.$nextTick(function(){return t.$el.focus()}),this.showDropdown=!1,this.$refs.drop.destroy(),this.changeColorFromProps())},changeColorFromProps:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isCreated,e=void 0!==t&&t;if(""!==this.value){var n=sn(this.value),i=1===n.rgba.a?n.hex:cn(n.rgba);if(i!==this.colorStr){var r=an(this.value).isValid();e?r?(this.colorStr=i.toLowerCase()===this.value.toLowerCase()?this.value:i,this.colorObj=n):(this.colorObj=wn,this.$emit("change","")):r?i.toLowerCase()!==this.colorStr.toLowerCase()&&(this.colorObj=n,this.colorStr=i):(this.colorStr="",this.colorObj=wn)}}else""!==this.colorStr&&(this.colorStr="",this.colorObj=wn)},handleColorChange:function(t){if(""===t)return this.colorStr="",this.colorObj=wn,void this.$emit("change","");var e=sn(t),n=1===e.rgba.a?e.hex:cn(e.rgba);this.colorObj=e,this.colorStr=n,this.$emit("change",n)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(_n);var Sn=function(t){return t.tag&&t.componentOptions},Mn={name:"bk-compose-form-item",props:{headBackgroundColor:{type:String,default:"#FAFBFD"},tailBackgroundColor:String},render:function(t){var e=this.$slots.default;if(e.length>1){for(var n=e.length,i=0,r=null;i<n;){if(Sn(e[i])){r=e[i];break}i++}for(var o=n-1,a=null;o>=0&&o>i;){if(Sn(e[o])){a=e[o];break}o--}if(r&&a){var s="bk-compose-form-item-head";r.data.staticClass&&(s+=" ".concat(r.data.staticClass)),this.headBackgroundColor&&(r.data.style=d(r.data.style||{},{"background-color":this.headBackgroundColor})),r.data.staticClass=s;var l="bk-compose-form-item-tail";a.data.staticClass&&(l+=" ".concat(a.data.staticClass)),this.tailBackgroundColor&&(a.data.style=d(a.data.style||{},{"background-color":this.tailBackgroundColor})),a.data.staticClass=l}}return t("div",{staticClass:"bk-compose-form-item"},e)}};Et(Mn);var Cn=M.JSON||(M.JSON={stringify:JSON.stringify}),In=function(t){return Cn.stringify.apply(Cn,arguments)},kn="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Tn="["+kn+"]",On=RegExp("^"+Tn+Tn+"*"),En=RegExp(Tn+Tn+"*$"),An=function(t,e,n){var i={},r=O(function(){return!!kn[t]()||"​"!="​"[t]()}),o=i[t]=r?e(Nn):kn[t];n&&(i[n]=o),W(W.P+W.F*r,"String",i)},Nn=An.trim=function(t,e){return t=String(J(t)),1&e&&(t=t.replace(On,"")),2&e&&(t=t.replace(En,"")),t},Ln=An,Dn=S.parseInt,jn=Ln.trim,Pn=/^[-+]?0[xX]/,Rn=8!==Dn(kn+"08")||22!==Dn(kn+"0x16")?function(t,e){var n=jn(String(t),3);return Dn(n,e>>>0||(Pn.test(n)?16:10))}:Dn;W(W.G+W.F*(parseInt!=Rn),{parseInt:Rn});var zn=M.parseInt,Bn={},Fn=/d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Gn=/\d\d?/,Vn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Wn=function(){};function Hn(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n.push(t[i].substr(0,e));return n}function Un(t){return function(e,n,i){var r=i[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~r&&(e.month=r)}}function Yn(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var Jn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Qn=["January","February","March","April","May","June","July","August","September","October","November","December"],Zn=Hn(Qn,3),$n=Hn(Jn,3);Bn.i18n={dayNamesShort:$n,dayNames:Jn,monthNamesShort:Zn,monthNames:Qn,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10)*t%10]}};var Xn={D:function(t){return t.getDay()},DD:function(t){return Yn(t.getDay())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDate()},dd:function(t){return Yn(t.getDate())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return Yn(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},yy:function(t){return String(t.getFullYear()).substr(2)},yyyy:function(t){return t.getFullYear()},h:function(t){return t.getHours()%12||12},hh:function(t){return Yn(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return Yn(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return Yn(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return Yn(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return Yn(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return Yn(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+Yn(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},Kn={d:[Gn,function(t,e){t.day=e}],M:[Gn,function(t,e){t.month=e-1}],yy:[Gn,function(t,e){var n=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(e>68?n-1:n)+e}],h:[Gn,function(t,e){t.hour=e}],m:[Gn,function(t,e){t.minute=e}],s:[Gn,function(t,e){t.second=e}],yyyy:[/\d{4}/,function(t,e){t.year=e}],S:[/\d/,function(t,e){t.millisecond=100*e}],SS:[/\d{2}/,function(t,e){t.millisecond=10*e}],SSS:[/\d{3}/,function(t,e){t.millisecond=e}],D:[Gn,Wn],ddd:[Vn,Wn],MMM:[Vn,Un("monthNamesShort")],MMMM:[Vn,Un("monthNames")],a:[Vn,function(t,e,n){var i=e.toLowerCase();i===n.amPm[0]?t.isPm=!1:i===n.amPm[1]&&(t.isPm=!0)}],ZZ:[/[\+\-]\d\d:?\d\d/,function(t,e){var n,i=(e+"").match(/([\+\-]|\d\d)/gi);i&&(n=60*i[1]+zn(i[2],10),t.timezoneOffset="+"===i[0]?n:-n)}]};Kn.DD=Kn.D,Kn.dddd=Kn.ddd,Kn.Do=Kn.dd=Kn.d,Kn.mm=Kn.m,Kn.hh=Kn.H=Kn.HH=Kn.h,Kn.MM=Kn.M,Kn.ss=Kn.s,Kn.A=Kn.a,Bn.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/D/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Bn.format=function(t,e,n){var i=n||Bn.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");return(e=Bn.masks[e]||e||Bn.masks.default).replace(Fn,function(e){return e in Xn?Xn[e](t,i):e.slice(1,e.length-1)})},Bn.parse=function(t,e,n){var i=n||Bn.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(e=Bn.masks[e]||e,t.length>1e3)return!1;var r=!0,o={};if(e.replace(Fn,function(e){if(Kn[e]){var n=Kn[e],a=t.search(n[0]);~a?t.replace(n[0],function(e){return n[1](o,e,i),t=t.substr(a+e.length),e}):r=!1}return Kn[e]?"":e.slice(1,e.length-1)}),!r)return!1;var a,s=new Date;return!0===o.isPm&&null!=o.hour&&12!=+o.hour?o.hour=+o.hour+12:!1===o.isPm&&12==+o.hour&&(o.hour=0),null!=o.timezoneOffset?(o.minute=+(o.minute||0)-+o.timezoneOffset,a=new Date(Date.UTC(o.year||s.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0))):a=new Date(o.year||s.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0),a};var qn,ti,ei=function(){var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t},ni=function(t,e){return new Date(t,e+1,0).getDate()},ii=function(t){var e=new Date(t);return isNaN(e.getTime())&&"string"==typeof t&&((e=t.split("-").map(Number))[1]+=1,e=g(Date,m(e))),isNaN(e.getTime())?null:e},ri=function(t,e){return(t=ii(t))?Bn.format(t,e||"yyyy-MM-dd"):""},oi=function(t,e){return Bn.parse(t,e||"yyyy-MM-dd")},ai={date:"yyyy-MM-dd",month:"yyyy-MM",year:"yyyy",datetime:"yyyy-MM-dd HH:mm:ss",time:"HH:mm:ss",timerange:"HH:mm:ss",daterange:"yyyy-MM-dd",datetimerange:"yyyy-MM-dd HH:mm:ss"},si=function(t,e){return ri(t,e)},li=function(t,e){return oi(t,e)},ui=function(t,e){if(se(t)&&2===t.length){var n=t[0],i=t[1];if(n&&i)return ri(n,e)+" - "+ri(i,e)}else if(!se(t)&&t instanceof Date)return ri(t,e);return""},ci=function(t,e){var n=se(t)?t:t.split(" - ");if(2===n.length){var i=n[0],r=n[1];return[i instanceof Date?i:oi(i,e),r instanceof Date?r:oi(r,e)]}return[]},hi={default:{formatter:function(t){return t?""+t:""},parser:function(t){return void 0===t||""===t?null:t}},date:{formatter:si,parser:li},datetime:{formatter:si,parser:li},daterange:{formatter:ui,parser:ci},datetimerange:{formatter:ui,parser:ci},timerange:{formatter:ui,parser:ci},time:{formatter:si,parser:li},month:{formatter:si,parser:li},year:{formatter:si,parser:li},multiple:{formatter:function(t,e){return t.filter(Boolean).map(function(t){return ri(t,e)}).join(",")},parser:function(t,e){return("string"==typeof t?t.split(","):t).map(function(t){return t instanceof Date?t:("string"==typeof t?t=t.trim():"number"==typeof t||t||(t=""),oi(t,e))})}},number:{formatter:function(t){return t?""+t:""},parser:function(t){var e=Number(t);return isNaN(t)?null:e}}},di=(qn={yyyy:function(t){return t.getFullYear()},m:function(t){return t.getMonth()+1},mm:function(t){return("0"+(t.getMonth()+1)).slice(-2)},mmm:function(t,e){return t.toLocaleDateString(e,{month:"long"}).slice(0,3)},Mmm:function(t,e){var n=t.toLocaleDateString(e,{month:"long"});return(n[0].toUpperCase()+n.slice(1).toLowerCase()).slice(0,3)},mmmm:function(t,e){return t.toLocaleDateString(e,{month:"long"})},Mmmm:function(t,e){var n=t.toLocaleDateString(e,{month:"long"});return n[0].toUpperCase()+n.slice(1).toLowerCase()}},ti=new RegExp(["yyyy","Mmmm","mmmm","Mmm","mmm","mm","m"].join("|"),"g"),function(t,e,n){var i=e.match(/(\[[^\]]+\])([^\[\]]+)(\[[^\]]+\])/).slice(1);return{separator:i[1],labels:[i[0],i[2]].map(function(e){return{label:e.replace(/\[[^\]]+\]/,function(e){return e.slice(1,-1).replace(ti,function(e){return qn[e](n,t)})}),type:-1!==e.indexOf("yy")?"year":"month"}})}}),fi=function(t){var e=new Date(t);return e.setHours(0,0,0,0),e.getTime()},pi=function(t,e){var n=new Date(t),i=n.getMonth()+e,r=ni(n.getFullYear(),i);return r<n.getDate()&&n.setDate(r),n.setMonth(i),n},gi={40:"up",39:"right",38:"down",37:"left"},vi=function(t,e,n){return"left"===t?-1*e:"right"===t?1*e:"up"===t?1*n:"down"===t?-1*n:void 0},mi=function(t){return t?[t.getHours(),t.getMinutes(),t.getSeconds()]:[0,0,0]},yi=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"bk-date-picker",class:["datetimerange"===t.type?"long":"",t.longWidthCls,t.extCls]},[n("div",{ref:"reference",staticClass:"bk-date-picker-rel"},[t._t("trigger",[n("span",{staticClass:"icon-wrapper",class:t.disabled?"disabled":"",on:{click:t.handleIconClick,mouseenter:t.handleInputMouseenter,mouseleave:t.handleInputMouseleave}},["time"===t.type||"timerange"===t.type?n("svg",{staticClass:"picker-icon",attrs:{x:"0px",y:"0px",viewBox:"0 0 1024 1024"}},[n("g",{attrs:{id:"time"}},[n("path",{attrs:{fill:"#c4c6cc",d:"M512,128c51.9,0,102.2,10.1,149.5,30.2c45.7,19.3,86.8,47,122.1,82.3s63,76.4,82.3,122.1\n              c20,47.3,30.2,97.6,30.2,149.5S886,614.3,865.9,661.6c-19.3,45.7-47,86.8-82.3,122.1s-76.4,63-122.1,82.3\n              c-47.3,20-97.6,30.2-149.5,30.2S409.8,886.1,362.5,866c-45.7-19.3-86.8-47-122.1-82.3s-63-76.4-82.3-122.1\n              c-20-47.3-30.2-97.6-30.2-149.5s10.1-102.2,30.2-149.5c19.3-45.7,47-86.8,82.3-122.1s76.4-63,122.1-82.3\n              C409.8,138.1,460.1,128,512,128 M512,64C264.6,64,64,264.6,64,512s200.6,448,448,448s448-200.6,448-448S759.4,64,512,64L512,64z"}}),n("polygon",{attrs:{fill:"#c4c6cc",points:"512,512 512,256 448,256 448,512 448,576 512,576 768,576 768,512"}})])]):n("svg",{staticClass:"picker-icon",attrs:{x:"0px",y:"0px",viewBox:"0 0 1024 1024"}},[n("g",{attrs:{id:"date"}},[n("path",{attrs:{fill:"#c4c6cc",d:"M896,128h-96v64h64v112H160V192h64v-64h-96c-17.7,0-32,14.3-32,32v736c0,17.7,14.3,32,32,32h768\n              c17.7,0,32-14.3,32-32V160C928,142.3,913.7,128,896,128z M160,864V368h704v496H160z"}}),n("rect",{attrs:{x:"416",y:"128",fill:"#c4c6cc",width:"192",height:"64"}}),n("rect",{attrs:{x:"288",y:"96",fill:"#c4c6cc",width:"64",height:"128"}}),n("rect",{attrs:{x:"672",y:"96",fill:"#c4c6cc",width:"64",height:"128"}}),n("polygon",{attrs:{fill:"#c4c6cc",points:"403.7,514.4 557.1,514.4 557.1,515.3 420.1,765.5 483.5,765.5 620.3,504.3 620.3,466.5 403.7,466.5"}})])])]),n("input",{key:t.forceInputRerender,ref:"input",staticClass:"bk-date-picker-editor",class:[t.readonly?"readonly":"",t.fontSizeCls,{"only-bottom-border":"simplicity"===t.behavior}],attrs:{type:"text",readonly:t.localReadonly,disabled:t.disabled,placeholder:t.placeholder},domProps:{value:t.displayValue},on:{focus:t.handleFocus,blur:t.handleBlur,click:t.handleFocus,change:t.handleInputChange,keydown:t.handleKeydown,mouseenter:t.handleInputMouseenter,mouseleave:t.handleInputMouseleave}}),t.clearable&&t.showClose?n("i",{staticClass:"bk-icon icon-close-circle-shape clear-action",on:{click:t.handleClear}}):t._e()])],2),n("transition",{attrs:{name:"transition-drop"}},[n("DatePickerDropdown",{directives:[{name:"show",rawName:"v-show",value:t.opened,expression:"opened"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"drop",class:t.transfer?"bk-date-picker-transfer":"",attrs:{placement:t.placement,"ext-popover-cls":t.extPopoverCls,"data-transfer":t.transfer,transfer:t.transfer},nativeOn:{click:function(e){return t.handleTransferClick(e)}}},[t.hasHeader?[n("div",{staticClass:"bk-date-picker-top-wrapper",class:t.headerSlotCls},[t._t("header")],2)]:t._e(),n(t.panel,t._b({ref:"pickerPanel",tag:"component",attrs:{clearable:t.clearable,visible:t.visible,"show-time":"datetime"===t.type||"datetimerange"===t.type,confirm:t.isConfirm,"selection-mode":t.selectionMode,steps:t.steps,format:t.format,value:t.internalValue,"start-date":t.startDate,"split-panels":t.splitPanels,shortcuts:t.shortcuts,"picker-type":t.type,multiple:t.multiple,"focused-date":t.focusedDate,width:"time"===t.type||"timerange"===t.type?t.width:261,"time-picker-options":t.timePickerOptions,"shortcut-close":t.shortcutClose,"up-to-now":t.upToNow,"allow-cross-day":t.allowCrossDayProp},on:{pick:t.onPick,"pick-clear":t.handleClear,"pick-success":t.onPickSuccess,"pick-click":function(e){t.disableClickOutSide=!0},"selection-mode-change":t.onSelectionModeChange}},"component",t.ownPickerProps,!1),[t.$slots.shortcuts||t.$scopedSlots.shortcuts?n("div",{attrs:{slot:"shortcuts"},slot:"shortcuts"},[t._t("shortcuts")],2):t._e()]),t.hasFooter?[n("div",{staticClass:"bk-date-picker-footer-wrapper",class:t.footerSlotCls},[t._t("footer")],2)]:t._e()],2)],1)],1)},staticRenderFns:[]},void 0,{components:{DatePickerDropdown:on},directives:{clickoutside:yn,transferDom:xn},mixins:[ee],props:{extCls:{type:String,default:""},extPopoverCls:{type:String,default:""},format:{type:String},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},open:{type:Boolean,default:null},multiple:{type:Boolean,default:!1},timePickerOptions:{type:Object,default:function(){return{}}},splitPanels:{type:Boolean,default:!0},startDate:{type:Date},placeholder:{type:String,default:""},placement:{type:String,default:"bottom-start",validator:function(t){return!(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"].indexOf(t)<0&&(console.error("placement property is not valid: '".concat(t,"'")),1))}},transfer:{type:Boolean,default:!1},steps:{type:Array,default:function(){return[]}},shortcuts:{type:Array,default:function(){return[]}},shortcutClose:{type:Boolean,default:!1},value:{type:[Date,String,Array]},options:{type:Object,default:function(){return{}}},fontSize:{type:String,default:"normal"},upToNow:{type:Boolean,default:!1},useShortcutText:{type:Boolean,default:!1},shortcutSelectedIndex:{type:Number,default:-1},headerSlotCls:{type:String,default:""},footerSlotCls:{type:String,default:""},allowCrossDay:{type:Boolean,default:!1},behavior:{type:String,default:"normal",validate:function(t){return["simplicity","normal"].indexOf(t)>-1}}},data:function(){var t=this.type.includes("range"),e=t?[null,null]:[null],n=((t?this.value:[this.value])||[]).reduce(function(t,e){return t&&!e||"string"==typeof e&&""===e.trim()},!0)?e:this.parseDate(this.value),i=null;-1!==this.shortcutSelectedIndex&&(i=this.shortcuts[this.shortcutSelectedIndex]||null)&&(n=i.value());var r=n.map(mi);return{showClose:!1,visible:!1,internalValue:n,disableClickOutSide:!1,disableCloseUnderTransfer:!1,selectionMode:this.onSelectionModeChange(this.type),forceInputRerender:1,isFocused:!1,focusedDate:n[0]||this.startDate||new Date,focusedTime:{column:0,picker:0,time:r,active:!1},internalFocus:!1,timeEnterMode:!0,shortcut:i}},computed:{publicVModelValue:function(){if(this.multiple)return this.internalValue.slice();var t=this.type.includes("range"),e=this.internalValue.map(function(t){return t instanceof Date?new Date(t):t||""});return this.type.match(/^time/)&&(e=e.map(this.formatDate)),t||this.multiple?e:e[0]},publicStringValue:function(){var t=this.formatDate,e=this.publicVModelValue;return this.type.match(/^time/)?e:this.multiple?t(e):se(e)?e.map(t):t(e)},opened:function(){return null===this.open?this.visible:this.open},transition:function(){return this.placement.match(/^bottom/)?"slide-up":"slide-down"},visualValue:function(){return this.formatDate(this.internalValue)},displayValue:function(){return this.shortcut&&this.shortcut.text&&this.useShortcutText?this.shortcut.text:this.visualValue},isConfirm:function(){return!!this.$slots.trigger||"datetime"===this.type||"datetimerange"===this.type||this.multiple},fontSizeCls:function(){var t="";return"medium"===this.fontSize?t="medium-font":"large"===this.fontSize&&(t="large-font"),t},longWidthCls:function(){var t="";return"medium"===this.fontSize?t="medium-width":"large"===this.fontSize&&(t="large-width"),t},localReadonly:function(){return!!(this.shortcut&&this.shortcut.text&&this.useShortcutText)||!this.editable||this.readonly},hasFooter:function(){return!!this.$slots.footer||!!this.$scopedSlots.footer},hasHeader:function(){return!!this.$slots.header||!!this.$scopedSlots.header},allowCrossDayProp:function(){return"RangeTimePickerPanel"===this.panel&&this.allowCrossDay}},watch:{visible:function(t){!1===t&&this.$refs.drop.destroy(),this.$refs.drop.update(),t||this.dispatch("bk-form-item","form-blur"),this.$emit("open-change",t)},value:function(t){this.internalValue=this.parseDate(t)},open:function(t){this.visible=!0===t},type:function(t){this.onSelectionModeChange(t)},publicVModelValue:function(t,e){(In(t)!==In(e)||o(t)!==o(e))&&this.$emit("input",t)}},mounted:function(){var t=this;this.type.indexOf("date")>-1?this.timeEnterMode=!0:this.timeEnterMode=this.enterMode;var e=this.value,n=this.publicVModelValue;o(e)===o(n)&&In(e)===In(n)||this.$emit("input",this.publicVModelValue),null!==this.open&&(this.visible=this.open),this.$on("focus-input",function(){return t.focus()})},methods:{handleIconClick:function(){this.$refs.input.focus(),this.$refs.input.click()},onSelectionModeChange:function(t){return t.match(/^date/)&&(t="date"),this.selectionMode=["year","month","date","time"].indexOf(t)>-1&&t,this.selectionMode},handleTransferClick:function(){this.transfer&&(this.disableCloseUnderTransfer=!0)},handleClose:function(t){if(this.disableCloseUnderTransfer)return this.disableCloseUnderTransfer=!1,!1;if(t&&"mousedown"===t.type&&this.visible)return t.preventDefault(),void t.stopPropagation();if(this.visible){var e=this.$refs.pickerPanel&&this.$refs.pickerPanel.$el;if(t&&e&&e.contains(t.target))return;return this.visible=!1,t&&t.preventDefault(),void(t&&t.stopPropagation())}this.isFocused=!1,this.disableClickOutSide=!1},handleFocus:function(t){this.readonly||(this.isFocused=!0,t&&"focus"===t.type||this.disabled||(this.visible=!0))},handleBlur:function(t){this.internalFocus?this.internalFocus=!1:this.visible?t.preventDefault():(this.isFocused=!1,this.onSelectionModeChange(this.type),this.internalValue=this.internalValue.slice(),this.reset(),this.$refs.pickerPanel.onToggleVisibility(!1))},handleKeydown:function(t){var e=t.keyCode;if(9===e)if(this.visible)if(t.stopPropagation(),t.preventDefault(),this.isConfirm){var n=this.$refs.drop.$el.querySelectorAll(".bk-picker-confirm > *");this.internalFocus=!0,m(n)[t.shiftKey?"pop":"shift"]().focus()}else this.handleClose();else this.focused=!1;var i=[37,38,39,40];if(this.visible||!i.includes(e)){if(27===e&&this.visible&&(t.stopPropagation(),this.handleClose()),13===e&&this.timeEnterMode){var r=zt(this,"TimeSpinner");if(r.length>0){var o=r[0].showSeconds?3:2,a=Math.floor(this.focusedTime.column/o),s=this.focusedTime.time[a];return void r[a].chooseValue(s)}}i.includes(e)&&(this.focusedTime.active&&t.preventDefault(),zt(this,"TimeSpinner").length>0&&this.navigateTimePanel(gi[e]))}else this.visible=!0},reset:function(){this.$refs.pickerPanel.reset&&this.$refs.pickerPanel.reset()},navigateTimePanel:function(t){var e=this;this.focusedTime.active=!0;var n=t.match(/left|right/),i=t.match(/up|down/),r=zt(this,"TimeSpinner"),o=(r[0].showSeconds?3:2)*r.length,a=(this.focusedTime.column+(n?"left"===t?-1:1:0)+o)%o,s=o/r.length,l=Math.floor(a/s),u=a%s;if(n){var c=this.internalValue.map(mi);this.focusedTime=f({},this.focusedTime,{column:a,time:c}),r.forEach(function(t,e){e===l?t.updateFocusedTime(u,c[l]):t.updateFocusedTime(-1,t.focusedTime)})}if(i){var h="up"===t?1:-1,d=r[l]["".concat(["hours","minutes","seconds"][u],"List")],p=d.findIndex(function(t){var n=t.text;return e.focusedTime.time[l][u]===n})+h;if(-1===p)return;var g=d[p%d.length].text,v=this.focusedTime.time.map(function(t,e){return e!==l||(t[u]=g),t});this.focusedTime=f({},this.focusedTime,{time:v}),r.forEach(function(t,n){n===l?(t.updateFocusedTime(u,v[n]),e.timeEnterMode||t.chooseValue(e.focusedTime.time[l])):t.updateFocusedTime(-1,t.focusedTime)})}},navigateDatePanel:function(t){if(zt(this,"TimeSpinner").length>0)this.navigateTimePanel(t);else{var e=this.focusedDate||this.internalValue&&this.internalValue[0]||new Date,n=new Date(e);if(this.type.match(/^date/)){var i=ni(e.getFullYear(),e.getMonth()),r=e.getDate(),o=n.getDate()+vi(t,1,7);o<1?t.match(/left|right/)?(n.setMonth(n.getMonth()+1),n.setDate(o)):n.setDate(r+7*Math.floor((i-r)/7)):o>i?t.match(/left|right/)?(n.setMonth(n.getMonth()-1),n.setDate(o)):n.setDate(r%7):n.setDate(o)}this.type.match(/^month/)&&n.setMonth(n.getMonth()+vi(t,1,3)),this.type.match(/^year/)&&n.setFullYear(n.getFullYear()+vi(t,1,3)),this.focusedDate=n}},handleInputChange:function(t){var e=this.type.includes("range")||this.multiple,n=this.visualValue,i=t.target.value,r=this.parseDate(i),o=this.options&&"function"==typeof this.options.disabledDate&&this.options.disabledDate,a=e?r:r[0],s=o&&o(a),l=r.reduce(function(t,e){return t&&e instanceof Date},!0);i!==n&&!s&&l?(this.emitChange(this.type),this.internalValue=r):this.forceInputRerender++},handleInputMouseenter:function(){this.readonly||this.disabled||this.visualValue&&(this.showClose=!0)},handleInputMouseleave:function(t){t.toElement&&t.toElement.classList.contains("clear-action")||(this.showClose=!1)},handleClear:function(t){var e=this;this.visible=!1,this.internalValue=this.internalValue.map(function(){return null}),this.$emit("clear"),this.emitChange(this.type),this.reset(),this.showClose=!1,this.shortcut=null,setTimeout(function(){return e.onSelectionModeChange(e.type)},500)},emitChange:function(t){var e=this;this.$nextTick(function(){e.$emit("change",e.publicStringValue,t),e.dispatch("bk-form-item","form-change"),e.type.indexOf("time")<0&&e.$refs.input&&e.$refs.input.blur()})},parseDate:function(t){var e=this.type.includes("range"),n=this.type,i=(hi[n]||hi.default).parser,r=this.format||ai[n],o=hi.multiple.parser;if(!t||"time"!==n||t instanceof Date)if(this.multiple&&t)t=o(t,r);else if(e)if(t)if("string"==typeof t)t=i(t,r);else if("timerange"===n)t=i(t,r).map(function(t){return t||""});else{var a=v(t,2),s=a[0],l=a[1];s instanceof Date&&l instanceof Date?t=t.map(function(t){return new Date(t)}):"string"==typeof s&&"string"==typeof l?t=i(t.join(" - "),r):s&&l||(t=[null,null])}else t=[null,null];else"string"==typeof t&&0!==n.indexOf("time")&&(t=i(t,r)||null);else t=i(t,r);return e||this.multiple?t||[]:[t]},formatDate:function(t){var e=ai[this.type];return this.multiple?(0,hi.multiple.formatter)(t,this.format||e):(0,(hi[this.type]||hi.default).formatter)(t,this.format||e)},onPick:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(this.multiple){var o=t.getTime(),a=this.internalValue.findIndex(function(t){return t&&t.getTime()===o}),s=[].concat(m(this.internalValue),[t]).filter(Boolean).map(function(t){return t.getTime()}).filter(function(t,e,n){return n.indexOf(t)===e&&e!==a});this.internalValue=s.map(function(t){return new Date(t)})}else t=this.parseDate(t),this.internalValue=se(t)?t:[t];this.internalValue[0]&&(this.focusedDate=this.internalValue[0]),this.focusedTime=f({},this.focusedTime,{time:this.internalValue.map(mi)}),this.isConfirm||(this.onSelectionModeChange(this.type),this.visible=n),"upToNow"===i&&"daterange"===this.type&&this.onPickSuccess(),this.shortcut=r,this.emitChange(i);var l=this.shortcuts.findIndex(function(t){return t===e.shortcut});this.$emit("shortcut-change",this.shortcut,l)},onPickSuccess:function(){var t=this;this.visible=!1,this.$nextTick(function(){t.$emit("pick-success")}),this.$refs.input&&this.$refs.input.blur(),this.reset()},focus:function(){this.$refs.input&&this.$refs.input.focus()}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function bi(t,e){return new Date(t,e+1,0).getDate()}function xi(t,e,n){return 0===e&&n>50?t-1:11===e&&n<10?t+1:t}function wi(t,e,n,i){e>11&&(e=0,t++);var r=new Date(t,e,n);i&&r.setDate(r.getDate()+4-(r.getDay()||7));var o=i?r.getFullYear():t,a=new Date(o,0,1),s=1+Math.round((r-a)/864e5);i||(s+=a.getDay());var l=Math.ceil(s/7);if(!i){var u=new Date(t,e,n),c=new Date(t+1,0,1),h=c.getDay();u.getTime()>=c.getTime()-864e5*h&&(l=1)}return l}var _i=function(t){return function(t,e,n){for(var i,r,o,a=this.lang||"en",s=this.onlyDays,l=void 0===this.weekStart?1:this.weekStart,u=1===l,c=[],h=l-(new Date(t,e,1).getDay()||(u?7:0)),d=wi(t,e,1,u),f=bi(t,e),p=bi(t,e-1),g=xi(t,e,d),v={month:e,year:t,daysInMonth:f},m=0;m<7;m++){o=h;for(var y=0;y<8;y++){m>0&&y>0&&h++,h>f||h<1?(r=h>f?h-f:p+h,i=h>f?e+1:e-1):(r=h,i=e);var b=o!==h&&m>0,x={desc:b?r:d,week:d,type:0===y?"weekLabel":0===m?"dayLabel":h<1?"prevMonth":h>f?"nextMonth":"monthDay",format:u?"ISO 8601":"US",date:!!b&&new Date(Date.UTC(t,i,r)),year:g,index:c.length};n&&("function"==typeof n?x=n.call(v,x,a):n.forEach(function(t){x=t.call(v,x,a)})),s&&b?c.push(x):s||c.push(x)}m>0&&(d=wi(t,i,r+1,u)),g=xi(t,e,d)}return v.cells=c,v}.bind(t)},Si=st("IE_PROTO"),Mi=Object.prototype,Ci=Object.getPrototypeOf||function(t){return t=kt(t),G(t,Si)?t[Si]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Mi:null};Tt("getPrototypeOf",function(){return function(t){return Ci(kt(t))}});var Ii=M.Object.getPrototypeOf,ki={enUS:{bk:{lang:"en-US",datePicker:{selectDate:"Select Date",selectTime:"Select Time",clear:"Clear",ok:"OK",weekdays:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},hour:"Hour",min:"Minute",sec:"Second",toNow:"Now"},dialog:{ok:"OK",cancel:"CANCEL"},exception:{403:"Forbidden",404:"Not Found",500:"Internal Server Error",building:"Building",empty:"No Data",searchEmpty:"Search Is Empty",login:"Please log in to Blueking"},form:{validPath:"Please configure a valid path"},input:{input:"Please input"},imageViewer:{loadFailed:"Picture failed to load.",quitTips:"ESC Can Exit fullscreen"},notify:{showMore:"Show more"},select:{selectAll:"Select All",pleaseselect:"Please select",searchPlaceholder:"Input keyword to search",dataEmpty:"No options",searchEmpty:"No matched data"},sideslider:{title:"Title"},tagInput:{placeholder:"Please input and press ENTER to finish"},transfer:{left:"Left",total:" (Total {total})",addAll:"Add All",emptyContent:"No Data",right:"Right",removeAll:"Remove All",emptySelected:"No Selected",searchPlaceholder:"Input keyword to search"},tree:{emptyText:"No Data"},steps:{step1:"Step1",step2:"Step2",step3:"Step3"},uploadFile:{drag:"Try dragging an file here or",click:"click to upload",uploadDone:"Upload finished",uploading:"uploading",reupload:"reupload",replace:"replace",uploadFailed:"upload failed",fileExceedMsg:"{fileName} cannot exceed {size} MB",invalidFileName:"FileName is not valid",invalidImageFormat:"Only upload JPG | PNG | JPEG",imageExceedMsg:"Image Size cannot exceed {imgSize} MB",uploadLabel:"Upload Files"},navigation:{headerTitle:"Program name"},searchSelect:{placeholder:"Please enter",emptyText:"Included key worth filtering query must have a value",condition:"Or",remoteEmptyText:"Query no data",remoteLoadingText:"Loading...",tips:"multiple keywords separate by |",ok:"OK",cancel:"Cancel"},table:{emptyText:"No Data",sumText:"Summary",setting:{title:"Table Settings",fields:{title:"Displaying Fields Setting",subtitle:"（{max} fiels most）",selectAll:"All"},lineHeight:{title:"Table Line Height",small:"small",medium:"medium",large:"large"},options:{ok:"OK",cancel:"Cancel"}},confirm:"Confirm",reset:"Reset",all:"All",filter:{placeholder:"Please input keyword",empty:"No matched data"}},bigTree:{emptyText:"No Data"},message:{copy:"copy",copied:"copied"},image:{zoomIn:"zoom in",zoomOut:"zoom out",rotateLeft:"anticlockwise",rotateRight:"clockwise rotation",fullScreen:"full screen",original:"original size",prev:"prev",next:"next"}}},zhCN:{bk:{lang:"zh-CN",datePicker:{selectDate:"选择日期",selectTime:"选择时间",clear:"清除",ok:"确定",weekdays:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},hour:"时",min:"分",sec:"秒",toNow:"至今"},dialog:{ok:"确定",cancel:"取消"},exception:{403:"无业务权限",404:"页面不存在",500:"服务维护中",building:"功能建设中",empty:"没有数据",searchEmpty:"搜索为空",login:"请登入蓝鲸"},form:{validPath:"请配置合法的路径"},input:{input:"请输入"},imageViewer:{loadFailed:"抱歉，图片加载失败",quitTips:"ESC 可以退出全屏"},notify:{showMore:"查看更多"},select:{selectAll:"全选",pleaseselect:"请选择",searchPlaceholder:"输入关键字搜索",dataEmpty:"暂无选项",searchEmpty:"无匹配数据"},sideslider:{title:"标题"},tagInput:{placeholder:"请输入并按Enter结束"},transfer:{left:"左侧列表",total:"（共{total}条）",addAll:"全部添加",emptyContent:"无数据",right:"右侧列表",removeAll:"清空",emptySelected:"未选择任何项",searchPlaceholder:"请输入搜索关键字"},tree:{emptyText:"暂无数据"},steps:{step1:"步骤1",step2:"步骤2",step3:"步骤3"},uploadFile:{drag:"将文件拖到此处或",click:"点击上传",uploadDone:"上传完毕",uploading:"正在上传",reupload:"重新上传",replace:"点击替换",uploadFailed:"上传失败",fileExceedMsg:"{fileName} 文件不能超过 {size} MB",invalidFileName:"文件名不合法",invalidImageFormat:"只允许上传JPG|PNG|JPEG格式的图片",imageExceedMsg:"图片大小不能超过 {imgSize} MB",uploadLabel:"上传文件"},navigation:{headerTitle:"栏目名称"},searchSelect:{placeholder:"请输入",emptyText:"包含键值得过滤查询必须有一个值",condition:"或",remoteEmptyText:"查询无数据",remoteLoadingText:"正在加载中...",tips:"多个关键字用竖线 “|” 分隔",ok:"确认",cancel:"取消"},table:{emptyText:"暂无数据",sumText:"总计",setting:{title:"表格设置",fields:{title:"字段显示设置",subtitle:"（最多{max}项）",selectAll:"全选"},lineHeight:{title:"表格行高",small:"小",medium:"中",large:"大"},options:{ok:"确认",cancel:"取消"}},confirm:"确定",reset:"重置",all:"全部",filter:{placeholder:"请输入关键字",empty:"无匹配项"}},bigTree:{emptyText:"暂无搜索结果"},message:{copy:"复制",copied:"已复制"},image:{zoomIn:"放大",zoomOut:"缩小",rotateLeft:"向左旋转",rotateRight:"向右旋转",fullScreen:"适应屏幕",original:"快速回到 1：1"}}}},Ti=B,Oi=_(function(t){var e=ot("meta"),n=R.f,i=0,r=Object.isExtensible||function(){return!0},o=!O(function(){return r(Object.preventExtensions({}))}),a=function(t){n(t,e,{value:{i:"O"+ ++i,w:{}}})},s=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!k(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!G(t,e)){if(!r(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!G(t,e)){if(!r(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return o&&s.NEED&&r(t)&&!G(t,e)&&a(t),t}}}),Ei=(Oi.KEY,Oi.NEED,Oi.fastKey,Oi.getWeak,Oi.onFreeze,_(function(t){var e=nt("wks"),n=S.Symbol,i="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=i&&n[t]||(i?n:ot)("Symbol."+t))}).store=e})),Ai=R.f,Ni=Ei("toStringTag"),Li=function(t,e,n){t&&!G(t=n?t:t.prototype,Ni)&&Ai(t,Ni,{configurable:!0,value:e})},Di={f:Ei},ji=R.f,Pi=function(t){var e=M.Symbol||(M.Symbol={});"_"==t.charAt(0)||t in e||ji(e,t,{value:Di.f(t)})},Ri={f:Object.getOwnPropertySymbols},zi=E?Object.defineProperties:function(t,e){T(t);for(var n,i=dt(e),r=i.length,o=0;r>o;)R.f(t,n=i[o++],e[n]);return t},Bi=S.document,Fi=Bi&&Bi.documentElement,Gi=st("IE_PROTO"),Vi=function(){},Wi=function(){var t,e=L("iframe"),n=ht.length;for(e.style.display="none",Fi.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Wi=t.F;n--;)delete Wi.prototype[ht[n]];return Wi()},Hi=Object.create||function(t,e){var n;return null!==t?(Vi.prototype=T(t),n=new Vi,Vi.prototype=null,n[Gi]=t):n=Wi(),void 0===e?n:zi(n,e)},Ui=ht.concat("length","prototype"),Yi={f:Object.getOwnPropertyNames||function(t){return ct(t,Ui)}},Ji=Yi.f,Qi={}.toString,Zi="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],$i={f:function(t){return Zi&&"[object Window]"==Qi.call(t)?function(t){try{return Ji(t)}catch(t){return Zi.slice()}}(t):Ji(Q(t))}},Xi=Object.getOwnPropertyDescriptor,Ki={f:E?Xi:function(t,e){if(t=Q(t),e=j(e,!0),D)try{return Xi(t,e)}catch(t){}if(G(t,e))return z(!ft.f.call(t,e),t[e])}},qi=Oi.KEY,tr=Ki.f,er=R.f,nr=$i.f,ir=S.Symbol,rr=S.JSON,or=rr&&rr.stringify,ar=Ei("_hidden"),sr=Ei("toPrimitive"),lr={}.propertyIsEnumerable,ur=nt("symbol-registry"),cr=nt("symbols"),hr=nt("op-symbols"),dr=Object.prototype,fr="function"==typeof ir&&!!Ri.f,pr=S.QObject,gr=!pr||!pr.prototype||!pr.prototype.findChild,vr=E&&O(function(){return 7!=Hi(er({},"a",{get:function(){return er(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=tr(dr,e);i&&delete dr[e],er(t,e,n),i&&t!==dr&&er(dr,e,i)}:er,mr=function(t){var e=cr[t]=Hi(ir.prototype);return e._k=t,e},yr=fr&&"symbol"==typeof ir.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof ir},br=function(t,e,n){return t===dr&&br(hr,e,n),T(t),e=j(e,!0),T(n),G(cr,e)?(n.enumerable?(G(t,ar)&&t[ar][e]&&(t[ar][e]=!1),n=Hi(n,{enumerable:z(0,!1)})):(G(t,ar)||er(t,ar,z(1,{})),t[ar][e]=!0),vr(t,e,n)):er(t,e,n)},xr=function(t,e){T(t);for(var n,i=function(t){var e=dt(t),n=Ri.f;if(n)for(var i,r=n(t),o=ft.f,a=0;r.length>a;)o.call(t,i=r[a++])&&e.push(i);return e}(e=Q(e)),r=0,o=i.length;o>r;)br(t,n=i[r++],e[n]);return t},wr=function(t,e){if(t=Q(t),e=j(e,!0),t!==dr||!G(cr,e)||G(hr,e)){var n=tr(t,e);return!n||!G(cr,e)||G(t,ar)&&t[ar][e]||(n.enumerable=!0),n}},_r=function(t){for(var e,n=nr(Q(t)),i=[],r=0;n.length>r;)G(cr,e=n[r++])||e==ar||e==qi||i.push(e);return i},Sr=function(t){for(var e,n=t===dr,i=nr(n?hr:Q(t)),r=[],o=0;i.length>o;)!G(cr,e=i[o++])||n&&!G(dr,e)||r.push(cr[e]);return r};fr||(Ti((ir=function(){if(this instanceof ir)throw TypeError("Symbol is not a constructor!");var t=ot(arguments.length>0?arguments[0]:void 0),e=function(n){this===dr&&e.call(hr,n),G(this,ar)&&G(this[ar],t)&&(this[ar][t]=!1),vr(this,t,z(1,n))};return E&&gr&&vr(dr,t,{configurable:!0,set:e}),mr(t)}).prototype,"toString",function(){return this._k}),Ki.f=wr,R.f=br,Yi.f=$i.f=_r,ft.f=function(t){var e=lr.call(this,t=j(t,!0));return!(this===dr&&G(cr,t)&&!G(hr,t))&&(!(e||!G(this,t)||!G(cr,t)||G(this,ar)&&this[ar][t])||e)},Ri.f=Sr,Di.f=function(t){return mr(Ei(t))}),W(W.G+W.W+W.F*!fr,{Symbol:ir});for(var Mr="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Cr=0;Mr.length>Cr;)Ei(Mr[Cr++]);for(var Ir=dt(Ei.store),kr=0;Ir.length>kr;)Pi(Ir[kr++]);W(W.S+W.F*!fr,"Symbol",{for:function(t){return G(ur,t+="")?ur[t]:ur[t]=ir(t)},keyFor:function(t){if(!yr(t))throw TypeError(t+" is not a symbol!");for(var e in ur)if(ur[e]===t)return e},useSetter:function(){gr=!0},useSimple:function(){gr=!1}}),W(W.S+W.F*!fr,"Object",{create:function(t,e){return void 0===e?Hi(t):xr(Hi(t),e)},defineProperty:br,defineProperties:xr,getOwnPropertyDescriptor:wr,getOwnPropertyNames:_r,getOwnPropertySymbols:Sr});var Tr=O(function(){Ri.f(1)});W(W.S+W.F*Tr,"Object",{getOwnPropertySymbols:function(t){return Ri.f(kt(t))}}),rr&&W(W.S+W.F*(!fr||O(function(){var t=ir();return"[null]"!=or([t])||"{}"!=or({a:t})||"{}"!=or(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(k(e)||void 0!==t)&&!yr(t))return ae(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!yr(e))return e}),i[1]=e,or.apply(rr,i)}}),ir.prototype[sr]||B(ir.prototype,sr,ir.prototype.valueOf),Li(ir,"Symbol"),Li(Math,"Math",!0),Li(S.JSON,"JSON",!0);var Or=M.Object.getOwnPropertySymbols,Er=M.Symbol.for;Pi("asyncIterator"),Pi("observable");var Ar="function"==typeof M.Symbol&&Er?Er("react.element"):60103;function Nr(t){return function(t){return!!t&&"object"===o(t)}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===Ar}(t)}(t)}function Lr(t,e){return 0!=!!e.clone&&e.isMergeableObject(t)?Rr(se(t)?[]:{},t,e):t}function Dr(t,e,n){return t.concat(e).map(function(t){return Lr(t,n)})}function jr(t){return Ot(t).concat(function(t){return Or?Or(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}(t))}function Pr(t,e){try{return e in t}catch(t){return!1}}function Rr(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||Dr,n.isMergeableObject=n.isMergeableObject||Nr,n.cloneUnlessOtherwiseSpecified=Lr;var i=se(e);return i===se(t)?i?n.arrayMerge(t,e,n):function(t,e,n){var i={};return n.isMergeableObject(t)&&jr(t).forEach(function(e){i[e]=Lr(t[e],n)}),jr(e).forEach(function(r){(function(t,e){return Pr(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,r)||(Pr(t,r)&&n.isMergeableObject(e[r])?i[r]=function(t,e){if(!e.customMerge)return Rr;var n=e.customMerge(t);return"function"==typeof n?n:Rr}(r,n)(t[r],e[r],n):i[r]=Lr(e[r],n))}),i}(t,e,n):Lr(e,n)}Rr.all=function(t,e){if(!se(t))throw new Error("first argument should be an array");return t.reduce(function(t,n){return Rr(t,n,e)},{})};var zr=ki.zhCN,Br=!1,Fr=function(){var t=Ii(this||n).$t;if("function"==typeof t&&n.locale)return Br||(Br=!0,n.locale(n.config.lang,Rr(zr,n.locale(n.config.lang)||{},{clone:!0}))),t.apply(this,arguments)},Gr=function(t){return String(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},Vr=function(t,e){var n=Fr.apply(this,arguments);if(null!=n)return n;for(var i=t.split("."),r=zr,o=i.length,a=0;a<o;a++){if(n=r[i[a]],a===o-1)return e&&"string"==typeof n?n.replace(/\{(?=\w+)/g,"").replace(/(\w+)\}/g,"$1").replace(new RegExp(Ot(e).map(Gr).join("|"),"g"),function(t){return e[t]}):n;if(!n)return"";r=n}return""},Wr=function(t){t&&(zr=Rr(zr,t))},Hr=function(t){Fr=t||Fr},Ur=function(){return zr},Yr={methods:{t:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Vr.apply(this,e)}}};n.prototype.bkLocale={use:Wr,t:Vr,i18n:Hr,getCurLang:Ur,lang:ki,mixin:Yr};var Jr={use:Wr,t:Vr,i18n:Hr,getCurLang:Ur,lang:ki,mixin:Yr},Qr={name:"PanelTable",props:{tableDate:{type:Date,required:!0},disabledDate:{type:Function},selectionMode:{type:String,required:!0},value:{type:Array,required:!0},rangeState:{type:Object,default:function(){return{from:null,to:null,selecting:!1}}},focusedDate:{type:Date,required:!0}},computed:{dates:function(){var t=this.selectionMode,e=this.value,n=this.rangeState;return"range"===t&&n.selecting?[n.from]:e}},methods:{handleClick:function(t){if(!t.disabled&&"weekLabel"!==t.type){var e=new Date(fi(t.date));this.$emit("pick",e),this.$emit("pick-click")}},handleMouseMove:function(t){if(this.rangeState.selecting&&!t.disabled){var e=t.date;this.$emit("change-range",e)}}}},Zr=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-date-picker-cells"},[n("div",{staticClass:"bk-date-picker-cells-header"},t._l(t.headerDays,function(e){return n("span",{key:e},[t._v(t._s(e))])}),0),t._l(t.cells,function(e,i){return n("span",{key:String(e.date)+i,class:t.getCellCls(e),on:{click:function(n){t.handleClick(e,n)},mouseenter:function(n){t.handleMouseMove(e)}}},[n("em",[t._v(t._s(e.desc))])])})],2)},staticRenderFns:[]},void 0,{mixins:[Qr,Jr.mixin],data:function(){return{}},computed:{calendar:function(){return new _i({onlyDays:!0,weekStart:0})},headerDays:function(){var t=[this.t("bk.datePicker.weekdays.sun"),this.t("bk.datePicker.weekdays.mon"),this.t("bk.datePicker.weekdays.tue"),this.t("bk.datePicker.weekdays.wed"),this.t("bk.datePicker.weekdays.thu"),this.t("bk.datePicker.weekdays.fri"),this.t("bk.datePicker.weekdays.sat")];return t.splice(0,7).concat(t.splice(0,0))},cells:function(){var t=this.tableDate.getFullYear(),e=this.tableDate.getMonth(),n=fi(new Date),i=this.dates.filter(Boolean).map(fi),r=v(this.dates.map(fi),2),o=r[0],a=r[1],s=this.rangeState.from&&fi(this.rangeState.from),l=this.rangeState.to&&fi(this.rangeState.to),u="range"===this.selectionMode,c="function"==typeof this.disabledDate&&this.disabledDate;return this.calendar(t,e,function(t){t.date instanceof Date&&t.date.setTime(t.date.getTime()+6e4*t.date.getTimezoneOffset());var r=t.date&&fi(t.date),h=t.date&&e===t.date.getMonth();return f({},t,{type:r===n?"today":t.type,selected:h&&i.includes(r),disabled:t.date&&c&&c(new Date(r)),range:h&&u&&function(t,e,n){if(!e||!n)return!1;var i=v([e,n].sort(),2),r=i[0],o=i[1];return t>=r&&t<=o}(r,s,l),start:h&&u&&r===o,end:h&&u&&r===a})}).cells.slice(0)}},methods:{getCellCls:function(t){var e;return["bk-date-picker-cells-cell",(e={},h(e,"bk-date-picker-cells-cell-selected",t.selected||t.start||t.end),h(e,"bk-date-picker-cells-cell-disabled",t.disabled),h(e,"bk-date-picker-cells-cell-today","today"===t.type),h(e,"bk-date-picker-cells-cell-prev-month","prevMonth"===t.type),h(e,"bk-date-picker-cells-cell-next-month","nextMonth"===t.type),h(e,"bk-date-picker-cells-cell-week-label","weekLabel"===t.type),h(e,"bk-date-picker-cells-cell-range",t.range&&!t.start&&!t.end),e)]}}},void 0,!1,void 0,!1,void 0,void 0,void 0),$r=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-date-picker-cells bk-date-picker-cells-year"},t._l(t.cells,function(e,i){return n("span",{key:i,class:t.getCellCls(e),on:{click:function(n){t.handleClick(e)},mouseenter:function(n){t.handleMouseMove(e)}}},[n("em",[t._v(t._s(e.date.getFullYear()))])])}),0)},staticRenderFns:[]},void 0,{mixins:[Qr],computed:{startYear:function(){return 10*Math.floor(this.tableDate.getFullYear()/10)},cells:function(){for(var t=[],e={text:"",selected:!1,disabled:!1},n=this.dates.filter(Boolean).map(function(t){return fi(new Date(t.getFullYear(),0,1))}),i=fi(new Date(this.focusedDate.getFullYear(),0,1)),r=0;r<10;r++){var o=JSON.parse(In(e));o.date=new Date(this.startYear+r,0,1),o.disabled="function"==typeof this.disabledDate&&this.disabledDate(o.date)&&"year"===this.selectionMode;var a=fi(o.date);o.selected=n.includes(a),o.focused=a===i,t.push(o)}return t}},methods:{getCellCls:function(t){return["bk-date-picker-cells-cell",{"bk-date-picker-cells-cell-selected":t.selected,"bk-date-picker-cells-cell-disabled":t.disabled,"bk-date-picker-cells-cell-range":t.range&&!t.start&&!t.end}]}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Xr=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-date-picker-cells bk-date-picker-cells-month"},t._l(t.cells,function(e,i){return n("span",{key:i,class:t.getCellCls(e),on:{click:function(n){t.handleClick(e)},mouseenter:function(n){t.handleMouseMove(e)}}},[n("em",[t._v(t._s(e.text))])])}),0)},staticRenderFns:[]},void 0,{mixins:[Qr],computed:{cells:function(){for(var t=[],e={text:"",selected:!1,disabled:!1},n=this.tableDate.getFullYear(),i=this.dates.filter(Boolean).map(function(t){return fi(new Date(t.getFullYear(),t.getMonth(),1))}),r=fi(new Date(this.focusedDate.getFullYear(),this.focusedDate.getMonth(),1)),o=0;o<12;o++){var a=JSON.parse(In(e));a.date=new Date(n,o,1),a.text=this.tCell(o+1);var s=fi(a.date);a.disabled="function"==typeof this.disabledDate&&this.disabledDate(a.date)&&"month"===this.selectionMode,a.selected=i.includes(s),a.focused=s===r,t.push(a)}return t}},methods:{getCellCls:function(t){var e;return["bk-date-picker-cells-cell",(e={},h(e,"bk-date-picker-cells-cell-selected",t.selected),h(e,"bk-date-picker-cells-cell-disabled",t.disabled),h(e,"bk-date-picker-cells-cell-range",t.range&&!t.start&&!t.end),e)]},tCell:function(t){return String(t).length>1?t:"0".concat(t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Kr=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-picker-confirm",on:{"!keydown":function(e){return"button"in e||!t._k(e.keyCode,"tab",9,e.key,"Tab")?t.handleTab(e):null}}},[t.showTime?n("a",{staticClass:"bk-picker-confirm-time",attrs:{href:"javascript: void(0);",disabled:t.timeDisabled},on:{click:t.handleToggleTime}},[t._v(t._s(t.labels.time))]):t._e(),t.clearable?n("a",{attrs:{href:"javascript: void(0);"},on:{click:t.handleClear,keydown:t.handleClear}},[t._v(t._s(t.labels.clear))]):t._e(),n("a",{staticClass:"confirm",attrs:{href:"javascript: void(0);"},on:{click:t.handleSuccess,keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleSuccess(e):null}}},[t._v(t._s(t.labels.ok))])])},staticRenderFns:[]},void 0,{mixins:[ee,Jr.mixin],props:{showTime:{type:Boolean,default:!1},isTime:{type:Boolean,default:!1},timeDisabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0}},computed:{labels:function(){return{time:this.isTime?this.t("bk.datePicker.selectDate"):this.t("bk.datePicker.selectTime"),clear:this.t("bk.datePicker.clear"),ok:this.t("bk.datePicker.ok")}}},methods:{handleClear:function(){this.$emit("pick-clear")},handleSuccess:function(){this.$emit("pick-success")},handleToggleTime:function(){this.timeDisabled||(this.$emit("pick-toggle-time"),this.dispatch("bk-date-picker","focus-input"))},handleTab:function(t){var e=m(this.$el.children)[t.shiftKey?"shift":"pop"]();document.activeElement===e&&(t.preventDefault(),t.stopPropagation(),this.dispatch("bk-date-picker","focus-input"))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),qr=S.parseFloat,to=Ln.trim,eo=1/qr(kn+"-0")!=-1/0?function(t){var e=to(String(t),3),n=qr(e);return 0===n&&"-"==e.charAt(0)?-0:n}:qr;W(W.G+W.F*(parseFloat!=eo),{parseFloat:eo});var no=M.parseFloat;function io(t,e){var n=e.split(" ");if(1===t.nodeType)if(t.className||1!==n.length){var i=" "+t.className+" ";n.forEach(function(t){i.indexOf(" "+t+" ")<0&&(i+=t+" ")}),t.className=i.replace(/^\s+|\s+$/,"")}else t.className=e}function ro(t,e){var n=e.split(" ");if(1===t.nodeType){var i=" "+t.className+" ";n.forEach(function(t){i=i.replace(" "+t+" "," ")}),t.className=i.replace(/^\s+|\s+$/,"")}}function oo(){for(var t="",e=Math.floor(65536*(1+Math.random())).toString(16).substring(1),n=0;n<7;n++)t+=e;return t}function ao(t){return"".concat(Number((100*t).toFixed(3)),"%")}function so(t){return null===t?"[object Null]":toString.call(t)}function lo(t){return"number"==typeof t||"[object Number]"===so(t)}function uo(t){var e=o(t);return"string"===e||"object"===e&&null!==t&&"[object String]"===so(t)}function co(t){return null==t||uo(t)&&""===t||function(t){return se(t)}(t)&&0===t.length}function ho(t){if(!t)return!1;var e=!1;try{var n=window.getComputedStyle(t,null);if("none"!==n.webkitLineClamp){var i=no(n.height),r=function(t,e){var n=document.createElement("div"),i=no(e.width)?Math.ceil(no(e.width))+"px":e.width;return n.style.cssText="\n      width: ".concat(i,";\n      line-height: ").concat(e["line-height"],";\n      font-size: ").concat(e["font-size"],";\n      word-break: ").concat(e["word-break"],";\n      padding: ").concat(e.padding,";\n    "),n.textContent=t.textContent,n}(t,n);document.body.appendChild(r);var o=window.getComputedStyle(r,null).height;document.body.removeChild(r),e=i<no(o)}else e=t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight}catch(t){console.warn("There is an error when check element overflow state: ",t)}return e}window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;var fo={props:{disabledHours:{type:Array,default:function(){return[]}},disabledMinutes:{type:Array,default:function(){return[]}},disabledSeconds:{type:Array,default:function(){return[]}},hideDisabledOptions:{type:Boolean,default:!1},width:{type:Number,default:261},enterMode:{type:Boolean,default:!0}},methods:{firstUpperCase:function(t){return t.toString()[0].toUpperCase()+t.toString().slice(1)}}},po=["hours","minutes","seconds"],go=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-time-picker-cells",class:t.showSeconds?"bk-time-picker-cells-with-seconds":""},[n("div",{staticClass:"bk-time-picker-cells-title-wrapper"},[n("div",{staticClass:"bk-time-picker-cells-title",class:0===t.focusedColumn?"active":"",style:t.styles},[t._v(t._s(t.t("bk.datePicker.hour")))]),n("div",{staticClass:"bk-time-picker-cells-title",class:1===t.focusedColumn?"active":"",style:t.styles},[t._v(t._s(t.t("bk.datePicker.min")))]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showSeconds,expression:"showSeconds"}],staticClass:"bk-time-picker-cells-title",class:2===t.focusedColumn?"active":"",style:t.styles},[t._v(t._s(t.t("bk.datePicker.sec")))])]),n("div",{ref:"hours",staticClass:"bk-time-picker-cells-list",style:t.styles},[n("ul",{staticClass:"bk-time-picker-cells-ul"},t._l(t.hoursList,function(e,i){return n("li",{directives:[{name:"show",rawName:"v-show",value:!e.hide,expression:"!item.hide"}],key:i,class:t.getCellCls(e),on:{click:function(n){t.handleClick("hours",e)}}},[t._v(t._s(t.padTime(e.text)))])}),0)]),n("div",{ref:"minutes",staticClass:"bk-time-picker-cells-list",style:t.styles},[n("ul",{staticClass:"bk-time-picker-cells-ul"},t._l(t.minutesList,function(e,i){return n("li",{directives:[{name:"show",rawName:"v-show",value:!e.hide,expression:"!item.hide"}],key:i,class:t.getCellCls(e),on:{click:function(n){t.handleClick("minutes",e)}}},[t._v(t._s(t.padTime(e.text)))])}),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showSeconds,expression:"showSeconds"}],ref:"seconds",staticClass:"bk-time-picker-cells-list",style:t.styles},[n("ul",{staticClass:"bk-time-picker-cells-ul"},t._l(t.secondsList,function(e,i){return n("li",{directives:[{name:"show",rawName:"v-show",value:!e.hide,expression:"!item.hide"}],key:i,class:t.getCellCls(e),on:{click:function(n){t.handleClick("seconds",e)}}},[t._v(t._s(t.padTime(e.text)))])}),0)])])},staticRenderFns:[]},void 0,{name:"TimeSpinner",mixins:[fo,Jr.mixin],props:{hours:{type:[Number,String],default:NaN},minutes:{type:[Number,String],default:NaN},seconds:{type:[Number,String],default:NaN},showSeconds:{type:Boolean,default:!0},steps:{type:Array,default:function(){return[]}}},data:function(){var t=this;return{spinerSteps:[1,1,1].map(function(e,n){return Math.abs(t.steps[n])||e}),compiled:!1,focusedColumn:-1,focusedTime:[0,0,0]}},computed:{hoursList:function(){for(var t=[],e=this.spinerSteps[0],n=0===this.focusedColumn&&this.focusedTime[0],i={text:0,selected:!1,disabled:!1,hide:!1},r=0;r<24;r+=e){var o=JSON.parse(In(i));o.text=r,o.focused=r===n,this.disabledHours.length&&this.disabledHours.indexOf(r)>-1&&(o.disabled=!0,this.hideDisabledOptions&&(o.hide=!0)),this.hours===r&&(o.selected=!0),t.push(o)}return t},minutesList:function(){for(var t=[],e=this.spinerSteps[1],n=1===this.focusedColumn&&this.focusedTime[1],i={text:0,selected:!1,disabled:!1,hide:!1},r=0;r<60;r+=e){var o=JSON.parse(In(i));o.text=r,o.focused=r===n,this.disabledMinutes.length&&this.disabledMinutes.indexOf(r)>-1&&(o.disabled=!0,this.hideDisabledOptions&&(o.hide=!0)),this.minutes===r&&(o.selected=!0),t.push(o)}return t},secondsList:function(){for(var t=[],e=this.spinerSteps[2],n=2===this.focusedColumn&&this.focusedTime[2],i={text:0,selected:!1,disabled:!1,hide:!1},r=0;r<60;r+=e){var o=JSON.parse(In(i));o.text=r,o.focused=r===n,this.disabledSeconds.length&&this.disabledSeconds.indexOf(r)>-1&&(o.disabled=!0,this.hideDisabledOptions&&(o.hide=!0)),this.seconds===r&&(o.selected=!0),t.push(o)}return t},styles:function(){return{width:this.showSeconds?"33.33%":"50%"}}},watch:{hours:function(t){this.compiled&&this.scroll("hours",this.hoursList.findIndex(function(e){return e.text===t}))},minutes:function(t){this.compiled&&this.scroll("minutes",this.minutesList.findIndex(function(e){return e.text===t}))},seconds:function(t){this.compiled&&this.scroll("seconds",this.secondsList.findIndex(function(e){return e.text===t}))},focusedTime:function(t,e){var n=this;po.forEach(function(i,r){if(t[r]!==e[r]&&void 0!==t[r]){var o=n["".concat(i,"List")].findIndex(function(e){return e.text===t[r]});n.scroll(i,o)}})}},mounted:function(){var t=this;this.$nextTick(function(){t.compiled=!0,t.bindWheelEvent()})},methods:{getCellCls:function(t){var e;return["bk-time-picker-cells-cell",(e={},h(e,"bk-time-picker-cells-cell-selected",t.selected),h(e,"bk-time-picker-cells-cell-focused",t.focused),h(e,"bk-time-picker-cells-cell-disabled",t.disabled),e)]},chooseValue:function(t){var e=this,n=po.reduce(function(n,i,r){var o=t[r];return e[i]===o?n:f({},n,h({},i,o))},{});Ot(n).length>0&&this.emitChange(n)},bindWheelEvent:function(){var t=this,e=function(e){t.$refs[e].addEventListener("wheel",function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var o=null;return function(n){clearTimeout(o),o=setTimeout(function(){t.apply(void 0,[n].concat(i))},e)}}(t.handleWheel,32,e),{passive:!0})};e("hours"),e("minutes"),e("seconds")},typeItemHeight:function(t){return this.$refs[t].querySelector("li").offsetHeight},scrollBarHeight:function(t){return this.$refs[t].offsetHeight},handleWheel:function(t,e){var n=this,i=Math.min(Math.round((this.$refs[e].scrollTop-(.5*this.scrollBarHeight(e)-10)/this.typeItemHeight(e)+3)/this.typeItemHeight(e)),"hours"===e?23:59);if(this["".concat(e,"List")].find(function(t){return t.text===i}).disabled)return!1;this.$nextTick(function(){n.emitChange(h({},e,i))})},handleClick:function(t,e){if(!e.disabled){var n=h({},t,e.text);this.emitChange(n)}},emitChange:function(t){this.$emit("change",t),this.$emit("pick-click")},scroll:function(t,e){var n=this.$refs[t].scrollTop,i=32*this.getScrollIndex(t,e);!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4?arguments[4]:void 0,o=Math.abs(e-n);!function e(n,i,o){if(n!==i){var a=n+o>i?i:n+o;n>i&&(a=n-o<i?i:n-o),t===window?window.scrollTo(a,a):t.scrollTop=a,window.requestAnimationFrame(function(){return e(a,i,o)})}else r&&r()}(e,n,Math.ceil(o/i*50))}(this.$refs[t],n,i,500)},getScrollIndex:function(t,e){var n=this.firstUpperCase(t),i=this["disabled".concat(n)];if(i.length&&this.hideDisabledOptions){var r=0;i.forEach(function(t){return t<=e?r++:""}),e-=r}return e},updateScroll:function(){var t=this;this.$nextTick(function(){po.forEach(function(e){t.$refs[e].scrollTop=32*t["".concat(e,"List")].findIndex(function(n){return n.text===t[e]})})})},padTime:function(t){return t<10?"0"+t:t},updateFocusedTime:function(t,e){this.focusedColumn=t,this.focusedTime=e.slice()}}},void 0,!1,void 0,!1,void 0,void 0,void 0),vo={props:{confirm:{type:Boolean,default:!1}},methods:{capitalize:function(t){return t[0].toUpperCase()+t.slice(1)},iconBtnCls:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return["bk-picker-panel-icon-btn","bk-date-picker-".concat(t,"-btn"),"bk-date-picker-".concat(t,"-btn-arrow").concat(e)]},handleShortcutClick:function(t){t.value&&this.$emit("pick",t.value(),!1,void 0,t),t.onClick&&t.onClick(this),this.shortcutClose&&this.handlePickSuccess()},handlePickClear:function(){this.resetView(),this.$emit("pick-clear")},handlePickSuccess:function(){this.resetView(),this.$emit("pick-success")},handlePickClick:function(){this.$emit("pick-click")},resetView:function(){var t=this;setTimeout(function(){t.currentView=t.selectionMode},500)},handleClear:function(){this.dates=this.dates.map(function(){return null}),this.rangeState={},this.$emit("pick",this.dates),this.handleConfirm()},handleConfirm:function(t,e){this.$emit("pick",this.dates,t,e||this.type)},onToggleVisibility:function(t){var e=this.$refs,n=e.timeSpinner,i=e.timeSpinnerEnd;t&&n&&n.updateScroll(),t&&i&&i.updateScroll()}}},mo=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-picker-panel-body-wrapper",on:{mousedown:function(t){t.preventDefault()}}},[n("div",{staticClass:"bk-picker-panel-body",style:{width:t.width+"px"}},[t.showDate?n("div",{staticClass:"bk-time-picker-header"},[t._v(t._s(t.visibleDate))]):t._e(),n("div",{staticClass:"bk-picker-panel-content"},[n("time-spinner",{ref:"timeSpinner",attrs:{"show-seconds":t.showSeconds,steps:t.steps,hours:t.timeSlots[0],minutes:t.timeSlots[1],seconds:t.timeSlots[2],"disabled-hours":t.disabledHMS.disabledHours,"disabled-minutes":t.disabledHMS.disabledMinutes,"disabled-seconds":t.disabledHMS.disabledSeconds,"hide-disabled-options":t.hideDisabledOptions},on:{change:t.handleChange,"pick-click":t.handlePickClick}})],1)])])},staticRenderFns:[]},void 0,{name:"TimePickerPanel",components:{TimeSpinner:go},mixins:[fo,vo],props:{disabledDate:{type:Function,default:function(){return!1}},steps:{type:Array,default:function(){return[]}},format:{type:String,default:"HH:mm:ss"},value:{type:Array,required:!0}},data:function(){return{date:this.value[0]||ei(),showDate:!1}},computed:{showSeconds:function(){return!(this.format||"").match(/mm$/)},visibleDate:function(){return Bn.format(this.$parent.panelDate,this.$parent.format)},timeSlots:function(){var t=this;return this.value[0]?["getHours","getMinutes","getSeconds"].map(function(e){return t.date[e]()}):[]},disabledHMS:function(){var t=this,e=["disabledHours","disabledMinutes","disabledSeconds"];if(this.disabledDate===function(){return!t.value[0]})return e.reduce(function(e,n){return e[n]=t[n],e},{});var n=[24,60,60],i=["Hours","Minutes","Seconds"].map(function(e){return t["disabled".concat(e)]}).map(function(e,i){for(var r=n[i],o=e,a=function(e){var n=t.timeSlots.map(function(t,n){return n===i?e:t}),r=function(t,e,n,i){var r=new Date(t.getTime());return r.setHours(e),r.setMinutes(n),r.setSeconds(i),r}.apply(void 0,[t.date].concat(m(n)));t.disabledDate(r,!0)&&o.push(e)},s=0;s<r;s+=t.steps[i]||1)a(s);return o.filter(function(t,e,n){return n.indexOf(t)===e})});return e.reduce(function(t,e,n){return t[e]=i[n],t},{})}},watch:{value:function(t){var e=t[0]||ei();e=new Date(e),this.date=e}},mounted:function(){this.$parent&&"DatePanel"===this.$parent.$options.name&&(this.showDate=!0)},methods:{handleChange:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=new Date(this.date);Ot(t).forEach(function(n){return i["set".concat(e.capitalize(n))](t[n])}),n&&this.$emit("pick",i,"time")}}},void 0,!1,void 0,!1,void 0,void 0,void 0),yo=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t.datePanelLabel?[n("span",{directives:[{name:"show",rawName:"v-show",value:t.showLabelFirst,expression:"showLabelFirst"}],class:t.cls,on:{click:t.datePanelLabel.labels[0].handler}},[t._v(t._s(t.datePanelLabel.labels[0].label))]),"date"===t.currentView?[t._v(t._s(t.datePanelLabel.separator))]:t._e(),n("span",{directives:[{name:"show",rawName:"v-show",value:t.showLabelSecond,expression:"showLabelSecond"}],class:t.cls,on:{click:t.datePanelLabel.labels[1].handler}},[t._v(t._s(t.datePanelLabel.labels[1].label))])]:t._e()],2)},staticRenderFns:[]},void 0,{props:{datePanelLabel:Object,currentView:String},data:function(){return{cls:"bk-date-picker-header-label"}},computed:{showLabelFirst:function(){return"year"===this.datePanelLabel.labels[0].type||"date"===this.currentView},showLabelSecond:function(){return"year"===this.datePanelLabel.labels[1].type||"date"===this.currentView}}},void 0,!1,void 0,!1,void 0,void 0,void 0),bo={props:{showTime:{type:Boolean,default:!1},format:{type:String,default:"yyyy-MM-dd"},selectionMode:{type:String,default:"date",validator:function(t){return!(["year","month","date","time"].indexOf(t)<0&&(console.error("selectionMode property is not valid: '".concat(t,"'")),1))}},disabledDate:{type:Function,default:function(){return!1}},value:{type:Array,default:function(){return[ei(),ei()]}},timePickerOptions:{default:function(){return{}},type:Object},startDate:{type:Date},pickerType:{type:String,require:!0},focusedDate:{type:Date,required:!0},upToNow:{type:Boolean,default:!1}},computed:{isTime:function(){return"time"===this.currentView}},methods:{handleToggleTime:function(){this.currentView="time"===this.currentView?"date":"time"}}},xo=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-picker-panel-body-wrapper",class:t.shortcuts.length?"bk-picker-panel-with-sidebar":"",on:{mousedown:function(t){t.preventDefault()}}},[t.shortcuts.length?n("div",{staticClass:"bk-picker-panel-sidebar"},t._l(t.shortcuts,function(e,i){return n("div",{key:i,staticClass:"bk-picker-panel-shortcut",on:{click:function(n){t.handleShortcutClick(e)}}},[t._v("\n      "+t._s(e.text)+"\n    ")])}),0):t._e(),n("div",{staticClass:"bk-picker-panel-body",staticStyle:{width:"261px"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==t.currentView,expression:"currentView !== 'time'"}],staticClass:"bk-date-picker-header"},[n("span",{class:t.iconBtnCls("prev","-double"),on:{click:function(e){t.changeYear(-1)}}},[n("i",{staticClass:"bk-icon icon-angle-double-left"})]),"date-table"===t.pickerTable?n("span",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],class:t.iconBtnCls("prev"),on:{click:function(e){t.changeMonth(-1)}}},[n("i",{staticClass:"bk-icon icon-angle-left"})]):t._e(),n("date-panel-label",{attrs:{"date-panel-label":t.datePanelLabel,"current-view":t.pickerTable.split("-").shift()}}),n("span",{class:t.iconBtnCls("next","-double"),on:{click:function(e){t.changeYear(1)}}},[n("i",{staticClass:"bk-icon icon-angle-double-right"})]),"date-table"===t.pickerTable?n("span",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],class:t.iconBtnCls("next"),on:{click:function(e){t.changeMonth(1)}}},[n("i",{staticClass:"bk-icon icon-angle-right"})]):t._e()],1),n("div",{staticClass:"bk-picker-panel-content"},["time"!==t.currentView?n(t.pickerTable,{tag:"component",attrs:{"table-date":t.panelDate,value:t.dates,"selection-mode":t.selectionMode,"disabled-date":t.disabledDate,"focused-date":t.focusedDate},on:{pick:t.panelPickerHandlers,"pick-click":t.handlePickClick}}):t._e()],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isTime,expression:"isTime"}],staticClass:"bk-picker-panel-content"},["time"===t.currentView?n("time-picker",t._b({ref:"timePicker",attrs:{value:t.dates,format:t.format,"time-disabled":t.timeDisabled,"disabled-date":t.disabledDate,"focused-date":t.focusedDate},on:{pick:t.handlePick,"pick-click":t.handlePickClick,"pick-clear":t.handlePickClear,"pick-success":t.handlePickSuccess,"pick-toggle-time":t.handleToggleTime}},"time-picker",t.timePickerOptions,!1)):t._e()],1),t.confirm?n("Confirm",{attrs:{clearable:t.clearable,"show-time":t.showTime,"is-time":t.isTime},on:{"pick-toggle-time":t.handleToggleTime,"pick-clear":t.handlePickClear,"pick-success":t.handlePickSuccess}}):t._e()],1)])},staticRenderFns:[]},void 0,{name:"DatePanel",components:{DateTable:Zr,YearTable:$r,MonthTable:Xr,TimePicker:mo,DatePanelLabel:yo,Confirm:Kr},mixins:[vo,bo],props:{clearable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},shortcuts:{type:Array,default:function(){return[]}},shortcutClose:{type:Boolean,default:!1}},data:function(){var t=this.selectionMode,e=this.value.slice().sort();return{currentView:t||"date",pickerTable:this.getTableType(t),dates:e,panelDate:this.startDate||e[0]||new Date}},computed:{panelPickerHandlers:function(){return this.pickerTable==="".concat(this.currentView,"-table")?this.handlePick:this.handlePreSelection},datePanelLabel:function(){var t=this,e=this.panelDate,n=di("zh-CN","[yyyy]-[mm]",e),i=n.labels;return{separator:n.separator,labels:i.map(function(e){var n;return e.handler=(n=e.type,function(){t.pickerTable=t.getTableType(n)}),e})}},timeDisabled:function(){return!this.dates[0]}},watch:{value:function(t){this.dates=t;var e=this.multiple?this.dates[this.dates.length-1]:this.startDate||this.dates[0];this.panelDate=e||new Date},currentView:function(t){var e=this;this.$emit("selection-mode-change",t),"time"===this.currentView&&this.$nextTick(function(){e.$refs.timePicker.$refs.timeSpinner.updateScroll()})},selectionMode:function(t){this.currentView=t,this.pickerTable=this.getTableType(t)},focusedDate:function(t){var e=t.getFullYear()!==this.panelDate.getFullYear(),n=e||t.getMonth()!==this.panelDate.getMonth();(e||n)&&(this.multiple||(this.panelDate=t))}},methods:{reset:function(){this.currentView=this.selectionMode,this.pickerTable=this.getTableType(this.currentView)},changeYear:function(t){"year"===this.selectionMode||"year-table"===this.pickerTable?this.panelDate=new Date(this.panelDate.getFullYear()+10*t,0,1):this.panelDate=pi(this.panelDate,12*t)},getTableType:function(t){return t.match(/^time/)?"time-picker":"".concat(t,"-table")},changeMonth:function(t){this.panelDate=pi(this.panelDate,t)},handlePreSelection:function(t){this.panelDate=t,"year-table"===this.pickerTable?this.pickerTable="month-table":this.pickerTable=this.getTableType(this.currentView)},handlePick:function(t,e){var n=this.selectionMode,i=this.panelDate;t="year"===n?new Date(t.getFullYear(),0,1):"month"===n?new Date(i.getFullYear(),t.getMonth(),1):new Date(t),this.dates=[t],this.$emit("pick",t,!1,e||n)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),wo=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-picker-panel-body-wrapper bk-time-picker-with-range",class:t.showSeconds?"bk-time-picker-with-seconds":"",on:{mousedown:function(t){t.preventDefault()}}},[n("div",{staticClass:"bk-picker-panel-body",style:{width:2*t.width+"px"}},[n("div",{staticClass:"bk-picker-panel-content bk-picker-panel-content-left",style:{width:t.width+"px"}},[t.showDate?n("div",{staticClass:"bk-time-picker-header"},[[t._v(t._s(t.leftDatePanelLabel))]],2):t._e(),n("time-spinner",{ref:"timeSpinner",attrs:{steps:t.steps,"show-seconds":t.showSeconds,hours:t.value[0]&&t.dateStart.getHours(),minutes:t.value[0]&&t.dateStart.getMinutes(),seconds:t.value[0]&&t.dateStart.getSeconds(),"disabled-hours":t.disabledHours,"disabled-minutes":t.disabledMinutes,"disabled-seconds":t.disabledSeconds,"hide-disabled-options":t.hideDisabledOptions},on:{change:t.handleStartChange,"pick-click":t.handlePickClick}})],1),n("div",{staticClass:"bk-picker-panel-content bk-picker-panel-content-right",style:{width:t.width+"px"}},[t.showDate?n("div",{staticClass:"bk-time-picker-header"},[[t._v(t._s(t.rightDatePanelLabel))]],2):t._e(),n("time-spinner",{ref:"timeSpinnerEnd",attrs:{steps:t.steps,"show-seconds":t.showSeconds,hours:t.value[1]&&t.dateEnd.getHours(),minutes:t.value[1]&&t.dateEnd.getMinutes(),seconds:t.value[1]&&t.dateEnd.getSeconds(),"disabled-hours":t.disabledHours,"disabled-minutes":t.disabledMinutes,"disabled-seconds":t.disabledSeconds,"hide-disabled-options":t.hideDisabledOptions},on:{change:t.handleEndChange,"pick-click":t.handlePickClick}})],1)])])},staticRenderFns:[]},void 0,{name:"RangeTimePickerPanel",components:{TimeSpinner:go},mixins:[fo,vo],props:{steps:{type:Array,default:function(){return[]}},format:{type:String,default:"HH:mm:ss"},value:{type:Array,required:!0},allowCrossDay:{type:Boolean,default:!1}},data:function(){var t=v(this.value.slice(),2),e=t[0],n=t[1];return{showDate:!1,dateStart:e||ei(),dateEnd:n||ei()}},computed:{showSeconds:function(){return!(this.format||"").match(/mm$/)},leftDatePanelLabel:function(){return Bn.format(this.$parent.dates[0],this.$parent.format)},rightDatePanelLabel:function(){return Bn.format(this.$parent.dates[1],this.$parent.format)}},watch:{value:function(t){var e=v(t.slice(),2),n=e[0],i=e[1];this.dateStart=n||ei(),this.dateEnd=i||ei()}},mounted:function(){this.$parent&&"DateRangePanel"===this.$parent.$options.name&&(this.showDate=!0)},methods:{handleChange:function(t,e,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=new Date(this.dateStart),a=new Date(this.dateEnd);Ot(e).forEach(function(t){o["set".concat(i.capitalize(t))](e[t])}),Ot(n).forEach(function(t){a["set".concat(i.capitalize(t))](n[t])}),!this.allowCrossDay&&a<o&&("start"===t&&(a=o),"end"===t&&(o=a)),r&&this.$emit("pick",[o,a],"time")},handleStartChange:function(t){this.handleChange("start",t,{})},handleEndChange:function(t){this.handleChange("end",{},t)},updateScroll:function(){this.$refs.timeSpinner.updateScroll(),this.$refs.timeSpinnerEnd.updateScroll()}}},void 0,!1,void 0,!1,void 0,void 0,void 0),_o=function(t,e){return t&&e?t.getTime()-e.getTime():0},So={name:"bk-date-picker",mixins:[yi],components:{DatePanel:xo,DateRangePanel:Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-picker-panel-body-wrapper bk-date-picker-with-range",class:[t.shortcuts.length||t.$slots.shortcuts?"bk-picker-panel-with-sidebar":""],on:{mousedown:function(t){t.preventDefault()}}},[n("div",{staticClass:"bk-picker-panel-body",class:t.showTime?"bk-picker-panel-body-time":"bk-picker-panel-body-date"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isTime,expression:"!isTime"}],staticClass:"bk-picker-panel-content bk-picker-panel-content-left",staticStyle:{width:"261px"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==t.currentView,expression:"currentView !== 'time'"}],staticClass:"bk-date-picker-header"},[n("span",{class:t.iconBtnCls("prev","-double"),on:{click:function(e){t.prevYear("left")}}},[n("i",{staticClass:"bk-icon icon-angle-double-left"})]),"date-table"===t.leftPickerTable?n("span",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],class:t.iconBtnCls("prev"),on:{click:function(e){t.prevMonth("left")}}},[n("i",{staticClass:"bk-icon icon-angle-left"})]):t._e(),n("date-panel-label",{attrs:{"date-panel-label":t.leftDatePanelLabel,"current-view":t.leftDatePanelView}}),t.splitPanels||"date-table"!==t.leftPickerTable?n("span",{class:t.iconBtnCls("next","-double"),on:{click:function(e){t.nextYear("left")}}},[n("i",{staticClass:"bk-icon icon-angle-double-right"})]):t._e(),t.splitPanels&&"date-table"===t.leftPickerTable?n("span",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],class:t.iconBtnCls("next"),on:{click:function(e){t.nextMonth("left")}}},[n("i",{staticClass:"bk-icon icon-angle-right"})]):t._e()],1),"time"!==t.currentView?n(t.leftPickerTable,{tag:"component",attrs:{"selection-mode":"range","table-date":t.leftPanelDate,"disabled-date":t.disabledDate,"range-state":t.rangeState,value:t.preSelecting.left?[t.dates[0]]:t.dates,"focused-date":t.focusedDate},on:{"change-range":t.handleChangeRange,pick:t.panelPickerHandlers.left,"pick-click":t.handlePickClick}}):t._e()],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isTime,expression:"!isTime"}],staticClass:"bk-picker-panel-content bk-picker-panel-content-right",staticStyle:{width:"261px"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==t.currentView,expression:"currentView !== 'time'"}],staticClass:"bk-date-picker-header"},[t.splitPanels||"date-table"!==t.rightPickerTable?n("span",{class:t.iconBtnCls("prev","-double"),on:{click:function(e){t.prevYear("right")}}},[n("i",{staticClass:"bk-icon icon-angle-double-left"})]):t._e(),t.splitPanels&&"date-table"===t.rightPickerTable?n("span",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],class:t.iconBtnCls("prev"),on:{click:function(e){t.prevMonth("right")}}},[n("i",{staticClass:"bk-icon icon-angle-left"})]):t._e(),n("date-panel-label",{attrs:{"date-panel-label":t.rightDatePanelLabel,"current-view":t.rightDatePanelView}}),t.upToNow?[(t.rangeState.selecting||"time"===t.currentView)&&t.upToNowEnable?n("span",{staticClass:"up-to-now",attrs:{href:"javascript: void(0);"},on:{click:function(e){t.handleRangePick(new Date,"upToNow")}}},[t._v("\n            "+t._s(t.t("bk.datePicker.toNow"))+"\n          ")]):n("span",{staticClass:"up-to-now disabled",attrs:{href:"javascript: void(0);"}},[t._v("\n            "+t._s(t.t("bk.datePicker.toNow"))+"\n          ")])]:t._e(),n("span",{class:t.iconBtnCls("next","-double"),on:{click:function(e){t.nextYear("right")}}},[n("i",{staticClass:"bk-icon icon-angle-double-right"})]),"date-table"===t.rightPickerTable?n("span",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],class:t.iconBtnCls("next"),on:{click:function(e){t.nextMonth("right")}}},[n("i",{staticClass:"bk-icon icon-angle-right"})]):t._e()],2),"time"!==t.currentView?n(t.rightPickerTable,{tag:"component",attrs:{"selection-mode":"range","table-date":t.rightPanelDate,"range-state":t.rangeState,"disabled-date":t.disabledDate,value:t.preSelecting.right?[t.dates[t.dates.length-1]]:t.dates,"focused-date":t.focusedDate},on:{"change-range":t.handleChangeRange,pick:t.panelPickerHandlers.right,"pick-click":t.handlePickClick}}):t._e()],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isTime,expression:"isTime"}],staticClass:"bk-picker-panel-content"},["time"===t.currentView?n("time-picker",t._b({ref:"timePicker",attrs:{value:t.dates,format:t.format,"time-disabled":t.timeDisabled},on:{pick:t.handleRangePick,"pick-click":t.handlePickClick,"pick-clear":t.handlePickClear,"pick-success":t.handlePickSuccess,"pick-toggle-time":t.handleToggleTime}},"time-picker",t.timePickerOptions,!1)):t._e()],1),t.confirm?n("Confirm",{attrs:{clearable:t.clearable,"show-time":t.showTime,"is-time":t.isTime,"time-disabled":t.timeDisabled},on:{"pick-toggle-time":t.handleToggleTime,"pick-clear":t.handlePickClear,"pick-success":t.handlePickSuccess}}):t._e()],1),t.shortcuts.length||t.$slots.shortcuts?n("div",{staticClass:"bk-picker-panel-sidebar"},[t.$slots.shortcuts?t._t("shortcuts"):t._l(t.shortcuts,function(e,i){return n("div",{key:i,staticClass:"bk-picker-panel-shortcut",on:{click:function(n){t.handleShortcutClick(e)}}},[t._v(t._s(e.text))])})],2):t._e()])},staticRenderFns:[]},void 0,{name:"DateRangePanel",components:{DateTable:Zr,YearTable:$r,MonthTable:Xr,TimePicker:wo,DatePanelLabel:yo,Confirm:Kr},mixins:[vo,bo,Jr.mixin],props:{clearable:{type:Boolean,default:!0},splitPanels:{type:Boolean,default:!0},shortcuts:{type:Array,default:function(){return[]}},shortcutClose:{type:Boolean,default:!1}},data:function(){var t=v(this.value.map(function(t){return t||ei()}),2),e=t[0],n=t[1],i=this.startDate?this.startDate:e;return{dates:this.value,rangeState:{from:this.value[0],to:this.value[1],selecting:e&&!n},currentView:this.selectionMode||"range",leftPickerTable:"".concat(this.selectionMode,"-table"),rightPickerTable:"".concat(this.selectionMode,"-table"),leftPanelDate:i,rightPanelDate:new Date(i.getFullYear(),i.getMonth()+1,1),upToNowEnable:!1}},computed:{leftDatePanelLabel:function(){return this.panelLabelConfig("left")},rightDatePanelLabel:function(){return this.panelLabelConfig("right")},leftDatePanelView:function(){return this.leftPickerTable.split("-").shift()},rightDatePanelView:function(){return this.rightPickerTable.split("-").shift()},timeDisabled:function(){return!(this.dates[0]&&this.dates[1])},preSelecting:function(){var t="".concat(this.currentView,"-table");return{left:this.leftPickerTable!==t,right:this.rightPickerTable!==t}},panelPickerHandlers:function(){return{left:this.preSelecting.left?this.handlePreSelection.bind(this,"left"):this.handleRangePick,right:this.preSelecting.right?this.handlePreSelection.bind(this,"right"):this.handleRangePick}}},watch:{value:function(t){var e=t[0]?ii(t[0]):null,n=t[1]?ii(t[1]):null;this.dates=[e,n].sort(_o),this.rangeState={from:this.dates[0],to:this.dates[1],selecting:!1},this.setPanelDates(this.startDate||this.dates[0]||new Date)},currentView:function(t){var e=this,n=this.leftPanelDate.getMonth(),i=this.rightPanelDate.getMonth(),r=this.leftPanelDate.getFullYear()===this.rightPanelDate.getFullYear();"date"===t&&r&&n===i&&this.changePanelDate("right","Month",1),"month"===t&&r&&this.changePanelDate("right","FullYear",1),"year"===t&&r&&this.changePanelDate("right","FullYear",10),"time"===this.currentView&&this.$nextTick(function(){e.$refs.timePicker.updateScroll()})},selectionMode:function(t){this.currentView=t||"range"},focusedDate:function(t){this.setPanelDates(t||new Date)}},methods:{reset:function(){this.currentView=this.selectionMode,this.leftPickerTable="".concat(this.currentView,"-table"),this.rightPickerTable="".concat(this.currentView,"-table")},setPanelDates:function(t){this.leftPanelDate=t;var e=new Date(t.getFullYear(),t.getMonth()+1,1),n=this.dates[1]?this.dates[1].getTime():this.dates[1];this.rightPanelDate=this.splitPanels?new Date(Math.max(n,e.getTime())):e},panelLabelConfig:function(t){var e=this,n=this["".concat(t,"PanelDate")],i=di("zh-CN","[yyyy]-[mm]",n),r=i.labels;return{separator:i.separator,labels:r.map(function(n){var i,r;return n.handler=(i=n.type,r="month"===i?e.showMonthPicker:e.showYearPicker,function(){return r(t)}),n})}},prevYear:function(t){var e="year"===this.currentView?-10:-1;this.changePanelDate(t,"FullYear",e)},nextYear:function(t){var e="year"===this.currentView?10:1;this.changePanelDate(t,"FullYear",e)},prevMonth:function(t){this.changePanelDate(t,"Month",-1)},nextMonth:function(t){this.changePanelDate(t,"Month",1)},changePanelDate:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=new Date(this["".concat(t,"PanelDate")]);if(r["set".concat(e)](r["get".concat(e)]()+n),this["".concat(t,"PanelDate")]=r,i)if(this.splitPanels){var o="left"===t?"right":"left";"left"===t&&this.leftPanelDate>=this.rightPanelDate&&this.changePanelDate(o,e,1),"right"===t&&this.rightPanelDate<=this.leftPanelDate&&this.changePanelDate(o,e,-1)}else{var a="left"===t?"right":"left",s=this["".concat(a,"PanelDate")],l=new Date(s);if("Month"===e){var u=new Date(l.getFullYear(),l.getMonth()+n+1,0).getDate();l.setDate(Math.min(u,l.getDate()))}l["set".concat(e)](l["get".concat(e)]()+n),this["".concat(a,"PanelDate")]=l}},showYearPicker:function(t){this["".concat(t,"PickerTable")]="year-table"},showMonthPicker:function(t){this["".concat(t,"PickerTable")]="month-table"},handlePreSelection:function(t,e){this["".concat(t,"PanelDate")]=e;var n=this["".concat(t,"PickerTable")];if(this["".concat(t,"PickerTable")]="year-table"===n?"month-table":"".concat(this.currentView,"-table"),!this.splitPanels){var i="left"===t?"right":"left";this["".concat(i,"PanelDate")]=e;var r="left"===i?-1:1;this.changePanelDate(i,"Month",r,!1)}},handleRangePick:function(t,e){if(this.rangeState.selecting||"time"===this.currentView){if("time"===this.currentView)this.dates=t;else{var n=v([this.rangeState.from,t].sort(_o),2),i=n[0],r=n[1],o="upToNow"===e?new Date:new Date(new Date(new Date(r.setHours(23)).setMinutes(59)).setSeconds(59));this.dates=[i,o],this.rangeState={from:i,to:o,selecting:!1}}this.handleConfirm(!1,e||"date")}else this.upToNowEnable=new Date(t).getTime()<(new Date).getTime(),this.rangeState={from:t,to:null,selecting:!0}},handleChangeRange:function(t){this.rangeState.to=t}}},void 0,!1,void 0,!1,void 0,void 0,void 0)},props:{type:{type:String,default:"date",validator:function(t){return!(["year","month","date","daterange","datetime","datetimerange"].indexOf(t)<0&&(console.error("type property is not valid: '".concat(t,"'")),1))}}},computed:{panel:function(){return"daterange"===this.type||"datetimerange"===this.type?"DateRangePanel":"DatePanel"},ownPickerProps:function(){return this.options}}};Et(So);var Mo={},Co={};B(Co,Ei("iterator"),function(){return this});var Io=Ei("iterator"),ko=!([].keys&&"next"in[].keys()),To=function(){return this},Oo=function(t,e,n,i,r,o,a){!function(t,e,n){t.prototype=Hi(Co,{next:z(1,n)}),Li(t,e+" Iterator")}(n,e,i);var s,l,u,c=function(t){if(!ko&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",d="values"==r,f=!1,p=t.prototype,g=p[Io]||p["@@iterator"]||r&&p[r],v=g||c(r),m=r?d?c("entries"):v:void 0,y="Array"==e&&p.entries||g;if(y&&(u=Ci(y.call(new t)))!==Object.prototype&&u.next&&Li(u,h,!0),d&&g&&"values"!==g.name&&(f=!0,v=function(){return g.call(this)}),a&&(ko||f||!p[Io])&&B(p,Io,v),Mo[e]=v,Mo[h]=To,r)if(s={values:d?v:c("values"),keys:o?v:c("keys"),entries:m},a)for(l in s)l in p||Ti(p,l,s[l]);else W(W.P+W.F*(ko||f),e,s);return s},Eo=(!0,function(t,e){var n,i,r=String(J(t)),o=X(e),a=r.length;return o<0||o>=a?"":(n=r.charCodeAt(o))<55296||n>56319||o+1===a||(i=r.charCodeAt(o+1))<56320||i>57343?r.charAt(o):r.slice(o,o+2)});Oo(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Eo(e,n),this._i+=t.length,{value:t,done:!1})});var Ao=function(t,e,n,i){try{return i?e(T(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&T(r.call(t)),e}},No=Ei("iterator"),Lo=Array.prototype,Do=function(t){return void 0!==t&&(Mo.Array===t||Lo[No]===t)},jo=function(t,e,n){e in t?R.f(t,e,z(0,n)):t[e]=n},Po=Ei("toStringTag"),Ro="Arguments"==U(function(){return arguments}()),zo=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Po))?n:Ro?U(e):"Object"==(i=U(e))&&"function"==typeof e.callee?"Arguments":i},Bo=Ei("iterator"),Fo=M.getIteratorMethod=function(t){if(null!=t)return t[Bo]||t["@@iterator"]||Mo[zo(t)]},Go=Ei("iterator"),Vo=!1;try{var Wo=[7][Go]();Wo.return=function(){Vo=!0},Array.from(Wo,function(){throw 2})}catch(e){}var Ho=function(t,e){if(!e&&!Vo)return!1;var n=!1;try{var i=[7],r=i[Go]();r.next=function(){return{done:n=!0}},i[Go]=function(){return r},t(i)}catch(t){}return n};W(W.S+W.F*!Ho(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,r,o=kt(t),a="function"==typeof this?this:Array,s=arguments.length,l=s>1?arguments[1]:void 0,u=void 0!==l,c=0,h=Fo(o);if(u&&(l=I(l,s>2?arguments[2]:void 0,2)),null==h||a==Array&&Do(h))for(n=new a(e=q(o.length));e>c;c++)jo(n,c,u?l(o[c],c):o[c]);else for(r=h.call(o),n=new a;!(i=r.next()).done;c++)jo(n,c,u?Ao(r,l,[i.value,c],!0):i.value);return n.length=c,n}});var Uo=M.Array.from,Yo={methods:{checkScrollBar:function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.documentElement.clientWidth<t,this.bodyIsOverflowing&&(this.scrollBarWidth=function(t){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var n=document.createElement("div"),i=n.style;i.position="absolute",i.top=0,i.left=0,i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="100px",i.overflowY="scroll",n.appendChild(e),document.body.appendChild(n);var r=e.offsetWidth,o=e.offsetWidth;return r===o&&(o=n.clientWidth),document.body.removeChild(n),r-o}()||t-document.documentElement.clientWidth)},checkMaskInVisible:function(){var t=this,e=document.getElementsByClassName("bk-dialog-mask")||[];return Uo(e).every(function(e){return t.isHidden(e)||e.classList.contains("fade-leave-to")})},isHidden:function(t){return"none"===window.getComputedStyle(t).display},setScrollBar:function(){this.bodyIsOverflowing&&void 0!==this.scrollBarWidth&&(document.body.style.paddingRight="".concat(this.scrollBarWidth,"px"))},resetScrollBar:function(){document.body.style.paddingRight=""},addScrollEffect:function(){this.checkScrollBar(),this.setScrollBar(),void 0===document.body.__oldOverflow&&(document.body.__oldOverflow=document.body.style.overflow),document.body.style.overflow="hidden"},removeScrollEffect:function(){this.checkMaskInVisible()&&(document.body.style.overflow=document.body.__oldOverflow||"",this.resetScrollBar())}}};!function(){if(!window.__bk_pop_manager){var t=[],e={containerId:"bk_pop_".concat((new Date).getTime()),maskId:"bk_pop_mask_".concat((new Date).getTime()),defaultKey:"bk_pop_key_".concat((new Date).getTime()),formatKey:function(t){return String(t).replace(/#/g,"_")},show:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{tplAction:"keepAll",zIndex:"",beforeHide:function(){},ignoreExistMask:!1,appendToBody:!1};t=null==t||$t(t)?this.defaultKey:t,t=this.formatKey(t);var i=oo(),r=!1;if("onlyone"===n.tplAction&&this.clearByTpl(t),this.shouldAppendToBody(t))r=!0,this.showModalMask(n.zIndex),!n.appendToBody&&this.container.append(e);else{r=!1;var o=n.zIndex;this.showModalMask(o)}var a=n.beforeHide,s=n.zIndex,l=n.ignoreExistMask;return this.instances.push({uid:i,ins:e,tplName:t,beforeHide:a,zIndex:s,ignoreExistMask:l,isAppendToBody:r}),"".concat(i,"#").concat(t)},shouldAppendToBody:function(t){return this.instances.some(function(e){return e.tplName===t})},hide:function(t,e){switch((e=e||{action:"hideUid"}).action){case"hideAll":this.clearAll();break;case"hideUid":this.clearByUid(t);break;case"hideSameTpl":this.clearByTpl(t);break;default:this.autoClear(t)}this.updateModalMaskIndex()},updateModalMaskIndex:function(){if(this.instances.length){var t=this.instances.slice(-1)[0],e=t.isAppendToBody?t.zIndex:t.zIndex-1;this.showModalMask(e)}else this.hideModalMask()},autoClear:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.indexOf("#")>0?this.clearByUid(t):this.clearByTpl()},clearByTpl:function(t){var e=this,n=t.split("#").slice(-1)[0];this.instances=this.instances.filter(function(t){return t.tplName!==n||(e.__hideInstance(t),!1)})},clearByUid:function(t){var e=t.split("#"),n=e[0],i=e[1],r=this.instances.findIndex(function(t){return t.uid===n&&t.tplName===i});r>=0?(this.__hideInstance(this.instances[r]),this.instances.splice(r,1)):console.warn("Can not find pop instance with index "+r)},clearAll:function(){var t=this;this.instances.forEach(function(e){return t.__hideInstance(e)}),this.instances=[]},showModalMask:function(t){this.dialogMask.setAttribute("style","z-index:".concat(t,";")),document.body.style.overflow="hidden",this.dialogMask.classList.remove("hide-active"),this.dialogMask.classList.add("show-active")},hideModalMask:function(){this.dialogMask.classList.remove("show-active"),this.dialogMask.classList.add("hide-active"),document.body.style.overflow=""},__hideInstance:function(t){"function"==typeof t.beforeHide?(t.beforeHide(),setTimeout(function(){t.isAppendToBody&&t.ins.remove()})):t.isAppendToBody&&t.ins.remove()}};xt(e,"container",{get:function(){var t=document.querySelector("[data-bkpop-container]");return t||((t=document.createElement("div")).setAttribute("id",this.containerId),t.setAttribute("data-bkpop-container","true"),document.body.append(t)),t}}),xt(e,"dialogMask",{get:function(){var t=document.querySelector("[data-bkpop-mask]");return t||((t=document.createElement("div")).setAttribute("id",this.maskId),t.setAttribute("class","bk-dialog-mask"),t.setAttribute("data-bkpop-mask","true"),this.container.append(t)),t}}),xt(e,"instances",{get:function(){return t},set:function(e){t=e}}),window.__bk_pop_manager=e,window.__bk_pop_manager.__container=e.container}}();var Jo=window.__bk_pop_manager,Qo={props:{zIndex:{type:[Number,String],default:"default"}},methods:{getLocalZIndex:function(t){return _t.nextTickIndex(2,t)}}},Zo={name:"bk-dialog",components:{bkButton:qt},directives:{transferDom:xn},mixins:[Jr.mixin,Yo,Qo],props:{value:{type:Boolean,default:!1},title:{type:String},okText:{type:String},cancelText:{type:String},theme:{type:String,default:"primary",validator:function(t){return!(["primary","warning","success","danger"].indexOf(t)<0&&(console.error("theme property is not valid: '".concat(t,"'")),1))}},position:{type:Object},beforeClose:{type:Function,default:function(){return!0}},extCls:{type:String,default:""},width:{type:[Number,String],default:400},showMask:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},closeIcon:{type:Boolean,default:!0},escClose:{type:Boolean,default:!0},fullscreen:{type:Boolean,default:!1},headerPosition:{type:String,default:"center",validator:function(t){return!(["left","center"].indexOf(t)<0&&(console.error("headerPosition property is not valid: '".concat(t,"'")),1))}},showFooter:{type:Boolean,default:!0},footerPosition:{type:String,default:"right",validator:function(t){return!(["left","center","right"].indexOf(t)<0&&(console.error("footerPosition property is not valid: '".concat(t,"'")),1))}},draggable:{type:Boolean,default:!0},scrollable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},confirmLoading:{type:Boolean,default:!1},zIndex:{type:Number},confirmFn:{type:Function,default:null},onClose:{type:Function,default:function(){}},type:{type:String,default:"",validator:function(t){return!(["","success","warning","danger","loading"].indexOf(t)<0&&(console.error("type property is not valid: '".concat(t,"'")),1))}},subTitle:{type:String},transfer:{type:Boolean,default:!0},autoClose:{type:Boolean,default:!0},renderDirective:{type:String,default:"show",validator:function(t){return!(["show","if"].indexOf(t)<0&&(console.error("type render-directive is not valid: '".concat(t,"'")),1))}},multiInstance:{type:Boolean,default:!0},ignoreExistMask:{type:Boolean,default:!0}},data:function(){return{visible:this.value,maskTransitionName:"fade",contentTransitionName:"ease",wrapShow:!1,showHead:!0,buttonLoading:!1,dragData:{x:null,y:null,dragX:null,dragY:null,dragging:!1},dialogIndex:0,popUid:"",uuid:oo()}},computed:{calcIcon:function(){var t="";if(this.icon)return this.icon;switch(this.type){case"success":t="check-1";break;case"error":t="close";break;case"warning":t="exclamation"}return t},wrapStyles:function(){return{zIndex:this.transfer?this.dialogIndex:this.dialogIndex+1}},mainStyles:function(){var t={},e=zn(this.width,10);if(d(t,null!==this.dragData.x?{top:0}:{width:"".concat(e,e<=100?"%":"px")}),this.position){var n=this.position.left;null!=n&&(t.left="".concat(n,"px"));var i=this.position.top;null!=i&&(t.top="".concat(i,"px"))}return t},contentStyles:function(){var t={};if(this.isDraggable){if(null!==this.dragData.x){var e=0;this.position&&void 0!==this.position.left&&null!==this.position.left&&(e=this.position.left),t.left="".concat(this.dragData.x-e,"px")}if(null!==this.dragData.y){var n=0;this.position&&void 0!==this.position.top&&null!==this.position.top&&(n=this.position.top),t.top="".concat(this.dragData.y-n,"px")}var i=zn(this.width,10);d(t,{width:"".concat(i,i<=100?"%":"px")})}return t},localeOkText:function(){return void 0===this.okText?this.t("bk.dialog.ok"):this.okText},localeCancelText:function(){return void 0===this.cancelText?this.t("bk.dialog.cancel"):this.cancelText},isDraggable:function(){return!this.fullscreen&&this.draggable},isInfoBox:function(){return"bk-info-box"===this.$root.name},shouldRender:function(){return"show"===this.renderDirective}},watch:{value:function(t){this.visible=t},visible:function(t){var e=this;!1===t?(this.buttonLoading=!1,this.timer=setTimeout(function(){e.wrapShow=!1,e.isDraggable&&(e.dragData=d({},{x:null,y:null,dragX:null,dragY:null,dragging:!1})),e.removeScrollEffect()},300),this.showMask&&Jo.hide(this.popUid)):(this.addScrollEffect(),this.$nextTick(function(){if(e.timer&&clearTimeout(e.timer),e.wrapShow=!0,e.fullscreen||setTimeout(function(){var t=e.$refs.content;zn(window.getComputedStyle(t).height,10)>=window.innerHeight&&(t.style.marginBottom="50px")},0),e.dialogIndex=void 0!==e.zIndex?e.zIndex:e.getLocalZIndex(),e.showMask){var t={tplAction:"keepAll",zIndex:e.dialogIndex,ignoreExistMask:e.ignoreExistMask};e.popUid=Jo.show("bk-dialog-".concat(e.uuid),e.$el,t)}})),this.$emit("value-change",t),"function"==typeof this.stateChangeFn&&this.stateChangeFn(t)},loading:function(t){t||(this.buttonLoading=!1)},scrollable:function(t){},title:function(t){void 0===this.$slots.header&&(this.showHead=!!t)}},mounted:function(){this.visible&&(this.wrapShow=!0);var t=!0;void 0!==this.$slots.header||this.title||(t=!1),this.showHead=t,this.escClose&&Pt(document,"keydown",this.escCloseHandler)},beforeDestroy:function(){this.escClose&&Rt(document,"keydown",this.escCloseHandler),this.removeScrollEffect(),this.visible&&this.showMask&&Jo.hide(this.popUid)},methods:{getDialogIndex:function(){return this.getLocalZIndex()},maskClickHandler:function(){this.maskClose&&this.showMask&&this.closeIcon&&this.close()},wrapClickHandler:function(t){t.target.classList.contains("bk-dialog-wrapper")&&this.maskClickHandler()},contentClickHandler:function(t){this.isDraggable},escCloseHandler:function(t){if(this.visible&&this.closeIcon&&27===t.keyCode){var e=null;if(this.isInfoBox)e=this.$root;else{var n=zt(this.$root,"bk-dialog").filter(function(t){return t.$data.visible&&t.$props.closeIcon});e=n.sort(function(t,e){return t.$data.dialogIndex<e.$data.dialogIndex?1:-1})[0]}this.$nextTick(function(){e&&e.close()})}},moveStartHandler:function(t){if(!this.isDraggable)return!1;var e=this.$refs.content.getBoundingClientRect();this.dragData.x=e.x,this.dragData.y=e.y,this.dragData.contentRect=e,this.dragData.dialogRect=this.$el.getBoundingClientRect();var n={x:t.clientX,y:t.clientY};this.dragData.dragX=n.x,this.dragData.dragY=n.y,this.dragData.dragging=!0,Pt(window,"mousemove",this.moveHandler),Pt(window,"mouseup",this.moveEndHandler)},moveHandler:function(t){var e=this.dragData;if(!e.dragging)return!1;var n={x:t.clientX,y:t.clientY},i=n.x-e.dragX,r=n.y-e.dragY;e.x<=0&&i<0?e.x=0:e.x+e.contentRect.width>=window.innerWidth&&i>0?e.x=window.innerWidth-e.contentRect.width:e.x+=i,e.dragX=n.x,e.y<=0&&r<0?e.y=0:e.y+e.contentRect.height>=window.innerHeight&&r>0?e.y=window.innerHeight-e.contentRect.height:e.y+=r,e.dragY=n.y,this.dragData=f({},e)},moveEndHandler:function(){this.dragData.dragging=!1,Rt(window,"mousemove",this.moveHandler),Rt(window,"mouseup",this.moveEndHandler)},close:function(){var t=this;return s(te.mark(function e(){var n;return te.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,"function"!=typeof t.beforeClose){e.next=5;break}return e.next=4,t.beforeClose();case 4:n=e.sent;case 5:n&&(t.visible=!1,"function"==typeof t.onClose&&t.onClose(),t.$emit("input",!1),t.$emit("cancel"),"function"==typeof t.cancelFn&&t.cancelFn(t));case 6:case"end":return e.stop()}},e)}))()},animationFinish:function(){this.$emit("after-leave"),"function"==typeof this.afterLeaveFn&&this.afterLeaveFn(this)},cancelHandler:function(t){this.close()},okHandler:function(t){var e=this;if(this.loading)return!1;this.$emit("confirm"),this.$nextTick(s(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.loading){t.next=4;break}e.buttonLoading=!0,t.next=24;break;case 4:if("function"!=typeof e.confirmFn){t.next=23;break}if(!e.confirmLoading){t.next=20;break}return t.prev=6,e.buttonLoading=!0,t.next=10,e.confirmFn(e);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),console.warn(t.t0);case 15:return t.prev=15,e.buttonLoading=!1,t.finish(15);case 18:t.next=21;break;case 20:e.confirmFn(e);case 21:t.next=24;break;case 23:e.autoClose&&(e.visible=!1,e.$emit("input",!1));case 24:case"end":return t.stop()}},t,null,[[6,12,15,18]])})))}}},$o=new Image;$o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAADhu0ooAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAJSUlEQVRo3s2aW6gdVxmAv3/OzsnJ7TRtopO2JkaqtU4IUrUSwQdBLGmDaMmbIIi3irYoFn0SzxzQUkGwvorE24tUhCoqXjAkVWmo1XppB9qkrUpKnbSWJuck6bns+X1Ya838s/bsc0nOyc6Czd579uyZ9a3//q8R1mFkZT4OvBs4ANwMegvIbuA6YFJgFvgz8C2FX/q/KUCR5roec5K1utC+cuoahcMgdwHvBd3iLy/NSwUQad/2foWvmvPCqIBqrcAvGzQrpzKQzwOHgS0NkODfLSQgIoP3/bCXrFmUen4VsFikeTUS0KzM94B+DeRDoL0AEU1WDGy4X9Jx02MKH+gATcz3PjB/qcCrBvX2dy/wZWDTIFAtTT9Je2wo6Iw6+03MvLqkm3jYuXUFzcr8JuC7oLc2EG7lBUQdMOa3MLnW5DtUd1bhWkBQEmQADlrS1T7IhdVIN1npiVmZHwI9Crzd309BvaNQVU/YDDUfwq/KwGluPF5DNEsQS9PKZwzYlpX5hjUFzcqpj4MeAdlqJq9eRe08tP3ZzFnCeZ1K9O0ht5Yh34Okt2VlPrEmoFk5dR/wQHOuqgFST6ANfH2MRuJdc67H/Qq/WAKyy1atJ9+alfnm5TiWtNGszD8G+g0TIjDOpcPDIs4JtX5LmklJsNELwGPAgwq/iqQU/a/zty4bni3S/OKqQbMyvxP0OyC97hVVAUk6vGziFyQBCuAYcAJ4GvQ0yGyR5vP+HjaMhFfHInVB1gtnnd3ZIs1fWzFoVk7tBfk1MGlUZCkva6V4Efge8KMizZ9aTqWixRWgB2xow7Wg7OLY93D85SLNF5cF9XHyZ8B+r4ZWihgpttI6oAI5AjxQpPn/VgM4BHjcv2Lpdqm1fS142JZ773Xc59Og+/w1quaCqh5S2+sjgD4L3F2k+V8vBzAMP8m5rMwXgc0Mqu4wSAEdB9kGnBsq0azMdwO/8xenrbIDmU/4fhT4VJFOz6wFZDy8dLcCG/0hq6pdn8P4r1Xh+McvuQtqhQ8ZglT+u3+J/00U9GHgo+sFCU66RZrPAPO0nZO10Rg4Abbb69SgWZnvBb2DVmwUHwi7YqX+BvhckU4vrBdkBHzOw3Z55dhDJ7j4WmdOVqJ3N15VtS1FtJEkFejzIPdcKUgzzuKqmK4YbnkC8PYWaFbmW4BDXlpePQUjvZA8V8Ai8BmvTld0eCf1KpCgrbgbfw7w27IyT8wK6O2gE20VpULFQ4pfABTkh0U6/c8rDWlgF4DzPv2XJlHphE1wjiyAyqGmGgnSU0Ww6loBs6APjgrSjLP+PfEZ2EC7xoBPAogzWH0MZFNTidQ1JbRsQL9fpNNfHzUlQFbmO4BrGKx3Md/xMCd7uPpyHGebFlCjPwL8ZNSAZszguhIWqgNWAdmUONBaPYMt+s/19z7oM0U6/cyo6cLwhcECtYpql336IoPNPeBmD2Oq6NAOELs6fxw1XMe4gOtbYYoKmve6VzXRA24gdAPccW3bafij/G3UVB1jjsHqxQinFtTGHvA6QkhpWWTIZ2vq50ZNtQTosJZL+Lyxh2s6h5BiV0GNOqjAmVFTdYxFYIxuxxkgFTTpgW42uW2ts83QCkTU2cPVNvo4iYY5D9SP3h439KilSVgYbZ8oGh2/ikbdsgnfrbBCiRlOkvM0aV+fJrSEz6E02zJqrMEhY9CZ846ZY2NA1cMlyRMmK/KSk9AeCVfd6c+9msY4jY1iImQrxQPVBHiJumJpCu6oTKuAN46aqmP4NouapEGCRE3OKwsJymnqzEh8pSIVSCVNllQB2aipOsakB0nEJviqQY0D8FyCcIrGRluS1Dr9owLeMWqqjrEjAGkNpQkiUedBX0uAJ6lrTRSkP6S7sMf1e6+O4ZoFuo12oW2dk3nJjO+m68UGTkPPqJJapeuFODhqQDNupFFP42UlSupVgZnEV+x/b7oIUoOpg++D9p29ysGszCdHTeib7HtceNFYghIdO1ekeRU6DMdpyjRjp1KXburi6jjwkVGDAm9hoIuvXTE0AXkJQuav+ghwMXT6pJFq5ImpgDuyMn/zqAizMt8OvInaJsWqbPxZceHTgRa7pmeA4zTeVts2i8mSFNAvrmRPch0gNwDvcoAavGycHdnXGW+arb7uQybtCzmukaTd5JVdwL1ZOTV2BSET4DZcn2iskZpE3rYF/q/w/xq0SPN/C/IH6hBDR4iRyi2GVsA7Qe7ZV+brDushDwBvoGWXsSTDJrSKuL2X2QFQAEWP4PY3VdppYXjvG3tV4IDCfVk5tWkdITeAvg/YS2eMpMM2pVJo9bdaoEU6XQI/xoUWo6p1bDWN7Fra+0Gm3d7NmkPuBD4IcuOgFNXEyoEO/XNFmrfq56790YeBAyA3UdeqTQKhdee+tuMKeD3IV7Iy/z3w8yLNz18m4AQu5XyrO+KKf5pCu/LSq2i8a1j8c8Cp+JpDtvbz64FvAhPRRWxO3HfgNhRRARdBj6M8WuyafnGVgDuAtwG34OtI//BU1Ia1MT6YkSrIPHC0a6GXeljjPcAXfCA2e6It4H60NxMyqeDQXgCeBp7H9ZxeBeZ96Tvuc9XrQK4H3Q1yLa1CIt6XrZsAJrGReuFBThRp/kIXz3KP39wO+gkLKY39hhvGK155SBN/6ZtFCccWm4lrP/L0sdeP/YLZD3JmJMjjT6X5s8NYlnygqkjz34I8ZFdRmxUOIYdGdcJxiCQfhpo385TLwB7PsAQgetVe9smlIJcF9bA/BX7gVzl6aqyVFwegsCtnzqlbHQEsAg7949bmloVPTEM93vz9y0oe85HlTggjK6duA/kk6EYGdsBj1aptKbbbCliUWjO0b87rd5y7hNoyB/ypSPP/rGT+KwYF2FdOpYp8FthNSzU1SDs4LdtB1AjIJh8WcohzC32sljN6GfRYkU6fW+ncVwXqJdsDOQjciYvDkZsfcCJWqlH5F6eadXOub8DMAuo8yBPAP1b7JPaqQQ3wDpDDuIeUh4FaaZotyM6FaElRXBpnYU8BJy712YlLBm2A8xuA9+MymRDka0mIK9pjm7Vtm0iiYlV4AZezPlGk+SuXM8/LBjXAm4Fbgf3AXoGedjopIhsccGDzoKeBkyAnhz2tOTLQCHoM1/DeA7oT2IF7ensjzq4VdM5vh5wHXgHOOEB5sUjz/lrP6f89wbRxX0nsEwAAAABJRU5ErkJggg==";var Xo=$o.src,Ko=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],staticStyle:{position:"absolute",top:"-100000px",left:"-100000px"},attrs:{"data-transfer":t.transfer}},[n("div",{ref:"dialog_wrapper",staticClass:"bk-dialog-wrapper",class:[t.showMask?"":"bk-dialog-no-mask",t.wrapShow?"":"bk-dialog-hidden",t.extCls],style:t.wrapStyles,on:{mousedown:function(e){return e.stopPropagation(),t.wrapClickHandler(e)}}},[n("transition",{attrs:{name:t.contentTransitionName},on:{"after-leave":t.animationFinish}},[t.isInfoBox?[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"bk-dialog bk-info-box",style:[t.mainStyles]},[n("div",{ref:"content",class:["bk-dialog-content",t.isDraggable?"bk-dialog-content-drag":"",t.isDraggable&&t.dragData.dragging?"bk-dialog-content-dragging":""],style:[t.contentStyles],on:{click:t.contentClickHandler}},[n("div",{staticClass:"bk-dialog-tool",on:{mousedown:function(e){return!("button"in e)&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.moveStartHandler(e)}}},[t._t("tools")],2),t.type?[n("div",{staticClass:"bk-dialog-type-body",class:"loading"===t.type?"loading":""},[t._t("type-body",["loading"===t.type?[n("img",{staticClass:"bk-dialog-loading",attrs:{src:Xo,alt:"loading"}})]:[n("i",{staticClass:"bk-icon bk-dialog-mark",class:["bk-dialog-"+t.type,"icon-"+t.calcIcon]})]])],2),t.title||t.$slots["type-header"]?n("div",{staticClass:"bk-dialog-type-header",class:["loading"===t.type?"loading":"",t.subTitle||t.$slots["type-sub-header"]?"has-sub-header":""]},[n("div",{staticClass:"header"},[t._t("type-header",[t._v(t._s(t.title))])],2)]):t._e(),t.subTitle||t.$slots["type-sub-header"]?n("div",{staticClass:"bk-dialog-type-sub-header",class:"loading"===t.type?"loading":""},[n("div",{staticClass:"header"},[t._t("type-sub-header",[t._v(t._s(t.subTitle))])],2)]):t._e(),t.showFooter?n("div",{staticClass:"bk-dialog-footer"},[t._t("footer",[n("div",{staticClass:"footer-wrapper"},[n("bk-button",{attrs:{type:"button",name:"confirm",loading:t.buttonLoading,theme:t.theme},nativeOn:{click:function(e){return t.okHandler(e)}}},[t._v("\n                      "+t._s(t.localeOkText)+"\n                    ")]),n("bk-button",{attrs:{type:"button",name:"cancel",disabled:t.buttonLoading},nativeOn:{click:function(e){return t.cancelHandler(e)}}},[t._v("\n                      "+t._s(t.localeCancelText)+"\n                    ")])],1)])],2):t._e()]:[t.showHead?n("div",{staticClass:"bk-dialog-header"},[t._t("header",[n("div",{staticClass:"bk-dialog-header-inner"},[t._v(t._s(t.title))])])],2):t._e(),n("div",{staticClass:"bk-dialog-sub-header",class:t.subTitle||t.$slots["sub-header"]?"has-sub":""},[t._t("sub-header",[n("div",{staticClass:"bk-dialog-header-inner"},[t._v(t._s(t.subTitle))])])],2),t.showFooter?n("div",{staticClass:"bk-dialog-footer"},[t._t("footer",[n("div",{staticClass:"footer-wrapper"},[n("bk-button",{attrs:{type:"button",name:"confirm",loading:t.buttonLoading,theme:t.theme},nativeOn:{click:function(e){return t.okHandler(e)}}},[t._v("\n                      "+t._s(t.localeOkText)+"\n                    ")]),n("bk-button",{attrs:{type:"button",name:"cancel",disabled:t.buttonLoading},nativeOn:{click:function(e){return t.cancelHandler(e)}}},[t._v("\n                      "+t._s(t.localeCancelText)+"\n                    ")])],1)])],2):t._e()],t.closeIcon?n("i",{staticClass:"bk-dialog-close bk-icon icon-close",on:{click:function(e){return e.stopPropagation(),t.cancelHandler(e)}}}):t._e()],2)])]:[t.shouldRender||t.visible?n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:["bk-dialog",t.fullscreen?"bk-dialog-fullscreen":"",t.fullscreen&&!t.showHead?"bk-dialog-fullscreen-no-header":"",t.fullscreen&&!t.showFooter?"bk-dialog-fullscreen-no-footer":""],style:[t.mainStyles]},[n("div",{ref:"content",class:["bk-dialog-content",t.showMask?"":"bk-dialog-content-no-mask",t.isDraggable?"bk-dialog-content-drag":"",t.isDraggable&&t.dragData.dragging?"bk-dialog-content-dragging":""],style:[t.contentStyles],on:{click:t.contentClickHandler}},[n("div",{staticClass:"bk-dialog-tool",on:{mousedown:function(e){return!("button"in e)&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.moveStartHandler(e)}}},[t._t("tools")],2),t.showHead?n("div",{class:{"bk-dialog-header":!0,"header-on-left":"left"===t.headerPosition},style:{textAlign:t.headerPosition}},[t._t("header",[n("div",{class:{"bk-dialog-header-inner":!0,"header-center":"center"===t.headerPosition}},[t._v(t._s(t.title))])])],2):t._e(),n("div",{staticClass:"bk-dialog-body"},[t._t("default")],2),t.showFooter?n("div",{staticClass:"bk-dialog-footer",style:{textAlign:t.footerPosition}},[t._t("footer",[n("div",{staticClass:"footer-wrapper"},[n("bk-button",{attrs:{type:"button",name:"confirm",loading:t.buttonLoading,theme:t.theme},nativeOn:{click:function(e){return t.okHandler(e)}}},[t._v("\n                    "+t._s(t.localeOkText)+"\n                  ")]),n("bk-button",{attrs:{type:"button",name:"cancel",disabled:t.buttonLoading},nativeOn:{click:function(e){return t.cancelHandler(e)}}},[t._v("\n                    "+t._s(t.localeCancelText)+"\n                  ")])],1)])],2):t._e(),t.closeIcon?n("i",{staticClass:"bk-dialog-close bk-icon icon-close",on:{click:function(e){return e.stopPropagation(),t.cancelHandler(e)}}}):t._e()])]):t._e()]],2)],1)])},staticRenderFns:[]},void 0,Zo,void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Ko);var qo,ta=_(function(t,e){!function(t){function e(){}function n(t,e,n,i,r){for(var o=0,a=e.length,s=0,l=0;o<a;o++){var u=e[o];if(u.removed){if(u.value=t.join(i.slice(l,l+u.count)),l+=u.count,o&&e[o-1].added){var c=e[o-1];e[o-1]=e[o],e[o]=c}}else{if(!u.added&&r){var h=n.slice(s,s+u.count);h=h.map(function(t,e){var n=i[l+e];return n.length>t.length?n:t}),u.value=t.join(h)}else u.value=t.join(n.slice(s,s+u.count));s+=u.count,u.added||(l+=u.count)}}var d=e[a-1];return a>1&&"string"==typeof d.value&&(d.added||d.removed)&&t.equals("",d.value)&&(e[a-2].value+=d.value,e.pop()),e}function i(t){return{newPos:t.newPos,components:t.components.slice(0)}}e.prototype={diff:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.callback;"function"==typeof r&&(o=r,r={}),this.options=r;var a=this;function s(t){return o?(setTimeout(function(){o(void 0,t)},0),!0):t}t=this.castInput(t),e=this.castInput(e),t=this.removeEmpty(this.tokenize(t));var l=(e=this.removeEmpty(this.tokenize(e))).length,u=t.length,c=1,h=l+u,d=[{newPos:-1,components:[]}],f=this.extractCommon(d[0],e,t,0);if(d[0].newPos+1>=l&&f+1>=u)return s([{value:this.join(e),count:e.length}]);function p(){for(var r=-1*c;r<=c;r+=2){var o=void 0,h=d[r-1],f=d[r+1],p=(f?f.newPos:0)-r;h&&(d[r-1]=void 0);var g=h&&h.newPos+1<l,v=f&&0<=p&&p<u;if(g||v){if(!g||v&&h.newPos<f.newPos?(o=i(f),a.pushComponent(o.components,void 0,!0)):((o=h).newPos++,a.pushComponent(o.components,!0,void 0)),p=a.extractCommon(o,e,t,r),o.newPos+1>=l&&p+1>=u)return s(n(a,o.components,e,t,a.useLongestToken));d[r]=o}else d[r]=void 0}c++}if(o)!function t(){setTimeout(function(){if(c>h)return o();p()||t()},0)}();else for(;c<=h;){var g=p();if(g)return g}},pushComponent:function(t,e,n){var i=t[t.length-1];i&&i.added===e&&i.removed===n?t[t.length-1]={count:i.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,i){for(var r=e.length,o=n.length,a=t.newPos,s=a-i,l=0;a+1<r&&s+1<o&&this.equals(e[a+1],n[s+1]);)a++,s++,l++;return l&&t.components.push({count:l}),t.newPos=a,s},equals:function(t,e){return this.options.comparator?this.options.comparator(t,e):t===e||this.options.ignoreCase&&t.toLowerCase()===e.toLowerCase()},removeEmpty:function(t){for(var e=[],n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};var r=new e;function o(t,e){if("function"==typeof t)e.callback=t;else if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var a=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,s=/\S/,l=new e;l.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!s.test(t)&&!s.test(e)},l.tokenize=function(t){for(var e=t.split(/(\s+|[()[\]{}'"]|\b)/),n=0;n<e.length-1;n++)!e[n+1]&&e[n+2]&&a.test(e[n])&&a.test(e[n+2])&&(e[n]+=e[n+2],e.splice(n+1,2),n--);return e};var u=new e;function c(t,e,n){return u.diff(t,e,n)}u.tokenize=function(t){var e=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var r=n[i];i%2&&!this.options.newlineIsToken?e[e.length-1]+=r:(this.options.ignoreWhitespace&&(r=r.trim()),e.push(r))}return e};var h=new e;h.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var d=new e;function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}d.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};var g=Object.prototype.toString,v=new e;function m(t,e,n,i,r){var o,a;for(e=e||[],n=n||[],i&&(t=i(r,t)),o=0;o<e.length;o+=1)if(e[o]===t)return n[o];if("[object Array]"===g.call(t)){for(e.push(t),a=new Array(t.length),n.push(a),o=0;o<t.length;o+=1)a[o]=m(t[o],e,n,i,r);return e.pop(),n.pop(),a}if(t&&t.toJSON&&(t=t.toJSON()),"object"===f(t)&&null!==t){e.push(t),a={},n.push(a);var s,l=[];for(s in t)t.hasOwnProperty(s)&&l.push(s);for(l.sort(),o=0;o<l.length;o+=1)a[s=l[o]]=m(t[s],e,n,i,s);e.pop(),n.pop()}else a=t;return a}v.useLongestToken=!0,v.tokenize=u.tokenize,v.castInput=function(t){var e=this.options,n=e.undefinedReplacement,i=e.stringifyReplacer,r=void 0===i?function(t,e){return void 0===e?n:e}:i;return"string"==typeof t?t:JSON.stringify(m(t,null,null,r),r,"  ")},v.equals=function(t,n){return e.prototype.equals.call(v,t.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var y=new e;function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.split(/\r\n|[\n\v\f\r\x85]/),i=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],r=[],o=0;function a(){var t={};for(r.push(t);o<n.length;){var i=n[o];if(/^(\-\-\-|\+\+\+|@@)\s/.test(i))break;var a=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(i);a&&(t.index=a[1]),o++}for(s(t),s(t),t.hunks=[];o<n.length;){var u=n[o];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(u))break;if(/^@@/.test(u))t.hunks.push(l());else{if(u&&e.strict)throw new Error("Unknown line "+(o+1)+" "+JSON.stringify(u));o++}}}function s(t){var e=/^(---|\+\+\+)\s+(.*)$/.exec(n[o]);if(e){var i="---"===e[1]?"old":"new",r=e[2].split("\t",2),a=r[0].replace(/\\\\/g,"\\");/^".*"$/.test(a)&&(a=a.substr(1,a.length-2)),t[i+"FileName"]=a,t[i+"Header"]=(r[1]||"").trim(),o++}}function l(){for(var t=o,r=n[o++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),a={oldStart:+r[1],oldLines:+r[2]||1,newStart:+r[3],newLines:+r[4]||1,lines:[],linedelimiters:[]},s=0,l=0;o<n.length&&!(0===n[o].indexOf("--- ")&&o+2<n.length&&0===n[o+1].indexOf("+++ ")&&0===n[o+2].indexOf("@@"));o++){var u=0==n[o].length&&o!=n.length-1?" ":n[o][0];if("+"!==u&&"-"!==u&&" "!==u&&"\\"!==u)break;a.lines.push(n[o]),a.linedelimiters.push(i[o]||"\n"),"+"===u?s++:"-"===u?l++:" "===u&&(s++,l++)}if(s||1!==a.newLines||(a.newLines=0),l||1!==a.oldLines||(a.oldLines=0),e.strict){if(s!==a.newLines)throw new Error("Added line count did not match for hunk at line "+(t+1));if(l!==a.oldLines)throw new Error("Removed line count did not match for hunk at line "+(t+1))}return a}for(;o<n.length;)a();return r}function x(t,e,n){var i=!0,r=!1,o=!1,a=1;return function s(){if(i&&!o){if(r?a++:i=!1,t+a<=n)return a;o=!0}if(!r)return o||(i=!0),e<=t-a?-a++:(r=!0,s())}}function w(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e&&(e=b(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var i,r,o=t.split(/\r\n|[\n\v\f\r\x85]/),a=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=e.hunks,l=n.compareLine||function(t,e,n,i){return e===i},u=0,c=n.fuzzFactor||0,h=0,d=0;function f(t,e){for(var n=0;n<t.lines.length;n++){var i=t.lines[n],r=i.length>0?i[0]:" ",a=i.length>0?i.substr(1):i;if(" "===r||"-"===r){if(!l(e+1,o[e],r,a)&&++u>c)return!1;e++}}return!0}for(var p=0;p<s.length;p++){for(var g=s[p],v=o.length-g.oldLines,m=0,y=d+g.oldStart-1,w=x(y,h,v);void 0!==m;m=w())if(f(g,y+m)){g.offset=d+=m;break}if(void 0===m)return!1;h=g.offset+g.oldStart+g.oldLines}for(var _=0,S=0;S<s.length;S++){var M=s[S],C=M.oldStart+M.offset+_-1;_+=M.newLines-M.oldLines,C<0&&(C=0);for(var I=0;I<M.lines.length;I++){var k=M.lines[I],T=k.length>0?k[0]:" ",O=k.length>0?k.substr(1):k,E=M.linedelimiters[I];if(" "===T)C++;else if("-"===T)o.splice(C,1),a.splice(C,1);else if("+"===T)o.splice(C,0,O),a.splice(C,0,E),C++;else if("\\"===T){var A=M.lines[I-1]?M.lines[I-1][0]:null;"+"===A?i=!0:"-"===A&&(r=!0)}}}if(i)for(;!o[o.length-1];)o.pop(),a.pop();else r&&(o.push(""),a.push("\n"));for(var N=0;N<o.length-1;N++)o[N]=o[N]+a[N];return o.join("")}function _(t,e,n,i,r,o,a){a||(a={}),void 0===a.context&&(a.context=4);var s=c(n,i,a);function l(t){return t.map(function(t){return" "+t})}s.push({value:"",lines:[]});for(var u=[],h=0,d=0,f=[],g=1,v=1,m=function(t){var e=s[t],r=e.lines||e.value.replace(/\n$/,"").split("\n");if(e.lines=r,e.added||e.removed){var o;if(!h){var c=s[t-1];h=g,d=v,c&&(f=a.context>0?l(c.lines.slice(-a.context)):[],h-=f.length,d-=f.length)}(o=f).push.apply(o,p(r.map(function(t){return(e.added?"+":"-")+t}))),e.added?v+=r.length:g+=r.length}else{if(h)if(r.length<=2*a.context&&t<s.length-2){var m;(m=f).push.apply(m,p(l(r)))}else{var y,b=Math.min(r.length,a.context);(y=f).push.apply(y,p(l(r.slice(0,b))));var x={oldStart:h,oldLines:g-h+b,newStart:d,newLines:v-d+b,lines:f};if(t>=s.length-2&&r.length<=a.context){var w=/\n$/.test(n),_=/\n$/.test(i),S=0==r.length&&f.length>x.oldLines;!w&&S&&f.splice(x.oldLines,0,"\\ No newline at end of file"),(w||S)&&_||f.push("\\ No newline at end of file")}u.push(x),h=0,d=0,f=[]}g+=r.length,v+=r.length}},y=0;y<s.length;y++)m(y);return{oldFileName:t,newFileName:e,oldHeader:r,newHeader:o,hunks:u}}function S(t,e,n,i,r,o,a){var s=_(t,e,n,i,r,o,a),l=[];t==e&&l.push("Index: "+t),l.push("==================================================================="),l.push("--- "+s.oldFileName+(void 0===s.oldHeader?"":"\t"+s.oldHeader)),l.push("+++ "+s.newFileName+(void 0===s.newHeader?"":"\t"+s.newHeader));for(var u=0;u<s.hunks.length;u++){var c=s.hunks[u];l.push("@@ -"+c.oldStart+","+c.oldLines+" +"+c.newStart+","+c.newLines+" @@"),l.push.apply(l,c.lines)}return l.join("\n")+"\n"}function M(t,e){if(e.length>t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function C(t,e){if("string"==typeof t){if(/^@@/m.test(t)||/^Index:/m.test(t))return b(t)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return _(void 0,void 0,e,t)}return t}function I(t){return t.newFileName&&t.newFileName!==t.oldFileName}function k(t,e,n){return e===n?e:(t.conflict=!0,{mine:e,theirs:n})}function T(t,e){return t.oldStart<e.oldStart&&t.oldStart+t.oldLines<e.oldStart}function O(t,e){return{oldStart:t.oldStart,oldLines:t.oldLines,newStart:t.newStart+e,newLines:t.newLines,lines:t.lines}}function E(t,e,n,i,r){var o={offset:e,lines:n,index:0},a={offset:i,lines:r,index:0};for(D(t,o,a),D(t,a,o);o.index<o.lines.length&&a.index<a.lines.length;){var s=o.lines[o.index],l=a.lines[a.index];if("-"!==s[0]&&"+"!==s[0]||"-"!==l[0]&&"+"!==l[0])if("+"===s[0]&&" "===l[0]){var u;(u=t.lines).push.apply(u,p(P(o)))}else if("+"===l[0]&&" "===s[0]){var c;(c=t.lines).push.apply(c,p(P(a)))}else"-"===s[0]&&" "===l[0]?N(t,o,a):"-"===l[0]&&" "===s[0]?N(t,a,o,!0):s===l?(t.lines.push(s),o.index++,a.index++):L(t,P(o),P(a));else A(t,o,a)}j(t,o),j(t,a),function(t){var e=function t(e){var n=0,i=0;return e.forEach(function(e){if("string"!=typeof e){var r=t(e.mine),o=t(e.theirs);void 0!==n&&(r.oldLines===o.oldLines?n+=r.oldLines:n=void 0),void 0!==i&&(r.newLines===o.newLines?i+=r.newLines:i=void 0)}else void 0===i||"+"!==e[0]&&" "!==e[0]||i++,void 0===n||"-"!==e[0]&&" "!==e[0]||n++}),{oldLines:n,newLines:i}}(t.lines),n=e.oldLines,i=e.newLines;void 0!==n?t.oldLines=n:delete t.oldLines,void 0!==i?t.newLines=i:delete t.newLines}(t)}function A(t,e,n){var i,r,o=P(e),a=P(n);if(R(o)&&R(a)){var s,l;if(M(o,a)&&z(n,o,o.length-a.length))return void(s=t.lines).push.apply(s,p(o));if(M(a,o)&&z(e,a,a.length-o.length))return void(l=t.lines).push.apply(l,p(a))}else if(r=a,(i=o).length===r.length&&M(i,r)){var u;return void(u=t.lines).push.apply(u,p(o))}L(t,o,a)}function N(t,e,n,i){var r,o=P(e),a=function(t,e){for(var n=[],i=[],r=0,o=!1,a=!1;r<e.length&&t.index<t.lines.length;){var s=t.lines[t.index],l=e[r];if("+"===l[0])break;if(o=o||" "!==s[0],i.push(l),r++,"+"===s[0])for(a=!0;"+"===s[0];)n.push(s),s=t.lines[++t.index];l.substr(1)===s.substr(1)?(n.push(s),t.index++):a=!0}if("+"===(e[r]||"")[0]&&o&&(a=!0),a)return n;for(;r<e.length;)i.push(e[r++]);return{merged:i,changes:n}}(n,o);a.merged?(r=t.lines).push.apply(r,p(a.merged)):L(t,i?a:o,i?o:a)}function L(t,e,n){t.conflict=!0,t.lines.push({conflict:!0,mine:e,theirs:n})}function D(t,e,n){for(;e.offset<n.offset&&e.index<e.lines.length;){var i=e.lines[e.index++];t.lines.push(i),e.offset++}}function j(t,e){for(;e.index<e.lines.length;){var n=e.lines[e.index++];t.lines.push(n)}}function P(t){for(var e=[],n=t.lines[t.index][0];t.index<t.lines.length;){var i=t.lines[t.index];if("-"===n&&"+"===i[0]&&(n="+"),n!==i[0])break;e.push(i),t.index++}return e}function R(t){return t.reduce(function(t,e){return t&&"-"===e[0]},!0)}function z(t,e,n){for(var i=0;i<n;i++){var r=e[e.length-n+i].substr(1);if(t.lines[t.index+i]!==" "+r)return!1}return t.index+=n,!0}y.tokenize=function(t){return t.slice()},y.join=y.removeEmpty=function(t){return t},t.Diff=e,t.diffChars=function(t,e,n){return r.diff(t,e,n)},t.diffWords=function(t,e,n){return n=o(n,{ignoreWhitespace:!0}),l.diff(t,e,n)},t.diffWordsWithSpace=function(t,e,n){return l.diff(t,e,n)},t.diffLines=c,t.diffTrimmedLines=function(t,e,n){var i=o(n,{ignoreWhitespace:!0});return u.diff(t,e,i)},t.diffSentences=function(t,e,n){return h.diff(t,e,n)},t.diffCss=function(t,e,n){return d.diff(t,e,n)},t.diffJson=function(t,e,n){return v.diff(t,e,n)},t.diffArrays=function(t,e,n){return y.diff(t,e,n)},t.structuredPatch=_,t.createTwoFilesPatch=S,t.createPatch=function(t,e,n,i,r,o){return S(t,t,e,n,i,r,o)},t.applyPatch=w,t.applyPatches=function(t,e){"string"==typeof t&&(t=b(t));var n=0;!function i(){var r=t[n++];if(!r)return e.complete();e.loadFile(r,function(t,n){if(t)return e.complete(t);var o=w(n,r,e);e.patched(r,o,function(t){if(t)return e.complete(t);i()})})}()},t.parsePatch=b,t.merge=function(t,e,n){t=C(t,n),e=C(e,n);var i={};(t.index||e.index)&&(i.index=t.index||e.index),(t.newFileName||e.newFileName)&&(I(t)?I(e)?(i.oldFileName=k(i,t.oldFileName,e.oldFileName),i.newFileName=k(i,t.newFileName,e.newFileName),i.oldHeader=k(i,t.oldHeader,e.oldHeader),i.newHeader=k(i,t.newHeader,e.newHeader)):(i.oldFileName=t.oldFileName,i.newFileName=t.newFileName,i.oldHeader=t.oldHeader,i.newHeader=t.newHeader):(i.oldFileName=e.oldFileName||t.oldFileName,i.newFileName=e.newFileName||t.newFileName,i.oldHeader=e.oldHeader||t.oldHeader,i.newHeader=e.newHeader||t.newHeader)),i.hunks=[];for(var r=0,o=0,a=0,s=0;r<t.hunks.length||o<e.hunks.length;){var l=t.hunks[r]||{oldStart:1/0},u=e.hunks[o]||{oldStart:1/0};if(T(l,u))i.hunks.push(O(l,a)),r++,s+=l.newLines-l.oldLines;else if(T(u,l))i.hunks.push(O(u,s)),o++,a+=u.newLines-u.oldLines;else{var c={oldStart:Math.min(l.oldStart,u.oldStart),oldLines:0,newStart:Math.min(l.newStart+a,u.oldStart+s),newLines:0,lines:[]};E(c,l.oldStart,l.lines,u.oldStart,u.lines),o++,r++,i.hunks.push(c)}}return i},t.convertChangesToDMP=function(t){for(var e,n,i=[],r=0;r<t.length;r++)n=(e=t[r]).added?1:e.removed?-1:0,i.push([n,e.value]);return i},t.convertChangesToXML=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];i.added?e.push("<ins>"):i.removed&&e.push("<del>"),e.push(i.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")),i.added?e.push("</ins>"):i.removed&&e.push("</del>")}return e.join("")},t.canonicalize=m,Object.defineProperty(t,"__esModule",{value:!0})}(e)});(qo=ta)&&qo.__esModule&&Object.prototype.hasOwnProperty.call(qo,"default")&&qo.default;var ea=ta.createPatch,na=_(function(t){!function(e){var n=function(t){return r(!0===t,!1,arguments)};function i(t,e){if("object"!==o(t))return e;for(var n in e)"object"===o(t[n])&&"object"===o(e[n])?t[n]=i(t[n],e[n]):t[n]=e[n];return t}function r(t,e,r){var a=r[0],s=r.length;(t||"object"!==o(a))&&(a={});for(var l=0;l<s;++l){var u=r[l];if("object"===o(u))for(var c in u)if("__proto__"!==c){var h=t?n.clone(u[c]):u[c];a[c]=e?i(a[c],h):h}}return a}function o(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}n.recursive=function(t){return r(!0===t,!0,arguments)},n.clone=function(t){var e,i,r=t,a=o(t);if("array"===a)for(r=[],i=t.length,e=0;e<i;++e)r[e]=n.clone(t[e]);else if("object"===a)for(e in r={},t)r[e]=n.clone(t[e]);return r},e?t.exports=n:window.merge=n}(t&&t.exports)}),ia=_(function(t){!function(){var e=na;function n(){}n.prototype.escape=function(t){return t.slice(0).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},n.prototype.startsWith=function(t,e){if("object"==typeof e){var n=!1;return e.forEach(function(e){0===t.indexOf(e)&&(n=!0)}),n}return t&&0===t.indexOf(e)},n.prototype.valueOrEmpty=function(t){return t||""},n.prototype.safeConfig=function(t,n){return e.recursive(!0,n,t)},t.exports.Utils=new n}()}),ra=(ia.Utils,_(function(t){!function(){var e=ia.Utils,n={INSERTS:"d2h-ins",DELETES:"d2h-del",INSERT_CHANGES:"d2h-ins d2h-change",DELETE_CHANGES:"d2h-del d2h-change",CONTEXT:"d2h-cntx",INFO:"d2h-info"};function i(){}function r(t,e){var n=t.split(".");return n.length>1?n[n.length-1]:e}function o(t,e,n){var i,r=["a/","b/","i/","w/","c/","o/"];n&&r.push(n);var o=(t?new RegExp("^"+t+' "?(.+?)"?$'):new RegExp('^"?(.+?)"?$')).exec(e);if(o&&o[1]){i=o[1];var a=r.filter(function(t){return 0===i.indexOf(t)});a[0]&&(i=i.slice(a[0].length)),i=i.replace(/\s+\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}(?:\.\d+)? [-+]\d{4}.*$/,"")}return i}i.prototype.LINE_TYPE=n,i.prototype.generateDiffJson=function(t,i){var a,s,l=i||{},u=[],c=null,h=null,d=null,f=null,p=null;function g(){h&&(c.blocks.push(h),h=null)}function v(){c&&(c.oldName||(c.oldName=a),c.newName||(c.newName=s),c.newName&&(u.push(c),c=null)),a=void 0,s=void 0}function m(){g(),v(),(c={}).blocks=[],c.deletedLines=0,c.addedLines=0}function y(t){var n;g(),(n=/^@@ -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@.*/.exec(t))?(c.isCombined=!1,d=n[1],p=n[2]):(n=/^@@@ -(\d+)(?:,\d+)? -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@@.*/.exec(t))?(c.isCombined=!0,d=n[1],f=n[2],p=n[3]):(e.startsWith(t,"@@")&&console.error("Failed to parse lines, starting in 0!"),d=0,p=0,c.isCombined=!1),(h={}).lines=[],h.oldStartLine=d,h.oldStartLine2=f,h.newStartLine=p,h.header=t}var b=t.replace(/\\ No newline at end of file/g,"").replace(/\r\n?/g,"\n").split("\n"),x=/^old mode (\d{6})/,w=/^new mode (\d{6})/,_=/^deleted file mode (\d{6})/,S=/^new file mode (\d{6})/,M=/^copy from "?(.+)"?/,C=/^copy to "?(.+)"?/,I=/^rename from "?(.+)"?/,k=/^rename to "?(.+)"?/,T=/^similarity index (\d+)%/,O=/^dissimilarity index (\d+)%/,E=/^index ([0-9a-z]+)\.\.([0-9a-z]+)\s*(\d{6})?/,A=/^Binary files (.*) and (.*) differ/,N=/^GIT binary patch/,L=/^index ([0-9a-z]+),([0-9a-z]+)\.\.([0-9a-z]+)/,D=/^mode (\d{6}),(\d{6})\.\.(\d{6})/,j=/^new file mode (\d{6})/,P=/^deleted file mode (\d{6}),(\d{6})/;return b.forEach(function(t,i){if(t&&!e.startsWith(t,"*")){var u,f=b[i-1],g=b[i+1],v=b[i+2];if(e.startsWith(t,"diff"))return m(),(u=/^diff --git "?(.+)"? "?(.+)"?/.exec(t))&&(a=o(null,u[1],l.dstPrefix),s=o(null,u[2],l.srcPrefix)),void(c.isGitDiff=!0);if((!c||!c.isGitDiff&&c&&e.startsWith(t,"--- ")&&e.startsWith(g,"+++ ")&&e.startsWith(v,"@@"))&&m(),e.startsWith(t,"--- ")&&e.startsWith(g,"+++ ")||e.startsWith(t,"+++ ")&&e.startsWith(f,"--- ")){if(c&&!c.oldName&&e.startsWith(t,"--- ")&&(u=function(t,e){return o("---",t,l.srcPrefix)}(t)))return c.oldName=u,void(c.language=r(c.oldName,c.language));if(c&&!c.newName&&e.startsWith(t,"+++ ")&&(u=function(t,e){return o("\\+\\+\\+",t,l.dstPrefix)}(t)))return c.newName=u,void(c.language=r(c.newName,c.language))}if(c&&e.startsWith(t,"@@")||c.isGitDiff&&c&&c.oldName&&c.newName&&!h)y(t);else if(h&&(e.startsWith(t,"+")||e.startsWith(t,"-")||e.startsWith(t," ")))!function(t){var i={};i.content=t;var r=c.isCombined?["+"," +"]:["+"],o=c.isCombined?["-"," -"]:["-"];e.startsWith(t,r)?(c.addedLines++,i.type=n.INSERTS,i.oldNumber=null,i.newNumber=p++,h.lines.push(i)):e.startsWith(t,o)?(c.deletedLines++,i.type=n.DELETES,i.oldNumber=d++,i.newNumber=null,h.lines.push(i)):(i.type=n.CONTEXT,i.oldNumber=d++,i.newNumber=p++,h.lines.push(i))}(t);else{var R=!function(t,n){for(var i=n;i<b.length-3;){if(e.startsWith(t,"diff"))return!1;if(e.startsWith(b[i],"--- ")&&e.startsWith(b[i+1],"+++ ")&&e.startsWith(b[i+2],"@@"))return!0;i++}return!1}(t,i);(u=x.exec(t))?c.oldMode=u[1]:(u=w.exec(t))?c.newMode=u[1]:(u=_.exec(t))?(c.deletedFileMode=u[1],c.isDeleted=!0):(u=S.exec(t))?(c.newFileMode=u[1],c.isNew=!0):(u=M.exec(t))?(R&&(c.oldName=u[1]),c.isCopy=!0):(u=C.exec(t))?(R&&(c.newName=u[1]),c.isCopy=!0):(u=I.exec(t))?(R&&(c.oldName=u[1]),c.isRename=!0):(u=k.exec(t))?(R&&(c.newName=u[1]),c.isRename=!0):(u=A.exec(t))?(c.isBinary=!0,c.oldName=o(null,u[1],l.srcPrefix),c.newName=o(null,u[2],l.dstPrefix),y("Binary file")):(u=N.exec(t))?(c.isBinary=!0,y(t)):(u=T.exec(t))?c.unchangedPercentage=u[1]:(u=O.exec(t))?c.changedPercentage=u[1]:(u=E.exec(t))?(c.checksumBefore=u[1],c.checksumAfter=u[2],u[3]&&(c.mode=u[3])):(u=L.exec(t))?(c.checksumBefore=[u[2],u[3]],c.checksumAfter=u[1]):(u=D.exec(t))?(c.oldMode=[u[2],u[3]],c.newMode=u[1]):(u=j.exec(t))?(c.newFileMode=u[1],c.isNew=!0):(u=P.exec(t))&&(c.deletedFileMode=u[1],c.isDeleted=!0)}}}),g(),v(),u},t.exports.DiffParser=new i}()})),oa=(ra.DiffParser,_(function(t){!function(){var e={};function n(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var n,i,r=[];for(n=0;n<=e.length;n++)r[n]=[n];for(i=0;i<=t.length;i++)r[0][i]=i;for(n=1;n<=e.length;n++)for(i=1;i<=t.length;i++)e.charAt(n-1)===t.charAt(i-1)?r[n][i]=r[n-1][i-1]:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[e.length][t.length]}e.levenshtein=n,e.distance=function(t,e){return n(t=t.trim(),e=e.trim())/(t.length+e.length)},e.rematch=function(t){return function e(n,i,r,o){void 0===o&&(o={});var a=function(e,n,i){for(var r,o=1/0,a=0;a<e.length;++a)for(var s=0;s<n.length;++s){var l,u=JSON.stringify([e[a],n[s]]);i.hasOwnProperty(u)?l=i[u]:(l=t(e[a],n[s]),i[u]=l),l<o&&(r={indexA:a,indexB:s,score:o=l})}return r}(n,i,o);if(r||(r=0),!a||n.length+i.length<3)return[[n,i]];var s=n.slice(0,a.indexA),l=i.slice(0,a.indexB),u=[n[a.indexA]],c=[i[a.indexB]],h=a.indexA+1,d=a.indexB+1,f=n.slice(h),p=i.slice(d),g=e(s,l,r+1,o),v=e(u,c,r+1,o),m=e(f,p,r+1,o),y=v;return(a.indexA>0||a.indexB>0)&&(y=g.concat(y)),(n.length>h||i.length>d)&&(y=y.concat(m)),y}},t.exports.Rematch=e}()})),aa=(oa.Rematch,_(function(t){!function(){var e=ta,n=ia.Utils,i=oa.Rematch;function r(){}function o(t){return t?t.replace("\\","/"):t}function a(t){return-1!==t.indexOf("dev/null")}r.prototype.separatePrefix=function(t,e){var n,i;return t?(n=e.substring(0,2),i=e.substring(2)):(n=e.substring(0,1),i=e.substring(1)),{prefix:n,line:i}},r.prototype.getHtmlId=function(t){return"d2h-"+function(t){var e,n,i=0;for(e=0,n=t.length;e<n;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return i}(this.getDiffName(t)).toString().slice(-6)},r.prototype.getDiffName=function(t){var e=o(t.oldName),n=o(t.newName);if(e&&n&&e!==n&&!a(e)&&!a(n)){for(var i=[],r=[],s=e.split("/"),l=n.split("/"),u=0,c=s.length-1,h=l.length-1;u<c&&u<h&&s[u]===l[u];)i.push(l[u]),u+=1;for(;c>u&&h>u&&s[c]===l[h];)r.unshift(l[h]),c-=1,h-=1;var d=i.join("/"),f=r.join("/"),p=s.slice(u,c+1).join("/"),g=l.slice(u,h+1).join("/");return d.length&&f.length?d+"/{"+p+" → "+g+"}/"+f:d.length?d+"/{"+p+" → "+g+"}":f.length?"{"+p+" → "+g+"}/"+f:e+" → "+n}return n&&!a(n)?n:e||"unknown/file/path"},r.prototype.getFileTypeIcon=function(t){var e="file-changed";return t.isRename||t.isCopy?e="file-renamed":t.isNew?e="file-added":t.isDeleted?e="file-deleted":t.newName!==t.oldName&&(e="file-renamed"),e},r.prototype.diffHighlight=function(t,r,o){var a,s,l,u,c,h=1;if(o.isCombined&&(h=2),a=t.substr(0,h),s=r.substr(0,h),l=t.substr(h),u=r.substr(h),l.length>o.maxLineLengthHighlight||u.length>o.maxLineLengthHighlight)return{first:{prefix:a,line:n.escape(l)},second:{prefix:s,line:n.escape(u)}};c=o.charByChar?e.diffChars(l,u):e.diffWordsWithSpace(l,u);var d,f="",p=[];if(!o.charByChar&&"words"===o.matching){var g=.25;void 0!==o.matchWordsThreshold&&(g=o.matchWordsThreshold);var v=i.rematch(function(t,e){var n=t.value,r=e.value;return i.distance(n,r)}),m=c.filter(function(t){return t.removed});v(c.filter(function(t){return t.added}),m).forEach(function(t){1===t[0].length&&1===t[1].length&&i.distance(t[0][0].value,t[1][0].value)<g&&(p.push(t[0][0]),p.push(t[1][0]))})}return c.forEach(function(t){var e=p.indexOf(t)>-1?' class="d2h-change"':"",i=t.added?"ins":t.removed?"del":null,r=n.escape(t.value);f+=null!==i?"<"+i+e+">"+r+"</"+i+">":r}),{first:{prefix:a,line:(d=f,d.replace(/(<ins[^>]*>((.|\n)*?)<\/ins>)/g,""))},second:{prefix:s,line:function(t){return t.replace(/(<del[^>]*>((.|\n)*?)<\/del>)/g,"")}(f)}}},t.exports.PrinterUtils=new r}()})),sa=(aa.PrinterUtils,Object.freeze({default:{}})),la=_(function(t,e){!function(t){var e=/\S/,n=/\"/g,i=/\n/g,r=/\r/g,o=/\\/g,a=/\u2028/,s=/\u2029/;function l(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function u(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function c(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var i=1,r=t.length;i<r;i++)if(e.charAt(n+i)!=t.charAt(i))return!1;return!0}t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(n,i){var r=n.length,o=0,a=null,s=null,h="",d=[],f=!1,p=0,g=0,v="{{",m="}}";function y(){h.length>0&&(d.push({tag:"_t",text:new String(h)}),h="")}function b(n,i){if(y(),n&&function(){for(var n=!0,i=g;i<d.length;i++)if(!(n=t.tags[d[i].tag]<t.tags._v||"_t"==d[i].tag&&null===d[i].text.match(e)))return!1;return n}())for(var r,o=g;o<d.length;o++)d[o].text&&((r=d[o+1])&&">"==r.tag&&(r.indent=d[o].text.toString()),d.splice(o,1));else i||d.push({tag:"\n"});f=!1,g=d.length}function x(t,e){var n="="+m,i=t.indexOf(n,e),r=u(t.substring(t.indexOf("=",e)+1,i)).split(" ");return v=r[0],m=r[r.length-1],i+n.length-1}for(i&&(i=i.split(" "),v=i[0],m=i[1]),p=0;p<r;p++)0==o?c(v,n,p)?(--p,y(),o=1):"\n"==n.charAt(p)?b(f):h+=n.charAt(p):1==o?(p+=v.length-1,"="==(a=(s=t.tags[n.charAt(p+1)])?n.charAt(p+1):"_v")?(p=x(n,p),o=0):(s&&p++,o=2),f=p):c(m,n,p)?(d.push({tag:a,n:u(h),otag:v,ctag:m,i:"/"==a?f-v.length:p+m.length}),h="",p+=m.length-1,o=0,"{"==a&&("}}"==m?p++:l(d[d.length-1]))):h+=n.charAt(p);return b(f,!0),d};var h={_t:!0,"\n":!0,$:!0,"/":!0};function d(t,e){for(var n=0,i=e.length;n<i;n++)if(e[n].o==t.n)return t.tag="#",!0}function f(t,e,n){for(var i=0,r=n.length;i<r;i++)if(n[i].c==t&&n[i].o==e)return!0}t.stringify=function(e,n,i){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+function t(e){var n=[];for(var i in e.partials)n.push('"'+g(i)+'":{name:"'+g(e.partials[i].name)+'", '+t(e.partials[i])+"}");return"partials: {"+n.join(",")+"}, subs: "+function(t){var e=[];for(var n in t)e.push('"'+g(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}(e.subs)}(e)+"}"};var p=0;function g(t){return t.replace(o,"\\\\").replace(n,'\\"').replace(i,"\\n").replace(r,"\\r").replace(a,"\\u2028").replace(s,"\\u2029")}function v(t){return~t.indexOf(".")?"d":"f"}function m(t,e){var n="<"+(e.prefix||"")+t.n+p++;return e.partials[n]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+g(n)+'",c,p,"'+(t.indent||"")+'"));',n}function y(t,e){e.code+="t.b(t.t(t."+v(t.n)+'("'+g(t.n)+'",c,p,0)));'}function b(t){return"t.b("+t+");"}t.generate=function(e,n,i){p=0;var r={code:"",subs:{},partials:{}};return t.walk(e,r),i.asString?this.stringify(r,n,i):this.makeTemplate(r,n,i)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,n){var i=this.makePartials(t);return i.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(i,e,this,n)},t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=new Function("c","p","t","i",t.subs[e]);return n},t.codegen={"#":function(e,n){n.code+="if(t.s(t."+v(e.n)+'("'+g(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,n),n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+v(e.n)+'("'+g(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,n),n.code+="};"},">":m,"<":function(e,n){var i={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,i);var r=n.partials[m(e,n)];r.subs=i.subs,r.partials=i.partials},$:function(e,n){var i={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,i),n.subs[e.n]=i.code,n.inPartial||(n.code+='t.sub("'+g(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=b('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+v(t.n)+'("'+g(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=b('"'+g(t.text)+'"')},"{":y,"&":y},t.walk=function(e,n){for(var i,r=0,o=e.length;r<o;r++)(i=t.codegen[e[r].tag])&&i(e[r],n);return n},t.parse=function(e,n,i){return function e(n,i,r,o){var a,s=[],l=null,u=null;for(a=r[r.length-1];n.length>0;){if(u=n.shift(),a&&"<"==a.tag&&!(u.tag in h))throw new Error("Illegal content in < super tag.");if(t.tags[u.tag]<=t.tags.$||d(u,o))r.push(u),u.nodes=e(n,u.tag,r,o);else{if("/"==u.tag){if(0===r.length)throw new Error("Closing tag without opener: /"+u.n);if(l=r.pop(),u.n!=l.n&&!f(u.n,l.n,o))throw new Error("Nesting error: "+l.n+" vs. "+u.n);return l.end=u.i,s}"\n"==u.tag&&(u.last=0==n.length||"\n"==n[0].tag)}s.push(u)}if(r.length>0)throw new Error("missing closing tag: "+r.pop().n);return s}(e,0,[],(i=i||{}).sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,n){n=n||{};var i=t.cacheKey(e,n),r=this.cache[i];if(r){var o=r.partials;for(var a in o)delete o[a].instance;return r}return r=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n),this.cache[i]=r}}(e)}),ua=_(function(t,e){!function(t){function e(t,e,n){var i;return e&&"object"==typeof e&&(void 0!==e[t]?i=e[t]:n&&e.get&&"function"==typeof e.get&&(i=e.get(t))),i}t.Template=function(t,e,n,i){t=t||{},this.r=t.code||this.r,this.c=n,this.options=i||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.buf=""},t.Template.prototype={r:function(t,e,n){return""},v:function(t){return t=l(t),s.test(t)?t.replace(n,"&amp;").replace(i,"&lt;").replace(r,"&gt;").replace(o,"&#39;").replace(a,"&quot;"):t},t:l,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var n=this.partials[t],i=e[n.name];if(n.instance&&n.base==i)return n.instance;if("string"==typeof i){if(!this.c)throw new Error("No compiler available.");i=this.c.compile(i,this.options)}if(!i)return null;if(this.partials[t].base=i,n.subs){for(key in e.stackText||(e.stackText={}),n.subs)e.stackText[key]||(e.stackText[key]=void 0!==this.activeSub&&e.stackText[this.activeSub]?e.stackText[this.activeSub]:this.text);i=function(t,e,n,i,r,o){function a(){}function s(){}var l;a.prototype=t,s.prototype=t.subs;var u=new a;for(l in u.subs=new s,u.subsText={},u.buf="",i=i||{},u.stackSubs=i,u.subsText=o,e)i[l]||(i[l]=e[l]);for(l in i)u.subs[l]=i[l];for(l in r=r||{},u.stackPartials=r,n)r[l]||(r[l]=n[l]);for(l in r)u.partials[l]=r[l];return u}(i,n.subs,n.partials,this.stackSubs,this.stackPartials,e.stackText)}return this.partials[t].instance=i,i},rp:function(t,e,n,i){var r=this.ep(t,n);return r?r.ri(e,n,i):""},rs:function(t,e,n){var i=t[t.length-1];if(u(i))for(var r=0;r<i.length;r++)t.push(i[r]),n(t,e,this),t.pop();else n(t,e,this)},s:function(t,e,n,i,r,o,a){var s;return(!u(t)||0!==t.length)&&("function"==typeof t&&(t=this.ms(t,e,n,i,r,o,a)),s=!!t,!i&&s&&e&&e.push("object"==typeof t?t:e[e.length-1]),s)},d:function(t,n,i,r){var o,a=t.split("."),s=this.f(a[0],n,i,r),l=this.options.modelGet,c=null;if("."===t&&u(n[n.length-2]))s=n[n.length-1];else for(var h=1;h<a.length;h++)void 0!==(o=e(a[h],s,l))?(c=s,s=o):s="";return!(r&&!s)&&(r||"function"!=typeof s||(n.push(c),s=this.mv(s,n,i),n.pop()),s)},f:function(t,n,i,r){for(var o=!1,a=!1,s=this.options.modelGet,l=n.length-1;l>=0;l--)if(void 0!==(o=e(t,n[l],s))){a=!0;break}return a?(r||"function"!=typeof o||(o=this.mv(o,n,i)),o):!r&&""},ls:function(t,e,n,i,r){var o=this.options.delimiters;return this.options.delimiters=r,this.b(this.ct(l(t.call(e,i)),e,n)),this.options.delimiters=o,!1},ct:function(t,e,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ms:function(t,e,n,i,r,o,a){var s,l=e[e.length-1],u=t.call(l);return"function"==typeof u?!!i||(s=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(u,l,n,s.substring(r,o),a)):u},mv:function(t,e,n){var i=e[e.length-1],r=t.call(i);return"function"==typeof r?this.ct(l(r.call(i)),i,n):r},sub:function(t,e,n,i){var r=this.subs[t];r&&(this.activeSub=t,r(e,n,this,i),this.activeSub=!1)}};var n=/&/g,i=/</g,r=/>/g,o=/\'/g,a=/\"/g,s=/[&<>\"\']/;function l(t){return String(null==t?"":t)}var u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(e)});la.Template=ua.Template,la.template=la.Template;var ca,ha=la,da=_(function(t){!function(){w.browserTemplates||(w.browserTemplates={});var e=ha;w.browserTemplates["file-summary-line"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<li class="d2h-file-list-line">'),i.b("\n"+n),i.b('    <span class="d2h-file-name-wrapper">'),i.b("\n"+n),i.b(i.rp("<fileIcon0",t,e,"      ")),i.b('      <a href="#'),i.b(i.v(i.f("fileHtmlId",t,e,0))),i.b('" class="d2h-file-name">'),i.b(i.v(i.f("fileName",t,e,0))),i.b("</a>"),i.b("\n"+n),i.b('      <span class="d2h-file-stats">'),i.b("\n"+n),i.b('          <span class="d2h-lines-added">'),i.b(i.v(i.f("addedLines",t,e,0))),i.b("</span>"),i.b("\n"+n),i.b('          <span class="d2h-lines-deleted">'),i.b(i.v(i.f("deletedLines",t,e,0))),i.b("</span>"),i.b("\n"+n),i.b("      </span>"),i.b("\n"+n),i.b("    </span>"),i.b("\n"+n),i.b("</li>"),i.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}}},subs:{}}),w.browserTemplates["file-summary-wrapper"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="d2h-file-list-wrapper">'),i.b("\n"+n),i.b('    <div class="d2h-file-list-header">'),i.b("\n"+n),i.b('        <span class="d2h-file-list-title">Files changed ('),i.b(i.v(i.f("filesNumber",t,e,0))),i.b(")</span>"),i.b("\n"+n),i.b('        <a class="d2h-file-switch d2h-hide">hide</a>'),i.b("\n"+n),i.b('        <a class="d2h-file-switch d2h-show">show</a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b('    <ol class="d2h-file-list">'),i.b("\n"+n),i.b("    "),i.b(i.t(i.f("files",t,e,0))),i.b("\n"+n),i.b("    </ol>"),i.b("\n"+n),i.b("</div>"),i.fl()},partials:{},subs:{}}),w.browserTemplates["generic-column-line-number"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b("<tr>"),i.b("\n"+n),i.b('    <td class="'),i.b(i.v(i.f("lineClass",t,e,0))),i.b(" "),i.b(i.v(i.d("diffParser.LINE_TYPE.INFO",t,e,0))),i.b('"></td>'),i.b("\n"+n),i.b('    <td class="'),i.b(i.v(i.d("diffParser.LINE_TYPE.INFO",t,e,0))),i.b('">'),i.b("\n"+n),i.b('        <div class="'),i.b(i.v(i.f("contentClass",t,e,0))),i.b(" "),i.b(i.v(i.d("diffParser.LINE_TYPE.INFO",t,e,0))),i.b('">'),i.b(i.t(i.f("blockHeader",t,e,0))),i.b("</div>"),i.b("\n"+n),i.b("    </td>"),i.b("\n"+n),i.b("</tr>"),i.fl()},partials:{},subs:{}}),w.browserTemplates["generic-empty-diff"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b("<tr>"),i.b("\n"+n),i.b('    <td class="'),i.b(i.v(i.d("diffParser.LINE_TYPE.INFO",t,e,0))),i.b('">'),i.b("\n"+n),i.b('        <div class="'),i.b(i.v(i.f("contentClass",t,e,0))),i.b(" "),i.b(i.v(i.d("diffParser.LINE_TYPE.INFO",t,e,0))),i.b('">'),i.b("\n"+n),i.b("            File without changes"),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b("    </td>"),i.b("\n"+n),i.b("</tr>"),i.fl()},partials:{},subs:{}}),w.browserTemplates["generic-file-path"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<span class="d2h-file-name-wrapper">'),i.b("\n"+n),i.b(i.rp("<fileIcon0",t,e,"    ")),i.b('    <span class="d2h-file-name">'),i.b(i.v(i.f("fileDiffName",t,e,0))),i.b("</span>"),i.b("\n"+n),i.b(i.rp("<fileTag1",t,e,"    ")),i.b("</span>"),i.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}},"<fileTag1":{name:"fileTag",partials:{},subs:{}}},subs:{}}),w.browserTemplates["generic-line"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b("<tr>"),i.b("\n"+n),i.b('    <td class="'),i.b(i.v(i.f("lineClass",t,e,0))),i.b(" "),i.b(i.v(i.f("type",t,e,0))),i.b('">'),i.b("\n"+n),i.b("      "),i.b(i.t(i.f("lineNumber",t,e,0))),i.b("\n"+n),i.b("    </td>"),i.b("\n"+n),i.b('    <td class="'),i.b(i.v(i.f("type",t,e,0))),i.b('">'),i.b("\n"+n),i.b('        <div class="'),i.b(i.v(i.f("contentClass",t,e,0))),i.b(" "),i.b(i.v(i.f("type",t,e,0))),i.b('">'),i.b("\n"+n),i.s(i.f("prefix",t,e,1),t,e,0,171,247,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('            <span class="d2h-code-line-prefix">'),i.b(i.t(i.f("prefix",t,e,0))),i.b("</span>"),i.b("\n"+n)}),t.pop()),i.s(i.f("content",t,e,1),t,e,0,279,353,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('            <span class="d2h-code-line-ctn">'),i.b(i.t(i.f("content",t,e,0))),i.b("</span>"),i.b("\n"+n)}),t.pop()),i.b("        </div>"),i.b("\n"+n),i.b("    </td>"),i.b("\n"+n),i.b("</tr>"),i.fl()},partials:{},subs:{}}),w.browserTemplates["generic-wrapper"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="d2h-wrapper">'),i.b("\n"+n),i.b("    "),i.b(i.t(i.f("content",t,e,0))),i.b("\n"+n),i.b("</div>"),i.fl()},partials:{},subs:{}}),w.browserTemplates["icon-file-added"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-added" height="16" title="added" version="1.1" viewBox="0 0 14 16"'),i.b("\n"+n),i.b('     width="14">'),i.b("\n"+n),i.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path>'),i.b("\n"+n),i.b("</svg>"),i.fl()},partials:{},subs:{}}),w.browserTemplates["icon-file-changed"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-changed" height="16" title="modified" version="1.1"'),i.b("\n"+n),i.b('     viewBox="0 0 14 16" width="14">'),i.b("\n"+n),i.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path>'),i.b("\n"+n),i.b("</svg>"),i.fl()},partials:{},subs:{}}),w.browserTemplates["icon-file-deleted"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-deleted" height="16" title="removed" version="1.1"'),i.b("\n"+n),i.b('     viewBox="0 0 14 16" width="14">'),i.b("\n"+n),i.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM11 9H3V7h8v2z"></path>'),i.b("\n"+n),i.b("</svg>"),i.fl()},partials:{},subs:{}}),w.browserTemplates["icon-file-renamed"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-moved" height="16" title="renamed" version="1.1"'),i.b("\n"+n),i.b('     viewBox="0 0 14 16" width="14">'),i.b("\n"+n),i.b('    <path d="M6 9H3V7h3V4l5 4-5 4V9z m8-7v12c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h12c0.55 0 1 0.45 1 1z m-1 0H1v12h12V2z"></path>'),i.b("\n"+n),i.b("</svg>"),i.fl()},partials:{},subs:{}}),w.browserTemplates["icon-file"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">'),i.b("\n"+n),i.b('    <path d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>'),i.b("\n"+n),i.b("</svg>"),i.fl()},partials:{},subs:{}}),w.browserTemplates["line-by-line-file-diff"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div id="'),i.b(i.v(i.f("fileHtmlId",t,e,0))),i.b('" class="d2h-file-wrapper" data-lang="'),i.b(i.v(i.d("file.language",t,e,0))),i.b('">'),i.b("\n"+n),i.b('    <div class="d2h-file-header">'),i.b("\n"+n),i.b("    "),i.b(i.t(i.f("filePath",t,e,0))),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b('    <div class="d2h-file-diff">'),i.b("\n"+n),i.b('        <div class="d2h-code-wrapper">'),i.b("\n"+n),i.b('            <table class="d2h-diff-table">'),i.b("\n"+n),i.b('                <tbody class="d2h-diff-tbody">'),i.b("\n"+n),i.b("                "),i.b(i.t(i.f("diffs",t,e,0))),i.b("\n"+n),i.b("                </tbody>"),i.b("\n"+n),i.b("            </table>"),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("</div>"),i.fl()},partials:{},subs:{}}),w.browserTemplates["line-by-line-numbers"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="line-num1">'),i.b(i.v(i.f("oldNumber",t,e,0))),i.b("</div>"),i.b("\n"+n),i.b('<div class="line-num2">'),i.b(i.v(i.f("newNumber",t,e,0))),i.b("</div>"),i.fl()},partials:{},subs:{}}),w.browserTemplates["side-by-side-file-diff"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div id="'),i.b(i.v(i.f("fileHtmlId",t,e,0))),i.b('" class="d2h-file-wrapper" data-lang="'),i.b(i.v(i.d("file.language",t,e,0))),i.b('">'),i.b("\n"+n),i.b('    <div class="d2h-file-header">'),i.b("\n"+n),i.b("      "),i.b(i.t(i.f("filePath",t,e,0))),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b('    <div class="d2h-files-diff">'),i.b("\n"+n),i.b('        <div class="d2h-file-side-diff">'),i.b("\n"+n),i.b('            <div class="d2h-code-wrapper">'),i.b("\n"+n),i.b('                <table class="d2h-diff-table">'),i.b("\n"+n),i.b('                    <tbody class="d2h-diff-tbody">'),i.b("\n"+n),i.b("                    "),i.b(i.t(i.d("diffs.left",t,e,0))),i.b("\n"+n),i.b("                    </tbody>"),i.b("\n"+n),i.b("                </table>"),i.b("\n"+n),i.b("            </div>"),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b('        <div class="d2h-file-side-diff">'),i.b("\n"+n),i.b('            <div class="d2h-code-wrapper">'),i.b("\n"+n),i.b('                <table class="d2h-diff-table">'),i.b("\n"+n),i.b('                    <tbody class="d2h-diff-tbody">'),i.b("\n"+n),i.b("                    "),i.b(i.t(i.d("diffs.right",t,e,0))),i.b("\n"+n),i.b("                    </tbody>"),i.b("\n"+n),i.b("                </table>"),i.b("\n"+n),i.b("            </div>"),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("</div>"),i.fl()},partials:{},subs:{}}),w.browserTemplates["tag-file-added"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<span class="d2h-tag d2h-added d2h-added-tag">ADDED</span>'),i.fl()},partials:{},subs:{}}),w.browserTemplates["tag-file-changed"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<span class="d2h-tag d2h-changed d2h-changed-tag">CHANGED</span>'),i.fl()},partials:{},subs:{}}),w.browserTemplates["tag-file-deleted"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<span class="d2h-tag d2h-deleted d2h-deleted-tag">DELETED</span>'),i.fl()},partials:{},subs:{}}),w.browserTemplates["tag-file-renamed"]=new e.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<span class="d2h-tag d2h-moved d2h-moved-tag">RENAMED</span>'),i.fl()},partials:{},subs:{}}),t.exports=w.browserTemplates}()}),fa=(ca=sa)&&ca.default||ca,pa=_(function(t){!function(){var e,n=fa,o=r,a=ha,s=da;function l(t){this.config=t||{},e=this.config.templates||{};var n=this.config.rawTemplates||{};for(var i in n)n.hasOwnProperty(i)&&(e[i]||(e[i]=this.compile(n[i])))}l.prototype.render=function(t,e,n){var i=this.template(t,e);return i?i.render(n):null},l.prototype.template=function(t,e){var n=this._templateKey(t,e);return this._getTemplate(n)},l.prototype._getTemplate=function(t){var e;return this.config.noCache||(e=this._readFromCache(t)),e||(e=this._loadTemplate(t)),e},l.prototype._loadTemplate=function(t){var e;try{if(n.readFileSync){var r=o.resolve(i,"templates"),l=o.join(r,t),u=n.readFileSync(l+".mustache","utf8");e=a.compile(u),s[t]=e}}catch(e){console.error("Failed to read (template: "+t+") from fs: "+e.message)}return e},l.prototype._readFromCache=function(t){return e[t]||s[t]},l.prototype._templateKey=function(t,e){return t+"-"+e},l.prototype.compile=function(t){return a.compile(t)},t.exports.HoganJsUtils=l}()}),ga=(pa.HoganJsUtils,_(function(t){!function(){var e,n=ra.DiffParser,i=aa.PrinterUtils,r=ia.Utils,o=oa.Rematch;function a(t){this.config=t;var n=pa.HoganJsUtils;e=new n(t)}a.prototype.makeFileDiffHtml=function(t,n){if(this.config.renderNothingWhenEmpty&&t.blocks&&!t.blocks.length)return"";var r=e.template("line-by-line","file-diff"),o=e.template("generic","file-path"),a=e.template("icon","file"),s=e.template("tag",i.getFileTypeIcon(t));return r.render({file:t,fileHtmlId:i.getHtmlId(t),diffs:n,filePath:o.render({fileDiffName:i.getDiffName(t)},{fileIcon:a,fileTag:s})})},a.prototype.makeLineByLineHtmlWrapper=function(t){return e.render("generic","wrapper",{content:t})},a.prototype.generateLineByLineJsonHtml=function(t){var e=this,n=t.map(function(t){var n;return n=t.blocks.length?e._generateFileHtml(t):e._generateEmptyDiff(),e.makeFileDiffHtml(t,n)});return this.makeLineByLineHtmlWrapper(n.join("\n"))};var s=o.rematch(function(t,e){var n=t.content.substr(1),i=e.content.substr(1);return o.distance(n,i)});a.prototype.makeColumnLineNumberHtml=function(t){return e.render("generic","column-line-number",{diffParser:n,blockHeader:r.escape(t.header),lineClass:"d2h-code-linenumber",contentClass:"d2h-code-line"})},a.prototype._generateFileHtml=function(t){var e=this;return t.blocks.map(function(o){var a=e.makeColumnLineNumberHtml(o),l=[],u=[];function c(){var r,o,c;l.length*u.length<(e.config.matchingMaxComparisons||2500)&&("lines"===e.config.matching||"words"===e.config.matching)?(r=s(l,u),o=n.LINE_TYPE.INSERT_CHANGES,c=n.LINE_TYPE.DELETE_CHANGES):(r=[[l,u]],o=n.LINE_TYPE.INSERTS,c=n.LINE_TYPE.DELETES),r.forEach(function(n){l=n[0],u=n[1];for(var r,s,h=[],d=[],f=Math.min(l.length,u.length),p=0;p<f;p++){r=l[p],s=u[p],e.config.isCombined=t.isCombined;var g=i.diffHighlight(r.content,s.content,e.config);h+=e.makeLineHtml(t.isCombined,c,r.oldNumber,r.newNumber,g.first.line,g.first.prefix),d+=e.makeLineHtml(t.isCombined,o,s.oldNumber,s.newNumber,g.second.line,g.second.prefix)}a+=h+d,a+=e._processLines(t.isCombined,l.slice(f),u.slice(f))}),l=[],u=[]}for(var h=0;h<o.lines.length;h++){var d=o.lines[h],f=r.escape(d.content);d.type!==n.LINE_TYPE.INSERTS&&(u.length>0||d.type!==n.LINE_TYPE.DELETES&&l.length>0)&&c(),d.type===n.LINE_TYPE.CONTEXT?a+=e.makeLineHtml(t.isCombined,d.type,d.oldNumber,d.newNumber,f):d.type!==n.LINE_TYPE.INSERTS||l.length?d.type===n.LINE_TYPE.DELETES?l.push(d):d.type===n.LINE_TYPE.INSERTS&&Boolean(l.length)?u.push(d):(console.error("Unknown state in html line-by-line generator"),c()):a+=e.makeLineHtml(t.isCombined,d.type,d.oldNumber,d.newNumber,f)}return c(),a}).join("\n")},a.prototype._processLines=function(t,e,n){for(var i="",o=0;o<e.length;o++){var a=e[o],s=r.escape(a.content);i+=this.makeLineHtml(t,a.type,a.oldNumber,a.newNumber,s)}for(var l=0;l<n.length;l++){var u=n[l],c=r.escape(u.content);i+=this.makeLineHtml(t,u.type,u.oldNumber,u.newNumber,c)}return i},a.prototype.makeLineHtml=function(t,n,o,a,s,l){var u=e.render("line-by-line","numbers",{oldNumber:r.valueOrEmpty(o),newNumber:r.valueOrEmpty(a)}),c=s,h=l;if(!h){var d=i.separatePrefix(t,s);h=d.prefix,c=d.line}return e.render("generic","line",{type:n,lineClass:"d2h-code-linenumber",contentClass:"d2h-code-line",prefix:h,content:c,lineNumber:u})},a.prototype._generateEmptyDiff=function(){return e.render("generic","empty-diff",{contentClass:"d2h-code-line",diffParser:n})},t.exports.LineByLinePrinter=a}()})),va=(ga.LineByLinePrinter,_(function(t){!function(){var e,n=ra.DiffParser,i=aa.PrinterUtils,r=ia.Utils,o=oa.Rematch,a=o.rematch(function(t,e){var n=t.content.substr(1),i=e.content.substr(1);return o.distance(n,i)});function s(t){this.config=t;var n=pa.HoganJsUtils;e=new n(t)}s.prototype.makeDiffHtml=function(t,n){var r=e.template("side-by-side","file-diff"),o=e.template("generic","file-path"),a=e.template("icon","file"),s=e.template("tag",i.getFileTypeIcon(t));return r.render({file:t,fileHtmlId:i.getHtmlId(t),diffs:n,filePath:o.render({fileDiffName:i.getDiffName(t)},{fileIcon:a,fileTag:s})})},s.prototype.generateSideBySideJsonHtml=function(t){var n=this,i=t.map(function(t){var e;return e=t.blocks.length?n.generateSideBySideFileHtml(t):n.generateEmptyDiff(),n.makeDiffHtml(t,e)}).join("\n");return e.render("generic","wrapper",{content:i})},s.prototype.makeSideHtml=function(t){return e.render("generic","column-line-number",{diffParser:n,blockHeader:r.escape(t),lineClass:"d2h-code-side-linenumber",contentClass:"d2h-code-side-line"})},s.prototype.generateSideBySideFileHtml=function(t){var e=this,o={left:"",right:""};return t.blocks.forEach(function(s){o.left+=e.makeSideHtml(s.header),o.right+=e.makeSideHtml("");var l=[],u=[];function c(){var r,s,c;l.length*u.length<(e.config.matchingMaxComparisons||2500)&&("lines"===e.config.matching||"words"===e.config.matching)?(r=a(l,u),s=n.LINE_TYPE.INSERT_CHANGES,c=n.LINE_TYPE.DELETE_CHANGES):(r=[[l,u]],s=n.LINE_TYPE.INSERTS,c=n.LINE_TYPE.DELETES),r.forEach(function(n){l=n[0],u=n[1];for(var r=Math.min(l.length,u.length),a=Math.max(l.length,u.length),h=0;h<r;h++){var d=l[h],f=u[h];e.config.isCombined=t.isCombined;var p=i.diffHighlight(d.content,f.content,e.config);o.left+=e.generateSingleLineHtml(t.isCombined,c,d.oldNumber,p.first.line,p.first.prefix),o.right+=e.generateSingleLineHtml(t.isCombined,s,f.newNumber,p.second.line,p.second.prefix)}if(a>r){var g=l.slice(r),v=u.slice(r),m=e.processLines(t.isCombined,g,v);o.left+=m.left,o.right+=m.right}}),l=[],u=[]}for(var h=0;h<s.lines.length;h++){var d=s.lines[h],f=d.content[0],p=r.escape(d.content.substr(1));d.type!==n.LINE_TYPE.INSERTS&&(u.length>0||d.type!==n.LINE_TYPE.DELETES&&l.length>0)&&c(),d.type===n.LINE_TYPE.CONTEXT?(o.left+=e.generateSingleLineHtml(t.isCombined,d.type,d.oldNumber,p,f),o.right+=e.generateSingleLineHtml(t.isCombined,d.type,d.newNumber,p,f)):d.type!==n.LINE_TYPE.INSERTS||l.length?d.type===n.LINE_TYPE.DELETES?l.push(d):d.type===n.LINE_TYPE.INSERTS&&Boolean(l.length)?u.push(d):(console.error("unknown state in html side-by-side generator"),c()):(o.left+=e.generateSingleLineHtml(t.isCombined,n.LINE_TYPE.CONTEXT,"","",""),o.right+=e.generateSingleLineHtml(t.isCombined,d.type,d.newNumber,p,f))}c()}),o},s.prototype.processLines=function(t,e,i){for(var o={left:"",right:""},a=Math.max(e.length,i.length),s=0;s<a;s++){var l,u,c,h,d=e[s],f=i[s];d&&(l=r.escape(d.content.substr(1)),c=d.content[0]),f&&(u=r.escape(f.content.substr(1)),h=f.content[0]),d&&f?(o.left+=this.generateSingleLineHtml(t,d.type,d.oldNumber,l,c),o.right+=this.generateSingleLineHtml(t,f.type,f.newNumber,u,h)):d?(o.left+=this.generateSingleLineHtml(t,d.type,d.oldNumber,l,c),o.right+=this.generateSingleLineHtml(t,n.LINE_TYPE.CONTEXT,"","","")):f?(o.left+=this.generateSingleLineHtml(t,n.LINE_TYPE.CONTEXT,"","",""),o.right+=this.generateSingleLineHtml(t,f.type,f.newNumber,u,h)):console.error("How did it get here?")}return o},s.prototype.generateSingleLineHtml=function(t,n,r,o,a){var s=o,l=a,u="d2h-code-side-linenumber",c="d2h-code-side-line";if(r||o||(u+=" d2h-code-side-emptyplaceholder",c+=" d2h-code-side-emptyplaceholder",n+=" d2h-emptyplaceholder"),!l){var h=i.separatePrefix(t,o);l=h.prefix,s=h.line}return e.render("generic","line",{type:n,lineClass:u,contentClass:c,prefix:l,content:s,lineNumber:r})},s.prototype.generateEmptyDiff=function(){var t={right:""};return t.left=e.render("generic","empty-diff",{contentClass:"d2h-code-side-line",diffParser:n}),t},t.exports.SideBySidePrinter=s}()})),ma=(va.SideBySidePrinter,_(function(t){!function(){var e,n=aa.PrinterUtils;function i(t){this.config=t;var n=pa.HoganJsUtils;e=new n(t)}i.prototype.generateFileList=function(t){var i=e.template("file-summary","line"),r=t.map(function(t){var r=n.getFileTypeIcon(t),o=e.template("icon",r);return i.render({fileHtmlId:n.getHtmlId(t),fileName:n.getDiffName(t),deletedLines:"-"+t.deletedLines,addedLines:"+"+t.addedLines},{fileIcon:o})}).join("\n");return e.render("file-summary","wrapper",{filesNumber:t.length,files:r})},t.exports.FileListPrinter=i}()})),ya=(ma.FileListPrinter,_(function(t){!function(){var e=ga.LineByLinePrinter,n=va.SideBySidePrinter,i=ma.FileListPrinter;function r(){}r.prototype.generateLineByLineJsonHtml=function(t,n){return new e(n).generateLineByLineJsonHtml(t)},r.prototype.generateSideBySideJsonHtml=function(t,e){return new n(e).generateSideBySideJsonHtml(t)},r.prototype.generateFileListSummary=function(t,e){return new i(e).generateFileList(t)},t.exports.HtmlPrinter=new r}()})),ba=(ya.HtmlPrinter,_(function(t){!function(){var e=ra.DiffParser,n=ya.HtmlPrinter,i=ia.Utils;function r(){}var o={wordByWord:!0,outputFormat:"line-by-line",matching:"none",matchWordsThreshold:.25,matchingMaxComparisons:2500,maxLineLengthHighlight:1e4,renderNothingWhenEmpty:!1};r.prototype.getJsonFromDiff=function(t,n){var r=i.safeConfig(n,o);return e.generateDiffJson(t,r)},r.prototype.getPrettyHtml=function(t,r){var a=i.safeConfig(r,o),s=t;a.inputFormat&&"diff"!==a.inputFormat||(s=e.generateDiffJson(t,a));var l="";return!0===a.showFiles&&(l=n.generateFileListSummary(s,a)),l+("side-by-side"===a.outputFormat?n.generateSideBySideJsonHtml(s,a):n.generateLineByLineJsonHtml(s,a))},r.prototype.getPrettyHtmlFromDiff=function(t,e){var n=i.safeConfig(e,o);return n.inputFormat="diff",n.outputFormat="line-by-line",this.getPrettyHtml(t,n)},r.prototype.getPrettyHtmlFromJson=function(t,e){var n=i.safeConfig(e,o);return n.inputFormat="json",n.outputFormat="line-by-line",this.getPrettyHtml(t,n)},r.prototype.getPrettySideBySideHtmlFromDiff=function(t,e){var n=i.safeConfig(e,o);return n.inputFormat="diff",n.outputFormat="side-by-side",this.getPrettyHtml(t,n)},r.prototype.getPrettySideBySideHtmlFromJson=function(t,e){var n=i.safeConfig(e,o);return n.inputFormat="json",n.outputFormat="side-by-side",this.getPrettyHtml(t,n)};var a=new r;t.exports.Diff2Html=a,w.Diff2Html=a}()}).Diff2Html);function xa(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];"object"!=typeof n||Object.isFrozen(n)||xa(n)}),t}var wa=xa,_a=xa;wa.default=_a;class Sa{constructor(t){void 0===t.data&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Ma(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Ca(t,...e){const n=Object.create(null);for(const e in t)n[e]=t[e];return e.forEach(function(t){for(const e in t)n[e]=t[e]}),n}const Ia=t=>!!t.kind;class ka{constructor(t,e){this.buffer="",this.classPrefix=e.classPrefix,t.walk(this)}addText(t){this.buffer+=Ma(t)}openNode(t){if(!Ia(t))return;let e=t.kind;t.sublanguage||(e=`${this.classPrefix}${e}`),this.span(e)}closeNode(t){Ia(t)&&(this.buffer+="</span>")}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}class Ta{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const e={kind:t,children:[]};this.add(e),this.stack.push(e)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,e){return"string"==typeof e?t.addText(e):e.children&&(t.openNode(e),e.children.forEach(e=>this._walk(t,e)),t.closeNode(e)),t}static _collapse(t){"string"!=typeof t&&t.children&&(t.children.every(t=>"string"==typeof t)?t.children=[t.children.join("")]:t.children.forEach(t=>{Ta._collapse(t)}))}}class Oa extends Ta{constructor(t){super(),this.options=t}addKeyword(t,e){""!==t&&(this.openNode(e),this.addText(t),this.closeNode())}addText(t){""!==t&&this.add(t)}addSublanguage(t,e){const n=t.root;n.kind=e,n.sublanguage=!0,this.add(n)}toHTML(){return new ka(this,this.options).value()}finalize(){return!0}}function Ea(t){return t?"string"==typeof t?t:t.source:null}const Aa=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,Na="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",La={begin:"\\\\[\\s\\S]",relevance:0},Da={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[La]},ja={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[La]},Pa={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Ra=function(t,e,n={}){const i=Ca({className:"comment",begin:t,end:e,contains:[]},n);return i.contains.push(Pa),i.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),i},za=Ra("//","$"),Ba=Ra("/\\*","\\*/"),Fa=Ra("#","$"),Ga={className:"number",begin:Na,relevance:0},Va={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[La,{begin:/\[/,end:/\]/,relevance:0,contains:[La]}]}]};var Wa=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:"[a-zA-Z]\\w*",UNDERSCORE_IDENT_RE:"[a-zA-Z_]\\w*",NUMBER_RE:"\\b\\d+(\\.\\d+)?",C_NUMBER_RE:Na,BINARY_NUMBER_RE:"\\b(0b[01]+)",RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=function(...t){return t.map(t=>Ea(t)).join("")}(e,/.*\b/,t.binary,/\b.*/)),Ca({className:"meta",begin:e,end:/$/,relevance:0,"on:begin":(t,e)=>{0!==t.index&&e.ignoreMatch()}},t)},BACKSLASH_ESCAPE:La,APOS_STRING_MODE:Da,QUOTE_STRING_MODE:ja,PHRASAL_WORDS_MODE:Pa,COMMENT:Ra,C_LINE_COMMENT_MODE:za,C_BLOCK_COMMENT_MODE:Ba,HASH_COMMENT_MODE:Fa,NUMBER_MODE:{className:"number",begin:"\\b\\d+(\\.\\d+)?",relevance:0},C_NUMBER_MODE:Ga,BINARY_NUMBER_MODE:{className:"number",begin:"\\b(0b[01]+)",relevance:0},CSS_NUMBER_MODE:{className:"number",begin:"\\b\\d+(\\.\\d+)?(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},REGEXP_MODE:Va,TITLE_MODE:{className:"title",begin:"[a-zA-Z]\\w*",relevance:0},UNDERSCORE_TITLE_MODE:{className:"title",begin:"[a-zA-Z_]\\w*",relevance:0},METHOD_GUARD:{begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0},END_SAME_AS_BEGIN:function(t){return Object.assign(t,{"on:begin":(t,e)=>{e.data._beginMatch=t[1]},"on:end":(t,e)=>{e.data._beginMatch!==t[1]&&e.ignoreMatch()}})}});function Ha(t,e){"."===t.input[t.index-1]&&e.ignoreMatch()}const Ua=["of","and","for","in","not","or","if","then","parent","list","value"];function Ya(t,{plugins:e}){function n(e,n){return new RegExp(Ea(e),"m"+(t.case_insensitive?"i":"")+(n?"g":""))}class i{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(t,e){e.position=this.position++,this.matchIndexes[this.matchAt]=e,this.regexes.push([e,t]),this.matchAt+=function(t){return new RegExp(t.toString()+"|").exec("").length-1}(t)+1}compile(){0===this.regexes.length&&(this.exec=(()=>null));const t=this.regexes.map(t=>t[1]);this.matcherRe=n(function(t,e="|"){let n=0;return t.map(t=>{const e=n+=1;let i=Ea(t),r="";for(;i.length>0;){const t=Aa.exec(i);if(!t){r+=i;break}r+=i.substring(0,t.index),i=i.substring(t.index+t[0].length),"\\"===t[0][0]&&t[1]?r+="\\"+String(Number(t[1])+e):(r+=t[0],"("===t[0]&&n++)}return r}).map(t=>`(${t})`).join(e)}(t),!0),this.lastIndex=0}exec(t){this.matcherRe.lastIndex=this.lastIndex;const e=this.matcherRe.exec(t);if(!e)return null;const n=e.findIndex((t,e)=>e>0&&void 0!==t),i=this.matchIndexes[n];return e.splice(0,n),Object.assign(e,i)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(t){if(this.multiRegexes[t])return this.multiRegexes[t];const e=new i;return this.rules.slice(t).forEach(([t,n])=>e.addRule(t,n)),e.compile(),this.multiRegexes[t]=e,e}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(t,e){this.rules.push([t,e]),"begin"===e.type&&this.count++}exec(t){const e=this.getMatcher(this.regexIndex);e.lastIndex=this.lastIndex;let n=e.exec(t);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const e=this.getMatcher(0);e.lastIndex=this.lastIndex+1,n=e.exec(t)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=Ca(t.classNameAliases||{}),function e(i,o){const a=i;if(i.isCompiled)return a;[function(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}].forEach(t=>t(i,o)),t.compilerExtensions.forEach(t=>t(i,o)),i.__beforeBegin=null,[function(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=Ha,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,void 0===t.relevance&&(t.relevance=0))},function(t,e){Array.isArray(t.illegal)&&(t.illegal=function(...t){return"("+t.map(t=>Ea(t)).join("|")+")"}(...t.illegal))},function(t,e){void 0===t.relevance&&(t.relevance=1)}].forEach(t=>t(i,o)),i.isCompiled=!0;let s=null;if("object"==typeof i.keywords&&(s=i.keywords.$pattern,delete i.keywords.$pattern),i.keywords&&(i.keywords=function t(e,n,i="keyword"){const r={};return"string"==typeof e?o(i,e.split(" ")):Array.isArray(e)?o(i,e):Object.keys(e).forEach(function(i){Object.assign(r,t(e[i],n,i))}),r;function o(t,e){n&&(e=e.map(t=>t.toLowerCase())),e.forEach(function(e){const n=e.split("|");r[n[0]]=[t,function(t,e){return e?Number(e):function(t){return Ua.includes(t.toLowerCase())}(t)?0:1}(n[0],n[1])]})}}(i.keywords,t.case_insensitive)),i.lexemes&&s)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return s=s||i.lexemes||/\w+/,a.keywordPatternRe=n(s,!0),o&&(i.begin||(i.begin=/\B|\b/),a.beginRe=n(i.begin),i.endSameAsBegin&&(i.end=i.begin),i.end||i.endsWithParent||(i.end=/\B|\b/),i.end&&(a.endRe=n(i.end)),a.terminatorEnd=Ea(i.end)||"",i.endsWithParent&&o.terminatorEnd&&(a.terminatorEnd+=(i.end?"|":"")+o.terminatorEnd)),i.illegal&&(a.illegalRe=n(i.illegal)),i.contains||(i.contains=[]),i.contains=[].concat(...i.contains.map(function(t){return function(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return Ca(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:function t(e){return!!e&&(e.endsWithParent||t(e.starts))}(t)?Ca(t,{starts:t.starts?Ca(t.starts):null}):Object.isFrozen(t)?Ca(t):t}("self"===t?i:t)})),i.contains.forEach(function(t){e(t,a)}),i.starts&&e(i.starts,o),a.matcher=function(t){const e=new r;return t.contains.forEach(t=>e.addRule(t.begin,{rule:t,type:"begin"})),t.terminatorEnd&&e.addRule(t.terminatorEnd,{type:"end"}),t.illegal&&e.addRule(t.illegal,{type:"illegal"}),e}(a),a}(t)}const Ja={"after:highlightElement":({el:t,result:e,text:n})=>{const i=Za(t);if(!i.length)return;const r=document.createElement("div");r.innerHTML=e.value,e.value=function(t,e,n){let i=0,r="";const o=[];function a(){return t.length&&e.length?t[0].offset!==e[0].offset?t[0].offset<e[0].offset?t:e:"start"===e[0].event?t:e:t.length?t:e}function s(t){r+="<"+Qa(t)+[].map.call(t.attributes,function(t){return" "+t.nodeName+'="'+Ma(t.value)+'"'}).join("")+">"}function l(t){r+="</"+Qa(t)+">"}function u(t){("start"===t.event?s:l)(t.node)}for(;t.length||e.length;){let e=a();if(r+=Ma(n.substring(i,e[0].offset)),i=e[0].offset,e===t){o.reverse().forEach(l);do{u(e.splice(0,1)[0]),e=a()}while(e===t&&e.length&&e[0].offset===i);o.reverse().forEach(s)}else"start"===e[0].event?o.push(e[0].node):o.pop(),u(e.splice(0,1)[0])}return r+Ma(n.substr(i))}(i,Za(r),n)}};function Qa(t){return t.nodeName.toLowerCase()}function Za(t){const e=[];return function t(n,i){for(let r=n.firstChild;r;r=r.nextSibling)3===r.nodeType?i+=r.nodeValue.length:1===r.nodeType&&(e.push({event:"start",offset:i,node:r}),i=t(r,i),Qa(r).match(/br|hr|img|input/)||e.push({event:"stop",offset:i,node:r}));return i}(t,0),e}const $a={},Xa=t=>{console.error(t)},Ka=(t,...e)=>{console.log("WARN: "+t,...e)},qa=(t,e)=>{$a[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),$a[`${t}/${e}`]=!0)},ts=Ma,es=Ca,ns=Symbol("nomatch");var is=function(t){const e=Object.create(null),n=Object.create(null),i=[];let r=!0;const o=/(^(<[^>]+>|\t|)+|\n)/gm,a="Could not find the language '{}', did you forget to load/include a language module?",s={disableAutodetect:!0,name:"Plain text",contains:[]};let l={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:Oa};function u(t){return l.noHighlightRe.test(t)}function c(t,e,n,i){let r="",o="";"object"==typeof e?(r=t,n=e.ignoreIllegals,o=e.language,i=void 0):(qa("10.7.0","highlight(lang, code, ...args) has been deprecated."),qa("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),o=t,r=e);const a={code:r,language:o};S("before:highlight",a);const s=a.result?a.result:h(a.language,a.code,n,i);return s.code=a.code,S("after:highlight",s),s}function h(t,n,o,s){function u(t,e){const n=m.case_insensitive?e[0].toLowerCase():e[0];return Object.prototype.hasOwnProperty.call(t.keywords,n)&&t.keywords[n]}function c(){null!=w.subLanguage?function(){if(""===M)return;let t=null;if("string"==typeof w.subLanguage){if(!e[w.subLanguage])return void S.addText(M);t=h(w.subLanguage,M,!0,_[w.subLanguage]),_[w.subLanguage]=t.top}else t=d(M,w.subLanguage.length?w.subLanguage:null);w.relevance>0&&(C+=t.relevance),S.addSublanguage(t.emitter,t.language)}():function(){if(!w.keywords)return void S.addText(M);let t=0;w.keywordPatternRe.lastIndex=0;let e=w.keywordPatternRe.exec(M),n="";for(;e;){n+=M.substring(t,e.index);const i=u(w,e);if(i){const[t,r]=i;if(S.addText(n),n="",C+=r,t.startsWith("_"))n+=e[0];else{const n=m.classNameAliases[t]||t;S.addKeyword(e[0],n)}}else n+=e[0];t=w.keywordPatternRe.lastIndex,e=w.keywordPatternRe.exec(M)}n+=M.substr(t),S.addText(n)}(),M=""}function f(t){return t.className&&S.openNode(m.classNameAliases[t.className]||t.className),w=Object.create(t,{parent:{value:w}})}function p(t){return 0===w.matcher.regexIndex?(M+=t[0],1):(T=!0,0)}let g={};function v(e,i){const a=i&&i[0];if(M+=e,null==a)return c(),0;if("begin"===g.type&&"end"===i.type&&g.index===i.index&&""===a){if(M+=n.slice(i.index,i.index+1),!r){const e=new Error("0 width match regex");throw e.languageName=t,e.badRule=g.rule,e}return 1}if(g=i,"begin"===i.type)return function(t){const e=t[0],n=t.rule,i=new Sa(n),r=[n.__beforeBegin,n["on:begin"]];for(const n of r)if(n&&(n(t,i),i.isMatchIgnored))return p(e);return n&&n.endSameAsBegin&&(n.endRe=new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")),n.skip?M+=e:(n.excludeBegin&&(M+=e),c(),n.returnBegin||n.excludeBegin||(M=e)),f(n),n.returnBegin?0:e.length}(i);if("illegal"===i.type&&!o){const t=new Error('Illegal lexeme "'+a+'" for mode "'+(w.className||"<unnamed>")+'"');throw t.mode=w,t}if("end"===i.type){const t=function(t){const e=t[0],i=n.substr(t.index),r=function t(e,n,i){let r=function(t,e){const n=t&&t.exec(e);return n&&0===n.index}(e.endRe,i);if(r){if(e["on:end"]){const t=new Sa(e);e["on:end"](n,t),t.isMatchIgnored&&(r=!1)}if(r){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return t(e.parent,n,i)}(w,t,i);if(!r)return ns;const o=w;o.skip?M+=e:(o.returnEnd||o.excludeEnd||(M+=e),c(),o.excludeEnd&&(M=e));do{w.className&&S.closeNode(),w.skip||w.subLanguage||(C+=w.relevance),w=w.parent}while(w!==r.parent);return r.starts&&(r.endSameAsBegin&&(r.starts.endRe=r.endRe),f(r.starts)),o.returnEnd?0:e.length}(i);if(t!==ns)return t}if("illegal"===i.type&&""===a)return 1;if(k>1e5&&k>3*i.index)throw new Error("potential infinite loop, way more iterations than matches");return M+=a,a.length}const m=x(t);if(!m)throw Xa(a.replace("{}",t)),new Error('Unknown language: "'+t+'"');const y=Ya(m,{plugins:i});let b="",w=s||y;const _={},S=new l.__emitter(l);!function(){const t=[];for(let e=w;e!==m;e=e.parent)e.className&&t.unshift(e.className);t.forEach(t=>S.openNode(t))}();let M="",C=0,I=0,k=0,T=!1;try{for(w.matcher.considerAll();;){k++,T?T=!1:w.matcher.considerAll(),w.matcher.lastIndex=I;const t=w.matcher.exec(n);if(!t)break;const e=v(n.substring(I,t.index),t);I=t.index+e}return v(n.substr(I)),S.closeAllNodes(),S.finalize(),b=S.toHTML(),{relevance:Math.floor(C),value:b,language:t,illegal:!1,emitter:S,top:w}}catch(e){if(e.message&&e.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:e.message,context:n.slice(I-100,I+100),mode:e.mode},sofar:b,relevance:0,value:ts(n),emitter:S};if(r)return{illegal:!1,relevance:0,value:ts(n),emitter:S,language:t,top:w,errorRaised:e};throw e}}function d(t,n){n=n||l.languages||Object.keys(e);const i=function(t){const e={relevance:0,emitter:new l.__emitter(l),value:ts(t),illegal:!1,top:s};return e.emitter.addText(t),e}(t),r=n.filter(x).filter(_).map(e=>h(e,t,!1));r.unshift(i);const o=r.sort((t,e)=>{if(t.relevance!==e.relevance)return e.relevance-t.relevance;if(t.language&&e.language){if(x(t.language).supersetOf===e.language)return 1;if(x(e.language).supersetOf===t.language)return-1}return 0}),[a,u]=o,c=a;return c.second_best=u,c}const f={"before:highlightElement":({el:t})=>{l.useBR&&(t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"))},"after:highlightElement":({result:t})=>{l.useBR&&(t.value=t.value.replace(/\n/g,"<br>"))}},p=/^(<[^>]+>|\t)+/gm,g={"after:highlightElement":({result:t})=>{l.tabReplace&&(t.value=t.value.replace(p,t=>t.replace(/\t/g,l.tabReplace)))}};function v(t){let e=null;const i=function(t){let e=t.className+" ";e+=t.parentNode?t.parentNode.className:"";const n=l.languageDetectRe.exec(e);if(n){const e=x(n[1]);return e||(Ka(a.replace("{}",n[1])),Ka("Falling back to no-highlight mode for this block.",t)),e?n[1]:"no-highlight"}return e.split(/\s+/).find(t=>u(t)||x(t))}(t);if(u(i))return;S("before:highlightElement",{el:t,language:i});const r=(e=t).textContent,o=i?c(r,{language:i,ignoreIllegals:!0}):d(r);S("after:highlightElement",{el:t,result:o,text:r}),t.innerHTML=o.value,function(t,e,i){const r=e?n[e]:i;t.classList.add("hljs"),r&&t.classList.add(r)}(t,i,o.language),t.result={language:o.language,re:o.relevance,relavance:o.relevance},o.second_best&&(t.second_best={language:o.second_best.language,re:o.second_best.relevance,relavance:o.second_best.relevance})}const m=()=>{m.called||(m.called=!0,qa("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead."),document.querySelectorAll("pre code").forEach(v))};let y=!1;function b(){"loading"!==document.readyState?document.querySelectorAll("pre code").forEach(v):y=!0}function x(t){return t=(t||"").toLowerCase(),e[t]||e[n[t]]}function w(t,{languageName:e}){"string"==typeof t&&(t=[t]),t.forEach(t=>{n[t.toLowerCase()]=e})}function _(t){const e=x(t);return e&&!e.disableAutodetect}function S(t,e){const n=t;i.forEach(function(t){t[n]&&t[n](e)})}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",function(){y&&b()},!1),Object.assign(t,{highlight:c,highlightAuto:d,highlightAll:b,fixMarkup:function(t){return qa("10.2.0","fixMarkup will be removed entirely in v11.0"),qa("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),e=t,l.tabReplace||l.useBR?e.replace(o,t=>"\n"===t?l.useBR?"<br>":t:l.tabReplace?t.replace(/\t/g,l.tabReplace):t):e;var e},highlightElement:v,highlightBlock:function(t){return qa("10.7.0","highlightBlock will be removed entirely in v12.0"),qa("10.7.0","Please use highlightElement now."),v(t)},configure:function(t){t.useBR&&(qa("10.3.0","'useBR' will be removed entirely in v11.0"),qa("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),l=es(l,t)},initHighlighting:m,initHighlightingOnLoad:function(){qa("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),y=!0},registerLanguage:function(n,i){let o=null;try{o=i(t)}catch(t){if(Xa("Language definition for '{}' could not be registered.".replace("{}",n)),!r)throw t;Xa(t),o=s}o.name||(o.name=n),e[n]=o,o.rawDefinition=i.bind(null,t),o.aliases&&w(o.aliases,{languageName:n})},unregisterLanguage:function(t){delete e[t];for(const e of Object.keys(n))n[e]===t&&delete n[e]},listLanguages:function(){return Object.keys(e)},getLanguage:x,registerAliases:w,requireLanguage:function(t){qa("10.4.0","requireLanguage will be removed entirely in v11."),qa("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const e=x(t);if(e)return e;throw new Error("The '{}' language is required, but not loaded.".replace("{}",t))},autoDetection:_,inherit:es,addPlugin:function(t){!function(t){t["before:highlightBlock"]&&!t["before:highlightElement"]&&(t["before:highlightElement"]=(e=>{t["before:highlightBlock"](Object.assign({block:e.el},e))})),t["after:highlightBlock"]&&!t["after:highlightElement"]&&(t["after:highlightElement"]=(e=>{t["after:highlightBlock"](Object.assign({block:e.el},e))}))}(t),i.push(t)},vuePlugin:function(t){const e={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!t.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,Ma(this.code);let e={};return this.autoDetect?(e=t.highlightAuto(this.code),this.detectedLanguage=e.language):(e=t.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),e.value},autoDetect(){return!this.language||(t=this.autodetect,Boolean(t||""===t));var t},ignoreIllegals:()=>!0},render(t){return t("pre",{},[t("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:e,VuePlugin:{install(t){t.component("highlightjs",e)}}}}(t).VuePlugin}),t.debugMode=function(){r=!1},t.safeMode=function(){r=!0},t.versionString="10.7.3";for(const t in Wa)"object"==typeof Wa[t]&&wa(Wa[t]);return Object.assign(t,Wa),t.addPlugin(f),t.addPlugin(Ja),t.addPlugin(g),t}({});const rs=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],os=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],as=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],ss=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],ls=["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-variant","font-variant-ligatures","font-variation-settings","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","src","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"].reverse();var us="\\.([0-9](_*[0-9])*)",cs="[0-9a-fA-F](_*[0-9a-fA-F])*",hs={className:"number",variants:[{begin:`(\\b([0-9](_*[0-9])*)((${us})|\\.)?|(${us}))[eE][+-]?([0-9](_*[0-9])*)[fFdD]?\\b`},{begin:`\\b([0-9](_*[0-9])*)((${us})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${us})[fFdD]?\\b`},{begin:"\\b([0-9](_*[0-9])*)[fFdD]\\b"},{begin:`\\b0[xX]((${cs})\\.?|(${cs})?\\.(${cs}))[pP][+-]?([0-9](_*[0-9])*)[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${cs})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};const ds=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],fs=["true","false","null","undefined","NaN","Infinity"],ps=[].concat(["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],["arguments","this","super","console","window","document","localStorage","module","global"],["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer","BigInt64Array","BigUint64Array","BigInt"],["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"]);function gs(t){return vs("(?=",t,")")}function vs(...t){return t.map(t=>{return(e=t)?"string"==typeof e?e:e.source:null;var e}).join("")}const ms=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],ys=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],bs=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],xs=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],ws=["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-variant","font-variant-ligatures","font-variation-settings","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","src","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"].reverse();const _s=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Ss=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Ms=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Cs=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Is=["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-variant","font-variant-ligatures","font-variation-settings","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","src","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"].reverse(),ks=Ms.concat(Cs);const Ts=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Os=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Es=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],As=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Ns=["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-variant","font-variant-ligatures","font-variation-settings","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","src","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"].reverse();function Ls(t){return Ds("(",t,")?")}function Ds(...t){return t.map(t=>{return(e=t)?"string"==typeof e?e:e.source:null;var e}).join("")}function js(t){return t?"string"==typeof t?t:t.source:null}function Ps(t){return Rs("(?=",t,")")}function Rs(...t){return t.map(t=>js(t)).join("")}const zs="[A-Za-z$_][0-9A-Za-z$_]*",Bs=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],Fs=["true","false","null","undefined","NaN","Infinity"],Gs=[].concat(["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],["arguments","this","super","console","window","document","localStorage","module","global"],["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer","BigInt64Array","BigUint64Array","BigInt"],["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"]);function Vs(t){return Ws("(?=",t,")")}function Ws(...t){return t.map(t=>{return(e=t)?"string"==typeof e?e:e.source:null;var e}).join("")}function Hs(t){return t?"string"==typeof t?t:t.source:null}function Us(...t){return"("+t.map(t=>Hs(t)).join("|")+")"}function Ys(...t){return t.map(t=>{return(e=t)?"string"==typeof e?e:e.source:null;var e}).join("")}function Js(t){return t?"string"==typeof t?t:t.source:null}function Qs(...t){return t.map(t=>Js(t)).join("")}function Zs(...t){return"("+t.map(t=>Js(t)).join("|")+")"}[{lang:"java",mod:function(t){var e="false synchronized int abstract float private char boolean var static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do",n={className:"meta",begin:"@[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",contains:[{begin:/\(/,end:/\)/,contains:["self"]}]};const i=hs;return{name:"Java",aliases:["jsp"],keywords:e,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"class",beginKeywords:"class interface enum",end:/[{;=]/,excludeEnd:!0,relevance:1,keywords:"class interface enum",illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"new throw return else",relevance:0},{className:"class",begin:"record\\s+"+t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,excludeEnd:!0,end:/[{;=]/,keywords:e,contains:[{beginKeywords:"record"},{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"params",begin:/\(/,end:/\)/,keywords:e,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"function",begin:"([À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*(<[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*(\\s*,\\s*[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*)*>)?\\s+)+"+t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:e,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"params",begin:/\(/,end:/\)/,keywords:e,relevance:0,contains:[n,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,i,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},i,n]}}},{lang:"javascript",mod:function(t){const e="[A-Za-z$_][0-9A-Za-z$_]*",n={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(t,e)=>{const n=t[0].length+t.index,i=t.input[n];"<"!==i?">"===i&&(((t,{after:e})=>{const n="</"+t[0].slice(1);return-1!==t.input.indexOf(n,e)})(t,{after:n})||e.ignoreMatch()):e.ignoreMatch()}},i={$pattern:"[A-Za-z$_][0-9A-Za-z$_]*",keyword:ds,literal:fs,built_in:ps},r="\\.([0-9](_?[0-9])*)",o={className:"number",variants:[{begin:`(\\b(0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*)((${r})|\\.)?|(${r}))[eE][+-]?([0-9](_?[0-9])*)\\b`},{begin:`\\b(0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*)\\b((${r})\\b|\\.)?|(${r})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},a={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},s={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,a],subLanguage:"xml"}},l={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,a],subLanguage:"css"}},u={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,a]},c={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+",contains:[{className:"type",begin:"\\{",end:"\\}",relevance:0},{className:"variable",begin:e+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},h=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,s,l,u,o,t.REGEXP_MODE];a.contains=h.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(h)});const d=[].concat(c,a.contains),f=d.concat([{begin:/\(/,end:/\)/,keywords:i,contains:["self"].concat(d)}]),p={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:f};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{PARAMS_CONTAINS:f},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,s,l,u,c,o,{begin:vs(/[{,\n]\s*/,gs(vs(/(((\/\/.*$)|(\/\*(\*[^/]|[^*])*\*\/))\s*)*/,e+"\\s*:"))),relevance:0,contains:[{className:"attr",begin:e+gs("\\s*:"),relevance:0}]},{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[c,t.REGEXP_MODE,{className:"function",begin:"(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:f}]}]},{begin:/,/,relevance:0},{className:"",begin:/\s/,end:/\s*/,skip:!0},{variants:[{begin:"<>",end:"</>"},{begin:n.begin,"on:begin":n.isTrulyOpeningTag,end:n.end}],subLanguage:"xml",contains:[{begin:n.begin,end:n.end,skip:!0,contains:["self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/[{;]/,excludeEnd:!0,keywords:i,contains:["self",t.inherit(t.TITLE_MODE,{begin:e}),p],illegal:/%/},{beginKeywords:"while if switch catch for"},{className:"function",begin:t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,contains:[p,t.inherit(t.TITLE_MODE,{begin:e})]},{variants:[{begin:"\\."+e},{begin:"\\$"+e}],relevance:0},{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"[\]]/,contains:[{beginKeywords:"extends"},t.UNDERSCORE_TITLE_MODE]},{begin:/\b(?=constructor)/,end:/[{;]/,excludeEnd:!0,contains:[t.inherit(t.TITLE_MODE,{begin:e}),"self",p]},{begin:"(get|set)\\s+(?="+e+"\\()",end:/\{/,keywords:"get set",contains:[t.inherit(t.TITLE_MODE,{begin:e}),{begin:/\(\)/},p]},{begin:/\$[(.]/}]}}},{lang:"json",mod:function(t){const e={literal:"true false null"},n=[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],i=[t.QUOTE_STRING_MODE,t.C_NUMBER_MODE],r={end:",",endsWithParent:!0,excludeEnd:!0,contains:i,keywords:e},o={begin:/\{/,end:/\}/,contains:[{className:"attr",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE],illegal:"\\n"},t.inherit(r,{begin:/:/})].concat(n),illegal:"\\S"},a={begin:"\\[",end:"\\]",contains:[t.inherit(r)],illegal:"\\S"};return i.push(o,a),n.forEach(function(t){i.push(t)}),{name:"JSON",contains:i,keywords:e,illegal:"\\S"}}},{lang:"css",mod:function(t){const e=(t=>({IMPORTANT:{className:"meta",begin:"!important"},HEXCOLOR:{className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"},ATTRIBUTE_SELECTOR_MODE:{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]}}))(t),n=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[t.C_BLOCK_COMMENT_MODE,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},t.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+as.join("|")+")"},{begin:"::("+ss.join("|")+")"}]},{className:"attribute",begin:"\\b("+ls.join("|")+")\\b"},{begin:":",end:"[;}]",contains:[e.HEXCOLOR,e.IMPORTANT,t.CSS_NUMBER_MODE,...n,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},{className:"built_in",begin:/[\w-]+(?=\()/}]},{begin:function(t){return function(...t){return t.map(t=>{return(e=t)?"string"==typeof e?e:e.source:null;var e}).join("")}("(?=",t,")")}(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:os.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...n,t.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+rs.join("|")+")\\b"}]}}},{lang:"scss",mod:function(t){const e=(t=>({IMPORTANT:{className:"meta",begin:"!important"},HEXCOLOR:{className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"},ATTRIBUTE_SELECTOR_MODE:{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]}}))(t),n=xs,i=bs,r={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b"};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+ms.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+i.join("|")+")"},{className:"selector-pseudo",begin:"::("+n.join("|")+")"},r,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},{className:"attribute",begin:"\\b("+ws.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:":",end:";",contains:[r,e.HEXCOLOR,t.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT]},{begin:"@(page|font-face)",lexemes:"@[a-z-]+",keywords:"@page @font-face"},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:ys.join(" ")},contains:[{begin:"@[a-z-]+",className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},r,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,t.CSS_NUMBER_MODE]}]}}},{lang:"less",mod:function(t){const e=(t=>({IMPORTANT:{className:"meta",begin:"!important"},HEXCOLOR:{className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"},ATTRIBUTE_SELECTOR_MODE:{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]}}))(t),n=ks,i=[],r=[],o=function(t){return{className:"string",begin:"~?"+t+".*?"+t}},a=function(t,e,n){return{className:t,begin:e,relevance:n}},s={$pattern:/[a-z-]+/,keyword:"and or not only",attribute:Ss.join(" ")},l={begin:"\\(",end:"\\)",contains:r,keywords:s,relevance:0};r.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,o("'"),o('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,l,a("variable","@@?[\\w-]+",10),a("variable","@\\{[\\w-]+\\}"),a("built_in","~?`[^`]*?`"),{className:"attribute",begin:"[\\w-]+\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT);const u=r.concat({begin:/\{/,end:/\}/,contains:i}),c={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(r)},h={begin:"([\\w-]+|@\\{[\\w-]+\\})\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},{className:"attribute",begin:"\\b("+Is.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:r}}]},d={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:s,returnEnd:!0,contains:r,relevance:0}},f={className:"variable",variants:[{begin:"@[\\w-]+\\s*:",relevance:15},{begin:"@[\\w-]+"}],starts:{end:"[;}]",returnEnd:!0,contains:u}},p={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:"([\\w-]+|@\\{[\\w-]+\\})",end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:"[<='$\"]",relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,c,a("keyword","all\\b"),a("variable","@\\{[\\w-]+\\}"),{begin:"\\b("+_s.join("|")+")\\b",className:"selector-tag"},a("selector-tag","([\\w-]+|@\\{[\\w-]+\\})%?",0),a("selector-id","#([\\w-]+|@\\{[\\w-]+\\})"),a("selector-class","\\.([\\w-]+|@\\{[\\w-]+\\})",0),a("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+Ms.join("|")+")"},{className:"selector-pseudo",begin:"::("+Cs.join("|")+")"},{begin:"\\(",end:"\\)",contains:u},{begin:"!important"}]},g={begin:`[\\w-]+:(:)?(${n.join("|")})`,returnBegin:!0,contains:[p]};return i.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,d,f,g,h,p),{name:"Less",case_insensitive:!0,illegal:"[=>'/<($\"]",contains:i}}},{lang:"stylus",mod:function(t){const e=(t=>({IMPORTANT:{className:"meta",begin:"!important"},HEXCOLOR:{className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"},ATTRIBUTE_SELECTOR_MODE:{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]}}))(t),n={className:"variable",begin:"\\$"+t.IDENT_RE};return{name:"Stylus",aliases:["styl"],case_insensitive:!1,keywords:"if else for in",illegal:"("+["\\?","(\\bReturn\\b)","(\\bEnd\\b)","(\\bend\\b)","(\\bdef\\b)",";","#\\s","\\*\\s","===\\s","\\|","%"].join("|")+")",contains:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.HEXCOLOR,{begin:"\\.[a-zA-Z][a-zA-Z0-9_-]*(?=[.\\s\\n[:,(])",className:"selector-class"},{begin:"#[a-zA-Z][a-zA-Z0-9_-]*(?=[.\\s\\n[:,(])",className:"selector-id"},{begin:"\\b("+Ts.join("|")+")(?=[.\\s\\n[:,(])",className:"selector-tag"},{className:"selector-pseudo",begin:"&?:("+Es.join("|")+")(?=[.\\s\\n[:,(])"},{className:"selector-pseudo",begin:"&?::("+As.join("|")+")(?=[.\\s\\n[:,(])"},e.ATTRIBUTE_SELECTOR_MODE,{className:"keyword",begin:/@media/,starts:{end:/[{;}]/,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:Os.join(" ")},contains:[t.CSS_NUMBER_MODE]}},{className:"keyword",begin:"@((-(o|moz|ms|webkit)-)?("+["charset","css","debug","extend","font-face","for","import","include","keyframes","media","mixin","page","warn","while"].join("|")+"))\\b"},n,t.CSS_NUMBER_MODE,{className:"function",begin:"^[a-zA-Z][a-zA-Z0-9_-]*\\(.*\\)",illegal:"[\\n]",returnBegin:!0,contains:[{className:"title",begin:"\\b[a-zA-Z][a-zA-Z0-9_-]*"},{className:"params",begin:/\(/,end:/\)/,contains:[e.HEXCOLOR,n,t.APOS_STRING_MODE,t.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE]}]},{className:"attribute",begin:"\\b("+Ns.join("|")+")\\b",starts:{end:/;|$/,contains:[e.HEXCOLOR,n,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,t.CSS_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,e.IMPORTANT],illegal:/\./,relevance:0}}]}}},{lang:"shell",mod:function(t){return{name:"Shell Session",aliases:["console"],contains:[{className:"meta",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#]/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}},{lang:"bash",mod:function(t){const e={},n={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[e]}]};Object.assign(e,{className:"variable",variants:[{begin:function(...t){return t.map(t=>{return(e=t)?"string"==typeof e?e:e.source:null;var e}).join("")}(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},n]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},r={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e,i]};i.contains.push(o);const a={begin:/\$\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,e]},s=t.SHEBANG({binary:`(${["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"].join("|")})`,relevance:10}),l={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z._-]+\b/,keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp"},contains:[s,t.SHEBANG(),l,a,t.HASH_COMMENT_MODE,r,o,{className:"",begin:/\\"/},{className:"string",begin:/'/,end:/'/},e]}}},{lang:"cpp",mod:function(t){const e=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="(decltype\\(auto\\)|"+Ls("[a-zA-Z_]\\w*::")+"[a-zA-Z_]\\w*"+Ls("<[^<>]+>")+")",i={className:"keyword",begin:"\\b[a-z\\d_]*_t\\b"},r={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},o={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},a={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{"meta-keyword":"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(r,{className:"meta-string"}),{className:"meta-string",begin:/<.*?>/},e,t.C_BLOCK_COMMENT_MODE]},s={className:"title",begin:Ls("[a-zA-Z_]\\w*::")+t.IDENT_RE,relevance:0},l=Ls("[a-zA-Z_]\\w*::")+t.IDENT_RE+"\\s*\\(",u={keyword:"int float while private char char8_t char16_t char32_t catch import module export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using asm case typeid wchar_t short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignas alignof constexpr consteval constinit decltype concept co_await co_return co_yield requires noexcept static_assert thread_local restrict final override atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong new throw return and and_eq bitand bitor compl not not_eq or or_eq xor xor_eq",built_in:"_Bool _Complex _Imaginary",_relevance_hints:["asin","atan2","atan","calloc","ceil","cosh","cos","exit","exp","fabs","floor","fmod","fprintf","fputs","free","frexp","auto_ptr","deque","list","queue","stack","vector","map","set","pair","bitset","multiset","multimap","unordered_set","fscanf","future","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","tolower","toupper","labs","ldexp","log10","log","malloc","realloc","memchr","memcmp","memcpy","memset","modf","pow","printf","putchar","puts","scanf","sinh","sin","snprintf","sprintf","sqrt","sscanf","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","tanh","tan","unordered_map","unordered_multiset","unordered_multimap","priority_queue","make_pair","array","shared_ptr","abort","terminate","abs","acos","vfprintf","vprintf","vsprintf","endl","initializer_list","unique_ptr","complex","imaginary","std","string","wstring","cin","cout","cerr","clog","stdin","stdout","stderr","stringstream","istringstream","ostringstream"],literal:"true false nullptr NULL"},c={className:"function.dispatch",relevance:0,keywords:u,begin:Ds(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!while)/,t.IDENT_RE,(h=/\s*\(/,Ds("(?=",h,")")))};var h;const d=[c,a,i,e,t.C_BLOCK_COMMENT_MODE,o,r],f={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:u,contains:d.concat([{begin:/\(/,end:/\)/,keywords:u,contains:d.concat(["self"]),relevance:0}]),relevance:0},p={className:"function",begin:"("+n+"[\\*&\\s]+)+"+l,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:u,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:"decltype\\(auto\\)",keywords:u,relevance:0},{begin:l,returnBegin:!0,contains:[s],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[r,o]},{className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[e,t.C_BLOCK_COMMENT_MODE,r,o,i,{begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:["self",e,t.C_BLOCK_COMMENT_MODE,r,o,i]}]},i,e,t.C_BLOCK_COMMENT_MODE,a]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:u,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(f,p,c,d,[a,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",end:">",keywords:u,contains:["self",i]},{begin:t.IDENT_RE+"::",keywords:u},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:a,strings:r,keywords:u}}}},{lang:"go",mod:function(t){const e={keyword:"break default func interface select case map struct chan else goto package switch const fallthrough if range type continue for import return var go defer bool byte complex64 complex128 float32 float64 int8 int16 int32 int64 string uint8 uint16 uint32 uint64 int uint uintptr rune",literal:"true false iota nil",built_in:"append cap close complex copy imag len make new panic print println real recover delete"};return{name:"Go",aliases:["golang"],keywords:e,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:t.C_NUMBER_RE+"[i]",relevance:1},t.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,keywords:e,illegal:/["']/}]}]}}},{lang:"xml",mod:function(t){const e=Rs(/[A-Z_]/,Rs("(",/[A-Z0-9_.-]*:/,")?"),/[A-Z0-9_.-]*/),n={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"meta-keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},r=t.inherit(i,{begin:/\(/,end:/\)/}),o=t.inherit(t.APOS_STRING_MODE,{className:"meta-string"}),a=t.inherit(t.QUOTE_STRING_MODE,{className:"meta-string"}),s={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[A-Za-z0-9._:-]+/,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[n]},{begin:/'/,end:/'/,contains:[n]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,a,o,r,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,r,a,o]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},n,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[s],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[s],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:Rs(/</,Ps(Rs(e,function(...t){return"("+t.map(t=>js(t)).join("|")+")"}(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:e,relevance:0,starts:s}]},{className:"tag",begin:Rs(/<\//,Ps(Rs(e,/>/))),contains:[{className:"name",begin:e,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}},{lang:"python",mod:function(t){const e={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:["and","as","assert","async","await","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},n={className:"meta",begin:/^(>>>|\.\.\.) /},i={className:"subst",begin:/\{/,end:/\}/,keywords:e,illegal:/#/},r={begin:/\{\{/,relevance:0},o={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,n],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,n],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,n,r,i]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,n,r,i]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,r,i]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,r,i]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},a="[0-9](_?[0-9])*",s=`(\\b(${a}))?\\.(${a})|\\b(${a})\\.`,l={className:"number",relevance:0,variants:[{begin:`(\\b(${a})|(${s}))[eE][+-]?(${a})[jJ]?\\b`},{begin:`(${s})[jJ]?`},{begin:"\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?\\b"},{begin:"\\b0[bB](_?[01])+[lL]?\\b"},{begin:"\\b0[oO](_?[0-7])+[lL]?\\b"},{begin:"\\b0[xX](_?[0-9a-fA-F])+[lL]?\\b"},{begin:`\\b(${a})[jJ]\\b`}]},u={className:"comment",begin:function(t){return function(...t){return t.map(t=>{return(e=t)?"string"==typeof e?e:e.source:null;var e}).join("")}("(?=",t,")")}(/# type:/),end:/$/,keywords:e,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},c={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:e,contains:["self",n,l,o,t.HASH_COMMENT_MODE]}]};return i.contains=[o,l,n],{name:"Python",aliases:["py","gyp","ipython"],keywords:e,illegal:/(<\/|->|\?)|=>/,contains:[n,l,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},o,u,t.HASH_COMMENT_MODE,{variants:[{className:"function",beginKeywords:"def"},{className:"class",beginKeywords:"class"}],end:/:/,illegal:/[${=;\n,]/,contains:[t.UNDERSCORE_TITLE_MODE,c,{begin:/->/,endsWithParent:!0,keywords:e}]},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[l,c,o]}]}}},{lang:"typescript",mod:function(t){const e={$pattern:zs,keyword:Bs.concat(["type","namespace","typedef","interface","public","private","protected","implements","declare","abstract","readonly"]),literal:Fs,built_in:Gs.concat(["any","void","number","boolean","string","object","never","enum"])},n={className:"meta",begin:"@[A-Za-z$_][0-9A-Za-z$_]*"},i=(t,e,n)=>{const i=t.contains.findIndex(t=>t.label===e);if(-1===i)throw new Error("can not find mode to replace");t.contains.splice(i,1,n)},r=function(t){const e=zs,n={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(t,e)=>{const n=t[0].length+t.index,i=t.input[n];"<"!==i?">"===i&&(((t,{after:e})=>{const n="</"+t[0].slice(1);return-1!==t.input.indexOf(n,e)})(t,{after:n})||e.ignoreMatch()):e.ignoreMatch()}},i={$pattern:zs,keyword:Bs,literal:Fs,built_in:Gs},r="\\.([0-9](_?[0-9])*)",o={className:"number",variants:[{begin:`(\\b(0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*)((${r})|\\.)?|(${r}))[eE][+-]?([0-9](_?[0-9])*)\\b`},{begin:`\\b(0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*)\\b((${r})\\b|\\.)?|(${r})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},a={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},s={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,a],subLanguage:"xml"}},l={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,a],subLanguage:"css"}},u={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,a]},c={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+",contains:[{className:"type",begin:"\\{",end:"\\}",relevance:0},{className:"variable",begin:e+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},h=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,s,l,u,o,t.REGEXP_MODE];a.contains=h.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(h)});const d=[].concat(c,a.contains),f=d.concat([{begin:/\(/,end:/\)/,keywords:i,contains:["self"].concat(d)}]),p={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:f};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{PARAMS_CONTAINS:f},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,s,l,u,c,o,{begin:Ws(/[{,\n]\s*/,Vs(Ws(/(((\/\/.*$)|(\/\*(\*[^/]|[^*])*\*\/))\s*)*/,e+"\\s*:"))),relevance:0,contains:[{className:"attr",begin:e+Vs("\\s*:"),relevance:0}]},{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[c,t.REGEXP_MODE,{className:"function",begin:"(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:f}]}]},{begin:/,/,relevance:0},{className:"",begin:/\s/,end:/\s*/,skip:!0},{variants:[{begin:"<>",end:"</>"},{begin:n.begin,"on:begin":n.isTrulyOpeningTag,end:n.end}],subLanguage:"xml",contains:[{begin:n.begin,end:n.end,skip:!0,contains:["self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/[{;]/,excludeEnd:!0,keywords:i,contains:["self",t.inherit(t.TITLE_MODE,{begin:e}),p],illegal:/%/},{beginKeywords:"while if switch catch for"},{className:"function",begin:t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,contains:[p,t.inherit(t.TITLE_MODE,{begin:e})]},{variants:[{begin:"\\."+e},{begin:"\\$"+e}],relevance:0},{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"[\]]/,contains:[{beginKeywords:"extends"},t.UNDERSCORE_TITLE_MODE]},{begin:/\b(?=constructor)/,end:/[{;]/,excludeEnd:!0,contains:[t.inherit(t.TITLE_MODE,{begin:e}),"self",p]},{begin:"(get|set)\\s+(?="+e+"\\()",end:/\{/,keywords:"get set",contains:[t.inherit(t.TITLE_MODE,{begin:e}),{begin:/\(\)/},p]},{begin:/\$[(.]/}]}}(t);return Object.assign(r.keywords,e),r.exports.PARAMS_CONTAINS.push(n),r.contains=r.contains.concat([n,{beginKeywords:"namespace",end:/\{/,excludeEnd:!0},{beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:"interface extends"}]),i(r,"shebang",t.SHEBANG()),i(r,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/}),r.contains.find(t=>"function"===t.className).relevance=0,Object.assign(r,{name:"TypeScript",aliases:["ts","tsx"]}),r}},{lang:"sql",mod:function(t){const e=t.COMMENT("--","$"),n=["true","false","unknown"],i=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],r=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],o=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],a=r,s=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update   ","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter(t=>!r.includes(t)),l={begin:function(...t){return t.map(t=>Hs(t)).join("")}(/\b/,Us(...a),/\s*\(/),keywords:{built_in:a}};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:function(t,{exceptions:e,when:n}={}){const i=n;return e=e||[],t.map(t=>t.match(/\|\d+$/)||e.includes(t)?t:i(t)?t+"|0":t)}(s,{when:t=>t.length<3}),literal:n,type:i,built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{begin:Us(...o),keywords:{$pattern:/[\w\.]+/,keyword:s.concat(o),literal:n,type:i}},{className:"type",begin:Us("double precision","large object","with timezone","without timezone")},l,{className:"variable",begin:/@[a-z0-9]+/},{className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},{begin:/"/,end:/"/,contains:[{begin:/""/}]},t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,e,{className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}}},{lang:"ruby",mod:function(t){const e="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",n={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor __FILE__",built_in:"proc lambda",literal:"true false nil"},i={className:"doctag",begin:"@[A-Za-z]+"},r={begin:"#<",end:">"},o=[t.COMMENT("#","$",{contains:[i]}),t.COMMENT("^=begin","^=end",{contains:[i],relevance:10}),t.COMMENT("^__END__","\\n$")],a={className:"subst",begin:/#\{/,end:/\}/,keywords:n},s={className:"string",contains:[t.BACKSLASH_ESCAPE,a],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:/<<[-~]?'?(\w+)\n(?:[^\n]*\n)*?\s*\1\b/,returnBegin:!0,contains:[{begin:/<<[-~]?'?/},t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,a]})]}]},l={className:"params",begin:"\\(",end:"\\)",endsParent:!0,keywords:n},u=[s,{className:"class",beginKeywords:"class module",end:"$|;",illegal:/=/,contains:[t.inherit(t.TITLE_MODE,{begin:"[A-Za-z_]\\w*(::\\w+)*(\\?|!)?"}),{begin:"<\\s*",contains:[{begin:"("+t.IDENT_RE+"::)?"+t.IDENT_RE,relevance:0}]}].concat(o)},{className:"function",begin:Ys(/def\s+/,(c=e+"\\s*(\\(|;|$)",Ys("(?=",c,")"))),relevance:0,keywords:"def",end:"$|;",contains:[t.inherit(t.TITLE_MODE,{begin:e}),l].concat(o)},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[s,{begin:e}],relevance:0},{className:"number",relevance:0,variants:[{begin:"\\b([1-9](_?[0-9])*|0)(\\.([0-9](_?[0-9])*))?([eE][+-]?([0-9](_?[0-9])*)|r)?i?\\b"},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,relevance:0,keywords:n},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,a],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(r,o),relevance:0}].concat(r,o);var c;a.contains=u,l.contains=u;const h=[{begin:/^\s*=>/,starts:{end:"$",contains:u}},{className:"meta",begin:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+>|(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>)(?=[ ])",starts:{end:"$",contains:u}}];return o.unshift(r),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:n,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(h).concat(o).concat(u)}}},{lang:"vim",mod:function(t){return{name:"Vim Script",keywords:{$pattern:/[!#@\w]+/,keyword:"N|0 P|0 X|0 a|0 ab abc abo al am an|0 ar arga argd arge argdo argg argl argu as au aug aun b|0 bN ba bad bd be bel bf bl bm bn bo bp br brea breaka breakd breakl bro bufdo buffers bun bw c|0 cN cNf ca cabc caddb cad caddf cal cat cb cc ccl cd ce cex cf cfir cgetb cgete cg changes chd che checkt cl cla clo cm cmapc cme cn cnew cnf cno cnorea cnoreme co col colo com comc comp con conf cope cp cpf cq cr cs cst cu cuna cunme cw delm deb debugg delc delf dif diffg diffo diffp diffpu diffs diffthis dig di dl dell dj dli do doautoa dp dr ds dsp e|0 ea ec echoe echoh echom echon el elsei em en endfo endf endt endw ene ex exe exi exu f|0 files filet fin fina fini fir fix fo foldc foldd folddoc foldo for fu go gr grepa gu gv ha helpf helpg helpt hi hid his ia iabc if ij il im imapc ime ino inorea inoreme int is isp iu iuna iunme j|0 ju k|0 keepa kee keepj lN lNf l|0 lad laddb laddf la lan lat lb lc lch lcl lcs le lefta let lex lf lfir lgetb lgete lg lgr lgrepa lh ll lla lli lmak lm lmapc lne lnew lnf ln loadk lo loc lockv lol lope lp lpf lr ls lt lu lua luad luaf lv lvimgrepa lw m|0 ma mak map mapc marks mat me menut mes mk mks mksp mkv mkvie mod mz mzf nbc nb nbs new nm nmapc nme nn nnoreme noa no noh norea noreme norm nu nun nunme ol o|0 om omapc ome on ono onoreme opt ou ounme ow p|0 profd prof pro promptr pc ped pe perld po popu pp pre prev ps pt ptN ptf ptj ptl ptn ptp ptr pts pu pw py3 python3 py3d py3f py pyd pyf quita qa rec red redi redr redraws reg res ret retu rew ri rightb rub rubyd rubyf rund ru rv sN san sa sal sav sb sbN sba sbf sbl sbm sbn sbp sbr scrip scripte scs se setf setg setl sf sfir sh sim sig sil sl sla sm smap smapc sme sn sni sno snor snoreme sor so spelld spe spelli spellr spellu spellw sp spr sre st sta startg startr star stopi stj sts sun sunm sunme sus sv sw sy synti sync tN tabN tabc tabdo tabe tabf tabfir tabl tabm tabnew tabn tabo tabp tabr tabs tab ta tags tc tcld tclf te tf th tj tl tm tn to tp tr try ts tu u|0 undoj undol una unh unl unlo unm unme uns up ve verb vert vim vimgrepa vi viu vie vm vmapc vme vne vn vnoreme vs vu vunme windo w|0 wN wa wh wi winc winp wn wp wq wqa ws wu wv x|0 xa xmapc xm xme xn xnoreme xu xunme y|0 z|0 ~ Next Print append abbreviate abclear aboveleft all amenu anoremenu args argadd argdelete argedit argglobal arglocal argument ascii autocmd augroup aunmenu buffer bNext ball badd bdelete behave belowright bfirst blast bmodified bnext botright bprevious brewind break breakadd breakdel breaklist browse bunload bwipeout change cNext cNfile cabbrev cabclear caddbuffer caddexpr caddfile call catch cbuffer cclose center cexpr cfile cfirst cgetbuffer cgetexpr cgetfile chdir checkpath checktime clist clast close cmap cmapclear cmenu cnext cnewer cnfile cnoremap cnoreabbrev cnoremenu copy colder colorscheme command comclear compiler continue confirm copen cprevious cpfile cquit crewind cscope cstag cunmap cunabbrev cunmenu cwindow delete delmarks debug debuggreedy delcommand delfunction diffupdate diffget diffoff diffpatch diffput diffsplit digraphs display deletel djump dlist doautocmd doautoall deletep drop dsearch dsplit edit earlier echo echoerr echohl echomsg else elseif emenu endif endfor endfunction endtry endwhile enew execute exit exusage file filetype find finally finish first fixdel fold foldclose folddoopen folddoclosed foldopen function global goto grep grepadd gui gvim hardcopy help helpfind helpgrep helptags highlight hide history insert iabbrev iabclear ijump ilist imap imapclear imenu inoremap inoreabbrev inoremenu intro isearch isplit iunmap iunabbrev iunmenu join jumps keepalt keepmarks keepjumps lNext lNfile list laddexpr laddbuffer laddfile last language later lbuffer lcd lchdir lclose lcscope left leftabove lexpr lfile lfirst lgetbuffer lgetexpr lgetfile lgrep lgrepadd lhelpgrep llast llist lmake lmap lmapclear lnext lnewer lnfile lnoremap loadkeymap loadview lockmarks lockvar lolder lopen lprevious lpfile lrewind ltag lunmap luado luafile lvimgrep lvimgrepadd lwindow move mark make mapclear match menu menutranslate messages mkexrc mksession mkspell mkvimrc mkview mode mzscheme mzfile nbclose nbkey nbsart next nmap nmapclear nmenu nnoremap nnoremenu noautocmd noremap nohlsearch noreabbrev noremenu normal number nunmap nunmenu oldfiles open omap omapclear omenu only onoremap onoremenu options ounmap ounmenu ownsyntax print profdel profile promptfind promptrepl pclose pedit perl perldo pop popup ppop preserve previous psearch ptag ptNext ptfirst ptjump ptlast ptnext ptprevious ptrewind ptselect put pwd py3do py3file python pydo pyfile quit quitall qall read recover redo redir redraw redrawstatus registers resize retab return rewind right rightbelow ruby rubydo rubyfile rundo runtime rviminfo substitute sNext sandbox sargument sall saveas sbuffer sbNext sball sbfirst sblast sbmodified sbnext sbprevious sbrewind scriptnames scriptencoding scscope set setfiletype setglobal setlocal sfind sfirst shell simalt sign silent sleep slast smagic smapclear smenu snext sniff snomagic snoremap snoremenu sort source spelldump spellgood spellinfo spellrepall spellundo spellwrong split sprevious srewind stop stag startgreplace startreplace startinsert stopinsert stjump stselect sunhide sunmap sunmenu suspend sview swapname syntax syntime syncbind tNext tabNext tabclose tabedit tabfind tabfirst tablast tabmove tabnext tabonly tabprevious tabrewind tag tcl tcldo tclfile tearoff tfirst throw tjump tlast tmenu tnext topleft tprevious trewind tselect tunmenu undo undojoin undolist unabbreviate unhide unlet unlockvar unmap unmenu unsilent update vglobal version verbose vertical vimgrep vimgrepadd visual viusage view vmap vmapclear vmenu vnew vnoremap vnoremenu vsplit vunmap vunmenu write wNext wall while winsize wincmd winpos wnext wprevious wqall wsverb wundo wviminfo xit xall xmapclear xmap xmenu xnoremap xnoremenu xunmap xunmenu yank",built_in:"synIDtrans atan2 range matcharg did_filetype asin feedkeys xor argv complete_check add getwinposx getqflist getwinposy screencol clearmatches empty extend getcmdpos mzeval garbagecollect setreg ceil sqrt diff_hlID inputsecret get getfperm getpid filewritable shiftwidth max sinh isdirectory synID system inputrestore winline atan visualmode inputlist tabpagewinnr round getregtype mapcheck hasmapto histdel argidx findfile sha256 exists toupper getcmdline taglist string getmatches bufnr strftime winwidth bufexists strtrans tabpagebuflist setcmdpos remote_read printf setloclist getpos getline bufwinnr float2nr len getcmdtype diff_filler luaeval resolve libcallnr foldclosedend reverse filter has_key bufname str2float strlen setline getcharmod setbufvar index searchpos shellescape undofile foldclosed setqflist buflisted strchars str2nr virtcol floor remove undotree remote_expr winheight gettabwinvar reltime cursor tabpagenr finddir localtime acos getloclist search tanh matchend rename gettabvar strdisplaywidth type abs py3eval setwinvar tolower wildmenumode log10 spellsuggest bufloaded synconcealed nextnonblank server2client complete settabwinvar executable input wincol setmatches getftype hlID inputsave searchpair or screenrow line settabvar histadd deepcopy strpart remote_peek and eval getftime submatch screenchar winsaveview matchadd mkdir screenattr getfontname libcall reltimestr getfsize winnr invert pow getbufline byte2line soundfold repeat fnameescape tagfiles sin strwidth spellbadword trunc maparg log lispindent hostname setpos globpath remote_foreground getchar synIDattr fnamemodify cscope_connection stridx winbufnr indent min complete_add nr2char searchpairpos inputdialog values matchlist items hlexists strridx browsedir expand fmod pathshorten line2byte argc count getwinvar glob foldtextresult getreg foreground cosh matchdelete has char2nr simplify histget searchdecl iconv winrestcmd pumvisible writefile foldlevel haslocaldir keys cos matchstr foldtext histnr tan tempname getcwd byteidx getbufvar islocked escape eventhandler remote_send serverlist winrestview synstack pyeval prevnonblank readfile cindent filereadable changenr exp"},illegal:/;/,contains:[t.NUMBER_MODE,{className:"string",begin:"'",end:"'",illegal:"\\n"},{className:"string",begin:/"(\\"|\n\\|[^"\n])*"/},t.COMMENT('"',"$"),{className:"variable",begin:/[bwtglsav]:[\w\d_]*/},{className:"function",beginKeywords:"function function!",end:"$",relevance:0,contains:[t.TITLE_MODE,{className:"params",begin:"\\(",end:"\\)"}]},{className:"symbol",begin:/<[\w-]+>/}]}}},{lang:"php",mod:function(t){const e={className:"variable",begin:"\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*(?![A-Za-z0-9])(?![$])"},n={className:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?[=]?/},{begin:/\?>/}]},i={className:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},r=t.inherit(t.APOS_STRING_MODE,{illegal:null}),o=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(i)}),a=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*(\w+)\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(i)}),s={className:"string",contains:[t.BACKSLASH_ESCAPE,n],variants:[t.inherit(r,{begin:"b'",end:"'"}),t.inherit(o,{begin:'b"',end:'"'}),o,r,a]},l={className:"number",variants:[{begin:"\\b0b[01]+(?:_[01]+)*\\b"},{begin:"\\b0o[0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0x[\\da-f]+(?:_[\\da-f]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:e[+-]?\\d+)?"}],relevance:0},u={keyword:"__CLASS__ __DIR__ __FILE__ __FUNCTION__ __LINE__ __METHOD__ __NAMESPACE__ __TRAIT__ die echo exit include include_once print require require_once array abstract and as binary bool boolean break callable case catch class clone const continue declare default do double else elseif empty enddeclare endfor endforeach endif endswitch endwhile enum eval extends final finally float for foreach from global goto if implements instanceof insteadof int integer interface isset iterable list match|0 mixed new object or private protected public real return string switch throw trait try unset use var void while xor yield",literal:"false null true",built_in:"Error|0 AppendIterator ArgumentCountError ArithmeticError ArrayIterator ArrayObject AssertionError BadFunctionCallException BadMethodCallException CachingIterator CallbackFilterIterator CompileError Countable DirectoryIterator DivisionByZeroError DomainException EmptyIterator ErrorException Exception FilesystemIterator FilterIterator GlobIterator InfiniteIterator InvalidArgumentException IteratorIterator LengthException LimitIterator LogicException MultipleIterator NoRewindIterator OutOfBoundsException OutOfRangeException OuterIterator OverflowException ParentIterator ParseError RangeException RecursiveArrayIterator RecursiveCachingIterator RecursiveCallbackFilterIterator RecursiveDirectoryIterator RecursiveFilterIterator RecursiveIterator RecursiveIteratorIterator RecursiveRegexIterator RecursiveTreeIterator RegexIterator RuntimeException SeekableIterator SplDoublyLinkedList SplFileInfo SplFileObject SplFixedArray SplHeap SplMaxHeap SplMinHeap SplObjectStorage SplObserver SplObserver SplPriorityQueue SplQueue SplStack SplSubject SplSubject SplTempFileObject TypeError UnderflowException UnexpectedValueException UnhandledMatchError ArrayAccess Closure Generator Iterator IteratorAggregate Serializable Stringable Throwable Traversable WeakReference WeakMap Directory __PHP_Incomplete_Class parent php_user_filter self static stdClass"};return{aliases:["php3","php4","php5","php6","php7","php8"],case_insensitive:!0,keywords:u,contains:[t.HASH_COMMENT_MODE,t.COMMENT("//","$",{contains:[n]}),t.COMMENT("/\\*","\\*/",{contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.COMMENT("__halt_compiler.+?;",!1,{endsWithParent:!0,keywords:"__halt_compiler"}),n,{className:"keyword",begin:/\$this\b/},e,{begin:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{className:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{className:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:u,contains:["self",e,t.C_BLOCK_COMMENT_MODE,s,l]}]},{className:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"use",relevance:0,end:";",contains:[t.UNDERSCORE_TITLE_MODE]},s,l]}}},{lang:"perl",mod:function(t){const e=/[dualxmsipngr]{0,12}/,n={$pattern:/[\w.]+/,keyword:["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"].join(" ")},i={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:n},r={begin:/->\{/,end:/\}/},o={variants:[{begin:/\$\d/},{begin:Qs(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},a=[t.BACKSLASH_ESCAPE,i,o],s=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],l=(t,n,i="\\1")=>{const r="\\1"===i?i:Qs(i,n);return Qs(Qs("(?:",t,")"),n,/(?:\\.|[^\\\/])*?/,r,/(?:\\.|[^\\\/])*?/,i,e)},u=(t,n,i)=>Qs(Qs("(?:",t,")"),n,/(?:\\.|[^\\\/])*?/,i,e),c=[o,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),r,{className:"string",contains:a,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:l("s|tr|y",Zs(...s))},{begin:l("s|tr|y","\\(","\\)")},{begin:l("s|tr|y","\\[","\\]")},{begin:l("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:u("(?:m|qr)?",/\//,/\//)},{begin:u("m|qr",Zs(...s),/\1/)},{begin:u("m|qr",/\(/,/\)/)},{begin:u("m|qr",/\[/,/\]/)},{begin:u("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return i.contains=c,r.contains=c,{name:"Perl",aliases:["pl","pm"],keywords:n,contains:c}}},{lang:"powershell",mod:function(t){const e={$pattern:/-?[A-z\.\-]+\b/,keyword:"if else foreach return do while until elseif begin for trap data dynamicparam end break throw param continue finally in switch exit filter try process catch hidden static parameter",built_in:"ac asnp cat cd CFS chdir clc clear clhy cli clp cls clv cnsn compare copy cp cpi cpp curl cvpa dbp del diff dir dnsn ebp echo|0 epal epcsv epsn erase etsn exsn fc fhx fl ft fw gal gbp gc gcb gci gcm gcs gdr gerr ghy gi gin gjb gl gm gmo gp gps gpv group gsn gsnp gsv gtz gu gv gwmi h history icm iex ihy ii ipal ipcsv ipmo ipsn irm ise iwmi iwr kill lp ls man md measure mi mount move mp mv nal ndr ni nmo npssc nsn nv ogv oh popd ps pushd pwd r rbp rcjb rcsn rd rdr ren ri rjb rm rmdir rmo rni rnp rp rsn rsnp rujb rv rvpa rwmi sajb sal saps sasv sbp sc scb select set shcm si sl sleep sls sort sp spjb spps spsv start stz sujb sv swmi tee trcm type wget where wjb write"},n={begin:"`[\\s\\S]",relevance:0},i={className:"variable",variants:[{begin:/\$\B/},{className:"keyword",begin:/\$this/},{begin:/\$[\w\d][\w\d_:]*/}]},r={className:"string",variants:[{begin:/"/,end:/"/},{begin:/@"/,end:/^"@/}],contains:[n,i,{className:"variable",begin:/\$[A-z]/,end:/[^A-z]/}]},o={className:"string",variants:[{begin:/'/,end:/'/},{begin:/@'/,end:/^'@/}]},a=t.inherit(t.COMMENT(null,null),{variants:[{begin:/#/,end:/$/},{begin:/<#/,end:/#>/}],contains:[{className:"doctag",variants:[{begin:/\.(synopsis|description|example|inputs|outputs|notes|link|component|role|functionality)/},{begin:/\.(parameter|forwardhelptargetname|forwardhelpcategory|remotehelprunspace|externalhelp)\s+\S+/}]}]}),s={className:"built_in",variants:[{begin:"(".concat("Add|Clear|Close|Copy|Enter|Exit|Find|Format|Get|Hide|Join|Lock|Move|New|Open|Optimize|Pop|Push|Redo|Remove|Rename|Reset|Resize|Search|Select|Set|Show|Skip|Split|Step|Switch|Undo|Unlock|Watch|Backup|Checkpoint|Compare|Compress|Convert|ConvertFrom|ConvertTo|Dismount|Edit|Expand|Export|Group|Import|Initialize|Limit|Merge|Mount|Out|Publish|Restore|Save|Sync|Unpublish|Update|Approve|Assert|Build|Complete|Confirm|Deny|Deploy|Disable|Enable|Install|Invoke|Register|Request|Restart|Resume|Start|Stop|Submit|Suspend|Uninstall|Unregister|Wait|Debug|Measure|Ping|Repair|Resolve|Test|Trace|Connect|Disconnect|Read|Receive|Send|Write|Block|Grant|Protect|Revoke|Unblock|Unprotect|Use|ForEach|Sort|Tee|Where",")+(-)[\\w\\d]+")}]},l={className:"class",beginKeywords:"class enum",end:/\s*[{]/,excludeEnd:!0,relevance:0,contains:[t.TITLE_MODE]},u={className:"function",begin:/function\s+/,end:/\s*\{|$/,excludeEnd:!0,returnBegin:!0,relevance:0,contains:[{begin:"function",relevance:0,className:"keyword"},{className:"title",begin:/\w[\w\d]*((-)[\w\d]+)*/,relevance:0},{begin:/\(/,end:/\)/,className:"params",relevance:0,contains:[i]}]},c={begin:/using\s/,end:/$/,returnBegin:!0,contains:[r,o,{className:"keyword",begin:/(using|assembly|command|module|namespace|type)/}]},h={variants:[{className:"operator",begin:"(".concat("-and|-as|-band|-bnot|-bor|-bxor|-casesensitive|-ccontains|-ceq|-cge|-cgt|-cle|-clike|-clt|-cmatch|-cne|-cnotcontains|-cnotlike|-cnotmatch|-contains|-creplace|-csplit|-eq|-exact|-f|-file|-ge|-gt|-icontains|-ieq|-ige|-igt|-ile|-ilike|-ilt|-imatch|-in|-ine|-inotcontains|-inotlike|-inotmatch|-ireplace|-is|-isnot|-isplit|-join|-le|-like|-lt|-match|-ne|-not|-notcontains|-notin|-notlike|-notmatch|-or|-regex|-replace|-shl|-shr|-split|-wildcard|-xor",")\\b")},{className:"literal",begin:/(-)[\w\d]+/,relevance:0}]},d={className:"function",begin:/\[.*\]\s*[\w]+[ ]??\(/,end:/$/,returnBegin:!0,relevance:0,contains:[{className:"keyword",begin:"(".concat(e.keyword.toString().replace(/\s/g,"|"),")\\b"),endsParent:!0,relevance:0},t.inherit(t.TITLE_MODE,{endsParent:!0})]},f=[d,a,n,t.NUMBER_MODE,r,o,s,i,{className:"literal",begin:/\$(null|true|false)\b/},{className:"selector-tag",begin:/@\B/,relevance:0}],p={begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[].concat("self",f,{begin:"("+["string","char","byte","int","long","bool","decimal","single","double","DateTime","xml","array","hashtable","void"].join("|")+")",className:"built_in",relevance:0},{className:"type",begin:/[\.\w\d]+/,relevance:0})};return d.contains.unshift(p),{name:"PowerShell",aliases:["ps","ps1"],case_insensitive:!0,keywords:e,contains:f.concat(l,u,c,h,p)}}},{lang:"makefile",mod:function(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},i={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e]},r={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,n,i,r,{className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,"meta-keyword":".PHONY"}},o]}}}].forEach(function(t){is.registerLanguage(t.lang,t.mod)});var $s=Ct({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"html",staticClass:"bk-diff",class:this.classes},[e("div",{directives:[{name:"highlight",rawName:"v-highlight"}],domProps:{innerHTML:this._s(this.html)}})])},staticRenderFns:[]},void 0,{name:"bk-diff",directives:{highlight:function(t){t.querySelectorAll("code").forEach(function(t){is.highlightElement(t)})}},props:{oldContent:{type:String,default:""},newContent:{type:String,default:""},context:{type:Number,default:1/0},format:{type:String,default:"line-by-line"},theme:{type:String,default:"light",validator:function(t){return["light","dark"].includes(t)}},language:{type:String,required:!0},extCls:{type:String,default:""}},computed:{html:function(){var t=["",this.oldContent+"\n// --end--",this.newContent+"\n// -- end--","","",{context:this.context}],e=ea.apply(void 0,t),n=ba.getJsonFromDiff(e,{inputFormat:"diff",outputFormat:this.format,showFiles:!1,matching:"lines"});return ba.getPrettyHtml(n,{inputFormat:"json",outputFormat:this.format,showFiles:!1,matching:"lines"}).replace(/<span class="d2h-code-line-ctn">(.+?)<\/span>/g,'<span class="d2h-code-line-ctn"><code>$1</code></span>')},classes:function(){return[this.theme,this.extCls,"format-".concat(this.format)]}},watch:{language:{handler:function(t){is.configure({languages:[t]})},immediate:!0}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et($s);var Xs=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClickoutside,expression:"handleClickoutside"}],staticClass:"bk-dropdown-menu",class:[t.disabled?"disabled":"",t.positionFixed?"":"bk-dropdown-full-width",t.fontSizeCls,t.extCls],attrs:{tabindex:"0"},on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.handleMouseover(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?(e.stopPropagation(),e.preventDefault(),t.handleMouseout(e)):null}],click:t.handleClick,mouseover:t.handleMouseover,mouseout:t.handleMouseout}},[n("div",{ref:"refDropTrigger",staticClass:"bk-dropdown-trigger"},[t._t("dropdown-trigger")],2),n("div",{ref:"refDropContent",class:["bk-dropdown-content",{"is-show":t.isShow,"right-align":"right"===t.align,"center-align":"center"===t.align,"left-align":"left"===t.align}]},[t._t("dropdown-content")],2)])},staticRenderFns:[]},void 0,{name:"bk-dropdown-menu",directives:{clickoutside:yn},props:{trigger:{type:String,default:"mouseover",validator:function(t){return["click","mouseover"].includes(t)}},align:{type:String,default:"left"},disabled:{type:Boolean,default:!1},positionFixed:{type:Boolean,default:!1},fontSize:{type:String,default:"normal"},extCls:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:100}},data:function(){return{menuStyle:null,timer:0,isShow:!1,popInstance:null}},computed:{fontSizeCls:function(){var t="";return"medium"===this.fontSize?t="medium-font":"large"===this.fontSize&&(t="large-font"),t}},mounted:function(){var t="bottom".concat(this.getPlacementFix());this.popInstance=new rn(this.$refs.refDropTrigger,this.$refs.refDropContent,{placement:t,positionFixed:this.positionFixed,modifiers:{offset:{offset:"0, ".concat("4px")},keepTogether:{}}})},beforeDestroy:function(){this.popInstance&&(this.popInstance.destroy(),this.popInstance=null)},methods:{getPlacementFix:function(){var t={left:"-start",right:"-end",center:""}[this.align];return void 0!==t?t:""},handleClick:function(){this.disabled||"click"!==this.trigger||(this.isShow?this.hide():this.show())},handleMouseover:function(){"mouseover"!==this.trigger||this.disabled||this.show()},handleMouseout:function(){"mouseover"!==this.trigger||this.disabled||this.hide()},handleClickoutside:function(){this.isShow&&this.hide()},show:function(){var t=this;clearTimeout(this.openTimer),clearTimeout(this.closeTimer),this.openTimer=setTimeout(function(){t.isShow=!0},this.openDelay),this.popInstance.scheduleUpdate()},hide:function(){var t=this;clearTimeout(this.closeTimer),clearTimeout(this.openTimer),this.closeTimer=setTimeout(function(){t.isShow=!1},this.closeDelay),this.popInstance.scheduleUpdate()}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Xs);var Ks=new Image;Ks.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDgwIDI0MCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDgwIDI0MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOnVybCgjRmlsbC0xXzFfKTt9Cgkuc3Qxe2ZpbGw6dXJsKCPmpK3lnIblvaLlpIfku70tNV8yXyk7fQoJLnN0MntmaWxsOnVybCgj55+p5b2iXzE5Xyk7fQoJLnN0M3tmaWxsOnVybCgj55+p5b2i5aSH5Lu9LTIxXzFfKTt9Cgkuc3Q0e2ZpbGw6dXJsKCPlvaLnirbnu5PlkIhfNl8pO30KCS5zdDV7ZmlsbDojRUFFQ0VGO30KCS5zdDZ7ZmlsbDp1cmwoI+efqeW9ol8yMF8pO30KCS5zdDd7ZmlsbDojRjRGNEY1O30KCS5zdDh7ZmlsbDojRjlGOUZBO30KCS5zdDl7ZmlsbDojOTc5Nzk3O30KCS5zdDEwe2ZpbGw6I0U4RUFFQzt9Cgkuc3QxMXtmaWxsOiNGN0Y4RkE7fQoJLnN0MTJ7ZmlsbDp1cmwoI+efqeW9ol8yMV8pO30KCS5zdDEze2ZpbGw6dXJsKCPnn6nlvaLlpIfku70tMjJfMV8pO30KCS5zdDE0e2ZpbGw6dXJsKCPot6/lvoQtMjNfMV8pO30KCS5zdDE1e2ZpbGw6dXJsKCPnn6nlvaJfMjJfKTt9Cgkuc3QxNntmaWxsOiNEQ0RERTA7fQoJLnN0MTd7ZmlsbDp1cmwoI+i3r+W+hC0xOV8xXyk7fQoJLnN0MTh7ZmlsbDp1cmwoI+W9oueKtue7k+WQiF85Xyk7fQoJLnN0MTl7ZmlsbDojQ0RDRUQxO30KCS5zdDIwe2ZpbGw6bm9uZTtzdHJva2U6dXJsKCPot6/lvoQtMjFfMV8pO30KCS5zdDIxe2ZpbGw6I0M2QzdDQjt9Cgkuc3QyMntmaWxsOiNEMUQyRDY7c3Ryb2tlOiNFQUVERjA7c3Ryb2tlLXdpZHRoOjI7fQoJLnN0MjN7ZmlsbDojRjlGQUZDO30KCS5zdDI0e2ZpbGw6dXJsKCPnn6nlvaJfMjNfKTt9Cgkuc3QyNXtmaWxsOiNGMUYzRjU7fQoJLnN0MjZ7ZmlsbDojRTZFOEVCO30KCS5zdDI3e2ZpbGw6I0QxRDJENjt9Cgkuc3QyOHtmaWxsOnVybCgj5qSt5ZyG5b2i5aSH5Lu9LThfMV8pO30KCS5zdDI5e2ZpbGw6I0VFRUZGMzt9Cgkuc3QzMHtmaWxsOiNENEQ2REE7fQoJLnN0MzF7ZmlsbDojRThFQUVEO3N0cm9rZTojRDlEQkRFO30KCS5zdDMye2ZpbGw6I0Q4RDhEODtzdHJva2U6I0NGRDBEMzt9Cgkuc3QzM3tmaWxsOiNERERFRTA7fQoJLnN0MzR7ZmlsbDojRUVGMEYyO30KCS5zdDM1e2ZpbGw6bm9uZTtzdHJva2U6dXJsKCPnn6nlvaJfMjRfKTtzdHJva2Utd2lkdGg6Mjt9Cgkuc3QzNntmaWxsOm5vbmU7c3Ryb2tlOnVybCgj55+p5b2iXzI1Xyk7c3Ryb2tlLXdpZHRoOjAuNzt9Cgkuc3QzN3tmaWxsOnVybCgj55+p5b2iXzI2Xyk7fQoJLnN0Mzh7ZmlsbDp1cmwoI+efqeW9ol8yN18pO30KCS5zdDM5e2ZpbGw6dXJsKCPnn6nlvaJfMjhfKTt9Cgkuc3Q0MHtmaWxsOiM5NTk2OTk7ZmlsbC1vcGFjaXR5OjAuMTI7fQoJLnN0NDF7ZmlsbDojQzRDNkNDO30KPC9zdHlsZT4KPGcgaWQ9Iumhtemdoi0xIj4KCTxnIGlkPSJFeGNlcHRpb25feDJGX+W8guW4uOaPkOekuiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg3MC4wMDAwMDAsIC0xODgyLjAwMDAwMCkiPgoJCTxnIGlkPSLlip/og73lu7rorr7nsbsiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM1Ny4wMDAwMDAsIDE3NTEuMDAwMDAwKSI+CgkJCTxnIGlkPSLnvJbnu4QtMTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCA3My4wMDAwMDApIj4KCQkJCTxnIGlkPSLlip/og73lu7rorr7nsbst5o+S5Zu+IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MTMuMDAwMDAwLCA1OC4wMDAwMDApIj4KCQkJCQk8ZyBpZD0i5Zu+5qGIIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OC4wMDAwMDAsIDE3LjAwMDAwMCkiPgoJCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IkZpbGwtMV8xXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIyMDYuMzkyNyIgeTE9IjE1OC41MjkiIHgyPSIyMDkuODg5IiB5Mj0iMTkxLjc5NDgiPgoJCQkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0ZCRkNGRCIvPgoJCQkJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0YyRjRGNyIvPgoJCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCQk8cGF0aCBpZD0iRmlsbC0xIiBjbGFzcz0ic3QwIiBkPSJNMTQzLjQsMTY2LjRjMTguNi00LjIsNDUuNS02LjEsNjMuNy01LjFjMTguMiwwLjksMzMuMyw0LjEsMzQuNCwzLjQKCQkJCQkJCWMzLjYtMi40LDExLjQtMy41LDExLTIuNnMtNS40LDMuOS0zLjgsNC4zczE3LjgsMi4zLDI0LjYsMy43YzYuNywxLjQsMTEuMSwyLjgsMTIuNSwyLjhjMS41LDAsMy44LTIsMTMuNS0xCgkJCQkJCQljMC4yLDAuNC0yLjIsMC41LTQuMywxLjZjLTIuMiwxLjEtMy43LDEtMy43LDEuM3MxLjItMC40LDMuNywxLjNjMi41LDEuNiw3LDIuMSw3LDIuNmMwLDAuNC01LjcsMi4zLTE1LjEtMC43CgkJCQkJCQljLTIuNC0wLjgtOCw1LjgtMzMuOCw3LjdzLTY5LjQsMy4zLTY5LjQsMy4zczIuNiwzLjQsNi40LDQuM2MwLjIsMC4zLTEuNSwxLjYtOC45LDAuMmMtNy40LTEuNC0xMS40LTQuNS0xMS40LTQuNQoJCQkJCQkJcy0xNC43LTAuOS0yMC4yLTEuOWMtNS42LTAuOS0xMS45LTMuMy0xNi4zLTMuN3MtMjQuMi0yLjgtMTYuNy04QzExNi43LDE3NS4zLDEyNC43LDE3MC42LDE0My40LDE2Ni40eiIvPgoJCQkJCQk8ZyBpZD0i57yW57uELTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM3LjAwMDAwMCwgMC4wMDAwMDApIj4KCgkJCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLmpK3lnIblvaLlpIfku70tNV8yXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxOTcuNDMyOCIgeTE9Ii05Ljk3MjYiIHgyPSIxOTcuNDMyOCIgeTI9Ii04Ljk3MjYiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMTQuMzExNCAwIDAgMTcuNjQ4NSAtMjgxMi4yOTAzIDI1OC43NTkxKSI+CgkJCQkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0VBRUNFRSIvPgoJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNDRENGRDEiLz4KCQkJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJCQk8cGF0aCBpZD0i5qSt5ZyG5b2i5aSH5Lu9LTUiIGNsYXNzPSJzdDEiIGQ9Ik0xMy4yLDEwMC40YzMuMSwwLDcuMi02LjUsNy4yLTEwLjVzLTMuMi03LjItNy4yLTcuMlM2LjEsODYsNi4xLDg5LjkKCQkJCQkJCQlDNi4xLDkzLjksMTAuMSwxMDAuNCwxMy4yLDEwMC40eiIvPgoKCQkJCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuefqeW9ol8xOV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iLTE1MS4zNjY0IiB5MT0iLTIuMjE1NiIgeDI9Ii0xNTEuMzY2NCIgeTI9Ii0xLjIxNTgiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMS4xMDA5IDAgMCA3OS40MTgyIDE3Ny42ODkzIDE4NS45NTkzKSI+CgkJCQkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0RDREVFNSIvPgoJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNCMkI1QkUiLz4KCQkJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJCQk8cmVjdCBpZD0i55+p5b2iXzFfIiB4PSIxMC41IiB5PSIxMCIgY2xhc3M9InN0MiIgd2lkdGg9IjEuMSIgaGVpZ2h0PSI3OS40Ii8+CgoJCQkJCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i55+p5b2i5aSH5Lu9LTIxXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9Ii0xNTEuMzY4OSIgeTE9Ii0yLjIxNTYiIHgyPSItMTUxLjM2ODkiIHkyPSItMS4yMTU4IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEuMTAwOSAwIDAgNzkuNDE4MiAxODAuOTkyIDE4NS45NTkzKSI+CgkJCQkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0RDREVFNSIvPgoJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNCMkI1QkUiLz4KCQkJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJCQk8cmVjdCBpZD0i55+p5b2i5aSH5Lu9LTIxIiB4PSIxMy44IiB5PSIxMCIgY2xhc3M9InN0MyIgd2lkdGg9IjEuMSIgaGVpZ2h0PSI3OS40Ii8+CgoJCQkJCQkJCTxnIGlkPSLnvJbnu4QtMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjIuOTQxNzI1LCA3My44NDE3OTMpIHJvdGF0ZSgtMzkuMDAwMDAwKSB0cmFuc2xhdGUoLTYyLjk0MTcyNSwgLTczLjg0MTc5MykgdHJhbnNsYXRlKDUwLjQ0MTcyNSwgLTEwLjY1ODIwNykiPgoJCQkJCQkJCTxnIGlkPSLnvJbnu4QtMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDM4LjUxMzU0OCkiPgoKCQkJCQkJCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i5b2i54q257uT5ZCIXzZfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjkzLjY5OTEiIHkxPSIzMy4xMTMzIiB4Mj0iOTMuNjk5MSIgeTI9IjM0LjA5MjQiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMjQuNTE2MyAtNy41NzQ3MzJlLTA1IDcuMjY0MTQ3ZS0wNSAxMjkuNTQ1NiAtMjI3OC45OTU4IC00MjYzLjUyMzkpIj4KCQkJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNFNEU2RTkiLz4KCQkJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNDQkNFRDYiLz4KCQkJCQkJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCQkJCQkJPHBhdGggaWQ9IuW9oueKtue7k+WQiCIgY2xhc3M9InN0NCIgZD0iTTI0LjUsMGwwLDEwMi43bDAsMTRsMCwxMi44SDBMMCwwTDI0LjUsMHogTTEyLjMsMTIzLjFsLTEwLDUuM2gyMC4xTDEyLjMsMTIzLjF6CgkJCQkJCQkJCQkgTTIzLjMsMTE3LjNsLTkuOCw1LjFsOS44LDUuMUwyMy4zLDExNy4zeiBNMS4yLDExNy4zbDAsMTAuM2w5LjgtNS4xTDEuMiwxMTcuM3ogTTIyLDExNi43SDIuNWw5LjcsNS4xTDIyLDExNi43egoJCQkJCQkJCQkJIE0xMi4zLDExMC40bC05LjcsNS4xSDIyTDEyLjMsMTEwLjR6IE0xLjIsMTA0LjZsMCwxMC4zbDkuOC01LjFMMS4yLDEwNC42eiBNMjMuMywxMDQuNmwtOS44LDUuMWw5LjgsNS4xTDIzLjMsMTA0LjZ6CgkJCQkJCQkJCQkgTTIyLjMsMTAzLjlsLTIwLjEsMGwxMCw1LjNMMjIuMywxMDMuOXogTTEyLjMsOTcuNWwtMTAsNS4zbDIwLjEsMEwxMi4zLDk3LjV6IE0xLjIsOTEuNmwwLDEwLjNsOS44LTUuMUwxLjIsOTEuNnoKCQkJCQkJCQkJCSBNMjMuMyw5MS42bC05LjgsNS4xbDkuOCw1LjFMMjMuMyw5MS42eiBNMjIsOTFMMi41LDkxbDkuNyw1LjFMMjIsOTF6IE0xMi4zLDg0LjhsLTkuNyw1LjFsMTkuNSwwTDEyLjMsODQuOHogTTEuMiw3OQoJCQkJCQkJCQkJbDAsMTAuM2w5LjgtNS4xTDEuMiw3OXogTTIzLjMsNzlsLTkuOCw1LjFsOS44LDUuMUwyMy4zLDc5eiBNMjIuMyw3OC4ySDIuMmwxMCw1LjNMMjIuMyw3OC4yeiBNMTIuMyw3MS44TDIuMiw3N2wyMC4xLDAKCQkJCQkJCQkJCUwxMi4zLDcxLjh6IE0xLjIsNjZsMCwxMC4zbDkuOC01LjFMMS4yLDY2eiBNMjMuMyw2NmwtOS44LDUuMWw5LjgsNS4xTDIzLjMsNjZ6IE0yMiw2NS40bC0xOS41LDBsOS43LDUuMUwyMiw2NS40egoJCQkJCQkJCQkJIE0xMi4zLDU5LjFsLTkuNyw1LjFsMTkuNSwwTDEyLjMsNTkuMXogTTEuMiw1My4zbDAsMTAuM2w5LjgtNS4xTDEuMiw1My4zeiBNMjMuMyw1My4zbC05LjgsNS4xbDkuOCw1LjFMMjMuMyw1My4zegoJCQkJCQkJCQkJIE0yMi4zLDUyLjVsLTIwLjEsMGwxMCw1LjNMMjIuMyw1Mi41eiBNMTIuMyw0Ni4xbC0xMCw1LjNsMjAuMSwwTDEyLjMsNDYuMXogTTIzLjMsNDAuM2wtOS44LDUuMWw5LjgsNS4xTDIzLjMsNDAuM3oKCQkJCQkJCQkJCSBNMS4yLDQwLjNsMCwxMC4zbDkuOC01LjFMMS4yLDQwLjN6IE0yMiwzOS43bC0xOS41LDBsOS43LDUuMUwyMiwzOS43eiBNMTIuMywzMy40bC05LjcsNS4xbDE5LjUsMEwxMi4zLDMzLjR6IE0xLjIsMjcuNgoJCQkJCQkJCQkJbDAsMTAuM2w5LjgtNS4xTDEuMiwyNy42eiBNMjMuMywyNy42bC05LjgsNS4xbDkuOCw1LjFMMjMuMywyNy42eiBNMjIuMywyNi44bC0yMC4xLDBsMTAsNS4zTDIyLjMsMjYuOHogTTEyLjMsMjAuNAoJCQkJCQkJCQkJbC0xMCw1LjNsMjAuMSwwTDEyLjMsMjAuNHogTTEuMiwxNC42bDAsMTAuM2w5LjgtNS4xTDEuMiwxNC42eiBNMjMuMywxNC42bC05LjgsNS4xbDkuOCw1LjFMMjMuMywxNC42eiBNMjIsMTRMMi41LDE0CgkJCQkJCQkJCQlsOS43LDUuMUwyMiwxNHogTTEyLjMsNy43bC05LjcsNS4xbDE5LjUsMEwxMi4zLDcuN3ogTTEuMiwxLjlsMCwxMC4zTDExLDcuMUwxLjIsMS45eiBNMjMuMywxLjlMMTMuNSw3bDkuOCw1LjFMMjMuMywxLjl6CgkJCQkJCQkJCQkgTTIyLjMsMS4ybC0yMC4xLDBsMTAsNS4zTDIyLjMsMS4yeiIvPgoJCQkJCQkJCTwvZz4KCgkJCQkJCQkJCTxlbGxpcHNlIGlkPSLmpK3lnIblvaIiIHRyYW5zZm9ybT0ibWF0cml4KC0wLjc3NzEgLTAuNjI5MyAwLjYyOTMgLTAuNzc3MSAxOS4xNDkxIDE0LjkyMDEpIiBjbGFzcz0ic3Q1IiBjeD0iMTIuMiIgY3k9IjQuMSIgcng9IjQuMSIgcnk9IjQuMSIvPgoKCQkJCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLnn6nlvaJfMjBfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjExNS45NzExIiB5MT0iMzIuMTc3NCIgeDI9IjExNS45NzExIiB5Mj0iMzMuMTc3NCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxOS44NDY1IDMuNjY3NjMxZS0wNSAtOC42NDUwMzZlLTA2IDMxLjUxMTEgLTIyODMuMTA0NyAtMTAwMC4wNzA5KSI+CgkJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNFQkVERjAiLz4KCQkJCQkJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0U0RTZFOSIvPgoJCQkJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJCQkJPHBvbHlnb24gaWQ9IuefqeW9ol8yXyIgY2xhc3M9InN0NiIgcG9pbnRzPSI3LDUuOCAxNy41LDUuOCAyMi4yLDM3LjMgMi4zLDM3LjMgCQkJCQkJCQkiLz4KCQkJCQkJCQk8cG9seWdvbiBpZD0i6Lev5b6ELTE3IiBjbGFzcz0ic3Q3IiBwb2ludHM9IjAsMzguNSAyLjMsMzcuMyAyMi4yLDM3LjMgMjQuNSwzOC41IAkJCQkJCQkJIi8+CgkJCQkJCQkJPHBvbHlnb24gaWQ9Iui3r+W+hC0xOCIgY2xhc3M9InN0OCIgcG9pbnRzPSI4LjIsNS44IDguMiw0LjYgMTYuMyw0LjYgMTYuMyw1LjggCQkJCQkJCQkiLz4KCQkJCQkJCTwvZz4KCQkJCQkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIhfMV8iIGNsYXNzPSJzdDkiIGQ9Ik0xMi43LDk5LjN2Ny4ydjAuMWMtMC4yLDAtMC40LTAuMS0wLjYtMC4xYy0xLjUsMC0yLjgsMS4zLTIuOCwzczEuMiwzLDIuOCwzCgkJCQkJCQkJYzEuMywwLDIuNS0xLDIuNy0yLjRoMS4xYy0wLjMsMi0xLjksMy42LTMuOCwzLjZjLTIuMSwwLTMuOS0xLjktMy45LTQuMmMwLTIuMSwxLjQtMy44LDMuMy00LjF2LTZMMTIuNyw5OS4zTDEyLjcsOTkuM3oiLz4KCQkJCQkJCTxwYXRoIGlkPSLmpK3lnIblvaJfMV8iIGNsYXNzPSJzdDEwIiBkPSJNMTIuMSwxMDAuNGMzLjEsMCw3LjItNi41LDcuMi0xMC41cy0zLjItNy4yLTcuMi03LjJTNSw4Niw1LDg5LjkKCQkJCQkJCQlDNSw5My45LDksMTAwLjQsMTIuMSwxMDAuNHoiLz4KCQkJCQkJCTxyZWN0IGlkPSLnn6nlvaJfM18iIHg9IjEyMi44IiB5PSIxMjEuNCIgY2xhc3M9InN0MTEiIHdpZHRoPSIxMDIuNCIgaGVpZ2h0PSIyLjIiLz4KCgkJCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLnn6nlvaJfMjFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjEwMC4wMTg3IiB5MT0iLTEuMTk2NiIgeDI9IjEwMC4wMTg3IiB5Mj0iLTAuMjE2NiIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgzLjQzMDEgMC43MjkxIC0xNC42NDAzIDY4Ljg3NzQgLTE2Ny45MTYxIDY1LjM3MjIpIj4KCQkJCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRUFFREYwIi8+CgkJCQkJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0U3RTdFQiIvPgoJCQkJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCQkJCTxwYXRoIGlkPSLnn6nlvaJfNF8iIGNsYXNzPSJzdDEyIiBkPSJNMTkxLjMsNTQuMWwzLjQsMC43bC0xNC42LDY4LjVjLTAuNywwLjEtMS4zLDAuMS0xLjksMGMtMC41LTAuMS0xLjEtMC40LTEuNS0wLjcKCQkJCQkJCQlMMTkxLjMsNTQuMXoiLz4KCgkJCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLnn6nlvaLlpIfku70tMjJfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMTI2LjUyOTciIHkxPSI1Ljk2NiIgeDI9IjEyNi41Mjk3IiB5Mj0iNi45NDYyIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEuNjQ2NyAzLjA5NzEgLTQyLjI3MjQgMjIuNDc2NiAyODEuMjI3MSAtNDIzLjY4NzkpIj4KCQkJCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRUZGMkY1Ii8+CgkJCQkJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0U3RTdFQiIvPgoJCQkJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCQkJCTxwYXRoIGlkPSLnn6nlvaLlpIfku70tMjIiIGNsYXNzPSJzdDEzIiBkPSJNMjM3LjQsMTAwLjNsMS42LDMuMWwtMzkuNSwyMC43Yy0wLjQsMC0xLjItMC4xLTIuNC0wLjNjLTEuMi0wLjItMS45LTAuNi0yLTEKCQkJCQkJCQlMMjM3LjQsMTAwLjN6Ii8+CgoJCQkJCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i6Lev5b6ELTIzXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjEwMC41MTkxIiB5MT0iLTUzLjE4NjciIHgyPSIxMDAuNTE5MSIgeTI9Ii01Mi4xODY3IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDMuMzAyNiAwIDAgMy4zMDkxIC05OC42MjQzIDI3OC42MTQ2KSI+CgkJCQkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0U3RThFQiIvPgoJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNDQUNERDEiLz4KCQkJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJCQk8cGF0aCBpZD0i6Lev5b6ELTIzIiBjbGFzcz0ic3QxNCIgZD0iTTIzMy40LDEwMi42bC0xLjcsMC43YzAsMC40LDAuMiwwLjksMC42LDEuNWMwLjQsMC41LDAuOCwwLjksMS4zLDEuMWwxLjQtMC42CgkJCQkJCQkJTDIzMy40LDEwMi42eiIvPgoKCQkJCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuefqeW9ol8yMl8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMjIxLjUyODEiIHkxPSItOC44NjUzIiB4Mj0iMjIxLjUyODEiIHkyPSItNy44NjUzIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDgzLjY2NjcgMCAwIDE5Ljg1NDUgLTE4MzUxLjE3NTggMzEyLjgxNjEpIj4KCQkJCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRTNFNUU4Ii8+CgkJCQkJCQkJPHN0b3AgIG9mZnNldD0iMC45NzEzIiBzdHlsZT0ic3RvcC1jb2xvcjojQ0RDRUQxIi8+CgkJCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCQkJPHJlY3QgaWQ9IuefqeW9ol81XyIgeD0iMTQxLjUiIHk9IjEzNi44IiBjbGFzcz0ic3QxNSIgd2lkdGg9IjgzLjciIGhlaWdodD0iMTkuOSIvPgoJCQkJCQkJPHBhdGggaWQ9Iui3r+W+hC0yMCIgY2xhc3M9InN0MTYiIGQ9Ik0xNDAuNCwxNTYuN2gxMC4yYy0wLjEtMy4xLDItNS4yLDYuNC02LjNzMjcuMS0zLjcsNjguMi03Ljl2LTMuMXYtOS4yaC04NC44CgkJCQkJCQkJTDE0MC40LDE1Ni43TDE0MC40LDE1Ni43eiIvPgoKCQkJCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9Iui3r+W+hC0xOV8xXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIyMjMuMDY1NCIgeTE9Ii01LjMxNzkiIHgyPSIyMjMuMDY1NCIgeTI9Ii00LjMyNjQiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMTIxLjA5NjUgMCAwIDMzLjA5MDkgLTI2ODQ3Ljc0MjIgMjk5LjU3NTEpIj4KCQkJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxLjE4NzcxMWUtMDIiIHN0eWxlPSJzdG9wLWNvbG9yOiNGM0YzRjUiLz4KCQkJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRTFFM0U2Ii8+CgkJCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCQkJPHBhdGggaWQ9Iui3r+W+hC0xOSIgY2xhc3M9InN0MTciIGQ9Ik0yMjUuMiwxMjMuNkgxMDQuMXYzMy4xSDE0NGMxLTQuMSwyLjgtNi42LDUuNC03LjVjMi42LTAuOSwyNy45LTMuMiw3NS45LTYuOQoJCQkJCQkJCUwyMjUuMiwxMjMuNkwyMjUuMiwxMjMuNnoiLz4KCgkJCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLlvaLnirbnu5PlkIhfOV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMjE2LjI4NzQiIHkxPSItNS4zMDUyIiB4Mj0iMjE2LjI4NzQiIHkyPSItNC4zMjU1IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQwLjczMTYgMCAwIDMzLjA5MDkgLTg2ODUuMjgxMiAyOTkuNTc1MSkiPgoJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNFNEU3RUIiLz4KCQkJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRDhEQURDIi8+CgkJCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCQkJPHBhdGggaWQ9IuW9oueKtue7k+WQiF8yXyIgY2xhc3M9InN0MTgiIGQ9Ik0xNDQuOCwxMjMuNnYyNS42YzAsMS0wLjcsMS44LTEuNiwybC0zMC41LDUuNWgtOC42di0zMy4xSDE0NC44eiIvPgoJCQkJCQkJPHJlY3QgaWQ9IuefqeW9ol82XyIgeD0iMTI5LjQiIHk9IjE1Ni43IiBjbGFzcz0ic3QxOSIgd2lkdGg9IjM3LjQiIGhlaWdodD0iMi4yIi8+CgoJCQkJCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i6Lev5b6ELTIxXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIyNC4yODg2IiB5MT0iLTEuNjQxOSIgeDI9IjIyNS4wNzM4IiB5Mj0iLTEuNDcwMiIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgyMTkuMDc0NiAwIDAgODkuMzQ1NSAtNDkwNzYuNjYwMiAxODguMTYxNikiPgoJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNENUQ4REYiLz4KCQkJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojQjVCOEMxIi8+CgkJCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCQkJPHBvbHlsaW5lIGlkPSLot6/lvoQtMjEiIGNsYXNzPSJzdDIwIiBwb2ludHM9IjE4LjIsMTIuMiAxOTIuOSw1My43IDIzNy4zLDEwMS41IAkJCQkJCQkiLz4KCQkJCQkJCTxwYXRoIGlkPSLot6/lvoQtMjIiIGNsYXNzPSJzdDIxIiBkPSJNMTg5LjksNTkuOWMwLjQsMC4zLDAuOSwwLjUsMS40LDAuN3MxLDAuMiwxLjYsMC4xbDAuMy0xLjRsLTMtMC44TDE4OS45LDU5Ljl6Ii8+CgkJCQkJCQk8ZWxsaXBzZSBpZD0i5qSt5ZyG5b2iXzJfIiBjbGFzcz0ic3QyMiIgY3g9IjE5My4yIiBjeT0iNTQuMSIgcng9IjQuNSIgcnk9IjQuNSIvPgoJCQkJCQkJPHJlY3QgaWQ9IuefqeW9oi00IiB4PSIxMjIuOCIgeT0iMTIzLjYiIGNsYXNzPSJzdDIzIiB3aWR0aD0iMTAyLjQiIGhlaWdodD0iMS4xIi8+CgoJCQkJCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i55+p5b2iXzIzXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIyMTAuNDAzNSIgeTE9Ii0zLjY5ODIiIHgyPSIyMTEuMTExMSIgeTI9Ii0zLjY5ODIiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMjYuNDIxMSAwIDAgNDEuOTE1MSAtNTMzMS4xMDMgMjkyLjk2MikiPgoJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNFRkYwRjIiLz4KCQkJCQkJCQk8c3RvcCAgb2Zmc2V0PSIwLjQ3MjQiIHN0eWxlPSJzdG9wLWNvbG9yOiNGNEY1RjciLz4KCQkJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRUVGMEYyIi8+CgkJCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCQkJPHJlY3QgaWQ9IuefqeW9ol83XyIgeD0iMjI0LjEiIHk9IjExNyIgY2xhc3M9InN0MjQiIHdpZHRoPSIyNi40IiBoZWlnaHQ9IjQxLjkiLz4KCQkJCQkJCTxyZWN0IGlkPSLnn6nlvaJfOF8iIHg9IjIyMyIgeT0iMTIxLjQiIGNsYXNzPSJzdDI1IiB3aWR0aD0iMS4xIiBoZWlnaHQ9IjMuMyIvPgoJCQkJCQkJPHJlY3QgaWQ9IuefqeW9ouWkh+S7vS0yMyIgeD0iMjIzIiB5PSIxMjQuNyIgY2xhc3M9InN0MjYiIHdpZHRoPSIxLjEiIGhlaWdodD0iMTcuNiIvPgoJCQkJCQkJPHJlY3QgaWQ9IuefqeW9ol85XyIgeD0iMjIzIiB5PSIxNDIuMyIgY2xhc3M9InN0MjciIHdpZHRoPSIxLjEiIGhlaWdodD0iMTQuMyIvPgoJCQkJCQkJPGVsbGlwc2UgaWQ9IuakreWchuW9ol8zXyIgY2xhc3M9InN0MjMiIGN4PSIyMzcuMyIgY3k9IjExNyIgcng9IjEzLjIiIHJ5PSIyLjIiLz4KCgkJCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLmpK3lnIblvaLlpIfku70tOF8xXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIyMTAuNDAzNSIgeTE9Ii0zOS4zODQzIiB4Mj0iMjExLjExMTEiIHkyPSItMzkuMzg0MyIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgyNi40MjExIDAgMCA0LjQxMjEgLTUzMzEuMTAzIDMzMi42Njc0KSI+CgkJCQkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0VGRjBGMiIvPgoJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjAuNDcyNCIgc3R5bGU9InN0b3AtY29sb3I6I0Y0RjVGNyIvPgoJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNFRUYwRjIiLz4KCQkJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJCQk8ZWxsaXBzZSBpZD0i5qSt5ZyG5b2i5aSH5Lu9LTgiIGNsYXNzPSJzdDI4IiBjeD0iMjM3LjMiIGN5PSIxNTguOSIgcng9IjEzLjIiIHJ5PSIyLjIiLz4KCQkJCQkJCTxwYXRoIGlkPSLnn6nlvaJfMTBfIiBjbGFzcz0ic3QyOSIgZD0iTTIzNi4yLDEwNS45aDMuM3YxMC41Yy0wLjYsMC4zLTEuMSwwLjUtMS43LDAuNXMtMS4xLTAuMi0xLjctMC41TDIzNi4yLDEwNS45CgkJCQkJCQkJTDIzNi4yLDEwNS45eiIvPgoJCQkJCQkJPHBhdGggaWQ9Iui3r+W+hC0yNCIgY2xhc3M9InN0MzAiIGQ9Ik0yMzYuMiwxMDZ2MS43YzAuNCwwLjMsMSwwLjQsMS43LDAuNHMxLjItMC4xLDEuNy0wLjR2LTEuOEwyMzYuMiwxMDZ6Ii8+CgkJCQkJCQk8ZWxsaXBzZSBpZD0i5qSt5ZyG5b2i5aSH5Lu9LTkiIGNsYXNzPSJzdDIyIiBjeD0iMjM3LjMiIGN5PSIxMDIuNiIgcng9IjQuNSIgcnk9IjQuNSIvPgoJCQkJCQkJPGcgaWQ9Iue8lue7hC02IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2OS45Mzc1MTYsIDE1OC44NzA1OTQpIj4KCQkJCQkJCQk8ZWxsaXBzZSBpZD0i5qSt5ZyG5b2iXzRfIiBjbGFzcz0ic3QzMSIgY3g9IjExLjEiIGN5PSIxMSIgcng9IjguOCIgcnk9IjguNyIvPgoJCQkJCQkJCTxlbGxpcHNlIGlkPSLmpK3lnIblvaLlpIfku70tMTAiIGNsYXNzPSJzdDMxIiBjeD0iMTQxLjkiIGN5PSIxMSIgcng9IjguOCIgcnk9IjguNyIvPgoJCQkJCQkJCTxwYXRoIGlkPSLnn6nlvaJfMTFfIiBjbGFzcz0ic3QzMiIgZD0iTTExLjEsMTAuOWg3YzAuNywwLDEuMiwwLjYsMS4yLDEuMmwwLDBjMCwwLjctMC42LDEuMi0xLjIsMS4yaC03CgkJCQkJCQkJCWMtMC43LDAtMS4yLTAuNi0xLjItMS4ybDAsMEM5LjgsMTEuNSwxMC40LDEwLjksMTEuMSwxMC45eiIvPgoJCQkJCQkJCTxwYXRoIGlkPSLnn6nlvaJfMTJfIiBjbGFzcz0ic3QzMiIgZD0iTTEzNC45LDEwLjloN2MwLjcsMCwxLjIsMC42LDEuMiwxLjJsMCwwYzAsMC43LTAuNiwxLjItMS4yLDEuMmgtNwoJCQkJCQkJCQljLTAuNywwLTEuMi0wLjYtMS4yLTEuMmwwLDBDMTMzLjcsMTEuNSwxMzQuMywxMC45LDEzNC45LDEwLjl6Ii8+CgkJCQkJCQkJPHBhdGggaWQ9IuefqeW9ol8xM18iIGNsYXNzPSJzdDMzIiBkPSJNMTAuOSw5LjhoMTMxLjNjMC44LDAsMS41LDAuNywxLjUsMS41djAuNWMwLDAuOC0wLjcsMS41LTEuNSwxLjVIMTAuOQoJCQkJCQkJCQljLTAuOCwwLTEuNS0wLjctMS41LTEuNXYtMC41QzkuNCwxMC41LDEwLjEsOS44LDEwLjksOS44eiIvPgoJCQkJCQkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIhfM18iIGNsYXNzPSJzdDM0IiBkPSJNMTQyLjIsOS44YzAuNywwLDEuMywwLjUsMS41LDEuMkg5LjRjMC4yLTAuNywwLjctMS4yLDEuNS0xLjJIMTQyLjJ6Ii8+CgoJCQkJCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuefqeW9ol8yNF8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iODMuODcwMyIgeTE9Ii04Ljc1ODciIHgyPSI4My44NzAzIiB5Mj0iLTcuNzczNCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxNTEuMDIxOSAwIDAgMjAuMDYwNiAtMTI1ODkuNzU3OCAxNzYuOTk5OSkiPgoJCQkJCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRDdEOERCIi8+CgkJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNEMEQzRDYiLz4KCQkJCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCQkJCTxwYXRoIGlkPSLnn6nlvaJfMTRfIiBjbGFzcz0ic3QzNSIgZD0iTTEwLjUsMWgxMzJjNS4yLDAsOS41LDQuMyw5LjUsOS41djEuMWMwLDUuMi00LjMsOS41LTkuNSw5LjVoLTEzMgoJCQkJCQkJCQljLTUuMiwwLTkuNS00LjMtOS41LTkuNXYtMS4xQzEsNS4zLDUuMywxLDEwLjUsMXoiLz4KCgkJCQkJCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i55+p5b2iXzI1XyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI4My44MTI5IiB5MT0iLTEwLjM4NDQiIHgyPSI4My44MTI5IiB5Mj0iLTkuNDI0MiIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxNDcuOTE4NCAwIDAgMTYuOTQ4NSAtMTIzMjAuOTE3IDE3OC41NTY0KSI+CgkJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNDRENFRDEiLz4KCQkJCQkJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0VFRUZGMSIvPgoJCQkJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJCQkJPHBhdGggaWQ9IuefqeW9ol8xNV8iIGNsYXNzPSJzdDM2IiBkPSJNMTAuMSwyLjZIMTQzYzQuMSwwLDcuNSwzLjQsNy41LDcuNVYxMmMwLDQuMS0zLjQsNy41LTcuNSw3LjVIMTAuMQoJCQkJCQkJCQljLTQuMSwwLTcuNS0zLjQtNy41LTcuNXYtMS45QzIuNiw1LjksNS45LDIuNiwxMC4xLDIuNnoiLz4KCQkJCQkJCTwvZz4KCgkJCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLnn6nlvaJfMjZfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIxNi41NTc1IiB5MT0iLTQuMzU0IiB4Mj0iMjE2LjU1NzUiIHkyPSItMy4zNTQiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoNDEuODMzMyAwIDAgNDAuNDIyNyAtODkzNi40NjY4IDI5MS44NDkyKSI+CgkJCQkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0YwRjFGMiIvPgoJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNFNkU4RUIiLz4KCQkJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJCQk8cGF0aCBpZD0i55+p5b2iXzE2XyIgY2xhc3M9InN0MzciIGQ9Ik0xMTUuOSwxMTUuOWgyNS44YzEuMSwwLDIsMC45LDIsMnYyOS43YzAsMS0wLjcsMS44LTEuNiwybC0zNy44LDYuOAoJCQkJCQkJCWMtMS4xLDAuMi0yLjEtMC41LTIuMy0xLjZjMC0wLjEsMC0wLjIsMC0wLjRWMTMwQzEwMS45LDEyMi4xLDEwOC4xLDExNS45LDExNS45LDExNS45eiIvPgoKCQkJCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuefqeW9ol8yN18iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMjA0LjI3MzIiIHkxPSItNy45NzgiIHgyPSIyMDQuMjczMiIgeTI9Ii02Ljk3OCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxOC43MTQ5IDAgMCAyMi4wNjA2IC0zNzA4LjQwMzEgMjk1LjE2MTUpIj4KCQkJCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRTZFOEVCIi8+CgkJCQkJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0Q3RDlEQyIvPgoJCQkJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCQkJCTxwYXRoIGlkPSLnn6nlvaJfMTdfIiBjbGFzcz0ic3QzOCIgZD0iTTExNS4yLDExOS4yaDguN2wwLDB2MjAuOWwtMTguNywxLjJ2LTEyLjFDMTA1LjIsMTIzLjYsMTA5LjYsMTE5LjIsMTE1LjIsMTE5LjJ6Ii8+CgoJCQkJCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i55+p5b2iXzI4XyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxOTcuNDMzMiIgeTE9Ii04LjM5OCIgeDI9IjE5Ny40MzMyIiB5Mj0iLTcuMzk4IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDE0LjMxMTQgMCAwIDIwLjk1NzYgLTI2OTIuMjk1MiAyOTUuMTU3OSkiPgoJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNFNkU4RUIiLz4KCQkJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRDdEOURDIi8+CgkJCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCQkJPHBhdGggaWQ9IuefqeW9ol8xOF8iIGNsYXNzPSJzdDM5IiBkPSJNMTI2LjEsMTE5LjJoMTMuM2MwLjYsMCwxLDAuNCwxLDFWMTM5bDAsMGwtMTQuMywxLjIKCQkJCQkJCQlDMTI2LjEsMTQwLjIsMTI2LjEsMTE5LjIsMTI2LjEsMTE5LjJ6Ii8+CgkJCQkJCTwvZz4KCQkJCQkJPHBhdGggaWQ9IuW9oueKtue7k+WQiF80XyIgY2xhc3M9InN0NDAiIGQ9Ik0xOTIuMiwxNjkuOGM4Ny41LTcuNywxNTYuOC0zMywxNTQuNy01Ni43Yy0yLjEtMjMuNi03NC43LTM2LjYtMTYyLjItMjkKCQkJCQkJCVMyOCwxMTcuMiwzMCwxNDAuOVMxMDQuNywxNzcuNSwxOTIuMiwxNjkuOHogTTE5Mi4yLDE2OC44Yy04Ni45LDcuNi0xNTkuMS01LjMtMTYxLjEtMjhzNjYuOS00OCwxNTMuOC01NS42CgkJCQkJCQlzMTU5LjEsNS4zLDE2MS4xLDI4QzM0Ny45LDEzNiwyNzksMTYxLjIsMTkyLjIsMTY4Ljh6Ii8+CgkJCQkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIhfNV8iIGNsYXNzPSJzdDQwIiBkPSJNMjM1LjMsNTEuOWM0NS4xLTE3LjMsNzkuOS0yMS4yLDg4LTcuM2MxMiwyMC44LTQwLjIsNzMuNC0xMTYuNSwxMTcuNQoJCQkJCQkJcy0xNDgsNjMtMTYwLDQyLjFTODcsMTMwLjgsMTYzLjMsODYuN0MxODQuNiw3NC41LDIwNS42LDY0LjEsMjI1LDU2YzAuMSwwLjMsMC4zLDAuNiwwLjQsMC45QzIwNiw2NSwxODUsNzUuMywxNjMuNyw4Ny42CgkJCQkJCQlDODcuOSwxMzEuNSwzNiwxODMuOCw0Ny42LDIwMy44czgyLjgsMS4zLDE1OC43LTQyLjVTMzM0LDY1LjIsMzIyLjQsNDUuMmMtNy43LTEzLjQtNDIuMi05LjQtODYuOCw3LjgKCQkJCQkJCUMyMzUuNSw1Mi42LDIzNS40LDUyLjMsMjM1LjMsNTEuOUwyMzUuMyw1MS45eiIvPgoJCQkJCQk8ZyBpZD0i57yW57uELTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAzOC4wMDAwMDApIj4KCQkJCQkJCTxlbGxpcHNlIGlkPSLmpK3lnIblvaJfNV8iIGNsYXNzPSJzdDQxIiBjeD0iMzAzLjEiIGN5PSI1MC4yIiByeD0iMi44IiByeT0iMi44Ii8+CgkJCQkJCQk8ZWxsaXBzZSBpZD0i5qSt5ZyG5b2iXzZfIiBjbGFzcz0ic3Q0MSIgY3g9IjMxNi4zIiBjeT0iMS43IiByeD0iMS43IiByeT0iMS43Ii8+CgkJCQkJCQk8ZWxsaXBzZSBpZD0i5qSt5ZyG5b2iXzdfIiBjbGFzcz0ic3Q0MSIgY3g9IjEyMS42IiBjeT0iMTM2LjIiIHJ4PSIyLjgiIHJ5PSIyLjgiLz4KCQkJCQkJCTxlbGxpcHNlIGlkPSLmpK3lnIblvaJfOF8iIGNsYXNzPSJzdDQxIiBjeD0iMzMiIGN5PSI5MC40IiByeD0iMS4xIiByeT0iMS4xIi8+CgkJCQkJCQk8ZWxsaXBzZSBpZD0i5qSt5ZyG5b2iXzlfIiBjbGFzcz0ic3Q0MSIgY3g9IjI5MC41IiBjeT0iMTE0LjciIHJ4PSIxLjEiIHJ5PSIxLjEiLz4KCQkJCQkJCTxlbGxpcHNlIGlkPSLmpK3lnIblvaJfMTBfIiBjbGFzcz0ic3Q0MSIgY3g9IjcwLjQiIGN5PSIzNS4zIiByeD0iMi4yIiByeT0iMi4yIi8+CgkJCQkJCQk8ZWxsaXBzZSBpZD0i5qSt5ZyG5b2i5aSH5Lu9LTYiIGNsYXNzPSJzdDQxIiBjeD0iMS43IiBjeT0iNjguOSIgcng9IjEuNyIgcnk9IjEuNyIvPgoJCQkJCQkJPGVsbGlwc2UgaWQ9IuakreWchuW9ouWkh+S7vS01XzFfIiBjbGFzcz0ic3Q0MSIgY3g9IjIzMy44IiBjeT0iMTU5LjMiIHJ4PSIxLjciIHJ5PSIxLjciLz4KCQkJCQkJPC9nPgoJCQkJCTwvZz4KCQkJCTwvZz4KCQkJPC9nPgoJCTwvZz4KCTwvZz4KPC9nPgo8L3N2Zz4K";var qs=Ks.src,tl=new Image;tl.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDgwIDI0MCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDgwIDI0MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOnVybCgjRmlsbC0xXzFfKTt9Cgkuc3Qxe2ZpbGw6dXJsKCPnn6nlvaJfOV8pO30KCS5zdDJ7ZmlsbDp1cmwoI+efqeW9ol8xMF8pO30KCS5zdDN7ZmlsbDojRjBGMkY1O3N0cm9rZTp1cmwoI+efqeW9ol8xMV8pO30KCS5zdDR7ZmlsbDojOTc5QkE1O3N0cm9rZTp1cmwoI+efqeW9ol8xMl8pO30KCS5zdDV7ZmlsbDojOTc5QkE1O3N0cm9rZTp1cmwoI+efqeW9ouWkh+S7vS05XzFfKTt9Cgkuc3Q2e2ZpbGw6Izk3OUJBNTtzdHJva2U6dXJsKCPlvaLnirbnu5PlkIhfNl8pO30KCS5zdDd7ZmlsbDp1cmwoI+W9oueKtue7k+WQiF84Xyk7fQoJLnN0OHtmaWxsOnVybCgj5b2i54q257uT5ZCI5aSH5Lu9LTNfMV8pO30KCS5zdDl7ZmlsbDp1cmwoI+W9oueKtue7k+WQiF85Xyk7fQoJLnN0MTB7ZmlsbDojRTFFM0U2O30KCS5zdDExe2ZpbGw6I0YwRjJGNTt9Cgkuc3QxMntmaWxsOiNGNEY0RjQ7fQoJLnN0MTN7ZmlsbDp1cmwoI+i3r+W+hC01XzFfKTt9Cgkuc3QxNHtmaWxsOnVybCgj5b2i54q257uT5ZCIXzEwXyk7fQoJLnN0MTV7ZmlsbDp1cmwoI+W9oueKtue7k+WQiOWkh+S7vS00XzFfKTt9Cgkuc3QxNntmaWxsOiNDN0M5Q0M7fQoJLnN0MTd7ZmlsbDojRTVFN0U5O30KCS5zdDE4e2ZpbGw6I0VDRUVGMDt9Cgkuc3QxOXtmaWxsOiNDNEM2Q0M7fQoJLnN0MjB7ZmlsbDojRURFRUYzO30KCS5zdDIxe2ZpbGw6IzM0MzQzNDtmaWxsLW9wYWNpdHk6My4wMDAwMDBlLTAyO30KPC9zdHlsZT4KPGcgaWQ9IkV4Y2VwdGlvbl94MkZf5byC5bi45o+Q56S6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtODcwLjAwMDAwMCwgLTEzMzUuMDAwMDAwKSI+Cgk8ZyBpZD0iX3gzNF8wNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzU3LjAwMDAwMCwgMTIxNi4wMDAwMDApIj4KCQk8ZyBpZD0iX3gzNF8wNC3mj5Llm74iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUxMy4wMDAwMDAsIDExOS4wMDAwMDApIj4KCQkJPGcgaWQ9Iue8lue7hC0xMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuMDAwMDAwLCAxMS4wMzY2NDgpIj4KCQkJCTxnIGlkPSJfeDM0XzA05Li75L2TIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5NC4zMjQwMjIsIDQyLjUzODc3MSkiPgoJCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0iRmlsbC0xXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjE0MS4zOTEyIiB5MT0iNTUuNjg2OSIgeDI9IjE1Mi4zMzA3IiB5Mj0iMTE3LjcyNzciPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRjhGQ0ZEIi8+CgkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGMkY0RjciLz4KCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCTxwYXRoIGlkPSJGaWxsLTEiIGNsYXNzPSJzdDAiIGQ9Ik00NS4zLDcyLjljMjkuMy02LjYsNzEuNS05LjYsMTAwLjItOC4xczUyLjQsNi41LDU0LjEsNS4zYzUuNy0zLjgsMTcuOS01LjUsMTcuMy00CgkJCQkJCXMtOC41LDYuMS02LDYuOGMyLjUsMC43LDI4LDMuNywzOC42LDUuOWMxMC42LDIuMiwxNy40LDQuNCwxOS43LDQuNGMyLjMsMCw1LjktMy4xLDIxLjMtMS42YzAuMywwLjYtMy40LDAuOC02LjgsMi41CgkJCQkJCXMtNS45LDEuNi01LjksMnMxLjktMC42LDUuOSwyYzQsMi41LDExLDMuNCwxMSw0cy04LjksMy42LTIzLjgtMS4xYy0zLjgtMS4yLTEyLjYsOS4yLTUzLjEsMTIuMXMtMTA5LjEsNS4yLTEwOS4xLDUuMgoJCQkJCQlzNC4xLDUuMywxMC4xLDYuOGMwLjMsMC41LTIuNCwyLjUtMTQsMC4zcy0xNy45LTcuMS0xNy45LTcuMXMtMjMuMS0xLjUtMzEuOC0yLjlzLTE4LjctNS4yLTI1LjYtNS45Uy04LjUsOTUsMy4zLDg2LjkKCQkJCQkJQzMuMyw4Ni45LDE2LDc5LjUsNDUuMyw3Mi45eiIvPgoKCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLnn6nlvaJfOV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMzA0Ljg0NjciIHkxPSIxMDEuMjQ5MiIgeDI9IjMwNC44NDY3IiB5Mj0iMTAwLjI1NDYiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoOTMuMzkwNyAwIDAgLTkzLjQ2MjcgLTI4MzM1Ljk0NTMgOTQ2My4wMjczKSI+CgkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNFQ0VFRjAiLz4KCQkJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0Q3RDlEQiIvPgoJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJPHBhdGggaWQ9IuefqeW9ol8xXyIgY2xhc3M9InN0MSIgZD0iTTg5LjIsMGg4OS40YzEuMSwwLDIsMC45LDIsMnY4OS41YzAsMS4xLTAuOSwyLTIsMkg4OS4yYy0xLjEsMC0yLTAuOS0yLTJWMgoJCQkJCQlDODcuMiwwLjksODguMSwwLDg5LjIsMHoiLz4KCgkJCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i55+p5b2iXzEwXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIzMDMuODkxNSIgeTE9IjEwMS42NTMyIiB4Mj0iMzAzLjg5MTUiIHkyPSIxMDAuNjUzIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDgxLjcxNjkgMCAwIC04MS43Nzk5IC0yNDY5OS4yMjQ2IDgzMTguOTkwMikiPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRjVGN0ZBIi8+CgkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNFQkVERjAiLz4KCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCTxwYXRoIGlkPSLnn6nlvaJfMl8iIGNsYXNzPSJzdDIiIGQ9Ik05NCw1LjhoNzkuN2MwLjYsMCwxLDAuNCwxLDF2NzkuOGMwLDAuNi0wLjQsMS0xLDFIOTRjLTAuNiwwLTEtMC40LTEtMVY2LjgKCQkJCQkJQzkzLDYuMyw5My41LDUuOCw5NCw1Ljh6Ii8+CgoJCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuefqeW9ol8xMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMjk5LjQxODYiIHkxPSIxMDMuNTA1MiIgeDI9IjI5OS40MTg2IiB5Mj0iMTAyLjU1OTkiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoNTEuNTMyMyAwIDAgLTUxLjU3MjggLTE1Mjk1Ljg3NyA1MzYwLjk3MzYpIj4KCQkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0UxRTJFNiIvPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRjdGOUZDIi8+CgkJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCQk8cGF0aCBpZD0i55+p5b2iXzNfIiBjbGFzcz0ic3QzIiBkPSJNMTA5LjEsMjAuOWg0OS41YzAuNiwwLDEsMC40LDEsMXY0OS42YzAsMC42LTAuNCwxLTEsMWgtNDkuNWMtMC42LDAtMS0wLjQtMS0xVjIxLjkKCQkJCQkJQzEwOC4xLDIxLjQsMTA4LjYsMjAuOSwxMDkuMSwyMC45eiIvPgoKCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLnn6nlvaJfMTJfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjE5NS40ODc5IiB5MT0iMTE5LjIyMzciIHgyPSIxOTUuNDg3OSIgeTI9IjExOC4yNTY2IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDUuMzc3NyAwIDAgLTEyLjY4MjggLTkyOC4zNzU1IDE1NDYuODUxNikiPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRTFFMkU2Ii8+CgkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGMEYyRjUiLz4KCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCTxyZWN0IGlkPSLnn6nlvaJfNF8iIHg9IjEyMC4yIiB5PSIzNC41IiBjbGFzcz0ic3Q0IiB3aWR0aD0iNS40IiBoZWlnaHQ9IjEyLjciLz4KCgkJCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i55+p5b2i5aSH5Lu9LTlfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMTk1LjQ5MDEiIHkxPSIxMTkuMjIzNyIgeDI9IjE5NS40OTAxIiB5Mj0iMTE4LjI1NjYiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoNS4zNzc3IDAgMCAtMTIuNjgyOCAtOTA2LjQ4NzEgMTU0Ni44NTE2KSI+CgkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNFMUUyRTYiLz4KCQkJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0YwRjJGNSIvPgoJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJPHJlY3QgaWQ9IuefqeW9ouWkh+S7vS05IiB4PSIxNDIuMSIgeT0iMzQuNSIgY2xhc3M9InN0NSIgd2lkdGg9IjUuNCIgaGVpZ2h0PSIxMi43Ii8+CgoJCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuW9oueKtue7k+WQiF82XyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIyNDcuNTY2IiB5MT0iMTI1LjQ1MTQiIHgyPSIyNDcuNTY2IiB5Mj0iMTI0LjQ4NDQiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoOS43NTU0IDAgMCAtOS43NjIxIC0yMjgxLjIwNTEgMTI3Ni45MDYpIj4KCQkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0UxRTJFNiIvPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRjBGMkY1Ii8+CgkJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCQk8cGF0aCBpZD0i5b2i54q257uT5ZCIIiBjbGFzcz0ic3Q2IiBkPSJNMTI5LDU2LjdMMTI5LDU2LjdjMC4xLTIuNiwyLjMtNC43LDQuOS00LjdjMi42LDAsNC43LDIsNC45LDQuN3YwLjJ2NC45SDEyOXYtMC41di00LjQKCQkJCQkJVjU2Ljd6Ii8+CgoJCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuW9oueKtue7k+WQiF84XyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIzMDIuOTc2MSIgeTE9IjEwMS4yMzc1IiB4Mj0iMzAyLjk3NjEiIHkyPSIxMDAuMzAxNiIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCg3Mi45NjE1IDAgMCAtOTMuNDYyNyAtMjE4NzkuNzQ0MSA5NDYzLjAyNzMpIj4KCQkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0VCRURGMDtzdG9wLW9wYWNpdHk6MC45OTE3Ii8+CgkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNFMUUzRTYiLz4KCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIhfMV8iIGNsYXNzPSJzdDciIGQ9Ik0yNDQuOCwwaDIuOXY1OC40aDE0LjZ2MTcuNWgtMTQuNnYxNy41aC0yMC40Vjc1LjloLTM3LjlWNTguNEwyMjcuMywwSDI0NC44egoJCQkJCQkgTTIyNy4zLDI4LjJsLTE4LjgsMzAuM2gxOC44VjI4LjJ6Ii8+CgoJCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuW9oueKtue7k+WQiOWkh+S7vS0zXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjMwMi45NzU2IiB5MT0iMTAxLjIzNzUiIHgyPSIzMDIuOTc1NiIgeTI9IjEwMC4zMDE2IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDcyLjk2MTUgMCAwIC05My40NjI3IC0yMjA2My42MDc0IDk0NjMuMDI3MykiPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRUJFREYwO3N0b3Atb3BhY2l0eTowLjk5MTciLz4KCQkJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0UxRTNFNiIvPgoJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJPHBhdGggaWQ9IuW9oueKtue7k+WQiOWkh+S7vS0zIiBjbGFzcz0ic3Q4IiBkPSJNNjAuOSwwaDIuOXY1OC40aDE0LjZ2MTcuNUg2My44djE3LjVINDMuNFY3NS45SDUuNVY1OC40TDQzLjQsMEg2MC45egoJCQkJCQkgTTQzLjQsMjguMkwyNC42LDU4LjRoMTguOFYyOC4yeiIvPgoKCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLlvaLnirbnu5PlkIhfOV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMjk5LjA0NjYiIHkxPSIxMDcuMjgyNyIgeDI9IjI5OS4wNTM1IiB5Mj0iMTA3LjAxMSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCg1MC4wMDM1IDAgMCAtMjguNjA1MyAtMTQ4NTcuNzUyOSAzMjE2LjczOTUpIj4KCQkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0ZCRkNGRCIvPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRjBGMkY1Ii8+CgkJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCQk8cGF0aCBpZD0i5b2i54q257uT5ZCIXzJfIiBjbGFzcz0ic3Q5IiBkPSJNOTkuNiwxMzcuM2MxMS43LDAsMjEuMiw1LjYsMjEuMiwxMi40YzAsNi45LTkuNSwxMi40LTIxLjIsMTIuNAoJCQkJCQljLTQuNCwwLTguNS0wLjgtMTEuOS0yLjFsLTcsNS45bC0xLjktMi4ybDYtNS4xYy0zLjktMi4zLTYuNC01LjQtNi40LTguOWMwLTAuMiwwLTAuNSwwLTAuN2wtNS44LDUuMWwtMS45LTIuMmwxNS40LTEzLjQKCQkJCQkJbDEuMSwxLjJDOTAuNywxMzguMSw5NSwxMzcuMyw5OS42LDEzNy4zeiIvPgoJCQkJCTxyZWN0IGlkPSLnn6nlvaJfNV8iIHg9IjIyNS44IiB5PSI4Ny42IiBjbGFzcz0ic3QxMCIgd2lkdGg9IjIzLjMiIGhlaWdodD0iNS44Ii8+CgkJCQkJPHJlY3QgaWQ9IuefqeW9ol82XyIgeD0iMjI3LjMiIHk9Ijg2LjIiIGNsYXNzPSJzdDExIiB3aWR0aD0iMjAuNCIgaGVpZ2h0PSIxLjUiLz4KCQkJCQk8cmVjdCBpZD0i55+p5b2iXzdfIiB4PSI0MS45IiB5PSI4Ny42IiBjbGFzcz0ic3QxMCIgd2lkdGg9IjIzLjMiIGhlaWdodD0iNS44Ii8+CgkJCQkJPHJlY3QgaWQ9IuefqeW9ol84XyIgeD0iNDMuNCIgeT0iODYuMiIgY2xhc3M9InN0MTEiIHdpZHRoPSIyMC40IiBoZWlnaHQ9IjEuNSIvPgoJCQkJCTxwYXRoIGlkPSLot6/lvoQtNCIgY2xhc3M9InN0MTEiIGQ9Ik0wLDAiLz4KCQkJCQk8cGF0aCBpZD0i6Lev5b6ELTgiIGNsYXNzPSJzdDEyIiBkPSJNMTE1LjYsMTM0LjljMi40LTIuMiw5LjctMy40LDIxLjktMy40YzYuNCwwLDExLDAuNywzOS45LDUuN2MyLjksMC41LDUuMywwLjksNy43LDEuMwoJCQkJCQljMjUuOCw0LjMsNDAuOCw1LjcsNDguNiwzLjNsLTAuNC0xLjRjLTcuNSwyLjItMjIuNSwwLjktNDgtMy40Yy0yLjMtMC40LTQuOC0wLjgtNy42LTEuM2MtMjkuMS01LjEtMzMuNi01LjgtNDAuMi01LjgKCQkJCQkJYy0xMi42LDAtMjAuMSwxLjItMjIuOSwzLjhMMTE1LjYsMTM0Ljl6Ii8+CgoJCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9Iui3r+W+hC01XzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjMwNy4xMTA1IiB5MT0iMTAzLjQ4MSIgeDI9IjMwNy4xMTA1IiB5Mj0iMTAyLjQ5MjIiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMTQxLjI1IDAgMCAtNTIuMDk2MiAtNDMyMDEuNzIyNyA1NDgxLjM2MTMpIj4KCQkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0RDREVFNSIvPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojOTc5QkE1Ii8+CgkJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCQk8cGF0aCBpZD0i6Lev5b6ELTUiIGNsYXNzPSJzdDEzIiBkPSJNMjI1LjgsODkuOGgtMjBjLTYuOSwwLTEwLjcsMy4xLTgsNy41YzIuNyw0LjYsMTEuOSw5LjcsMjcuMSwxNC40CgkJCQkJCWMxNS41LDQuOCwyNC45LDE1LjUsMjEsMjIuNWMtNC41LDguMS0yNC40LDguOS01Ni4zLTAuOGMtNDguNC0xNC42LTc1LjgtMTYuMS04Mi42LTQuMWwxLjMsMC43YzYuMi0xMS4xLDMzLjItOS43LDgwLjksNC43CgkJCQkJCWMzMi41LDkuOCw1Myw5LjEsNTgsMC4xYzQuNS04LTUuNi0xOS41LTIxLjktMjQuNmMtMTQuOC00LjYtMjMuOC05LjYtMjYuMi0xMy43Yy0xLjgtMy4xLDAuOC01LjMsNi44LTUuM2gyMHYtMS40SDIyNS44eiIvPgoKCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLlvaLnirbnu5PlkIhfMTBfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjI5NC4xODM1IiB5MT0iMTAxLjQ1NzgiIHgyPSIyOTQuNzA3NCIgeTI9IjEwMS40MDIyIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDM3Ljc5OTMgNy4zNDc0IDcuNjMzNyAtMzkuMjcyIC0xMTgwMy44MjUyIDE5NTkuNDUyKSI+CgkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNFN0U5RUI7c3RvcC1vcGFjaXR5OjAuOTM2NSIvPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojQ0RDRkQxIi8+CgkJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCQk8cGF0aCBpZD0i5b2i54q257uT5ZCIXzNfIiBjbGFzcz0ic3QxNCIgZD0iTTExMS43LDEyNS4yYzQsNC45LDQuNywxMS4zLDIuNCwxMy41bC0wLjEsMC4xbC01LjUsNS42YzAuNiwyLjksMC41LDUuMy0xLjEsNi43CgkJCQkJCWwwLDBsMCwwbC04LjIsOC43bC0yMS44LTMwLjZsOC4zLTQuOHYwLjFjMS43LTAuOSw0LjEtMC42LDYuNywwLjRsNi44LTQuMmwwLjEtMC4xQzEwMiwxMTguNywxMDcuOCwxMjAuMywxMTEuNywxMjUuMnoiLz4KCgkJCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i5b2i54q257uT5ZCI5aSH5Lu9LTRfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMjk1LjQwNTQiIHkxPSI4Mi4zMTk3IiB4Mj0iMjk2LjEyODciIHkyPSI4Mi4yOTk0IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDIzLjgyNDMgMjkuNDIwNiAxNS44NjE0IC0xMi44NDQzIC04MjU1Ljg0MzggLTc1MDQuODQ1NykiPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRUJFREVGIi8+CgkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNEOERBREMiLz4KCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIjlpIfku70tNCIgY2xhc3M9InN0MTUiIGQ9Ik0xMDMuMywxMzIuNGM1LjksNy4yLDcuMiwxNS40LDQsMTguOWwwLDBsLTguMSw4LjVMNzYsMTI5LjlsOS40LTUuNWwwLDAKCQkJCQkJQzg5LjUsMTIyLjEsOTcuNSwxMjUuMiwxMDMuMywxMzIuNHoiLz4KCgkJCQkJCTxlbGxpcHNlIGlkPSLmpK3lnIblvaLlpIfku70tMiIgdHJhbnNmb3JtPSJtYXRyaXgoMC43NzcxIC0wLjYyOTMgMC42MjkzIDAuNzc3MSAtNzEuNzU3MyA4Ny4zODA5KSIgY2xhc3M9InN0MTYiIGN4PSI4Ny41IiBjeT0iMTQ1IiByeD0iOS41IiByeT0iMTkiLz4KCgkJCQkJCTxnIGlkPSLnvJbnu4QtNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODUuMjg4NzA1LCAxNTUuNjk1NDY1KSByb3RhdGUoNi4wMDAwMDApIHRyYW5zbGF0ZSgtODUuMjg4NzA1LCAtMTU1LjY5NTQ2NSkgdHJhbnNsYXRlKDc5LjE0MzQ1MywgMTQ2Ljc1NjkxNykiPgoJCQkJCQk8cG9seWdvbiBpZD0i6Lev5b6ELTkiIGNsYXNzPSJzdDE3IiBwb2ludHM9IjEyLjIsMS4xIDEyLjIsNi4xIDEuMiwxNy41IDEuMiwxMi41IAkJCQkJCSIvPgoJCQkJCQk8cG9seWdvbiBpZD0i6Lev5b6ELTEwIiBjbGFzcz0ic3QxMSIgcG9pbnRzPSIxMi4yLDEuMSAxMS4zLDAgMC4zLDExLjEgMS4yLDEyLjUgCQkJCQkJIi8+CgkJCQkJCTxwb2x5Z29uIGlkPSLot6/lvoQtMTEiIGNsYXNzPSJzdDE4IiBwb2ludHM9IjAuMywxMS4xIDEuMiwxMi41IDEuMiwxNy41IDAuMywxNi4xIAkJCQkJCSIvPgoJCQkJCTwvZz4KCgkJCQkJCTxnIGlkPSLnvJbnu4QtNeWkh+S7vSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzYuODI2Mjc3LCAxNDMuODg1MTA1KSByb3RhdGUoNi4wMDAwMDApIHRyYW5zbGF0ZSgtNzYuODI2Mjc3LCAtMTQzLjg4NTEwNSkgdHJhbnNsYXRlKDcwLjY4MTAyNSwgMTM0Ljk0NjU1OCkiPgoJCQkJCQk8cG9seWdvbiBpZD0i6Lev5b6ELTlfMV8iIGNsYXNzPSJzdDE3IiBwb2ludHM9IjEyLjIsMS4xIDEyLjIsNi4xIDEuMiwxNy41IDEuMiwxMi41IAkJCQkJCSIvPgoJCQkJCQk8cG9seWdvbiBpZD0i6Lev5b6ELTEwXzFfIiBjbGFzcz0ic3QxMSIgcG9pbnRzPSIxMi4yLDEuMSAxMS4zLDAgMC4zLDExLjEgMS4yLDEyLjUgCQkJCQkJIi8+CgkJCQkJCTxwb2x5Z29uIGlkPSLot6/lvoQtMTFfMV8iIGNsYXNzPSJzdDE4IiBwb2ludHM9IjAuMywxMS4xIDEuMiwxMi41IDEuMiwxNy41IDAuMywxNi4xIAkJCQkJCSIvPgoJCQkJCTwvZz4KCgkJCQkJCTxnIGlkPSLnvJbnu4QtNV8xXyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODQuNjQzMzQ5LCAxNTYuMjAzMTgzKSByb3RhdGUoNi4wMDAwMDApIHRyYW5zbGF0ZSgtODQuNjQzMzQ5LCAtMTU2LjIwMzE4MykgdHJhbnNsYXRlKDc4LjEzNjYxMiwgMTQ2LjYyOTc5NikiPgoJCQkJCTwvZz4KCgkJCQkJCTxnIGlkPSLnvJbnu4QtNeWkh+S7vV8xXyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzYuMjU3OTg1LCAxNDQuMjkxOTQyKSByb3RhdGUoNi4wMDAwMDApIHRyYW5zbGF0ZSgtNzYuMjU3OTg1LCAtMTQ0LjI5MTk0MikgdHJhbnNsYXRlKDY5Ljc1MTI0OCwgMTM0LjcxODU1NSkiPgoJCQkJCTwvZz4KCQkJCTwvZz4KCQkJCTxjaXJjbGUgaWQ9IuakreWchuW9oiIgY2xhc3M9InN0MTkiIGN4PSIxLjciIGN5PSI4MCIgcj0iMS43Ii8+CgkJCQk8cGF0aCBpZD0i5b2i54q257uT5ZCIXzRfIiBjbGFzcz0ic3QyMCIgZD0iTTEyMy43LDYyLjlsLTEuMiwxLjhjLTU4LjQsMTQuNi05Ny4zLDM0LjgtOTUuMiw1MS44YzEuMiwxMCwxNi41LDE3LjYsNDEsMjIuMgoJCQkJCWM3LjktOC42LDE4LjMtMTcuOSwzMC43LTI3LjV2MS45Qzg3LjQsMTIyLjIsNzcuNiwxMzEsNzAsMTM5YzkuMiwxLjYsMTkuNywyLjksMzEuMiwzLjdjMS41LDAuNywzLjQsMS4zLDUuNSwxLjgKCQkJCQljLTE0LjEtMC44LTI2LjktMi4yLTM3LjgtNC4yQzU1LDE1NS4xLDQ5LDE2Ny41LDUzLDE3NS40YzguNiwxNi45LDYxLjIsOC44LDEyNi44LTE3LjZjMC41LDAuMywxLDAuNiwxLjYsMQoJCQkJCWMtNjYuOCwyNy0xMjAuNSwzNS4yLTEyOS42LDE3LjNjLTQuMi04LjMsMS43LTIxLjEsMTUuNC0zNi4yYy0yNC43LTQuOC00MC0xMi43LTQxLjMtMjMuMkMyMy42LDk4LjUsNjMuNyw3Ny43LDEyMy43LDYyLjl6CgkJCQkJIE0zMTMuMywxMTguNGg1LjFjLTYuOCwyLjEtMTMuOSw0LjEtMjEuNCw2Yy0xLjQtMC4yLTIuOC0wLjQtMy45LTAuNUMzMDAuMiwxMjIuMSwzMDYuOSwxMjAuMywzMTMuMywxMTguNHogTTI4My4xLDEwNS44djEuNwoJCQkJCWMtMi45LDEuOC01LjgsMy41LTguOCw1LjN2LTEuN0MyNzcuMywxMDkuMywyODAuMiwxMDcuNiwyODMuMSwxMDUuOHogTTM3OC41LDkuNmM0LjcsOS4yLTMuMSwyNC0yMC4yLDQxLjMKCQkJCQljMTguOSw0LjksMzAuNCwxMiwzMS42LDIxYzEuMywxMC40LTExLjQsMjEuNi0zMy43LDMyLjJ2LTEuNmMyMS40LTEwLjEsMzMuNC0yMC44LDMyLjMtMzAuNGMtMS4xLTguNi0xMi41LTE1LjQtMzEuMy0yMC4xCgkJCQkJbC0wLjMsMC4zYy00LjUsNC41LTkuNiw5LjEtMTUuMywxMy45di0xLjljNS00LjMsOS42LTguNCwxMy43LTEyLjRsMC4zLTAuM2MtNC4zLTEtOS0xLjktMTQtMi43di0xLjVjNS40LDAuOSwxMC41LDEuOSwxNS4xLDMKCQkJCQljMTcuMS0xNy4xLDI1LTMxLjUsMjAuNi00MC4zYy0xMC0xOS43LTc5LjktNS40LTE2MC40LDMyLjJoLTMuNEMyOTUuOSwzLjQsMzY3LjgtMTEuNSwzNzguNSw5LjZ6IE0xMzYuOSw4NC41djEuOAoJCQkJCWMtNS44LDMuNy0xMS40LDcuNC0xNi43LDExLjFsMi0zLjFDMTI3LDkwLjksMTMxLjksODcuNywxMzYuOSw4NC41eiBNMzIxLjEsODAuNHYxLjhjLTQuMiwzLTguNSw2LjEtMTMsOS4ybDItMy4xCgkJCQkJQzMxMy45LDg1LjYsMzE3LjUsODMsMzIxLjEsODAuNHogTTE4MC44LDU4Ljl2MS43Yy04LjEsNC4zLTE1LjksOC43LTIzLjQsMTMuMVY3MkMxNjQuOSw2Ny42LDE3Mi43LDYzLjIsMTgwLjgsNTguOXoKCQkJCQkgTTE4MC44LDUxLjZ2MS41Yy04LDEuMi0xNS44LDIuNi0yMy40LDR2LTEuNUMxNjUsNTQuMSwxNzIuOCw1Mi44LDE4MC44LDUxLjZ6IE0zMTkuNSw0NC45bC0wLjksMS40CgkJCQkJYy0xMy40LTEuMS0yOC4zLTEuNS00NC4zLTEuM3YtMC41YzAtMC4zLTAuMS0wLjctMC4yLTAuOUMyOTAuNSw0My4zLDMwNS44LDQzLjcsMzE5LjUsNDQuOXoiLz4KCQkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIhfNV8iIGNsYXNzPSJzdDIxIiBkPSJNMzc4LjUsOS42YzQuNyw5LjItMy4xLDI0LTIwLjIsNDEuM2MxOC45LDQuOSwzMC40LDEyLDMxLjYsMjEKCQkJCQljMi45LDI0LTY4LjYsNTIuOC0xNjIuNCw2Ni4xYy04Ni45LDQyLjktMTY0LjYsNTkuOS0xNzUuOCwzOGMtNC4yLTguMywxLjctMjEuMSwxNS40LTM2LjJjLTI0LjctNC44LTQwLTEyLjctNDEuMy0yMy4yCgkJCQkJYy0xLjctMTMuOCwyMS4xLTI5LjEsNTguNS00Mi4ybDAuMywxLjRjLTM2LjYsMTIuOC01OSwyNy42LTU3LjQsNDAuNmMxLjIsMTAsMTYuNSwxNy42LDQxLDIyLjJjNi44LTcuMywxNS40LTE1LjIsMjUuNS0yMy40CgkJCQkJbDAuMywxLjJsMC44LTAuMmMtOS44LDcuOS0xOC4yLDE1LjUtMjQuOSwyMi42YzM0LjQsNi4xLDg2LjIsNi42LDE0My4zLTAuNGM0LjctMC42LDkuMy0xLjIsMTMuOC0xLjhjMi43LTEuNCw1LjUtMi43LDguMy00LjEKCQkJCQljNTEuOC0yNi40LDk1LTU2LjEsMTE5LjktODAuNmwwLjMtMC4zYy0yLjctMC42LTUuNS0xLjItOC40LTEuOGwtMC40LTEuNWMzLjUsMC42LDYuOCwxLjQsMTAsMi4xYzE3LjEtMTcuMSwyNS0zMS41LDIwLjYtNDAuMwoJCQkJCWMtNC4yLTguMy0xOS4yLTEwLjYtNDEuMS03LjZsLTAuMy0xLjRDMzU4LjUtMS44LDM3NCwwLjcsMzc4LjUsOS42eiBNMjIyLjksMTM4LjdsLTAuNCwwLjFjLTMsMC40LTYsMC44LTksMS4yCgkJCQkJYy01Ny43LDcuMS0xMTAsNi43LTE0NC43LDAuMkM1NSwxNTUuMSw0OSwxNjcuNSw1MywxNzUuNEM2My40LDE5NS45LDEzOC40LDE3OS43LDIyMi45LDEzOC43eiBNMzU3LjEsNTJsLTAuMywwLjMKCQkJCQljLTI1LDI0LjgtNjguNSw1NC44LTEyMC44LDgxLjRjLTEuNCwwLjctMi45LDEuNS00LjMsMi4yYzkwLjYtMTMuNSwxNTkuNS00MS41LDE1Ni43LTYzLjlDMzg3LjQsNjMuNSwzNzUuOSw1Ni43LDM1Ny4xLDUyeiIvPgoJCQkJPGNpcmNsZSBpZD0i5qSt5ZyG5b2iXzFfIiBjbGFzcz0ic3QxOSIgY3g9IjEzNS4yIiBjeT0iMTQ0LjIiIHI9IjIuMiIvPgoJCQkJPGNpcmNsZSBpZD0i5qSt5ZyG5b2i5aSH5Lu9LTQiIGNsYXNzPSJzdDE5IiBjeD0iMzU3IiBjeT0iNTAuOSIgcj0iMy45Ii8+CgkJCQk8Y2lyY2xlIGlkPSLmpK3lnIblvaLlpIfku70iIGNsYXNzPSJzdDE5IiBjeD0iNDMuNiIgY3k9IjkzLjkiIHI9IjIuMiIvPgoJCQkJPGNpcmNsZSBpZD0i5qSt5ZyG5b2iXzJfIiBjbGFzcz0ic3QxOSIgY3g9IjM3Mi4xIiBjeT0iMy40IiByPSIyLjIiLz4KCQkJCTxjaXJjbGUgaWQ9IuakreWchuW9ol8zXyIgY2xhc3M9InN0MTkiIGN4PSI3My4yIiBjeT0iNTAuOSIgcj0iMS43Ii8+CgkJCQk8Y2lyY2xlIGlkPSLmpK3lnIblvaJfNF8iIGNsYXNzPSJzdDE5IiBjeD0iMjkzLjMiIGN5PSIxNjkuNCIgcj0iMS43Ii8+CgkJCQk8Y2lyY2xlIGlkPSLmpK3lnIblvaJfNV8iIGNsYXNzPSJzdDE5IiBjeD0iMzk4LjMiIGN5PSIxNS4yIiByPSIxLjciLz4KCQkJPC9nPgoJCTwvZz4KCTwvZz4KPC9nPgo8L3N2Zz4K";var el=tl.src,nl=new Image;nl.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDgwIDI0MCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDgwIDI0MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOm5vbmU7fQoJLnN0MXtmaWxsOiNDNEM2Q0M7fQoJLnN0MntmaWxsOnVybCgjRmlsbC0xXzFfKTt9Cgkuc3Qze2ZpbGw6dXJsKCPnn6nlvaJfNF8pO30KCS5zdDR7ZmlsbDojOTc5QkE1O30KCS5zdDV7ZmlsbDp1cmwoI1NWR0lEXzFfKTt9Cgkuc3Q2e2ZpbGw6I0Y4RjlGQTt9Cgkuc3Q3e2ZpbGw6dXJsKCPlvaLnirbnu5PlkIhfMV8pO30KCS5zdDh7ZmlsbDp1cmwoI+W9oueKtue7k+WQiF82Xyk7fQoJLnN0OXtmaWxsOiNEQ0RFRTA7fQo8L3N0eWxlPgo8ZyBpZD0i6aG16Z2iLTEiPgoJPGcgaWQ9IkV4Y2VwdGlvbl94MkZf5byC5bi45o+Q56S6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtODcwLjAwMDAwMCwgLTIzODEuMDAwMDAwKSI+CgkJPGcgaWQ9IuaXoOadg+mZkOexuyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzU3LjAwMDAwMCwgMjI4Ny4wMDAwMDApIj4KCQkJPGcgaWQ9Iue8lue7hC0xMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDczLjAwMDAwMCkiPgoJCQkJPGcgaWQ9IuaXoOadg+mZkOexuy3mj5Llm74iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUxMy4wMDAwMDAsIDIxLjAwMDAwMCkiPgoJCQkJCTxnIGlkPSLmsqHmnInmnYPpmZAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyOC4wMDAwMDAsIDQyLjAwMDAwMCkiPgoJCQkJCQk8cmVjdCBpZD0i55+p5b2iXzFfIiBjbGFzcz0ic3QwIiB3aWR0aD0iMjI0IiBoZWlnaHQ9IjE4MyIvPgoJCQkJCQk8Y2lyY2xlIGlkPSLmpK3lnIblvaIiIGNsYXNzPSJzdDEiIGN4PSIxMzIiIGN5PSIxMSIgcj0iMSIvPgoJCQkJCQk8Y2lyY2xlIGlkPSLmpK3lnIblvaJfMV8iIGNsYXNzPSJzdDEiIGN4PSIxNzMiIGN5PSI5NCIgcj0iMiIvPgoJCQkJCQk8Y2lyY2xlIGlkPSLmpK3lnIblvaJfMl8iIGNsYXNzPSJzdDEiIGN4PSI1OSIgY3k9IjY2IiByPSIyIi8+CgkJCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0iRmlsbC0xXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjExNi4zNTg3IiB5MT0iMTI5LjQwNzUiIHgyPSIxMTkuMzMxNCIgeTI9IjE1Ny42OTA2Ij4KCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGQkZDRkQiLz4KCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjAuOTk4OCIgc3R5bGU9InN0b3AtY29sb3I6I0YyRjRGNyIvPgoJCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCQk8cGF0aCBpZD0iRmlsbC0xIiBjbGFzcz0ic3QyIiBkPSJNNjAuNSwxMzYuMWMxNi4yLTMuNSw0MC42LTQuNyw1Ni41LTMuOWMxNS44LDAuOCwzMy4xLDMuMSwzMy4xLDMuMXM0LjUtMS45LDQuMS0xLjIKCQkJCQkJCWMtMC4zLDAuOC0yLjQsMS45LTEsMi4zYzEuNCwwLjQsMTUuNSwxLjksMjEuNCwzLjFzOC42LDIuMyw4LjYsMi4zczMuOC02LjYsMTIuMy01LjhjMCwwLjYtMy4xLDEuNC00LjIsMy4xUzE4OCwxNDIsMTg4LDE0MgoJCQkJCQkJczEuOC0xLDQuOSwwLjVzNi4xLDIsNi4xLDIuMnMtMS40LDMuNS0xMi43LDEuMmMtNC42LTEuMi02LjksNS4xLTI5LjMsNi42cy02MC4zLDIuNy02MC4zLDIuN3MxLjcsMi4zLDUuMiwzLjEKCQkJCQkJCWMwLDAtMi40LDIuMy03LjIsMS42Yy00LjgtMC44LTEwLTQuNy0xMC00LjdzLTEyLjctMC44LTE3LjYtMS42cy0xMC4zLTIuNy0xNC4xLTMuMWMtMy44LTAuNC0yMS0yLjMtMTQuNS02LjYKCQkJCQkJCUMzOC41LDE0My45LDQ0LjMsMTM5LjYsNjAuNSwxMzYuMXoiLz4KCgkJCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuefqeW9ol80XyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxNTYuMTY2NyIgeTE9Ii0yLjUxNDMiIHgyPSIxNTYuMTY2NyIgeTI9Ii0xLjUxNDMiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoOTYgMCAwIDcwIC0xNDg3OSAyNTIpIj4KCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGMkYzRjUiLz4KCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNFNUU4RUIiLz4KCQkJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCQkJPHBhdGggaWQ9IuefqeW9ol8yXyIgY2xhc3M9InN0MyIgZD0iTTcwLDc2aDg2YzIuOCwwLDUsMi4yLDUsNXY2MGMwLDIuOC0yLjIsNS01LDVINzBjLTIuOCwwLTUtMi4yLTUtNVY4MQoJCQkJCQkJQzY1LDc4LjIsNjcuMiw3Niw3MCw3NnoiLz4KCQkJCQkJPHBhdGggaWQ9IuW9oueKtue7k+WQiCIgY2xhc3M9InN0MSIgZD0iTTU5LjMsMTM4djExLjdINzF2Mi4zSDU5LjNsMCwwSDU3di0xNEg1OS4zeiIvPgoJCQkJCQk8cGF0aCBpZD0i5b2i54q257uT5ZCI5aSH5Lu9LTQiIGNsYXNzPSJzdDEiIGQ9Ik0xNjYuNywxMzh2MTEuN0gxNTV2Mi4zaDExLjdsMCwwaDIuM3YtMTRIMTY2Ljd6Ii8+CgkJCQkJCTxnPgoJCQkJCQkJPHBhdGggaWQ9IuW9oueKtue7k+WQiF81XyIgY2xhc3M9InN0NCIgZD0iTTExNi41LDExNi44bDEuNiw3LjljMC4yLDAuOC0wLjQsMS42LTEuMiwxLjhjLTAuMSwwLTAuMiwwLTAuMywwaC03LjIKCQkJCQkJCQljLTAuOCwwLTEuNS0wLjctMS41LTEuNWMwLTAuMSwwLTAuMiwwLTAuM2wxLjYtNy45Yy0zLTEuMy01LTQuMS01LTcuM2MwLTQuNCwzLjgtOCw4LjUtOHM4LjUsMy42LDguNSw4CgkJCQkJCQkJQzEyMS41LDExMi43LDExOS41LDExNS41LDExNi41LDExNi44eiIvPgoKCQkJCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjEzNi4wMjk0IiB5MT0iLTYuODAxMSIgeDI9IjEzNi4wMjk0IiB5Mj0iLTYuMjc4OSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxNyAwIDAgMjUgLTIxOTkuNSAyNzcuNSkiPgoJCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNFMUUyRTYiLz4KCQkJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRUVGMEYyIi8+CgkJCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCQkJPHBhdGggY2xhc3M9InN0NSIgZD0iTTExNywxMjcuNWgtNy42Yy0xLjQsMC0yLjUtMS4xLTIuNS0yLjVsMC0wLjVsMS40LTcuMWMtMy0xLjYtNC45LTQuNi00LjktNy45YzAtNSw0LjMtOSw5LjUtOQoJCQkJCQkJCXM5LjUsNCw5LjUsOWMwLDMuMy0xLjksNi4zLTQuOSw3LjlsMS40LDcuMWMwLjMsMS4yLTAuNiwyLjYtMS45LDNMMTE3LDEyNy41eiBNMTA4LjksMTI0Ljh2MC4yYzAsMC4yLDAuMywwLjUsMC41LDAuNWg3LjMKCQkJCQkJCQljMC4yLTAuMSwwLjQtMC40LDAuNC0wLjZsLTEuOC04LjdsMC43LTAuM2MyLjctMS4yLDQuNC0zLjYsNC40LTYuNGMwLTMuOS0zLjQtNy03LjUtN3MtNy41LDMuMS03LjUsN2MwLDIuOCwxLjcsNS4yLDQuNCw2LjQKCQkJCQkJCQlsMC43LDAuM0wxMDguOSwxMjQuOHoiLz4KCQkJCQkJPC9nPgoJCQkJCQk8cGF0aCBpZD0i55+p5b2iXzNfIiBjbGFzcz0ic3Q2IiBkPSJNNzAsNzZoODZjMi44LDAsNSwyLjIsNSw1bDAsMGMwLDIuOC0yLjIsNS01LDVINzBjLTIuOCwwLTUtMi4yLTUtNWwwLDAKCQkJCQkJCUM2NSw3OC4yLDY3LjIsNzYsNzAsNzZ6Ii8+CgoJCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLlvaLnirbnu5PlkIhfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMTU1LjAyNjMiIHkxPSItMi42NjY3IiB4Mj0iMTU1LjAyNjMiIHkyPSItMS42NzI3IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDc2IDAgMCA2NiAtMTE2NjkgMTkyKSI+CgkJCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRjNGNEY1Ii8+CgkJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRTZFOEVCIi8+CgkJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIhfMl8iIGNsYXNzPSJzdDciIGQ9Ik0xNDEuNSw1NC42YzAtMTYtMTIuOC0yOS0yOC41LTI5cy0yOC41LDEzLTI4LjUsMjlsMCwwdjI1LjhjMCwwLjktMi4xLDEuNi00LjgsMS42CgkJCQkJCQljLTIuNSwwLTQuNi0wLjctNC43LTEuNXYtMC4xVjU0LjZDNzUsMzMuMyw5MiwxNiwxMTMsMTZzMzgsMTcuMywzOCwzOC42bDAsMHYyNS44YzAsMC45LTIuMSwxLjYtNC44LDEuNnMtNC44LTAuNy00LjgtMS42CgkJCQkJCQlsMCwwVjU0LjZIMTQxLjV6Ii8+CgoJCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLlvaLnirbnu5PlkIhfNl8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMTUzLjc5MDMiIHkxPSItMy4yMzg1IiB4Mj0iMTUzLjc5MDMiIHkyPSItMi4yNTkyIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDYyIDAgMCA1NCAtOTQyMiAyMDEpIj4KCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNFN0U5RUIiLz4KCQkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNFN0U5RUIiLz4KCQkJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCQkJPHBhdGggaWQ9IuW9oueKtue7k+WQiF8zXyIgY2xhc3M9InN0OCIgZD0iTTgyLDU0LjVDODIuMywzOC4yLDk2LDI1LDExMywyNWMxNy4xLDAsMzEsMTMuNCwzMSwzMGgtMy4xYzAtMTQuOS0xMi41LTI3LTI3LjktMjcKCQkJCQkJCVM4NS4xLDQwLjEsODUuMSw1NXYyNEg4MlY1NVY1NC41eiBNMTQ0LDU1djI0aC0zLjFWNTVIMTQ0eiIvPgoJCQkJCQk8cGF0aCBpZD0i5b2i54q257uT5ZCIXzRfIiBjbGFzcz0ic3Q5IiBkPSJNODAsNzhjMi43LDAsNC45LTAuOCw1LTEuOVY3NnY0YzAsMS4xLTIuMiwyLTUsMmMtMi43LDAtNC45LTAuOC01LTEuOVY4MHYtNAoJCQkJCQkJQzc1LDc3LjEsNzcuMiw3OCw4MCw3OHoiLz4KCQkJCQkJPHBhdGggaWQ9IuW9oueKtue7k+WQiOWkh+S7vS0zIiBjbGFzcz0ic3Q5IiBkPSJNMTQ2LDc4YzIuNywwLDQuOS0wLjgsNS0xLjlWNzZ2NGMwLDEuMS0yLjIsMi01LDJjLTIuNywwLTQuOS0wLjgtNS0xLjlWODB2LTQKCQkJCQkJCUMxNDEsNzcuMSwxNDMuMiw3OCwxNDYsNzh6Ii8+CgkJCQkJPC9nPgoJCQkJPC9nPgoJCQk8L2c+CgkJPC9nPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=";var il=nl.src,rl=new Image;rl.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDgwIDI0MCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDgwIDI0MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOnVybCgjRmlsbC0xXzFfKTt9Cgkuc3Qxe2ZpbGw6I0M0QzZDQzt9Cgkuc3Qye2ZpbGw6dXJsKCPnn6nlvaItMl8xXyk7fQoJLnN0M3tmaWxsOnVybCgj55+p5b2iXzZfKTt9Cgkuc3Q0e2ZpbGw6I0RDREVFMDt9Cgkuc3Q1e2ZpbGw6I0QxRDNENjt9Cgkuc3Q2e2ZpbGw6dXJsKCPnn6nlvaItM18xXyk7fQoJLnN0N3tmaWxsOiNFNUU3RUM7fQoJLnN0OHtmaWxsOnVybCgj5LiJ6KeS5b2iXzFfKTt9Cgkuc3Q5e2ZpbGw6Izk3OUJBNTt9Cjwvc3R5bGU+CjxnIGlkPSLpobXpnaItMSI+Cgk8ZyBpZD0iRXhjZXB0aW9uX3gyRl/lvILluLjmj5DnpLoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NjkuMDAwMDAwLCAtMjkxOC4wMDAwMDApIj4KCQk8ZyBpZD0i5byC5bi45aSx6LSl57G7IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNTcuMDAwMDAwLCAyODIzLjAwMDAwMCkiPgoJCQk8ZyBpZD0i5byC5bi45aSx6LSl57G7LeaPkuWbviIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTEyLjAwMDAwMCwgOTUuMDAwMDAwKSI+CgkJCQk8ZyBpZD0i57yW57uELTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMy4wMDAwMDAsIDMzLjAwMDAwMCkiPgoJCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0iRmlsbC0xXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjEyNi41Njk5IiB5MT0iMTM0Ljk4ODkiIHgyPSIxMzAuMTYzOCIgeTI9IjE2OS4xODI3Ij4KCQkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0ZCRkNGRCIvPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRjJGNEY3Ii8+CgkJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCQk8cGF0aCBpZD0iRmlsbC0xIiBjbGFzcz0ic3QwIiBkPSJNNjAsMTQzYzE5LjMtNC4yLDQ4LjQtNS43LDY3LjMtNC43czM5LjQsMy44LDM5LjQsMy44czUuMy0yLjQsNC45LTEuNAoJCQkJCQljLTAuNCwwLjktMi45LDIuNC0xLjIsMi44YzEuNiwwLjUsMTguNSwyLjQsMjUuNCwzLjhjNywxLjQsMTAuMywyLjgsMTAuMywyLjhzNC42LTgsMTQuNy03LjFjMCwwLjgtMy43LDEuNy01LDMuOAoJCQkJCQljLTEuMiwyLjEtNCwzLjMtNCwzLjNzMi4yLTEuMiw1LjksMC42czcuMywyLjQsNy4zLDIuN3MtMS42LDQuMi0xNS4yLDEuNGMtNS41LTEuNC04LjIsNi4xLTM0LjksOHMtNzEuOCwzLjMtNzEuOCwzLjMKCQkJCQkJczIuMSwyLjgsNi4yLDMuOGMwLDAtMi45LDIuOC04LjYsMS45Yy01LjctMC45LTExLjktNS43LTExLjktNS43cy0xNS4yLTAuOS0yMC45LTEuOXMtMTIuMy0zLjMtMTYuOC0zLjhzLTI1LTIuOC0xNy4yLTgKCQkJCQkJQzMzLjgsMTUyLjQsNDAuNywxNDcuMyw2MCwxNDN6Ii8+CgkJCQkJPHBhdGggaWQ9IuW9oueKtue7k+WQiCIgY2xhc3M9InN0MSIgZD0iTTYwLjgsMTQ3djkuMkg3MHYxLjhINTl2LTExSDYwLjh6Ii8+CgkJCQkJPHBhdGggaWQ9IuW9oueKtue7k+WQiOWkh+S7vSIgY2xhc3M9InN0MSIgZD0iTTY2LDMxLjhoLTkuMlY0MUg1NXYtOS4ybDAsMFYzMGgxMVYzMS44eiIvPgoJCQkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIjlpIfku70tMiIgY2xhc3M9InN0MSIgZD0iTTE1Ny4yLDQxdi05LjJIMTQ4VjMwaDkuMmwwLDBoMS44djExSDE1Ny4yeiIvPgoKCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLnn6nlvaItMl8xXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxNjUuNzcyNyIgeTE9Ii0xLjU1OTciIHgyPSIxNjUuNzcyNyIgeTI9Ii0wLjYyMzgiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoODggMCAwIDExMiAtMTQ0ODAgMjE0KSI+CgkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNFQkVERjA7c3RvcC1vcGFjaXR5OjAuOTkxNyIvPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRTFFM0U2Ii8+CgkJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCQk8cGF0aCBpZD0i55+p5b2iLTIiIGNsYXNzPSJzdDIiIGQ9Ik02NSwzOGg4NmMwLjYsMCwxLDAuNCwxLDF2MTEwYzAsMC42LTAuNCwxLTEsMUg2NWMtMC42LDAtMS0wLjQtMS0xVjM5CgkJCQkJCUM2NCwzOC40LDY0LjQsMzgsNjUsMzh6Ii8+CgoJCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuefqeW9ol82XyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxNjQuODAxNCIgeTE9Ii0xLjgxNDQiIHgyPSIxNjQuODAxNCIgeTI9Ii0wLjgyNTkiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoNzMgMCAwIDk3IC0xMTkyMyAyMjEpIj4KCQkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0ZGRkZGRiIvPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRjJGNEY3Ii8+CgkJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCQk8cmVjdCBpZD0i55+p5b2iXzFfIiB4PSI3MSIgeT0iNDUiIGNsYXNzPSJzdDMiIHdpZHRoPSI3MyIgaGVpZ2h0PSI5NyIvPgoJCQkJCTxyZWN0IGlkPSLnn6nlvaJfMl8iIHg9Ijg2IiB5PSI0OSIgY2xhc3M9InN0NCIgd2lkdGg9IjQzIiBoZWlnaHQ9IjIiLz4KCQkJCQk8cmVjdCBpZD0i55+p5b2iXzNfIiB4PSI3MSIgeT0iMTQwIiBjbGFzcz0ic3Q1IiB3aWR0aD0iNzMiIGhlaWdodD0iMiIvPgoKCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLnn6nlvaItM18xXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxNjAuODI1NiIgeTE9Ii0xMS43MzMzIiB4Mj0iMTYwLjgyNTYiIHkyPSItMTAuNzQxMiIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCg0MyAwIDAgMTUgLTY4MDggMjEwKSI+CgkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNFREVGRjIiLz4KCQkJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0U4RUFFRCIvPgoJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJPHJlY3QgaWQ9IuefqeW9oi0zIiB4PSI4NiIgeT0iMzQiIGNsYXNzPSJzdDYiIHdpZHRoPSI0MyIgaGVpZ2h0PSIxNSIvPgoJCQkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIhfMV8iIGNsYXNzPSJzdDUiIGQ9Ik0xNTIsMTA1djQ0YzAsMC42LTAuNCwxLTEsMWgtMjQuNkwxNTIsMTA1eiIvPgoJCQkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIhfMl8iIGNsYXNzPSJzdDciIGQ9Ik0xNDQsMTE5LjJWMTQwaC0xMkwxNDQsMTE5LjJ6Ii8+CgoJCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuS4ieinkuW9ol8xXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxNjMuOTE0MyIgeTE9Ii0zLjA4MTIiIHgyPSIxNjMuOTE0MyIgeTI9Ii0yLjE0NTMiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoNjMuMTc5OSAwIDAgNTYuOTAzMyAtMTAxOTguMTcxOSAyNzcuMDk0NSkiPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRTZFOEVCO3N0b3Atb3BhY2l0eTowLjk5MTciLz4KCQkJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0Q0RDZEOSIvPgoJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJPHBhdGggaWQ9IuS4ieinkuW9oiIgY2xhc3M9InN0OCIgZD0iTTE1OS43LDEwMi4xbDEuNSwyLjZsMCwwbDI4LjEsNTAuM2MwLjUsMSwwLjIsMi4yLTAuOCwyLjdjLTAuMywwLjItMC42LDAuMy0xLDAuM2gtNTkuMgoJCQkJCQljLTEuMSwwLTItMC45LTItMmMwLTAuMywwLjEtMC43LDAuMy0xbDI5LjYtNTIuOWMwLjUtMSwxLjgtMS4zLDIuNy0wLjhDMTU5LjMsMTAxLjUsMTU5LjYsMTAxLjgsMTU5LjcsMTAyLjF6Ii8+CgkJCQkJPHBhdGggaWQ9Il94MjFfIiBjbGFzcz0ic3Q5IiBkPSJNMTYwLjcsMTI0bC0wLjYsMTYuNGgtNC4ybC0wLjYtMTYuNEMxNTUuMywxMjQsMTYwLjcsMTI0LDE2MC43LDEyNHogTTE1NSwxNDUuOAoJCQkJCQljMC0wLjksMC4zLTEuNiwwLjktMi4yczEuMy0wLjgsMi4xLTAuOGMwLjksMCwxLjYsMC4zLDIuMSwwLjhjMC42LDAuNiwwLjgsMS4zLDAuOCwyLjFzLTAuMywxLjYtMC44LDIuMQoJCQkJCQljLTAuNiwwLjYtMS4yLDAuOS0yLDAuOWMtMSwwLTEuNy0wLjMtMi4zLTAuOUMxNTUuMywxNDcuMywxNTUsMTQ2LjYsMTU1LDE0NS44eiIvPgoJCQkJCTxnIGlkPSLnvJbnu4QtMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAxLjAwMDAwMCwgNzQuMDAwMDAwKSI+CgkJCQkJCTxyZWN0IGlkPSLnn6nlvaJfNF8iIGNsYXNzPSJzdDEiIHdpZHRoPSIzLjgiIGhlaWdodD0iMSIvPgoJCQkJCQk8cmVjdCBpZD0i55+p5b2i5aSH5Lu9IiB4PSI3LjYiIGNsYXNzPSJzdDEiIHdpZHRoPSIzLjgiIGhlaWdodD0iMSIvPgoJCQkJCQk8cmVjdCBpZD0i55+p5b2i5aSH5Lu9LTIiIHg9IjE1LjEiIGNsYXNzPSJzdDEiIHdpZHRoPSIzLjgiIGhlaWdodD0iMSIvPgoJCQkJCQk8cmVjdCBpZD0i55+p5b2i5aSH5Lu9LTMiIHg9IjIyLjciIGNsYXNzPSJzdDEiIHdpZHRoPSIzLjgiIGhlaWdodD0iMSIvPgoJCQkJCQk8cmVjdCBpZD0i55+p5b2i5aSH5Lu9LTQiIHg9IjMwLjIiIGNsYXNzPSJzdDEiIHdpZHRoPSIzLjgiIGhlaWdodD0iMSIvPgoJCQkJCTwvZz4KCQkJCQk8ZyBpZD0i57yW57uELTNfMV8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyNC4wMDAwMDAsIDkxLjAwMDAwMCkiPgoJCQkJCQk8cmVjdCBpZD0i55+p5b2iXzVfIiB4PSI3LjgiIGNsYXNzPSJzdDEiIHdpZHRoPSIzLjkiIGhlaWdodD0iMSIvPgoJCQkJCQk8cmVjdCBpZD0i55+p5b2i5aSH5Lu9LTUiIGNsYXNzPSJzdDEiIHdpZHRoPSIzLjkiIGhlaWdodD0iMSIvPgoJCQkJCQk8cmVjdCBpZD0i55+p5b2i5aSH5Lu9XzFfIiB4PSIxNS42IiBjbGFzcz0ic3QxIiB3aWR0aD0iMy45IiBoZWlnaHQ9IjEiLz4KCQkJCQkJPHJlY3QgaWQ9IuefqeW9ouWkh+S7vS0yXzFfIiB4PSIyMy41IiBjbGFzcz0ic3QxIiB3aWR0aD0iMy45IiBoZWlnaHQ9IjEiLz4KCQkJCQkJPHJlY3QgaWQ9IuefqeW9ouWkh+S7vS0zXzFfIiB4PSIzMS4zIiBjbGFzcz0ic3QxIiB3aWR0aD0iMy45IiBoZWlnaHQ9IjEiLz4KCQkJCQkJPHJlY3QgaWQ9IuefqeW9ouWkh+S7vS00XzFfIiB4PSIzOS4xIiBjbGFzcz0ic3QxIiB3aWR0aD0iMy45IiBoZWlnaHQ9IjEiLz4KCQkJCQk8L2c+CgkJCQk8L2c+CgkJCTwvZz4KCQk8L2c+Cgk8L2c+CjwvZz4KPC9zdmc+Cg==";var ol=rl.src,al=new Image;al.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDgwIDI0MCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDgwIDI0MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOnVybCgjRmlsbC0xXzFfKTt9Cgkuc3Qxe2ZpbGw6dXJsKCPot6/lvoQtM18xXyk7fQoJLnN0MntmaWxsOnVybCgj5b2i54q257uT5ZCIXzJfKTt9Cgkuc3Qze2ZpbGw6I0M0QzZDQzt9Cjwvc3R5bGU+CjxsaW5lYXJHcmFkaWVudCBpZD0iRmlsbC0xXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjI0MS40NDI3IiB5MT0iODQuOTYwMSIgeDI9IjI0Ny41MTg0IiB5Mj0iNTAuNTAyOCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAtMSAwIDI0MCkiPgoJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0ZCRkNGRCIvPgoJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0YwRjJGNSIvPgo8L2xpbmVhckdyYWRpZW50Pgo8cGF0aCBpZD0iRmlsbC0xIiBjbGFzcz0ic3QwIiBkPSJNMTg4LDE2NC43YzE2LjMtMy43LDM5LjctNS4zLDU1LjYtNC41czI5LjEsMy42LDMwLDIuOWMzLjItMi4xLDEwLTMsOS42LTIuMgoJYy0wLjMsMC44LTQuNywzLjQtMy4zLDMuOGMxLjQsMC40LDE1LjYsMiwyMS41LDMuM2M1LjksMS4yLDkuNywyLjQsMTEsMi40czMuMy0xLjcsMTEuOC0wLjljMC4yLDAuMy0xLjksMC40LTMuOCwxLjQKCXMtMy4zLDAuOS0zLjMsMS4xczEuMS0wLjMsMy4zLDEuMWMyLjIsMS40LDYuMSwxLjksNi4xLDIuMnMtNC45LDItMTMuMi0wLjZjLTIuMS0wLjctNyw1LjEtMjkuNSw2LjdzLTYwLjUsMi45LTYwLjUsMi45CglzMi4zLDIuOSw1LjYsMy44YzAuMiwwLjMtMS4zLDEuNC03LjgsMC4ycy05LjktMy45LTkuOS0zLjlzLTEyLjgtMC44LTE3LjYtMS42cy0xMC40LTIuOS0xNC4yLTMuM2MtMy44LTAuNC0yMS4xLTIuNC0xNC41LTYuOQoJQzE2NC43LDE3Mi41LDE3MS43LDE2OC40LDE4OCwxNjQuN3oiLz4KPGxpbmVhckdyYWRpZW50IGlkPSLot6/lvoQtM18xXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI0MTIuNTYwNiIgeTE9Ii0zLjExMzMiIHgyPSI0MTIuNTYwNiIgeTI9Ii0yLjE3NzMiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMTA1LjYgMCAwIDU2LjMyIC00MzMyNi40MDIzIDI3OC40MDAxKSI+Cgk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRTZFOEVCO3N0b3Atb3BhY2l0eTowLjk5MTciLz4KCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNENEQ2RDkiLz4KPC9saW5lYXJHcmFkaWVudD4KPHBvbHlnb24gaWQ9Iui3r+W+hC0zIiBjbGFzcz0ic3QxIiBwb2ludHM9IjE4Ny4yLDEzNy42IDIxMC43LDEwMi40IDI2OS4zLDEwMi40IDI5Mi44LDEzNy42IDI5Mi44LDE1OC43IDE4Ny4yLDE1OC43ICIvPgo8bGluZWFyR3JhZGllbnQgaWQ9IuW9oueKtue7k+WQiF8yXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI0MTIuNTYwNiIgeTE9Ii01IiB4Mj0iNDEyLjU2MDYiIHkyPSItNC4wMDc5IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEwNS42IDAgMCAzNS4yIC00MzMyNi40MDIzIDMxMy42MDA0KSI+Cgk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRURFRkYyIi8+Cgk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRThFQUVEIi8+CjwvbGluZWFyR3JhZGllbnQ+CjxwYXRoIGlkPSLlvaLnirbnu5PlkIgiIGNsYXNzPSJzdDIiIGQ9Ik0yMTIuNiwxNzIuOGgtMjMuNGMtMS4xLDAtMi0wLjktMi0ydi0zMy4yaDIzLjRjMS4xLDAsMiwwLjksMiwydjcuNGMwLDEuMSwwLjgsMS45LDEuOSwyCgloMC4xaDUwLjhjMS4xLDAsMS45LTAuOCwyLTEuOVYxNDd2LTcuNGMwLTEuMSwwLjktMiwyLTJoMjMuNHYzMy4yYzAsMS4xLTAuOSwyLTIsMmgtMjMuNEgyMTIuNnoiLz4KPHBhdGggaWQ9IuW9oueKtue7k+WQiF8xXyIgY2xhc3M9InN0MyIgZD0iTTE4Mi40LDE2OS42djhoOHYxLjZoLTkuNnYtOS42SDE4Mi40eiIvPgo8cGF0aCBpZD0i5b2i54q257uT5ZCI5aSH5Lu9IiBjbGFzcz0ic3QzIiBkPSJNMjg5LjYsMTc3LjZoOHYtOGgxLjZ2OS42aC05LjZWMTc3LjZ6Ii8+CjxnIGlkPSLnvJbnu4QtNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTEuNjg4ODkwLCAxMS44NzQ5MzYpIHJvdGF0ZSgyMS4wMDAwMDApIHRyYW5zbGF0ZSgtOTEuNjg4ODkwLCAtMTEuODc0OTM2KSB0cmFuc2xhdGUoOTAuODg4ODkwLCAwLjY3NDkzNikiPgoKCQk8cmVjdCBpZD0i55+p5b2iXzFfIiB4PSIxODMuMSIgeT0iMjQuNSIgdHJhbnNmb3JtPSJtYXRyaXgoNS40NDk4OTllLTA2IDEgLTEgNS40NDk4OTllLTA2IDIwOS45Mzc5IC0xNTkuMzkzOCkiIGNsYXNzPSJzdDMiIHdpZHRoPSIzLjIiIGhlaWdodD0iMS42Ii8+CgoJCTxyZWN0IGlkPSLnn6nlvaLlpIfku70tNiIgeD0iMTgzLjEiIHk9IjMwLjkiIHRyYW5zZm9ybT0ibWF0cml4KDUuNDQ5ODk4ZS0wNiAxIC0xIDUuNDQ5ODk4ZS0wNiAyMTYuMzM3OCAtMTUyLjk5MzkpIiBjbGFzcz0ic3QzIiB3aWR0aD0iMy4yIiBoZWlnaHQ9IjEuNiIvPgoKCQk8cmVjdCBpZD0i55+p5b2i5aSH5Lu9LTciIHg9IjE4My4xIiB5PSIzNy4zIiB0cmFuc2Zvcm09Im1hdHJpeCg1LjQ0OTg5OGUtMDYgMSAtMSA1LjQ0OTg5OGUtMDYgMjIyLjczNzkgLTE0Ni41OTM5KSIgY2xhc3M9InN0MyIgd2lkdGg9IjMuMiIgaGVpZ2h0PSIxLjYiLz4KCgkJPHJlY3QgaWQ9IuefqeW9ouWkh+S7vS04IiB4PSIxODMuMSIgeT0iNDMuNyIgdHJhbnNmb3JtPSJtYXRyaXgoNS40NDk4OTllLTA2IDEgLTEgNS40NDk4OTllLTA2IDIyOS4xMzc5IC0xNDAuMTkzOSkiIGNsYXNzPSJzdDMiIHdpZHRoPSIzLjIiIGhlaWdodD0iMS42Ii8+CjwvZz4KPGcgaWQ9Iue8lue7hC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNi4wMDAwMDAsIDI3LjIwMDAwMCkgcm90YXRlKC0zMi4wMDAwMDApIHRyYW5zbGF0ZSgtMzYuMDAwMDAwLCAtMjcuMjAwMDAwKSB0cmFuc2xhdGUoMzUuMjAwMDAwLCAxMi44MDAwMDApIj4KCgkJPHJlY3QgaWQ9IuefqeW9ol8yXyIgeD0iOTEuNyIgeT0iMTYxLjEiIHRyYW5zZm9ybT0ibWF0cml4KC0xIDUuNDI2MzM3ZS0wNiAtNS40MjYzMzdlLTA2IC0xIDE4NS4wNzUzIDMyNS40NDM4KSIgY2xhc3M9InN0MyIgd2lkdGg9IjEuNiIgaGVpZ2h0PSIzLjIiLz4KCgkJPHJlY3QgaWQ9IuefqeW9ouWkh+S7vS0yIiB4PSI5MS43IiB5PSIxNjcuNSIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgNS40MjYzMzZlLTA2IC01LjQyNjMzNmUtMDYgLTEgMTg1LjA3NTUgMzM4LjI0MzgpIiBjbGFzcz0ic3QzIiB3aWR0aD0iMS42IiBoZWlnaHQ9IjMuMiIvPgoKCQk8cmVjdCBpZD0i55+p5b2i5aSH5Lu9LTMiIHg9IjkxLjciIHk9IjE3My45IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSA1LjQyNjMzNmUtMDYgLTUuNDI2MzM2ZS0wNiAtMSAxODUuMDc1NSAzNTEuMDQzOSkiIGNsYXNzPSJzdDMiIHdpZHRoPSIxLjYiIGhlaWdodD0iMy4yIi8+CgoJCTxyZWN0IGlkPSLnn6nlvaLlpIfku70tNCIgeD0iOTEuNyIgeT0iMTgwLjMiIHRyYW5zZm9ybT0ibWF0cml4KC0xIDUuNDI2MzM2ZS0wNiAtNS40MjYzMzZlLTA2IC0xIDE4NS4wNzU1IDM2My44NDM4KSIgY2xhc3M9InN0MyIgd2lkdGg9IjEuNiIgaGVpZ2h0PSIzLjIiLz4KCgkJPHJlY3QgaWQ9IuefqeW9ouWkh+S7vS01IiB4PSI5MS43IiB5PSIxODYuNyIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgNS40MjYzMzdlLTA2IC01LjQyNjMzN2UtMDYgLTEgMTg1LjA3NTUgMzc2LjY0MzgpIiBjbGFzcz0ic3QzIiB3aWR0aD0iMS42IiBoZWlnaHQ9IjMuMiIvPgo8L2c+CjxjaXJjbGUgaWQ9IuakreWchuW9oiIgY2xhc3M9InN0MyIgY3g9IjI2OC44IiBjeT0iOTQuNCIgcj0iMS42Ii8+CjxjaXJjbGUgaWQ9IuakreWchuW9ouWkh+S7vSIgY2xhc3M9InN0MyIgY3g9IjIyNy4yIiBjeT0iMTIwIiByPSIxLjYiLz4KPC9zdmc+Cg==";var sl=al.src,ll=new Image;ll.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDgwIDI0MCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDgwIDI0MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOnVybCgjRmlsbC0xXzFfKTt9Cgkuc3Qxe2ZpbGw6I0M0QzZDQzt9Cgkuc3Qye2ZpbGw6dXJsKCPnn6nlvaItMl8xXyk7fQoJLnN0M3tmaWxsOnVybCgj55+p5b2iXzZfKTt9Cgkuc3Q0e2ZpbGw6I0RDREVFMDt9Cgkuc3Q1e2ZpbGw6I0QxRDNENjt9Cgkuc3Q2e2ZpbGw6dXJsKCPnn6nlvaItM18xXyk7fQoJLnN0N3tmaWxsOiNFNUU3RUM7fQoJLnN0OHtmaWxsOiNEQ0RERTA7fQoJLnN0OXtmaWxsOnVybCgj6Lev5b6ELTEzXzFfKTt9Cgkuc3QxMHtmaWxsOnVybCgj5qSt5ZyG5b2iXzNfKTtzdHJva2U6dXJsKCPmpK3lnIblvaJfNF8pO30KCS5zdDExe2ZpbGw6dXJsKCPmpK3lnIblvaJfNV8pO3N0cm9rZTp1cmwoI+akreWchuW9ol82Xyk7fQoJLnN0MTJ7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGcgaWQ9Iumhtemdoi0xIj4KCTxnIGlkPSJFeGNlcHRpb25feDJGX+W8guW4uOaPkOekuiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg2OS4wMDAwMDAsIC0yOTE4LjAwMDAwMCkiPgoJCTxnIGlkPSLmkJzntKLkuLrnqboiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg2OS4wMDAwMDAsIDI5MTguMDAwMDAwKSI+CgkJCTxsaW5lYXJHcmFkaWVudCBpZD0iRmlsbC0xXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjI0My4wNDY0IiB5MT0iMTY3Ljk3OTMiIHgyPSIyNDUuODA3MSIgeTI9IjE5NC4yNDU2Ij4KCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGQkZDRkQiLz4KCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGMkY0RjciLz4KCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJPHBhdGggaWQ9IkZpbGwtMSIgY2xhc3M9InN0MCIgZD0iTTE5My4xLDE3NC4yYzE0LjgtMy4zLDM2LTQuOCw1MC41LTQuMWMxNC40LDAuNywyNi40LDMuMywyNy4zLDIuN2MyLjktMS45LDktMi44LDguNy0yCgkJCQljLTAuMywwLjctNC4zLDMuMS0zLDMuNGMxLjMsMC40LDE0LjEsMS45LDE5LjUsM2M1LjMsMS4xLDguOCwyLjIsOS45LDIuMmMxLjIsMCwzLTEuNiwxMC43LTAuOGMwLjEsMC4zLTEuNywwLjQtMy40LDEuMwoJCQkJYy0xLjcsMC45LTMsMC44LTMsMXMxLTAuMywzLDFzNS41LDEuNyw1LjUsMnMtNC41LDEuOC0xMi0wLjZjLTEuOS0wLjYtNi4zLDQuNi0yNi44LDYuMXMtNTUsMi42LTU1LDIuNnMyLjEsMi43LDUuMSwzLjQKCQkJCWMwLjIsMC4zLTEuMiwxLjMtNy4xLDAuMmMtNS45LTEuMS05LTMuNi05LTMuNnMtMTEuNi0wLjctMTYtMS41Yy00LjQtMC43LTkuNC0yLjYtMTIuOS0zcy0xOS4yLTIuMi0xMy4yLTYuMwoJCQkJQzE3MiwxODEuMiwxNzguMywxNzcuNSwxOTMuMSwxNzQuMnoiLz4KCQkJPHBhdGggaWQ9IuW9oueKtue7k+WQiCIgY2xhc3M9InN0MSIgZD0iTTE5My4xLDE3Ny40djkuNGg5LjR2MS45aC0xMS4ydi0xMS4yTDE5My4xLDE3Ny40TDE5My4xLDE3Ny40eiIvPgoJCQk8cGF0aCBpZD0i5b2i54q257uT5ZCI5aSH5Lu9IiBjbGFzcz0ic3QxIiBkPSJNMjAwLjYsNjQuOWgtOS40djkuNGgtMS45di05LjRsMCwwVjYzaDExLjJMMjAwLjYsNjQuOUwyMDAuNiw2NC45eiIvPgoJCQk8cGF0aCBpZD0i5b2i54q257uT5ZCI5aSH5Lu9LTIiIGNsYXNzPSJzdDEiIGQ9Ik0yODguOCw3NC4ydi05LjRoLTkuNFY2M2g5LjRsMCwwaDEuOXYxMS4ySDI4OC44eiIvPgoKCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i55+p5b2iLTJfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iNDExLjY3NjgiIHkxPSItMS42MDY2IiB4Mj0iNDExLjY3NjgiIHkyPSItMC42NzA3IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDg2LjI1IDAgMCAxMDguNzUgLTM1MjY3LjEyNSAyNDYuNSkiPgoJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0VCRURGMDtzdG9wLW9wYWNpdHk6MC45OTE3Ii8+CgkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRTFFM0U2Ii8+CgkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCTxwYXRoIGlkPSLnn6nlvaItMiIgY2xhc3M9InN0MiIgZD0iTTE5Ny45LDcwLjVoODQuMmMwLjYsMCwxLDAuNCwxLDF2MTA2LjhjMCwwLjYtMC40LDEtMSwxaC04NC4yYy0wLjYsMC0xLTAuNC0xLTFWNzEuNQoJCQkJQzE5Ni45LDcwLjksMTk3LjMsNzAuNSwxOTcuOSw3MC41eiIvPgoKCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i55+p5b2iXzZfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjQxMC42NjE0IiB5MT0iLTEuODc3MyIgeDI9IjQxMC42NjE0IiB5Mj0iLTAuODg4OCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCg3MS4yNSAwIDAgOTMuNzUgLTI5MDE5LjYyNSAyNTQpIj4KCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRkZGRkYiLz4KCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGMkY0RjciLz4KCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJPHJlY3QgaWQ9IuefqeW9ol8xXyIgeD0iMjA0LjQiIHk9Ijc4IiBjbGFzcz0ic3QzIiB3aWR0aD0iNzEuMiIgaGVpZ2h0PSI5My44Ii8+CgkJCTxyZWN0IGlkPSLnn6nlvaJfMl8iIHg9IjIxOS40IiB5PSI4MS44IiBjbGFzcz0ic3Q0IiB3aWR0aD0iNDEuMiIgaGVpZ2h0PSIxLjkiLz4KCQkJPHJlY3QgaWQ9IuefqeW9ol8zXyIgeD0iMjA0LjQiIHk9IjE3MS44IiBjbGFzcz0ic3Q1IiB3aWR0aD0iNzEuMiIgaGVpZ2h0PSIxLjkiLz4KCgkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuefqeW9oi0zXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjQwNi40MTUyIiB5MT0iLTExLjczMzQiIHgyPSI0MDYuNDE1MiIgeTI9Ii0xMC43NDEzIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQxLjI1IDAgMCAxNSAtMTY1MjQuNjI1IDI0Mi43NSkiPgoJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0VERUZGMiIvPgoJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0U4RUFFRCIvPgoJCQk8L2xpbmVhckdyYWRpZW50PgoJCQk8cmVjdCBpZD0i55+p5b2iLTMiIHg9IjIxOS40IiB5PSI2Ni44IiBjbGFzcz0ic3Q2IiB3aWR0aD0iNDEuMiIgaGVpZ2h0PSIxNSIvPgoJCQk8ZyBpZD0i57yW57uELTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyMy4xMjUwMDAsIDk4LjYyNTAwMCkiPgoJCQkJPHJlY3QgaWQ9IuefqeW9ol80XyIgY2xhc3M9InN0MSIgd2lkdGg9IjMuOCIgaGVpZ2h0PSIxLjkiLz4KCQkJCTxyZWN0IGlkPSLnn6nlvaLlpIfku70iIHg9IjcuNSIgY2xhc3M9InN0MSIgd2lkdGg9IjMuOCIgaGVpZ2h0PSIxLjkiLz4KCQkJCTxyZWN0IGlkPSLnn6nlvaLlpIfku70tMiIgeD0iMTUiIGNsYXNzPSJzdDEiIHdpZHRoPSIzLjgiIGhlaWdodD0iMS45Ii8+CgkJCQk8cmVjdCBpZD0i55+p5b2i5aSH5Lu9LTMiIHg9IjIyLjUiIGNsYXNzPSJzdDEiIHdpZHRoPSIzLjgiIGhlaWdodD0iMS45Ii8+CgkJCQk8cmVjdCBpZD0i55+p5b2i5aSH5Lu9LTQiIHg9IjMwIiBjbGFzcz0ic3QxIiB3aWR0aD0iMy44IiBoZWlnaHQ9IjEuOSIvPgoJCQk8L2c+CgkJCTxnIGlkPSLnvJbnu4QtNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI4Ljc1MDAwMCwgMTEzLjYyNTAwMCkiPgoJCQkJPGNpcmNsZSBpZD0i5qSt5ZyG5b2iIiBjbGFzcz0ic3Q3IiBjeD0iMjQuNCIgY3k9IjI2LjIiIHI9IjI0LjQiLz4KCQkJCTxwYXRoIGlkPSLot6/lvoQtMTIiIGNsYXNzPSJzdDciIGQ9Ik0zOSw0NWwzLjEsMy4yYy0wLjYsMC44LTAuNiwxLjUsMCwyLjJzMi4yLDIuNSw0LjcsNS4zdi03LjVsLTYuMS01TDM5LDQ1eiIvPgoKCQkJCQk8ZyBpZD0i57yW57uELTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUwLjIyNjMxNywgNTEuNzA5MDc3KSByb3RhdGUoLTQ1LjAwMDAwMCkgdHJhbnNsYXRlKC01MC4yMjYzMTcsIC01MS43MDkwNzcpIHRyYW5zbGF0ZSg0NC42MDEzMTcsIDM2LjcwOTA3NykiPgoKCQkJCQkJPHJlY3QgaWQ9IuefqeW9ol81XyIgeD0iMy44IiB5PSIwIiB0cmFuc2Zvcm09Im1hdHJpeCgtMSA1LjA3MDM2M2UtMDYgLTUuMDcwMzYzZS0wNiAtMSAxMS40IDkuMzUpIiBjbGFzcz0ic3Q4IiB3aWR0aD0iMy43IiBoZWlnaHQ9IjkuNCIvPgoKCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLot6/lvoQtMTNfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iLTEwOS4zOTE1IiB5MT0iLTU1LjkzODMiIHgyPSItMTA5LjU1NzgiIHkyPSItNTUuODkwNSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCg5LjIxMjkgMCAwIDIyLjUgMTAxMy45Mjg1IDEyNzcuMjgxKSI+CgkJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNEN0Q4REIiLz4KCQkJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0JFQkZDMiIvPgoJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJPHBhdGggaWQ9Iui3r+W+hC0xMyIgY2xhc3M9InN0OSIgZD0iTTMuNyw1LjdoNGMwLjUsMCwxLDAuNCwxLDAuOWwxLjUsMjAuNWMwLDAuNi0wLjQsMS0wLjksMS4xYzAsMCwwLDAtMC4xLDBIMgoJCQkJCQljLTAuNiwwLTEtMC40LTEtMXYtMC4xTDIuNyw2LjZDMi43LDYuMSwzLjIsNS43LDMuNyw1Ljd6Ii8+CgkJCQk8L2c+CgkJCQk8ZyBpZD0i57yW57uELTUiPgoKCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLmpK3lnIblvaJfM18iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iLTQ5LjcxMTUiIHkxPSItMy42ODU5IiB4Mj0iLTQ5LjcxMTUiIHkyPSItMi42ODU5IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQ3Ljc1IDAgMCA0Ny43NSAyMzk4LjEyNSAxNzYuNSkiPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxLjUzMDgyOGUtMDMiIHN0eWxlPSJzdG9wLWNvbG9yOiNERERFRTAiLz4KCQkJCQkJPHN0b3AgIG9mZnNldD0iMC45OTgiIHN0eWxlPSJzdG9wLWNvbG9yOiNDM0M1QzciLz4KCQkJCQk8L2xpbmVhckdyYWRpZW50PgoKCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLmpK3lnIblvaJfNF8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iLTQ5LjcxMTUiIHkxPSItMy42ODU4IiB4Mj0iLTQ5LjcxMTUiIHkyPSItMi43MDU0IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQ3Ljc1IDAgMCA0Ny43NSAyMzk4LjEyNSAxNzYuNSkiPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRERERUUwIi8+CgkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNCRUMwQzIiLz4KCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCTxjaXJjbGUgaWQ9IuakreWchuW9ol8xXyIgY2xhc3M9InN0MTAiIGN4PSIyNC40IiBjeT0iMjQuNCIgcj0iMjMuOSIvPgoKCQkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLmpK3lnIblvaJfNV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iLTUyLjM5NjYiIHkxPSItNC44MjIiIHgyPSItNTIuMzk2NiIgeTI9Ii0zLjgzOCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgzNi41IDAgMCAzNi41IDE5MzYuODc1IDE4Mi4xMjUpIj4KCQkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0ZFRkVGRSIvPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRjJGNEY3Ii8+CgkJCQkJPC9saW5lYXJHcmFkaWVudD4KCgkJCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i5qSt5ZyG5b2iXzZfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9Ii01Mi4zOTY2IiB5MT0iLTQuODIyIiB4Mj0iLTUyLjM5NjYiIHkyPSItMy44Mzk4IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDM2LjUgMCAwIDM2LjUgMTkzNi44NzUgMTgyLjEyNSkiPgoJCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRjNGNEY1Ii8+CgkJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGM0Y1RjciLz4KCQkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJCTxjaXJjbGUgaWQ9IuakreWchuW9ol8yXyIgY2xhc3M9InN0MTEiIGN4PSIyNC40IiBjeT0iMjQuNCIgcj0iMTguMiIvPgoJCQkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIhfMV8iIGNsYXNzPSJzdDEyIiBkPSJNMjMuNSwxMi4zYzUuOCwwLDEwLjksMy4zLDEzLjQsOC4yYy0yLjUtMS42LTUuNS0yLjYtOC43LTIuNmMtNCwwLTcuNywxLjUtMTAuNSw0CgkJCQkJCUwxNCwxNS43QzE2LjYsMTMuNiwxOS45LDEyLjMsMjMuNSwxMi4zeiIvPgoJCQkJPC9nPgoJCQkJPHBvbHlnb24gaWQ9Iui3r+W+hC0xNCIgY2xhc3M9InN0NSIgcG9pbnRzPSI0Ni45LDUzLjQgNDYuOSw1NS42IDU0LjQsNjQuNCA1NC40LDYyLjMgCQkJCSIvPgoJCQk8L2c+CgkJPC9nPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=";var ul=ll.src,cl=new Image;cl.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8yXzFfIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDgwIDI0MCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDgwIDI0MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOnVybCgj5b2i54q257uT5ZCIXzNfKTt9Cgkuc3Qxe2ZpbGw6dXJsKCPlvaLnirbnu5PlkIhfN18pO30KCS5zdDJ7ZmlsbDojQzRDNkNDO30KCS5zdDN7ZmlsbDp1cmwoI+W9oueKtue7k+WQiF85Xyk7fQoJLnN0NHtmaWxsOnVybCgj5b2i54q257uT5ZCIXzEwXyk7ZmlsbC1vcGFjaXR5OjAuNjt9Cgkuc3Q1e2ZpbGw6dXJsKCPlvaLnirbnu5PlkIhfMTFfKTt9Cgkuc3Q2e2ZpbGw6dXJsKCPot6/lvoQtM18xXyk7fQoJLnN0N3tmaWxsOnVybCgj5b2i54q257uT5ZCIXzEyXyk7fQoJLnN0OHtmaWxsOnVybCgj6Lev5b6ELTNfNF8pO30KCS5zdDl7ZmlsbDp1cmwoI+W9oueKtue7k+WQiF8xM18pO30KCS5zdDEwe2ZpbGw6dXJsKCPlvaLnirbnu5PlkIhfMTVfKTt9Cgkuc3QxMXtmaWxsOiM5NzlCQTU7fQoJLnN0MTJ7ZmlsbDp1cmwoI1NWR0lEXzFfKTt9Cgkuc3QxM3tmaWxsOnVybCgjU1ZHSURfMl8pO30KCS5zdDE0e2ZpbGw6dXJsKCPlvaLnirbnu5PlkIhfMTZfKTt9Cgkuc3QxNXtmaWxsOnVybCgj5b2i54q257uT5ZCI5aSH5Lu9LTJfMl8pO30KCS5zdDE2e2ZpbGw6IzM0MzQzNDtmaWxsLW9wYWNpdHk6MC4xO30KPC9zdHlsZT4KPGcgaWQ9Iumhtemdoi0xIj4KCTxnIGlkPSJFeGNlcHRpb25feDJGX+W8guW4uOaPkOekul94MkZf54Gw55m95a+55q+UIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtOTI0LjAwMDAwMCwgLTcwNy4wMDAwMDApIj4KCQk8ZyBpZD0i6ZyA6KaB55m75b2VIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MjQuMDAwMDAwLCA3MDcuMDAwMDAwKSI+CgoJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLlvaLnirbnu5PlkIhfM18iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMTAxOS45MDA2IiB5MT0iLTguMzM1NCIgeDI9IjEwMTkuOTAwNiIgeTI9Ii03LjMzNjciIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMjAwLjAyNTcgMCAwIDU4LjMwNDcgLTIwMzc1OS41NDY5IDY2My45OTQ0KSI+CgkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRjVGNkY3Ii8+CgkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRjdGOUZDIi8+CgkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIhfMzBfIiBjbGFzcz0ic3QwIiBkPSJNMjQ5LjYsMTc4djguN2MwLDIuNSwyLjEsNC42LDQuNiw0LjZzNC41LDEuOSw0LjYsNC40djAuMnYwLjkKCQkJCWMxLjEtMC41LDIuMy0wLjgsMy41LTAuOGM0LjMsMCw3LjgsMy4yLDguNCw3LjNjMS0wLjgsMi4yLTEuMywzLjYtMS4zYzEuMiwwLDIuMywwLjQsMy4yLDFjMi4zLTQuMiw2LjctNywxMS44LTcKCQkJCWM3LjIsMCwxMyw1LjYsMTMuNSwxMi43YzQuOSwwLjcsMTAuMSwxLjUsMTMuMywyLjFjNy4yLDEuNSwxMS44LDMsMTMuNCwzczQtMi4xLDE0LjUtMS4xYzAuMiwwLjQtMi4zLDAuNS00LjcsMS43cy00LDEuMS00LDEuNAoJCQkJczEuMy0wLjQsNCwxLjNzNy41LDIuMyw3LjUsMi44cy02LjEsMi40LTE2LjItMC44Yy0yLjYtMC44LTguNiw2LjItMzYuMSw4LjJjLTI3LjYsMi03NC4yLDMuNS03NC4yLDMuNXMyLjgsMy42LDYuOSw0LjYKCQkJCWMwLjIsMC40LTEuNiwxLjctOS42LDAuMmMtNy45LTEuNS0xMi4yLTQuOC0xMi4yLTQuOHMtMTUuNy0xLTIxLjYtMmMtNS45LTEtMTIuNy0zLjUtMTcuNC00cy0yNS45LTMtMTcuOC04LjUKCQkJCWMwLDAsNy4yLTQuMiwyMy42LTguM2MyLTMuNSw1LjctNS45LDEwLjEtNS45YzIuNywwLDUuMiwwLjksNy4xLDIuNWMxLjQtMC4yLDIuOS0wLjQsNC40LTAuNmMxLjItMS4xLDIuOC0xLjgsNC41LTEuOAoJCQkJYzEuMiwwLDIuMywwLjMsMy4yLDAuOWwwLjUtMC4xYzEtMy45LDQuNS02LjgsOC43LTYuOGMyLjgsMCw1LjQsMS4zLDcsMy4zdi0yLjhjMC0yLjksMi40LTUuMyw1LjMtNS4zYzIuOCwwLDUuMi0yLjIsNS4zLTUuMQoJCQkJdi0wLjJ2LThMMjQ5LjYsMTc4TDI0OS42LDE3OHoiLz4KCgkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuW9oueKtue7k+WQiF83XyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxMDAzLjIzODQiIHkxPSItNDMuNjgxOCIgeDI9IjEwMDMuOTQ2MSIgeTI9Ii00My42ODE4IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQ0IDAgMCAxMSAtNDM5MTkuMTk5MiA2NTUuNSkiPgoJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0UyRTNFNiIvPgoJCQkJPHN0b3AgIG9mZnNldD0iMC40NTQzIiBzdHlsZT0ic3RvcC1jb2xvcjojRUNFRUYwIi8+CgkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRTJFNEU2Ii8+CgkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIhfMjlfIiBjbGFzcz0ic3QxIiBkPSJNMjE2LjgsMTY5LjVoNDR2NmMwLDIuOC05LjgsNS0yMiw1cy0yMi0yLjItMjItNWwwLDBMMjE2LjgsMTY5LjVMMjE2LjgsMTY5LjV6Ii8+CgkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIjlpIfku71fMV8iIGNsYXNzPSJzdDIiIGQ9Ik0yMTYuOCwxNjVoNDR2NmMwLDIuOC05LjgsNS0yMiw1cy0yMi0yLjItMjItNWwwLDBMMjE2LjgsMTY1TDIxNi44LDE2NXoiLz4KCgkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuW9oueKtue7k+WQiF85XyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI5NDcuNDg4OCIgeTE9Ii04LjM4NDgiIHgyPSI5NDguMTg2MyIgeTI9Ii04LjM4NDgiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMTIgMCAwIDU0LjcgLTExMTc3LjIwMDIgNTgxLjI5OTEpIj4KCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGMUYzRjUiLz4KCQkJCTxzdG9wICBvZmZzZXQ9IjAuNDU3NiIgc3R5bGU9InN0b3AtY29sb3I6I0Y0RjVGNyIvPgoJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0VDRUVGMCIvPgoJCQk8L2xpbmVhckdyYWRpZW50PgoJCQk8cGF0aCBpZD0i5b2i54q257uT5ZCIXzI4XyIgY2xhc3M9InN0MyIgZD0iTTE5Ni44LDk1LjNjMS44LDAsNiw4LjMsNiwxMS43bDAsMHY0M2gtMTJ2LTQzdi0wLjJDMTkwLjksMTAzLjQsMTk1LDk1LjMsMTk2LjgsOTUuMwoJCQkJeiIvPgoKCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i5b2i54q257uT5ZCIXzEwXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI5NDcuODQ2NCIgeTE9Ii0xOS44MjgyIiB4Mj0iOTQ3LjgyNyIgeTI9Ii0xOS42NDE4IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEyIDAgMCAyNC4yIC0xMTA5My4yMDAyIDYwMi45OTkzKSI+CgkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojQ0REMEQyO3N0b3Atb3BhY2l0eTowIi8+CgkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojQ0REMEQyIi8+CgkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCTxwb2x5Z29uIGlkPSLlvaLnirbnu5PlkIhfMjZfIiBjbGFzcz0ic3Q0IiBwb2ludHM9IjI3NC44LDExNyAyNzQuOCwxMzIuNiAyNzkuNywxNDEuMiAyODYuOCwxMzUuNCAyODYuOCwxMjYgCQkJIi8+CgoJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLlvaLnirbnu5PlkIhfMTFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9Ijk0OC4xNzE2IiB5MT0iLTguMzg0OCIgeDI9Ijk0Ny40NzQxIiB5Mj0iLTguMzg0OCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxMiAwIDAgNTQuNyAtMTEwOTMuMjAwMiA1ODEuMjk5MSkiPgoJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0YxRjNGNSIvPgoJCQkJPHN0b3AgIG9mZnNldD0iMC40NTc2IiBzdHlsZT0ic3RvcC1jb2xvcjojRjRGNUY3Ii8+CgkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRUNFRUYwIi8+CgkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIhfMjVfIiBjbGFzcz0ic3Q1IiBkPSJNMjgwLjgsOTUuM2MtMS44LDAtNiw4LjMtNiwxMS43bDAsMHY0M2gxMnYtNDN2LTAuMgoJCQkJQzI4Ni42LDEwMy40LDI4Mi41LDk1LjMsMjgwLjgsOTUuM3oiLz4KCQkJPGcgaWQ9Iue8lue7hF8zXyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODAuNzYwNDk5LCA3Ny4wMDAwMDApIj4KCgkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLot6/lvoQtM18xXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI1MTQuMzE0MSIgeTE9Ii02Ljg5MDUiIHgyPSI1MTQuMzk0MyIgeTI9Ii02LjUyMDQiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMzYgMCAwIDY2IC0xODM5NS43MzI0IDUwNikiPgoJCQkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNFOEU5RUIiLz4KCQkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRDdEOERCIi8+CgkJCQk8L2xpbmVhckdyYWRpZW50PgoJCQkJPHBhdGggaWQ9Iui3r+W+hC0zXzNfIiBjbGFzcz0ic3Q2IiBkPSJNMTM1LDIwYy0xLjQsNy00LjUsMTMuMy05LjQsMTkuMWMtNy4zLDguNy0xNS4yLDEzLjYtMTguNCwyMy44CgkJCQkJYy0yLjEsNi44LTMuMiwxMi45LTMuMiwxOC4zbDMyLjEsNC44bDMuOS00LjhMMTM1LDIweiIvPgoKCQkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuW9oueKtue7k+WQiF8xMl8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iNDY5LjEyNSIgeTE9Ii02Ljk4IiB4Mj0iNDY5LjEyNjMiIHkyPSItNi45NjgxIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEzIDAgMCA2NC41IC01OTY1LjY4MTYgNTA3LjUpIj4KCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRUJFREVGO3N0b3Atb3BhY2l0eTowIi8+CgkJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0M4Q0FDQyIvPgoJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIhfMjRfIiBjbGFzcz0ic3Q3IiBkPSJNMTM1LjIsMjEuNWw0LjgsNTkuN2wtMy45LDQuOGwtOS4xLTEuNGwzLjMtNTIuMmMyLTMuNSwzLjQtNy4xLDQuNC0xMC45CgkJCQkJQzEzNC43LDIxLjUsMTM1LjIsMjEuNSwxMzUuMiwyMS41eiIvPgoJCQk8L2c+CgoJCQkJPGcgaWQ9Iue8lue7hF8yXyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTcxLjAwMDAwMCwgMTEwLjAwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtMTcxLjAwMDAwMCwgLTExMC4wMDAwMDApIHRyYW5zbGF0ZSgxNTMuMDAwMDAwLCA3Ny4wMDAwMDApIj4KCgkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSLot6/lvoQtM180XyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIyNi4xMTk1IiB5MT0iLTYuNzUwNiIgeDI9IjI2LjE5OTgiIHkyPSItNi4zODA1IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDM2IDAgMCA2NiAtMTAyNCA1MDYpIj4KCQkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRThFOUVCIi8+CgkJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0Q3RDhEQiIvPgoJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCTxwYXRoIGlkPSLot6/lvoQtM18yXyIgY2xhc3M9InN0OCIgZD0iTS03MywyMGMtMS40LDctNC41LDEzLjMtOS40LDE5LjFjLTcuMyw4LjctMTUuMiwxMy42LTE4LjQsMjMuOAoJCQkJCWMtMi4xLDYuOC0zLjIsMTIuOS0zLjIsMTguM2wzMi4xLDQuOGwzLjktNC44TC03MywyMHoiLz4KCQkJPC9nPgoKCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i5b2i54q257uT5ZCIXzEzXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2NTkuNjQ1MyIgeTE9Ii02Ljk4IiB4Mj0iNjU5LjY0NjUiIHkyPSItNi45NjgiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLTEzIDAgMCA2NC41IDg4MzkuMjE0OCA1ODQuNSkiPgoJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0VCRURFRjtzdG9wLW9wYWNpdHk6MCIvPgoJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0M4Q0FDQyIvPgoJCQk8L2xpbmVhckdyYWRpZW50PgoJCQk8cGF0aCBpZD0i5b2i54q257uT5ZCIXzJfIiBjbGFzcz0ic3Q5IiBkPSJNMjYxLjYsOTguNWwtNC44LDU5LjdsMy45LDQuOGw5LjEtMS40bC0zLjMtNTIuMmMtMi0zLjUtMy40LTcuMS00LjQtMTAuOQoJCQkJQzI2Mi4xLDk4LjUsMjYxLjYsOTguNSwyNjEuNiw5OC41eiIvPgoKCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0i5b2i54q257uT5ZCIXzE1XyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxMDA0Ljk4MTEiIHkxPSItMi42NTU4IiB4Mj0iMTAwNS42ODg3IiB5Mj0iLTIuNjU1OCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCg0OCAwIDAgMTU0IC00ODAxNy4xOTkyIDUwNikiPgoJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0VBRUJFRCIvPgoJCQkJPHN0b3AgIG9mZnNldD0iMC40NTQzIiBzdHlsZT0ic3RvcC1jb2xvcjojRjRGNUY3Ii8+CgkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRUVGMEYyIi8+CgkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIhfMThfIiBjbGFzcz0ic3QxMCIgZD0iTTIzOC44LDIwYzcsMCwyNCwyNy43LDI0LDQxbDAsMHYxMDZjMCwwLjEsMCwwLjIsMCwwLjNzMCwwLjIsMCwwLjIKCQkJCWMwLDMuNi0xMC43LDYuNS0yNCw2LjVzLTI0LTIuOS0yNC02LjVjMC0wLjEsMC0wLjIsMC0wLjJjMC0wLjEsMC0wLjIsMC0wLjNWNjF2LTAuNEMyMTUuMSw0Ny4yLDIzMS44LDIwLDIzOC44LDIweiIvPgoJCQk8Zz4KCQkJCTxjaXJjbGUgaWQ9IuakreWchuW9ol83XyIgY2xhc3M9InN0MTEiIGN4PSIyMzguOCIgY3k9IjcxIiByPSI5LjUiLz4KCgkJCQkJPGxpbmVhckdyYWRpZW50IGlkPSJTVkdJRF8xXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI5NzYuMDc5IiB5MT0iLTI1LjMzMzQiIHgyPSI5NzYuMDc5IiB5Mj0iLTI0LjgyNDQiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMTkgMCAwIDE5IC0xODMwNi42OTkyIDU0Ny41KSI+CgkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0UxRTJFNiIvPgoJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGMEYyRjUiLz4KCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQk8cGF0aCBjbGFzcz0ic3QxMiIgZD0iTTIzOC44LDgxYy01LjUsMC0xMC00LjUtMTAtMTBzNC41LTEwLDEwLTEwczEwLDQuNSwxMCwxMFMyNDQuMyw4MSwyMzguOCw4MXogTTIzOC44LDYyYy01LDAtOSw0LTksOQoJCQkJCXM0LDksOSw5czktNCw5LTlTMjQzLjgsNjIsMjM4LjgsNjJ6Ii8+CgkJCTwvZz4KCQkJPGc+CgkJCQk8Y2lyY2xlIGlkPSLmpK3lnIblvaLlpIfku70tMTFfMV8iIGNsYXNzPSJzdDExIiBjeD0iMjM4LjgiIGN5PSI4OSIgcj0iMy41Ii8+CgoJCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMl8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iODkzLjA3MTUiIHkxPSItNjkuMjA0OCIgeDI9Ijg5My4wNzE1IiB5Mj0iLTY4LjY1MjIiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoNyAwIDAgNyAtNjAxMi43MDAyIDU3MS41KSI+CgkJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0UxRTJFNiIvPgoJCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGMEYyRjUiLz4KCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQk8cGF0aCBjbGFzcz0ic3QxMyIgZD0iTTIzOC44LDkzYy0yLjIsMC00LTEuOC00LTRzMS44LTQsNC00czQsMS44LDQsNFMyNDEsOTMsMjM4LjgsOTN6IE0yMzguOCw4NmMtMS43LDAtMywxLjMtMywzczEuMywzLDMsMwoJCQkJCXMzLTEuMywzLTNTMjQwLjUsODYsMjM4LjgsODZ6Ii8+CgkJCTwvZz4KCgkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuW9oueKtue7k+WQiF8xNl8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMTAwNC45ODExIiB5MT0iLTcwLjk3MDYiIHgyPSIxMDA1LjY4NTQiIHkyPSItNzAuOTcwNiIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCg0OCAwIDAgNi44IC00ODAxNy4xOTkyIDYyNC4wMDA0KSI+CgkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRTJFM0U2Ii8+CgkJCQk8c3RvcCAgb2Zmc2V0PSIwLjQ3NjYiIHN0eWxlPSJzdG9wLWNvbG9yOiNGQkZERkYiLz4KCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNFMkU0RTYiLz4KCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJPHBhdGggaWQ9IuW9oueKtue7k+WQiF8xNF8iIGNsYXNzPSJzdDE0IiBkPSJNMjYyLjgsMTM4djIuNWMtMy45LDIuNS0xMy4yLDQuMy0yNCw0LjNzLTIwLjEtMS44LTI0LTQuM1YxMzhsMCwwCgkJCQljMC42LDIuOCwxMS4xLDUuNSwyNCw1LjVTMjYyLjIsMTQwLjgsMjYyLjgsMTM4TDI2Mi44LDEzOHoiLz4KCgkJCQk8bGluZWFyR3JhZGllbnQgaWQ9IuW9oueKtue7k+WQiOWkh+S7vS0yXzJfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjEwMDQuOTgxMSIgeTE9Ii03MC45NzA2IiB4Mj0iMTAwNS42ODU0IiB5Mj0iLTcwLjk3MDYiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoNDggMCAwIDYuOCAtNDgwMTcuMTk5MiA2MjkuMDAwNCkiPgoJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0UyRTNFNiIvPgoJCQkJPHN0b3AgIG9mZnNldD0iMC40NzY2IiBzdHlsZT0ic3RvcC1jb2xvcjojRkJGREZGIi8+CgkJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRTJFNEU2Ii8+CgkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIjlpIfku70tMl8xXyIgY2xhc3M9InN0MTUiIGQ9Ik0yNjIuOCwxNDN2Mi41Yy0zLjksMi41LTEzLjIsNC4zLTI0LDQuM3MtMjAuMS0xLjgtMjQtNC4zVjE0M2wwLDAKCQkJCWMwLjYsMi44LDExLjEsNS41LDI0LDUuNVMyNjIuMiwxNDUuOCwyNjIuOCwxNDNMMjYyLjgsMTQzeiIvPgoJCQk8cGF0aCBpZD0i5b2i54q257uT5ZCIXzhfIiBjbGFzcz0ic3QxNiIgZD0iTTI2Mi44LDczYzQzLjItOC42LDc3LjEtNi4zLDgwLjksNi43YzQuNiwxNS45LTM3LjQsNDEuOS05My42LDU4LjEKCQkJCXMtMTA1LjYsMTYuMy0xMTAuMiwwLjRjLTQtMTQuMSwyOC40LTM2LjEsNzQuOS01Mi4xdjEuMWMtNDUuOCwxNS45LTc3LjcsMzcuNS03My45LDUwLjhjNC4zLDE1LjEsNTMuMiwxNC45LDEwOC45LTEuMQoJCQkJczk3LjMtNDEuNyw5Mi45LTU2LjhjLTMuNS0xMi40LTM3LjItMTQuNS03OS45LTZWNzNMMjYyLjgsNzN6Ii8+CgkJCTxwYXRoIGlkPSLlvaLnirbnu5PlkIhfMV8iIGNsYXNzPSJzdDE2IiBkPSJNMTA1LjIsNzZjMy44LTE0LDUwLjctMTQsMTA5LjUtMS4xdjFjLTU4LjMtMTIuOC0xMDUtMTIuOS0xMDguNiwwLjMKCQkJCWMtNCwxNS4xLDQ5LjEsNDMuMiwxMTguNSw2MS44czEyOS41LDIwLjksMTMzLjYsNS44YzMuNi0xMy40LTM3LjctMzctOTUuNi01NS4xdi0xLjFjNTguNiwxOC4zLDEwMC4zLDQyLjIsOTYuNSw1Ni40CgkJCQljLTQuMywxNi02NC42LDEzLjctMTM0LjgtNS4xUzEwMSw5MiwxMDUuMiw3NnoiLz4KCQkJPGNpcmNsZSBpZD0i5qSt5ZyG5b2iXzZfIiBjbGFzcz0ic3QyIiBjeD0iMzE3LjgiIGN5PSIxMDkiIHI9IjIiLz4KCQkJPGNpcmNsZSBpZD0i5qSt5ZyG5b2iXzVfIiBjbGFzcz0ic3QyIiBjeD0iMTE3LjMiIGN5PSIxMjEuNSIgcj0iMS41Ii8+CgkJCTxjaXJjbGUgaWQ9IuakreWchuW9ol80XyIgY2xhc3M9InN0MiIgY3g9IjI4MS44IiBjeT0iNTgiIHI9IjEiLz4KCQkJPGNpcmNsZSBpZD0i5qSt5ZyG5b2iXzNfIiBjbGFzcz0ic3QyIiBjeD0iMTkxLjgiIGN5PSIxNjQiIHI9IjEiLz4KCQkJPGNpcmNsZSBpZD0i5qSt5ZyG5b2iXzFfIiBjbGFzcz0ic3QyIiBjeD0iMzUxLjgiIGN5PSIxNTAiIHI9IjIiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPC9zdmc+Cg==";var hl=cl.src,dl=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-exception",class:t.extCls},[n("div",{staticClass:"bk-exception-img",class:t.scene+"-img"},[n("img",{staticClass:"exception-image",attrs:{src:t.images[t.type],alt:t.type}})]),n("div",{staticClass:"bk-exception-text",class:t.scene+"-text"},[t._t("default",[t._v(t._s(t.tipText[t.type]))])],2)])},staticRenderFns:[]},void 0,{name:"bk-exception",mixins:[Jr.mixin],props:{type:{type:[String,Number],default:404,validator:function(t){return["404","403","500","building","empty","search-empty","login"].indexOf(t+"")>-1}},scene:{type:String,default:"page",valudator:function(t){return["page","part"].indexOf(t)>-1}},extCls:{type:String,default:""}},data:function(){return{images:{403:il,404:el,500:ol,building:qs,empty:sl,"search-empty":ul,login:hl},tipText:{}}},created:function(){this.tipText=d({},{403:this.t("bk.exception.403"),404:this.t("bk.exception.404"),500:this.t("bk.exception.500"),building:this.t("bk.exception.building"),empty:this.t("bk.exception.empty"),"search-empty":this.t("bk.exception.searchEmpty"),login:this.t("bk.exception.login")})}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(dl);var fl=function(t,e){return{value:e,done:!!t}};Oo(Array,"Array",function(t,e){this._t=Q(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,fl(1)):fl(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),Mo.Arguments=Mo.Array;for(var pl=Ei("toStringTag"),gl="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),vl=0;vl<gl.length;vl++){var ml=gl[vl],yl=S[ml],bl=yl&&yl.prototype;bl&&!bl[pl]&&B(bl,pl,ml),Mo[ml]=Mo.Array}var xl,wl,_l,Sl=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t},Ml=_(function(t){var e={},n={},i=t.exports=function(t,i,r,o,a){var s,l,u,c,h=a?function(){return t}:Fo(t),d=I(r,o,i?2:1),f=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(Do(h)){for(s=q(t.length);s>f;f++)if((c=i?d(T(l=t[f])[0],l[1]):d(t[f]))===e||c===n)return c}else for(u=h.call(t);!(l=u.next()).done;)if((c=Ao(u,d,l.value,i))===e||c===n)return c};i.BREAK=e,i.RETURN=n}),Cl=Ei("species"),Il=function(t,e){var n,i=T(t).constructor;return void 0===i||null==(n=T(i)[Cl])?e:C(n)},kl=S.process,Tl=S.setImmediate,Ol=S.clearImmediate,El=S.MessageChannel,Al=S.Dispatch,Nl=0,Ll={},Dl=function(){var t=+this;if(Ll.hasOwnProperty(t)){var e=Ll[t];delete Ll[t],e()}},jl=function(t){Dl.call(t.data)};Tl&&Ol||(Tl=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return Ll[++Nl]=function(){!function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}t.apply(n,e)}("function"==typeof t?t:Function(t),e)},xl(Nl),Nl},Ol=function(t){delete Ll[t]},"process"==U(kl)?xl=function(t){kl.nextTick(I(Dl,t,1))}:Al&&Al.now?xl=function(t){Al.now(I(Dl,t,1))}:El?(_l=(wl=new El).port2,wl.port1.onmessage=jl,xl=I(_l.postMessage,_l,1)):S.addEventListener&&"function"==typeof postMessage&&!S.importScripts?(xl=function(t){S.postMessage(t+"","*")},S.addEventListener("message",jl,!1)):xl="onreadystatechange"in L("script")?function(t){Fi.appendChild(L("script")).onreadystatechange=function(){Fi.removeChild(this),Dl.call(t)}}:function(t){setTimeout(I(Dl,t,1),0)});var Pl={set:Tl,clear:Ol},Rl=Pl.set,zl=S.MutationObserver||S.WebKitMutationObserver,Bl=S.process,Fl=S.Promise,Gl="process"==U(Bl);var Vl,Wl,Hl,Ul,Yl={f:function(t){return new function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=C(e),this.reject=C(n)}(t)}},Jl=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},Ql=S.navigator,Zl=Ql&&Ql.userAgent||"",$l=function(t,e){if(T(t),k(e)&&e.constructor===t)return e;var n=Yl.f(t);return(0,n.resolve)(e),n.promise},Xl=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:B(t,i,e[i]);return t},Kl=Ei("species"),ql=function(t){var e="function"==typeof M[t]?M[t]:S[t];E&&e&&!e[Kl]&&R.f(e,Kl,{configurable:!0,get:function(){return this}})},tu=Pl.set,eu=function(){var t,e,n,i=function(){var i,r;for(Gl&&(i=Bl.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(Gl)n=function(){Bl.nextTick(i)};else if(!zl||S.navigator&&S.navigator.standalone)if(Fl&&Fl.resolve){var r=Fl.resolve(void 0);n=function(){r.then(i)}}else n=function(){Rl.call(S,i)};else{var o=!0,a=document.createTextNode("");new zl(i).observe(a,{characterData:!0}),n=function(){a.data=o=!o}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}(),nu=S.TypeError,iu=S.process,ru=iu&&iu.versions,ou=ru&&ru.v8||"",au=S.Promise,su="process"==zo(iu),lu=function(){},uu=Wl=Yl.f,cu=!!function(){try{var t=au.resolve(1),e=(t.constructor={})[Ei("species")]=function(t){t(lu,lu)};return(su||"function"==typeof PromiseRejectionEvent)&&t.then(lu)instanceof e&&0!==ou.indexOf("6.6")&&-1===Zl.indexOf("Chrome/66")}catch(t){}}(),hu=function(t){var e;return!(!k(t)||"function"!=typeof(e=t.then))&&e},du=function(t,e){if(!t._n){t._n=!0;var n=t._c;eu(function(){for(var i=t._v,r=1==t._s,o=0,a=function(e){var n,o,a,s=r?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(r||(2==t._h&&gu(t),t._h=1),!0===s?n=i:(c&&c.enter(),n=s(i),c&&(c.exit(),a=!0)),n===e.promise?u(nu("Promise-chain cycle")):(o=hu(n))?o.call(n,l,u):l(n)):u(i)}catch(t){c&&!a&&c.exit(),u(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&fu(t)})}},fu=function(t){tu.call(S,function(){var e,n,i,r=t._v,o=pu(t);if(o&&(e=Jl(function(){su?iu.emit("unhandledRejection",r,t):(n=S.onunhandledrejection)?n({promise:t,reason:r}):(i=S.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=su||pu(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},pu=function(t){return 1!==t._h&&0===(t._a||t._c).length},gu=function(t){tu.call(S,function(){var e;su?iu.emit("rejectionHandled",t):(e=S.onrejectionhandled)&&e({promise:t,reason:t._v})})},vu=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),du(e,!0))},mu=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw nu("Promise can't be resolved itself");(e=hu(t))?eu(function(){var i={_w:n,_d:!1};try{e.call(t,I(mu,i,1),I(vu,i,1))}catch(t){vu.call(i,t)}}):(n._v=t,n._s=1,du(n,!1))}catch(t){vu.call({_w:n,_d:!1},t)}}};cu||(au=function(t){Sl(this,au,"Promise","_h"),C(t),Vl.call(this);try{t(I(mu,this,1),I(vu,this,1))}catch(t){vu.call(this,t)}},(Vl=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=Xl(au.prototype,{then:function(t,e){var n=uu(Il(this,au));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=su?iu.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&du(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Hl=function(){var t=new Vl;this.promise=t,this.resolve=I(mu,t,1),this.reject=I(vu,t,1)},Yl.f=uu=function(t){return t===au||t===Ul?new Hl(t):Wl(t)}),W(W.G+W.W+W.F*!cu,{Promise:au}),Li(au,"Promise"),ql("Promise"),Ul=M.Promise,W(W.S+W.F*!cu,"Promise",{reject:function(t){var e=uu(this);return(0,e.reject)(t),e.promise}}),W(W.S+!0*W.F,"Promise",{resolve:function(t){return $l(this===Ul?au:this,t)}}),W(W.S+W.F*!(cu&&Ho(function(t){au.all(t).catch(lu)})),"Promise",{all:function(t){var e=this,n=uu(e),i=n.resolve,r=n.reject,o=Jl(function(){var n=[],o=0,a=1;Ml(t,!1,function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||i(n))},r)}),--a||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=uu(e),i=n.reject,r=Jl(function(){Ml(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}}),W(W.P+W.R,"Promise",{finally:function(t){var e=Il(this,M.Promise||S.Promise),n="function"==typeof t;return this.then(n?function(n){return $l(e,t()).then(function(){return n})}:t,n?function(n){return $l(e,t()).then(function(){throw n})}:t)}}),W(W.S,"Promise",{try:function(t){var e=Yl.f(this),n=Jl(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}});var yu=M.Promise,bu=Ct({render:function(){var t=this.$createElement;return(this._self._c||t)("form",{class:[this.formCls,this.extCls],on:{submit:this.formSubmit}},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"bk-form",props:{formType:{type:String,default:"horizontal",validator:function(t){return["vertical","inline","horizontal"].indexOf(t)>-1}},rules:{type:Object},labelWidth:{type:Number,default:150},model:{type:Object},extCls:{type:String,default:""}},data:function(){return{formItems:[]}},computed:{formCls:function(){var t=["bk-form"];return"vertical"===this.formType?t.push("bk-form-vertical"):"inline"===this.formType&&t.push("bk-inline-form"),t}},provide:function(){return{form:this}},created:function(){var t=this;this.$on("form-item-add",function(e){return e&&t.formItems.push(e),!1}),this.$on("form-item-delete",function(e){var n=t.formItems.findIndex(function(t){return t.id===e.id});return e&&-1!==n&&t.formItems.splice(n,1),!1})},methods:{formSubmit:function(t){this.$emit("submit",this.formItems),t.preventDefault()},clearFieldError:function(t){if(t){var e,n=x(this.formItems);try{for(n.s();!(e=n.n()).done;){var i=e.value;t===i.property&&i.clearError()}}catch(t){n.e(t)}finally{n.f()}}},clearError:function(){var t,e=x(this.formItems);try{for(e.s();!(t=e.n()).done;)t.value.clearError()}catch(t){e.e(t)}finally{e.f()}},validateField:function(t){if(!t)return yu.reject(new Error("field 不能为空"));var e,n=x(this.formItems);try{var i=function(){var n=e.value;if(t===n.property)return{v:new yu(function(t,e){n.validate("",function(n){n&&"error"===n.state?e(n):t()})})}};for(n.s();!(e=n.n()).done;){var r=i();if("object"===o(r))return r.v}}catch(t){n.e(t)}finally{n.f()}return yu.reject(new Error("filed 不存在"))},validate:function(t){var e=this;return new yu(function(n,i){var r,o=!0,a=0,s=e,l=x(e.formItems);try{for(l.s();!(r=l.n()).done;)r.value.validate("",function(e){if(e&&"error"===e.state)return o=!1,i(e),!1;++a===s.formItems.length&&(n(o),"function"==typeof t&&t(o))})}catch(t){l.e(t)}finally{l.f()}})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(bu);var xu=Object.assign,wu=!xu||O(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=xu({},t)[n]||Object.keys(xu({},e)).join("")!=i})?function(t,e){for(var n=kt(t),i=arguments.length,r=1,o=Ri.f,a=ft.f;i>r;)for(var s,l=Y(arguments[r++]),u=o?dt(l).concat(o(l)):dt(l),c=u.length,h=0;c>h;)s=u[h++],E&&!a.call(l,s)||(n[s]=l[s]);return n}:xu;W(W.S+W.F,"Object",{assign:wu});for(var _u=M.Object.assign,Su="undefined"!=typeof window&&"undefined"!=typeof document,Mu=["Edge","Trident","Firefox"],Cu=0,Iu=0;Iu<Mu.length;Iu+=1)if(Su&&navigator.userAgent.indexOf(Mu[Iu])>=0){Cu=1;break}var ku=Su&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},Cu))}};function Tu(t){return t&&"[object Function]"==={}.toString.call(t)}function Ou(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function Eu(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function Au(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=Ou(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:Au(Eu(t))}var Nu=Su&&!(!window.MSInputMethodContext||!document.documentMode),Lu=Su&&/MSIE 10/.test(navigator.userAgent);function Du(t){return 11===t?Nu:10===t?Lu:Nu||Lu}function ju(t){if(!t)return document.documentElement;for(var e=Du(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===Ou(n,"position")?ju(n):n:t?t.ownerDocument.documentElement:document.documentElement}function Pu(t){return null!==t.parentNode?Pu(t.parentNode):t}function Ru(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var a,s,l=o.commonAncestorContainer;if(t!==l&&e!==l||i.contains(r))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&ju(a.firstElementChild)!==a?ju(l):l;var u=Pu(t);return u.host?Ru(u.host,e):Ru(t,Pu(e).host)}function zu(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function Bu(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return no(t["border".concat(n,"Width")],10)+no(t["border".concat(i,"Width")],10)}function Fu(t,e,n,i){return Math.max(e["offset".concat(t)],e["scroll".concat(t)],n["client".concat(t)],n["offset".concat(t)],n["scroll".concat(t)],Du(10)?zn(n["offset".concat(t)])+zn(i["margin".concat("Height"===t?"Top":"Left")])+zn(i["margin".concat("Height"===t?"Bottom":"Right")]):0)}function Gu(t){var e=t.body,n=t.documentElement,i=Du(10)&&getComputedStyle(n);return{height:Fu("Height",e,n,i),width:Fu("Width",e,n,i)}}var Vu=_u||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function Wu(t){return Vu({},t,{right:t.left+t.width,bottom:t.top+t.height})}function Hu(t){var e={};try{if(Du(10)){e=t.getBoundingClientRect();var n=zu(t,"top"),i=zu(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?Gu(t.ownerDocument):{},a=o.width||t.clientWidth||r.right-r.left,s=o.height||t.clientHeight||r.bottom-r.top,l=t.offsetWidth-a,u=t.offsetHeight-s;if(l||u){var c=Ou(t);l-=Bu(c,"x"),u-=Bu(c,"y"),r.width-=l,r.height-=u}return Wu(r)}function Uu(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Du(10),r="HTML"===e.nodeName,o=Hu(t),a=Hu(e),s=Au(t),l=Ou(e),u=no(l.borderTopWidth,10),c=no(l.borderLeftWidth,10);n&&r&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var h=Wu({top:o.top-a.top-u,left:o.left-a.left-c,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!i&&r){var d=no(l.marginTop,10),f=no(l.marginLeft,10);h.top-=u-d,h.bottom-=u-d,h.left-=c-f,h.right-=c-f,h.marginTop=d,h.marginLeft=f}return(i&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=zu(e,"top"),r=zu(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(h,e)),h}function Yu(t){if(!t||!t.parentElement||Du())return document.documentElement;for(var e=t.parentElement;e&&"none"===Ou(e,"transform");)e=e.parentElement;return e||document.documentElement}function Ju(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=r?Yu(t):Ru(t,e);if("viewport"===i)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=Uu(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:zu(n),s=e?0:zu(n,"left");return Wu({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:o})}(a,r);else{var s;"scrollParent"===i?"BODY"===(s=Au(Eu(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===i?t.ownerDocument.documentElement:i;var l=Uu(s,a,r);if("HTML"!==s.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===Ou(e,"position"))return!0;var i=Eu(e);return!!i&&t(i)}(a))o=l;else{var u=Gu(t.ownerDocument),c=u.height,h=u.width;o.top+=l.top-l.marginTop,o.bottom=c+l.top,o.left+=l.left-l.marginLeft,o.right=h+l.left}}var d="number"==typeof(n=n||0);return o.left+=d?n:n.left||0,o.top+=d?n:n.top||0,o.right-=d?n:n.right||0,o.bottom-=d?n:n.bottom||0,o}function Qu(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=Ju(n,i,o,r),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Ot(s).map(function(t){return Vu({key:t},s[t],{area:function(t){return t.width*t.height}(s[t])})}).sort(function(t,e){return e.area-t.area}),u=l.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),c=u.length>0?u[0].key:l[0].key,h=t.split("-")[1];return c+(h?"-".concat(h):"")}function Zu(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Uu(n,i?Yu(e):Ru(e,n),i)}function $u(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=no(e.marginTop||0)+no(e.marginBottom||0),i=no(e.marginLeft||0)+no(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function Xu(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function Ku(t,e,n){n=n.split("-")[0];var i=$u(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return r[a]=e[a]+e[l]/2-i[l]/2,r[s]=n===s?e[s]-i[u]:e[Xu(s)],r}function qu(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function tc(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=qu(t,function(t){return t[e]===n});return t.indexOf(i)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&Tu(n)&&(e.offsets.popper=Wu(e.offsets.popper),e.offsets.reference=Wu(e.offsets.reference),e=n(e,t))}),e}function ec(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function nc(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?"".concat(r).concat(n):t;if(void 0!==document.body.style[o])return o}return null}function ic(t){var e=t.ownerDocument;return e?e.defaultView:window}function rc(){this.state.eventsEnabled||(this.state=function(t,e,n,i){n.updateBound=i,ic(t).addEventListener("resize",n.updateBound,{passive:!0});var r=Au(t);return function t(e,n,i,r){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(n,i,{passive:!0}),o||t(Au(a.parentNode),n,i,r),r.push(a)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}(this.reference,this.options,this.state,this.scheduleUpdate))}function oc(t){return""!==t&&!isNaN(no(t))&&isFinite(t)}function ac(t,e){Ot(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&oc(e[n])&&(i="px"),t.style[n]=e[n]+i})}var sc=Su&&/Firefox/i.test(navigator.userAgent);function lc(t,e,n){var i=qu(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`".concat(e,"`"),a="`".concat(n,"`");console.warn("".concat(a," modifier is required by ").concat(o," modifier in order to work, be sure to include it before ").concat(o,"!"))}return r}var uc=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],cc=uc.slice(3);function hc(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=cc.indexOf(t),i=cc.slice(n+1).concat(cc.slice(0,n));return e?i.reverse():i}var dc={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:h({},l,o[l]),end:h({},l,o[l]+o[u]-a[u])};t.offsets.popper=Vu({},a,c[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n,i=e.offset,r=t.placement,o=t.offsets,a=o.popper,s=o.reference,l=r.split("-")[0];return n=oc(+i)?[+i,0]:function(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(qu(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(u=u.map(function(t,i){var r=(1===i?!o:o)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],a=r[2];if(!o)return t;if(0===a.indexOf("%")){var s;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}return Wu(s)[e]/100*o}return"vh"===a||"vw"===a?("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){oc(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}(i,a,s,l),"left"===l?(a.top+=n[0],a.left-=n[1]):"right"===l?(a.top+=n[0],a.left+=n[1]):"top"===l?(a.left+=n[0],a.top-=n[1]):"bottom"===l&&(a.left+=n[0],a.top+=n[1]),t.popper=a,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||ju(t.instance.popper);t.instance.reference===n&&(n=ju(n));var i=nc("transform"),r=t.instance.popper.style,o=r.top,a=r.left,s=r[i];r.top="",r.left="",r[i]="";var l=Ju(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=a,r[i]=s,e.boundaries=l;var u=e.priority,c=t.offsets.popper,d={primary:function(t){var n=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(c[t],l[t])),h({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=c[n];return c[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(c[n],l[t]-("right"===t?c.width:c.height))),h({},n,i)}};return u.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=Vu({},c,d[e](t))}),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",l=a?"left":"top",u=a?"width":"height";return n[s]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[u]),n[l]>o(i[s])&&(t.offsets.popper[l]=o(i[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!lc(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,a=o.popper,s=o.reference,l=-1!==["left","right"].indexOf(r),u=l?"height":"width",c=l?"Top":"Left",d=c.toLowerCase(),f=l?"left":"top",p=l?"bottom":"right",g=$u(i)[u];s[p]-g<a[d]&&(t.offsets.popper[d]-=a[d]-(s[p]-g)),s[d]+g>a[p]&&(t.offsets.popper[d]+=s[d]+g-a[p]),t.offsets.popper=Wu(t.offsets.popper);var v=s[d]+s[u]/2-g/2,m=Ou(t.instance.popper),y=no(m["margin".concat(c)],10),b=no(m["border".concat(c,"Width")],10),x=v-t.offsets.popper[d]-y-b;return x=Math.max(Math.min(a[u]-g,x),0),t.arrowElement=i,t.offsets.arrow=(h(n={},d,Math.round(x)),h(n,f,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(ec(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=Ju(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=Xu(i),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case"flip":a=[i,r];break;case"clockwise":a=hc(i);break;case"counterclockwise":a=hc(i,!0);break;default:a=e.behavior}return a.forEach(function(s,l){if(i!==s||a.length===l+1)return t;i=t.placement.split("-")[0],r=Xu(i);var u=t.offsets.popper,c=t.offsets.reference,h=Math.floor,d="left"===i&&h(u.right)>h(c.left)||"right"===i&&h(u.left)<h(c.right)||"top"===i&&h(u.bottom)>h(c.top)||"bottom"===i&&h(u.top)<h(c.bottom),f=h(u.left)<h(n.left),p=h(u.right)>h(n.right),g=h(u.top)<h(n.top),v=h(u.bottom)>h(n.bottom),m="left"===i&&f||"right"===i&&p||"top"===i&&g||"bottom"===i&&v,y=-1!==["top","bottom"].indexOf(i),b=!!e.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&g||!y&&"end"===o&&v),x=!!e.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&v||!y&&"end"===o&&g),w=b||x;(d||m||w)&&(t.flipped=!0,(d||m)&&(i=a[l+1]),w&&(o="end"===o?"start":"start"===o?"end":o),t.placement=i+(o?"-"+o:""),t.offsets.popper=Vu({},t.offsets.popper,Ku(t.instance.popper,t.offsets.reference,t.placement)),t=tc(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=o[n]-(s?r[a?"width":"height"]:0),t.placement=Xu(e),t.offsets.popper=Wu(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!lc(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=qu(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=qu(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,s,l=void 0!==o?o:e.gpuAcceleration,u=ju(t.instance.popper),c=Hu(u),h={position:r.position},d=function(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=Math.round,a=Math.floor,s=function(t){return t},l=o(r.width),u=o(i.width),c=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),d=e?c||h||l%2==u%2?o:a:s,f=e?o:s;return{left:d(l%2==1&&u%2==1&&!h&&e?i.left-1:i.left),top:f(i.top),bottom:f(i.bottom),right:d(i.right)}}(t,window.devicePixelRatio<2||!sc),f="bottom"===n?"top":"bottom",p="right"===i?"left":"right",g=nc("transform");if(s="bottom"===f?"HTML"===u.nodeName?-u.clientHeight+d.bottom:-c.height+d.bottom:d.top,a="right"===p?"HTML"===u.nodeName?-u.clientWidth+d.right:-c.width+d.right:d.left,l&&g)h[g]="translate3d(".concat(a,"px, ").concat(s,"px, 0)"),h[f]=0,h[p]=0,h.willChange="transform";else{var v="bottom"===f?-1:1,m="right"===p?-1:1;h[f]=s*v,h[p]=a*m,h.willChange="".concat(f,", ").concat(p)}var y={"x-placement":t.placement};return t.attributes=Vu({},y,t.attributes),t.styles=Vu({},h,t.styles),t.arrowStyles=Vu({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return ac(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Ot(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Ot(t.arrowStyles).length&&ac(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=Zu(r,e,t,n.positionFixed),a=Qu(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),ac(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},fc=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=ku(this.update.bind(this)),this.options=Vu({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Ot(Vu({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=Vu({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Ot(this.options.modifiers).map(function(t){return Vu({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&Tu(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return c(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=Zu(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=Qu(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=Ku(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=tc(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,ec(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[nc("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return rc.call(this)}},{key:"disableEventListeners",value:function(){return function(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,ic(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}.call(this)}}]),t}();function pc(){return(pc=_u||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}fc.Utils=("undefined"!=typeof window?window:t).PopperUtils,fc.placements=uc,fc.Defaults=dc;var gc="undefined"!=typeof window&&"undefined"!=typeof document,vc=gc?navigator.userAgent:"",mc=/MSIE |Trident\//.test(vc),yc=/UCBrowser\//.test(vc),bc=gc&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,xc={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,width:"auto",maxWidth:"auto",multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,wait:null,zIndex:9999,extCls:""},wc=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],_c=gc?Element.prototype:{},Sc=_c.matches||_c.matchesSelector||_c.webkitMatchesSelector||_c.mozMatchesSelector||_c.msMatchesSelector;function Mc(t){return[].slice.call(t)}function Cc(t,e){return Ic(t,function(t){return Sc.call(t,e)})}function Ic(t,e){for(;t;){if(e(t))return t;t=t.parentElement}return null}var kc={passive:!0},Tc=".".concat("tippy-popper"),Oc=".".concat("tippy-tooltip"),Ec=".".concat("tippy-content"),Ac=".".concat("tippy-backdrop"),Nc=".".concat("tippy-arrow"),Lc=".".concat("tippy-roundarrow"),Dc=!1;function jc(){Dc||(Dc=!0,bc&&document.body.classList.add("tippy-iOS"),window.performance&&document.addEventListener("mousemove",Rc))}var Pc=0;function Rc(){var t=performance.now();t-Pc<20&&(Dc=!1,document.removeEventListener("mousemove",Rc),bc||document.body.classList.remove("tippy-iOS")),Pc=t}function zc(){var t=document.activeElement;t&&t.blur&&t._tippy&&t.blur()}var Bc=Ot(xc);function Fc(t,e){return{}.hasOwnProperty.call(t,e)}function Gc(t,e,n){if(se(t)){var i=t[e];return null==i?n:i}return t}function Vc(t,e){return 0===e?t:function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)};var n}function Wc(t,e){return t&&t.modifiers&&t.modifiers[e]}function Hc(t,e){return t.indexOf(e)>-1}function Uc(t){return t instanceof Element}function Yc(t){return!(!t||!Fc(t,"isVirtual"))||Uc(t)}function Jc(t,e){return"function"==typeof t?t.apply(null,e):t}function Qc(t,e){t.filter(function(t){return"flip"===t.name})[0].enabled=e}function Zc(){return document.createElement("div")}function $c(t,e){t.forEach(function(t){t&&(t.style.transitionDuration="".concat(e,"ms"))})}function Xc(t,e){t.forEach(function(t){t&&t.setAttribute("data-state",e)})}function Kc(t,e){var n=pc({},e,{content:Jc(e.content,[t])},e.ignoreAttributes?{}:function(t){return Bc.reduce(function(e,n){var i=(t.getAttribute("data-tippy-".concat(n))||"").trim();if(!i)return e;if("content"===n)e[n]=i;else try{e[n]=JSON.parse(i)}catch(t){e[n]=i}return e},{})}(t));return(n.arrow||yc)&&(n.animateFill=!1),n}function qc(t,e){Ot(t).forEach(function(t){if(!Fc(e,t))throw new Error("[tippy]: `".concat(t,"` is not a valid option"))})}function th(t,e){t.innerHTML=Uc(e)?e.innerHTML:e}function eh(t,e){Uc(e.content)?(th(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(t[e.allowHTML?"innerHTML":"textContent"]=e.content)}function nh(t){return{tooltip:t.querySelector(Oc),backdrop:t.querySelector(Ac),content:t.querySelector(Ec),arrow:t.querySelector(Nc)||t.querySelector(Lc)}}function ih(t){t.setAttribute("data-inertia","")}function rh(t){var e=Zc();return"round"===t?(e.className="tippy-roundarrow",th(e,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):e.className="tippy-arrow",e}function oh(){var t=Zc();return t.className="tippy-backdrop",t.setAttribute("data-state","hidden"),t}function ah(t,e){t.setAttribute("tabindex","-1"),e.setAttribute("data-interactive","")}function sh(t,e,n){var i=yc&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";t[e+"EventListener"](i,n)}function lh(t){var e=t.getAttribute("x-placement");return e?e.split("-")[0]:""}function uh(t,e,n){n.split(" ").forEach(function(n){t.classList[e](n+"-theme")})}function ch(t,e,n){var i=e[n],r=zn(i);"number"==typeof i?t.style[n]=i+"px":isNaN(r)?t.style[n]=i:t.style[n]=r+"px"}var hh=1,dh=[];function fh(t,e){var n,i,r,o,a,s=Kc(t,e);if(!s.multiple&&t._tippy)return null;var l,u,c,h,d,f=!1,p=!1,g=!1,v=!1,m=[],y=Vc(j,s.interactiveDebounce),b=hh++,x=function(t,e){var n=Zc();n.className="tippy-popper"+(e.extCls?" ".concat(e.extCls):""),n.id="tippy-".concat(t),n.style.zIndex=""+e.zIndex,n.style.position="absolute",n.style.top="0",n.style.left="0",e.role&&n.setAttribute("role",e.role);var i=Zc();i.className="tippy-tooltip",ch(i,e,"maxWidth"),ch(i,e,"width"),i.setAttribute("data-size",e.size),i.setAttribute("data-animation",e.animation),i.setAttribute("data-state","hidden"),uh(i,"add",e.theme);var r=Zc();return r.className="tippy-content",r.setAttribute("data-state","hidden"),e.interactive&&ah(n,i),e.arrow&&i.appendChild(rh(e.arrowType)),e.animateFill&&(i.appendChild(oh()),i.setAttribute("data-animatefill","")),e.inertia&&ih(i),eh(r,e),i.appendChild(r),n.appendChild(i),n}(b,s),w=nh(x),_={id:b,reference:t,popper:x,popperChildren:w,popperInstance:null,props:s,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:J,set:Q,setContent:function(t){Q({content:t})},show:Z,hide:$,enable:function(){_.state.isEnabled=!0},disable:function(){_.state.isEnabled=!1},destroy:function(e){if(!_.state.isDestroyed){p=!0,_.state.isMounted&&$(0),N(),delete t._tippy;var n=_.props.target;n&&e&&Uc(t)&&Mc(t.querySelectorAll(n)).forEach(function(t){t._tippy&&t._tippy.destroy()}),_.popperInstance&&_.popperInstance.destroy(),p=!1,_.state.isDestroyed=!0}}};return t._tippy=_,x._tippy=_,A(),s.lazy||V(),s.showOnInit&&H(),!s.a11y||s.target||!Uc(d=C())||Sc.call(d,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!d.hasAttribute("disabled")||C().setAttribute("tabindex","0"),x.addEventListener("mouseenter",function(t){_.props.interactive&&_.state.isVisible&&"mouseenter"===n&&H(t,!0)}),x.addEventListener("mouseleave",function(){_.props.interactive&&"mouseenter"===n&&document.addEventListener("mousemove",y)}),_;function S(){document.removeEventListener("mousemove",L)}function M(){document.body.removeEventListener("mouseleave",U),document.removeEventListener("mousemove",y),dh=dh.filter(function(t){return t!==y})}function C(){return _.props.triggerTarget||t}function I(){document.addEventListener("click",Y,!0)}function k(){return[_.popperChildren.tooltip,_.popperChildren.backdrop,_.popperChildren.content]}function T(){var t=_.props.followCursor;return t&&"focus"!==n||Dc&&"initial"===t}function O(t,e){var n=_.popperChildren.tooltip;function i(t){t.target===n&&(sh(n,"remove",i),e())}if(0===t)return e();sh(n,"remove",c),sh(n,"add",i),c=i}function E(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];C().addEventListener(t,e,n),m.push({eventType:t,handler:e,options:n})}function A(){_.props.touchHold&&!_.props.target&&(E("touchstart",D,kc),E("touchend",P,kc)),_.props.trigger.trim().split(" ").forEach(function(t){if("manual"!==t)if(_.props.target)switch(t){case"mouseenter":E("mouseover",z),E("mouseout",B);break;case"focus":E("focusin",z),E("focusout",B);break;case"click":E(t,z)}else switch(E(t,D),t){case"mouseenter":E("mouseleave",P);break;case"focus":E(mc?"focusout":"blur",R)}})}function N(){m.forEach(function(t){var e=t.eventType,n=t.handler,i=t.options;C().removeEventListener(e,n,i)}),m=[]}function L(e){var n=i=e,r=n.clientX,o=n.clientY;if(h){var a=Ic(e.target,function(e){return e===t}),s=t.getBoundingClientRect(),l=_.props.followCursor,u="horizontal"===l,c="vertical"===l,d=Hc(["top","bottom"],lh(x)),f=x.getAttribute("x-placement"),p=!!f&&!!f.split("-")[1],g=d?x.offsetWidth:x.offsetHeight,v=g/2,m=d?0:p?g:v,y=d?p?g:v:0;!a&&_.props.interactive||(_.popperInstance.reference=pc({},_.popperInstance.reference,{clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:d?g:0,height:d?0:g,top:(u?s.top:o)-m,bottom:(u?s.bottom:o)+m,left:(c?s.left:r)-y,right:(c?s.right:r)+y}}}),_.popperInstance.update()),"initial"===l&&_.state.isVisible&&S()}}function D(t){_.state.isEnabled&&!F(t)&&(_.state.isVisible||(n=t.type,t instanceof MouseEvent&&(i=t,dh.forEach(function(e){return e(t)}))),"click"===t.type&&!1!==_.props.hideOnClick&&_.state.isVisible?U():H(t))}function j(e){var n=Cc(e.target,Tc)===x,i=Ic(e.target,function(e){return e===t});n||i||function(t,e,n,i){if(!t)return!0;var r=n.clientX,o=n.clientY,a=i.interactiveBorder,s=i.distance,l=e.top-o>("top"===t?a+s:a),u=o-e.bottom>("bottom"===t?a+s:a),c=e.left-r>("left"===t?a+s:a),h=r-e.right>("right"===t?a+s:a);return l||u||c||h}(lh(x),x.getBoundingClientRect(),e,_.props)&&(M(),U())}function P(t){if(!F(t))return _.props.interactive?(document.body.addEventListener("mouseleave",U),document.addEventListener("mousemove",y),void dh.push(y)):void U()}function R(t){t.target===C()&&(_.props.interactive&&t.relatedTarget&&x.contains(t.relatedTarget)||U())}function z(t){Cc(t.target,_.props.target)&&H(t)}function B(t){Cc(t.target,_.props.target)&&U()}function F(t){var e="ontouchstart"in window,n=Hc(t.type,"touch"),i=_.props.touchHold;return e&&Dc&&i&&!n||Dc&&!i&&n}function G(){!v&&u&&(v=!0,x.offsetHeight,u())}function V(){var e=_.props.popperOptions,n=_.popperChildren,i=n.tooltip,r=n.arrow,o=Wc(e,"preventOverflow");function a(t){_.props.flip&&!_.props.flipOnUpdate&&(t.flipped&&(_.popperInstance.options.placement=t.placement),Qc(_.popperInstance.modifiers,!1)),i.setAttribute("x-placement",t.placement),!1!==t.attributes["x-out-of-boundaries"]?i.setAttribute("x-out-of-boundaries",""):i.removeAttribute("x-out-of-boundaries"),l&&l!==t.placement&&g&&(i.style.transition="none",requestAnimationFrame(function(){i.style.transition=""})),l=t.placement,g=_.state.isVisible;var e=lh(x),n=i.style;n.top=n.bottom=n.left=n.right="",n[e]=-(_.props.distance-10)+"px";var r=o&&void 0!==o.padding?o.padding:4,a="number"==typeof r,s=pc({top:a?r:r.top,bottom:a?r:r.bottom,left:a?r:r.left,right:a?r:r.right},!a&&r);s[e]=a?r+_.props.distance:(r[e]||0)+_.props.distance,_.popperInstance.modifiers.filter(function(t){return"preventOverflow"===t.name})[0].padding=s,h=s}var s=pc({eventsEnabled:!1,placement:_.props.placement},e,{modifiers:pc({},e?e.modifiers:{},{preventOverflow:pc({boundariesElement:_.props.boundary,padding:4},o),arrow:pc({element:r,enabled:!!r},Wc(e,"arrow")),flip:pc({enabled:_.props.flip,padding:_.props.distance+4,behavior:_.props.flipBehavior},Wc(e,"flip")),offset:pc({offset:_.props.offset},Wc(e,"offset"))}),onCreate:function(t){a(t),G(),e&&e.onCreate&&e.onCreate(t)},onUpdate:function(t){a(t),G(),e&&e.onUpdate&&e.onUpdate(t)}});_.popperInstance=new fc(t,x,s)}function W(){v=!1;var e=T();_.popperInstance?(Qc(_.popperInstance.modifiers,_.props.flip),e||(_.popperInstance.reference=t,_.popperInstance.enableEventListeners()),_.popperInstance.scheduleUpdate()):(V(),e||_.popperInstance.enableEventListeners());var n=_.props.appendTo,i="parent"===n?t.parentNode:Jc(n,[t]);i.contains(x)||(i.appendChild(x),_.props.onMount(_),_.state.isMounted=!0)}function H(t,n){if(J(),!_.state.isVisible){if(_.props.target)return function(t){if(t){var n=Cc(t.target,_.props.target);n&&!n._tippy&&fh(n,pc({},_.props,{content:Jc(e.content,[n]),appendTo:e.appendTo,target:"",showOnInit:!0}))}}(t);if(f=!0,t&&!n&&_.props.onTrigger(_,t),_.props.wait)return _.props.wait(_,t);T()&&!_.state.isMounted&&(_.popperInstance||V(),document.addEventListener("mousemove",L)),I();var i=Gc(_.props.delay,0,xc.delay);i?r=setTimeout(function(){Z()},i):Z()}}function U(){if(J(),!_.state.isVisible)return S();f=!1;var t=Gc(_.props.delay,1,xc.delay);t?o=setTimeout(function(){_.state.isVisible&&$()},t):a=requestAnimationFrame(function(){$()})}function Y(t){if(!_.props.interactive||!x.contains(t.target)){if(C().contains(t.target)){if(Dc)return;if(_.state.isVisible&&Hc(_.props.trigger,"click"))return}!0===_.props.hideOnClick&&(J(),$())}}function J(){clearTimeout(r),clearTimeout(o),cancelAnimationFrame(a)}function Q(e){qc(e=e||{},xc),N();var n=_.props,r=Kc(t,pc({},_.props,e,{ignoreAttributes:!0}));r.ignoreAttributes=Fc(e,"ignoreAttributes")?e.ignoreAttributes||!1:n.ignoreAttributes,_.props=r,A(),M(),y=Vc(j,r.interactiveDebounce),function(t,e,n){var i=nh(t),r=i.tooltip,o=i.content,a=i.backdrop,s=i.arrow;t.style.zIndex=""+n.zIndex,r.setAttribute("data-size",n.size),r.setAttribute("data-animation",n.animation),r.style.maxWidth=n.maxWidth+("number"==typeof n.maxWidth?"px":""),n.role?t.setAttribute("role",n.role):t.removeAttribute("role"),e.content!==n.content&&eh(o,n),!e.animateFill&&n.animateFill?(r.appendChild(oh()),r.setAttribute("data-animatefill","")):e.animateFill&&!n.animateFill&&(r.removeChild(a),r.removeAttribute("data-animatefill")),!e.arrow&&n.arrow?r.appendChild(rh(n.arrowType)):e.arrow&&!n.arrow&&r.removeChild(s),e.arrow&&n.arrow&&e.arrowType!==n.arrowType&&r.replaceChild(rh(n.arrowType),s),!e.interactive&&n.interactive?ah(t,r):e.interactive&&!n.interactive&&function(t,e){t.removeAttribute("tabindex"),e.removeAttribute("data-interactive")}(t,r),!e.inertia&&n.inertia?ih(r):e.inertia&&!n.inertia&&r.removeAttribute("data-inertia"),e.theme!==n.theme&&(uh(r,"remove",e.theme),uh(r,"add",n.theme))}(x,n,r),_.popperChildren=nh(x),_.popperInstance&&(wc.some(function(t){return Fc(e,t)&&e[t]!==n[t]})?(_.popperInstance.destroy(),V(),_.state.isVisible&&_.popperInstance.enableEventListeners(),_.props.followCursor&&i&&L(i)):_.popperInstance.update())}function Z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gc(_.props.duration,0,xc.duration[1]);if(!_.state.isDestroyed&&_.state.isEnabled&&(!Dc||_.props.touch)&&!C().hasAttribute("disabled")&&!1!==_.props.onShow(_)){I(),x.style.visibility="visible",_.state.isVisible=!0,_.props.interactive&&C().classList.add("tippy-active");var e=k();$c(e.concat(x),0),u=function(){if(_.state.isVisible){var n=T();n&&i?L(i):n||_.popperInstance.update(),_.popperChildren.backdrop&&(_.popperChildren.content.style.transitionDelay=Math.round(t/12)+"ms"),_.props.sticky&&($c([x],mc?0:_.props.updateDuration),function t(){_.popperInstance.scheduleUpdate(),_.state.isMounted?requestAnimationFrame(t):$c([x],0)}()),$c([x],_.props.updateDuration),$c(e,t),Xc(e,"visible"),function(t,e){O(t,e)}(t,function(){_.props.aria&&C().setAttribute("aria-".concat(_.props.aria),x.id),_.props.onShown(_),_.state.isShown=!0})}},W()}}function $(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gc(_.props.duration,1,xc.duration[1]);if(!_.state.isDestroyed&&(_.state.isEnabled||p)&&(!1!==_.props.onHide(_)||p)){document.removeEventListener("click",Y,!0),x.style.visibility="hidden",_.state.isVisible=!1,_.state.isShown=!1,g=!1,_.props.interactive&&C().classList.remove("tippy-active");var e=k();$c(e,t),Xc(e,"hidden"),function(t,e){O(t,function(){!_.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&e()})}(t,function(){f||S(),_.props.aria&&C().removeAttribute("aria-".concat(_.props.aria)),_.popperInstance.disableEventListeners(),_.popperInstance.options.placement=_.props.placement,x.parentNode.removeChild(x),_.props.onHidden(_),_.state.isMounted=!1})}}}var ph=!1;function gh(t,e){qc(e||{},xc),ph||(document.addEventListener("touchstart",jc,kc),window.addEventListener("blur",zc),ph=!0);var n,i=pc({},xc,e);n=t,"[object Object]"!=={}.toString.call(n)||n.addEventListener||function(t){var e={isVirtual:!0,attributes:t.attributes||{},contains:function(){},setAttribute:function(e,n){t.attributes[e]=n},getAttribute:function(e){return t.attributes[e]},removeAttribute:function(e){delete t.attributes[e]},hasAttribute:function(e){return e in t.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(e){t.classList.classNames[e]=!0},remove:function(e){delete t.classList.classNames[e]},contains:function(e){return e in t.classList.classNames}}};for(var n in e)t[n]=e[n]}(t);var r=function(t){if(Yc(t))return[t];if(t instanceof NodeList)return Mc(t);if(se(t))return t;try{return Mc(document.querySelectorAll(t))}catch(t){return[]}}(t).reduce(function(t,e){var n=e&&fh(e,i);return n&&t.push(n),t},[]);return Yc(t)?r[0]:r}gh.version="4.3.4",gh.defaults=xc,gh.setDefaults=function(t){Ot(t).forEach(function(e){xc[e]=t[e]})},gh.hideAll=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.exclude,n=t.duration;Mc(document.querySelectorAll(Tc)).forEach(function(t){var i=t._tippy;if(i){var r=!1;e&&(r=function(t){return!!t._tippy&&!Sc.call(t,Tc)}(e)?i.reference===e:t===e.popper),r||i.hide(n)}})},gh.group=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.delay,i=void 0===n?t[0].props.delay:n,r=e.duration,o=void 0===r?0:r,a=!1;function s(t){a=t,h()}function l(e){e._originalProps.onShow(e),t.forEach(function(t){t.set({duration:o}),t.state.isVisible&&t.hide()}),s(!0)}function u(t){t._originalProps.onHide(t),s(!1)}function c(t){t._originalProps.onShown(t),t.set({duration:t._originalProps.duration})}function h(){t.forEach(function(t){t.set({onShow:l,onShown:c,onHide:u,delay:a?[0,se(i)?i[1]:i]:i,duration:a?o:t._originalProps.duration})})}t.forEach(function(t){t._originalProps?t.set(t._originalProps):t._originalProps=pc({},t.props)}),h()},gc&&setTimeout(function(){Mc(document.querySelectorAll("[data-tippy]")).forEach(function(t){var e=t.getAttribute("data-tippy");e&&gh(t,{content:e})})});var vh=function(t){var e={};for(var n in t)xc.hasOwnProperty(n)&&(e[n]=t[n]);return e},mh={duration:0,arrow:!0,size:"small",trigger:"mouseenter focus",theme:"dark",interactive:!0,content:"",allowHtml:!1,extCls:""},yh=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],bh=function(t,e){var i=e.value,r=f({},mh);"object"===o(i)?d(r,i):r.content=i;var a=yh.find(function(t){return e.modifiers[t]});r.placement=r.placement||a||(r.placements||["top"])[0];var s=e.modifiers,l=s.click,u=s.light;if(l&&(r.trigger="click"),u&&(r.theme="light"),r.allowHtml){var c=r.content;if(c instanceof n)r.content=c.$el;else if("string"==typeof c){var h=document.querySelector(c);h&&(r.content=h)}}return r.html&&(r.content=r.html),"function"==typeof r.onClose&&(r.onHide=r.onClose),gh(t,vh(r))},xh={inserted:function(t,e){"object"===o(e.value)&&e.value.disabled||(t.tippyInstance=bh(t,e))},unbind:function(t){t._tippy&&t._tippy.destroy(),t.tippyInstance=null},update:function(t,e){var n=e.value,i="object"===o(n),r=i?n.content:n;i&&n.disabled||!r?(t._tippy&&t._tippy.destroy(),t.tippyInstance=null):r&&(t._tippy?"object"===o(n)&&e.value.allowHtml?t.tippyInstance=bh(t,e):t._tippy.setContent(r):t.tippyInstance=bh(t,e))}};xh.install=function(t){t.directive("bkTooltips",xh)},n.use(xh);var wh=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["bk-form-item",{"is-required":t.required,"is-error":"error"===t.validator.state,"is-checking":t.isChecking},t.extCls]},[t.label?n("label",{class:["bk-label",{"has-desc":!!t.desc&&"border"===t.descType}],style:t.labelStyle},[t.desc?["border"===t.descType?n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.desc,expression:"desc"}],staticClass:"bk-label-text"},[t._v(t._s(t.label))]):n("span",{staticClass:"bk-label-text"},[t._v("\n        "+t._s(t.label)+"\n        "),n("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.desc,expression:"desc"}],class:"bk-icon "+t.descIcon})])]:[n("span",{staticClass:"bk-label-text"},[t._v(t._s(t.label))])]],2):t._e(),n("div",{staticClass:"bk-form-content",style:t.contentStyle},[t._t("default"),t.isChecking?[t.isChecking?n("div",{staticClass:"bk-spin-loading bk-spin-loading-primary bk-spin-loading-mini tooltips-icon",style:{right:t.iconOffset+"px"}},[n("div",{staticClass:"rotate rotate1"}),n("div",{staticClass:"rotate rotate2"}),n("div",{staticClass:"rotate rotate3"}),n("div",{staticClass:"rotate rotate4"}),n("div",{staticClass:"rotate rotate5"}),n("div",{staticClass:"rotate rotate6"}),n("div",{staticClass:"rotate rotate7"}),n("div",{staticClass:"rotate rotate8"})]):t._e()]:t.validator.content?["tooltips"===t.errorDisplayType?n("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top-end",value:t.validator,expression:"validator",modifiers:{"top-end":!0}}],staticClass:"bk-icon icon-exclamation-circle-shape tooltips-icon",style:{right:t.iconOffset+"px"}}):n("p",{staticClass:"form-error-tip"},[t._v(t._s(t.validator.content))])]:t._e(),t._t("tip")],2)])},staticRenderFns:[]},void 0,{name:"bk-form-item",mixins:[ee,Jr.mixin],inject:["form"],props:{label:{type:String},desc:{type:[String,Object],default:""},descType:{type:String,default:"border"},descIcon:{type:String,default:"icon-question-circle"},labelWidth:{type:Number},required:{type:Boolean,default:!1},rules:{type:Array,default:function(){return[]}},iconOffset:{type:Number,default:8},property:{type:String,default:""},extCls:{type:String,default:""},errorDisplayType:{type:String,default:"tooltips"},autoCheck:{type:Boolean,default:!1}},data:function(){return{id:oo(),isChecking:!1,validator:{state:"",content:""}}},computed:{labelStyle:function(){var t=this.labelWidth?this.labelWidth:this.form.labelWidth;return{width:"".concat(t,"px")}},contentStyle:function(){var t=this.labelWidth?this.labelWidth:this.form.labelWidth;return{"margin-left":"".concat(t,"px")}},fieldValue:function(){var t=this.form.model;if(t&&this.property){var e,n=t,i=x(this.property.split("."));try{for(i.s();!(e=i.n()).done;){var r=e.value;if(!n.hasOwnProperty(r))return n=void 0,!1;n=n[r]}}catch(t){i.e(t)}finally{i.f()}return n}}},created:function(){this.dispatch("bk-form","form-item-add",this)},mounted:function(){this.$off("form-blur",this.handlerBlur),this.$off("form-change",this.handlerChange),this.$on("form-blur",this.handlerBlur),this.$on("form-focus",this.handlerFocus),this.$on("form-change",this.handlerChange),this.autoCheck&&this.validate()},beforeDestroy:function(){this.dispatch("bk-form","form-item-delete",this)},methods:{handlerBlur:function(){var t=this;setTimeout(function(){t.validate("blur")},0)},handlerChange:function(){var t=this;setTimeout(function(){t.validate("change")},0)},handlerFocus:function(){this.clearValidator()},setValidator:function(t){this.validator=t},clearValidator:function(){this.validator.state="",this.validator.content=""},checkRule:function(t,e){return s(te.mark(function n(){var i;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.required||!co(e)){n.next=2;break}return n.abrupt("return",!1);case 2:if(!t.regex||t.regex.test(e)){n.next=4;break}return n.abrupt("return",!1);case 4:if(!(t.min&&uo(e)&&e.length<t.min)){n.next=6;break}return n.abrupt("return",!1);case 6:if(!(t.max&&uo(e)&&e.length>t.max)){n.next=8;break}return n.abrupt("return",!1);case 8:if(!(t.min&&lo(e)&&e<t.min)){n.next=10;break}return n.abrupt("return",!1);case 10:if(!(t.max&&lo(e)&&e>t.max)){n.next=12;break}return n.abrupt("return",!1);case 12:if(!t.validator||"function"!=typeof t.validator){n.next=17;break}return n.next=15,t.validator(e);case 15:return i=n.sent,n.abrupt("return",i);case 17:return n.abrupt("return",!0);case 18:case"end":return n.stop()}},n)}))()},clearError:function(){this.validator.state="",this.validator.content=""},validate:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=this.rules;!i.length&&this.form.rules&&se(this.form.rules[this.property])&&(i=this.form.rules[this.property]),this.isChecking=!0;if(!(i=i.filter(function(t){return t.trigger&&t.trigger.indexOf(e)>-1}))||!i.length)return this.validator.state="success",this.validator.content="",n(this.validator),this.isChecking=!1,!0;var r=this,o=this.fieldValue,a=[];i.forEach(function(t){a.push(function(){return new yu((e=s(te.mark(function e(n,i){var a;return te.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.prev=1,e.next=4,r.checkRule(a,o);case 4:e.sent?n(a):i(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i(a);case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(t,n){return e.apply(this,arguments)}));var e})}),function(t,e){var n=yu.resolve(),i=t.length,r=0;return i<=0?n:function e(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n.then(function(e){return t[r].apply(t,[e].concat(a))}).then(function(t){return++r>i-1?yu.resolve(t):e.apply(void 0,a)})}(e)}(a).then(function(e){t.validator.field=t.property,t.validator.state="success",t.validator.content="",n(t.validator)}).catch(function(e){t.validator.field=t.property,t.validator.state="error",t.validator.content="function"==typeof e.message?e.message(o):e.message,n(t.validator)}).finally(function(e){t.isChecking=!1})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(wh);var _h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fontLibrary,n=void 0===e?"bk-icon":e,i=t.prefix,r=void 0===i?"icon":i;return{name:n,props:{type:{type:String,required:!0},svg:{type:Boolean,default:!1},width:{type:String,default:"1em"},height:{type:String,default:"1em"},size:{type:String,default:"inherit"}},render:function(t){var e;if(this.svg)return t("svg",{style:{width:this.width,height:this.height,"font-size":this.size},attrs:{fill:"currentColor","aria-hidden":!0},props:this.$attrs,on:this.$listeners},[t("use",{attrs:{"xlink:href":"#".concat(r,"-").concat(this.type)}})]);var i=(h(e={},n,!0),h(e,"".concat(r,"-").concat(this.type),!0),e);return t("i",{style:{"font-size":this.size},class:i,props:this.$attrs,on:this.$listeners})}}},Sh=_h();Et(Sh),Sh.create=_h;var Mh=n.extend(Ko),Ch=[],Ih=0,kh=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="bkInfoBox"+Ih++;"string"==typeof e&&(e={title:e});var r=new Mh;r.id=i,r.name="bk-info-box",e.width&&(r.width=e.width),r.confirmLoading=Boolean(e.confirmLoading),r.value=!0,r.title=e.title,r.subTitle=e.subTitle,r.type=e.type||"",r.showFooter=!1!==e.showFooter,r.closeIcon=!1!==e.closeIcon,r.maskClose=e.maskClose,r.escClose=e.escClose,r.theme=e.theme||"primary",r.icon=e.icon,r.extCls=e.extCls,r.okText=e.okText,r.cancelText=e.cancelText,r.zIndex=e.zIndex||r.zIndex,jt(e.subHeader)&&(r.$slots[e.type?"type-sub-header":"sub-header"]=e.subHeader),jt(e.header)&&(r.$slots[e.type?"type-header":"header"]=e.header),r.confirmFn=e.confirmFn&&"function"==typeof e.confirmFn?s(te.mark(function n(){var o;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.closeIcon=!1,n.next=3,e.confirmFn(r);case 3:if(o=n.sent,r.closeIcon=!1!==e.closeIcon,o||void 0===o){n.next=7;break}return n.abrupt("return");case 7:t.close(i);case 8:case"end":return n.stop()}},n)})):function(){t.close(i)},r.cancelFn=e.cancelFn&&"function"==typeof e.cancelFn?e.cancelFn:function(){},r.afterLeaveFn=e.afterLeaveFn&&"function"==typeof e.afterLeaveFn?e.afterLeaveFn:function(){},r.stateChangeFn=e.stateChangeFn&&"function"==typeof e.stateChangeFn?e.stateChangeFn:function(){},r.onClose=function(){t.close(i,e.onClose)};var o=document.body,a=e.container;if(a){if(r.ignoreExistMask=!1,"string"!=typeof a)o=a instanceof Element?a:a instanceof n?a.$el:document.querySelector(a);else{var l=document.querySelector(a);if(!l)throw new Error("没有找到 ".concat(l," 节点"));o=l}r.transfer=!1}else r.transfer=!0;return r.$mount(),r.$dom=r.$el,o.appendChild(r.$el),Ch.push(r),r};kh.close=function(t,e){for(var n=Ch.length,i=function(n){var i=Ch[n];if(t===i.id)return i.value=!1,"function"==typeof e&&e(i),Ch.splice(n,1),i.$on("after-leave",function(){i.$el.parentNode.removeChild(i.$el)}),"break"},r=0;r<n&&"break"!==i(r);r++);},n.prototype.$bkInfo=kh,W(W.S,"Number",{MAX_SAFE_INTEGER:9007199254740991}),W(W.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991});var Th=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.wrapperClass,t.fontSizeCls,t.extCls],on:{mouseenter:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[t.leftIcon?n("div",{staticClass:"control-icon left-icon",on:{click:t.handlerLeftIcon}},[n("i",{class:["bk-icon",t.leftIcon]})]):t._e(),t.prepend?n("div",{staticClass:"group-box group-prepend"},[t._t("prepend")],2):t._e(),"textarea"===t.inputType?[n("div",{staticClass:"bk-textarea-wrapper"},[n("textarea",t._b({ref:"textarea",class:["bk-form-textarea",{"textarea-maxlength":t.maxlength}],style:t.computedStyle,on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handlerEnter(e):null},keypress:t.handlerKeypress,keydown:t.handlerKeydown,focus:t.handlerFocus,blur:t.handlerBlur,input:t.handlerInput,paste:t.handlerPaste}},"textarea",t.bindAttribute,!1)),t.showInputWordLimit?[n("p",{staticClass:"bk-limit-box"},[n("span",{staticClass:"strong"},[t._v(t._s(t.curValue&&t.curValue.length||0))]),t._v("/"),n("span",[t._v(t._s(t.maxlength))])])]:t._e()],2)]:[n("div",{class:["bk-input-"+t.type]},[n("input",t._b({ref:"input",class:["bk-form-input",t.inputSizeCls,{"only-bottom-border":"simplicity"===t.behavior}],style:t.computedStyle,on:{keyup:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handlerEnter(e):null},t.handlerKeyup],keypress:t.handlerKeypress,keydown:t.handlerKeydown,focus:t.handlerFocus,blur:t.handlerBlur,input:t.handlerInput,paste:t.handlerPaste}},"input",t.bindAttribute,!1)),!/^number$/i.test(t.type)||t.disabled||t.readonly?t._e():[t.showControls?n("span",{staticClass:"input-number-option"},[n("span",{staticClass:"number-option-item bk-icon icon-angle-up",on:{click:t.handleNumberAdd}}),n("span",{staticClass:"number-option-item bk-icon icon-angle-down",on:{click:t.handleNumberDelete}})]):t._e()]],2)],t.append?n("div",{staticClass:"group-box group-append"},[t._t("append")],2):t._e(),/^number$/i.test(t.type)?t._e():n("div",{ref:"rightIconArea",staticClass:"control-icon right-icon",style:t.rightIconStyle,on:{click:t.handlerRightIcon}},[t.showPwdVisable?n("i",{class:["bk-icon","password"===t.inputType?t.inputPasswordIcon[0]:t.inputPasswordIcon[1]],on:{click:t.togglePass}}):t._e(),t.showClearIcon?n("i",{staticClass:"bk-icon icon-close-circle-shape clear-icon ml5",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handlerClear(e)}}}):t.rightIcon?n("i",{class:["bk-icon",t.rightIcon]}):t._e(),"text"===t.type?[n("p",{directives:[{name:"show",rawName:"v-show",value:t.showInputWordLimit,expression:"showInputWordLimit"}],staticClass:"bk-limit-box ml5",staticStyle:{position:"static"}},[n("span",{staticClass:"strong"},[t._v(t._s(t.curValue&&t.curValue.length||0))]),t._v("/"),n("span",[t._v(t._s(t.maxlength))])])]:t._e()],2)],2)},staticRenderFns:[]},void 0,{name:"bk-input",mixins:[ee,Jr.mixin],props:{type:{type:String,default:"text",validator:function(t){return["text","textarea","password","number","email","url","date"].indexOf(t)>-1}},value:{type:[String,Number],default:""},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},name:{type:String,default:""},maxlength:{type:[Number,String]},minlength:{type:[Number,String]},min:{type:Number,default:-9007199254740991},max:{type:Number,default:9007199254740991},size:{type:String,default:"",validator:function(t){return["","large","small"].includes(t)}},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},rows:{type:Number},inputStyle:{type:Object},fontSize:{type:String,default:"normal"},precision:Number,passwordIcon:{type:Array,default:function(){return["icon-eye-slash","icon-eye"]}},showControls:{type:Boolean,default:!0},extCls:{type:String,default:""},nativeAttributes:{type:Object,default:null},showWordLimit:{type:Boolean,default:void 0},behavior:{type:String,default:"normal",validate:function(t){return["simplicity","normal"].indexOf(t)>-1}},showClearOnlyHover:{type:Boolean,default:!1}},data:function(){return{hover:!1,curValue:"",prepend:!1,append:!1,isActive:!1,defaultPlaceholder:"",rightIconStyle:{right:"10px"},rightPasswordIconStyle:{right:"10px"},inputType:this.type,inputSize:this.size,inputPasswordIcon:this.passwordIcon,inputRightPadding:"10px",iconAreaSizeObserver:null}},computed:{showClearIcon:function(){return this.clearable&&this.curValue&&!this.disabled&&(!this.showClearOnlyHover||this.hover)},showPwdVisable:function(){return"password"===this.type&&this.curValue&&this.inputPasswordIcon.length&&!this.readonly&&!this.disabled},showInputWordLimit:function(){return!!["text","textarea"].includes(this.type)&&("text"===this.type?this.maxlength&&this.showWordLimit:this.maxlength&&!1!==this.showWordLimit)},bindAttribute:function(){return this.getAttributeByType(this.inputType)},computedStyle:function(){return d("textarea"===this.inputType?{}:{"padding-right":this.inputRightPadding},this.inputStyle)},showLeftIcon:function(){return this.leftIcon},showRightIcon:function(){return this.rightIcon||this.clearable&&this.curValue||"password"===this.type||this.maxlength},showTwoRightIcon:function(){return this.clearable&&this.curValue&&"password"===this.type},wrapperClass:function(){var t=["bk-form-control",{"with-left-icon":this.showLeftIcon,"with-right-icon":this.showRightIcon,"with-two-right-icon":this.showTwoRightIcon,"control-prepend-group":this.prepend,"control-append-group":this.append,"control-active":this.isActive,"control-disable":this.disabled}];return this.inputSize&&t.push("bk-input-wrapper-".concat(this.inputSize)),t},fontSizeCls:function(){var t="";return"medium"===this.fontSize?t="medium-font":"large"===this.fontSize&&(t="large-font"),t},inputSizeCls:function(){return this.inputSize?"bk-input-".concat(this.inputSize):""}},watch:{value:{handler:function(t,e){this.setCurValue(t),void 0===e&&this.updateNumberValue(t)},immediate:!0},placeholder:function(t){this.defaultPlaceholder=t||this.t("bk.input.input")},type:function(t){this.inputType=t},size:function(t){this.inputSize=t}},created:function(){this.defaultPlaceholder=this.placeholder||this.t("bk.input.input")},mounted:function(){var t=this;this.prepend=void 0!==this.$slots.prepend,this.append=void 0!==this.$slots.append,this.$slots.append&&this.$nextTick(function(){var e=no(Ut(t.$slots.append[0].elm,"width"));t.rightIconStyle={right:no(t.rightIconStyle.right)+e+"px"}}),this.clearable&&(this.rightPasswordIconStyle={right:"30px"}),this.observerIconSize()},beforeDestroy:function(){this.iconAreaSizeObserver&&"function"==typeof this.iconAreaSizeObserver.disconnect&&this.iconAreaSizeObserver.disconnect(),this.iconAreaSizeObserver=null},methods:{observerIconSize:function(){var t=this,e=this.$refs.rightIconArea;e&&"undefined"!=typeof ResizeObserver&&(this.iconAreaSizeObserver=new ResizeObserver(function(e){var n,i=x(e);try{for(i.s();!(n=i.n()).done;){var r=n.value.contentRect;t.inputRightPadding="".concat(r.width+10,"px")}}catch(t){i.e(t)}finally{i.f()}}),this.iconAreaSizeObserver.observe(e))},getAttributeByType:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={type:t,name:this.name,placeholder:this.defaultPlaceholder,disabled:this.disabled,readonly:this.readonly,maxlength:this.maxlength,minlength:this.minlength,value:this.curValue};t=t.toLocaleLowerCase();var n=this.nativeAttributes||{};switch(t){case"number":d(n,e,{min:this.min,max:this.max});break;case"textarea":d(n,e,{rows:this.rows});break;default:d(n,e)}return n},handleToFixed:function(t,e){var n=Number(t);if(isNaN(n)||n>=Math.pow(10,21))return n.toString();if(void 0===e||0===e)return Math.round(n).toString();var i=n.toString(),r=i.split(".");if(r.length<2)return this.handlePadNum(i,e);var o=r[0],a=r[1],s=a.substr(e,1);if(a.length===e)return i;if(a.length<e)return this.handlePadNum(i,e);if(i=o+"."+a.substr(0,e),zn(s,10)>=5){var l=Math.pow(10,e),u=Number(i.replace(".",""));u++,u/=l,i=this.handlePadNum(u+"",e)}return i},handlePadNum:function(t,e){var n=t.indexOf(".");if(-1===n){t+=".";for(var i=0;i<e;i++)t+="0";return t}for(var r=e-(t.length-n-1),o=0;o<r;o++)t+="0";return t},handleNumberDelete:function(t){var e=Number(this.curValue);if(e-1>=this.min){var n=(String(e)||"").split(".")[1]||"",i=e-1;void 0!==this.precision&&(i=this.handleToFixed(i,Math.min(16,Math.max(n.length,this.precision)))),this.setCurValue(i),this.$emit("input",i,t),this.$emit("change",i,t),this.dispatch("bk-form-item","form-change")}},handleNumberAdd:function(t){var e=Number(this.curValue);if(e<=this.max-1){var n=(String(e)||"").split(".")[1]||"",i=e+1;void 0!==this.precision&&(i=this.handleToFixed(i,Math.min(16,Math.max(n.length,this.precision)))),this.setCurValue(i),this.$emit("input",i,t),this.$emit("change",i,t),this.dispatch("bk-form-item","form-change")}},handlerEnter:function(t){var e=t.target.value;this.$emit("enter",e,t)},handlerKeyup:function(t){var e=t.target.value;this.$emit("keyup",e,t)},handlerKeypress:function(t){var e=t.target.value;this.$emit("keypress",e,t)},handlerKeydown:function(t){var e=t.target.value;this.$emit("keydown",e,t)},handlerFocus:function(t){var e=t.target.value;this.isActive=!0,this.$emit("focus",e,t),this.dispatch("bk-form-item","form-focus")},toPrecision:function(t,e){return void 0===e&&(e=0),this.handleToFixed(t,e)},handlerBlur:function(t){var e=t.target.value;/^number$/i.test(this.type)&&""!==e&&(""!==e&&/^-?\d*(.\d*)?$/i.test(e)&&(e>this.max||e<this.min)&&(e=this.getCurrentNumberValue()),(e=void 0!==this.precision?this.toPrecision(Number(e),this.precision,!0):Number(e))+""!=t.target.value+""&&(this.setCurValue(e),t.target.value=e,this.$emit("change",e,t),this.$emit("input",e,t))),this.isActive=!1,this.$emit("blur",e,t),this.dispatch("bk-form-item","form-blur")},handlerPaste:function(t){var e=t.target.value;this.$emit("paste",e,t),this.$emit("change",e,t),this.dispatch("bk-form-item","form-change")},getCurrentNumberValue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e="";return""!==(t=null===t?this.curValue:t)&&/^-?\d*(.\d*)?$/i.test(t)?e=(e=(e=Number(t))>this.max?this.max:e)<this.min?this.min:e:""},handlerInput:function(t){var e=t.target.value;this.setCurValue(e),this.$emit("input",e,t),this.$emit("change",e,t),this.dispatch("bk-form-item","form-change")},handlerClear:function(t){this.curValue="",this.$emit("input",this.curValue,t),this.$emit("change",this.curValue,t),this.$emit("clear",this.curValue,t),this.dispatch("bk-form-item","form-change")},handlerLeftIcon:function(t){this.$emit("left-icon-click",this.curValue,t)},handlerRightIcon:function(t){this.$emit("right-icon-click",this.curValue,t)},focus:function(t){"textarea"===this.type?this.$refs.textarea.focus():this.$refs.input.focus()},blur:function(t){"textarea"===this.type?this.$refs.textarea.blur():this.$refs.input.blur()},setCurValue:function(t){if(t===this.curValue)return!1;this.curValue=t},updateNumberValue:function(t){""!==t&&/^number$/i.test(this.type)&&/^-?\d*(.\d*)?$/i.test(t)&&(t=this.getCurrentNumberValue(t),this.curValue="number"==typeof this.precision?this.toPrecision(Number(t),this.precision):Number(t))},togglePass:function(){"password"===this.inputType?this.inputType="text":this.inputType="password"}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Th);var Oh,Eh=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return"default"===t.type?n("div",{staticClass:"bk-loading bk-default-loading",class:t.extCls,style:{position:"relative"}},[n("div",{staticClass:"bk-loading-body"},[t._t("default")],2),n("transition",{attrs:{name:"fade",duration:{enter:t.duration}},on:{"after-leave":t.animationFinish}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"bk-loading-wrapper",style:{renderZIndex:t.renderZIndex,backgroundColor:t.bgColor}},[n("div",{class:t.computedClass},[t.isSpin?[n("div",{staticClass:"rotate rotate1"}),n("div",{staticClass:"rotate rotate2"}),n("div",{staticClass:"rotate rotate3"}),n("div",{staticClass:"rotate rotate4"}),n("div",{staticClass:"rotate rotate5"}),n("div",{staticClass:"rotate rotate6"}),n("div",{staticClass:"rotate rotate7"}),n("div",{staticClass:"rotate rotate8"})]:[n("div",{staticClass:"point point1"}),n("div",{staticClass:"point point2"}),n("div",{staticClass:"point point3"}),n("div",{staticClass:"point point4"})]],2),n("div",{staticClass:"bk-loading-title"},[t._t("title",[t._v(t._s(t.title))])],2)])])],1):n("transition",{attrs:{name:"fade",duration:{enter:t.duration}},on:{"after-leave":t.animationFinish}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"bk-loading",class:t.extCls,style:{position:t.type,renderZIndex:t.renderZIndex,backgroundColor:t.bgColor}},[n("div",{staticClass:"bk-loading-wrapper"},[n("div",{class:t.computedClass},[t.isSpin?[n("div",{staticClass:"rotate rotate1"}),n("div",{staticClass:"rotate rotate2"}),n("div",{staticClass:"rotate rotate3"}),n("div",{staticClass:"rotate rotate4"}),n("div",{staticClass:"rotate rotate5"}),n("div",{staticClass:"rotate rotate6"}),n("div",{staticClass:"rotate rotate7"}),n("div",{staticClass:"rotate rotate8"})]:[n("div",{staticClass:"point point1"}),n("div",{staticClass:"point point2"}),n("div",{staticClass:"point point3"}),n("div",{staticClass:"point point4"})]],2),n("div",{staticClass:"bk-loading-title"},[t._t("title",[t._v(t._s(t.title))])],2)])])])},staticRenderFns:[]},void 0,{name:"bk-loading",props:{isLoading:{type:Boolean,default:!1},title:{type:[String,Object],default:""},mode:{type:String,default:"normal"},size:{type:String,default:"large"},theme:{type:String,default:"colorful"},delay:{type:Number,default:0},immediate:{type:Boolean,default:!1},opacity:{type:Number,default:.9},color:{type:String,default:"#ffffff"},zIndex:{type:Number},afterLeave:{type:Function},extCls:{type:String,default:""},type:{type:String,default:"default"}},data:function(){return{timer:0,hide:!1,duration:500,isShow:!1}},computed:{isSpin:function(){return"spin"===this.mode},bgColor:function(){var t=this.color.replace(/\s/gm,"");if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(t)){var e=t.substring(1).split("");return 3===e.length&&(e=[e[0],e[0],e[1],e[1],e[2],e[2]]),"rgba("+[(e="0x"+e.join(""))>>16&255,e>>8&255,255&e].join(",")+",".concat(this.opacity,")")}return/^rgba?\(([^\)]+)\)/.test(t)?t.replace(/^rgb\(([^\)]+)\)/,"rgba($1,".concat(this.opacity,")")):this.color},computedClass:function(){return this.isSpin?"bk-spin-loading bk-spin-loading-".concat(this.size," bk-spin-loading-").concat(this.theme):"bk-loading1 bk-".concat(this.theme," bk-size-").concat(this.size)},hasZIndexOption:function(){if("fixed"!==this.type)return"number"==typeof this.zIndex&&!$t(this.zIndex)},renderZIndex:{get:function(){return this.zIndex},set:function(){}}},watch:{hide:function(t){var e=this;if(t){var n=isNaN(this.delay)?0:Number(this.delay);clearTimeout(this.timer),n>0?this.timer=setTimeout(function(){e.hideLoading()},n):this.hideLoading()}},isShow:function(t){t&&!this.hasZIndexOption&&(this.renderZIndex=_t.nextZIndex())},isLoading:{handler:function(t){"default"===this.type&&(t?this.isShow=t:this.hide=!0)},immediate:!0}},mounted:function(){this.hide=!1},methods:{hideLoading:function(){this.isShow=!1,this.$el.addEventListener("transitionend",this.destroyEl)},destroyEl:function(){this.$el.removeEventListener("transitionend",this.destroyEl),this.$destroy(),this.$el.parentNode.removeChild(this.$el)},animationFinish:function(){this.afterLeave&&"function"==typeof this.afterLeave&&this.afterLeave()}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Ah=n.extend(Eh),Nh=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"string"==typeof t&&(t={title:t}),t.type="fixed",t.opacity=t.opacity||.9,t.color=t.color||"#ffffff",jt((Oh=new Ah({propsData:t})).title)?(Oh.$slots.title=[Oh.title],Oh.title=null):delete Oh.$slots.title,Oh.viewmodel=Oh.$mount(),document.body.appendChild(Oh.viewmodel.$el),Oh.$dom=Oh.viewmodel.$el,Oh.viewmodel.isShow=!0,Oh.viewmodel};Nh.hide=function(){Oh.viewmodel.hide=!0},n.prototype.$bkLoading=Nh;var Lh=n.extend(Eh);function Dh(t,e){if(t.$vm||(t.$vm=t.viewmodel.$mount(),t.appendChild(t.$vm.$el)),clearTimeout(t.$vm.timer),e.isLoading)n.nextTick(function(){t.$vm.isShow=!0});else{var i=isNaN(e.delay)?0:Number(e.delay);i>0?t.$vm.timer=setTimeout(function(){t.$vm.isShow=!1},i):t.$vm.isShow=!1}e.title&&(t.$vm.title=e.title)}var jh={inserted:function(t,e){var i=e.value,r=getComputedStyle(t).position,o={};for(var a in r&&"relative"===r&&"absolute"===r||(t.style.position="relative"),i)"isLoading"!==a&&(o[a]=i[a]);o.delay=3e3,o.type="absolute",o.opacity=o.opacity||.9,o.color=o.color||"#ffffff",t.viewmodel=new Lh({propsData:o}),o.immediate?function(t,e){t.$vm||(t.$vm=t.viewmodel.$mount(),t.appendChild(t.$vm.$el)),t.$vm.duration=0,n.nextTick(function(){t.$vm.isShow=!0})}(t,e.value):Dh(t,e.value)},update:function(t,e){Dh(t,e.value)}};Eh.install=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Eh.props||{};Ot(e).forEach(function(t){n.hasOwnProperty(t)&&("function"==typeof n[t]||n[t]instanceof Array?n[t]={type:n[t],default:e[t]}:n[t].default=e[t])}),Eh.name=e.namespace?Eh.name.replace("bk",e.namespace):Eh.name,t.component(Eh.name,Eh),t.directive("bkloading",jh)};var Ph=d(Eh,{Loading:Nh,directive:jh});W(W.S,"Date",{now:function(){return(new Date).getTime()}});var Rh=M.Date.now,zh={primary:"icon-info-circle-shape",error:"icon-close-circle-shape",warning:"icon-exclamation-circle-shape",success:"icon-check-circle-shape"},Bh=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"vertical-move"},on:{"after-leave":t.destroyEl,enter:t.setShowCopyText}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:["bk-message",t.themeClass,t.extCls],style:t.verticalStyle,on:{mouseenter:t.stopCountDown,mouseleave:t.startCountDown}},[n("div",{staticClass:"bk-message-icon"},[n("i",{class:["bk-icon",t.tipsIcon]})]),n("div",{ref:"content",class:["bk-message-content",{"multi-ellipsis":t.multiEllipsis,ellipsis:t.singleEllipsis}],style:t.ellipsisStyle},[t._t("default",[t._v(t._s(t.message))])],2),t.showCopyText?n("div",{class:["bk-message-copy",{copied:t.copied}],on:{click:t.copyContent}},[t._v("\n      "+t._s(t.localeCopyText)+"\n    ")]):t._e(),t.dismissable?n("div",{staticClass:"bk-message-close"},[n("i",{class:["bk-icon icon-close",t.showCopyText?"ml10":"ml30"],on:{click:function(e){return e.stopPropagation(),t.close(e)}}})]):t._e()])])},staticRenderFns:[]},void 0,{name:"bk-message",mixins:[Jr.mixin],data:function(){return{theme:"primary",message:"",delay:3e3,icon:"",dismissable:!0,verticalOffset:0,horizonOffset:0,visible:!1,countID:null,onClose:function(){},extCls:"",copied:!1,ellipsisCopy:!1,showCopyText:!1}},computed:{themeClass:function(){return"bk-message-".concat(this.theme)},verticalStyle:function(){return{top:"".concat(this.verticalOffset,"px")}},tipsIcon:function(){return this.icon||zh[this.theme]},singleEllipsis:function(){return 1===this.ellipsisLine},multiEllipsis:function(){return this.ellipsisLine>1},ellipsisStyle:function(){return{"--line":this.ellipsisLine}},localeCopyText:function(){return this.copied?this.t("bk.message.copied"):this.t("bk.message.copy")}},mounted:function(){this.startCountDown()},methods:{destroyEl:function(){this.$destroy(),this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},startCountDown:function(){var t=this;this.delay>0&&(this.countID=setTimeout(function(){t.visible&&t.close()},this.delay))},stopCountDown:function(){clearTimeout(this.countID)},close:function(){this.visible=!1,"function"==typeof this.onClose&&this.onClose()},copyContent:function(){var t,e;this.$refs.content&&!this.copied&&(t=this.$refs.content.textContent,e=document.createElement("textarea"),document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy")?document.execCommand("copy"):console.warn("unsupported this function, please use Google Chrome."),document.body.removeChild(e),this.copied=!0)},setShowCopyText:function(){this.showCopyText=this.ellipsisCopy&&ho(this.$refs.content)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Fh=n.extend(Bh),Gh=[],Vh=0,Wh=function t(e){if(0!==e.limit){e.limit>0&&t.batchClose(e.limit);var n="messageInstance_".concat(Rh(),"_").concat(Vh++),i=zn(e.offsetY)||30,r=zn(e.spacing)||10;(null===e.ellipsisLine||void 0===e.ellipsisLine||""===e.ellipsisLine||isNaN(e.ellipsisLine))&&(e.ellipsisLine=1);var a=e.ellipsisLine,s=i;"string"!=typeof e&&"number"!=typeof e||(e={message:e});var l=e.onClose;e.onClose=function(){t.close(n,l)};var u=new Fh({data:e});return null!==e.message&&"object"===o(e.message)&&e.message.hasOwnProperty("componentOptions")&&(u.$slots.default=[e.message],u.message=null),u.id=n,u.spacing=r,u.ellipsisLine=a,u.verticalOffset=0,u.$mount(),u.dom=u.$el,document.body.appendChild(u.$el),Gh.forEach(function(t){s+=zn(t.$el.offsetHeight)+zn(r)}),u.verticalOffset=s,u.horizonOffset=r,u.visible=!0,Gh.push(u),u}t.batchClose()};Wh.close=function(t,e){var n=-1;if(Gh.some(function(e,i){if(e.id===t)return n=i,!0}),n>-1){var i=Gh[n];"function"==typeof e&&e(i),Gh.forEach(function(t,e){e>n&&(t.verticalOffset-=i.dom.offsetHeight+i.spacing)}),Gh.splice(n,1)}},Wh.batchClose=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=Gh.length;t<=e&&Gh.slice(0,e-t+1).forEach(function(t){t.close()})},n.prototype.$bkMessage=Wh;var Hh={primary:"icon-info-circle-shape",error:"icon-close-circle-shape",warning:"icon-exclamation-circle-shape",success:"icon-check-circle-shape"},Uh=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"placement-slide"},on:{"after-leave":t.destroyEl}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:["bk-notify",t.themeClass,t.hDirection,t.extCls],style:t.placementStyle,on:{mouseenter:t.stopCountDown,mouseleave:t.startCountDown}},[n("div",{staticClass:"bk-notify-icon"},[n("i",{class:["bk-icon",t.tipsIcon]})]),n("div",{staticClass:"bk-notify-content"},[t.title?n("h3",{staticClass:"bk-notify-content-title"},[t._v(t._s(t.title))]):t._e(),t._t("default",[n("div",{class:["bk-notify-content-text",{limitLine:t.limitLine>0}],style:t.contentStyle},[t.useHTMLString?n("span",{domProps:{innerHTML:t._s(t.message)}}):[t._v(t._s(t.message))],t.showViewMore?n("button",{staticClass:"showMoreBtn",on:{click:t.onClickViewMore}},[t._v("\n            "+t._s(t.t("bk.notify.showMore"))+"\n          ")]):t._e()],2)])],2),t.dismissable?n("div",{staticClass:"bk-notify-close"},[n("i",{staticClass:"bk-icon icon-close",on:{click:function(e){return e.stopPropagation(),t.close(e)}}})]):t._e()])])},staticRenderFns:[]},void 0,{name:"bk-notify",mixins:[Jr.mixin],data:function(){return{theme:"primary",icon:"",title:"",message:"",position:"top-right",delay:5e3,dismissable:!0,limitLine:2,showViewMore:!1,verticalOffset:0,horizonOffset:0,visible:!1,limit:0,countID:null,onClose:function(){},extCls:"",useHTMLString:!1}},computed:{themeClass:function(){return"bk-notify-".concat(this.theme)},vDirection:function(){return/top-/.test(this.position)?"top":"bottom"},hDirection:function(){return this.position.indexOf("right")>-1?"right":"left"},placementStyle:function(){var t;return h(t={},this.hDirection,"".concat(this.horizonOffset,"px")),h(t,this.vDirection,"".concat(this.verticalOffset,"px")),t},contentStyle:function(){var t={};return this.limitLine>0&&(t["max-height"]="".concat(20*this.limitLine,"px")),t},tipsIcon:function(){return this.icon||Hh[this.theme]}},mounted:function(){this.startCountDown()},methods:{destroyEl:function(){this.$destroy(),this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},onClickViewMore:function(){"function"==typeof this.onViewMoreHandler&&this.onViewMoreHandler()},startCountDown:function(){var t=this;this.delay>0&&(this.countID=setTimeout(function(){t.visible&&t.close()},this.delay))},stopCountDown:function(){clearTimeout(this.countID)},close:function(){this.visible=!1,"function"==typeof this.onClose&&this.onClose()}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Yh=n.extend(Uh),Jh=[],Qh=0,Zh=function t(e){if(0!==e.limit){e.limit>0&&t.batchClose(e.limit);var n="notifyInstance_".concat(Rh(),"_").concat(Qh++),i=e.offsetY||30,r=e.offsetX||10,a=e.spacing||10,s=i;"string"!=typeof e&&"number"!=typeof e||(e={message:e});var l=e.onClose;e.onClose=function(){t.close(n,l)};var u=new Yh({data:e});return null!==e.message&&"object"===o(e.message)&&e.message.hasOwnProperty("componentOptions")&&(u.$slots.default=[e.message],u.message=null),u.id=n,u.spacing=a,u.verticalOffset=0,u.$mount(),u.dom=u.$el,document.body.appendChild(u.$el),Jh.forEach(function(t){t.position===e.position&&(s+=t.$el.offsetHeight+a)}),u.verticalOffset=s,u.horizonOffset=r,u.visible=!0,Jh.push(u),u}t.batchClose()};Zh.close=function(t,e){var n=-1;if(Jh.some(function(e,i){if(e.id===t)return n=i,!0}),n>-1){var i=Jh[n];"function"==typeof e&&e(i),Jh.forEach(function(t,e){t.position===i.position&&e>n&&(t.verticalOffset-=i.dom.offsetHeight+i.spacing)}),Jh.splice(n,1)}},Zh.batchClose=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=Jh.length;t<=e&&Jh.slice(0,e-t+1).forEach(function(t){t.close()})},n.prototype.$bkNotify=Zh;var $h=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{directives:[{name:"show",rawName:"v-show",value:!t.unmatched,expression:"!unmatched"}],staticClass:"bk-option",class:{"is-selected":t.isSelected,"is-disabled":t.disabled,"is-highlight":t.isHighlight},on:{click:t.handleOptionClick}},[n("div",{staticClass:"bk-option-content"},[t._t("default",[n("div",{staticClass:"bk-option-content-default",attrs:{title:t.name}},[t.select.multiple&&t.isSelected?n("i",{staticClass:"bk-option-icon bk-icon icon-check-1"}):t._e(),n("span",{staticClass:"bk-option-name",class:t.select.fontSizeCls},[t._v("\n          "+t._s(t.name)+"\n        ")])])])],2)])},staticRenderFns:[]},void 0,{name:"bk-option",props:{id:{type:[String,Number],required:!0},name:{type:[String,Number],required:!0},disabled:Boolean},inject:["select","optionGroup"],data:function(){return{unmatched:!1,isHighlight:!1}},computed:{isSelected:function(){return this.select.multiple&&se(this.select.selected)?this.select.selected.includes(this.id):this.select.selected===this.id},lowerName:function(){return String(this.name).toLowerCase()}},created:function(){this.select.registerOption(this),this.optionGroup&&this.optionGroup.registerOption(this)},beforeDestroy:function(){this.select.removeOption(this),this.optionGroup&&this.optionGroup.removeOption(this)},methods:{handleOptionClick:function(){if(this.disabled)return!1;var t=this.select;this.isSelected&&t.multiple?t.unselectOption(this):this.isSelected||t.selectOption(this),t.multiple||t.close()}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et($h);var Xh=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"bk-option-group"},[n("div",{staticClass:"bk-option-group-name",class:[t.select.fontSizeCls,t.showCollapse&&!t.readonly?"is-collapse":""],on:{click:t.handleGroupNameClick}},[t.showPrefixOpt?[n("span",{class:["bk-option-group-prefix",t.readonly?"readonly":""]},[t._v(t._s(t.prefixOptionText))])]:t._e(),t._t("group-name",[t._v(t._s(t.name)+" "),t.showCount?[t._v("("+t._s(t.options.length)+")")]:t._e()]),t.showSelectAll?[n("span",{staticClass:"btn-check-all"},[n("bk-checkbox",{attrs:{indeterminate:t.indeterminate,checked:t.isSelectAllItems},on:{change:t.handleSelectAll},nativeOn:{click:function(e){return t.handleCheckAllClick(e)}}})],1)]:t._e()],2),n("ul",{directives:[{name:"show",rawName:"v-show",value:!t.isLocalCollapse,expression:"!isLocalCollapse"}],staticClass:"bk-group-options"},[t._t("default")],2)])},staticRenderFns:[]},void 0,{name:"bk-option-group",components:{bkCheckbox:re},props:{name:{type:String,required:!0},showCount:{type:Boolean,default:!0},showCollapse:{type:Boolean,default:!1},isCollapse:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},showSelectAll:{type:Boolean,default:!1}},provide:function(){return{optionGroup:this}},inject:["select"],data:function(){return{options:[],selectedAll:!1,isLocalCollapse:!1}},computed:{indeterminate:function(){return!this.isSelectAllItems&&!this.isEmpty},isSelectAllItems:function(){return Array.prototype.every.call(this.options,function(t){return t.isSelected})},isEmpty:function(){return Array.prototype.every.call(this.options,function(t){return!t.isSelected})},showPrefixOpt:function(){return!!this.showCollapse},prefixOptionText:function(){return this.isLocalCollapse?"+":"-"},unmatchedCount:function(){return this.options.filter(function(t){return t.unmatched}).length},visible:function(){var t=this.options.length;return!t||t!==this.unmatchedCount}},watch:{isCollapse:{immediate:!0,handler:function(t){this.isLocalCollapse=t}}},methods:{handleCheckAllClick:function(t){t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault()},handleSelectAll:function(){var t=this;this.isSelectAllItems?Array.prototype.forEach.call(this.options,function(e){return t.select.unselectOption(e)}):Array.prototype.forEach.call(this.options,function(e){return t.select.selectOption(e)})},handleGroupNameClick:function(){this.showCollapse&&!this.readonly&&(this.isLocalCollapse=!this.isLocalCollapse,this.$emit("collapse",this.isLocalCollapse),this.$emit("update:isCollapse",this.isLocalCollapse))},registerOption:function(t){this.options.push(t)},removeOption:function(t){var e=this.options.indexOf(t);e>-1&&this.options.splice(e,1)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Xh);var Kh=Oi.onFreeze;Tt("seal",function(t){return function(e){return t&&k(e)?t(Kh(e)):e}});var qh=M.Object.seal,td=Ct({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bk-tooltip"},[e("div",{ref:"html",staticClass:"bk-tooltip-content"},[this._t("content",[this._v(this._s(this.content))])],2),e("div",{ref:"reference",staticClass:"bk-tooltip-ref",attrs:{tabindex:"-1"}},[this._t("default")],2)])},staticRenderFns:[]},void 0,{name:"bk-popover",mixins:[Qo],props:{placement:{type:String,default:"top"},content:{type:String,default:""},theme:{type:String,default:"dark"},interactive:{type:[Boolean,String],default:!0},arrow:{type:[Boolean,String],default:!0},arrowType:{type:String,default:"sharp"},boundary:{type:String,default:"window"},showOnInit:{type:Boolean,default:!1},arrowTransform:{type:String,default:""},trigger:{type:String,default:"mouseenter focus"},animation:{type:String,default:"shift-away"},distance:{type:Number,default:10},width:{type:[String,Number],default:"auto"},maxWidth:{type:[String,Number],default:"auto"},offset:{type:[Number,String],default:0},always:{type:Boolean,default:!1},followCursor:{type:[Boolean,String],default:!1},sticky:{type:[Boolean,String],default:!1},delay:{type:Number,default:100},size:{type:String,default:"small"},onShow:{type:Function,default:function(){}},onHide:{type:Function,default:function(){}},tippyOptions:{type:Object,default:function(){return{}}},extCls:{type:String,default:""},disabled:Boolean},data:function(){return{instance:null}},watch:{disabled:function(t){this.instance&&(t?this.instance.disable():this.instance.enable())},tippyOptions:function(t){this.instance&&this.instance.set(t)}},mounted:function(){var t=this,e=vh(d({},{appendTo:Jo.container},this.$props,this.tippyOptions)),n=e.onShow,i=e.onHide;e.onShow=function(e){e.set({zIndex:t.getLocalZIndex(t.zIndex)}),n&&n(e),t.$emit("show")},e.onHide=function(e){i&&i(e),t.$emit("hide")},e.content=this.$refs.html,this.always&&(e.showOnInit=!0,e.hideOnClick=!1,e.trigger="manual"),this.instance=gh(this.$refs.reference,e),this.disabled&&this.instance.disable()},updated:function(){this.instance.setContent(this.$refs.html),this.instance.popperInstance&&this.instance.popperInstance.update()},beforeDestroy:function(){this.instance.destroy()},methods:{showHandler:function(){this.instance.show()},hideHandler:function(){this.instance.hide()}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(td,function(t,e){t.prototype.$bkPopover=function(t,e){return gh(t,e)}});var ed,nd=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"bk-option",class:{"is-disabled":t.disabled},on:{click:t.handleOptionClick}},[n("div",{staticClass:"bk-option-content"},[n("span",{staticClass:"bk-option-name"},[t._v("\n      "+t._s(t.t("bk.select.selectAll"))+"\n      "),t.isAllSelected?[t._v("\n        "+t._s("("+t.select.selectedOptions.length+")")+"\n      ")]:t._e()],2)])])},staticRenderFns:[]},void 0,{name:"bk-option-all",mixins:[Jr.mixin],inject:["select"],data:function(){return{enabledOptions:[]}},computed:{disabled:function(){return!this.enabledOptions.length},isAllSelected:function(){return!this.enabledOptions.some(function(t){return!t.isSelected})}},watch:{"select.options":{immediate:!0,handler:function(t){this.setEnabledOptions()}}},methods:{setEnabledOptions:function(){this.enabledOptions=this.select.options.filter(function(t){return!t.disabled})},handleOptionClick:function(){if(this.disabled)return!1;this.isAllSelected?this.select.reset():this.select.selectAll()}}},void 0,!1,void 0,!1,void 0,void 0,void 0),id=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-select-tag-container",class:{"is-fixed-height":t.select.collapseTag,"is-focus":t.select.focus,"is-available":!t.select.disabled&&!t.select.readonly,"is-disabled":t.select.disabled,"is-readonly":t.select.readonly,"is-large-size":"large"===t.select.size,"is-small-size":"small"===t.select.size,"has-prefix-icon":!!t.select.prefixIcon}},t._l(t.select.selectedOptions,function(e){return n("div",{key:e.id,staticClass:"bk-select-tag",class:{"width-limit-tag":t.select.isTagWidthLimit}},[n("span",[t._v(t._s(e.name))]),n("i",{staticClass:"bk-icon icon-close",on:{click:function(n){t.handleRemoveSelected(n,e)}}})])}),0)},staticRenderFns:[]},void 0,{inject:["select"],data:function(){return{overflowTagNode:null,overflowTagIndex:null}},mounted:function(){var t=this;this.calcOverflow(),this.$watch(function(){return t.select.focus},this.calcOverflow),this.$watch(function(){return t.select.selected},this.calcOverflow)},methods:{handleRemoveSelected:function(t,e){if(this.select.disabled||this.select.readonly)return!1;t.stopPropagation(),this.select.handleTabRemove(e),this.select.unselectOption(e)},getTagDOM:function(t){var e=[].slice.call(this.$el.querySelectorAll(".bk-select-tag"));return"number"==typeof t?e[t]:e},calcOverflow:function(){var t=this;if(this.reomveOverflowTagNode(),!this._isMounted||!this.select.collapseTag||this.select.focus||this.select.selected.length<2)return!1;setTimeout(function(){var e=t.getTagDOM(),n=e.findIndex(function(t,n){return!!n&&e[n-1].offsetTop!==t.offsetTop});t.overflowTagIndex=n>-1?n:null,t.$el.scrollTop=0,t.insertOverflowTag()})},insertOverflowTag:function(){var t=this;if(this.overflowTagIndex){var e=this.getOverflowTagNode(),n=this.getTagDOM(this.overflowTagIndex);n?(this.setOverflowTagContent(),this.$el.insertBefore(e,n),setTimeout(function(){var n=t.getTagDOM(t.overflowTagIndex-1);e.offsetTop!==n.offsetTop&&(t.overflowTagIndex--,t.$el.insertBefore(e,e.previousSibling),t.setOverflowTagContent())})):this.overflowTagIndex=null}},setOverflowTagContent:function(){this.overflowTagNode.textContent="+".concat(this.select.selected.length-this.overflowTagIndex)},getOverflowTagNode:function(){if(this.overflowTagNode)return this.overflowTagNode;var t=document.createElement("span");return t.className="bk-select-overflow-tag",this.overflowTagNode=t,t},reomveOverflowTagNode:function(){this.overflowTagNode&&this.overflowTagNode.parentNode===this.$el&&this.$el.removeChild(this.overflowTagNode)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),rd={PINYINS:["A","AI","AN","ANG","AO","BA","BAI","BAN","BANG","BAO","BEI","BEN","BENG","BI","BIAN","BIAO","BIE","BIN","BING","BO","BU","CA","CAI","CAN","CANG","CAO","CE","CEN","CENG","CHA","CHAI","CHAN","CHANG","CHAO","CHE","CHEN","CHENG","CHI","CHONG","CHOU","CHU","CHUA","CHUAI","CHUAN","CHUANG","CHUI","CHUN","CHUO","CI","CONG","COU","CU","CUAN","CUI","CUN","CUO","DA","DAI","DAN","DANG","DAO","DE","DEN","DENG","DI","DIAN","DIAO","DIE","DING","DIU","DONG","DOU","DU","DUAN","DUI","DUN","DUO","E","EI","EN","ENG","ER","FA","FAN","FANG","FEI","FEN","FENG","FIAO","FO","FOU","FU","GA","GAI","GAN","GANG","GAO","GE","GEI","GEN","GENG","GONG","GOU","GU","GUA","GUAI","GUAN","GUANG","GUI","GUN","GUO","HA","HAI","HAN","HANG","HAO","HE","HEI","HEN","HENG","HM","HONG","HOU","HU","HUA","HUAI","HUAN","HUANG","HUI","HUN","HUO","JI","JIA","JIAN","JIANG","JIAO","JIE","JIN","JING","JIONG","JIU","JU","JUAN","JUE","JUN","KA","KAI","KAN","KANG","KAO","KE","KEN","KENG","KONG","KOU","KU","KUA","KUAI","KUAN","KUANG","KUI","KUN","KUO","LA","LAI","LAN","LANG","LAO","LE","LEI","LENG","LI","LIA","LIAN","LIANG","LIAO","LIE","LIN","LING","LIU","LO","LONG","LOU","LU","LV","LUAN","LVE","LUN","LUO","M","MA","MAI","MAN","MANG","MAO","ME","MEI","MEN","MENG","MI","MIAN","MIAO","MIE","MIN","MING","MIU","MO","MOU","MU","N","NA","NAI","NAN","NANG","NAO","NE","NEI","NEN","NENG","NI","NIAN","NIANG","NIAO","NIE","NIN","NING","NIU","NONG","NOU","NU","NV","NUAN","NVE","NUN","NUO","O","OU","PA","PAI","PAN","PANG","PAO","PEI","PEN","PENG","PI","PIAN","PIAO","PIE","PIN","PING","PO","POU","PU","QI","QIA","QIAN","QIANG","QIAO","QIE","QIN","QING","QIONG","QIU","QU","QUAN","QUE","QUN","RAN","RANG","RAO","RE","REN","RENG","RI","RONG","ROU","RU","RUA","RUAN","RUI","RUN","RUO","SA","SAI","SAN","SANG","SAO","SE","SEN","SENG","SHA","SHAI","SHAN","SHANG","SHAO","SHE","SHEN","SHENG","SHI","SHOU","SHU","SHUA","SHUAI","SHUAN","SHUANG","SHUI","SHUN","SHUO","SI","SONG","SOU","SU","SUAN","SUI","SUN","SUO","TA","TAI","TAN","TANG","TAO","TE","TENG","TI","TIAN","TIAO","TIE","TING","TONG","TOU","TU","TUAN","TUI","TUN","TUO","WA","WAI","WAN","WANG","WEI","WEN","WENG","WO","WU","XI","XIA","XIAN","XIANG","XIAO","XIE","XIN","XING","XIONG","XIU","XU","XUAN","XUE","XUN","YA","YAN","YANG","YAO","YE","YI","YIN","YING","YO","YONG","YOU","YU","YUAN","YUE","YUN","ZA","ZAI","ZAN","ZANG","ZAO","ZE","ZEI","ZEN","ZENG","ZHA","ZHAI","ZHAN","ZHANG","ZHAO","ZHE","ZHEN","ZHENG","ZHI","ZHONG","ZHOU","ZHU","ZHUA","ZHUAI","ZHUAN","ZHUANG","ZHUI","ZHUN","ZHUO","ZI","ZONG","ZOU","ZU","ZUAN","ZUI","ZUN","ZUO",""],UNIHANS:["阿","哎","安","肮","凹","八","挀","扳","邦","勹","陂","奔","伻","屄","边","灬","憋","汃","冫","癶","峬","嚓","偲","参","仓","撡","冊","嵾","曽","叉","芆","辿","伥","抄","车","抻","阷","吃","充","抽","出","欻","揣","巛","刅","吹","旾","逴","呲","匆","凑","粗","汆","崔","邨","搓","咑","呆","丹","当","刀","嘚","扥","灯","氐","甸","刁","爹","丁","丟","东","吺","厾","耑","垖","吨","多","妸","诶","奀","鞥","儿","发","帆","匚","飞","分","丰","覅","仏","紑","夫","旮","侅","甘","冈","皋","戈","给","根","刯","工","勾","估","瓜","乖","关","光","归","丨","呙","哈","咍","佄","夯","茠","诃","黒","拫","亨","噷","叿","齁","乎","花","怀","欢","巟","灰","昏","吙","丌","加","戋","江","艽","阶","巾","坕","冂","丩","凥","姢","噘","军","咔","开","刊","忼","尻","匼","肎","劥","空","抠","扝","夸","蒯","宽","匡","亏","坤","扩","垃","来","兰","啷","捞","肋","勒","崚","哩","俩","奁","良","撩","毟","拎","伶","溜","囖","龙","瞜","噜","驴","娈","掠","抡","罗","呣","妈","埋","嫚","牤","猫","么","呅","门","甿","咪","宀","喵","乜","民","名","谬","摸","哞","毪","嗯","拏","腉","囡","囔","孬","疒","娞","恁","能","妮","拈","娘","鸟","捏","囜","宁","妞","农","羺","奴","女","奻","疟","黁","挪","喔","讴","妑","拍","眅","乓","抛","呸","喷","匉","丕","囨","剽","氕","姘","乒","钋","剖","仆","七","掐","千","呛","悄","癿","亲","靑","卭","丘","区","峑","缺","夋","呥","穣","娆","惹","人","扔","日","茸","厹","邚","挼","堧","婑","瞤","捼","仨","毢","三","桒","掻","閪","森","僧","杀","筛","山","伤","弰","奢","申","升","尸","収","书","刷","衰","闩","双","脽","吮","说","厶","忪","捜","苏","狻","夊","孙","唆","他","囼","坍","汤","夲","忑","熥","剔","天","旫","帖","厅","囲","偷","凸","湍","推","吞","乇","穵","歪","弯","尣","危","昷","翁","挝","乌","夕","虲","仙","乡","灱","些","心","星","凶","休","吁","吅","削","坃","丫","恹","央","幺","倻","一","囙","应","哟","佣","优","扜","囦","曰","晕","帀","災","兂","匨","傮","则","贼","怎","増","扎","捚","沾","张","佋","蜇","贞","争","之","中","州","朱","抓","拽","专","妆","隹","宒","卓","乲","宗","邹","租","钻","厜","尊","昨","兙"],EXCEPTIONS:{"曾":"ZENG","沈":"SHEN","嗲":"DIA","碡":"ZHOU","聒":"GUO","炔":"QUE","蚵":"KE","砉":"HUA","嬤":"MO","嬷":"MO","蹒":"PAN","蹊":"XI","丬":"PAN","霰":"XIAN","莘":"XIN","豉":"CHI","饧":"XING","筠":"JUN","长":"CHANG","帧":"ZHEN","峙":"SHI","郍":"NA","芎":"XIONG","谁":"SHUI"}},od=null;function ad(t){return t||null===od?("object"===("undefined"==typeof Intl?"undefined":o(Intl))&&Intl.Collator?(ed=new Intl.Collator(["zh-Hans-CN","zh-CN"]),od=1===Intl.Collator.supportedLocalesOf(["zh-CN"]).length):od=!1,od):od}function sd(t){var e=rd.UNIHANS,n=rd.PINYINS,i=rd.EXCEPTIONS,r={source:t};if(t in i)return r.type=2,r.target=i[t],r;var o,a=-1;if(t.charCodeAt(0)<256)return r.type=1,r.target=t,r;if((o=ed.compare(t,"阿"))<0)return r.type=3,r.target=t,r;if(0===o)r.type=2,a=0;else{if((o=ed.compare(t,"鿿"))>0)return r.type=3,r.target=t,r;0===o&&(r.type=2,a=e.length-1)}if(r.type=2,a<0)for(var s=0,l=e.length-1;s<=l;){var u=e[a=~~((s+l)/2)];if(0===(o=ed.compare(t,u)))break;o>0?s=a+1:l=a-1}return o<0&&a--,r.target=n[a],r.target||(r.type=3,r.target=r.source),r}function ld(t){return"string"==typeof t&&ad()?t.split("").map(function(t){return sd(t)}):t}var ud={isSupported:ad,parse:ld,patchDict:function(t){t&&("function"==typeof t&&(t=[t]),t.forEach&&t.forEach(function(t){"function"==typeof t&&t(rd)}))},genToken:sd,convertToPinyin:function(t,e,n){return ld(t).map(function(t){return e&&2===t.type?t.target.toLowerCase():t.target}).join(n||"")}},cd={patcher:function(t){t.EXCEPTIONS={"嗲":"DIA","碡":"ZHOU","聒":"GUO","炔":"QUE","蚵":"KE","砉":"HUA","嬷":"MO","蹊":"XI","丬":"PAN","霰":"XIAN","豉":"CHI","饧":"XING","帧":"ZHEN","芎":"XIONG","谁":"SHUI","钶":"KE"},t.UNIHANS[91]="伕",t.UNIHANS[347]="仚",t.UNIHANS[393]="诌",t.UNIHANS[39]="婤",t.UNIHANS[50]="腠",t.UNIHANS[369]="攸",t.UNIHANS[123]="乯",t.UNIHANS[171]="刕",t.UNIHANS[102]="佝",t.UNIHANS[126]="犿",t.UNIHANS[176]="列",t.UNIHANS[178]="刢",t.UNIHANS[252]="娝",t.UNIHANS[330]="偸"},shouldPatch:function(t){return"function"==typeof t&&"FOU"===t("伕").target&&"XIA"===t("仚").target&&"ZHONG"===t("诌").target&&"CHONG"===t("婤").target&&"CONG"===t("腠").target&&"YONG"===t("攸").target&&"HOU"===t("乯").target&&"LENG"===t("刕").target&&"GONG"===t("佝").target&&"HUAI"===t("犿").target&&"LIAO"===t("列").target&&"LIN"===t("刢").target&&"E"===t("钶").target}};ud.isSupported()&&cd.shouldPatch(ud.genToken)&&ud.patchDict(cd);var hd=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{ref:"scrollHome",staticClass:"bk-scroll-home",class:t.extCls,on:{mousewheel:t.handleWheel,DOMMouseScroll:t.handleWheel}},[n("main",{staticClass:"bk-scroll-main"},[t.showIndex?n("ul",{staticClass:"bk-scroll-index bk-scroll",style:{height:t.ulHeight+"px",top:-t.totalScrollHeight+"px",width:t.indexWidth+"px"}},t._l(t.indexList,function(e,i){return n("li",{key:i,staticClass:"bk-scroll-item",style:{height:t.itemHeight+"px",top:e.top+"px"}},[t._t("index",[t._v("\n          "+t._s(e.value)+"\n        ")],{data:e.value})],2)}),0):t._e(),n("ul",{ref:"scrollMain",staticClass:"bk-scroll",style:{height:t.ulHeight+"px",top:-t.totalScrollHeight+"px",width:t.mainWidth+"px",left:t.mainLeft+"px"}},t._l(t.listData,function(e){return n("li",{key:e.top,staticClass:"bk-scroll-item",style:{height:t.itemHeight+"px",top:e.top+"px",left:-t.bottomScrollDis*(t.itemWidth-t.mainWidth)/(t.mainWidth-t.bottomScrollWidth)+"px"}},[t._t("default",null,{data:e.value})],2)}),0)]),n("canvas",{ref:"minNav",staticClass:"bk-min-nav",style:"height: "+t.visHeight+"px;"}),t.navHeight<t.visHeight?n("span",{ref:"scrollNav",staticClass:"bk-min-nav-slide bk-nav-show",style:{height:t.navHeight+"px",top:t.minNavTop+"px"},on:{mousedown:function(e){t.startNavMove(t.visHeight-t.navHeight)}}}):t._e(),t.bottomScrollWidth<t.mainWidth?n("span",{staticClass:"bk-min-nav-slide bk-bottom-scroll",style:{left:t.indexWidth+t.bottomScrollDis+"px",width:t.bottomScrollWidth+"px"},on:{mousedown:t.startBottomMove}}):t._e()])},staticRenderFns:[]},void 0,{name:"bk-virtual-scroll",props:{itemHeight:{type:Number,default:16},showIndex:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}},extCls:{type:String,default:""}},data:function(){return{ulHeight:0,allListData:[],offscreenCanvas:"",indexList:[],listData:[],worker:{},mainWidth:0,mainLeft:0,totalHeight:0,itemNumber:0,totalNumber:0,visHeight:0,visWidth:0,totalScrollHeight:0,startMinMapMove:!1,tempVal:0,minMapTop:0,minNavTop:0,navHeight:0,mapHeight:0,moveRate:0,bottomScrollWidth:1/0,bottomScrollDis:0,itemWidth:0,isScrolling:!1,isBottomMove:!1,downPreDefault:!1,upPreDefault:!1,indexWidth:0,observer:{}}},watch:{list:{handler:function(t){this.setListData(t)},deep:!0}},mounted:function(){this.initStatus(),this.initEvent(),this.list.length>0&&this.setListData(this.list)},beforeDestroy:function(){document.removeEventListener("mousemove",this.minNavMove),document.removeEventListener("mouseup",this.moveEnd),window.removeEventListener("resize",this.resize),MutationObserver&&this.observer.disconnect(),this.observer={}},methods:{initStatus:function(){var t=this.$refs.scrollHome,e=this.$refs.scrollMain;this.visHeight=t.offsetHeight||300,this.visWidth=t.offsetWidth||300;var n=e.scrollWidth||0;this.itemWidth=n,this.bottomScrollWidth=this.visWidth*this.visWidth/n<20?20:this.visWidth*this.visWidth/n;var i=window.devicePixelRatio||1;this.$refs.minNav.width=8*i,this.$refs.minNav.height=this.visHeight*i,this.$refs.minNav.getContext("2d").setTransform(i,0,0,i,0,0)},initEvent:function(){document.addEventListener("mousemove",this.minNavMove),document.addEventListener("mouseup",this.moveEnd),window.addEventListener("resize",this.resize),MutationObserver&&(this.observer=new MutationObserver(this.resize),this.observer.observe(this.$el,{attributes:!0,attributeFilter:["style"]}))},resize:function(t){var e=this;this.slowExec(function(){var t=e.visHeight;e.initStatus(),e.setStatus(),e.minMapTop=e.visHeight/t*e.minMapTop,e.minNavTop=e.minMapTop*(e.visHeight-e.navHeight)/(e.mapHeight-e.visHeight/8),e.totalScrollHeight=e.mapHeight===e.canvasHeight/8?0:e.minMapTop/(e.mapHeight-e.visHeight/8)*(e.totalHeight-e.visHeight),e.getListData(e.totalScrollHeight,!0)})},handleWheel:function(t){(void 0!==t.wheelDeltaX?Math.abs(t.wheelDeltaY)>Math.abs(t.wheelDeltaX):2===t.axis)?this.handleVerticalScroll(t):this.handleHorizontalScroll(t)},handleHorizontalScroll:function(t){if(t.preventDefault(),!(this.bottomScrollWidth>=this.mainWidth)){var e=-Math.max(-1,Math.min(1,t.wheelDeltaX||-t.detail)),n=this.bottomScrollDis+4*e;n<=0&&(n=0),n+this.bottomScrollWidth>=this.mainWidth&&(n=this.mainWidth-this.bottomScrollWidth),this.bottomScrollDis=n,this.$emit("horizontal-scroll",this.indexWidth+n)}},handleVerticalScroll:function(t){var e=Math.max(-1,Math.min(1,t.wheelDeltaY||-t.detail));if((e<0?this.downPreDefault:this.upPreDefault)&&t.preventDefault(),!(this.isScrolling||this.itemHeight*this.totalNumber<=this.visHeight)){var n=0;t.wheelDelta&&(n=-.2*t.wheelDelta),t.detail&&(n=t.detail);var i=-2*e;0===e&&(n=0,i=0);var r=this.minMapTop+(n+i)*(this.mapHeight-this.visHeight/8)/(this.totalHeight-this.itemHeight*this.itemNumber),o=0,a=0,s=0;r<0?(o=0,a=0,s=0):r>=0&&r<=this.mapHeight-this.visHeight/8?(a=r,s=this.minNavTop+(n+i)*(this.visHeight-this.navHeight)/(this.totalHeight-this.itemHeight*this.itemNumber),o=r*(this.totalHeight-this.itemHeight*this.itemNumber)/(this.mapHeight-this.visHeight/8)):(o=this.totalHeight-this.visHeight,a=this.mapHeight-this.visHeight/8,s=this.visHeight-this.navHeight),this.minMapTop=a,this.minNavTop=s,this.isScrolling=!0,this.getListData(o)}},scrollPageByIndex:function(t){var e=this.itemHeight*t;e<=0?e=0:e>=this.totalHeight-this.visHeight&&(e=this.totalHeight-this.visHeight),this.totalHeight<=this.visHeight&&(e=0);var n=this.totalHeight-this.visHeight||1;this.minMapTop=e/n*(this.mapHeight-this.visHeight/8),this.minNavTop=e/n*(this.visHeight-this.navHeight),this.getListData(e)},getListData:function(){var t={type:"wheelGetData",totalScrollHeight:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,isResize:arguments.length>1&&void 0!==arguments[1]&&arguments[1],totalHeight:this.totalHeight,itemHeight:this.itemHeight,itemNumber:this.itemNumber,canvasHeight:this.visHeight,minMapTop:this.minMapTop,mapHeight:this.mapHeight};this.calcList(t)},calcList:function(t){var e=t.totalScrollHeight,n=t.itemHeight,i=t.itemNumber,r=t.canvasHeight,o=t.minMapTop,a=t.totalHeight,s=t.mapHeight,l=(t.isResize,s===r/8?0:o/(s-r/8)*(a-r)),u=Math.floor(l/n),c=u+i;u=u>0?u-1:0;for(var h=[],d=[],f=Math.floor(u*n/5e5),p=u;p<=c;p++){var g=p*n-5e5*f,v=this.allListData[p];v&&(d.push({top:g,value:p+1}),h.push({top:g,value:v}))}e-=5e5*f,this.indexList=d,this.listData=h,this.totalScrollHeight=e;var m=this.indexList[0]||{},y=this.indexList[this.indexList.length-1]||{};this.downPreDefault=y.value+1<this.totalNumber,this.upPreDefault=m.value>1,this.isScrolling=!1,this.$emit("change",h.map(function(t){return t.value}))},addListData:function(t){this.allListData=this.allListData.concat(t);var e=this.totalNumber+t.length,n=this.indexList[this.indexList.length-1]||{value:0};this.totalNumber-n.value<=3?this.freshDataScrollBottom(e):this.freshDataNoScroll(e),this.resize()},setListData:function(t){this.allListData=t,this.freshDataNoScroll(t.length),this.resize()},freshDataScrollBottom:function(t){this.totalNumber=t,this.indexWidth=this.showIndex?7*(Math.log10(this.totalNumber)+1):0,this.setStatus(),this.scrollPageByIndex(this.totalNumber-this.itemNumber+1)},freshDataNoScroll:function(t){var e=this.totalNumber,n=this.itemNumber,i=this.mapHeight,r=this.visHeight;this.totalNumber=t,this.indexWidth=this.showIndex?7*(Math.log10(this.totalNumber)+1):0,this.setStatus(),this.getNumberChangeList({oldNumber:e,oldItemNumber:n,oldMapHeight:i,oldVisHeight:r})},getNumberChangeList:function(t){var e=t.oldNumber,n=t.oldItemNumber,i=t.oldMapHeight,r=t.oldVisHeight,o=this.minMapTop*(e-n)/(this.totalNumber-this.itemNumber||1)*((this.mapHeight-this.visHeight/8)/(i-r/8||1)),a=o/(this.mapHeight-this.visHeight/8||1)*(this.totalHeight-this.visHeight);o<=0||this.navHeight>=this.visHeight?(o=0,a=0):o>this.mapHeight-this.visHeight/8&&(o=this.mapHeight-this.visHeight/8,a=this.totalHeight-this.visHeight),this.minMapTop=o,this.minNavTop=this.minMapTop/(this.mapHeight-this.visHeight/8||1)*(this.visHeight-this.navHeight),this.getListData(a)},setStatus:function(){this.totalHeight=this.totalNumber*this.itemHeight,this.itemNumber=this.totalHeight>this.visHeight?Math.ceil(this.visHeight/this.itemHeight):this.totalNumber,this.ulHeight=this.totalHeight>4e5?1e6:this.totalHeight;var t=this.visHeight/this.totalHeight,e=t*this.visHeight;this.navHeight=t>1?this.visHeight:e<20?20:e;var n=this.totalNumber*this.itemHeight/8;this.mapHeight=n<this.visHeight?n:this.visHeight,this.mainWidth=this.visWidth,this.$refs.scrollNav&&(this.mainWidth-=this.$refs.scrollNav.offsetWidth),this.showIndex&&(this.mainWidth-=7*(Math.log10(this.totalNumber)+1),this.mainLeft=7*(Math.log10(this.totalNumber)+1))},startBottomMove:function(t){this.tempVal=t.screenX,this.startMinMapMove=!0,this.isBottomMove=!0},startNavMove:function(t){this.moveRate=t,this.tempVal=event.screenY,this.startMinMapMove=!0,this.$emit("virtual-scroll-scroll-bar-mouse","down"),document.addEventListener("click",this.docClickHandler)},docClickHandler:function(){var t=this;document.removeEventListener("click",this.docClickHandler),setTimeout(function(){t.$emit("virtual-scroll-scroll-bar-mouse","up")},0)},minNavMove:function(){var t=this;if(this.startMinMapMove)if(this.isBottomMove){var e=event.screenX-this.tempVal,n=this.bottomScrollDis+e;n<=0&&(n=0),n+this.bottomScrollWidth>=this.mainWidth&&(n=this.mainWidth-this.bottomScrollWidth),this.bottomScrollDis=n,this.tempVal=event.screenX,this.$emit("horizontal-scroll",this.indexWidth+n)}else{var i=event.screenY-this.tempVal,r=this.minMapTop+i/this.moveRate*(this.mapHeight-this.visHeight/8);r<=0&&(r=0),r>=this.mapHeight-this.visHeight/8&&(r=this.mapHeight-this.visHeight/8);var o=r/(this.mapHeight-this.visHeight/8)*(this.totalHeight-this.visHeight);this.tempVal=event.screenY,this.minMapTop=r,this.minNavTop=r*(this.visHeight-this.navHeight)/(this.mapHeight-this.visHeight/8),this.slowExec(function(){t.getListData(o)})}},slowExec:function(t){var e=+new Date;e-(this.slowExec.lastTime||0)>=100&&(this.slowExec.lastTime=e,t()),window.clearTimeout(this.slowExec.timeId),this.slowExec.timeId=window.setTimeout(function(){t()},50)},moveEnd:function(t){t.preventDefault(),this.startMinMapMove=!1,this.isBottomMove=!1}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(hd);var dd={name:"bk-select",components:{bkPopover:td,bkOptionAll:nd,bkSelectTag:id,bkVirtualScroll:hd,virtualOption:{name:"bk-virtual-option",props:{renderFunc:Function,item:Object},components:{bkOption:$h},render:function(t){return this.renderFunc?this.renderFunc(this.item,t):t("bk-option",{props:f({},this.item),class:"bk-virtual-option"})}}},directives:{bkloading:jh},mixins:[ee,Jr.mixin,Qo],props:{value:{type:[String,Number,Array],default:""},isTagWidthLimit:{type:Boolean,default:!0},multiple:Boolean,showSelectAll:Boolean,scrollHeight:{type:Number,default:216},popoverMinWidth:Number,popoverWidth:Number,popoverOptions:{type:Object,default:function(){return{}}},placeholder:{type:String,default:""},clearable:{type:Boolean,default:!0},disabled:Boolean,readonly:Boolean,loading:Boolean,searchable:Boolean,searchIgnoreCase:{type:Boolean,default:!0},searchPlaceholder:{type:String,default:""},size:{type:String,default:"",validator:function(t){return["","large","small"].includes(t)}},remoteMethod:{type:Function},emptyText:{type:String,default:""},fontSize:{type:String,default:"normal"},extCls:{type:String,default:""},extPopoverCls:{type:String,default:""},prefixIcon:{type:String,default:""},displayTag:Boolean,autoHeight:{type:Boolean,default:!0},collapseTag:{type:Boolean,default:!0},searchWithPinyin:Boolean,enableVirtualScroll:{type:Boolean,default:!1},virtualScrollRender:Function,list:Array,idKey:{type:String,default:"id"},displayKey:{type:String,default:"name"},itemHeight:{type:Number,default:32},showEmpty:{type:Boolean,default:!0},showOnInit:{type:Boolean,default:!1},behavior:{type:String,default:"normal",validate:function(t){return["simplicity","normal"].indexOf(t)>-1}}},provide:function(){return{select:this,optionGroup:null}},data:function(){var t=this.value;return this.multiple&&!se(t)&&(t=[]),{ready:!1,focus:!1,selected:t,options:[],optionsMap:{},selectedOptions:this.multiple?[]:null,defaultWidth:0,selectSize:this.size,searchValue:"",searchTimer:null,searchLoading:!1,autoUpdate:!1,renderPopoverOptions:{},popoverDistance:10+zn("4px")}},computed:{selectedName:function(){return this.selectedOptions?this.multiple?this.selectedOptions.map(function(t){return t.name}).join(","):this.selectedOptions.name:null},isRemoteSearch:function(){return"function"==typeof this.remoteMethod},shouldUpdate:function(){return!this.isRemoteSearch||!this.searchValue},isUnselected:function(){return this.multiple?!this.selected.length:""===this.selected},unmatchedCount:function(){return this.options.filter(function(t){return t.unmatched}).length},localPlaceholder:function(){return this.placeholder?this.placeholder:this.t("bk.select.pleaseselect")},dropdownActive:function(){return!(this.disabled||this.loading||this.readonly)},popoverStyle:function(){return{width:(this.popoverWidth?this.popoverWidth:this.defaultWidth)+"px",minWidth:(this.popoverMinWidth?this.popoverMinWidth:this.defaultWidth)+"px"}},fontSizeCls:function(){var t="";return"medium"===this.fontSize?t="medium-font":"large"===this.fontSize&&(t="large-font"),t},wrapperCls:function(){var t=[];return this.selectSize&&t.push("bk-select-".concat(this.selectSize)),t},popoverCls:function(){var t=[];return this.selectSize&&t.push("bk-select-popover-".concat(this.selectSize)),t},localSearchPlaceholder:function(){return this.searchPlaceholder?this.searchPlaceholder:this.t("bk.select.searchPlaceholder")}},watch:{value:function(t){this.isSame(t,this.selected)||(this.selected=t)},focus:function(t){var e=this;t||(this.resetSearchValue(),this.dispatch("bk-form-item","form-blur")),this.$nextTick(function(){e.$emit("toggle",t),e.dispatch("bk-form-item","form-focus"),t&&e.showVirtualScroll()})},dropdownActive:function(){this.setDropdownState()},searchValue:function(t){var e=this;this.searchTimer&&clearTimeout(this.searchTimer),this.searchTimer=setTimeout(function(){e.isRemoteSearch?e.remoteSearch():e.search()},100)},selected:function(t,e){(this.shouldUpdate||this.autoUpdate)&&this.setSelectedOptions(),this.$emit("input",t),this.$emit("change",t,e),this.dispatch("bk-form-item","form-change")},list:{handler:function(t){var e=this;this.enableVirtualScroll&&(this.optionsMap={},this.options=t.map(function(t){return qh(f({},t,{id:t[e.idKey],name:t[e.displayKey],lowerName:String(t[e.displayKey]).toLowerCase(),unmatched:!1}))}),this.options.forEach(function(t){e.optionsMap[t.id]=t}))},immediate:!0},options:function(){this.updatePopoverPosition(),this.setSelectedOptions(),this.showVirtualScroll()},size:function(t){this.selectSize=t},multiple:function(t){t&&(this.selectedOptions=[],this.selected=[])},popoverOptions:{handler:function(t){this.renderPopoverOptions=d({},t)},immediate:!0}},created:function(){var t=this;this.$nextTick(function(){t.setSelectedOptions()})},mounted:function(){this.setDropdownState(),this.setDropdownCallback(),this.showOnInit&&this.show()},methods:{virtualScrollScrollBarMouse:function(t){var e=d({},this.renderPopoverOptions);e.hideOnClick="down"!==t,this.renderPopoverOptions=d({},e)},showVirtualScroll:function(){var t=this.options.filter(function(t){return!t.unmatched});this.$refs.virtualScroll&&this.enableVirtualScroll&&this.$refs.virtualScroll.setListData(t)},setSelectedOptions:function(){var t=this;if(this.multiple){var e=this.selectedOptions.filter(function(e){return t.selected.includes(e.id)});this.selected.filter(function(t){return!e.some(function(e){return e.id===t})}).forEach(function(n){var i=t.optionsMap[n];i&&e.push(i)});var n=[];this.selected.forEach(function(t){var i=e.find(function(e){return e.id===t});i&&n.push(i)}),this.selectedOptions=n}else this.selectedOptions=this.optionsMap[this.selected]},getPopoverInstance:function(){return this.$refs.selectDropdown.instance},close:function(){this.getPopoverInstance().hide()},show:function(){this.getPopoverInstance().show()},updatePopoverPosition:function(){this.focus&&this.getPopoverInstance().popperInstance.scheduleUpdate()},setDropdownState:function(){var t=this.getPopoverInstance();this.dropdownActive?t.enable():t.disable()},setDropdownCallback:function(){var t=this;this.getPopoverInstance().set({onShown:function(){t.searchable&&t.$refs.searchInput.focus()}})},handleDropdownShow:function(){this.defaultWidth=this.$el.offsetWidth,this.autoHeight&&(this.focus=!0)},handleDropdownHide:function(){this.focus=!1},registerOption:function(t){this.enableVirtualScroll||(this.options.push(t),this.$set(this.optionsMap,t.id,t))},removeOption:function(t){if(!this.enableVirtualScroll){var e=this.options.indexOf(t);e>-1&&this.options.splice(e,1)}},selectOption:function(t){var e=this;this.multiple?(this.shouldUpdate||this.selectedOptions.push(t),this.selected=[].concat(m(this.selected),[t.id])):(this.shouldUpdate||(this.selectedOptions=t),this.selected=t.id,this.close()),this.$nextTick(function(){e.$emit("selected",e.selected,e.selectedOptions)})},unselectOption:function(t){var e=this;this.multiple?(this.shouldUpdate||(this.selectedOptions=this.selectedOptions.filter(function(e){return e.id!==t.id})),this.selected=this.selected.filter(function(e){return e!==t.id})):(this.setSelectedOptions=null,this.reset()),this.$nextTick(function(){e.$emit("selected",e.selected,e.selectedOptions)})},reset:function(){var t=this;this.selectedOptions=this.multiple?[]:null;var e=this.multiple?m(this.selected):this.selected;this.selected=this.multiple?[]:"",this.$nextTick(function(){t.$emit("clear",e)})},selectAll:function(){this.selected=this.options.filter(function(t){return!t.disabled}).map(function(t){return t.id})},search:function(){var t=this;this.searchLoading=!0;var e=String(this.searchValue).trim();e?(this.searchIgnoreCase&&(e=e.toLowerCase()),this.options.forEach(function(n){if(t.searchIgnoreCase?n.unmatched=n.lowerName.indexOf(e)<0:n.unmatched=n.name.indexOf(e)<0,n.unmatched&&t.searchWithPinyin){var i=ud.parse(t.searchIgnoreCase?n.lowerName:n.name).map(function(t){return 2===t.type?t.target.toLowerCase():t.target}),r=i.reduce(function(t,e){return t+e[0]},"");n.unmatched=i.join("").indexOf(e)<0&&r.indexOf(e)<0}})):this.options.forEach(function(t){t.unmatched=!1}),this.showVirtualScroll(),this.searchLoading=!1},remoteSearch:function(){var t=this;return s(te.mark(function e(){return te.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.searchLoading=!0,e.next=4,t.remoteMethod(t.searchValue);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:return e.prev=9,t.searchLoading=!1,e.finish(9);case 12:case"end":return e.stop()}},e,null,[[0,6,9,12]])}))()},resetSearchValue:function(){this.searchValue=""},isSame:function(t,e){return se(t)&&se(e)?t.length===e.length&&!t.some(function(t,n){return t!==e[n]}):t===e},handleClose:function(){this.close(),this.$refs.bkSelect&&this.$refs.bkSelect.focus()},handleTabRemove:function(t){this.$emit("tab-remove",t)}}},fd=new Image;fd.src="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0ibGRzLXNwaW4iIHdpZHRoPSI4MHB4IiBoZWlnaHQ9IjgwcHgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODAsNTApIj4KICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDApIj4KICAgICAgPGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjUiIGZpbGw9IiMzYTg0ZmYiIGZpbGwtb3BhY2l0eT0iMSIgdHJhbnNmb3JtPSJzY2FsZSgxLjA3NjY3IDEuMDc2NjcpIj4KICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBiZWdpbj0iLTAuOTE2NjY2NjY2NjY2NjY2NnMiIHZhbHVlcz0iMS4yIDEuMjsxIDEiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+CiAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZmlsbC1vcGFjaXR5IiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgdmFsdWVzPSIxOzAiIGJlZ2luPSItMC45MTY2NjY2NjY2NjY2NjY2cyI+PC9hbmltYXRlPgogICAgICA8L2NpcmNsZT4KICAgIDwvZz4KICA8L2c+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzUuOTgwNzYyMTEzNTMzMTYsNjUpIj4KICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDI5Ljk5OTk5OTk5OTk5OTk5NikiPgogICAgICA8Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iNSIgZmlsbD0iIzNhODRmZiIgZmlsbC1vcGFjaXR5PSIwLjkxNjY2NjY2NjY2NjY2NjYiIHRyYW5zZm9ybT0ic2NhbGUoMS4wOTMzMyAxLjA5MzMzKSI+CiAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgYmVnaW49Ii0wLjgzMzMzMzMzMzMzMzMzMzRzIiB2YWx1ZXM9IjEuMiAxLjI7MSAxIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPgogICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImZpbGwtb3BhY2l0eSIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iMTswIiBiZWdpbj0iLTAuODMzMzMzMzMzMzMzMzMzNHMiPjwvYW5pbWF0ZT4KICAgICAgPC9jaXJjbGU+CiAgICA8L2c+CiAgPC9nPgogIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY1LDc1Ljk4MDc2MjExMzUzMzE2KSI+CiAgICA8ZyB0cmFuc2Zvcm09InJvdGF0ZSg1OS45OTk5OTk5OTk5OTk5OSkiPgogICAgICA8Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iNSIgZmlsbD0iIzNhODRmZiIgZmlsbC1vcGFjaXR5PSIwLjgzMzMzMzMzMzMzMzMzMzQiIHRyYW5zZm9ybT0ic2NhbGUoMS4xMSAxLjExKSI+CiAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgYmVnaW49Ii0wLjc1cyIgdmFsdWVzPSIxLjIgMS4yOzEgMSIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJmaWxsLW9wYWNpdHkiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiB2YWx1ZXM9IjE7MCIgYmVnaW49Ii0wLjc1cyI+PC9hbmltYXRlPgogICAgICA8L2NpcmNsZT4KICAgIDwvZz4KICA8L2c+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTAsODApIj4KICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDkwKSI+CiAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI1IiBmaWxsPSIjM2E4NGZmIiBmaWxsLW9wYWNpdHk9IjAuNzUiIHRyYW5zZm9ybT0ic2NhbGUoMS4xMjY2NyAxLjEyNjY3KSI+CiAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgYmVnaW49Ii0wLjY2NjY2NjY2NjY2NjY2NjZzIiB2YWx1ZXM9IjEuMiAxLjI7MSAxIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPgogICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImZpbGwtb3BhY2l0eSIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iMTswIiBiZWdpbj0iLTAuNjY2NjY2NjY2NjY2NjY2NnMiPjwvYW5pbWF0ZT4KICAgICAgPC9jaXJjbGU+CiAgICA8L2c+CiAgPC9nPgogIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM1LjAwMDAwMDAwMDAwMDAxLDc1Ljk4MDc2MjExMzUzMzE2KSI+CiAgICA8ZyB0cmFuc2Zvcm09InJvdGF0ZSgxMTkuOTk5OTk5OTk5OTk5OTkpIj4KICAgICAgPGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjUiIGZpbGw9IiMzYTg0ZmYiIGZpbGwtb3BhY2l0eT0iMC42NjY2NjY2NjY2NjY2NjY2IiB0cmFuc2Zvcm09InNjYWxlKDEuMTQzMzMgMS4xNDMzMykiPgogICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGJlZ2luPSItMC41ODMzMzMzMzMzMzMzMzM0cyIgdmFsdWVzPSIxLjIgMS4yOzEgMSIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJmaWxsLW9wYWNpdHkiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiB2YWx1ZXM9IjE7MCIgYmVnaW49Ii0wLjU4MzMzMzMzMzMzMzMzMzRzIj48L2FuaW1hdGU+CiAgICAgIDwvY2lyY2xlPgogICAgPC9nPgogIDwvZz4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNC4wMTkyMzc4ODY0NjY4NCw2NSkiPgogICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoMTUwLjAwMDAwMDAwMDAwMDAzKSI+CiAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI1IiBmaWxsPSIjM2E4NGZmIiBmaWxsLW9wYWNpdHk9IjAuNTgzMzMzMzMzMzMzMzMzNCIgdHJhbnNmb3JtPSJzY2FsZSgxLjE2IDEuMTYpIj4KICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBiZWdpbj0iLTAuNXMiIHZhbHVlcz0iMS4yIDEuMjsxIDEiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+CiAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZmlsbC1vcGFjaXR5IiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgdmFsdWVzPSIxOzAiIGJlZ2luPSItMC41cyI+PC9hbmltYXRlPgogICAgICA8L2NpcmNsZT4KICAgIDwvZz4KICA8L2c+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAsNTAuMDAwMDAwMDAwMDAwMDEpIj4KICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDE4MCkiPgogICAgICA8Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iNSIgZmlsbD0iIzNhODRmZiIgZmlsbC1vcGFjaXR5PSIwLjUiIHRyYW5zZm9ybT0ic2NhbGUoMS4xNzY2NyAxLjE3NjY3KSI+CiAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgYmVnaW49Ii0wLjQxNjY2NjY2NjY2NjY2NjdzIiB2YWx1ZXM9IjEuMiAxLjI7MSAxIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPgogICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImZpbGwtb3BhY2l0eSIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iMTswIiBiZWdpbj0iLTAuNDE2NjY2NjY2NjY2NjY2N3MiPjwvYW5pbWF0ZT4KICAgICAgPC9jaXJjbGU+CiAgICA8L2c+CiAgPC9nPgogIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0LjAxOTIzNzg4NjQ2NjgzNiwzNS4wMDAwMDAwMDAwMDAwMSkiPgogICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoMjA5Ljk5OTk5OTk5OTk5OTk3KSI+CiAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI1IiBmaWxsPSIjM2E4NGZmIiBmaWxsLW9wYWNpdHk9IjAuNDE2NjY2NjY2NjY2NjY2NyIgdHJhbnNmb3JtPSJzY2FsZSgxLjE5MzMzIDEuMTkzMzMpIj4KICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBiZWdpbj0iLTAuMzMzMzMzMzMzMzMzMzMzM3MiIHZhbHVlcz0iMS4yIDEuMjsxIDEiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+CiAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZmlsbC1vcGFjaXR5IiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgdmFsdWVzPSIxOzAiIGJlZ2luPSItMC4zMzMzMzMzMzMzMzMzMzMzcyI+PC9hbmltYXRlPgogICAgICA8L2NpcmNsZT4KICAgIDwvZz4KICA8L2c+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQuOTk5OTk5OTk5OTk5OTg2LDI0LjAxOTIzNzg4NjQ2Njg0NykiPgogICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoMjM5Ljk5OTk5OTk5OTk5OTk3KSI+CiAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI1IiBmaWxsPSIjM2E4NGZmIiBmaWxsLW9wYWNpdHk9IjAuMzMzMzMzMzMzMzMzMzMzMyIgdHJhbnNmb3JtPSJzY2FsZSgxLjAxIDEuMDEpIj4KICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBiZWdpbj0iLTAuMjVzIiB2YWx1ZXM9IjEuMiAxLjI7MSAxIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPgogICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImZpbGwtb3BhY2l0eSIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iMTswIiBiZWdpbj0iLTAuMjVzIj48L2FuaW1hdGU+CiAgICAgIDwvY2lyY2xlPgogICAgPC9nPgogIDwvZz4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0OS45OTk5OTk5OTk5OTk5OSwyMCkiPgogICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoMjcwKSI+CiAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI1IiBmaWxsPSIjM2E4NGZmIiBmaWxsLW9wYWNpdHk9IjAuMjUiIHRyYW5zZm9ybT0ic2NhbGUoMS4wMjY2NyAxLjAyNjY3KSI+CiAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgYmVnaW49Ii0wLjE2NjY2NjY2NjY2NjY2NjY2cyIgdmFsdWVzPSIxLjIgMS4yOzEgMSIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJmaWxsLW9wYWNpdHkiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiB2YWx1ZXM9IjE7MCIgYmVnaW49Ii0wLjE2NjY2NjY2NjY2NjY2NjY2cyI+PC9hbmltYXRlPgogICAgICA8L2NpcmNsZT4KICAgIDwvZz4KICA8L2c+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjUsMjQuMDE5MjM3ODg2NDY2ODQzKSI+CiAgICA8ZyB0cmFuc2Zvcm09InJvdGF0ZSgzMDAuMDAwMDAwMDAwMDAwMDYpIj4KICAgICAgPGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjUiIGZpbGw9IiMzYTg0ZmYiIGZpbGwtb3BhY2l0eT0iMC4xNjY2NjY2NjY2NjY2NjY2NiIgdHJhbnNmb3JtPSJzY2FsZSgxLjA0MzMzIDEuMDQzMzMpIj4KICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBiZWdpbj0iLTAuMDgzMzMzMzMzMzMzMzMzMzNzIiB2YWx1ZXM9IjEuMiAxLjI7MSAxIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPgogICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImZpbGwtb3BhY2l0eSIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iMTswIiBiZWdpbj0iLTAuMDgzMzMzMzMzMzMzMzMzMzNzIj48L2FuaW1hdGU+CiAgICAgIDwvY2lyY2xlPgogICAgPC9nPgogIDwvZz4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3NS45ODA3NjIxMTM1MzMxNiwzNC45OTk5OTk5OTk5OTk5ODYpIj4KICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDMyOS45OTk5OTk5OTk5OTk5NCkiPgogICAgICA8Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iNSIgZmlsbD0iIzNhODRmZiIgZmlsbC1vcGFjaXR5PSIwLjA4MzMzMzMzMzMzMzMzMzMzIiB0cmFuc2Zvcm09InNjYWxlKDEuMDYgMS4wNikiPgogICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGJlZ2luPSIwcyIgdmFsdWVzPSIxLjIgMS4yOzEgMSIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJmaWxsLW9wYWNpdHkiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiB2YWx1ZXM9IjE7MCIgYmVnaW49IjBzIj48L2FuaW1hdGU+CiAgICAgIDwvY2lyY2xlPgogICAgPC9nPgogIDwvZz4KPC9zdmc+";var pd=fd.src,gd=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"bkSelect",staticClass:"bk-select",class:[{"is-focus":t.focus,"is-disabled":t.disabled,"is-readonly":t.readonly,"is-loading":t.loading,"is-unselected":t.isUnselected,"is-default-trigger":!t.$scopedSlots.trigger,"has-prefix-icon":!!t.prefixIcon,"only-bottom-border":"simplicity"===t.behavior},t.wrapperCls,t.fontSizeCls,t.extCls],attrs:{"data-placeholder":t.localPlaceholder,tabindex:"0"},on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.show(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"tab",9,e.key,"Tab")?t.close(e):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?(e.stopPropagation(),e.preventDefault(),t.close(e)):null}]}},[t.$scopedSlots.trigger?t._e():[t.loading?[n("img",{staticClass:"bk-select-loading",attrs:{src:pd}})]:[!t.clearable||t.isUnselected||t.disabled||t.readonly?t._e():n("i",{staticClass:"bk-select-clear bk-icon icon-close-circle-shape",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.reset(e)}}}),n("i",{staticClass:"bk-select-angle bk-icon icon-angle-down"})]],n("bk-popover",{ref:"selectDropdown",staticClass:"bk-select-dropdown",attrs:{trigger:"click",placement:"bottom-start",theme:"light bk-select-dropdown",animation:"slide-toggle",offset:-1,distance:t.popoverDistance,"z-index":t.zIndex,"on-show":t.handleDropdownShow,"on-hide":t.handleDropdownHide,"tippy-options":t.renderPopoverOptions}},[t.prefixIcon?n("i",{class:["bk-select-prefix-icon",t.prefixIcon]}):t._e(),t._t("trigger",[t.multiple&&t.displayTag?n("bk-select-tag",{attrs:{"width-limit":t.isTagWidthLimit}}):n("div",{staticClass:"bk-select-name",class:t.fontSizeCls,attrs:{title:t.selectedName}},[t._v("\n        "+t._s(t.selectedName)+"\n      ")])],null,t.$props),n("div",{staticClass:"bk-select-dropdown-content",class:[t.popoverCls,t.extPopoverCls],style:t.popoverStyle,attrs:{slot:"content"},slot:"content"},[t.searchable?n("div",{staticClass:"bk-select-search-wrapper"},[n("i",{staticClass:"left-icon bk-icon icon-search"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],ref:"searchInput",staticClass:"bk-select-search-input",class:t.fontSizeCls,attrs:{type:"text",placeholder:t.localSearchPlaceholder},domProps:{value:t.searchValue},on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"tab",9,e.key,"Tab")?t.handleClose(e):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?(e.stopPropagation(),e.preventDefault(),t.handleClose(e)):null}],input:function(e){e.target.composing||(t.searchValue=e.target.value)}}})]):t._e(),n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.searchLoading},expression:"{ isLoading: searchLoading }"}],staticClass:"bk-options-wrapper",style:{maxHeight:t.scrollHeight+"px"}},[n("ul",{ref:"optionList",staticClass:"bk-options",class:{"bk-options-single":!t.multiple},style:{maxHeight:t.scrollHeight+"px"}},[t.multiple&&t.showSelectAll&&!t.searchValue?n("bk-option-all",{ref:"selectAllOption"}):t._e(),t.enableVirtualScroll?n("bk-virtual-scroll",{ref:"virtualScroll",staticClass:"bk-virtual-select",style:{height:t.scrollHeight+"px",width:"100%"},attrs:{"item-height":t.itemHeight},on:{"virtual-scroll-scroll-bar-mouse":t.virtualScrollScrollBarMouse},scopedSlots:t._u([{key:"default",fn:function(e){return[n("virtual-option",{attrs:{item:e.data,"render-func":t.virtualScrollRender}})]}}])}):t._t("default")],2)]),t.showEmpty?[t.options.length?t.searchable&&t.unmatchedCount===t.options.length?n("div",{staticClass:"bk-select-empty",class:t.fontSizeCls},[t._v("\n          "+t._s(t.emptyText||t.t("bk.select.searchEmpty"))+"\n        ")]):t._e():n("div",{staticClass:"bk-select-empty",class:t.fontSizeCls},[t._v("\n          "+t._s(t.emptyText||t.t("bk.select.dataEmpty"))+"\n        ")])]:t._e(),t.$slots.extension?n("div",{staticClass:"bk-select-extension",class:t.fontSizeCls},[t._t("extension")],2):t._e()],2)],2)],2)},staticRenderFns:[]},void 0,dd,void 0,!1,void 0,!1,void 0,void 0,void 0),vd=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.total>0?n("div",{class:["bk-page","bk-page-align-"+t.align,{"bk-page-compact":"compact"===t.type,"bk-page-small":"small"===t.size},t.extCls]},[t.showTotalCount?n("pagination-total-count"):t._e(),t.showLimit?n("div",{class:["bk-page-count","bk-page-count-"+t.realityLocation,t.small&&"bk-page-count-small"]},["cn"===t.curLang?[n("span",[t._v("每页")]),n("bk-select",{class:{"page-select-small":t.small&&!t.toggle},attrs:{placeholder:"页数","popover-options":t.popoverOptions,clearable:!1,size:t.small?"small":""},on:{toggle:function(e){return t.toggle=e}},model:{value:t.realityLimit,callback:function(e){t.realityLimit=e},expression:"realityLimit"}},t._l(t.limitListTmp,function(t,e){return n("bk-option",{key:e,attrs:{id:t.id,name:t.count}})}),1),n("span",[t._v("条")])]:[n("bk-select",{attrs:{placeholder:"page",clearable:!1},model:{value:t.realityLimit,callback:function(e){t.realityLimit=e},expression:"realityLimit"}},t._l(t.limitListTmp,function(t,e){return n("bk-option",{key:e,attrs:{id:t.id,name:t.count+"/page"}})}),1)]],2):t._e(),t.showSelectionCount?n("pagination-selection-count"):t._e(),t.small?n("small-jump",{attrs:{current:t.current,total:t.total},on:{"on-change":t.jumpToPage}}):n("ul",{staticClass:"bk-page-list"},[n("li",{staticClass:"page-item",class:{disabled:1===t.current},on:{click:t.prevPage}},[t._m(0)]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.renderList[0]>1,expression:"renderList[0] > 1"}],staticClass:"page-item",on:{click:function(e){t.jumpToPage(1)}}},[n("a",{staticClass:"page-button",attrs:{href:"javascript:void(0);"}},[t._v("1")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.renderList[0]>2&&t.current>3,expression:"renderList[0] > 2 && current > 3"}],class:["page-item",{"page-omit":"compact"!==t.type}],on:{click:t.prevGroup}},[n("span",{staticClass:"page-button"},[t._v("...")])]),t._l(t.renderList,function(e,i){return n("li",{key:i,staticClass:"page-item",class:{"cur-page":e===t.current},on:{click:function(n){t.jumpToPage(e)}}},[n("a",{staticClass:"page-button",attrs:{href:"javascript:void(0);"}},[t._v(t._s(e))])])}),n("li",{directives:[{name:"show",rawName:"v-show",value:t.renderList[t.renderList.length-1]<t.total-1,expression:"renderList[renderList.length - 1] < total - 1"}],class:["page-item",{"page-omit":"compact"!==t.type}],on:{click:t.nextGroup}},[n("span",{staticClass:"page-button"},[t._v("...")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.renderList[t.renderList.length-1]!==t.total,expression:"renderList[renderList.length - 1] !== total"}],staticClass:"page-item",class:{"cur-page":t.current===t.total},on:{click:function(e){t.jumpToPage(t.total)}}},[n("a",{staticClass:"page-button",attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.total))])]),n("li",{staticClass:"page-item",class:{disabled:t.current===t.total},on:{click:t.nextPage}},[t._m(1)])],2)],1):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"page-button",attrs:{href:"javascript:void(0);"}},[e("i",{staticClass:"bk-icon icon-angle-left"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"page-button",attrs:{href:"javascript:void(0);"}},[e("i",{staticClass:"bk-icon icon-angle-right"})])}]},void 0,{name:"bk-pagination",components:{bkSelect:gd,bkOption:$h,paginationSelectionCount:Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["bk-page-selection-count","bk-page-selection-count-"+t.$parent.realityLocation]},["cn"===t.$parent.curLang?[t._v("\n    已选择"),n("span",{staticClass:"count"},[t._v(t._s(t.$parent.selectionCount))]),t._v("条\n  ")]:[n("span",{staticClass:"count"},[t._v(t._s(t.$parent.selectionCount))]),t._v(" item(s) selected\n  ")]],2)},staticRenderFns:[]},void 0,{},void 0,!1,void 0,!1,void 0,void 0,void 0),paginationTotalCount:Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$parent.showTotalCount?n("div",{class:["bk-page-total-count","bk-page-total-count-"+t.$parent.realityLocation,{"bk-page-total-small":t.$parent.small}]},["cn"===t.$parent.curLang?[t._v("\n    共计"),n("span",{staticClass:"stress"},[t._v(t._s(t.$parent.count))]),t._v("条\n  ")]:[t._v("\n    Total: "),n("span",{staticClass:"stress"},[t._v(t._s(t.$parent.count))]),t._v(" items\n  ")]],2):t._e()},staticRenderFns:[]},void 0,{},void 0,!1,void 0,!1,void 0,void 0,void 0),SmallJump:Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-page-small-jump"},[n("div",{staticClass:"btn-pre",class:{disable:1===t.current},on:{click:function(e){t.handleStep(-1)}}},[n("i",{staticClass:"bk-icon icon-left-shape"})]),n("bk-popover",{ref:"smallJumpPopover",attrs:{trigger:"manual",placement:"bottom-start",theme:"light bk-select-dropdown",animation:"slide-toggle",offset:-1,distance:12}},[n("div",{class:["jump-input-wrapper",{focus:t.focus}],on:{click:function(e){return e.preventDefault(),t.showPopover(e)}}},[n("span",{ref:"jumpInput",staticClass:"jump-input",attrs:{contenteditable:""},domProps:{textContent:t._s(t.current)},on:{input:t.handleInputChange,blur:t.handleBlur,focus:function(){return t.focus=!0},keydown:t.handleKeyDown}}),n("span",{class:["page-total",{focus:t.focus}]},[t._v("/ "+t._s(t.total))])]),n("div",{attrs:{slot:"content"},slot:"content"},[n("ul",{staticClass:"small-jump-options"},t._l(t.total,function(e){return n("li",{key:e,class:["small-jump-option",{"is-selected":t.current===e}],on:{mousedown:function(n){t.handleChangePage(e)}}},[t._v("\n          "+t._s(e)+"\n        ")])}),0)])]),n("div",{staticClass:"btn-next",class:{disable:t.current===t.total},on:{click:function(e){t.handleStep(1)}}},[n("i",{staticClass:"bk-icon icon-right-shape"})])],1)},staticRenderFns:[]},void 0,{name:"small-jump",components:{bkPopover:td},props:{current:{type:Number,default:""},total:{type:Number,default:0}},data:function(){return{focus:!1,currentPage:this.current}},watch:{current:function(t){this.currentPage=t}},methods:{handleInputChange:function(t){var e=t.target,n=Number(e.textContent);!n||n<1||n>this.total||n===this.current||(this.currentPage=n,this.setSelection())},handleBlur:function(){this.currentPage!==this.current&&this.$emit("on-change",this.currentPage),this.focus=!1,this.$refs.jumpInput&&(this.$refs.jumpInput.textContent=this.currentPage)},handleStep:function(t){var e=this.current+t;e>this.total||e<1||(this.currentPage=e,this.$emit("on-change",this.currentPage))},handleChangePage:function(t){if(t===this.current)return this.hidePopover();this.currentPage=t,this.focus||this.handleBlur(),this.hidePopover()},getPopoverInstance:function(){return this.$refs.smallJumpPopover&&this.$refs.smallJumpPopover.instance},hidePopover:function(){var t=this.getPopoverInstance();t&&t.hide()},showPopover:function(){var t=this.getPopoverInstance();t&&t.show()},setSelection:function(){var t=this;this.$nextTick(function(){var e=t.$refs.jumpInput;e.focus();var n=window.getSelection();n.selectAllChildren(e),n.collapseToEnd()})},handleKeyDown:function(t){if(["Enter","NumpadEnter"].includes(t.code))return this.handleBlur(),this.setSelection(),this.focus=!0,this.hidePopover(),t.preventDefault(),!1}}},void 0,!1,void 0,!1,void 0,void 0,void 0)},mixins:[Jr.mixin],props:{popoverOptions:{type:Object,default:function(){return{}}},type:{type:String,default:"default",validator:function(t){return["default","compact"].indexOf(t)>-1}},small:{type:Boolean,default:!1},size:{type:String,default:"default",validator:function(t){return["default","small"].indexOf(t)>-1}},current:{type:Number,default:1,required:!0,validator:function(t){return/^[1-9]+[0-9]*]*$/.test(t)}},limit:{type:Number,required:!0},count:{type:Number,default:0,required:!0},align:{type:String,default:"left",validator:function(t){return["left","center","right"].includes(t)}},limitList:{type:Array,default:function(){return[10,20,50,100]}},showLimit:{type:Boolean,default:!0},location:{type:String,default:"right",validator:function(t){return["left","right"].includes(t)}},showSelectionCount:Boolean,selectionCount:{type:Number,default:0},showTotalCount:Boolean,extCls:{type:String,default:""}},data:function(){return{pageSize:5,renderList:[],curGroup:1,limitListTmp:[],realityLimit:this.limit||10,toggle:!1}},computed:{curLang:function(){var t=Jr.getCurLang().bk.lang;return["zh","cn","zh-CN","zh-cn","zhCN","zhcn","zh-TW","zh-tw","zhTW","zhtw"].indexOf(t)>-1?"cn":"en"},total:function(){return Math.ceil(this.count/this.realityLimit)},realityLocation:function(){return"left"===this.align?"right":"right"===this.align?"left":this.location}},watch:{realityLimit:function(t,e){this.$emit("update:limit",t),this.$emit("limit-change",t,e)},current:function(t){this.calcPageList(t)},total:function(t){this.calcPageList(this.current)},limit:function(t){this.limitList.includes(t)?this.realityLimit=t:this.realityLimit=this.limitList[0]},paginationIndex:function(t){this.realityLimit=t}},created:function(){this.limitListTmp=this.limitList.map(function(t){return{id:t,count:t}}),this.limitList.includes(this.limit)?this.realityLimit=this.limit:this.realityLimit=this.limitList[0],this.calcPageList(this.current)},methods:{_array:function(t){return Array.apply(null,{length:t})},calcPageList:function(t){var e=this.total,n=this.pageSize,i=n>e?e:n;t>=i-1?e-t>Math.floor(i/2)?this.renderList=this._array(i).map(function(e,n){return n+t-Math.ceil(i/2)+1}):this.renderList=this._array(i).map(function(t,n){return e-n}).reverse():this.renderList=this._array(i).map(function(t,e){return e+1})},prevGroup:function(){var t=this.pageSize,e=this.renderList[Math.ceil(this.renderList.length/2)];e-t<1?this.calcPageList(1):this.calcPageList(e-t),this.jumpToPage(this.renderList[Math.floor(this.renderList.length/2)])},nextGroup:function(){var t=this.pageSize,e=this.total,n=this.renderList[Math.ceil(this.renderList.length/2)];n+t>e?this.calcPageList(e):this.calcPageList(n+t),this.jumpToPage(this.renderList[Math.floor(this.renderList.length/2)])},prevPage:function(){1!==this.current&&this.jumpToPage(this.current-1)},nextPage:function(){this.current!==this.total&&this.jumpToPage(this.current+1)},jumpToPage:function(t){this.$emit("update:current",t),this.$emit("change",t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(vd);var md=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("bk-popover",t._b({ref:"popover",attrs:{size:"regular",theme:t.theme}},"bk-popover",t.$attrs,!1),[n("div",{staticClass:"bk-popconfirm-content",class:[t.extPopoverCls,{"popconfirm-more":!t.isTiny}],attrs:{slot:"content"},slot:"content"},[t.isTiny?t._e():n("div",{staticClass:"popconfirm-content"},[t._t("content",[t.title?n("div",{staticClass:"title"},[t._v(t._s(t.title))]):t._e(),t.content?n("div",{staticClass:"content",class:{"is-simple":t.isSimple}},[t._v(t._s(t.content))]):t._e()])],2),n("div",{staticClass:"popconfirm-operate"},[t.localeOkText?n("button",{staticClass:"default-operate-button primary",attrs:{type:t.confirmButtonType},on:{click:t.confirm}},[t._v(t._s(t.localeOkText))]):t._e(),t.isTiny?n("span",{staticClass:"popconfirm-split"}):t._e(),t.localeCancelText?n("button",{staticClass:"default-operate-button",attrs:{type:t.cancelButtonType},on:{click:t.cancel}},[t._v(t._s(t.localeCancelText))]):t._e()])]),t._t("default")],2)},staticRenderFns:[]},void 0,{name:"bk-popconfirm",components:{bkPopover:td},mixins:[Jr.mixin],props:{tirgger:{type:String,default:"mouseenter focus"},title:{type:String},content:{type:String},theme:{type:String,default:"light-border"},confirmText:{type:String},cancelText:{type:String},confirmButtonIsText:{type:Boolean,default:!1},cancelButtonIsText:{type:Boolean,default:!1},extPopoverCls:{type:String,default:""}},data:function(){return{}},computed:{localeOkText:function(){return void 0===this.confirmText?this.t("bk.dialog.ok"):this.confirmText},localeCancelText:function(){return void 0===this.cancelText?this.t("bk.dialog.cancel"):this.cancelText},isTiny:function(){return!this.$slots.content&&!this.title&&!this.content},isSimple:function(){return!this.$slots.content&&!this.title},confirmButtonType:function(){return this.isTiny||this.confirmButtonIsText?"text":"button"},cancelButtonType:function(){return this.isTiny||this.cancelButtonIsText?"text":"button"}},methods:{confirm:function(){this.$refs.popover.hideHandler(),this.$emit("confirm")},cancel:function(){this.$refs.popover.hideHandler(),this.$emit("cancel")}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function yd(){return(yd=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)}Et(md);var bd=["attrs","props","domProps"],xd=["class","style","directives"],wd=["on","nativeOn"],_d=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}},Sd=function(t){return t.reduce(function(t,e){for(var n in e)if(t[n])if(-1!==bd.indexOf(n))t[n]=yd({},t[n],e[n]);else if(-1!==xd.indexOf(n)){var i=t[n]instanceof Array?t[n]:[t[n]],r=e[n]instanceof Array?e[n]:[e[n]];t[n]=i.concat(r)}else if(-1!==wd.indexOf(n))for(var o in e[n])if(t[n][o]){var a=t[n][o]instanceof Array?t[n][o]:[t[n][o]],s=e[n][o]instanceof Array?e[n][o]:[e[n][o]];t[n][o]=a.concat(s)}else t[n][o]=e[n][o];else if("hook"==n)for(var l in e[n])t[n][l]=t[n][l]?_d(t[n][l],e[n][l]):e[n][l];else t[n]=e[n];else t[n]=e[n];return t},{})},Md=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-process",class:t.extCls},[n("ul",{style:{paddingBottom:t.paddingBottom+"px"}},t._l(t.dataList,function(e,i){return n("li",{key:i,class:{success:t.isDone(i),current:e.isLoading&&t.isCurrent(i)||e.status&&t.isCurrent(i),"status-error":t.isErrorStatus(e),"status-done":t.isDoneStatus(e),"status-loading":t.isLoadingStatus(e),"status-default":t.isDefaultStatus(e)},style:{cursor:t.controllables?"pointer":""},on:{click:function(n){t.toggle(e,i)}}},[n("div",{staticClass:"bk-process-item",style:{cursor:t.hasStepChangeEvent?"pointer":""},on:{click:function(n){t.toggleStepItem(e,null,i)}}},[t._v("\n        "+t._s(e[t.displayKey])+"\n        "),e.status?[t.isBuiltinIcon(e.statusIcon)?n("i",{class:["bk-icon","icon-"+e.statusIcon]}):t.isLoadingStatus(e)?n("spin-loading",{attrs:{"theme-class":"bk-spin-loading-white"}}):t.isErrorStatus(e)?n("i",{staticClass:"bk-icon icon-close-circle"}):t.isDoneStatus(e)?n("i",{staticClass:"bk-icon icon-check-circle"}):t._e()]:[e.isLoading&&t.isCurrent(i)?n("spin-loading",{attrs:{"theme-class":"bk-spin-loading-white"}}):!1!==e.status?n("i",{staticClass:"bk-icon icon-check-circle"}):t._e()]],2),n("dl",{directives:[{name:"show",rawName:"v-show",value:e.steps&&e.steps.length&&t.showFlag,expression:"item.steps && item.steps.length && showFlag"}],ref:"stepsDom",refInFor:!0,staticClass:"bk-process-step"},t._l(e.steps,function(r,o){return n("dd",{key:o,class:["step-item",{done:t.isDoneStatus(r),error:t.isErrorStatus(r),loading:t.isLoadingStatus(e)}],style:{cursor:t.hasStepChangeEvent?"pointer":""},on:{click:function(e){t.toggleStepItem(r,o,i)}}},[t.isVNode(r[t.displayKey])?n("v-node-content",{attrs:{content:r[t.displayKey]}},[n("step-status-icon",{attrs:{icon:t.getStepStatusIcon(r)}})],1):[t._v("\n            "+t._s(r[t.displayKey])+"\n            "),r.status?n("step-status-icon",{attrs:{icon:t.getStepStatusIcon(r)}}):[r.isLoading&&t.isCurrent(i)?n("spin-loading",{attrs:{"theme-class":"bk-spin-loading-primary steps-loading"}}):!1!==r.status?n("i",{staticClass:"bk-icon icon-check-1"}):t._e()]]],2)}),0)])}),0),t.toggleFlag?n("a",{staticClass:"bk-process-toggle",attrs:{href:"javascript:;"},on:{click:t.toggleProcess}},[n("i",{staticClass:"bk-icon",class:t.showFlag?"icon-angle-up":"icon-angle-down"})]):t._e()])},staticRenderFns:[]},void 0,{name:"bk-process",components:{SpinLoading:{functional:!0,render:function(t,e){return t("div",Sd([{class:"bk-spin-loading bk-spin-loading-mini"},{class:e.props.themeClass}]),[t("div",{class:"rotate rotate1"}),t("div",{class:"rotate rotate2"}),t("div",{class:"rotate rotate3"}),t("div",{class:"rotate rotate4"}),t("div",{class:"rotate rotate5"}),t("div",{class:"rotate rotate6"}),t("div",{class:"rotate rotate7"}),t("div",{class:"rotate rotate8"})])}},VNodeContent:{functional:!0,render:function(t,e){return t("div",{class:"step-item-custom"},[e.props.content,e.children])}},StepStatusIcon:{functional:!0,render:function(t,e){return e.props.icon}}},props:{list:{type:Array,required:!0},controllable:{type:Boolean,default:!1},showSteps:{type:Boolean,default:!1},curProcess:{type:Number,default:0},displayKey:{type:String,required:!0},extCls:{type:String,default:""}},data:function(){return{toggleFlag:!1,showFlag:this.showSteps,dataList:this.list,controllables:this.controllable,paddingBottom:0,maxBottom:0,stepsClientHeight:32}},computed:{hasStepChangeEvent:function(){return!!(this.$listeners||{})["step-change"]}},watch:{list:{handler:function(t){this.initToggleFlag(t),this.dataList=m(t),this.calculateMaxBottom(t)},deep:!0},curProcess:function(t,e){t>this.list.length+1||this.setParentProcessLoad(this.list)}},created:function(){this.setParentProcessLoad(this.list)},mounted:function(){this.initToggleFlag(this.list),this.calculateMaxBottom(this.list),this.showFlag?this.paddingBottom=this.maxBottom:this.paddingBottom=0},methods:{initToggleFlag:function(t){if(t.length){for(var e=0;e<t.length;e++)if(t[e].steps&&t[e].steps.length){this.toggleFlag=!0;break}}else this.toggleFlag=!1},setParentProcessLoad:function(t){var e,n=m(t),i=this.curProcess-1||0;if(n.length){if(i===n.length)this.$set(n[i-1],"isLoading",!1);else for(var r=0;r<n.length;r++)n[i].steps&&n[i].steps.length&&n[i].steps.some(function(t){return t.isLoading})&&(i>0&&this.$set(n[i-1],"isLoading",!1),this.$set(n[i],"isLoading",!0));(e=this.list).splice.apply(e,[0,this.list.length].concat(m(n)))}},toggleProcess:function(){this.showFlag=!this.showFlag,this.showFlag?this.paddingBottom=this.maxBottom:this.paddingBottom=0},calculateMaxBottom:function(t){var e=m(t),n=[];e.length?(e.forEach(function(t){t.steps&&n.push(t.steps.length)}),this.maxBottom=Math.max.apply(null,n)*this.stepsClientHeight):this.maxBottom=0},toggle:function(t,e){this.controllables&&(this.$emit("update:curProcess",e+1),this.$emit("process-changed",e+1,t))},toggleStepItem:function(t,e,n){this.$emit("step-change",t,e,n)},isCurrent:function(t){return this.curProcess===t+1},isDone:function(t){return this.curProcess>=t+1},isBuiltinIcon:function(t){return"string"==typeof t&&!!t},isLoadingStatus:function(t){return"loading"===t.status},isErrorStatus:function(t){return"error"===t.status},isDoneStatus:function(t){return"done"===t.status},isDefaultStatus:function(t){return"default"===t.status},isVNode:function(t){return jt(t)},getStepStatusIcon:function(t){var e=this.$createElement,n=e("i",{class:["bk-icon","icon-".concat(t.statusIcon)]}),i=e("spin-loading",{attrs:{"theme-class":"bk-spin-loading-primary steps-loading"}}),r=e("i",{class:"bk-icon icon-close error"}),o=e("i",{class:"bk-icon icon-check-1 done"});return this.isBuiltinIcon(t.statusIcon)?n:this.isLoadingStatus(t)?i:this.isErrorStatus(t)?r:this.isDoneStatus(t)?o:void 0}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Md);var Cd=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-progress",class:t.extCls},[n("div",{staticClass:"progress-bar",class:"bk-progress-"+t.size,style:t.percentStyle},[n("div",{staticClass:"progress-inner",class:"bk-"+t.themeType,style:t.barStyle},[t.showText&&t.textInside&&0!==t.percentFixed?n("div",{staticClass:"inner-text",style:t.titleStyle},[t._v(t._s(t.percentFixed)+"%")]):t._e()]),t.showText&&t.textInside&&0===t.percentFixed?[t._v(t._s(t.percentFixed)+"%")]:t._e()],2),t.showText&&!t.textInside?n("div",{staticClass:"progress-text",style:t.titleStyle},[t._t("default",[t._v(t._s(t.percentFixed)+"%")])],2):t._e()])},staticRenderFns:[]},void 0,{name:"bk-progress",props:{theme:{type:String,default:"primary",validator:function(t){return!(["primary","warning","success","danger"].indexOf(t)<0&&(console.error("theme property is not valid: '".concat(t,"'")),1))}},percent:{type:Number,default:0,validator:function(t){return t>=0&&t<=1}},size:{type:String,default:"normal",validator:function(t){return!(["small","normal","large"].indexOf(t)<0&&(console.error("size property is not valid: '".concat(t,"'")),1))}},strokeWidth:{type:Number},textInside:{type:Boolean,default:!1},color:{type:String,default:""},showText:{type:Boolean,default:!0},titleStyle:{type:Object,default:function(){return{fontSize:"16px",verticalAlign:"middle"}}},extCls:{type:String,default:""},fixed:{type:Number,default:0,validator:function(t){return t>=0&&t<=20}}},data:function(){return{percentStyle:{lineHeight:this.strokeWidth+"px",height:this.strokeWidth+"px"}}},computed:{themeType:function(){return this.text?"primary":this.theme},barStyle:function(){var t={};return t.width=this.percentFixed+"%",t.backgroundColor=this.color,t},percentFixed:function(){return Number(100*this.percent).toFixed(this.fixed)},progressTextSize:function(){return 12+.4*this.strokeWidth}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Cd);var Id={mixins:[ee],data:function(){return{current:"",group:!1,groupName:this.name,parent:this.findComponentUpward(this,"bk-radio-group")}},computed:{selected:function(){return this.current===this.localTrueValue},localTrueValue:function(){return this.parent?void 0===this.value&&void 0===this.label?this.trueValue:void 0!==this.value?this.value:this.label:this.trueValue}},mounted:function(){this.parent&&(this.groupName=this.parent.name),this.updateValue()},methods:{findComponentUpward:function(t,e,n){n="string"==typeof e?[e]:e;for(var i=t.$parent,r=i.$options.name;i&&(!r||n.indexOf(r)<0);)(i=i.$parent)&&(r=i.$options.name);return i},getKeyDownSelected:function(t){return!Array.prototype.find.call(t.children,function(t){return"INPUT"===t.nodeName&&"radio"===t.type}).checked},handlerChange:function(t){if(this.disabled)return!1;var e=("change"===t.type?t.target.checked:this.getKeyDownSelected(t.target))?this.localTrueValue:this.falseValue;this.$emit("input",e),this.$emit("change",e),this.dispatch("bk-form-item","form-change"),this.parent&&this.parent.change({value:e})}}},kd=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"bk-form-radio",class:t.extCls,attrs:{tabindex:!t.disabled&&0},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.handlerChange(e)):null}}},[n("input",{key:t.current,class:{"is-checked":t.checked||t.selected},attrs:{type:"radio",name:t.groupName,disabled:t.disabled,tabindex:"-1"},domProps:{checked:t.selected},on:{change:t.handlerChange}}),n("div",{staticClass:"bk-radio-text"},[t._t("default",[t._v(t._s(t.label))])],2)])},staticRenderFns:[]},void 0,{name:"bk-radio",mixins:[Id],props:{name:{type:[String]},value:{type:[String,Number,Boolean],default:void 0},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number]},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},extCls:{type:String,default:""}},watch:{checked:function(){this.updateValue()},value:function(t){t!==this.localTrueValue&&t!==this.falseValue||this.updateValue()}},methods:{updateValue:function(){this.parent?this.current=this.parent.value:void 0!==this.checked?(this.current=this.checked?this.localTrueValue:this.falseValue,this.$emit("input",this.current),this.$emit("change",this.current),this.dispatch("bk-form-item","form-change")):this.current=this.value}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(kd);var Td=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"bk-form-radio-button",class:{disabled:t.disabled},attrs:{tabindex:!t.disabled&&0},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.handlerChange(e)):null}}},[n("input",{key:t.current,staticClass:"bk-radio-button-input",class:{"is-checked":t.selected},attrs:{type:"radio",name:t.groupName,disabled:t.disabled,tabindex:-1},domProps:{checked:t.selected},on:{change:t.handlerChange}}),n("div",{staticClass:"bk-radio-button-text"},[t._t("default",[t._v(t._s(t.label))])],2)])},staticRenderFns:[]},void 0,{name:"bk-radio-button",mixins:[Id],props:{name:{type:[String]},value:{type:[String,Number,Boolean],default:void 0},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number]},disabled:{type:Boolean,default:!1}},watch:{value:function(t){t!==this.localTrueValue&&t!==this.falseValue||this.updateValue()}},methods:{updateValue:function(){this.parent?this.current=this.parent.value:this.current=this.value}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Td);var Od=Ct({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"bk-form-control",attrs:{name:this.name}},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"bk-radio-group",mixins:[ee],props:{value:{type:[String,Number,Boolean],default:""},name:{type:[String,Number],default:function(){var t=0,e=Rh();return"bk_radio_".concat(e,"_").concat(t++)}}},data:function(){return{curValue:this.value,radios:[]}},watch:{value:function(){var t=this;this.curValue!==this.value&&(this.curValue=this.value,this.$nextTick(function(){t.updateValue()}))}},mounted:function(){this.updateValue()},methods:{findComponentsDownward:function(t,e){var n=this;return t.$children.reduce(function(t,i){i.$options.name===e&&t.push(i);var r=n.findComponentsDownward(i,e);return t.concat(r)},[])},updateValue:function(){var t=this;this.radios=this.findComponentsDownward(this,"bk-radio").concat(this.findComponentsDownward(this,"bk-radio-button")),this.radios&&this.radios.forEach(function(e){e.current=t.curValue})},change:function(t){this.curValue=t.value,this.updateValue(),this.$emit("input",t.value),this.$emit("change",t.value),this.dispatch("bk-form-item","form-change")}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Od);var Ed=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-round-progress",class:t.extCls},[n("svg",{attrs:{width:t.diameter,height:t.diameter,viewBox:"0 0 100 100",version:"1.1"}},[n("circle",{staticClass:"progress-background",attrs:{cx:"50",cy:"50",r:"50",fill:"transparent","stroke-width":t.config.strokeWidth,stroke:t.config.bgColor}}),n("circle",{staticClass:"progress-bar",class:"circle"+t.config.index,attrs:{cx:"50",cy:"50",r:"50",fill:"transparent","stroke-width":t.config.strokeWidth,stroke:t.config.activeColor,"stroke-dasharray":t.dashArray,"stroke-dashoffset":t.dashOffset}})]),t.numShow?n("div",{staticClass:"num",style:t.numStyle},[t.content?[t._v(t._s(t.content))]:[t._v("\n      "+t._s(Math.round(100*t.percentFixed))),t.numUnit?n("span",[t._v(t._s(t.numUnit))]):t._e()]],2):t._e(),t.title?n("div",{staticClass:"title",style:t.titleStyle},[t._v("\n    "+t._s(t.title)+"\n  ")]):t._e()])},staticRenderFns:[]},void 0,{name:"bk-round-progress",props:{config:{type:Object,default:function(){return{strokeWidth:5,bgColor:"gray",activeColor:"green",index:0}}},percent:{type:Number,default:0},title:{type:String},content:{type:[String,Number],default:""},titleStyle:{type:Object,default:function(){return{fontSize:"16px"}}},numShow:{type:Boolean,default:!0},numUnit:{type:String,default:"%"},numStyle:{type:Object,default:function(){return{fontSize:"16px"}}},radius:{type:String,default:"100px"},width:{type:String,default:""},extCls:{type:String,default:""}},data:function(){return{dashArray:100*Math.PI}},computed:{dashOffset:function(){return!(this.percentFixed>1)&&(1-this.percentFixed)*this.dashArray},percentFixed:function(){return Number(this.percent.toFixed(2))},diameter:function(){return this.width||this.radius}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Ed),Et(gd,function(t,e){t.prototype.$bkToPinyin=function(t,e,n){return ud.convertToPinyin(t,e,n)}});var Ad,Nd,Ld=(Ad=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)},function(t){return Ad(t)}),Dd=(Nd=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(t){return Nd(t)}),jd=function(t){var e=t.__resizeTrigger__,n=e.firstElementChild,i=e.lastElementChild,r=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},Pd=function(t){var e=this;jd(this),this.__resizeRAF__&&Dd(this.__resizeRAF__),this.__resizeRAF__=Ld(function(){var n;((n=e).offsetWidth!==n.__resizeLast__.width||n.offsetHeight!==n.__resizeLast__.height)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach(function(n){n.call(e,t)}))})},Rd=document.attachEvent,zd="Webkit Moz O ms".split(" "),Bd="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),Fd=!1,Gd="",Vd="animationstart";if(!Rd){var Wd=document.createElement("fakeelement");if(void 0!==Wd.style.animationName&&(Fd=!0),!1===Fd)for(var Hd="",Ud=0;Ud<zd.length;Ud++)if(void 0!==Wd.style[zd[Ud]+"AnimationName"]){Hd=zd[Ud],Gd="-"+Hd.toLowerCase()+"-",Vd=Bd[Ud],Fd=!0;break}}var Yd=!1,Jd=function(t,e){if(Rd)t.attachEvent("onresize",e);else{if(!t.__resizeTrigger__){"static"===getComputedStyle(t).position&&(t.style.position="relative"),function(){if(!Yd){var t="@".concat(Gd,"keyframes ").concat("resizeanim"," { from { opacity: 0; } to { opacity: 0; } } "),e="".concat(Gd,"animation: 1ms ").concat("resizeanim",";"),n="".concat(t,"\n      .resize-triggers { ").concat(e,' visibility: hidden; opacity: 0; }\n      .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1 }\n      .resize-triggers > div { background: #eee; overflow: auto; }\n      .contract-trigger:before { width: 200%; height: 200%; }'),i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n)),i.appendChild(r),Yd=!0}}(),t.__resizeLast__={},t.__resizeListeners__=[];var n=t.__resizeTrigger__=document.createElement("div");n.className="resize-triggers",n.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(n),jd(t),t.addEventListener("scroll",Pd,!0),Vd&&n.addEventListener(Vd,function(e){"resizeanim"===e.animationName&&jd(t)})}t.__resizeListeners__.push(e)}},Qd=function(t,e){t&&t.__resizeListeners__&&(Rd?t.detachEvent("onresize",e):(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(t.removeEventListener("scroll",Pd),t.__resizeTrigger__=!t.removeChild(t.__resizeTrigger__))))},Zd=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[t.isShow?n("article",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],staticClass:"bk-sideslider",class:t.extCls,style:{zIndex:t.localZIndex},attrs:{"data-transfer":t.transfer},on:{mousedown:function(e){return e.target!==e.currentTarget?null:t.handleQuickClose(e)}}},[n("section",{staticClass:"bk-sideslider-wrapper",class:[{left:"left"===t.direction,right:"right"===t.direction}],style:{width:t.width+"px"}},[n("div",{staticClass:"bk-sideslider-header"},[n("div",{staticClass:"bk-sideslider-closer",style:{float:t.calcDirection},on:{click:t.handleClose}},[n("i",{staticClass:"bk-icon",class:"icon-angle-"+t.direction})]),n("div",{staticClass:"bk-sideslider-title",style:{padding:"left"===t.calcDirection?"0 0 0 50px":"0 0 0 30px"}},[t._t("header",[t._v("\n            "+t._s(t.title||t.t("bk.sideslider.title"))+"\n          ")])],2)]),n("div",{ref:"content",staticClass:"bk-sideslider-content",style:{maxHeight:t.$slots.footer?"calc(100vh - 114px)":"calc(100vh - 60px)"}},[t._t("content")],2),t.$slots.footer?n("div",{staticClass:"bk-sideslider-footer",style:{borderTopColor:t.needBorder?"#dcdee5":"transparent",backgroundColor:t.needBorder?"#ffffff":"#fafbfd"}},[t._t("footer")],2):t._e()])]):t._e()])},staticRenderFns:[]},void 0,{name:"bk-sideslider",directives:{transferDom:xn},mixins:[Jr.mixin],props:{isShow:{type:Boolean,default:!1},title:{type:String,default:""},quickClose:{type:Boolean,default:!1},showMask:{type:Boolean,default:!0},width:{type:Number,default:400},beforeClose:{type:Function,default:function(t){return!0}},direction:{type:String,default:"right",validator:function(t){return["left","right"].indexOf(t)>-1}},extCls:{type:String,default:""},zIndex:{type:[Number,String],default:"default"},multiInstance:{type:Boolean,default:!0},transfer:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!1}},data:function(){return{needBorder:!1,localZIndex:_t.nextTickIndex(2),popUid:""}},computed:{calcDirection:function(){return"left"===this.direction?"right":"left"}},watch:{isShow:function(t){var e=this,n=document.documentElement;t?(this.localZIndex=_t.nextTickIndex(2),io(n,"bk-sideslider-show"),this.isScrollY()&&io(n,"has-sideslider-padding"),this.showMask&&this.generatePopUid(),setTimeout(function(){e.$emit("shown")},200)):(ro(n,"bk-sideslider-show has-sideslider-padding"),this.popUid&&(Jo.hide(this.popUid),this.popUid=""),setTimeout(function(){e.$emit("hidden")},200))}},mounted:function(){this.$refs.content&&this.showMask&&(this.generatePopUid(),Jd(this.$refs.content,this.handleContentResize))},destroyed:function(){ro(document.querySelector("html"),"bk-sideslider-show"),Qd(this.$refs.content,this.handleContentResize)},beforeDestroy:function(){this.isShow&&this.popUid&&Jo.hide(this.popUid)},methods:{generatePopUid:function(){this.popUid=Jo.show("bk-sideslider",this.$el,{zIndex:this.localZIndex-1,tplAction:this.multiInstance?"keepAll":"onlyone",appendToBody:this.transfer})},isScrollY:function(){return document.documentElement.offsetHeight>document.documentElement.clientHeight},show:function(){io(document.documentElement,"bk-sideslider-show"),this.isShow=!0},hide:function(){ro(document.querySelector("html"),"bk-sideslider-show"),this.isShow=!1},handleClose:function(){var t=this;return s(te.mark(function e(){var n;return te.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,"function"!=typeof t.beforeClose){e.next=5;break}return e.next=4,t.beforeClose();case 4:n=e.sent;case 5:n&&(t.$emit("update:isShow",!1),setTimeout(function(){t.$emit("animation-end")},250));case 6:case"end":return e.stop()}},e)}))()},handleQuickClose:function(){this.quickClose&&this.handleClose()},handleContentResize:function(){var t=this.$refs.content;this.needBorder=t.scrollHeight>t.clientHeight}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Zd),n.use(xh);var $d=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["bk-slider",t.extCls]},[t._t("start"),n("div",{ref:"slider",staticClass:"bk-slider-runway",style:t.runwayStyle,on:{click:function(e){return e.stopPropagation(),t.setButtonPos(e)}}},[n("div",{class:["bk-slider-bar",t.vertical?"vertical":"horizontal",{disable:t.disable}],style:t.barStyle}),t.showInterval?t._l(t.intervals,function(e,i){return n("div",{key:i,class:["bk-slider-interval",{vertical:t.vertical}],style:t.getIntervalStyle(e)})}):t._e(),t.customContent?t._l(t.customList,function(e,i){return n("div",{key:i,class:["bk-slider-interval",{vertical:t.vertical}],style:t.getIntervalStyle(e.percent)})}):t._e(),t.showBetweenLabel||t.showIntervalLabel||t.showCustomLabel?[n("div",{class:["bk-slider-labels",t.vertical?"vertical":"horizontal"]},[t.showBetweenLabel?[n("div",{staticClass:"label-start",style:[{opacity:t.showButtonLabel&&[t.firstValue,t.secondValue].includes(t.vertical?t.maxValue:t.minValue)?"0":"1"}]},[t._v("\n            "+t._s(t.minValue)+t._s(t.intervalLabelUnit)+"\n          ")]),n("div",{staticClass:"label-end",style:[{opacity:t.showButtonLabel&&[t.firstValue,t.secondValue].includes(t.vertical?t.minValue:t.maxValue)?"0":"1"}]},[t._v("\n            "+t._s(t.maxValue)+t._s(t.intervalLabelUnit)+"\n          ")])]:t.showIntervalLabel?t._l(t.intervalLabels,function(e,i){return n("div",{key:i,class:["bk-slider-label",t.vertical?"vertical":"horizontal"],style:t.getIntervalStyle(e.stepWidth)},[t._v("\n            "+t._s(e.stepLabel)+"\n          ")])}):t.showCustomLabel?t._l(t.customList,function(e,i){return n("div",{key:i,class:["bk-slider-label",t.vertical?"vertical":"horizontal"],style:t.getIntervalStyle(e.percent)},[t._v("\n            "+t._s(e.label)+"\n          ")])}):t._e()],2)]:t._e(),n("slider-button",{ref:"firstbutton",attrs:{vertical:t.vertical},model:{value:t.firstValue,callback:function(e){t.firstValue=e},expression:"firstValue"}}),t.range?n("slider-button",{ref:"secondbutton",attrs:{vertical:t.vertical},model:{value:t.secondValue,callback:function(e){t.secondValue=e},expression:"secondValue"}}):t._e()],2),t.showInput&&!t.vertical?n("div",{staticClass:"bk-slider-input"},[n("div",{staticClass:"input-item",style:{width:t.getInputWidth(t.firstInput)}},[n("bk-input",{attrs:{type:"number",max:t.maxValue,min:t.minValue},on:{change:t.firstInputChange,enter:t.firstInputChange,blur:t.firstInputChange},model:{value:t.firstInput,callback:function(e){t.firstInput=e},expression:"firstInput"}})],1),t.showSecondInput&&t.secondValue?[n("div",{staticClass:"input-center"},[t._v("～")]),n("div",{staticClass:"input-item",style:{width:t.getInputWidth(t.secondInput)}},[n("bk-input",{attrs:{type:"number",max:t.maxValue,min:t.minValue},on:{change:t.secondInputChange,enter:t.secondInputChange,blur:t.secondInputChange},model:{value:t.secondInput,callback:function(e){t.secondInput=e},expression:"secondInput"}})],1)]:t._e()],2):t._e(),t._t("end")],2)},staticRenderFns:[]},void 0,{name:"bk-slider",components:{sliderButton:Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.tip,expression:"tip"}],ref:"button",class:["bk-slider-button",t.vertical?"vertical":"horizontal",{grabbing:t.dragging}],style:t.wrapperStyle,attrs:{tabindex:"0"},on:{click:function(t){t.stopPropagation()},mousedown:t.onButtonDown,touchstart:t.onButtonDown}},[n("div",{class:["slider-button",{"slider-button-disable":t.disable}]}),t.showButtonLabel&&!t.showIntervalLabel?n("div",{class:["slider-button-label",t.vertical?"vertical":"horizontal"]},[t._v("\n    "+t._s(t.buttonLabel)+"\n  ")]):t._e()])},staticRenderFns:[]},void 0,{name:"bk-slider-button",props:{vertical:{type:Boolean,default:!1},value:{type:Number,default:0}},data:function(){return{dragging:!1,isClick:!1,startY:0,startX:0,startPosition:0,newPosition:null,oldValue:this.value}},computed:{showTip:function(){return this.$parent.showTip},tip:function(){var t="";if(this.customContent&&this.customContent[this.value]){var e=this.customContent[this.value];t=e.tip||e.label||""}return{content:this.showCustomTip?t:this.showTip?this.value?"".concat(this.value):"".concat(0):"",placement:this.vertical?"right":"top"}},disable:function(){return this.$parent.disable},maxValue:function(){return this.$parent.maxValue},minValue:function(){return this.$parent.minValue},step:function(){return this.$parent.step},precision:function(){return this.$parent.precision},currentPosition:function(){return"".concat((this.value-this.minValue)/(this.maxValue-this.minValue)*100,"%")},wrapperStyle:function(){return this.vertical?{bottom:this.currentPosition}:{left:this.currentPosition}},showButtonLabel:function(){return this.$parent.showButtonLabel},buttonLabel:function(){var t=this.$parent.buttonLabelUnit;return this.value?"".concat(this.value).concat(t):"".concat(0,t)},showIntervalLabel:function(){return this.$parent.showIntervalLabel},customContent:function(){return this.$parent.customContent},showCustomTip:function(){return this.$parent.showCustomTip}},methods:{onButtonDown:function(t){this.disable||(t.preventDefault(),this.onDragStart(t),this.$parent.on(window,"mousemove",this.onDragging),this.$parent.on(window,"touchmove",this.onDragging),this.$parent.on(window,"mouseup",this.onDragEnd),this.$parent.on(window,"touchend",this.onDragEnd))},onDragStart:function(t){this.dragging=!0,this.isClick=!0,"touchstart"===t.type&&(t.clientY=t.touches[0].clientY,t.clientX=t.touches[0].clientX),this.vertical?this.startY=t.clientY:this.startX=t.clientX,this.startPosition=no(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(t){if(this.dragging){this.isClick=!1,this.$parent.resetSize();var e=0;"touchmove"===t.type&&(t.clientY=t.touches[0].clientY,t.clientX=t.touches[0].clientX),this.vertical?(this.currentY=t.clientY,e=(this.startY-this.currentY)/this.$parent.sliderSize*100):(this.currentX=t.clientX,e=(this.currentX-this.startX)/this.$parent.sliderSize*100),this.newPosition=this.startPosition+e,this.setPosition(this.newPosition)}},setPosition:function(t){if(null!==t&&!isNaN(t)){t<0?t=0:t>100&&(t=100);var e=100/((this.maxValue-this.minValue)/this.step),n=Math.round(t/e)*e*(this.maxValue-this.minValue)*.01+this.minValue;n=no(n.toFixed(this.precision)),this.$emit("input",n),this.dragging||this.value===this.oldValue||(this.oldValue=this.value)}},onDragEnd:function(){var t=this;this.isMove=!1,this.dragging&&(setTimeout(function(){t.dragging=!1,t.isClick||(t.setPosition(t.newPosition),t.$parent.emitChange())},0),this.$parent.off(window,"mousemove",this.onDragging),this.$parent.off(window,"touchmove",this.onDragging),this.$parent.off(window,"mouseup",this.onDragEnd),this.$parent.off(window,"touchend",this.onDragEnd))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),bkInput:Th},props:{value:{type:[Number,Array],default:0},vertical:{type:Boolean,default:!1},showTip:{type:Boolean,default:!0},disable:{type:Boolean,default:!1},maxValue:{type:[Number],default:100},minValue:{type:[Number],default:0},step:{type:[Number],default:1},range:{type:Boolean,default:!1},showInterval:{type:Boolean,default:!1},showIntervalLabel:{type:Boolean,default:!1},intervalLabelUnit:{type:String,default:""},height:{type:String,default:"200px"},showButtonLabel:{type:Boolean,default:!1},buttonLabelUnit:{type:String,default:""},showBetweenLabel:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},customContent:{type:Object},showCustomLabel:{type:Boolean,default:!1},showCustomTip:{type:Boolean,default:!1},extCls:{type:String,default:""}},data:function(){return{sliderSize:1,firstValue:null,secondValue:null,oldValue:null,stepWidth:0,inputValue:0,firstInput:0,secondInput:0}},computed:{precision:function(){var t=[this.minValue,this.maxValue,this.step].map(function(t){var e=(""+t).split(".")[1];return e?e.length:0});return Math.max.apply(null,t)},rangeMinValue:function(){return Math.min(this.firstValue,this.secondValue)},rangeMaxValue:function(){return Math.max(this.firstValue,this.secondValue)},barSize:function(){return this.range?"".concat(100*(this.rangeMaxValue-this.rangeMinValue)/(this.maxValue-this.minValue),"%"):"".concat(100*(this.firstValue-this.minValue)/(this.maxValue-this.minValue),"%")},barStart:function(){return this.range?"".concat(100*(this.rangeMinValue-this.minValue)/(this.maxValue-this.minValue),"%"):"0%"},barStyle:function(){return this.vertical?{height:this.barSize,bottom:this.barStart}:{width:this.barSize,left:this.barStart}},intervals:function(){var t=this;if(!this.showInterval||this.minValue>this.maxValue)return[];if(0===this.step)return console.warn("WARNNING:step should not be 0"),[];for(var e=(this.maxValue-this.minValue)/this.step,n=100*this.step/(this.maxValue-this.minValue),i=[],r=1;r<e;r++)i.push(r*n);return this.range?i.filter(function(e){return e<100*(t.rangeMinValue-t.minValue)/(t.maxValue-t.minValue)||e>100*(t.rangeMaxValue-t.minValue)/(t.maxValue-t.minValue)}):i.filter(function(e){return e>100*(t.firstValue-t.minValue)/(t.maxValue-t.minValue)})},runwayStyle:function(){return this.vertical?{height:this.height,width:"4px"}:{}},intervalLabels:function(){if(!this.showIntervalLabel)return[];if(0===this.step)return console.warn("WARNNING:step should not be 0"),[];for(var t=(this.maxValue-this.minValue)/this.step,e=100*this.step/(this.maxValue-this.minValue),n=[],i=0;i<=t;i++){var r={stepWidth:i*e,stepLabel:"".concat(i*this.step).concat(this.intervalLabelUnit)};n.push(r)}return n},showSecondInput:function(){return se(this.value)},customList:function(){var t=this;return this.customContent?Ot(this.customContent).sort(function(t,e){return t-e}).filter(function(e){return e>=t.minValue&&e<=t.maxValue}).map(function(e){var n=t.customContent[e].tip,i=t.customContent[e].label;return{tip:n||i||"",label:i||"",percent:(e-t.minValue)/(t.maxValue-t.minValue)*100}}):[]}},watch:{value:function(){this.setValues()},firstValue:function(t){this.range?this.$emit("input",[this.rangeMinValue,this.rangeMaxValue]):this.$emit("input",t),this.firstInput=t},secondValue:function(t){this.$emit("input",[this.rangeMinValue,this.rangeMaxValue]),this.secondInput=t}},mounted:function(){this.range?(se(this.value)?(this.firstValue=Math.max(this.minValue,this.value[0]),this.secondValue=Math.min(this.maxValue,this.value[1])):(this.firstValue=this.minValue,this.secondValue=this.maxValue),this.oldValue=[this.firstValue,this.secondValue]):("number"!=typeof this.value||isNaN(this.value)?this.firstValue=this.minValue:this.firstValue=Math.min(this.maxValue,Math.max(this.minValue,this.value)),this.oldValue=this.firstValue),this.stepWidth=100*this.step/(this.maxValue-this.minValue),this.resetSize(),this.on(window,"resize",this.resetSize)},methods:{valueChanged:function(){var t=this;return this.range?![this.rangeMinValue,this.rangeMaxValue].every(function(e,n){return e===t.oldValue[n]}):this.value!==this.oldValue},setValues:function(){if(this.minValue>this.maxValue)console.error("min should not be greater than max.");else{var t=this.value;this.range&&se(t)?t[1]<this.minValue?this.$emit("input",[this.minValue,this.minValue]):t[0]>this.maxValue?this.$emit("input",[this.maxValue,this.maxValue]):t[0]<this.minValue?this.$emit("input",[this.minValue,t[1]]):t[1]>this.maxValue?this.$emit("input",[t[0],this.maxValue]):(this.firstValue=t[0],this.secondValue=t[1],this.valueChanged()&&(this.oldValue=t.slice())):this.range||"number"!=typeof t||isNaN(t)||(t<this.minValue?this.$emit("input",this.minValue):t>this.maxValue?this.$emit("input",this.maxValue):(this.firstValue=t,this.valueChanged()&&(this.oldValue=t)))}},resetSize:function(){this.$refs.slider&&(this.sliderSize=this.$refs.slider["client".concat(this.vertical?"Height":"Width")])},emitChange:function(){var t=this;this.$nextTick(function(){t.$emit("change",t.range?[t.rangeMinValue,t.rangeMaxValue]:t.value)})},getIntervalStyle:function(t){return this.vertical?{bottom:t+"%"}:{left:t+"%"}},setPosition:function(t){if(this.range){var e,n=this.minValue+t*(this.maxValue-this.minValue)/100;e=Math.abs(this.rangeMinValue-n)<Math.abs(this.rangeMaxValue-n)?this.firstValue<this.secondValue?"firstbutton":"secondbutton":this.firstValue>this.secondValue?"firstbutton":"secondbutton",this.$refs[e].setPosition(t)}else this.$refs.firstbutton.setPosition(t)},setButtonPos:function(t){if(!this.disable){if(this.resetSize(),this.vertical){var e=this.$refs.slider.getBoundingClientRect().bottom;this.setPosition((e-t.clientY)/this.sliderSize*100)}else{var n=this.$refs.slider.getBoundingClientRect().left;this.setPosition((t.clientX-n)/this.sliderSize*100)}this.emitChange()}},firstInputChange:function(t){if(""!==t){var e=no(t);e<this.minValue?(this.firstInput=this.minValue,this.firstValue=this.minValue):e>this.maxValue?(this.firstInput=this.maxValue,this.firstValue=this.maxValue):this.firstValue=e}},secondInputChange:function(t){if(""!==t){var e=no(t);e<this.minValue?(this.secondInput=this.minValue,this.secondValue=this.minValue):e>this.maxValue?(this.secondInput=this.maxValue,this.secondValue=this.maxValue):this.secondValue=e}},on:function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)},off:function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)},getInputWidth:function(t){var e="".concat(t).length;return e>2?"".concat(56+6*(e-2),"px"):"56px"}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et($d);var Xd=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.wrapperCls,t.extCls]},t._l(t.defaultSteps,function(e,i){var r;return n("div",{key:i,staticClass:"bk-step",class:(r={"bk-step-no-content":!e.title,done:t.isDone(i),current:t.isCurrent(i)},r["bk-step-"+t.currentStatus]=t.currentStatus&&t.isCurrent(i),r)},[n("span",{staticClass:"bk-step-indicator",class:"bk-step-"+(t.iconType(e)?"icon":"number"),style:{cursor:t.controllable?"pointer":""},on:{click:function(e){t.jumpTo(i+1)}}},[t.isCurrent(i)&&"loading"===t.currentStatus||t.isLoadingStatus(e)?n("i",{staticClass:"bk-icon icon-circle-4-1 icon-loading"}):t.iconType(e)?n("i",{staticClass:"bk-icon",class:"icon-"+t.isIcon(e)}):t.isCurrent(i)&&"error"===t.currentStatus||t.isErrorStatus(e)?n("i",{staticClass:"bk-icon icon-close icon-error"}):t.isDone(i)?n("i",{staticClass:"bk-icon icon-check-1 icon-finish"}):n("span",{staticClass:"number"},[t._v("\n        "+t._s(t.isIcon(e))+"\n      ")])]),e.title?n("div",{staticClass:"bk-step-content"},[n("div",{staticClass:"bk-step-title",style:{cursor:t.controllable?"pointer":""},on:{click:function(e){t.jumpTo(i+1)}}},[t._v("\n        "+t._s(e.title)+"\n      ")]),e.description?n("div",{staticClass:"bk-step-description",attrs:{title:e.description}},[t._v("\n        "+t._s(e.description)+"\n      ")]):t._e()]):t._e()])}),0)},staticRenderFns:[]},void 0,{name:"bk-steps",mixins:[Jr.mixin],props:{steps:{type:Array,default:function(){return[]}},curStep:{type:Number,default:1},controllable:{type:Boolean,default:!1},direction:{type:String,default:"horizontal",validator:function(t){return["horizontal","vertical"].includes(t)}},status:{type:String,default:"",validator:function(t){return["","error","loading"].includes(t)}},lineType:{type:String,default:"dashed",validator:function(t){return["dashed","solid"].includes(t)}},size:{type:String,default:"",validator:function(t){return["","small"].includes(t)}},theme:{type:String,default:"primary"},extCls:{type:String,default:""},beforeChange:{type:Function,default:null}},data:function(){return{defaultSteps:[],currentStatus:this.status}},computed:{wrapperCls:function(){var t=["bk-steps","bk-steps-".concat(this.direction),"bk-steps-".concat(this.lineType),"bk-steps-".concat(this.theme)];return this.size&&t.push("bk-steps-".concat(this.size)),t}},watch:{status:function(t){this.currentStatus=t},steps:{handler:function(t){this.updateSteps(t)},deep:!0}},created:function(){var t;(t=this.defaultSteps).splice.apply(t,[0,this.defaultSteps.length].concat([{title:this.t("bk.steps.step1"),icon:1},{title:this.t("bk.steps.step2"),icon:2},{title:this.t("bk.steps.step3"),icon:3}])),this.steps&&this.steps.length&&this.updateSteps(this.steps)},methods:{updateSteps:function(t){var e,n=[];t.forEach(function(t){"string"==typeof t?n.push(t):n.push({title:t.title,icon:t.icon,description:t.description,status:t.status})}),(e=this.defaultSteps).splice.apply(e,[0,this.defaultSteps.length].concat(n))},iconType:function(t){var e=t.icon;return e?"string"==typeof e:"string"==typeof t},isIcon:function(t){return t.icon?t.icon:t},isCurrent:function(t){return this.curStep===t+1},isDone:function(t){return this.curStep>t+1||"done"===this.defaultSteps[t].status},isLoadingStatus:function(t){return"loading"===t.status},isErrorStatus:function(t){return"error"===t.status},jumpTo:function(t){var e=this;return s(te.mark(function n(){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!e.controllable||t===e.curStep){n.next=7;break}if("function"!=typeof e.beforeChange){n.next=5;break}return n.next=5,new yu(function(){var n=s(te.mark(function n(i,r){var o;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.beforeChange(t);case 2:(o=n.sent)?i(o):r(o);case 4:case"end":return n.stop()}},n)}));return function(t,e){return n.apply(this,arguments)}}());case 5:e.$emit("update:curStep",t),e.$emit("step-changed",t);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.warn(n.t0);case 12:case"end":return n.stop()}},n,null,[[0,9]])}))()}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Xd);var Kd=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.classObject,attrs:{tabindex:"0"},on:{click:t.change,keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.change(e)):null}}},[n("input",{attrs:{type:"checkbox",disabled:t.disabled,tabindex:"-1"}}),n("label",{directives:[{name:"show",rawName:"v-show",value:t.showText,expression:"showText"}],staticClass:"switcher-label"},[n("span",{staticClass:"switcher-text on-text"},[t._v(t._s(t.onText))]),n("span",{staticClass:"switcher-text off-text"},[t._v(t._s(t.offText))])]),t.isLoading?[n("img",{staticClass:"bk-switcher-loading",attrs:{src:pd}})]:t._e()],2)},staticRenderFns:[]},void 0,{name:"bk-switcher",model:{prop:"value",event:"update"},props:{value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},onText:{type:String,default:"ON"},offText:{type:String,default:"OFF"},isOutline:{type:Boolean,default:!1},theme:{type:String,default:"success"},isSquare:{type:Boolean,default:!1},size:{type:String,default:"",validator:function(t){return!(["","large","small"].indexOf(t)<0&&(console.error("size property is not valid: '".concat(t,"'")),1))}},preCheck:{type:Function}},data:function(){return{isLoading:!1,localValue:this.value}},computed:{isChecked:function(){return this.localValue===this.trueValue},classObject:function(){var t={"bk-switcher":!0,"bk-switcher-outline":this.isOutline,"bk-switcher-square":this.isSquare,"show-label":this.showText,"is-disabled":this.disabled,"is-checked":this.isChecked,"is-unchecked":!this.isChecked,"is-loading":this.isLoading,primary:"primary"===this.theme};return this.size&&!this.showText&&(t["bk-switcher-"+this.size]=!0),t}},watch:{value:function(t){this.localValue=t}},methods:{change:function(){var t=this;if(!this.disabled&&!this.isLoading){var e=this.isChecked?this.falseValue:this.trueValue,n=!this.isChecked,i=function(){t.localValue=e,t.$emit("update",e),t.$emit("change",n)},r=!0;if("function"==typeof this.preCheck&&"function"==typeof(r=this.preCheck(e)).then)return this.isLoading=!0,r.then(function(){i()}).finally(function(){t.isLoading=!1});r&&i()}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Kd);var qd=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["bk-tab","top"===t.tabPosition?"bk-tab-"+t.type:"position-"+t.tabPosition,t.extCls],style:t.tabStyle},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showHeader,expression:"showHeader"}],ref:"tabHeader",staticClass:"bk-tab-header",style:t.headerStyle},[n("div",{staticClass:"bk-tab-header-setting",class:{"has-setting":t.$slots.setting},style:{height:t.labelHeight+"px",lineHeight:t.labelHeight+"px"}},[t._t("setting")],2),n("div",{ref:"labelWrapper",staticClass:"bk-tab-label-wrapper",class:{"has-scroller":t.scrollState.show&&!t.isSidePosition,"has-add":(t.addable||t.hasAddBtnSlot)&&!t.isSidePosition},style:{padding:t.scrollState.show&&!t.isSidePosition?"0 "+(t.addCustomRect.width+24)+"px 0 24px":void 0}},[n("ul",{ref:"labelList",class:["bk-tab-label-list",{"bk-tab-label-list-has-bar":t.hasActiveBar}],style:t.tabLabelListStyle},t._l(t.visiblePanels,function(e,i){return n("bk-tab-label",{key:e.name+i,ref:"tabLabel",refInFor:!0,tag:"li",staticClass:"bk-tab-label-item",class:{active:e.name===t.localActive,"is-first":0===i,"is-last":i===t.visiblePanels.length-1,"is-disabled":e.disabled,"is-dragging":t.dragStartIndex===i,"is-dragenter":t.dragenterIndex===i&&i!==t.dragStartIndex&&e.sortable,"is-unsortable":t.dragenterIndex===i&&!e.sortable},style:{lineHeight:t.labelHeight+"px"},attrs:{"data-name":e.name,draggable:t.sortable&&e.sortable,panel:e,index:i,closable:t.closable,"is-side-position":t.isSidePosition},nativeOn:{dragstart:function(e){t.dragStart(i,e)},dragenter:function(e){e.preventDefault(),t.dragenter(i,e)},dragleave:function(t){t.preventDefault()},dragover:function(t){t.preventDefault()},dragend:function(e){e.preventDefault(),t.dragend(i,e)},drop:function(e){e.preventDefault(),t.drop(i,e)},"&mouseenter":function(n){t.handleLabelHover(e)},"&mouseleave":function(n){t.handleClearHoverTimer(e)}}})}),1),!t.addable||t.isSidePosition||t.hasAddBtnSlot?t._e():n("i",{ref:"addController",staticClass:"bk-tab-add-controller bk-icon icon-plus",class:{"left-border":!t.visiblePanels.length,"next-right":t.addShowNextRight},style:{height:t.labelHeight+"px",lineHeight:t.labelHeight+"px"},on:{click:t.handleAddPanel}}),t.hasAddBtnSlot?n("div",{ref:"addCustom",staticClass:"bk-tab-add-custom",class:{"next-right":t.addShowNextRight},style:{height:(t.scrollState.show&&!t.isSidePosition?t.labelHeight-1:t.labelHeight-2)+"px",lineHeight:t.labelHeight+"px"}},[t._t("add")],2):t._e(),t.scrollState.show?[n("i",{ref:"prevController",staticClass:"bk-tab-scroll-controller prev bk-icon icon-angle-left",class:{disabled:"left"===t.scrollState.position},style:{height:t.labelHeight-1+"px",lineHeight:t.labelHeight+"px"},on:{click:t.stepToPrev}}),n("i",{ref:"nextController",staticClass:"bk-tab-scroll-controller next bk-icon icon-angle-right",class:{disabled:"right"===t.scrollState.position},style:{height:t.labelHeight-1+"px",lineHeight:t.labelHeight+"px",right:t.hasAddBtnSlot||t.addable?(t.addShowNextRight?0:t.addCustomRect.width||40)+"px":void 0},on:{click:t.stepToNext}})]:t._e()],2)]),n("div",{ref:"tabSection",staticClass:"bk-tab-section"},[t._t("default")],2)])},staticRenderFns:[]},void 0,{name:"bk-tab",components:{bkTabLabel:{name:"bk-tab-label",props:["panel","index","closable","isSidePosition"],render:function(t){var e=this,n=this.panel,i=n.renderLabel,r=n.$slots,o=n.label,a=n.name,s=i&&i(t,a)||r.label||o;return t("li",{on:{click:function(){return e.$parent.togglePanel(e.panel)}},class:this.showClose&&!this.isSidePosition?"has-close":""},[t("div",{class:"bk-tab-label"},[s]),this.showClose?t("i",{class:"bk-tab-close-controller",on:{click:function(t){return e.handleClosePanel(t)}}}):""])},computed:{showClose:function(){return!this.panel.disabled&&(void 0!==this.panel.closable?this.panel.closable:this.closable)}},methods:{handleClosePanel:function(t){t.stopPropagation(),this.$parent.handleClosePanel(this.index,this.panel)}}}},props:{active:{type:[String,Number],default:""},sortable:{type:Boolean,default:!1},sortType:{type:String,default:"replace"},type:{type:String,default:"border-card",validator:function(t){return["card","border-card","unborder-card","vertical-card"].includes(t)}},tabPosition:{type:String,default:"top",validator:function(t){return["left","right","top"].includes(t)}},scrollStep:{type:Number,default:200},validateActive:{type:Boolean,default:!0},closable:Boolean,addable:Boolean,beforeToggle:Function,extCls:{type:String,default:""},showHeader:{type:Boolean,default:!0},changeOnHover:Boolean,changeOnHoverDelay:{type:Number,default:1e3},labelHeight:{type:Number,default:50,validator:function(t){return!(t<42&&(console.error("选项卡 label 的高度，最小值为 42"),1))}},activeBar:{type:Object,default:function(){return{position:"bottom",height:"2px"}}},addShowNextRight:{type:Boolean,default:!1}},data:function(){return{isTab:!0,localActive:this.active,scrollState:{show:!1,position:"left",offset:0,basicStep:this.scrollStep,wrapperRect:null,listRect:null},panelInstance:[],dragenterIndex:-1,dragStartIndex:-1,draggingEle:null,guid:Math.random().toString(16).substr(4)+Math.random().toString(16).substr(4),resizeHandler:null,promise:{toggle:{previousPanel:null,rejector:null}},hoverTimer:null,activeBarStyle:{left:0,width:0,height:0,transform:"",top:"",bottom:""},addCustomRect:{width:0}}},computed:{panelNames:function(){return this.panelInstance.map(function(t){return t.name})},activePanel:function(){var t=this;return this.panelInstance.find(function(e){return e.name===t.localActive})},visiblePanels:function(){return this.panelInstance.filter(function(t){return t.visible})},tabStyle:function(){return this.isSidePosition?{minHeight:"".concat(4*this.labelHeight+21,"px")}:{}},headerStyle:function(){if("top"===this.tabPosition){var t="border-card"===this.type?2:1;return{height:"".concat(this.labelHeight,"px"),backgroundImage:"linear-gradient(transparent ".concat(this.labelHeight-t,"px, #dcdee5 1px)")}}return{}},isSidePosition:function(){return["left","right"].includes(this.tabPosition)},isEmpty:function(){return this.panelInstance.length<1},hasActiveBar:function(){return("unborder-card"===this.type||this.isSidePosition)&&!this.isEmpty},tabLabelListStyle:function(){return this.isEmpty?{}:this.hasActiveBar?{transform:"translateX(".concat(this.scrollState.offset,"px)"),height:"".concat(this.labelHeight,"px"),"--activeBarTop":this.activeBarStyle.top,"--activeBarBottom":this.activeBarStyle.bottom,"--activeBarLeft":this.activeBarStyle.left,"--activeBarWidth":this.activeBarStyle.width,"--activeBarHeight":this.activeBarStyle.height,"--activeBarTransform":this.activeBarStyle.transform}:{transform:"translateX(".concat(this.scrollState.offset,"px)"),height:"".concat(this.labelHeight,"px")}},hasAddBtnSlot:function(){return!!this.$slots&&!!this.$slots.add}},watch:{panelNames:function(t){this.checkActiveName()},active:function(t){this.updateActiveBarPosition(t),this.localActive!==t&&(this.localActive=t,this.promise.toggle.rejector&&(this.promise.toggle.rejector(!1),this.clearToggleStatus()))},localActive:function(t){t!==this.active&&(this.$emit("update:active",t),this.$emit("tab-change",t,this.activePanel),this.updateActivePosition(t))},showHeader:function(t){t&&this.resizeHandler()},tabPosition:function(){this.updateActiveBarPosition(this.localActive)},"scrollState.show":function(t){this.$emit("scroll-show-change",t)}},created:function(){this.resizeHandler=Mt(100,this.calculateScroller)},mounted:function(){this.updateActiveBarPosition(this.localActive),Jd(this.$refs.labelList,this.resizeHandler),Jd(this.$refs.labelWrapper,this.resizeHandler),this.caluclateVerticalPadding()},beforeDestroy:function(){Qd(this.$refs.labelList,this.resizeHandler),Qd(this.$refs.labelWrapper,this.resizeHandler)},methods:{caluclateVerticalPadding:function(){var t=this;"vertical-card"===this.type&&this.$nextTick(function(){var e=t.$refs.tabHeader.offsetWidth;t.$refs.tabSection.style["padding-".concat(t.verticalPosition)]="".concat(e+20,"px")})},registerPanel:function(t){this.panelInstance.push(t)},deletePanel:function(t){var e=this.panelInstance.indexOf(t);-1!==e&&this.panelInstance.splice(e,1)},togglePanel:function(t){var e=this;return s(te.mark(function n(){var i;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.disabled){n.next=2;break}return n.abrupt("return",!1);case 2:if(e.handleClearHoverTimer(),i=e.promise.toggle,t.name!==e.localActive){n.next=7;break}return i.rejector&&i.rejector(!1),n.abrupt("return",!1);case 7:if("function"!=typeof e.beforeToggle){n.next=29;break}if(!i.previousPanel){n.next=14;break}if(i.previousPanel!==t){n.next=13;break}return n.abrupt("return",!1);case 13:i.rejector(!1);case 14:return n.prev=14,n.next=17,new yu(function(){var n=s(te.mark(function n(r,o){var a;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.previousPanel=t,i.rejector=o,n.next=4,e.beforeToggle(t.name,t);case 4:(a=n.sent)?r(a):o(a);case 6:case"end":return n.stop()}},n)}));return function(t,e){return n.apply(this,arguments)}}());case 17:n.sent&&(e.localActive=t.name),n.next=24;break;case 21:n.prev=21,n.t0=n.catch(14),console.warn("Previous tab toggle canceled");case 24:return n.prev=24,e.clearToggleStatus(),n.finish(24);case 27:n.next=30;break;case 29:e.localActive=t.name;case 30:case"end":return n.stop()}},n,null,[[14,21,24,27]])}))()},clearToggleStatus:function(){this.promise.toggle={previousPanel:null,rejector:null}},checkActiveName:function(){if(this.validateActive&&!this.panelNames.includes(this.localActive)){var t=this.panelInstance.length?this.panelInstance[0]:null;this.localActive=t?t.name:""}},calculateScroller:function(){var t=this;if(!this.showHeader)return!1;this.$nextTick(function(){var e=t.$refs,n=e.labelWrapper,i=e.labelList,r=e.addController,o=n.getBoundingClientRect(),a=i.getBoundingClientRect(),s=r?r.getBoundingClientRect():{width:0};t.addCustomRect=t.hasAddBtnSlot?t.$refs.addCustom.getBoundingClientRect():{width:0},t.scrollState.show=a.width+s.width+t.addCustomRect.width>o.width,t.scrollState.show?t.compensateOffset(o,a):(t.scrollState.offset=0,t.scrollState.position="left"),t.scrollState.wrapperRect=o,t.scrollState.listRect=a,t.updateActivePosition(t.localActive)})},compensateOffset:function(t,e){if(!this.scrollState.wrapperRect)return!1;t.width-this.scrollState.offset-e.width>0?(this.scrollState.offset=t.width-e.width-this.getControllerWidth(),this.scrollState.position="right"):this.scrollState.position="left"===this.scrollState.position?"left":"middle"},getControllerWidth:function(){return this.getLeftControllerWidth()+this.getRightControllerWidth()},getLeftControllerWidth:function(){var t=0;return[this.$refs.prevController].forEach(function(e){t+=e?e.offsetWidth:0}),t},getRightControllerWidth:function(){var t=this.$refs,e=0;return[t.nextController,t.addController].forEach(function(t){e+=t?t.offsetWidth:0}),this.hasAddBtnSlot&&(this.addCustomRect=this.hasAddBtnSlot?this.$refs.addCustom.getBoundingClientRect():{width:0},e+=this.addCustomRect.width),e},updateActiveBarPosition:function(t){var e=this;if(!this.showHeader)return!1;this.$nextTick(function(){var n=e.$refs.tabLabel.find(function(e){if(e&&e.$el){var n="[object Number]"===Object.prototype.toString.call(t)?t+"":t;return e.$el.dataset.name===n}});if(n){var i=n.$el,r=i.getBoundingClientRect();e.isSidePosition?(0===r.width&&0===r.height?i.classList.add("simulate-border-right"):i.classList.remove("simulate-border-right"),e.activeBarStyle.width=e.activeBar.height,e.activeBarStyle.height="".concat(r.height||50,"px"),e.activeBarStyle.transform="translateY(".concat(i.offsetTop,"px)"),"right"===e.tabPosition?e.activeBarStyle.left=0:e.activeBarStyle.left="".concat(r.width-2,"px")):(0===r.width&&0===r.height?i.classList.add("simulate-border-bottom"):i.classList.remove("simulate-border-bottom"),e.activeBarStyle.width="".concat(r.width-24,"px"),e.activeBarStyle.height=e.activeBar.height,e.activeBarStyle.transform="translateX(".concat(i.offsetLeft+12,"px)"),e.activeBarStyle.left=0,"top"===e.activeBar.position?(e.activeBarStyle.top="0px",e.activeBarStyle.bottom="auto"):(e.activeBarStyle.top="auto",e.activeBarStyle.bottom="0px"))}})},updateActivePosition:function(t){var e=this;if(!this.scrollState.show||!this.showHeader)return!1;this.$nextTick(function(){var n=e.panelNames.indexOf(t);if(-1!==n){var i=e.scrollState,r=i.wrapperRect,o=i.listRect,a=e.$refs.tabLabel[n].$el,s=a.getBoundingClientRect(),l=r.width-e.getControllerWidth(),u=a.offsetLeft,c=Math.abs(a.offsetLeft-l+s.width),h=s.left<r.left+e.getLeftControllerWidth(),d=s.right>r.right-e.getRightControllerWidth();h?(e.scrollState.offset=-1*u,e.scrollState.position=u?"middle":"left"):d&&(e.scrollState.offset=-1*c,e.scrollState.position=o.width-c===l?"right":"middle")}})},stepToPrev:function(){var t=this.scrollState,e=t.position,n=t.basicStep,i=t.offset;if("left"===e)return!1;var r=i+n;r>0?(r=0,this.scrollState.position="left"):this.scrollState.position="middle",this.scrollState.offset=r},stepToNext:function(){var t=this.scrollState,e=t.position,n=t.basicStep,i=t.wrapperRect,r=t.listRect,o=t.offset;if("right"===e)return!1;var a=this.getControllerWidth(),s=o-n;i.width-a-s>r.width?(s=i.width-r.width-a,this.scrollState.position="right"):this.scrollState.position="middle",this.scrollState.offset=s},handleAddPanel:function(){this.$emit("add-panel")},handleClosePanel:function(t,e){this.$emit("close-panel",t,e)},handleLabelHover:function(t){var e=this;if(!this.changeOnHover||t.disabled||t.name===this.localActive)return!1;this.handleClearHoverTimer(),this.hoverTimer=setTimeout(function(){e.togglePanel(t)},this.changeOnHoverDelay)},handleClearHoverTimer:function(){this.hoverTimer&&clearTimeout(this.hoverTimer),this.hoverTimer=null},dragStart:function(t,e){this.dragStartIndex=t,this.draggingEle=this.guid,e.dataTransfer.effectAllowed="move",this.$emit("on-drag-tab",t,e)},dragenter:function(t){this.distinctRoots(this.draggingEle,this.guid)&&(this.dragenterIndex=t)},dragend:function(){this.dragenterIndex=-1,this.dragStartIndex=-1,this.draggingEle=null},drop:function(t,e){var n=this;if(!this.visiblePanels[t].sortable)return!1;if(!this.distinctRoots(this.draggingEle,this.guid))return!1;if("insert"===this.sortType)if(this.dragStartIndex<t)this.visiblePanels.splice(t+1,0,this.visiblePanels[this.dragStartIndex]),this.visiblePanels.splice(this.dragStartIndex,1);else{if(!(this.dragStartIndex>t))return!1;this.visiblePanels.splice(t,0,this.visiblePanels[this.dragStartIndex]),this.visiblePanels.splice(this.dragStartIndex+1,1)}else this.swapArr(this.visiblePanels,this.dragStartIndex,t);this.$emit("sort-change",this.dragStartIndex,t);var i=setTimeout(function(){n.updateActiveBarPosition(n.localActive),clearTimeout(i),i=null},200)},swapArr:function(t,e,n){var i=t[e];t[e]=t[n],t[n]=i},distinctRoots:function(t,e){return t===e}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(qd);var tf=Ct({render:function(){var t=this.$createElement,e=this._self._c||t;return this.shouldRender?e("section",{directives:[{name:"show",rawName:"v-show",value:this.active,expression:"active"}],staticClass:"bk-tab-content"},[this._t("default")],2):this._e()},staticRenderFns:[]},void 0,{name:"bk-tab-panel",props:{name:{type:[String,Number],required:!0},label:{type:String,required:!1},closable:{type:Boolean,default:void 0},visible:{type:Boolean,default:!0},disabled:Boolean,sortable:{type:Boolean,default:!0},renderDirective:{type:String,default:"show",validator:function(t){return["if","show"].includes(t)}},renderLabel:Function},computed:{tabInstance:function(){for(var t=this.$parent;t&&!t.isTab;)t=t.$parent;return t},shouldRender:function(){var t=this.renderDirective;return"show"===t||this.active&&"if"===t},active:function(){return this.tabInstance.localActive===this.name}},created:function(){this.tabInstance.isTab?this.tabInstance.registerPanel(this):console.error('"bk-tab-panel"\'s parent element must be "bk-tab"')},beforeDestroy:function(){this.tabInstance.isTab&&this.tabInstance.deletePanel(this)}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(tf);var ef,nf,rf,of,af,sf,lf,uf,cf,hf,df,ff,pf,gf,vf,mf=!1;function yf(){if(!mf){mf=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(ff=/\b(iPhone|iP[ao]d)/.exec(t),pf=/\b(iP[ao]d)/.exec(t),hf=/Android/i.exec(t),gf=/FBAN\/\w+;/i.exec(t),vf=/Mobile/i.exec(t),df=!!/Win64/.exec(t),e){(ef=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN)&&document&&document.documentMode&&(ef=document.documentMode);var i=/(?:Trident\/(\d+.\d+))/.exec(t);sf=i?parseFloat(i[1])+4:ef,nf=e[2]?parseFloat(e[2]):NaN,rf=e[3]?parseFloat(e[3]):NaN,(of=e[4]?parseFloat(e[4]):NaN)?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),af=e&&e[1]?parseFloat(e[1]):NaN):af=NaN}else ef=nf=rf=af=of=NaN;if(n){if(n[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);lf=!r||parseFloat(r[1].replace("_","."))}else lf=!1;uf=!!n[2],cf=!!n[3]}else lf=uf=cf=!1}}var bf,xf={ie:function(){return yf()||ef},ieCompatibilityMode:function(){return yf()||sf>ef},ie64:function(){return xf.ie()&&df},firefox:function(){return yf()||nf},opera:function(){return yf()||rf},webkit:function(){return yf()||of},safari:function(){return xf.webkit()},chrome:function(){return yf()||af},windows:function(){return yf()||uf},osx:function(){return yf()||lf},linux:function(){return yf()||cf},iphone:function(){return yf()||ff},mobile:function(){return yf()||ff||pf||hf||vf},nativeApp:function(){return yf()||gf},android:function(){return yf()||hf},ipad:function(){return yf()||pf}},wf=xf,_f=!("undefined"==typeof window||!window.document||!window.document.createElement),Sf=_f;_f&&!window.addEventListener&&window.attachEvent,_f&&window.screen;Sf&&(bf=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));function Mf(t){var e=0,n=0,i=0,r=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),i=10*e,r=10*n,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(i=t.deltaX),(i||r)&&t.deltaMode&&(1==t.deltaMode?(i*=40,r*=40):(i*=800,r*=800)),i&&!e&&(e=i<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:e,spinY:n,pixelX:i,pixelY:r}}Mf.getEventType=function(){return wf.firefox()?"DOMMouseScroll":function(t,e){if(!Sf||e&&!("addEventListener"in document))return!1;var n="on"+t,i=n in document;if(!i){var r=document.createElement("div");r.setAttribute(n,"return;"),i="function"==typeof r[n]}return!i&&bf&&"wheel"===t&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}("wheel")?"wheel":"mousewheel"};var Cf=Mf,If="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,kf={bind:function(t,e){var n,i;n=t,i=e.value,n&&n.addEventListener&&n.addEventListener(If?"DOMMouseScroll":"mousewheel",function(t){var e=Cf(t);i&&i.apply(this,[t,e])})}},Tf=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{class:["bk-spin",t.extCls]},[n("div",{style:{display:"right"===t.placement?"flex":""}},[t.icon?t._e():n("div",{class:[t.dotClass]},[n("div",{staticClass:"rotate1",class:t.slotTypeClass}),n("div",{staticClass:"rotate2",class:t.slotTypeClass}),n("div",{staticClass:"rotate3",class:t.slotTypeClass}),n("div",{staticClass:"rotate4",class:t.slotTypeClass}),n("div",{staticClass:"rotate5",class:t.slotTypeClass}),n("div",{staticClass:"rotate6",class:t.slotTypeClass}),n("div",{staticClass:"rotate7",class:t.slotTypeClass}),n("div",{staticClass:"rotate8",class:t.slotTypeClass})]),t.icon?n("div",{class:[t.iconClass]},[n("i",{class:["bk-icon","icon-"+t.icon]})]):t._e(),t.$slots.default?n("div",{class:[t.slotClass]},[t._t("default")],2):t._e()])])])},staticRenderFns:[]},void 0,{name:"bk-spin",props:{theme:{type:String,default:"primary",validator:function(t){return!!["primary","warning","success","danger","info"].includes(t)||(console.error("theme property is not valid: '".concat(t,"'")),!1)}},size:{type:String,default:"small",validator:function(t){return!!["large","normal","small","mini"].includes(t)||(console.error("size property is not valid: '".concat(t,"'")),!1)}},icon:{type:String,default:""},extCls:{type:String,default:""},placement:{type:String,default:"bottom",validator:function(t){return!!["bottom","right"].includes(t)||(console.error("placement property is not valid: '".concat(t,"'")),!1)}},spinning:{type:Boolean,default:!0}},data:function(){return{}},computed:{dotClass:function(){var t=["bk-spin-rotation","bk-spin-rotation-".concat(this.size),"bk-spin-rotation-".concat(this.theme)];return!this.spinning&&t.push("bk-spin-rotation-".concat(this.theme,"-wait")),"right"===this.placement&&t.push("bk-spin-rotation-flex"),"bottom"===this.placement&&t.push("bk-spin-rotation-margin"),t},slotTypeClass:function(){var t=["rotate"];return this.$slots.default&&"right"===this.placement&&t.push("slots-".concat(this.placement,"-rotate")),t},iconClass:function(){var t=["bk-spin-icon","bk-spin-icon-".concat(this.size),"bk-spin-icon-".concat(this.theme)];return!this.spinning&&t.push("bk-spin-icon-wait"),"right"===this.placement&&t.push("bk-display-flex"),t},slotClass:function(){var t=["bk-spin-title","bk-spin-title-".concat(this.placement)];return"right"===this.placement&&t.push("bk-spin-title-".concat(this.size),"bk-display-flex"),t}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Tf);var Of,Ef=function(t,e){for(var n=(e=e||"").split("."),i=t,r=null,o=0,a=n.length;o<a;o++){var s=n[o];if(!i)break;if(o===a-1){r=i[s];break}i=i[s]}return r},Af=function(t){for(var e=t.target;e&&"HTML"!==e.tagName.toUpperCase();){if("TD"===e.tagName.toUpperCase())return e;e=e.parentNode}return null},Nf=function(t){return null!==t&&"object"===o(t)},Lf=function(t,e){var n=null;return t.columns.forEach(function(t){t.id===e&&(n=t)}),n},Df=function(t,e){var n=(e.className||"").match(/bk-table-[^\s]+/gm);return n?Lf(t,n[0]):null},jf=function(t,e){if(!t)throw new Error("row is required when get row identity");if("string"==typeof e){if(e.indexOf(".")<0)return t[e];for(var n=e.split("."),i=t,r=0;r<n.length;r++)i=i[n[r]];return i}if("function"==typeof e)return e(t)},Pf=function(t){return"function"!=typeof t?function(){}:function(){var n=arguments;return e||(e=new yu(function(i){setTimeout(s(te.mark(function r(){var o;return te.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=null,r.next=3,t.apply(void 0,m(n));case 3:o=r.sent,i(o);case 5:case"end":return r.stop()}},r)})),0)}))};var e},Rf=function(t,e){var n=e.sortingColumn;return n&&"string"!=typeof n.sortable?function(t,e,n,i,r){if(!e&&!i&&(!r||se(r)&&!r.length))return t;n="string"==typeof n?"descending"===n?-1:1:n&&n<0?-1:1;var o=i?null:function(n,i){return r?(se(r)||(r=[r]),r.map(function(e){return"string"==typeof e?Ef(n,e):e(n,i,t)})):("$key"!==e&&Nf(n)&&"$value"in n&&(n=n.$value),[Nf(n)?Ef(n,e):n])};return t.map(function(t,e){return{value:t,index:e,key:o?o(t,e):null}}).sort(function(t,e){var r=function(t,e){if(i)return i(t.value,e.value);for(var n=0,r=t.key.length;n<r;n++){if(t.key[n]<e.key[n])return-1;if(t.key[n]>e.key[n])return 1}return 0}(t,e);return r||(r=t.index-e.index),r*n}).map(function(t){return t.value})}(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy):t},zf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n={};return t.forEach(function(t,i){n[jf(t,e)]={row:t,index:i}}),n},Bf=function(t,e,n){var i=!1,r=t.selection,o=r.indexOf(e);return void 0===n?-1===o?(r.push(e),i=!0):(r.splice(o,1),i=!0):n&&-1===o?(r.push(e),i=!0):!n&&o>-1&&(r.splice(o,1),i=!0),i},Ff=function t(e){var n=[];return e.forEach(function(e){e.children?n.push.apply(n,t(e.children)):n.push(e)}),n},Gf=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(this,t),!e)throw new Error("Table is required.");for(var i in this.table=e,this.isDraging=!1,this.states={rowKey:null,_columns:[],originColumns:[],columns:[],fixedColumns:[],rightFixedColumns:[],leafColumns:[],fixedLeafColumns:[],rightFixedLeafColumns:[],leafColumnsLength:0,fixedLeafColumnsLength:0,rightFixedLeafColumnsLength:0,isComplex:!1,filteredData:null,data:null,sortingColumn:null,sortProp:null,sortOrder:null,isAllSelected:!1,selection:[],reserveSelection:!1,selectable:null,currentRow:null,hoverRow:null,filters:{},expandRows:[],defaultExpandAll:!1,selectOnIndeterminate:!1},n)n.hasOwnProperty(i)&&this.states.hasOwnProperty(i)&&(this.states[i]=n[i])}return c(t,[{key:"mutations",get:function(){return{setData:function(t,e){var i=this,r=t._data!==e;t._data=e,Ot(t.filters).forEach(function(n){var r=t.filters[n];if(r&&0!==r.length){var o=Lf(i.states,n);o&&o.filterMethod&&(e=e.filter(function(t){return r.some(function(e){return o.filterMethod.call(null,e,t,o)})}))}}),t.filteredData=e,t.data=Rf(e||[],t),this.updateCurrentRow();var o=t.rowKey;if(t.reserveSelection)if(o){var a=t.selection,s=zf(a,o);t.data.forEach(function(t){var e=jf(t,o),n=s[e];n&&(a[n.index]=t)}),this.updateAllSelected()}else console.warn("WARN: rowKey is required when reserve-selection is enabled.");else r?this.clearSelection():this.cleanSelection(),this.updateAllSelected();if(t.defaultExpandAll)this.states.expandRows=(t.data||[]).slice(0);else if(o){var l,u=zf(this.states.expandRows,o),c=[],h=x(t.data);try{for(h.s();!(l=h.n()).done;){var d=l.value;u[jf(d,o)]&&c.push(d)}}catch(t){h.e(t)}finally{h.f()}this.states.expandRows=c}else this.states.expandRows=[];n.nextTick(function(){return i.table.updateScrollY()})},changeSortCondition:function(t,e){var i=this;t.data=Rf(t.filteredData||t._data||[],t);var r=this.table,o=r.$el,a=r.highlightCurrentRow;if(o&&a){var s=t.data,l=o.querySelector("tbody").children,u=[].filter.call(l,function(t){return Vt(t,"bk-table-row")}),c=u[s.indexOf(t.currentRow)];Array.prototype.forEach.call(u,function(t){return Ht(t,"current-row")}),Wt(c,"current-row")}e&&e.silent||this.table.$emit("sort-change",{column:this.states.sortingColumn,prop:this.states.sortProp,order:this.states.sortOrder}),n.nextTick(function(){return i.table.updateScrollY()})},sort:function(t,e){var i=this,r=e.prop,o=e.order;r&&(t.sortProp=r,t.sortOrder=o||"ascending",n.nextTick(function(){for(var e=0,n=t.columns.length;e<n;e++){var r=t.columns[e];if(r.property===t.sortProp){r.order=t.sortOrder,t.sortingColumn=r;break}}t.sortingColumn&&i.commit("changeSortCondition")}))},filterChange:function(t,e){var i=this,r=e.values,o=e.column,a=e.silent;r&&!se(r)&&(r=[r]);var s={};o.property&&(t.filters[o.id]=r,s[o.columnKey||o.id]=r);var l=t._data;Ot(t.filters).forEach(function(e){var n=t.filters[e];if(n&&0!==n.length){var r=Lf(i.states,e);r&&r.filterMethod&&(l=l.filter(function(t){return n.some(function(e){return r.filterMethod.call(null,e,t,r)})}))}}),t.filteredData=l,t.data=Rf(l,t),a||this.table.$emit("filter-change",s,t.filters),n.nextTick(function(){return i.table.updateScrollY()})},insertColumn:function(t,e,n,i){var r=t._columns;i&&((r=i.children)||(r=i.children=[])),void 0!==n?r.splice(n,0,e):r.push(e),"selection"===e.type&&(t.selectable=e.selectable,t.reserveSelection=e.reserveSelection),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},removeColumn:function(t,e,n){var i=t._columns;n&&((i=n.children)||(i=n.children=[])),i&&i.splice(i.indexOf(e),1),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},setHoverRow:function(t,e){t.hoverRow=e},setCurrentRow:function(t,e){var n=t.currentRow;t.currentRow=e,n!==e&&this.table.$emit("current-change",e,n)},rowSelectedChanged:function(t,e){var n=Bf(t,e),i=t.selection;if(n){var r=this.table;r.$emit("selection-change",i?i.slice():[]),r.$emit("select",i,e)}this.updateAllSelected()},toggleAllSelection:Mt(10,function(t){if(!this.isAllSelectionDisabled){var e=t.data,n=this.states.selection,i=t.selectOnIndeterminate?!t.isAllSelected:!(t.isAllSelected||n.length),r=!1;e.forEach(function(e,n){t.selectable?t.selectable.call(null,e,n)&&Bf(t,e,i)&&(r=!0):Bf(t,e,i)&&(r=!0)});var o=this.table;r&&o.$emit("selection-change",n?n.slice():[]),o.$emit("select-all",n),t.isAllSelected=i}})}}},{key:"updateColumns",value:function(){var t=this.states,e=t._columns||[];t.fixedColumns=e.filter(function(t){return!0===t.fixed||"left"===t.fixed}),t.rightFixedColumns=e.filter(function(t){return"right"===t.fixed}),t.fixedColumns.length>0&&e[0]&&"selection"===e[0].type&&!e[0].fixed&&(e[0].fixed=!0,t.fixedColumns.unshift(e[0]));var n=e.filter(function(t){return!t.fixed});t.originColumns=[].concat(t.fixedColumns).concat(n).concat(t.rightFixedColumns);var i=Ff(n),r=Ff(t.fixedColumns),o=Ff(t.rightFixedColumns);t.leafColumnsLength=i.length,t.fixedLeafColumnsLength=r.length,t.rightFixedLeafColumnsLength=o.length,t.columns=[].concat(r).concat(i).concat(o),t.isComplex=t.fixedColumns.length>0||t.rightFixedColumns.length>0}},{key:"isSelected",value:function(t){return(this.states.selection||[]).indexOf(t)>-1}},{key:"isAllSelectionDisabled",get:function(){var t=this;if(!this.states.selectable)return!1;var e=this.states.data&&0===this.states.data.length,n=this.states.data.every(function(e,n){return!t.states.selectable(e,n)});return e||n}},{key:"clearSelection",value:function(){var t=this.states;t.isAllSelected=!1;var e=t.selection;t.selection.length&&(t.selection=[]),e.length>0&&this.table.$emit("selection-change",t.selection?t.selection.slice():[])}},{key:"setExpandRowKeys",value:function(t){var e=[],n=this.states.data,i=this.states.rowKey;if(!i)throw new Error("[Table] prop row-key should not be empty.");var r=zf(n,i);t.forEach(function(t){var n=r[t];n&&e.push(n.row)}),this.states.expandRows=e}},{key:"toggleRowSelection",value:function(t,e){Bf(this.states,t,e)&&this.table.$emit("selection-change",this.states.selection?this.states.selection.slice():[])}},{key:"toggleRowExpansion",value:function(t,e){(function(t,e,n){var i=!1,r=t.expandRows;if(void 0!==n){var o=r.indexOf(e);n?-1===o&&(r.push(e),i=!0):-1!==o&&(r.splice(o,1),i=!0)}else{var a=r.indexOf(e);-1===a?(r.push(e),i=!0):(r.splice(a,1),i=!0)}return i})(this.states,t,e)&&(this.table.$emit("expand-change",t,this.states.expandRows),this.scheduleLayout())}},{key:"isRowExpanded",value:function(t){var e=this.states,n=e.expandRows,i=void 0===n?[]:n,r=e.rowKey;return r?!!zf(i,r)[jf(t,r)]:-1!==i.indexOf(t)}},{key:"cleanSelection",value:function(){var t,e=this.states.selection||[],n=this.states.data,i=this.states.rowKey;if(i){t=[];var r=zf(e,i),o=zf(n,i);for(var a in r)r.hasOwnProperty(a)&&!o[a]&&t.push(r[a].row)}else t=e.filter(function(t){return-1===n.indexOf(t)});t.forEach(function(t){e.splice(e.indexOf(t),1)}),t.length&&this.table.$emit("selection-change",e?e.slice():[])}},{key:"clearFilter",value:function(){var t=this.states,e=this.table.$refs,n=e.tableHeader,i=e.fixedTableHeader,r=e.rightFixedTableHeader,o={};n&&(o=Rr(o,n.filterPanels)),i&&(o=Rr(o,i.filterPanels)),r&&(o=Rr(o,r.filterPanels));var a=Ot(o);a.length&&(a.forEach(function(t){o[t].filteredValue=[]}),t.filters={},this.commit("filterChange",{column:{},values:[],silent:!0}))}},{key:"clearSort",value:function(){var t=this.states;t.sortingColumn&&(t.sortingColumn.order=null,t.sortProp=null,t.sortOrder=null,this.commit("changeSortCondition",{silent:!0}))}},{key:"updateAllSelected",value:function(){var t=this.states,e=t.selection,n=t.rowKey,i=t.selectable,r=t.data;if(r&&0!==r.length){var o;n&&(o=zf(t.selection,n));for(var a,s=!0,l=0,u=0,c=r.length;u<c;u++){var h=r[u],d=i&&i(h,u);if(a=h,o?o[jf(a,n)]:-1!==e.indexOf(a))l++;else if(!i||d){s=!1;break}}0===l&&(s=!1),t.isAllSelected=s}else t.isAllSelected=!1}},{key:"scheduleLayout",value:function(t){t&&this.updateColumns(),this.table.debouncedUpdateLayout()}},{key:"setCurrentRowKey",value:function(t){var e=this.states,n=e.rowKey;if(!n)throw new Error("[Table] row-key should not be empty.");var i=e.data||[],r=zf(i,n)[t];e.currentRow=r?r.row:null}},{key:"updateCurrentRow",value:function(){var t=this.states,e=this.table,n=t.data||[],i=t.currentRow;-1===n.indexOf(i)&&(t.currentRow=null,t.currentRow!==i&&e.$emit("current-change",null,i))}},{key:"commit",value:function(t){var e=this.mutations;if(!e[t])throw new Error("Action not found: ".concat(t));for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e[t].apply(this,[this.states].concat(i))}}]),t}(),Vf=function(){function t(e){for(var n in l(this,t),this.observers=[],this.table=null,this.store=null,this.columns=null,this.fit=!0,this.showHeader=!0,this.height=null,this.scrollX=!1,this.scrollY=!1,this.bodyWidth=null,this.fixedWidth=null,this.rightFixedWidth=null,this.tableHeight=null,this.headerHeight=44,this.appendHeight=0,this.footerHeight=44,this.paginationHeight=0,this.viewportHeight=null,this.bodyHeight=null,this.fixedBodyHeight=null,this.gutterWidth=e.table.virtualRender?0:function(){if(void 0!==Of)return Of;var t=document.createElement("div");t.className="bk-scrollbar-wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var i=n.offsetWidth;return t.parentNode.removeChild(t),Of=e-i}(),this.rowsHeight={},this.debouncedSyncRowHeight=Mt(1e3/60,this.syncRowHeight),e)e.hasOwnProperty(n)&&(this[n]=e[n]);if(!this.table)throw new Error("table is required for Table Layout");if(!this.store)throw new Error("store is required for Table Layout")}return c(t,[{key:"updateScrollY",value:function(){if(this.bodyHeight){var t=this.table.bodyWrapper;if(this.table.$el&&t)if(this.table.isVirtualRender){var e=t.querySelector(".bk-virtual-section");this.scrollY=e.offsetHeight>this.bodyHeight}else{var n=t.querySelector(".bk-table-body");this.scrollY=n.offsetHeight>this.bodyHeight}}}},{key:"setHeight",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"height",r=this.table.$el;if("string"==typeof t&&/^\d+$/.test(t)&&(t=Number(t)),this.height=t,!r)return n.nextTick(function(){return e.setHeight(t,i)});"number"==typeof t?(r.style[i]=t+"px",this.updateElsHeight()):"string"==typeof t&&(r.style[i]=t,this.updateElsHeight())}},{key:"setMaxHeight",value:function(t){return this.setHeight(t,"max-height")}},{key:"updateElsHeight",value:function(){var t=this;if(!this.table.$destroyed){if(!this.table.$ready)return n.nextTick(function(){return t.updateElsHeight()});var e=this.table.$refs,i=e.headerWrapper,r=e.appendWrapper,o=e.footerWrapper,a=e.paginationWrapper;if(this.table.showPagination&&!a)return n.nextTick(function(){return t.updateElsHeight()});if(this.appendHeight=r?r.offsetHeight:0,this.paginationHeight=a?a.offsetHeight:0,!this.showHeader||i){var s=this.headerHeight=this.showHeader?i.offsetHeight:0;if(this.showHeader&&i.offsetWidth>0&&(this.table.columns||[]).length>0&&s<2)return n.nextTick(function(){return t.updateElsHeight()});var l=this.tableHeight=this.table.$el.offsetHeight-this.paginationHeight,u=this.footerHeight=o?o.offsetHeight:0;this.bodyHeight=l-s-u+(o?1:0),this.fixedBodyHeight=this.scrollX?this.bodyHeight-this.gutterWidth:this.bodyHeight;var c=!this.table.data||0===this.table.data.length;this.viewportHeight=this.scrollX?l-(c?0:this.gutterWidth):l,this.syncRowHeight(),this.updateScrollY(),this.notifyObservers("scrollable")}}}},{key:"getFlattenColumns",value:function(){var t=[];return this.table.columns.forEach(function(e){e.isColumnGroup?t.push.apply(t,e.columns):t.push(e)}),t}},{key:"updateColumnsWidth",value:function(){if(!this.table.$destroyed){var t=this.fit,e=this.table.$el.clientWidth,n=0,i=this.getFlattenColumns();if(!(i.length<1)){var r=i.filter(function(t){return"number"!=typeof t.width});if(this.store.isDraging||i.forEach(function(t){"number"==typeof t.width&&(t.realWidth=t.width)}),!this.store.isDraging&&r.length>0&&t){i.forEach(function(t){n+=t.width||t.minWidth});var o=this.scrollY?this.gutterWidth:0;if(n<=e-o){this.scrollX=!1;var a=this.table.isVirtualRender&&this.scrollY?10:0,s=e-o-n-a;if(1===r.length)r[0].realWidth=r[0].minWidth+s;else{var l=Math.floor(s/r.length),u=s;r.forEach(function(t,e){if(0!==e){var n=t.minWidth+l;t.maxWidth&&t.maxWidth<n?(n=t.maxWidth,u-=t.maxWidth-t.minWidth):u-=l,t.realWidth=n}}),r[0].realWidth=r[0].minWidth+u}}else this.scrollX=!0,r.forEach(function(t){t.realWidth=t.minWidth});this.bodyWidth=Math.max(n,e),this.table.resizeState.width=this.bodyWidth}else{i.forEach(function(t){n+=t.realWidth}),this.scrollX=n>e;var c=function(t){for(var e=t.length;--e;)if("setting"!==t[e].type)return t[e];return null}(i);if(c)if(!this.scrollX&&i.length){var h=e-n;c.realWidth=c.realWidth+h,this.bodyWidth=e}else{if(c){var d="number"!=typeof c.width?c.minWidth:c.width,f=n-c.realWidth;f+d>e?(c.realWidth=d,n=f+d):(c.realWidth=e-f,n=f+c.realWidth)}this.scrollX=n>e,this.bodyWidth=n}}var p=this.store.states.fixedColumns;if(p.length>0){var g=0;p.forEach(function(t){g+=t.realWidth||t.width}),this.fixedWidth=g}var v=this.store.states.rightFixedColumns;if(v.length>0){var m=0;v.forEach(function(t){m+=t.realWidth||t.width}),this.rightFixedWidth=m}this.store.isDraging=!1,this.notifyObservers("columns")}}}},{key:"syncRowHeight",value:function(){if(!this.table.$destroyed){if(!this.table.$ready)return n.nextTick(this.syncRowHeight);var t=(this.table.$refs.tableBody.$refs.row||[]).reduce(function(t,e){return t[e.getAttribute("data-table-row")]=e.offsetHeight,t},{});(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ot(t),i=Ot(e);return n.length===i.length&&!n.some(function(n){return t[n]!==e[n]})})(t,this.rowsHeight)||(this.rowsHeight=t)}}},{key:"addObserver",value:function(t){this.observers.push(t)}},{key:"removeObserver",value:function(t){var e=this.observers.indexOf(t);-1!==e&&this.observers.splice(e,1)}},{key:"notifyObservers",value:function(t){var e=this;this.observers.forEach(function(n){switch(t){case"columns":n.onColumnsChange(e);break;case"scrollable":n.onScrollableChange(e);break;default:throw new Error("Table Layout don't have event ".concat(t,"."))}})}}]),t}();function Wf(t,e){t.onShow=function(t){return!("function"==typeof e.onShow&&!e.onShow(t))&&function(t){var e=t.reference,n=e._bk_overflow_tips_.props;return!!ho(e)&&(t.setContent(n.content?n.content:n.allowHTML?e.innerHTML:e.textContent),!0)}(t)}}var Hf={arrow:!0,interactive:!0,delay:150,allowHTML:!1,maxWidth:400,boundary:"window",placement:"top"},Uf={inserted:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="object"===o(e.value)?e.value:{},i=d(f({},Hf),n);Wf(i,n),function(t,e){var n=["bk-overflow-tips"];e.theme&&n.push(e.theme),t.theme=n.join(" ")}(i,n),t._bk_overflow_tips_={props:i,instance:gh(t,i)}},update:function(t,e){var n=t._bk_overflow_tips_,i=n.props,r=n.instance,a="object"===o(e.value)?e.value:{};d(i,a),Wf(i,a),r.set(i)},unbind:function(t){t._tippy&&t._tippy.destroy(),delete t._bk_overflow_tips_},setDefaultProps:function(t){d(Hf,t)},install:function(t){t.directive("bk-overflow-tips",Uf)}},Yf={created:function(){this.tableLayout.addObserver(this)},destroyed:function(){this.tableLayout.removeObserver(this)},computed:{tableLayout:function(){var t=this.layout;if(!t&&this.table&&(t=this.table.layout),!t)throw new Error("Can not find table layout.");return t}},mounted:function(){this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout)},updated:function(){this.__updated__||(this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout),this.__updated__=!0)},methods:{onColumnsChange:function(){var t=this.$el.querySelectorAll("colgroup > col");if(t.length){var e={};this.tableLayout.getFlattenColumns().forEach(function(t){e[t.id]=t});for(var n=0,i=t.length;n<i;n++){var r=t[n],o=r.getAttribute("name"),a=e[o];a&&r.setAttribute("width",a.realWidth||a.width)}}},onScrollableChange:function(t){for(var e=this.$el.querySelectorAll("colgroup > col[name=gutter]"),n=0,i=e.length;n<i;n++)e[n].setAttribute("width",t.scrollY?t.gutterWidth:"0");for(var r=this.$el.querySelectorAll("th.gutter"),o=0,a=r.length;o<a;o++){var s=r[o];s.style.width=t.scrollY?t.gutterWidth+"px":"0",s.style.display=t.scrollY?"":"none"}}}},Jf=St(60,function(t,e,n){return function(t,e,n){var i=n.value,r=i.lineHeight,o=void 0===r?30:r,a=i.callback,s=e.scrollTop,l=e.offsetHeight,u=e.startIndex,c=e.endIndex,h=Math.floor(s/o),d=Math.ceil(l/o)+h;u===h&&c===d||"function"==typeof a&&a(t,h,d,s)}(t,e,n)}),Qf={name:"bk-virtual-render",directives:{virtualRender:{inserted:function(t,e){var n=t.parentNode;n.addEventListener("scroll",function(t){return Jf(t,n,e)})},componentUpdated:function(t,e){var n=t.parentNode;Jf(null,n,e)},unbind:function(t){if(t){var e=t.parentNode;e&&e.removeEventListener("scroll",Jf)}}}},props:{className:{type:String,default:""},scrollXName:{type:String,default:"bk-scroll-x"},scrollYName:{type:String,default:"bk-scroll-y"},list:{type:Array,default:function(){return[]}},lineHeight:{type:Number,default:30},minHeight:{type:Number,default:30},height:{type:[Number,String],default:"100%"},width:{type:[Number,String],default:"100%"},groupItemCount:{type:Number,default:1},preloadItemCount:{type:Number,default:1},renderAs:{type:String,default:"div"},contentAs:{type:String,default:"div"},scrollPosition:{type:String,default:"content"},abosuteHeight:{type:[Number,String],default:"auto"}},data:function(){return{startIndex:0,endIndex:0,scrollTop:1,translateY:0}},computed:{listLength:function(){return Math.ceil((this.localList||[]).length/this.groupItemCount)},calcList:function(){return this.localList.slice(this.startIndex*this.groupItemCount,(this.endIndex+this.preloadItemCount)*this.groupItemCount)},wrapperStyle:function(){return{height:"number"==typeof this.height?"".concat(this.height,"px"):this.height,width:"number"==typeof this.width?"".concat(this.width,"px"):this.width,display:"inline-block"}},innerHeight:function(){return"auto"===this.abosuteHeight?this.lineHeight*this.listLength:"".concat(this.abosuteHeight,"px")},innerContentStyle:function(){return{top:"".concat(this.scrollTop,"px"),transform:"translateY(-".concat(this.translateY,"px)")}},innerStyle:function(){return{height:"".concat(this.innerHeight<this.minHeight?this.minHeight:this.innerHeight,"px"),display:0===this.abosuteHeight?"none":"block"}},localList:function(){return(this.list||[]).map(function(t,e){return d(t,{$index:e})})}},watch:{list:function(t){var e=this;this.$nextTick(function(){return e.scrollToIndex(0)})}},methods:{handleScrollCallback:function(t,e,n,i){this.startIndex=e,this.endIndex=n,this.scrollTop=i,this.$emit("content-scroll",t),this.translateY=i%this.lineHeight},scrollToIndex:function(t){if(t>=0){var e=this.lineHeight*t;this.$el&&this.$el.scrollTo({top:e,behavior:"smooth"})}}},render:function(t){return t(this.renderAs||"div",{class:["bk-virtual-render",this.scrollXName,this.scrollYName,this.className,"container"===this.scrollPosition?"bk-virtual-content":""],style:f({},this.wrapperStyle,"container"===this.scrollPosition?this.innerContentStyle:{})},[this.$slots.beforeContent,t(this.contentAs||"div",{class:["content"===this.scrollPosition?"bk-virtual-content":""],style:"content"===this.scrollPosition?this.innerContentStyle:{},directives:[{name:"virtual-render",value:{callback:this.handleScrollCallback,listLength:this.listLength,lineHeight:this.lineHeight,startIndex:this.startIndex,endIndex:this.endIndex}}]},[this.$scopedSlots.default({data:this.calcList})]),this.$slots.afterContent,t("div",{class:["bk-virtual-section"],style:this.innerStyle})])}};Et(Qf);var Zf={name:"bk-table-body",mixins:[Yf],components:{bkCheckbox:re,bkVirtualRender:Qf},directives:{bkOverflowTips:Uf},props:{store:{required:!0},stripe:Boolean,context:{},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:String,highlight:Boolean},render:function(t){var e=this,n=this.columns.map(function(t,n){return e.isColumnHidden(n)}),i=function(i,r){return[t("tr",Sd([{ref:"row",refInFor:!0,style:e.getRowStyle(i,r),key:e.table.rowKey?e.getKeyOfRow(i,r):r,on:{dblclick:function(t){return e.handleDoubleClick(t,i)},click:function(t){return e.handleClick(t,i)},contextmenu:function(t){return e.handleContextMenu(t,i)},mouseenter:function(t){return e.handleMouseEnter(r,t,i)},mouseleave:function(t){return e.handleMouseLeave(r,t,i)}},class:[e.getRowClass(i,r)]},{attrs:e.getRowAttributes(i,r)}]),[e._l(e.columns,function(o,a){var s=e.getSpan(i,o,r,a),l=s.rowspan,u=s.colspan;return l&&u&&"setting"!==o.type?t("td",Sd([{style:e.getCellStyle(r,a,i,o),class:e.getCellClass(r,a,i,o),attrs:{rowspan:l,colspan:u},on:{mouseenter:function(t){return e.handleCellMouseEnter(t,i)},mouseleave:e.handleCellMouseLeave}},{domProps:e.getCellAttributes(r,a,i,o)}]),[e.isColumnInvisible(a)?"":o.renderCell.call(e._renderProxy,t,{row:i,column:o,$index:r,store:e.store,_self:e.context||e.table.$vnode.context},n[a])]):""})]),e.store.isRowExpanded(i)?t("tr",Sd([{ref:"row",refInFor:!0},{attrs:e.getExpandedRowAttributes(i,r)},{style:e.getExpandedRowStyle(i,r),class:e.getExpandedRowClass(i,r)}]),[t("td",{attrs:{colspan:e.columns.length},class:"bk-table-expanded-cell"},[!e.fixed&&e.table.renderExpanded?e.table.renderExpanded(t,{row:i,$index:r,store:e.store}):""])]):""]},r={width:"".concat(this.tableLayout.bodyWidth-(this.tableLayout.scrollY?10:0),"px")};return this.virtualRender?t("bk-virtual-render",Sd([{attrs:{list:this.data,width:this.virtualRenderOpt.width,height:this.virtualRenderOpt.height,lineHeight:this.virtualRenderOpt.lineHeight}},{scopedSlots:{default:function(n){return t("table",{class:"bk-table-body",attrs:{cellspacing:"0",cellpadding:"0",border:"0"},style:r},[t("colgroup",[e._l(e.columns,function(e){return t("col",{attrs:{name:e.id}})})]),t("tbody",[e._l(n.data,i)])])}}}])):t("table",{class:"bk-table-body",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this._l(this.columns,function(e){return t("col",{attrs:{name:e.id}})})]),t("tbody",[this._l(this.data,i)])])},watch:{"store.states.hoverRow":function(t,e){var n=this.$el;if(n){var i=n.querySelector("tbody").children,r=[].filter.call(i,function(t){return Vt(t,"bk-table-row")}),o=r[e],a=r[t];o&&Ht(o,"hover-row"),a&&Wt(a,"hover-row")}},"store.states.currentRow":function(t,e){if(this.highlight){var n=this.$el;if(n){var i=this.store.states.data,r=n.querySelector("tbody").children,o=[].filter.call(r,function(t){return Vt(t,"bk-table-row")}),a=o[i.indexOf(e)],s=o[i.indexOf(t)];a?Ht(a,"current-row"):[].forEach.call(o,function(t){return Ht(t,"current-row")}),s&&Wt(s,"current-row")}}}},computed:{table:function(){return this.$parent},data:function(){return this.store.states.data},columnsCount:function(){return this.store.states.columns.length},leftFixedLeafCount:function(){return this.store.states.fixedLeafColumnsLength},rightFixedLeafCount:function(){return this.store.states.rightFixedLeafColumnsLength},leftFixedCount:function(){return this.store.states.fixedColumns.length},rightFixedCount:function(){return this.store.states.rightFixedColumns.length},columns:function(){return this.store.states.columns},virtualRender:function(){return this.table.isVirtualRender},virtualRenderOpt:function(){var t=this;if(this.virtualRender){var e=Ot(this.table.virtualRender).filter(function(t){return["height","width","lineHeight"].includes(t)}).reduce(function(e,n){return f({},e,h({},n,t.table.virtualRender[n]))},{});return f({height:this.tableLayout.bodyHeight-4,width:"100%",lineHeight:42},e||{})}return{}}},data:function(){return{tooltipContent:""}},created:function(){this.activateTooltip=Mt(50,function(t){return t.handleShowPopper()})},updated:function(){this.syncFixedRowHeight()},methods:{getKeyOfRow:function(t,e){var n=this.table.rowKey;return n?jf(t,n):e},isColumnInvisible:function(t){return!!this.fixed&&this.isColumnHidden(t)},isColumnHidden:function(t){return!0===this.fixed||"left"===this.fixed?t>=this.leftFixedLeafCount:"right"===this.fixed?t<this.columnsCount-this.rightFixedLeafCount:t<this.leftFixedLeafCount||t>=this.columnsCount-this.rightFixedLeafCount},getSpan:function(t,e,n,i){var r=1,a=1,s=this.table.spanMethod;if("function"==typeof s){var l=s({row:t,column:e,rowIndex:n,columnIndex:i});se(l)?(r=l[0],a=l[1]):"object"===o(l)&&(r=l.rowspan,a=l.colspan)}var u=this.columns[i+1];return{rowspan:r,colspan:a=u&&"setting"===u.type?a+1:a}},getRowStyle:function(t,e){var n=this.table.rowStyle||{};"function"==typeof n&&(n=n({row:t,rowIndex:e}));var i=this.tableLayout.rowsHeight["row-".concat(e)];return this.fixed&&i&&(n.height=i+"px"),n},getRowClass:function(t,e){var n=["bk-table-row"];e===this.data.length-1&&n.push("bk-table-row-last"),this.table.highlightCurrentRow&&t===this.store.states.currentRow&&n.push("current-row"),this.stripe&&e%2==1&&n.push("bk-table-row-striped");var i=this.table.rowClassName;return"string"==typeof i?n.push(i):"function"==typeof i&&n.push(i({row:t,rowIndex:e})),this.store.states.expandRows.indexOf(t)>-1&&n.push("expanded"),n.join(" ")},getRowAttributes:function(t,e){return{"data-table-row":"row-".concat(e)}},getCellStyle:function(t,e,n,i){var r=this.table.cellStyle;return"function"==typeof r?r({rowIndex:t,columnIndex:e,row:n,column:i}):r},getCellClass:function(t,e,n,i){var r=[i.id,i.align,i.className];this.isColumnHidden(e)&&r.push("is-hidden"),0===e&&r.push("is-first"),e===this.columns.length-1&&r.push("is-last");var o=this.table.cellClassName;return"string"==typeof o?r.push(o):"function"==typeof o&&r.push(o({rowIndex:t,columnIndex:e,row:n,column:i})),r.join(" ")},getCellAttributes:function(t,e,n,i){if("function"==typeof this.table.cellAttributes){var r=this.table.cellAttributes({rowIndex:t,cellIndex:e,row:n,column:i});return"object"===o(r)?r:{}}return"object"===o(this.table.cellAttributes)?this.table.cellAttributes:{}},getExpandedRowAttributes:function(t,e){return{"data-table-row":"expanded-row-".concat(e)}},getExpandedRowStyle:function(t,e){var n={},i=this.tableLayout.rowsHeight["expanded-row-".concat(e)];return this.fixed&&i&&(n.height=i+"px"),n},getExpandedRowClass:function(t,e){return["is-expanded-row"].join(" ")},handleCellMouseEnter:function(t,e){var n=this.table,i=Af(t);if(i){var r=Df(n,i),o=n.hoverState={cell:i,column:r,row:e};n.$emit("cell-mouse-enter",o.row,o.column,o.cell,t)}},handleCellMouseLeave:function(t){if(Af(t)){var e=this.table.hoverState||{};this.table.$emit("cell-mouse-leave",e.row,e.column,e.cell,t)}},handleMouseEnter:function(t,e,n){this.store.commit("setHoverRow",t),this.table.$emit("row-mouse-enter",t,e,n)},handleMouseLeave:function(t,e,n){this.store.commit("setHoverRow",null),this.table.$emit("row-mouse-leave",t,e,n)},handleContextMenu:function(t,e){this.handleEvent(t,e,"contextmenu")},handleDoubleClick:function(t,e){this.handleEvent(t,e,"dblclick")},handleClick:function(t,e){this.store.commit("setCurrentRow",e),this.handleEvent(t,e,"click")},handleEvent:function(t,e,n){var i,r,o=this.table,a=Af(t),s=this.data.indexOf(e);a&&(i=Df(o,a))&&(r=this.columns.indexOf(i),o.$emit("cell-".concat(n),e,i,a,t,s,r)),o.$emit("row-".concat(n),e,t,i,s,r)},handleExpandClick:function(t){var e=this;return s(te.mark(function n(){var i,r,o;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.row,r=t.event,o=t.column,r.stopPropagation(),"function"!=typeof o.beforeExpandChange){n.next=8;break}return n.next=5,o.beforeExpandChange(t);case 5:if(n.sent){n.next=8;break}return n.abrupt("return",!1);case 8:e.store.toggleRowExpansion(i);case 9:case"end":return n.stop()}},n)}))()},syncFixedRowHeight:function(){this.fixed||!this.leftFixedCount&&!this.rightFixedCount||this.tableLayout.debouncedSyncRowHeight()},renderBodyRows:function(){}}},$f={name:"bk-table-setting",components:{bkPopover:td},props:{column:Object},render:function(t){var e=this.column.settingContent?this.column.settingContent(t):"";return t("bk-popover",{attrs:{trigger:"click",placement:"bottom-end",theme:"light bk-table-setting-popover-content",distance:-2}},[t("i",{class:"bk-table-setting-icon "+this.column.icon}),t("template",{slot:"content"},[e])])}},Xf=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",t._b({class:["bk-link","is-"+t.theme,t.disabled&&"is-disabled",t.underline&&!t.disabled&&"has-underline"],attrs:{href:t.href},on:{click:t.handleClick}},"a",t.$attrs,!1),[t.icon&&"left"===t.iconPlacement?n("i",{class:["bk-link-icon is-left",t.icon]}):t._e(),t.$slots.default?n("span",{staticClass:"bk-link-text"},[t._t("default")],2):t._e(),t.icon&&"right"===t.iconPlacement?n("i",{class:["bk-link-icon is-right",t.icon]}):t._e()])},staticRenderFns:[]},void 0,{name:"bk-link",props:{disabled:Boolean,underline:Boolean,href:{type:String,default:null},icon:String,iconPlacement:{type:String,default:"left"},theme:{type:String,default:"default",validator:function(t){return["default","primary","success","warning","danger"].includes(t)}}},methods:{handleClick:function(t){if(this.disabled)return t.preventDefault(),!1;this.$emit("click",t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Xf);var Kf=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-table-filter-panel",class:{multiple:t.multiple}},[t.searchable?n("div",{staticClass:"panel-search"},[n("i",{staticClass:"panel-search-icon bk-icon icon-search"}),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.keyword,expression:"keyword",modifiers:{trim:!0}}],staticClass:"panel-search-input",attrs:{type:"text",placeholder:t.t("bk.table.filter.placeholder")},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]):t._e(),t.multiple?[n("bk-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:!t.searchEmpty,expression:"!searchEmpty"}],staticClass:"panel-checkbox-group",model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.filters,function(e){return n("bk-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.isMatched(e),expression:"isMatched(filter)"}],key:e.value,staticClass:"panel-checkbox",attrs:{value:e.value,disabled:!!e.disabled}},[t._v("\n        "+t._s(e.text)+"\n      ")])}),1),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.searchEmpty,expression:"!searchEmpty"}],staticClass:"panel-options"},[n("bk-link",{staticClass:"panel-options-link",attrs:{theme:"primary"},on:{click:t.handleConfirm}},[t._v(t._s(t.t("bk.table.confirm")))]),n("bk-link",{staticClass:"panel-options-link",attrs:{theme:"primary"},on:{click:t.handleReset}},[t._v(t._s(t.t("bk.table.reset")))])],1)]:[n("ul",{directives:[{name:"show",rawName:"v-show",value:!t.searchEmpty,expression:"!searchEmpty"}],staticClass:"panel-list"},[n("li",{staticClass:"panel-item",class:{"is-selected":0===t.selected.length,"is-hidden":!!t.keyword.length},on:{click:t.handleReset}},[t._v("\n        "+t._s(t.t("bk.table.all"))+"\n      ")]),t._l(t.filters,function(e){return n("li",{key:e.value,staticClass:"panel-item",class:{"is-selected":t.selected.includes(e.value),"is-disabled":!!e.disabled,"is-hidden":!t.isMatched(e)},on:{click:function(n){t.handleSelect(e)}}},[t._v("\n        "+t._s(e.text)+"\n      ")])})],2)],t.searchEmpty?n("p",{staticClass:"panel-empty"},[t._v(t._s(t.t("bk.table.filter.empty")))]):t._e()],2)},staticRenderFns:[]},void 0,{name:"bk-table-filter-panel",components:{bkCheckboxGroup:oe,bkCheckbox:re,bkLink:Xf},mixins:[Jr.mixin],data:function(){return{instance:null,reference:null,filters:[],multiple:!1,placement:"bottom-start",method:null,selected:[],column:null,table:null,searchable:!1,keyword:"",matchedFilters:[]}},computed:{searchEmpty:function(){return this.keyword.length&&!this.matchedFilters.length}},watch:{keyword:function(){this.setMatchedFilters()}},mounted:function(){var t=this;this.instance=gh(this.reference,{theme:"light bk-table-filter-panel",trigger:"click",interactive:!0,placement:this.placement,content:this.$el,onShow:function(){t.column.filterOpened=!0},onHide:function(){t.column.filterOpened=!1},onHidden:function(){t.keyword=""}})},methods:{setMatchedFilters:function(){var t=this.keyword.toLowerCase();this.matchedFilters=this.filters.filter(function(e){return e.text.toString().toLowerCase().indexOf(t)>-1})},isMatched:function(t){return!this.keyword.length||this.matchedFilters.includes(t)},handleConfirm:function(){this.confirmFilter(this.selected),this.instance.hide()},handleReset:function(){this.selected=[],this.handleConfirm()},handleSelect:function(t){t.disabled||(this.selected.includes(t.value)?this.instance.hide():(this.selected=[t.value],this.handleConfirm()))},confirmFilter:function(){this.column.filteredValue=this.selected,this.table.store.commit("filterChange",{column:this.column,values:this.selected}),this.table.store.updateAllSelected()}}},void 0,!1,void 0,!1,void 0,void 0,void 0),qf=1,tp=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-table",class:[{"bk-table-fit":t.fit,"bk-table-striped":t.stripe,"bk-table-border":t.tableBorder||t.isGroup,"bk-table-outer-border":t.outerBorder,"bk-table-linear":!(t.tableBorder||t.outerBorder||t.isGroup),"bk-table-row-border":t.tableRowBorder,"bk-table-col-border":t.tableColBorder,"bk-table-hidden":t.isHidden,"bk-table-group":t.isGroup,"bk-table-fluid-height":t.maxHeight,"bk-table-scrollable-x":t.layout.scrollX,"bk-table-scrollable-y":t.layout.scrollY,"bk-table-enable-row-transition":0!==(t.store.states.data||[]).length&&(t.store.states.data||[]).length<100,"bk-table-row-auto-height":t.rowAutoHeight},t.tableSize?"bk-table-"+t.tableSize:"",t.extCls],on:{mouseleave:function(e){t.handleMouseLeave(e)}}},[n("div",{ref:"hiddenColumns",staticClass:"hidden-columns"},[t._t("default")],2),t.showHeader?n("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"headerWrapper",staticClass:"bk-table-header-wrapper"},[n("table-header",{ref:"tableHeader",style:{width:t.layout.bodyWidth?t.layout.bodyWidth+"px":""},attrs:{store:t.store,border:t.headerBorder,"default-sort":t.defaultSort}},[n("template",{slot:"prepend"},[t._t("prepend")],2)],2)],1):t._e(),n("div",{ref:"bodyWrapper",staticClass:"bk-table-body-wrapper",class:[t.layout.scrollX?"is-scrolling-"+t.scrollPosition:"is-scrolling-none"],style:[t.bodyHeight]},[n("table-body",{ref:"tableBody",style:{width:t.bodyWidth},attrs:{context:t.context,store:t.store,stripe:t.stripe,"row-class-name":t.rowClassName,"row-style":t.rowStyle,highlight:t.highlightCurrentRow}}),t.scrollEndLoading.isLoading?n("div",{staticClass:"bk-table-bottom-loading"},[n("bk-spin",t._b({staticClass:"bk-table-bottom-loading-spin"},"bk-spin",t.scrollEndLoading,!1),[t._v(t._s(t.scrollEndLoading.text))])],1):t._e(),t.data&&0!==t.data.length&&0!==t.store.states.data.length?t._e():n("div",{ref:"emptyBlock",class:["bk-table-empty-block",t.emptyBlockClassName],style:{width:t.bodyWidth}},[n("span",{staticClass:"bk-table-empty-text"},[t._t("empty",[n("i",{staticClass:"bk-table-empty-icon bk-icon icon-empty"}),n("div",[t._v(t._s(t.emptyText||t.t("bk.table.emptyText")))])])],2)]),t.$slots.append?n("div",{ref:"appendWrapper",staticClass:"bk-table-append-wrapper"},[t._t("append")],2):t._e()],1),t.showSummary?n("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"},{name:"mousewheel",rawName:"v-mousewheel",value:t.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"footerWrapper",staticClass:"bk-table-footer-wrapper"},[n("table-footer",{style:{width:t.layout.bodyWidth?t.layout.bodyWidth+"px":""},attrs:{store:t.store,border:t.tableBorder,"sum-text":t.sumText||t.t("bk.table.sumText"),"summary-method":t.summaryMethod,"default-sort":t.defaultSort}})],1):t._e(),t.fixedColumns.length>0?n("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"fixedWrapper",staticClass:"bk-table-fixed",style:[{width:t.layout.fixedWidth?t.layout.fixedWidth+"px":""},t.fixedHeight]},[t.showHeader?n("div",{ref:"fixedHeaderWrapper",staticClass:"bk-table-fixed-header-wrapper"},[n("table-header",{ref:"fixedTableHeader",style:{width:t.bodyWidth},attrs:{fixed:"left",border:t.headerBorder,store:t.store}},[n("template",{slot:"prepend"},[t._t("prepend")],2)],2)],1):t._e(),n("div",{ref:"fixedBodyWrapper",staticClass:"bk-table-fixed-body-wrapper",style:[{top:t.layout.headerHeight+"px"},t.fixedBodyHeight]},[n("table-body",{ref:"leftTableBody",style:{width:t.bodyWidth},attrs:{fixed:"left",store:t.store,stripe:t.stripe,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"row-style":t.rowStyle}}),t.scrollEndLoading.isLoading?n("div",{staticClass:"bk-table-bottom-loading"}):t._e(),t.$slots.append?n("div",{staticClass:"bk-table-append-gutter",style:{height:t.layout.appendHeight+"px"}}):t._e()],1),t.showSummary?n("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"}],ref:"fixedFooterWrapper",staticClass:"bk-table-fixed-footer-wrapper"},[n("table-footer",{style:{width:t.bodyWidth},attrs:{fixed:"left",border:t.tableBorder,"sum-text":t.sumText||t.t("bk.table.sumText"),"summary-method":t.summaryMethod,store:t.store}})],1):t._e()]):t._e(),t.rightFixedColumns.length>0?n("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"rightFixedWrapper",staticClass:"bk-table-fixed-right",style:[{width:t.layout.rightFixedWidth?t.layout.rightFixedWidth+"px":"",right:t.layout.scrollY?(t.tableBorder?t.layout.gutterWidth:t.layout.gutterWidth||0)+"px":""},t.rightFixedHeight]},[t.showHeader?n("div",{ref:"rightFixedHeaderWrapper",staticClass:"bk-table-fixed-header-wrapper"},[n("table-header",{ref:"rightFixedTableHeader",style:{width:t.bodyWidth},attrs:{fixed:"right",border:t.headerBorder,store:t.store}})],1):t._e(),t.notOnlySetting?n("div",{ref:"rightFixedBodyWrapper",staticClass:"bk-table-fixed-body-wrapper",style:[{top:t.layout.headerHeight+"px"},t.fixedBodyHeight]},[n("table-body",{ref:"rightTableBody",style:{width:t.bodyWidth},attrs:{fixed:"right",store:t.store,stripe:t.stripe,"row-class-name":t.rowClassName,"row-style":t.rowStyle,highlight:t.highlightCurrentRow}}),t.scrollEndLoading.isLoading?n("div",{staticClass:"bk-table-bottom-loading",staticStyle:{"border-top":"1px solid #dfe0e5",bottom:"1px"}}):t._e()],1):t._e(),t.showSummary?n("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"}],ref:"rightFixedFooterWrapper",staticClass:"bk-table-fixed-footer-wrapper"},[n("table-footer",{style:{width:t.bodyWidth},attrs:{fixed:"right",border:t.tableBorder,"sum-text":t.sumText||t.t("bk.table.sumText"),"summary-method":t.summaryMethod,store:t.store}})],1):t._e()]):t._e(),t.rightFixedColumns.length>0?n("div",{ref:"rightFixedPatch",staticClass:"bk-table-fixed-right-patch",style:{width:t.layout.scrollY?t.layout.gutterWidth+"px":"0",height:t.layout.headerHeight+"px"}}):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.resizeProxyVisible,expression:"resizeProxyVisible"}],ref:"resizeProxy",staticClass:"bk-table-column-resize-proxy"}),t.showPagination?n("div",{ref:"paginationWrapper",staticClass:"bk-table-pagination-wrapper"},[t.pagination?n("bk-pagination",t._b({staticClass:"bk-table-pagination",attrs:{size:"small",align:"right","show-total-count":t.showPaginationInfo,"show-selection-count":t.showSelectionCount,"selection-count":t.store.states.selection.length,"popover-options":t.popoverOptions},on:{change:t.handlePageChange,"limit-change":t.handlePageLimitChange}},"bk-pagination",t.pagination,!1)):t._e()],1):t._e()])},staticRenderFns:[]},void 0,{name:"bk-table",components:{TableHeader:{name:"bk-table-header",mixins:[Yf],render:function(t){var e=this,n=function(t){var e=1;t.forEach(function(t){t.level=1,function t(n,i){if(i&&(n.level=i.level+1,e<n.level&&(e=n.level)),n.children){var r=0;n.children.forEach(function(e){t(e,n),r+=e.colSpan}),n.colSpan=r}else n.colSpan=1}(t)});for(var n=[],i=0;i<e;i++)n.push([]);return function t(e){var n=[];return e.forEach(function(e){e.children?(n.push(e),n.push.apply(n,t(e.children))):n.push(e)}),n}(t).forEach(function(t){t.children?t.rowSpan=1:t.rowSpan=e-t.level+1,n[t.level-1].push(t)}),n}(this.store.states.originColumns,this.columns),i=n.length>1;return i&&(this.$parent.isGroup=!0),t("table",{class:"bk-table-header",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this._l(this.columns,function(e){return t("col",{attrs:{name:e.id}})}),this.hasGutter?t("col",{attrs:{name:"gutter"}}):""]),t("thead",{class:[{"is-group":i,"has-gutter":this.hasGutter}]},[this._l(n,function(n,i){return t("tr",{style:e.getHeaderRowStyle(i),class:e.getHeaderRowClass(i)},[e._l(n,function(r,o){return t("th",Sd([{attrs:{colspan:r.colSpan,rowspan:r.rowSpan},on:{mousemove:function(t){return e.handleMouseMove(t,r)},mouseout:e.handleMouseOut,mousedown:function(t){return e.handleMouseDown(t,r)},click:function(t){return e.handleHeaderClick(t,r)},contextmenu:function(t){return e.handleHeaderContextMenu(t,r)}},style:e.getHeaderCellStyle(i,o,n,r),class:e.getHeaderCellClass(i,o,n,r),key:r.id},{domProps:e.getHeaderCellAttributes(i,o,n,r)}]),[e.isCellHidden(o,n)?"":t("div",{class:"cell"},[t("div",{class:["bk-table-header-label",r.labelClassName]},[r.renderHeader?r.renderHeader.call(e._renderProxy,t,{column:r,$index:o,store:e.store,_self:e.$parent.$vnode.context,fixed:e.fixed}):r.label]),r.sortable?t("span",{class:"bk-table-caret-wrapper",on:{click:function(t){return e.handleSortClick(t,r)}}},[t("i",{class:"bk-table-sort-caret ascending",on:{click:function(t){return e.handleSortClick(t,r,"ascending")}}}),t("i",{class:"bk-table-sort-caret descending",on:{click:function(t){return e.handleSortClick(t,r,"descending")}}})]):"",r.filterable?t("span",{class:["bk-table-column-filter-trigger","bk-icon icon-funnel",r.filterOpened?"is-open":"",r.filteredValue&&r.filteredValue.length>0?"is-filtered":""],on:{click:function(t){return e.handleFilterClick(t,r)}}}):""])])}),e.hasGutter?t("th",{class:"gutter"}):""])}),this.$slots.prepend?t("tr",{class:"bk-table-header-append"},[t("th",{attrs:{colSpan:this.colSpanNum},class:"is-prepend"},[this.$slots.prepend])]):""])])},props:{fixed:String,store:{required:!0},border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},components:{bkCheckbox:re,bkTableSetting:$f},computed:{table:function(){return this.$parent},isAllSelected:function(){return this.store.states.isAllSelected},columnsCount:function(){return this.store.states.columns.length},leftFixedCount:function(){return this.store.states.fixedColumns.length},rightFixedCount:function(){return this.store.states.rightFixedColumns.length},leftFixedLeafCount:function(){return this.store.states.fixedLeafColumnsLength},rightFixedLeafCount:function(){return this.store.states.rightFixedLeafColumnsLength},columns:function(){return this.store.states.columns},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth},colSpanNum:function(){var t=this.store.states.originColumns.length?this.store.states.originColumns.map(function(t){return t.colSpan}).reduce(function(t,e){return t+e}):0;return this.hasGutter?t+1:t}},created:function(){this.filterPanels={}},mounted:function(){var t=this.defaultSort,e=t.prop,n=t.order;this.store.commit("sort",{prop:e,order:n})},beforeDestroy:function(){var t=this.filterPanels;for(var e in t)t.hasOwnProperty(e)&&t[e]&&t[e].$destroy(!0)},methods:{isCellHidden:function(t,e){for(var n=0,i=0;i<t;i++)n+=e[i].colSpan;var r=n+e[t].colSpan-1;return!0===this.fixed||"left"===this.fixed?r>=this.leftFixedLeafCount:"right"===this.fixed?n<this.columnsCount-this.rightFixedLeafCount:r<this.leftFixedLeafCount||n>=this.columnsCount-this.rightFixedLeafCount},getHeaderRowStyle:function(t){var e=this.table.headerRowStyle;return"function"==typeof e?e({rowIndex:t}):e},getHeaderRowClass:function(t){var e=[],n=this.table.headerRowClassName;return"string"==typeof n?e.push(n):"function"==typeof n&&e.push(n({rowIndex:t})),e.join(" ")},getHeaderCellStyle:function(t,e,n,i){var r=this.table.headerCellStyle;return"function"==typeof r?r({rowIndex:t,columnIndex:e,row:n,column:i}):r},getHeaderCellClass:function(t,e,n,i){var r=[i.id,i.order,i.headerAlign,i.className,i.labelClassName];this.border&&r.push("has-border"),0===t&&this.isCellHidden(e,n)&&r.push("is-hidden"),i.children||r.push("is-leaf"),i.sortable&&r.push("is-sortable"),i.filterable&&r.push("is-filterable"),0===e&&r.push("is-first"),e===n.length-1&&r.push("is-last");var o=this.table.headerCellClassName;return"string"==typeof o?r.push(o):"function"==typeof o&&r.push(o({rowIndex:t,columnIndex:e,row:n,column:i})),r.join(" ")},getHeaderCellAttributes:function(t,e,n,i){if("function"==typeof this.table.headerCellAttributes){var r=this.table.headerCellAttributes({rowIndex:t,cellIndex:e,columns:n,column:i});return"object"===o(r)?r:{}}return"object"===o(this.table.headerCellAttributes)?this.table.headerCellAttributes:{}},toggleAllSelection:function(){this.store.commit("toggleAllSelection")},handleFilterClick:function(t,e){t.stopPropagation();for(var i=t.target;i&&"TH"!==i.tagName;)i=i.parentNode;var r=i.querySelector(".bk-table-column-filter-trigger"),o=this.$parent,a=this.filterPanels[e.id];a&&e.filterOpened?a.instance.hide():(a||(a=new n(Kf),this.filterPanels[e.id]=a,a.table=o,a.column=e,a.multiple=e.filterMultiple,a.placement=e.filterPlacement||"bottom-start",a.reference=r,a.filters=e.filters,a.selected=e.filteredValue,a.searchable=e.filterSearchable,a.$mount()),setTimeout(function(){a.instance.show()},1e3/60))},handleHeaderClick:function(t,e){!e.filters&&e.sortable?this.handleSortClick(t,e):e.filterable&&!e.sortable&&this.handleFilterClick(t,e),this.$parent.$emit("header-click",e,t)},handleHeaderContextMenu:function(t,e){this.$parent.$emit("header-contextmenu",e,t)},handleMouseDown:function(t,e){var n=this;if(!(e.children&&e.children.length>0)&&this.draggingColumn){this.dragging=!0,this.$parent.resizeProxyVisible=!0;var i=this.$parent,r=i.$el.getBoundingClientRect().left,o=this.$el.querySelector("th.".concat(e.id)),a=o.getBoundingClientRect(),s=a.left-r+80;Wt(o,"noclick"),this.dragState={startMouseLeft:t.clientX,startLeft:a.right-r,startColumnLeft:a.left-r,tableLeft:r};var l=i.$refs.resizeProxy;l.style.left=this.dragState.startLeft+"px",document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};var u=function(t){var e=t.clientX-n.dragState.startMouseLeft,i=n.dragState.startLeft+e;l.style.left=Math.max(s,i)+"px"};document.addEventListener("mousemove",u),document.addEventListener("mouseup",function r(){if(n.dragging){var a=n.dragState,s=a.startColumnLeft,c=a.startLeft,h=zn(l.style.left,10)-s;e.width=e.realWidth=h,i.$emit("header-dragend",e.width,c-s,e,t),n.store.isDraging=!0,n.store.scheduleLayout(),document.body.style.cursor="",n.dragging=!1,n.draggingColumn=null,n.dragState={},i.resizeProxyVisible=!1}document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",r),document.onselectstart=null,document.ondragstart=null,setTimeout(function(){Ht(o,"noclick")},0)})}},handleMouseMove:function(t,e){if(!(e.children&&e.children.length>0)){for(var n=t.target;n&&"TH"!==n.tagName;)n=n.parentNode;if(e&&e.resizable&&!this.dragging){var i=n.getBoundingClientRect(),r=document.body.style;i.width>12&&i.right-t.pageX<8?(r.cursor="col-resize",Vt(n,"is-sortable")&&(n.style.cursor="col-resize"),this.draggingColumn=e):this.dragging||(r.cursor="",Vt(n,"is-sortable")&&(n.style.cursor="pointer"),this.draggingColumn=null)}}},handleMouseOut:function(){document.body.style.cursor=""},toggleOrder:function(t){var e=t.order,n=t.sortOrders;if(""===e)return n[0];var i=n.indexOf(e||null);return n[i>n.length-2?0:i+1]},handleSortClick:function(t,e,n){t.stopPropagation();for(var i=n||this.toggleOrder(e),r=t.target;r&&"TH"!==r.tagName;)r=r.parentNode;if(r&&"TH"===r.tagName&&Vt(r,"noclick"))Ht(r,"noclick");else if(e.sortable){var o,a=this.store.states,s=a.sortProp,l=a.sortingColumn;(l!==e||l===e&&null===l.order)&&(l&&(l.order=null),a.sortingColumn=e,s=e.property),i?o=e.order=i:(o=e.order=null,a.sortingColumn=null,s=null),a.sortProp=s,a.sortOrder=o,this.store.commit("changeSortCondition")}}},data:function(){return{draggingColumn:null,dragging:!1,dragState:{}}}},TableFooter:{name:"bk-table-footer",mixins:[Yf],render:function(t){var e=this,n=[];return this.summaryMethod?n=this.summaryMethod({columns:this.columns,data:this.store.states.data}):this.columns.forEach(function(t,i){if(0!==i){var r=e.store.states.data.map(function(e){return Number(e[t.property])}),o=[],a=!0;r.forEach(function(t){if(!isNaN(t)){a=!1;var e=(""+t).split(".")[1];o.push(e?e.length:0)}});var s=Math.max.apply(null,o);n[i]=a?"":r.reduce(function(t,e){var n=Number(e);return isNaN(n)?t:no((t+e).toFixed(Math.min(s,20)))},0)}else n[i]=e.sumText}),t("table",{class:"bk-table-footer",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this._l(this.columns,function(e){return t("col",{attrs:{name:e.id}})}),this.hasGutter?t("col",{attrs:{name:"gutter"}}):""]),t("tbody",{class:[{"has-gutter":this.hasGutter}]},[t("tr",[this._l(this.columns,function(i,r){return t("td",{attrs:{colspan:i.colSpan,rowspan:i.rowSpan},class:[i.id,i.headerAlign,i.className||"",e.isCellHidden(r,e.columns)?"is-hidden":"",i.children?"":"is-leaf",i.labelClassName]},[t("div",{class:["cell",i.labelClassName]},[n[r]])])}),this.hasGutter?t("th",{class:"gutter"}):""])])])},props:{fixed:String,store:{required:!0},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},computed:{table:function(){return this.$parent},isAllSelected:function(){return this.store.states.isAllSelected},columnsCount:function(){return this.store.states.columns.length},leftFixedCount:function(){return this.store.states.fixedColumns.length},rightFixedCount:function(){return this.store.states.rightFixedColumns.length},columns:function(){return this.store.states.columns},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},methods:{isCellHidden:function(t,e){if(!0===this.fixed||"left"===this.fixed)return t>=this.leftFixedCount;if("right"===this.fixed){for(var n=0,i=0;i<t;i++)n+=e[i].colSpan;return n<this.columnsCount-this.rightFixedCount}return t<this.leftFixedCount||t>=this.columnsCount-this.rightFixedCount}}},TableBody:Zf,BkPagination:vd,BkSpin:Tf},directives:{Mousewheel:kf},mixins:[Jr.mixin],props:{data:{type:Array,default:function(){return[]}},size:{type:String,default:"small",validator:function(t){return["small","medium","large"].includes(t)}},height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},rowAutoHeight:{type:Boolean,default:!1},stripe:Boolean,border:Boolean,outerBorder:{type:Boolean,default:!0},rowBorder:{type:Boolean,default:!0},colBorder:Boolean,rowKey:[String,Function],context:{type:Object,default:function(){return{}}},showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerBorder:{type:Boolean,default:!1},headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,emptyBlockClassName:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},pagination:Object,showPaginationInfo:{type:Boolean,default:!0},autoScrollToTop:{type:Boolean,default:!1},extCls:{type:String,default:""},setting:{type:Object,default:function(){return{columns:[]}},validator:function(t){return se(t.columns)}},cellAttributes:[Function,Object],headerCellAttributes:[Function,Object],virtualRender:{type:[Object,Boolean],default:!1},scrollLoading:{type:Object,default:function(){return{isLoading:!1}}},popoverOptions:{type:Object,default:function(){return{}}}},data:function(){var t=new Gf(this,{rowKey:this.rowKey,defaultExpandAll:this.defaultExpandAll,selectOnIndeterminate:this.selectOnIndeterminate});return{layout:new Vf({store:t,table:this,fit:this.fit,showHeader:this.showHeader}),store:t,isHidden:!1,renderExpanded:null,resizeProxyVisible:!1,resizeState:{width:null,height:null},isGroup:!1,scrollPosition:"left",scrollThrottle:!1}},computed:{curLang:function(){var t=Jr.getCurLang().bk.lang;return["zh","cn","zh-CN","zh-cn","zhCN","zhcn","zh-TW","zh-tw","zhTW","zhtw"].indexOf(t)>-1?"cn":"en"},tableSize:function(){return this.size},tableBorder:function(){return this.border||this.rowBorder&&this.colBorder},tableRowBorder:function(){return this.border||this.rowBorder},tableColBorder:function(){return this.border||this.colBorder},bodyWrapper:function(){return this.$refs.bodyWrapper},shouldUpdateHeight:function(){return this.height||this.maxHeight||this.fixedColumns.length>0||this.rightFixedColumns.length>0},selection:function(){return this.store.states.selection},columns:function(){return this.store.states.columns},tableData:function(){return this.store.states.data},fixedColumns:function(){return this.store.states.fixedColumns},rightFixedColumns:function(){return this.store.states.rightFixedColumns},notOnlySetting:function(){return this.rightFixedColumns.some(function(t){return"setting"!==t.type})},bodyWidth:function(){var t=this.layout,e=t.bodyWidth,n=t.scrollY,i=t.gutterWidth;return e?e-(n?i:0)+"px":""},bodyHeight:function(){return this.height?{height:this.layout.bodyHeight?this.layout.bodyHeight+"px":""}:this.maxHeight?{"max-height":(this.showHeader?this.maxHeight-this.layout.headerHeight-this.layout.footerHeight-this.layout.paginationHeight:this.maxHeight-this.layout.footerHeight-this.layout.paginationHeight)+"px"}:{}},fixedBodyHeight:function(){if(this.height)return{height:this.layout.fixedBodyHeight?this.layout.fixedBodyHeight+"px":""};if(this.maxHeight){var t=this.layout.scrollX?this.maxHeight-this.layout.gutterWidth:this.maxHeight;return this.showHeader&&(t-=this.layout.headerHeight),t-=this.layout.footerHeight,{"max-height":(t-=this.layout.paginationHeight)+"px"}}return{}},fixedHeight:function(){return this.maxHeight?this.showSummary?{bottom:this.layout.paginationHeight+"px"}:{bottom:(this.layout.scrollX&&this.data.length?this.layout.gutterWidth+this.layout.paginationHeight:this.layout.paginationHeight)+"px"}:this.showSummary?{height:this.layout.tableHeight?this.layout.tableHeight+"px":""}:{height:this.layout.viewportHeight?this.layout.viewportHeight+"px":""}},rightFixedHeight:function(){return this.notOnlySetting?this.fixedHeight:{height:this.layout.headerHeight+"px"}},showPagination:function(){return this.data.length&&this.pagination&&this.pagination.count>0},showSelectionCount:function(){return this.store.states._columns.some(function(t){return"selection"===t.type})},scrollEndLoading:function(){return d({isLoading:!1,text:"加载中",size:"mini",theme:"info",icon:"circle-2-1",placement:"right"},this.scrollLoading)},isVirtualRender:function(){var t=this.virtualRender;return"boolean"==typeof t?t:"object"===o(t)&&!t.disabled}},watch:{height:{immediate:!0,handler:function(t){this.layout.setHeight(t)}},maxHeight:{immediate:!0,handler:function(t){this.layout.setMaxHeight(t)}},currentRowKey:function(t){this.store.setCurrentRowKey(t)},data:{immediate:!0,handler:function(t){var e=this;this.store.commit("setData",t),this.$ready&&this.$nextTick(function(){e.doLayout()})}},expandRowKeys:{immediate:!0,handler:function(t){t&&this.store.setExpandRowKeys(t)}}},created:function(){var t=this;this.tableId="bk-table-"+qf++,this.debouncedUpdateLayout=Mt(50,function(){return t.doLayout()})},mounted:function(){var t=this;this.bindEvents(),this.store.updateColumns(),this.doLayout(),this.resizeState={width:this.$el.offsetWidth,height:this.$el.offsetHeight},this.store.states.columns.forEach(function(e){e.filteredValue&&e.filteredValue.length&&t.store.commit("filterChange",{column:e,values:e.filteredValue,silent:!0})}),this.$ready=!0},beforeDestroy:function(){this.$destroyed=!0,this.resizeListener&&Qd(this.$el,this.resizeListener)},methods:{setCurrentRow:function(t){this.store.commit("setCurrentRow",t)},toggleRowSelection:function(t,e){this.store.toggleRowSelection(t,e),this.store.updateAllSelected()},toggleRowExpansion:function(t,e){this.store.toggleRowExpansion(t,e)},clearSelection:function(){this.store.clearSelection()},clearFilter:function(){this.store.clearFilter()},clearSort:function(){this.store.clearSort()},handleMouseLeave:function(){this.store.commit("setHoverRow",null),this.hoverState&&(this.hoverState=null)},updateScrollY:function(){this.layout.updateScrollY(),this.layout.updateColumnsWidth()},handleFixedMousewheel:function(t,e){var n=this.bodyWrapper;if(Math.abs(e.spinY)>0){var i=n.scrollTop;e.pixelY<0&&0!==i&&t.preventDefault(),e.pixelY>0&&n.scrollHeight-n.clientHeight>i&&t.preventDefault(),n.scrollTop+=Math.ceil(e.pixelY/5)}else n.scrollLeft+=Math.ceil(e.pixelX/5)},handleHeaderFooterMousewheel:function(t,e){var n=e.pixelX,i=e.pixelY;Math.abs(n)>=Math.abs(i)&&(t.preventDefault(),this.bodyWrapper.scrollLeft+=e.pixelX/5)},handlePageChange:function(t){this.autoScrollToTop&&this.scrollToTop(),this.$emit("page-change",t)},handlePageLimitChange:function(t,e){this.autoScrollToTop&&this.scrollToTop(),this.$emit("page-limit-change",t,e)},scrollToTop:function(){this.$refs.bodyWrapper.scrollTo({top:0})},bindEvents:function(){var t=this.$refs,e=t.headerWrapper,n=t.footerWrapper,i=t.tableHeader,r=t.bodyWrapper,o=this.$refs,a=this;this.bodyWrapper.addEventListener("scroll",function(){var t=this;e&&(e.scrollLeft=this.scrollLeft,mt(i.filterPanels).forEach(function(t){t.instance&&t.instance.hide(0)})),n&&(n.scrollLeft=this.scrollLeft),o.fixedBodyWrapper&&(o.fixedBodyWrapper.scrollTop=this.scrollTop),o.rightFixedBodyWrapper&&(o.rightFixedBodyWrapper.scrollTop=this.scrollTop);var s=this.scrollWidth-this.offsetWidth-1,l=this.scrollLeft;a.scrollPosition=l>=s?"right":0===l?"left":"middle",a.scrollEndLoading.isLoading||this.scrollThrottle||(this.scrollThrottle=!0,setTimeout(function(){t.scrollThrottle=!1,r.scrollHeight-r.offsetHeight-r.scrollTop<40&&a.$emit("scroll-end")},500))}),this.fit&&Jd(this.$el,this.resizeListener)},resizeListener:function(){if(this.$ready){var t=!1,e=this.$el,n=this.resizeState,i=n.width,r=n.height,o=e.offsetWidth;i!==o&&(t=!0);var a=e.offsetHeight;(this.height||this.shouldUpdateHeight)&&r!==a&&(t=!0),t&&(this.resizeState.width=o,this.resizeState.height=a,this.doLayout())}},doLayout:function(){this.$destroyed||(this.shouldUpdateHeight&&this.layout.updateElsHeight(),this.layout.updateColumnsWidth())},sort:function(t,e){this.store.commit("sort",{prop:t,order:e})},toggleAllSelection:function(){this.store.commit("toggleAllSelection")}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(tp);var ep=1,np={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,align:"is-center",headerAlign:"is-center",order:"",className:"bk-table-column-selection"},expand:{width:48,minWidth:48,realWidth:48,align:"is-center",headerAlign:"is-center",order:"",className:"bk-table-column-expand"},index:{width:48,minWidth:48,realWidth:48,align:"is-center",headerAlign:"is-center",order:"",className:"bk-table-column-index"},setting:{width:42,maxWidth:42,minWidth:42,realWidth:42,headerAlign:"is-center",order:"",className:"bk-table-column-setting",icon:"bk-icon icon-cog-shape"}},ip={selection:{renderHeader:function(t,e){var n,i=this,r=e.store,o=e.column;return t("bk-checkbox",{attrs:{disabled:r.isAllSelectionDisabled,indeterminate:r.states.selection.length>0&&!this.isAllSelected,"before-change":function(){return o.beforeSelectAllChange(i.isAllSelected,{column:o,store:r})},checked:this.isAllSelected},nativeOn:{click:(n=s(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.beforeSelectAllChange(i.isAllSelected,{column:o,store:r});case 2:if(!1!==t.sent){t.next=5;break}return t.abrupt("return");case 5:i.toggleAllSelection();case 6:case"end":return t.stop()}},t)})),function(){return n.apply(this,arguments)})}})},renderCell:function(t,e){var n,i=e.row,r=e.column,o=e.store,a=e.$index,l=!!r.selectable&&!r.selectable.call(null,i,a);return t("bk-checkbox",{attrs:{checked:o.isSelected(i),disabled:l,"before-change":function(){return r.beforeSelectChange(o.isSelected(i),{row:i,column:r,store:o,$index:a})}},nativeOn:{click:(n=s(te.mark(function t(e){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.stopPropagation(),!l){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,r.beforeSelectChange(o.isSelected(i),{row:i,column:r,store:o,$index:a});case 5:!1!==t.sent&&o.commit("rowSelectedChanged",i);case 7:case"end":return t.stop()}},t)})),function(t){return n.apply(this,arguments)})}})},sortable:!1,resizable:!1},index:{renderHeader:function(t,e){return e.column.label||"#"},renderCell:function(t,e){var n=e.$index,i=n+1,r=e.column.index;return"number"==typeof r?i=n+r:"function"==typeof r&&(i=r(n)),t("div",[i])},sortable:!1},expand:{renderHeader:function(t,e){return e.column.label||""},renderCell:function(t,e,n){var i=e.row;return t("div",{class:"bk-table-expand-icon "+(e.store.states.expandRows.indexOf(i)>-1?"bk-table-expand-icon-expanded":""),on:{click:function(t){return n.handleExpandClick(f({},e,{event:t}))}}},[t("i",{class:"bk-icon icon-play-shape"})])},sortable:!1,resizable:!1,className:"bk-table-expand-column"},setting:{renderHeader:function(t,e){var n=e.column;return"right"===e.fixed?t("bk-table-setting",{attrs:{column:n}}):""},renderCell:function(t,e,n){return e.row,e.store,""},sortable:!1,resizable:!1,fixed:"right",align:"center"}},rp=function(t,e){var n=e.row,i=e.column,r=e.$index,o=i.property,a=o&&function(t,e,n){for(var i=t,r=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),o=0,a=r.length;o<a-1&&i;++o){var s=r[o];if(!(s in i)){n;break}i=i[s]}return{o:i,k:r[o],v:i?i[r[o]]:null}}(n,o).v;return i&&i.formatter?i.formatter(n,i,a,r):a},op=function(t){return void 0!==t&&(t=zn(t,10),isNaN(t)&&(t=null)),t},ap={name:"bk-table-column",props:{type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{},minWidth:{},maxWidth:{},renderHeader:Function,sortable:{type:[String,Boolean],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},context:{},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:[Boolean,Object],fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterSearchable:Boolean,index:[Number,Function],sortOrders:{type:Array,default:function(){return["ascending","descending",null]},validator:function(t){return t.every(function(t){return["ascending","descending",null].indexOf(t)>-1})}},beforeExpandChange:Function,beforeSelectChange:Function,beforeSelectAllChange:Function},data:function(){return{isSubColumn:!1,columns:[]}},beforeCreate:function(){this.row={},this.column={},this.$index=0},computed:{owner:function(){for(var t=this.$parent;t&&!t.tableId;)t=t.$parent;return t},columnOrTableParent:function(){for(var t=this.$parent;t&&!t.tableId&&!t.columnId;)t=t.$parent;return t}},created:function(){var t=this;this.$createElement,this.customRender=this.$options.render,"setting"!==this.type?this.$options.render=function(e){return e("div",t.$slots.default)}:this.$options.render=function(e){return t.columnConfig.settingContent=function(e){return t.$slots.default},e("div")};var e=this.columnOrTableParent,n=this.owner;this.isSubColumn=n!==e,this.columnId=(e.tableId||e.columnId)+"-column-"+ep++;var i=this.type,r=op(this.width),a=op(this.minWidth),s=op(this.maxWidth),l=function(t,e){var n=f({},np[t||"default"]);for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];void 0!==r&&(n[i]=r)}return n.minWidth||(n.minWidth=80),n.realWidth="number"!=typeof n.width?n.minWidth:n.width,n}(i,{id:this.columnId,columnKey:this.columnKey,label:this.label,className:this.className,labelClassName:this.labelClassName,property:this.prop||this.property,type:i,renderCell:null,renderHeader:this.renderHeader,width:r,minWidth:a,maxWidth:s,isColumnGroup:!1,context:this.context,align:this.align?"is-"+this.align:void 0,headerAlign:this.headerAlign?"is-"+this.headerAlign:this.align?"is-"+this.align:void 0,sortable:""===this.sortable||this.sortable,sortMethod:this.sortMethod,sortBy:this.sortBy,resizable:this.resizable,showOverflowTooltip:this.showOverflowTooltip,formatter:this.formatter,selectable:this.selectable,reserveSelection:this.reserveSelection,fixed:""===this.fixed||this.fixed,filterMethod:this.filterMethod,filters:this.filters,filterable:this.filters,filterMultiple:this.filterMultiple,filterOpened:!1,filteredValue:this.filteredValue||[],filterPlacement:this.filterPlacement||"",filterSearchable:this.filterSearchable,index:this.index,sortOrders:this.sortOrders,order:null,beforeExpandChange:this.beforeExpandChange,beforeSelectChange:Pf(this.beforeSelectChange),beforeSelectAllChange:Pf(this.beforeSelectAllChange)}),u=ip[i]||{};Ot(u).forEach(function(t){var e=u[t];void 0!==e&&("renderHeader"===t&&("selection"===i&&l[t]?console.warn("[Magic Warn][TableColumn]Selection column doesn't allow to set render-header function."):e=l[t]||e),l[t]="className"===t?"".concat(l[t]," ").concat(e):e)}),this.columnConfig=l;var c=l.renderCell,h=this;if("expand"===i)return n.renderExpanded=function(t,e){return h.$scopedSlots.default?h.$scopedSlots.default(e):h.$slots.default},void(l.renderCell=function(t,e){return t("div",{class:"cell"},[c(t,e,this._renderProxy)])});"setting"===i&&(l.settingContent=function(t){return h.$slots.default}),l.renderCell=function(t,e){return h.$scopedSlots.default&&(c=function(){return h.$scopedSlots.default(e)}),c||(c=rp),h.showOverflowTooltip?t("div",{class:"cell",directives:[{name:"bk-overflow-tips",value:"object"===o(h.showOverflowTooltip)?h.showOverflowTooltip:{interactive:!1}}]},[c(t,e)]):t("div",{class:"cell"},[c(t,e)])}},destroyed:function(){if(this.$parent){var t=this.$parent;this.owner.store.commit("removeColumn",this.columnConfig,this.isSubColumn?t.columnConfig:null)}},watch:{label:function(t){this.columnConfig&&(this.columnConfig.label=t)},prop:function(t){this.columnConfig&&(this.columnConfig.property=t)},property:function(t){this.columnConfig&&(this.columnConfig.property=t)},filters:function(t){this.columnConfig&&(this.columnConfig.filters=t)},filterMultiple:function(t){this.columnConfig&&(this.columnConfig.filterMultiple=t)},align:function(t){this.columnConfig&&(this.columnConfig.align=t?"is-"+t:null,this.headerAlign||(this.columnConfig.headerAlign=t?"is-"+t:null))},headerAlign:function(t){this.columnConfig&&(this.columnConfig.headerAlign="is-"+(t||this.align))},width:function(t){this.columnConfig&&(this.columnConfig.width=op(t),this.owner.store.scheduleLayout())},minWidth:function(t){this.columnConfig&&(this.columnConfig.minWidth=op(t),this.owner.store.scheduleLayout())},fixed:function(t){this.columnConfig&&(this.columnConfig.fixed=t,this.owner.store.scheduleLayout(!0))},sortable:function(t){this.columnConfig&&(this.columnConfig.sortable=t)},index:function(t){this.columnConfig&&(this.columnConfig.index=t)},formatter:function(t){this.columnConfig&&(this.columnConfig.formatter=t)},className:function(t){this.columnConfig&&(this.columnConfig.className=t)},labelClassName:function(t){this.columnConfig&&(this.columnConfig.labelClassName=t)}},mounted:function(){var t,e=this.owner,n=this.columnOrTableParent;t=this.isSubColumn?[].indexOf.call(n.$el.children,this.$el):[].indexOf.call(n.$refs.hiddenColumns.children,this.$el),e.store.commit("insertColumn",this.columnConfig,t,this.isSubColumn?n.columnConfig:null)}};Et(ap);var sp=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-table-setting-content"},[n("h2",{staticClass:"content-title"},[t._v(t._s(t.t("bk.table.setting.title")))]),n("div",{staticClass:"content-scroller"},[n("div",{staticClass:"content-fields clearfix"},[n("p",{staticClass:"setting-title"},[t._v("\n        "+t._s(t.t("bk.table.setting.fields.title"))+"\n        "),t.limit?n("span",{staticClass:"setting-subtitle",class:{"is-limit":t.reachLimit}},[t._v("\n          "+t._s(t.t("bk.table.setting.fields.subtitle",{max:t.limit}))+"\n        ")]):n("bk-checkbox",{staticClass:"fr setting-checkbox",attrs:{checked:t.allSelected},nativeOn:{click:function(e){return t.handleSelectAll(e)}}},[t._v("\n          "+t._s(t.t("bk.table.setting.fields.selectAll"))+"\n        ")])],1),n("bk-checkbox-group",{staticClass:"fields-group",model:{value:t.localSelected,callback:function(e){t.localSelected=e},expression:"localSelected"}},[t._l(t.fields,function(e){return[n("span",{key:e[t.valueKey],staticClass:"fields-checkbox-wrapper"},[n("bk-checkbox",{staticClass:"fields-checkbox",attrs:{disabled:!!e.hasOwnProperty("disabled")&&!!e.disabled,value:e[t.valueKey],title:e[t.labelKey]}},[t._v("\n              "+t._s(e[t.labelKey])+"\n            ")])],1)]})],2)],1),n("div",{staticClass:"content-line-height"},[n("p",{staticClass:"setting-title"},[t._v("\n        "+t._s(t.t("bk.table.setting.lineHeight.title"))+"\n      ")]),n("div",{staticClass:"bk-button-group link-button-group"},[n("bk-button",{class:["link-button",{"is-selected":"small"===t.currentSize}],attrs:{size:"small"},on:{click:function(e){t.setSize("small")}}},[t._v("\n          "+t._s(t.t("bk.table.setting.lineHeight.small"))+"\n        ")]),n("bk-button",{class:["link-button",{"is-selected":"medium"===t.currentSize}],attrs:{size:"small"},on:{click:function(e){t.setSize("medium")}}},[t._v("\n          "+t._s(t.t("bk.table.setting.lineHeight.medium"))+"\n        ")]),n("bk-button",{class:["link-button",{"is-selected":"large"===t.currentSize}],attrs:{size:"small"},on:{click:function(e){t.setSize("large")}}},[t._v("\n          "+t._s(t.t("bk.table.setting.lineHeight.large"))+"\n        ")])],1)])]),n("div",{staticClass:"content-options"},[n("bk-button",{staticClass:"mr10",attrs:{theme:"primary",disabled:t.reachLimit},on:{click:t.handleConfirm}},[t._v("\n      "+t._s(t.t("bk.table.setting.options.ok"))+"\n    ")]),n("bk-button",{attrs:{theme:"default"},on:{click:t.handleCancel}},[t._v(t._s(t.t("bk.table.setting.options.cancel")))])],1)])},staticRenderFns:[]},void 0,{name:"bk-table-setting-content",components:{bkCheckboxGroup:oe,bkCheckbox:re,bkButton:qt},mixins:[Jr.mixin],props:{fields:{type:Array,default:function(){return[]}},selected:{type:Array,default:function(){return[]}},valueKey:{type:String,default:"id"},labelKey:{type:String,default:"label"},size:{type:String,default:"small"},limit:Number},data:function(){return{localSelected:[],currentSize:"small"}},computed:{fieldsState:function(){var t=this,e=[],n=[],i=[];return this.fields.forEach(function(r){r.disabled?(e.push(r),t.localSelected.includes(r[t.valueKey])&&i.push(r)):n.push(r)}),{disabled:e,available:n,fixed:i}},disabledFields:function(){return this.fieldsState.disabled},availableFields:function(){return this.fieldsState.available},fixedFields:function(){return this.fieldsState.fixed},allSelected:function(){var t=this;return this.availableFields.every(function(e){return t.localSelected.includes(e[t.valueKey])})},reachLimit:function(){return this.limit&&this.localSelected.length>this.limit},popoverInstance:function(){return this.$parent.instance}},watch:{selected:{immediate:!0,handler:function(t){this.setSelected()}},size:{immediate:!0,handler:function(t){this.setSize(t)}},popoverInstance:function(){this.initCallback()}},methods:{initCallback:function(){var t=this;this.popoverInstance.set({onHidden:function(){t.isConfirm?t.$emit("setting-change",{fields:t.fields.filter(function(e){return t.localSelected.includes(e[t.valueKey])}),size:t.currentSize}):t.$emit("cancel"),t.isConfirm=!1,t.$nextTick(function(){t.setSelected(),t.setSize(t.size)})}})},setSelected:function(){var t=this;this.localSelected=this.selected.map(function(e){return e[t.valueKey]})},setSize:function(t){this.currentSize=t},handleSelectAll:function(){var t=this;this.allSelected?this.localSelected=this.fixedFields.map(function(e){return e[t.valueKey]}):this.localSelected=this.fields.filter(function(e){return t.fixedFields.includes(e)||!e.disabled}).map(function(e){return e[t.valueKey]})},handleConfirm:function(){this.isConfirm=!0,this.popoverInstance.hide()},handleCancel:function(){this.isConfirm=!1,this.popoverInstance.hide()}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(sp);var lp=function(t,e){if(!k(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t},up=R.f,cp=Oi.fastKey,hp=E?"_s":"size",dp=function(t,e){var n,i=cp(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n},fp={getConstructor:function(t,e,n,i){var r=t(function(t,o){Sl(t,r,e,"_i"),t._t=e,t._i=Hi(null),t._f=void 0,t._l=void 0,t[hp]=0,null!=o&&Ml(o,n,t[i],t)});return Xl(r.prototype,{clear:function(){for(var t=lp(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[hp]=0},delete:function(t){var n=lp(this,e),i=dp(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[hp]--}return!!i},forEach:function(t){lp(this,e);for(var n,i=I(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!dp(lp(this,e),t)}}),E&&up(r.prototype,"size",{get:function(){return lp(this,e)[hp]}}),r},def:function(t,e,n){var i,r,o=dp(t,e);return o?o.v=n:(t._l=o={i:r=cp(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[hp]++,"F"!==r&&(t._i[r]=o)),t},getEntry:dp,setStrong:function(t,e,n){Oo(t,e,function(t,n){this._t=lp(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?fl(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,fl(1))},n?"entries":"values",!n,!0),ql(e)}},pp=(Ei("species"),R.f),gp=function(t,e,n){for(var i=kt(t),r=Y(i),o=I(e,n,3),a=q(r.length),s=0,l=void 0;a>s;s++)s in r&&o(r[s],s,i);return l};!function(t,e,n,i,r,o){var a=S[t],s=a,l=s&&s.prototype,u={};E&&"function"==typeof s&&l.forEach&&!O(function(){(new s).entries().next()})?(s=e(function(e,n){Sl(e,s,t,"_c"),e._c=new a,null!=n&&Ml(n,r,e.add,e)}),gp("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;!(t in l)||B(s.prototype,t,function(n,i){Sl(this,s,t);var r=this._c[t](0===n?0:n,i);return e?this:r})}),pp(s.prototype,"size",{get:function(){return this._c.size}})):(s=i.getConstructor(e,t,r,"add"),Xl(s.prototype,n),Oi.NEED=!0),Li(s,t),u[t]=s,W(W.G+W.W+W.F,u),i.setStrong(s,t,r)}("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return fp.def(lp(this,"Set"),t=0===t?0:t,t)}},fp),W(W.P+W.R,"Set",{toJSON:function(){if("Set"!=zo(this))throw TypeError("Set#toJSON isn't generic");return function(t,e){var n=[];return Ml(t,!1,n.push,n,void 0),n}(this)}}),W(W.S,"Set",{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}}),W(W.S,"Set",{from:function(t){var e,n,i,r,o=arguments[1];return C(this),(e=void 0!==o)&&C(o),null==t?new this:(n=[],e?(i=0,r=I(o,arguments[2],2),Ml(t,!1,function(t){n.push(r(t,i++))})):Ml(t,!1,n.push,n),new this(n))}});var vp=M.Set;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,function(n,i){return Array.isArray(i)?n.push.apply(n,t.call(i,e-1)):n.push(i),n},[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(t){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var mp=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"bkTagSelector",staticClass:"bk-tag-selector",class:t.extCls,on:{click:function(e){t.focusInputer(e)},mouseenter:t.mouseEnterHandler,mouseleave:function(e){t.hover=!1}}},[n("div",{class:["bk-tag-input",{active:t.isEdit,disabled:t.disabled}]},[n("ul",{ref:"tagList",staticClass:"tag-list",class:t.localTagList.length?"":"no-item",style:{"margin-left":t.leftSpace+"px"}},[t._l(t.localTagList,function(e,i){return n("li",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.light",value:{boundary:"window",content:e[t.tooltipKey],disabled:!t.tooltipKey},expression:"{ boundary: 'window', content: tag[tooltipKey], disabled: !tooltipKey }",modifiers:{light:!0}}],key:void 0!==e[t.saveKey]?e[t.saveKey]:i,staticClass:"key-node",on:{click:function(n){t.selectTag(n,e)}}},[n("tag-render",{attrs:{node:e,"display-key":t.displayKey,tpl:t.tagTpl}}),!t.disabled&&t.hasDeleteIcon?n("i",{staticClass:"bk-icon icon-close remove-key",on:{click:function(n){n.stopPropagation(),t.handlerTagRemove(e,i)}}}):t._e()],1)}),n("li",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],ref:"staffInput",staticClass:"staff-input",attrs:{id:"staffInput",role:"input"}},[t.disabled?t._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.curInputValue,expression:"curInputValue"}],ref:"input",staticClass:"input",attrs:{type:"text"},domProps:{value:t.curInputValue},on:{input:[function(e){e.target.composing||(t.curInputValue=e.target.value)},t.handleInput],focus:t.handleFocus,paste:t.handlePaste,blur:function(e){t.handleBlur(t.curInputValue)},keydown:t.handleKeydown}})])],2),n("p",{directives:[{name:"show",rawName:"v-show",value:!t.isEdit&&!t.localTagList.length&&!t.curInputValue.length,expression:"!isEdit && !localTagList.length && !curInputValue.length"}],staticClass:"placeholder"},[t._v(t._s(t.defaultPlaceholder))]),t.isShowClear?n("i",{staticClass:"bk-icon icon-close-circle-shape clear-icon",on:{click:function(e){return e.stopPropagation(),t.handlerClear(e)}}}):t._e()]),n("bk-popover",{ref:"tagInputDropdown",staticClass:"bk-select-dropdown",attrs:{placement:"bottom-start",trigger:"manual",theme:"light bk-select-dropdown"}},[n("div",{staticClass:"bk-tag-popover-trigger"}),n("div",{attrs:{slot:"content"},slot:"content"},[t.showList?n("div",{staticClass:"bk-selector-list",style:{width:t.popoverWidth+"px"}},[t.useGroup?[n("ul",{directives:[{name:"show",rawName:"v-show",value:Ot(t.resultList).length,expression:"Object.keys(resultList).length"}],ref:"selectorList",staticClass:"outside-ul",style:{"max-height":t.contentMaxHeight+"px"}},[t._l(t.resultList,function(e,i){return n("li",{key:i,staticClass:"bk-selector-group-item"},[n("span",{staticClass:"group-name"},[t._v(t._s(e.name)+" ("+t._s(e.children.length)+")")]),n("ul",{staticClass:"bk-selector-group-list-item"},t._l(e.children,function(e,i){return n("li",{key:i,class:["bk-selector-list-item",{disabled:e.disabled},t.activeClass(e,i)],on:{mousedown:function(n){t.handlerResultSelect(e,"select")}}},[n("list-render",{attrs:{node:e,"display-key":t.displayKey,tpl:t.tpl,"search-key":t.searchKey,"search-keyword":t.curInputValue}})],1)}),0)])}),t.showScrollLoading?n("li",{staticClass:"bk-selector-list-item"},[n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:!0,size:"mini",theme:"black"},expression:"{ isLoading: true, size: 'mini', theme: 'black' }"}],staticClass:"loading"})]):t._e()],2)]:[n("ul",{directives:[{name:"show",rawName:"v-show",value:t.resultList.length,expression:"resultList.length"}],ref:"selectorList",staticClass:"outside-ul",style:{"max-height":t.contentMaxHeight+"px"}},[t._l(t.resultList,function(e,i){return n("li",{key:i,class:["bk-selector-list-item",{disabled:e.disabled},t.activeClass(e,i)],on:{click:function(n){t.handlerResultSelect(e,"select")}}},[n("list-render",{attrs:{node:e,"display-key":t.displayKey,tpl:t.tpl,"search-key":t.searchKey,"search-keyword":t.curInputValue}})],1)}),t.showScrollLoading?n("li",{staticClass:"bk-selector-list-item"},[n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:!0,size:"mini",theme:"black"},expression:"{ isLoading: true, size: 'mini', theme: 'black' }"}],staticClass:"loading"})]):t._e()],2)]],2):t._e()])])],1)},staticRenderFns:[]},void 0,{name:"bk-tag-input",components:{listRender:{name:"render",functional:!0,props:{node:Object,displayKey:String,searchKey:[String,Array],searchKeyword:String,tpl:Function},render:function(t,e){var n=e.props,i=n.node,r=n.displayKey,o=n.searchKeyword,a=n.tpl;function s(t){if(o){var e=new RegExp("(".concat(o,")"),"i");return t.replace(e,'<strong class="highlight-text">$1</strong>')}return t}return a?a(i,e,s,t):t("div",{class:"bk-selector-node"},[t("span",{domProps:{innerHTML:s(i[r])},class:"text"})])}},tagRender:{name:"tag-render",functional:!0,props:{node:Object,displayKey:String,tpl:Function},render:function(t,e){return e.props.tpl?e.props.tpl(e.props.node,e,t):t("div",{class:"tag"},[t("span",{class:"text"},[e.props.node[e.props.displayKey]])])}},bkPopover:td},directives:{bkloading:jh,bkTooltips:xh},mixins:[Jr.mixin,ee],props:{showClearOnlyHover:{type:Boolean,default:!1},placeholder:{type:String,default:""},value:{type:Array,default:function(){return[]}},leftSpace:{type:Number,default:0},disabled:{type:Boolean,default:!1},hasDeleteIcon:{type:Boolean,default:!1},separator:{type:String,default:""},maxData:{type:Number,default:-1},maxResult:{type:Number,default:10},isBlurTrigger:{type:Boolean,default:!0},saveKey:{type:String,default:"id"},displayKey:{type:String,default:"name"},tooltipKey:{type:String,default:""},searchKey:{type:[String,Array],default:"name"},useGroup:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}},contentWidth:{type:Number,default:190},contentMaxHeight:{type:Number,default:300},allowCreate:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},tpl:Function,tagTpl:Function,pasteFn:Function,filterCallback:{type:Function,default:null},popoverOptions:{type:Object,default:function(){return{distance:0}}},trigger:{type:String,default:"search",validator:function(t){return!(["focus","search"].indexOf(t)<0&&(console.error("size property is not valid: '".concat(t,"'")),1))}},extCls:{type:String,default:""},allowNextFocus:{type:Boolean,default:!0},allowAutoMatch:{type:Boolean,default:!1},createTagValidator:{type:Function,default:null}},data:function(){return{curInputValue:"",cacheVal:"",timer:0,focusItemIndex:this.allowCreate?-1:0,isEdit:!1,showList:!1,isCanRemoveTag:!1,tagList:[],localTagList:[],tagListCache:[],localTagListCache:[],renderList:[],renderListShadow:[],renderListPaged:[],renderListAll:[],initData:[],curPage:1,totalSize:0,totalPage:0,pageSize:0,showScrollLoading:!1,isBeforeDestroy:!1,bkTagSelector:null,popoverInstance:null,isSingleSelect:!1,INPUT_MIN_WIDTH:12,popoverWidth:190,hover:!1}},computed:{isShowClear:function(){return this.clearable&&!this.disabled&&0!==this.localTagList.length&&(!this.showClearOnlyHover||this.hover)},resultList:function(){if(this.useGroup){var t={};return this.renderList.forEach(function(e,n){e.index=n,t[e.group.groupId]||(t[e.group.groupId]={id:e.group.groupId,name:e.group.groupName,children:[]}),t[e.group.groupId].children.push(e)}),t}return this.renderList},defaultPlaceholder:function(){return this.placeholder||this.t("bk.tagInput.placeholder")}},watch:{curInputValue:function(t,e){var n=this;""!==t&&this.renderList.length?this.showList=!0:"focus"!==this.trigger&&setTimeout(function(){n.showList=!1},100)},showList:function(t){var e=this;t&&this.$nextTick(function(){e.showPopover()})},list:function(t){t&&this.getData()},value:function(){this.getData()},maxData:function(t){this.isSingleSelect=1===t}},created:function(){this.isSingleSelect=1===this.maxData,this.pageSize=this.maxResult,this.getData()},mounted:function(){this.bkTagSelector=this.$refs.bkTagSelector,this.popoverInstance=this.$refs.tagInputDropdown},beforeDestroy:function(){this.isBeforeDestroy=!0;var t=this.$refs.selectorList;t&&t.removeEventListener("scroll",this.scrollHandler),clearTimeout(this.timer)},methods:{mouseEnterHandler:function(){this.hover=!0},handlerClear:function(){this.tagList=[],this.localTagList=[],this.handlerChange("removeAll")},showPopover:function(){var t=this.isSingleSelect?0:this.$refs.staffInput.offsetLeft;this.popoverInstance.instance.set({offset:"".concat(t,", 0")}),this.popoverInstance.instance.popperInstance&&this.popoverInstance.instance.popperInstance.update();var e=this.$refs.selectorList;e&&(e.scrollTop=0,e.removeEventListener("scroll",this.scrollHandler),e.addEventListener("scroll",this.scrollHandler)),this.popoverInstance.instance.show()},getCharLength:function(t){for(var e=t.length,n=0,i=0;i<e;i++)0!=(65280&t.charCodeAt(i))&&n++,n++;return n},filterData:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(n=n.toLowerCase(),"function"==typeof this.filterCallback)t=this.filterCallback(n,this.searchKey,this.initData)||[];else if(se(this.searchKey)){var i=this.searchKey.map(function(t){return e.initData.filter(function(e){return-1!==e[t].toLowerCase().indexOf(n)})});t=Uo(new vp(i.flat()))}else t=this.initData.filter(function(t){return-1!==t[e.searchKey].toLowerCase().indexOf(n)});this.renderListAll=t.slice(0),this.renderListShadow=t.slice(0),this.initPageConf(this.renderListAll.length)},initPageConf:function(t){var e;this.curPage=1,this.totalSize=t,this.totalPage=Math.ceil(this.totalSize/this.pageSize)||1;for(var n=[],i=0;i<this.totalSize;i+=this.pageSize)n.push(this.renderListShadow.slice(i,i+this.pageSize));this.renderListPaged=n,(e=this.renderList).splice.apply(e,[0,this.renderList.length].concat(m(this.renderListPaged[this.curPage-1]||[])))},pageChange:function(t){var e;this.curPage=t,(e=this.renderList).splice.apply(e,[this.renderList.length,0].concat(m(this.renderListPaged[this.curPage-1]))),this.showScrollLoading=!1},scrollHandler:function(t){var e=this;if(!this.showScrollLoading&&!this.isBeforeDestroy){var n=this.$refs.selectorList;if(0!==n.scrollTop&&n.scrollTop+n.offsetHeight>=n.scrollHeight){var i=++this.curPage;i<=this.totalPage&&(this.showScrollLoading=!0,setTimeout(s(te.mark(function t(){return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.pageChange(i);case 2:case"end":return t.stop()}},t)})),500))}}},transitionAfterLeave:function(){var t;(t=this.renderList).splice.apply(t,[0,this.renderList.length].concat([]))},activeClass:function(t,e){var n={"bk-selector-actived":!1,"bk-selector-selected":this.localTagList.includes(t[this.saveKey])};return this.useGroup?n["bk-selector-actived"]=t.index===this.focusItemIndex:n["bk-selector-actived"]=e===this.focusItemIndex,n},getSiteInfo:function(){for(var t={index:0,temp:[]},e=this.$refs.tagList.childNodes,n=0;n<e.length;n++){var i=e[n];(3!==i.nodeType||/\S/.test(i.nodeValue))&&t.temp.push(i)}return this.isSingleSelect?t.index=0:Ot(t.temp).forEach(function(e){"staffInput"===t.temp[e].id&&(t.index=e)}),t},getInputIndex:function(){for(var t=this.$refs.tagList.childNodes,e=-1,n=0;n<t.length;n++){var i=t[n];i.getAttribute&&"input"===i.getAttribute("role")&&(e=n)}return e},formatGroupList:function(){var t=this,e=[];return this.list.forEach(function(n){n.children&&n.children.forEach(function(i){var r=f({},i);r.group={groupId:n[t.saveKey],groupName:n[t.displayKey]},e.push(r)})}),e},getData:function(){var t=this;this.tagList=[],this.localTagList=[],this.initData=[],this.useGroup?(this.allList=this.formatGroupList(),this.allList.forEach(function(e){t.initData.push(e)})):this.list.forEach(function(e){t.initData.push(e)}),this.value.length&&(this.value.forEach(function(e){var n=t.initData.find(function(n){return e===n[t.saveKey]});if(void 0!==n)t.localTagList.push(n),t.tagList.push(n[t.saveKey]);else if(t.allowCreate&&!t.tagList.includes(e)){var i,r=(h(i={},t.saveKey,e),h(i,t.displayKey,e),i);t.localTagList.splice(t.localTagList.length,0,r),t.tagList.splice(t.tagList.length,0,e)}}),this.isSingleSelect||(this.initData=this.initData.filter(function(e){return!t.value.includes(e[t.saveKey])}))),"focus"===this.trigger&&this.filterData()},selectTag:function(t,e){this.disabled||(this.insertAfter(this.$refs.staffInput,t.currentTarget),this.$refs.input.style.width=this.INPUT_MIN_WIDTH+"px")},handleInput:function(t){if(-1===this.maxData||this.maxData>this.tagList.length){var e=t.target.value,n=this.getCharLength(e);this.cacheVal=e,n?(this.isCanRemoveTag=!1,this.filterData(e),this.$refs.input.style.width=n*this.INPUT_MIN_WIDTH+"px"):(this.isCanRemoveTag=!0,"focus"===this.trigger&&this.filterData())}else this.handleBlur(),this.curInputValue="",this.showList=!1;this.isEdit=!0,this.focusItemIndex=this.allowCreate?-1:0},handleFocus:function(t){this.isCanRemoveTag=!0,this.dispatch("bk-form-item","form-focus"),this.popoverWidth=this.isSingleSelect?this.bkTagSelector.clientWidth:this.contentWidth,t.currentTarget.select()},handlePaste:function(t){var e=this;if(this.isSingleSelect)return!1;t.preventDefault();var n=t.clipboardData.getData("text"),i=[];if((this.pasteFn?this.pasteFn(n):this.defaultPasteFn(n)).map(function(t){return i.push(t[e.saveKey])}),i.length){var r=this.$refs.tagList.childNodes,o=this.getSiteInfo(),a=[],s=[];if(this.initData.map(function(t){s.push(t[e.saveKey])}),i=i.filter(function(t){return t&&t.trim()&&!e.tagList.includes(t)&&s.includes(t)}),-1!==this.maxData)if(this.tagList.length<this.maxData){var l=this.maxData-this.tagList.length;i.length>l&&(i=m(i.slice(0,l)))}else i=[];if(i.map(function(t){var n={};n[e.saveKey]=t,n[e.displayKey]=t,a.push(n)}),i.length){var u,c;(u=this.tagList).splice.apply(u,[o.index,0].concat(m(i))),(c=this.localTagList).splice.apply(c,[o.index,0].concat(a));var h=r[zn(o.index)];this.insertAfter(this.$refs.staffInput,h),this.focusInputer(),this.$refs.input.style.width=this.INPUT_MIN_WIDTH+"px",this.initData=this.initData.filter(function(t){return!i.includes(t[e.saveKey])}),this.handlerChange("select")}}},defaultPasteFn:function(t){var e=this,n=[];return t.split(";").map(function(t){if(t.match(/^[a-zA-Z][a-zA-Z_]+/g)){var i=t.match(/^[a-zA-Z][a-zA-Z_]+/g).join(""),r={};r[e.saveKey]=i,r[e.displayKey]=i,n.push(r)}}),n},updateScrollTop:function(){var t=this,e=this.$refs.selectorList,n=e.clientHeight,i=e.getBoundingClientRect().y;this.$nextTick(function(){var r=t.$refs.selectorList.querySelector(".bk-selector-actived");if(r){var o=r.clientHeight,a=r.getBoundingClientRect().y;if(a<i){var s=e.scrollTop;e.scrollTop=s-(i-a)}var l=a+o-i;if(l>n){var u=e.scrollTop;e.scrollTop=u+l-n}}})},handleKeydown:function(t){if(!this.showScrollLoading){var e,n=t.target.value,i=this.getCharLength(n),r=this.getSiteInfo(),o=this.getInputIndex(),a=this.$refs.tagList.childNodes;switch(t.code){case"ArrowUp":if(t.preventDefault(),!this.showList)return;this.focusItemIndex--,this.focusItemIndex=this.focusItemIndex<0?-1:this.focusItemIndex,-1===this.focusItemIndex&&(this.focusItemIndex=this.renderList.length-1),this.updateScrollTop();break;case"ArrowDown":if(t.preventDefault(),!this.showList)return;this.focusItemIndex++,this.focusItemIndex=this.focusItemIndex>this.renderList.length-1?this.renderList.length:this.focusItemIndex,this.focusItemIndex===this.renderList.length&&(this.focusItemIndex=0),this.updateScrollTop();break;case"ArrowLeft":if(this.isEdit=!0,!i){if(o<1)return;this.$refs.tagList.insertBefore(this.$refs.staffInput,a[o-1]),this.$refs.input.value="",this.$refs.input.style.width=this.INPUT_MIN_WIDTH+"px",this.focusInputer()}break;case"ArrowRight":if(this.isEdit=!0,!i){if(o===a.length-1)return;this.insertAfter(this.$refs.staffInput,a[o+1]),this.focusInputer()}break;case"Enter":case"NumpadEnter":if(!this.allowCreate&&this.showList||this.allowCreate&&this.focusItemIndex>=0&&this.showList)this.handlerResultSelect(this.renderList[this.focusItemIndex],"select"),this.showList=!1;else if(this.allowCreate){t.preventDefault();var s=this.curInputValue;this.handlerResultSelect(s,"custom")}this.cacheVal="",t.preventDefault();break;case"Backspace":0===zn(r.index,10)||this.curInputValue.length||(e=this.localTagList[r.index-1],this.backspaceHandler(r.index,e))}}},handlerResultSelect:function(t,e){t&&!t.disabled&&(this.isSingleSelect&&this.clearSingleCache(),this.addTag(t,e),this.handlerChange("select"),this.clearInput(),this.showList=!1)},backspaceHandler:function(t,e){var n=this;if(!this.curInputValue){if(this.isCanRemoveTag){this.tagList.splice(t-1,1),this.localTagList.splice(t-1,1);var i=this.$refs.tagList.childNodes,r=this.getSiteInfo(),o=i[1===zn(r.index,10)?1:zn(r.index,10)-2];this.insertAfter(this.$refs.staffInput,o),this.focusInputer();var a=(this.useGroup?this.allList:this.list).some(function(t){return t===e[n.saveKey]});(this.allowCreate&&a||!this.allowCreate)&&!this.isSingleSelect&&this.initData.push(e),this.$refs.input.style.width=this.INPUT_MIN_WIDTH+"px",this.handlerChange("remove")}this.isCanRemoveTag=!0}},handlerTagRemove:function(t,e){this.removeTag(t,e),this.$refs.input.style.width=this.INPUT_MIN_WIDTH+"px",this.resetInput(),this.handlerChange("remove")},removeTag:function(t,e){var n=this;this.tagList.splice(e,1),this.localTagList.splice(e,1);var i=(this.useGroup?this.allList:this.list).some(function(e){return e===t[n.saveKey]});(this.allowCreate&&i||!this.allowCreate)&&!this.isSingleSelect&&this.initData.push(t)},addTag:function(t,e){var n,i=this,r=this.$refs.tagList.childNodes,a=this.getSiteInfo(),s=!1,l=[];if("custom"===e)if(this.separator){var u,c,h=[];(l=(l=t.split(this.separator)).filter(function(t){var e="function"!=typeof i.createTagValidator||i.createTagValidator(t);return t&&t.trim()&&!i.tagList.includes(t)&&e})).forEach(function(t){var e={};e[i.saveKey]=t,e[i.displayKey]=t,h.push(e)}),l.length&&((u=this.tagList).splice.apply(u,[a.index,0].concat(m(l))),(c=this.localTagList).splice.apply(c,[a.index,0].concat(h)),s=!0)}else if("object"===o(t)){n=t[this.saveKey];var d="function"!=typeof this.createTagValidator||this.createTagValidator(n);n&&!this.tagList.includes(n)&&d&&void 0!==(n=n.replace(/\s+/g,""))&&(this.tagList.splice(a.index,0,n),this.localTagList.splice(a.index,0,t),s=!0)}else{var f={};n=t.trim(),f[this.saveKey]=n,f[this.displayKey]=n;var p="function"!=typeof this.createTagValidator||this.createTagValidator(n);void 0!==n&&!this.tagList.includes(n)&&p&&(this.tagList.splice(a.index,0,n),this.localTagList.splice(a.index,0,f),s=!0)}else t&&(void 0===(n=t[this.saveKey])||this.tagList.includes(n)||(this.tagList.splice(a.index,0,n),this.localTagList.splice(a.index,0,t),s=!0));s&&this.$nextTick(function(){var t=r[zn(a.index,10)+1];i.insertAfter(i.$refs.staffInput,t),i.$refs.input.style.width=i.INPUT_MIN_WIDTH+"px",!i.isSingleSelect&&i.allowNextFocus&&i.focusInputer(),i.isSingleSelect||(i.initData=i.initData.filter(function(t){return!i.tagList.includes(t[i.saveKey])}))})},handlerChange:function(t){this.$emit("input",this.tagList),this.$emit("change",this.tagList),this.dispatch("bk-form-item","form-change"),this.$emit(t),this.$emit("update:tags",this.tagList)},clearInput:function(){this.curInputValue="",this.cacheVal=""},handleBlur:function(t){var e=this;this.timer=setTimeout(function(){var t=e.curInputValue;if(e.clearInput(),e.dispatch("bk-form-item","form-blur"),e.isEdit=!1,e.isSingleSelect){var n=v(e.tagListCache,1)[0];t&&t===n&&e.localTagListCache.length?e.addTag(e.localTagListCache[0],"select"):e.handlerChange("remove")}else if(e.allowAutoMatch&&t){var i=e.renderList.find(function(n){return n[e.searchKey]===t});i?e.handlerResultSelect(i,"select"):e.allowCreate&&e.handlerResultSelect(t,"custom")}e.$emit("blur",t,e.tagList)},200)},focusInputer:function(t){var e=this;if(!this.disabled){if(t&&t.target){var n=t.target.className;(n.indexOf("bk-tag-input")>-1||n.indexOf("tag-list")>-1)&&(this.curInputValue=this.cacheVal,this.$refs.tagList.appendChild(this.$refs.staffInput))}clearTimeout(this.timer),this.isSingleSelect&&this.tagList.length&&(this.tagListCache=m(this.tagList),this.localTagListCache=m(this.localTagList),this.curInputValue=this.localTagListCache[0][this.saveKey],this.removeTag(this.localTagList[0],0),this.handleInput({target:{value:this.curInputValue}})),this.isEdit=!0,this.$nextTick(function(){e.$refs.input.focus(),"focus"===e.trigger&&(e.showList=!0,e.filterData(),e.showPopover())})}},clearSingleCache:function(){this.tagListCache=[],this.localTagListCache=[],this.tagList=[],this.localTagList=[]},insertAfter:function(t,e){if(t.nextSibling===t)return!1;e.parentNode.insertBefore(t,e?e.nextSibling:null)},resetInput:function(){var t=this.$refs.tagList.childNodes,e=this.getSiteInfo();if(e.index!==e.temp.length){this.clearInput();var n=t[t.length-1];this.insertAfter(this.$refs.staffInput,n)}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(mp);var yp={name:"bk-time-picker",mixins:[yi,fo],components:{TimePickerPanel:mo,RangeTimePickerPanel:wo},props:{type:{type:String,default:"time",validator:function(t){return!(["time","timerange"].indexOf(t)<0&&(console.error("type property is not valid: '".concat(t,"'")),1))}},allowCrossDay:{type:Boolean,default:!1}},computed:{panel:function(){return"timerange"===this.type?"RangeTimePickerPanel":"TimePickerPanel"},ownPickerProps:function(){return{disabledHours:this.disabledHours,disabledMinutes:this.disabledMinutes,disabledSeconds:this.disabledSeconds,hideDisabledOptions:this.hideDisabledOptions}}},watch:{visible:function(t){var e=this;t&&this.$nextTick(function(){zt(e,"TimeSpinner").forEach(function(t){return t.updateScroll()})})}}};Et(yp);var bp=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"bk-timeline",class:t.extCls},t._l(t.list,function(e,i){return n("li",{key:i,staticClass:"bk-timeline-dot",class:t.makeClass(e)},[t.isCustomIcon(e.icon)?n("div",{staticClass:"bk-timeline-icon"},[n("span",{staticClass:"bk-timeline-icon-inner"},[t.isBuiltinIcon(e.icon)?n("i",{class:["bk-icon","icon-"+e.icon]}):t.isVNodeIcon(e.icon)?n("vnode-icon",{attrs:{icon:e.icon}}):t._e()],1)]):t._e(),n("div",{staticClass:"bk-timeline-section"},[t._t("title"+i,[""!==e.tag?n("div",{class:["bk-timeline-title",{"has-event":!!t.$listeners.select}],domProps:{innerHTML:t._s(e.tag)},on:{click:function(n){t.toggle(e)}}}):t._e()],null,e),e.content?n("div",{staticClass:"bk-timeline-content"},[t.isNode(e)?[t._t("nodeContent"+i,[t._v(t._s(t.nodeContent(e,i)))])]:[n("div",{attrs:{title:t.computedTitle(e.content)},domProps:{innerHTML:t._s(e.content)}})]],2):t._e()],2)])}),0)},staticRenderFns:[]},void 0,{name:"bk-timeline",components:{vnodeIcon:{functional:!0,render:function(t,e){return e.props.icon}}},props:{list:{type:Array,required:!0},titleAble:{type:Boolean,default:!1},extCls:{type:String,default:""}},data:function(){return{colorReg:/default|primary|warning|success|danger/}},methods:{toggle:function(t){this.$emit("select",t)},makeClass:function(t){var e,n="bk-timeline-item-",i=[(e={},h(e,"".concat(n,"filled"),t.filled),h(e,"".concat(n,"custom-icon"),this.isCustomIcon(t.icon)),e)];return t.size&&i.push("".concat(n).concat(t.size)),["blue","red","green","yellow","gray"].includes(t.color)&&i.push("".concat(n).concat(t.color)),t.type&&this.colorReg.test(t.type)&&i.push("".concat(n).concat(t.type)),i},isNode:function(t){return!!jt(t.content)},nodeContent:function(t,e){this.$slots["nodeContent".concat(e)]=[t.content]},isBuiltinIcon:function(t){return"string"==typeof t},isVNodeIcon:function(t){return jt(t)},isCustomIcon:function(t){return this.isBuiltinIcon(t)||this.isVNodeIcon(t)},computedTitle:function(t){return this.titleAble?t.replace(/<[^>]+>/g,""):""}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(bp);var xp=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"transfer",staticClass:"bk-transfer",class:t.extCls},[n("div",{staticClass:"source-list"},[t.slot["left-header"]?n("div",{staticClass:"slot-header"},[n("div",{staticClass:"slot-content"},[t._t("left-header")],2)]):n("div",{staticClass:"header"},[t._v("\n      "+t._s(t.title[0]?t.title[0]:t.t("bk.transfer.left"))+t._s(t.t("bk.transfer.total",{total:t.dataList.length}))+"\n      "),0===t.dataList.length?n("span",{staticClass:"disabled"},[t._v(t._s(t.t("bk.transfer.addAll")))]):n("span",{on:{click:t.allToRight}},[t._v(t._s(t.t("bk.transfer.addAll")))])]),t.searchable?n("bk-input",{staticClass:"transfer-search-input",attrs:{clearable:!0,"left-icon":"bk-icon icon-search",placeholder:t.searchPlaceholder||t.t("bk.transfer.searchPlaceholder")},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}):t._e(),t.displayDataList.length?[n("ul",{staticClass:"content"},t._l(t.displayDataList,function(e,i){return n("li",{key:i,on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.leftClick(i)},mouseover:function(e){e.stopPropagation(),e.preventDefault(),t.leftMouseover(i)},mouseleave:function(e){e.stopPropagation(),e.preventDefault(),t.leftMouseleave(i)}}},[t._t("source-option",[t.showOverflowTips?n("span",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"content-text"},[t._v(t._s(e[t.displayCode]))]):n("span",{staticClass:"content-text",attrs:{title:e[t.displayCode]}},[t._v(t._s(e[t.displayCode]))]),n("span",{staticClass:"icon-wrapper",class:[i===t.leftHoverIndex?"hover":""]},[n("i",{staticClass:"bk-icon icon-arrows-right"})])],null,e)],2)}),0)]:[t.slot["left-empty-content"]?n("div",[t._t("left-empty-content")],2):n("div",{staticClass:"empty"},[t._v("\n        "+t._s(t.emptyContent[0]?t.emptyContent[0]:t.t("bk.transfer.emptyContent"))+"\n      ")])]],2),n("div",{staticClass:"transfer"}),n("div",{staticClass:"target-list"},[t.slot["right-header"]?n("div",{staticClass:"slot-header"},[n("div",{staticClass:"slot-content"},[t._t("right-header")],2)]):n("div",{staticClass:"header"},[t._v("\n      "+t._s(t.title[1]?t.title[1]:t.t("bk.transfer.right"))+t._s(t.t("bk.transfer.total",{total:t.hasSelectedList.length}))+"\n      "),0===t.hasSelectedList.length?n("span",{staticClass:"disabled"},[t._v(t._s(t.t("bk.transfer.removeAll")))]):n("span",{on:{click:t.allToLeft}},[t._v(t._s(t.t("bk.transfer.removeAll")))])]),t.hasSelectedList.length?[n("ul",{staticClass:"content"},t._l(t.hasSelectedList,function(e,i){return n("li",{key:i,on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.rightClick(i)},mouseover:function(e){e.stopPropagation(),e.preventDefault(),t.rightMouseover(i)},mouseleave:function(e){e.stopPropagation(),e.preventDefault(),t.rightMouseleave(i)}}},[t._t("target-option",[t.showOverflowTips?n("span",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"content-text"},[t._v(t._s(e[t.displayCode]))]):n("span",{staticClass:"content-text",attrs:{title:e[t.displayCode]}},[t._v(t._s(e[t.displayCode]))]),n("span",{staticClass:"icon-wrapper",class:[i===t.rightHoverIndex?"hover":""]},[n("i",{staticClass:"bk-icon icon-close"})])],null,e)],2)}),0)]:[t.slot["right-empty-content"]?n("div",[t._t("right-empty-content")],2):n("div",{staticClass:"empty"},[t._v("\n        "+t._s(t.emptyContent[1]?t.emptyContent[1]:t.t("bk.transfer.emptySelected"))+"\n      ")])]],2)])},staticRenderFns:[]},void 0,{name:"bk-transfer",components:{bkInput:Th},directives:{bkOverflowTips:Uf},mixins:[Jr.mixin],props:{title:{type:Array,default:function(){return[]}},emptyContent:{type:Array,default:function(){return[]}},displayKey:{type:String,default:"value"},settingKey:{type:String,default:"id"},sortKey:{type:String,default:""},sourceList:{type:Array,default:function(){return[]}},targetList:{type:Array,default:function(){return[]}},hasHeader:{type:Boolean,default:!1},sortable:{type:Boolean,default:!1},extCls:{type:String,default:""},searchPlaceholder:{type:String,default:""},searchable:{type:Boolean,default:!1},showOverflowTips:Boolean},data:function(){return{dataList:[],hasSelectedList:[],sortList:[],leftHoverIndex:-1,rightHoverIndex:-1,slot:{},sortCode:this.sortKey,isSortFlag:this.sortable,keyword:""}},computed:{typeFlag:function(){return this.sourceList&&se(this.sourceList)?-1!==this.sourceList.toString().indexOf("[object Object]"):"empty"},displayDataList:function(){var t=this;if(this.keyword){var e=this.displayCode;return this.dataList.filter(function(n){return!co(n[e])&&String(n[e]).indexOf(t.keyword)>-1})}return this.dataList},displayCode:function(){return this.typeFlag?this.displayKey:"value"},settingCode:function(){return this.typeFlag?this.settingKey:"index"}},watch:{sourceList:{handler:function(t){"empty"!==this.typeFlag&&(this.initData(),this.initSort())},deep:!0},targetList:{handler:function(t){this.initData(),this.initSort()},deep:!0},displayCode:function(t){this.initData()},settingCode:function(t){this.initData()},sortKey:function(t){this.sortCode=t,this.initSort()},sortable:function(t){this.isSortFlag=t,this.initSort()}},created:function(){"empty"!==this.typeFlag&&(this.typeFlag?this.init():this.generalInit(),this.initSort()),this.slot=d({},this.$slots)},methods:{initData:function(){"empty"!==this.typeFlag&&(this.typeFlag?this.init():this.generalInit())},generalInit:function(){if(!this.targetList.length||this.targetList.length>this.sourceList.length){for(var t,e=[],n=0;n<this.sourceList.length;n++)e.push({index:n,value:this.sourceList[n]});this.dataList=[].concat(e),(t=this.hasSelectedList).splice.apply(t,[0,this.hasSelectedList.length].concat([])),this.$emit("change",this.dataList,[],[])}else{for(var i=[],r=[],o=0;o<this.sourceList.length;o++)i.push({index:o,value:this.sourceList[o]});for(var a=0;a<i.length;a++)for(var s=0;s<this.targetList.length;s++)i[a].value===this.targetList[s]&&r.push(i[a]);this.hasSelectedList=[].concat(r);var l=i.filter(function(t){return r.every(function(e){return e.index!==t.index})});this.dataList=m(l),this.$emit("change",this.dataList,m(this.generalListHandler(this.hasSelectedList)),[])}},init:function(){var t=this;if(!this.targetList.length||this.targetList.length>this.sourceList.length)this.dataList=m(this.sourceList),this.hasSelectedList=[],this.$emit("change",this.dataList,[],[]);else{var e=this.sourceList.filter(function(e){return t.targetList.every(function(n){return n!==e[t.settingCode]})}),n=[];this.sourceList.forEach(function(e){t.targetList.forEach(function(i){e[t.settingCode]===i&&n.push(e)})}),this.hasSelectedList=[].concat(n),this.dataList=m(e);var i=m(this.sourceListHandler(this.hasSelectedList));this.$emit("change",this.dataList,this.hasSelectedList,i)}},generalListHandler:function(t){var e=[];return t.length?(m(t).forEach(function(t){e.push(t.value)}),e):[]},sourceListHandler:function(t){var e=this,n=[];return t.length?(m(t).forEach(function(t){for(var i in t)i===e.settingCode&&n.push(t[i])}),n):[]},initSort:function(){var t=this,e=[];if(this.typeFlag)this.isSortFlag||(this.sortCode=""),e=m(this.sourceList);else{this.isSortFlag?this.sortCode="index":this.sortCode="";for(var n=0;n<this.sourceList.length;n++)e.push({index:n,value:this.sourceList[n]})}if(this.sortCode){var i=[];if(e.forEach(function(e){i.push(e[t.sortCode])}),this.sortList=[].concat(i),this.sortList.length===this.sourceList.length){var r=m(this.dataList);this.dataList=m(this.sortDataList(r,this.sortCode,this.sortList))}}},sortDataList:function(t,e,n){var i=n;return t.sort(function(t,n){return i.indexOf(t[e])-i.indexOf(n[e])>=0})},removeFromDataList:function(t){var e=this;this.dataList=this.dataList.filter(function(n){return n[e.settingCode]!==t[e.settingCode]})},allToRight:function(){var t=this;this.leftHoverIndex=-1;var e=this.displayDataList,n=this.hasSelectedList;if(e.forEach(function(e){n.push(e),t.removeFromDataList(e)}),this.sortList.length===this.sourceList.length?this.hasSelectedList=m(this.sortDataList(n,this.sortCode,this.sortList)):this.hasSelectedList=m(n),this.typeFlag){var i=m(this.sourceListHandler(this.hasSelectedList));this.$emit("change",this.dataList,this.hasSelectedList,i)}else this.$emit("change",this.dataList,m(this.generalListHandler(this.hasSelectedList)),[])},allToLeft:function(){this.rightHoverIndex=-1;for(var t=this.hasSelectedList,e=this.dataList;t.length;){var n=t.shift();e.push(n),this.sortList.length===this.sourceList.length?this.dataList=m(this.sortDataList(e,this.sortCode,this.sortList)):this.dataList=m(e)}if(this.typeFlag){var i=m(this.sourceListHandler(this.hasSelectedList));this.$emit("change",this.dataList,this.hasSelectedList,i)}else this.$emit("change",this.dataList,m(this.generalListHandler(this.hasSelectedList)),[])},leftClick:function(t){this.leftHoverIndex=-1;var e=this.displayDataList[t],n=this.hasSelectedList;if(n.push(e),this.removeFromDataList(e),this.sortList.length===this.sourceList.length?this.hasSelectedList=m(this.sortDataList(n,this.sortCode,this.sortList)):this.hasSelectedList=m(n),this.typeFlag){var i=m(this.sourceListHandler(this.hasSelectedList));this.$emit("change",this.dataList,this.hasSelectedList,i)}else this.$emit("change",this.dataList,m(this.generalListHandler(this.hasSelectedList)),[])},rightClick:function(t){this.rightHoverIndex=-1;var e=this.hasSelectedList.splice(t,1)[0],n=this.dataList;if(n.push(e),this.sortList.length===this.sourceList.length?this.dataList=m(this.sortDataList(n,this.sortCode,this.sortList)):this.dataList=m(n),this.typeFlag){var i=m(this.sourceListHandler(this.hasSelectedList));this.$emit("change",this.dataList,this.hasSelectedList,i)}else this.$emit("change",this.dataList,m(this.generalListHandler(this.hasSelectedList)),[])},leftMouseover:function(t){this.leftHoverIndex=t},leftMouseleave:function(t){this.leftHoverIndex=-1},rightMouseover:function(t){this.rightHoverIndex=t},rightMouseleave:function(t){this.rightHoverIndex=-1}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(xp);var wp=gt(!0);W(W.S,"Object",{entries:function(t){return wp(t)}});var _p=M.Object.entries,Sp=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"bk-tree",class:[{"bk-has-border-tree":t.isBorder},t.extCls]},t._l(t.shownData,function(e,i){return n("li",{key:e[t.nodeKey]?e[t.nodeKey]:e.name,class:{leaf:t.isLeaf(e),"tree-first-node":!t.parent&&0===i,"tree-only-node":!t.parent&&1===t.shownData.length,"tree-second-node":!t.parent&&1===i,single:!t.multiple},on:{drop:function(n){t.drop(e,n)},dragover:function(e){t.dragover(e)}}},[n("div",{staticClass:"tree-drag-node",attrs:{draggable:t.draggable},on:{dragstart:function(n){t.drag(e,n)}}},[!e.parent||e.children&&e.children.length||e.async?n("span",{class:["bk-icon","tree-expanded-icon",e.expanded?"icon-down-shape":"icon-right-shape"],on:{click:function(n){t.expandNode(e)}}}):t._e(),t.multiple?n("label",{class:["bk-form-checkbox",{"bk-form-checkbox--indeterminate":e.halfcheck},{"bk-form-checkbox--checked":e.checked},{"bk-form-checkbox--disabled":e.disabled}]},[t.multiple?n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"item.checked"}],attrs:{type:"checkbox",disabled:e.disabled},domProps:{checked:se(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:[function(n){var i=e.checked,r=n.target,o=!!r.checked;if(se(i)){var a=t._i(i,null);r.checked?a<0&&t.$set(e,"checked",i.concat([null])):a>-1&&t.$set(e,"checked",i.slice(0,a).concat(i.slice(a+1)))}else t.$set(e,"checked",o)},function(n){n.stopPropagation(),t.changeCheckStatus(e,n)}]}}):t._e()]):t._e(),n("div",{staticClass:"tree-node",on:{click:function(n){t.triggerExpand(e)}}},[t.isShowIcon?n("span",{staticClass:"node-icon"},[n("i",{staticClass:"bk-icon",class:t.setNodeIcon(e)})]):t._e(),e.loading&&e.expanded?n("div",{staticClass:"bk-spin-loading bk-spin-loading-mini bk-spin-loading-primary loading"},[n("div",{staticClass:"rotate rotate1"}),n("div",{staticClass:"rotate rotate2"}),n("div",{staticClass:"rotate rotate3"}),n("div",{staticClass:"rotate rotate4"}),n("div",{staticClass:"rotate rotate5"}),n("div",{staticClass:"rotate rotate6"}),n("div",{staticClass:"rotate rotate7"}),n("div",{staticClass:"rotate rotate8"})]):t._e(),n("Render",{attrs:{node:e,tpl:t.tpl}})],1)]),n("collapse-transition",[t.isLeaf(e)?t._e():n("bk-tree",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"item.expanded"}],attrs:{"drag-after-expanded":t.dragAfterExpanded,draggable:t.draggable,"drag-sort":t.dragSort,tpl:t.tpl,data:e.children,halfcheck:t.halfcheck,parent:e,"is-delete-root":t.isDeleteRoot,multiple:t.multiple,"show-icon":t.showIcon},on:{dropTreeChecked:t.nodeCheckStatusChange,"async-load-nodes":t.asyncLoadNodes,"on-expanded":t.onExpanded,"on-click":t.onClick,"on-check":t.onCheck,"on-broadcast-check":t.onBroadcastCheck,"on-drag-node":t.onDragNode}})],1)],1)}),0)},staticRenderFns:[]},void 0,{name:"bk-tree",components:{Render:{name:"render",functional:!0,props:{node:Object,tpl:Function},render:function(t,e){var n=e.props.node.selected?"node-title node-selected":"node-title";return e.props.tpl?e.props.tpl(e.props.node,t):t("span",{domProps:{innerHTML:e.props.node.name},attrs:{title:e.props.node.title},class:n,style:"user-select: none",on:{click:function(){return e.parent.nodeSelected(e.props.node)}}})}},CollapseTransition:Jt},mixins:[Jr.mixin],props:{data:{type:Array,default:function(){return[]}},parent:{type:Object,default:function(){return null}},multiple:{type:Boolean,default:!1},nodeKey:{type:String,default:"id"},draggable:{type:Boolean,default:!1},hasBorder:{type:Boolean,default:!1},dragAfterExpanded:{type:Boolean,default:!0},isDeleteRoot:{type:Boolean,default:!1},emptyText:{type:String,default:""},dragSort:{type:Boolean,default:!1},openedIcon:{type:String,default:"icon-folder-open"},closedIcon:{type:String,default:"icon-folder"},nodeIcon:{type:String,default:"icon-file"},showIcon:{type:Boolean,default:!0},tpl:Function,extCls:{type:String,default:""}},data:function(){return{halfcheck:!0,isBorder:this.hasBorder,bkTreeDrag:{},isDragSort:this.dragSort,isShowIcon:this.showIcon}},computed:{shownData:function(){return this.data.filter(function(t){return!t.hasOwnProperty("visible")||t.visible})}},watch:{data:function(){this.initTreeData()},hasBorder:function(t){this.isBorder=!!t},dragSort:function(t){this.isDragSort=!!t},showIcon:function(t){this.isShowIcon=!!t}},mounted:function(){var t=this;this.$on("childChecked",function(e,n){if(e.children&&e.children.length){var i,r=x(e.children);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.disabled||t.$set(o,"checked",n),t.$emit("on-broadcast-check",o,n)}}catch(t){r.e(t)}finally{r.f()}}}),this.$on("parentChecked",function(e,n){if(!e.parent){var i=e.children.every(function(t){return t.checked}),r=(e.children.some(function(t){return t.halfcheck})||e.children.some(function(t){return t.checked}))&&!i;return t.halfcheck&&(e.disabled||(t.$set(e,"checked",i),t.$set(e,"halfcheck",r))),!1}e.parent.children.filter(function(n){return n[t.nodeKey]===e[t.nodeKey]}).length||e.disabled||t.$set(e,"checked",n);var o=e.parent.children.every(function(t){return t.checked}),a=(e.parent.children.some(function(t){return t.halfcheck})||e.parent.children.some(function(t){return t.checked}))&&!o;t.halfcheck?(o?(t.$set(e.parent,"halfcheck",!1),t.$set(e.parent,"checked",!0)):a?(t.$set(e.parent,"halfcheck",!0),t.$set(e.parent,"checked",!1)):(t.$set(e.parent,"halfcheck",!1),t.$set(e.parent,"checked",!1)),!n&&a&&t.$set(e.parent,"halfcheck",!0),t.$emit("parentChecked",e.parent,n)):(n&&o&&t.$emit("parentChecked",e.parent,n),n||t.$emit("parentChecked",e.parent,n))}),this.$on("on-broadcast-check",function(e,n){(e.parent||e.children)&&(t.$emit("parentChecked",e,n),t.$emit("childChecked",e,n),t.$emit("dropTreeChecked",e,n))}),this.$on("toggleshow",function(e,n){t.$set(e,"visible",n),n&&e.parent&&t.$emit("toggleshow",e.parent,n)}),this.$on("cancelSelected",function(t){var e,n=x(t.$children);try{for(n.s();!(e=n.n()).done;){var i,r=e.value,o=x(r.data);try{for(o.s();!(i=o.n()).done;){var a=i.value;r.$set(a,"selected",!1)}}catch(t){o.e(t)}finally{o.f()}r.$children&&r.$emit("cancelSelected",r)}}catch(t){n.e(t)}finally{n.f()}}),this.initTreeData()},destroyed:function(){this.$delete(window,"bkTreeDrag")},methods:{gid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},setDragNode:function(t,e){window.bkTreeDrag={},window.bkTreeDrag[t]=e},getDragNode:function(t){return window.bkTreeDrag[t]},hasInGenerations:function(t,e){if(t.hasOwnProperty("children")&&t.children){var n,i=x(t.children);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r===e)return!0;if(r.children)return this.hasInGenerations(r,e)}}catch(t){i.e(t)}finally{i.f()}return!1}},isDragSortHolder:function(t,e){if(t.hasOwnProperty("children")&&t.children){var n,i=x(t.children);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r[this.nodeKey]===e[this.nodeKey])return!1;if(r.children)return this.isDragSortHolder(r,e)}}catch(t){i.e(t)}finally{i.f()}return!0}},setNodeIcon:function(t){return t.children&&t.children.length?t.expanded?t.openedIcon||this.openedIcon:t.closedIcon||this.closedIcon:t.icon||this.nodeIcon},drop:function(t,e){var n=this;if(e.preventDefault(),e.stopPropagation(),this.draggable){var i=e.dataTransfer.getData("gid"),r=this.getDragNode(i);if(r.parent===t||null===r.parent||r===t)return!1;if(this.hasInGenerations(r,t))return!1;if(this.isDragSort){if([!0,!1].includes(this.isDragSortHolder(t,r))&&!this.isDragSortHolder(t,r))return!1;var o=r.parent.children.findIndex(function(t){return t[n.nodeKey]===r[n.nodeKey]}),a=t.parent.children.findIndex(function(e){return e[n.nodeKey]===t[n.nodeKey]});r.parent.children.splice(o,1,t),t.parent.children.splice(a,1,r),t.parent.children[a].parent=r.parent,this.multiple&&this.$emit("on-broadcast-check",r,r.checked),r.parent.children[o].parent=t.parent,this.multiple&&this.$emit("on-broadcast-check",t,t.checked)}else{var s=r.parent.children;t.children&&-1===t.children.indexOf(r)?(t.children.push(r),t.children.length&&this.isShowIcon&&(this.$set(t,"openedIcon",this.openedIcon),this.$set(t,"closedIcon",this.closedIcon)),s.splice(s.indexOf(r),1),this.isShowIcon&&(r.parent.children&&r.parent.children.length?(this.$set(r.parent,"openedIcon",this.openedIcon),this.$set(r.parent,"closedIcon",this.closedIcon)):this.$set(r.parent,"icon",this.nodeIcon)),t.children[t.children.length-1].parent=t):(this.isShowIcon&&(this.$set(t,"openedIcon",this.openedIcon),this.$set(t,"closedIcon",this.closedIcon)),this.$set(t,"children",[r]),s.splice(s.indexOf(r),1)),this.$set(t,"expanded",this.dragAfterExpanded)}this.$emit("on-drag-node",{dragNode:r,targetNode:t})}},drag:function(t,e){var n=this.gid();this.setDragNode(n,t),e.dataTransfer.setData("gid",n),e.dataTransfer.effectAllowed="move"},dragover:function(t){t.preventDefault(),t.stopPropagation()},initTreeData:function(){var t,e=x(this.data);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.$set(n,"parent",this.parent),n.children&&n.children.length?n.hasOwnProperty("icon")&&this.$delete(n,"icon"):(n.hasOwnProperty("openedIcon")&&this.$delete(n,"openedIcon"),n.hasOwnProperty("closedIcon")&&this.$delete(n,"closedIcon")),this.multiple?(n.hasOwnProperty("selected")&&this.$delete(n,"selected"),n.hasOwnProperty("checked")&&n.checked&&this.$emit("on-broadcast-check",n,!0)):n.hasOwnProperty("checked")&&this.$delete(n,"checked")}}catch(t){e.e(t)}finally{e.f()}},expandNode:function(t){this.$set(t,"expanded",!t.expanded),t.async&&!t.children&&this.$emit("async-load-nodes",t),t.children&&t.children.length&&this.$emit("on-expanded",t,t.expanded)},onExpanded:function(t){t.children&&t.children.length&&this.$emit("on-expanded",t,t.expanded)},triggerExpand:function(t){(!t.parent||t.children&&t.children.length||t.async)&&this.expandNode(t)},asyncLoadNodes:function(t){t.async&&!t.children&&this.$emit("async-load-nodes",t)},isLeaf:function(t){return!(t.children&&t.children.length)&&t.parent&&!t.async},addNode:function(t,e){var n={};if(this.$set(t,"expanded",!0),void 0===e)throw new ReferenceError("newNode is required but undefined");if("object"===o(e)&&!e.hasOwnProperty("name"))throw new ReferenceError("the name property is missed");if("object"===o(e)&&!e.hasOwnProperty(this.nodeKey))throw new ReferenceError("the nodeKey property is missed");"object"===o(e)&&e.hasOwnProperty("name")&&e.hasOwnProperty(this.nodeKey)&&(n=d({},e)),this.isLeaf(t)?(this.$set(t,"children",[]),t.children.push(n)):t.children.push(n),this.$emit("addNode",{parentNode:t,newNode:e})},addNodes:function(t,e){var n,i=x(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.addNode(t,r)}}catch(t){i.e(t)}finally{i.f()}},getSearchResult:function(){for(var t=[],e=0;e<this.data.length;e++){var n=[];for(n.push(this.data[e]);n.length;){var i=n.shift();if(i.children&&i.children.length){var r=[];r.splice.apply(r,[0,0].concat(m(i.children))),n.push.apply(n,r)}t.push(i)}}return{results:t.filter(function(t){return t.hasOwnProperty("visible")&&t.visible}),isEmpty:t.every(function(t){return t.hasOwnProperty("visible")&&!t.visible})}},onClick:function(t){this.$emit("on-click",t)},onCheck:function(t,e){this.$emit("on-check",t,e)},onBroadcastCheck:function(t,e){this.$emit("on-broadcast-check",t,e)},nodeCheckStatusChange:function(t,e){this.$emit("dropTreeChecked",t,e)},onDragNode:function(t){this.$emit("on-drag-node",t)},delNode:function(t,e){if(null==t){if(!this.isDeleteRoot)throw new ReferenceError("the root element can't deleted!");this.data.splice(0,1)}else t.children.splice(t.children.indexOf(e),1);this.$emit("delNode",{parentNode:t,delNode:e})},changeCheckStatus:function(t,e){this.$emit("on-check",t,e.target.checked),this.$emit("on-broadcast-check",t,e.target.checked)},nodeSelected:function(t){var e=function t(e){return"UL"===e.$parent.$el.nodeName?t(e=e.$parent):e}(this);if(!this.multiple){var n,i=x(e.data||[]);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.$set(r,"selected",!1),this.$emit("cancelSelected",e)}}catch(t){i.e(t)}finally{i.f()}}this.$set(t,"selected",!t.selected),this.$emit("on-click",t)},nodeDataHandler:function(t,e,n){var i,r=[],o=n,a=x(e=e||this.data);try{for(a.s();!(i=a.n()).done;){for(var s=i.value,l=0,u=_p(t);l<u.length;l++){var c=v(u[l],2),h=c[0],f=c[1];if(s[h]===f)if(o.length&&o){var p={};if("[object Array]"===Object.prototype.toString.call(o))for(var g=0;g<o.length;g++)s.hasOwnProperty(o[g])&&(p[o[g]]=s[o[g]]);"[object String]"===Object.prototype.toString.call(o)&&(p[o]=s[o]),s.children&&s.children.length||r.push(p)}else{var m=d({},s);delete m.parent,m.children&&m.children.length||r.push(m)}}s.children&&s.children.length&&(r=r.concat(this.nodeDataHandler(t,s.children,o)))}}catch(t){a.e(t)}finally{a.f()}return r},getNode:function(t){return this.multiple?this.nodeDataHandler({checked:!0},this.data,t):this.nodeDataHandler({selected:!0},this.data,t)},searchNode:function(t,e){var n,i=x(e=e||this.data);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=!!t&&("function"==typeof t?t(r):r.name.indexOf(t)>-1);this.$set(r,"searched",o),this.$set(r,"visible",!1),this.$emit("toggleshow",r,!t||o),r.children&&r.children.length&&(o&&this.$set(r,"expanded",!0),this.searchNode(t,r.children))}}catch(t){i.e(t)}finally{i.f()}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Sp);var Mp,Cp=_(function(t,e){t.exports=function(t){var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(t,e){var n=t[0],i=t[1],r=t[2],o=t[3];i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+e[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&i)+e[2]+606105819|0)<<17|r>>>15)+o|0)&o|~r&n)+e[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+e[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&i)+e[6]-1473231341|0)<<17|r>>>15)+o|0)&o|~r&n)+e[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+e[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&i)+e[10]-42063|0)<<17|r>>>15)+o|0)&o|~r&n)+e[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+e[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&i)+e[14]-1502002290|0)<<17|r>>>15)+o|0)&o|~r&n)+e[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+e[6]-1069501632|0)<<9|o>>>23)+n|0)&i|n&~i)+e[11]+643717713|0)<<14|r>>>18)+o|0)&n|o&~n)+e[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+e[10]+38016083|0)<<9|o>>>23)+n|0)&i|n&~i)+e[15]-660478335|0)<<14|r>>>18)+o|0)&n|o&~n)+e[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+e[14]-1019803690|0)<<9|o>>>23)+n|0)&i|n&~i)+e[3]-187363961|0)<<14|r>>>18)+o|0)&n|o&~n)+e[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+e[2]-51403784|0)<<9|o>>>23)+n|0)&i|n&~i)+e[7]+1735328473|0)<<14|r>>>18)+o|0)&n|o&~n)+e[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+e[8]-2022574463|0)<<11|o>>>21)+n|0)^n^i)+e[11]+1839030562|0)<<16|r>>>16)+o|0)^o^n)+e[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+e[4]+1272893353|0)<<11|o>>>21)+n|0)^n^i)+e[7]-155497632|0)<<16|r>>>16)+o|0)^o^n)+e[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+e[0]-358537222|0)<<11|o>>>21)+n|0)^n^i)+e[3]-722521979|0)<<16|r>>>16)+o|0)^o^n)+e[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+e[12]-421815835|0)<<11|o>>>21)+n|0)^n^i)+e[15]+530742520|0)<<16|r>>>16)+o|0)^o^n)+e[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+e[7]+1126891415|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[14]-1416354905|0)<<15|r>>>17)+o|0)|~n))+e[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+e[3]-1894986606|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[10]-1051523|0)<<15|r>>>17)+o|0)|~n))+e[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+e[15]-30611744|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[6]-1560198380|0)<<15|r>>>17)+o|0)|~n))+e[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+e[11]-1120210379|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[2]+718787259|0)<<15|r>>>17)+o|0)|~n))+e[9]-343485551|0)<<21|i>>>11)+r|0,t[0]=n+t[0]|0,t[1]=i+t[1]|0,t[2]=r+t[2]|0,t[3]=o+t[3]|0}function i(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function o(t){var e,r,o,a,s,l,u=t.length,c=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=u;e+=64)n(c,i(t.substring(e-64,e)));for(r=(t=t.substring(e-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<r;e+=1)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(n(c,o),e=0;e<16;e+=1)o[e]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),l=parseInt(a[1],16)||0,o[14]=s,o[15]=l,n(c,o),c}function a(t){var n,i="";for(n=0;n<4;n+=1)i+=e[t>>8*n+4&15]+e[t>>8*n&15];return i}function s(t){var e;for(e=0;e<t.length;e+=1)t[e]=a(t[e]);return t.join("")}function l(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function u(t){var e,n=[],i=t.length;for(e=0;e<i-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function c(){this.reset()}return s(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(e,n){var i,r,o,a,s=this.byteLength,l=t(e,s),u=s;return void 0!==n&&(u=t(n,s)),l>u?new ArrayBuffer(0):(i=u-l,r=new ArrayBuffer(i),o=new Uint8Array(r),a=new Uint8Array(this,l,i),o.set(a),r)}}(),c.prototype.append=function(t){return this.appendBinary(l(t)),this},c.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,r=this._buff.length;for(e=64;e<=r;e+=64)n(this._hash,i(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},c.prototype.end=function(t){var e,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)o[e>>2]|=i.charCodeAt(e)<<(e%4<<3);return this._finish(o,r),n=s(this._hash),t&&(n=u(n)),this.reset(),n},c.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},c.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},c.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},c.prototype._finish=function(t,e){var i,r,o,a=e;if(t[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,t),a=0;a<16;a+=1)t[a]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),o=parseInt(i[1],16)||0,t[14]=r,t[15]=o,n(this._hash,t)},c.hash=function(t,e){return c.hashBinary(l(t),e)},c.hashBinary=function(t,e){var n=s(o(t));return e?u(n):n},c.ArrayBuffer=function(){this.reset()},c.ArrayBuffer.prototype.append=function(t){var e,i,o,a,s=(i=this._buff.buffer,o=t,!0,(a=new Uint8Array(i.byteLength+o.byteLength)).set(new Uint8Array(i)),a.set(new Uint8Array(o),i.byteLength),a),l=s.length;for(this._length+=t.byteLength,e=64;e<=l;e+=64)n(this._hash,r(s.subarray(e-64,e)));return this._buff=e-64<l?new Uint8Array(s.buffer.slice(e-64)):new Uint8Array(0),this},c.ArrayBuffer.prototype.end=function(t){var e,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)o[e>>2]|=i[e]<<(e%4<<3);return this._finish(o,r),n=s(this._hash),t&&(n=u(n)),this.reset(),n},c.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.ArrayBuffer.prototype.getState=function(){var t,e=c.prototype.getState.call(this);return e.buff=(t=e.buff,String.fromCharCode.apply(null,new Uint8Array(t))),e},c.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var n,i=t.length,r=new ArrayBuffer(i),o=new Uint8Array(r);for(n=0;n<i;n+=1)o[n]=t.charCodeAt(n);return o}(t.buff),c.prototype.setState.call(this,t)},c.ArrayBuffer.prototype.destroy=c.prototype.destroy,c.ArrayBuffer.prototype._finish=c.prototype._finish,c.ArrayBuffer.hash=function(t,e){var i=s(function(t){var e,i,o,a,s,l,u=t.length,c=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=u;e+=64)n(c,r(t.subarray(e-64,e)));for(i=(t=e-64<u?t.subarray(e-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<i;e+=1)o[e>>2]|=t[e]<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(n(c,o),e=0;e<16;e+=1)o[e]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),l=parseInt(a[1],16)||0,o[14]=s,o[15]=l,n(c,o),c}(new Uint8Array(t)));return e?u(i):i},c}()}),Ip=function(t){if(!t)return t||{};try{return JSON.parse(t)}catch(e){return t||{}}},kp=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,Tp=(Mp=s(te.mark(function t(e){var n,i,r,o,a;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=1024*e.chunkSize*1024,i=e.fileObj.origin){t.next=5;break}return(void 0).$bkMessage({theme:"warning",message:"没有获取到文件",offsetY:80}),t.abrupt("return");case 5:return r=Math.ceil(i.size/n),t.next=8,Ep(i,n);case 8:return o=t.sent,Op(e,i,r,o,a=[],n),t.next=13,yu.all(a).then(function(){var t={size:i.size,name:i.name,total:r,hash:o},n=new XMLHttpRequest;n.open(e.method,e.mergeUrl,!0),n.onreadystatechange=function(){if(4===n.readyState){var t=Ip(n.responseText||n.response);n.status<200||n.status>=300?(e.fileObj.progress="100%",e.fileObj.errorMsg=t.message||Vr("bk.uploadFile.uploadFailed"),e.onError(e.fileObj,e.fileList,n.response)):e.onSuccess(t,e.fileObj),e.onDone(e.fileObj)}},n.setRequestHeader("Content-type","application/JSON"),n.send(In(t))});case 13:case"end":return t.stop()}},t)})),function(t){return Mp.apply(this,arguments)}),Op=function(t,e,n,i,r,o){for(var a=function(a){var s=new yu(function(r,s){var l=a*o,u=Math.min(e.size,l+o),c=new FormData;t.data.forEach(function(t){c.append(t.name,t.value)}),c.append("file",kp.call(e,l,u)),c.append("name",e.name),c.append("total",n),c.append("index",a),c.append("size",e.size),c.append("hash",i);var h=new XMLHttpRequest;if(t.fileObj.xhr=h,h.onreadystatechange=function(){if(4===h.readyState){var e=Ip(h.responseText||h.response);h.status<200||h.status>=300?(s(h.response),t.fileObj.progress="100%",t.fileObj.errorMsg=e.message||Vr("bk.uploadFile.uploadFailed"),t.onError(t.fileObj,t.fileList,h.response)):r("reponseText"),t.onDone(t.fileObj)}},h.upload.addEventListener("progress",function(e){return t.onProgress(e,a)},!1),h.withCredentials=t.withCredentials,h.open(t.method,t.sliceUrl,!0),t.header)if(se(t.header))t.header.forEach(function(t){var e=t.name,n=t.value;h.setRequestHeader(e,n)});else{var d=t.header.name,f=t.header.value;h.setRequestHeader(d,f)}h.send(c)});r.push(s)},s=0;s<n;s++)a(s)},Ep=function(t,e){return new yu(function(n,i){var r=Math.ceil(t.size/e),o=0,a=new Cp.ArrayBuffer,s=new FileReader;function l(){var n=o*e,i=n+e>=t.size?t.size:n+e;s.readAsArrayBuffer(kp.call(t,n,i))}s.onload=function(e){if(a.append(e.target.result),(o+=1)<r)l();else{var i=a.end(),s=new Cp;s.append(i),s.append(t.name);var u=s.end();n(u)}},s.onerror=function(){(void 0).$bkMessage({theme:"warning",message:"文件分片失败",offsetY:80})},l()}).catch(function(t){console.log(t)})},Ap=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["bk-upload",t.theme,t.extCls]},["picture"===t.theme&&t.multiple&&t.fileList.length?t._l(t.fileList,function(e,i){return n("div",{key:i,staticClass:"pic-item",class:{fail:e.errorMsg}},[n("img",{attrs:{src:e.url}}),"running"===e.status?n("div",{staticClass:"uploading-status"},[n("span",[t._v(t._s(t.t("bk.uploadFile.uploading")))]),n("div",{staticClass:"progress-bar-wrapper"},[n("div",{staticClass:"progress-bar uploading",style:{width:t.fileList[0].progress}})])]):t._e(),e.done||e.errorMsg?n("div",{staticClass:"mask"},[e.errorMsg?n("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:e.errorMsg,expression:"file.errorMsg",modifiers:{top:!0}}],staticClass:"fail-tips"}):t._e(),n("i",{staticClass:"bk-icon icon-close delete-file",on:{click:function(n){t.deleteFile(i,e)}}})]):t._e()])}):t._e(),n("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:{disabled:"picture"!==t.theme||t.multiple||0===t.fileList.length||t.fileList.length>1||!t.fileList[0].errorMsg,content:t.fileList.length&&t.fileList[0].errorMsg},expression:"{\n      disabled: theme !== 'picture' || multiple || fileList.length === 0 || fileList.length > 1 || !fileList[0].errorMsg,\n      content: fileList.length && fileList[0].errorMsg\n    }"}],staticClass:"file-wrapper",class:{isdrag:t.isdrag},attrs:{tabindex:"0","bk-lableName":t.labelText},on:{keydown:t.handleWrapEnter}},["draggable"===t.theme?n("div",[n("i",{staticClass:"bk-icon upload-icon icon-upload-cloud"}),n("p",{staticClass:"text-area"},[n("span",{staticClass:"drop-upload"},[t._v(t._s(t.dragText))]),n("span",{staticClass:"click-upload"},[t._v(t._s(t.clickText))])])]):t._e(),"picture"===t.theme?n("div",{staticClass:"picture-btn"},[[t.multiple||0===t.fileList.length?n("div",{staticClass:"upload-btn"},[n("i",{staticClass:"bk-icon icon-plus-line"}),n("div",[t._v(t._s(t.t("bk.uploadFile.click")))])]):n("div",{staticClass:"pic-item",class:{fail:!t.multiple&&t.fileList.length&&t.fileList[0].errorMsg}},["running"===t.fileList[0].status?n("div",{staticClass:"uploading-status"},[n("span",[t._v(t._s(t.t("bk.uploadFile.uploading")))]),n("div",{staticClass:"progress-bar-wrapper"},[n("div",{staticClass:"progress-bar uploading",style:{width:t.fileList[0].progress}})])]):t._e(),t.fileList[0].errorMsg?n("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:t.fileList[0].errorMsg,expression:"fileList[0].errorMsg",modifiers:{top:!0}}],staticClass:"fail-status"},[n("i",{staticClass:"bk-icon icon-image error-pic"}),n("div",{staticClass:"reupload"},[t._v(t._s(t.t("bk.uploadFile.reupload")))]),n("i",{staticClass:"bk-icon icon-close delete-file error",on:{click:function(e){t.deleteFile(0,t.fileList[0])}}})]):t._e(),"done"!==t.fileList[0].status||t.fileList[0].errorMsg?t._e():n("div",{staticClass:"uploaded-status"},[n("img",{attrs:{src:t.fileList[0].url}}),n("div",{staticClass:"mask"},[t._v("\n              "+t._s(t.t("bk.uploadFile.replace"))+"\n              "),n("i",{staticClass:"bk-icon icon-close delete-file",on:{click:function(e){t.deleteFile(0,t.fileList[0])}}})])])])]],2):t._e(),n("input",{ref:"uploadel",attrs:{tabindex:"-1",accept:t.acceptTypes,multiple:t.multiple,disabled:t.disabled,type:"file"},on:{change:t.selectFile}})]),t.tip?n("p",{staticClass:"tip"},[t._v(t._s(t.tip))]):t._e(),t.fileList.length&&"picture"!==t.theme?n("div",{staticClass:"all-file"},t._l(t.fileList,function(e,i){return n("div",{key:i},[n("div",{staticClass:"file-item",class:{"file-item-fail":e.errorMsg}},[n("div",{staticClass:"file-icon"},[t.isImageType(e.type)?n("img",{attrs:{src:e.url}}):n("i",{class:t.getIcon(e)})]),n("i",{staticClass:"bk-icon icon-close close-upload",on:{click:function(n){t.deleteFile(i,e)}}}),n("div",{staticClass:"file-info"},[n("div",{staticClass:"file-name"},[n("span",[t._v(t._s(e.name))])]),n("div",{staticClass:"file-message"},[n("span",{directives:[{name:"show",rawName:"v-show",value:!e.done&&"running"===e.status,expression:"!file.done && file.status === 'running'"}],staticClass:"upload-speed"},[t._v(t._s(t.speed)+t._s(t.unit))]),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.done,expression:"!file.done"}],staticClass:"file-size"},[t._v(t._s(t.filesize(e.size)))]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.done,expression:"file.done"}],staticClass:"file-size done"},[t._v(t._s(t.t("bk.uploadFile.uploadDone")))])]),e.errorMsg?n("p",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"error-msg"},[t._v(t._s(e.errorMsg))]):n("div",{staticClass:"progress-bar-wrapper"},[n("div",{staticClass:"progress-bar",class:{success:e.done,uploading:"running"===e.status&&!e.errorMsg},style:{width:e.progress}})])])])])}),0):t._e()],2)},staticRenderFns:[]},void 0,{name:"bk-upload",directives:{bkOverflowTips:Uf},mixins:[Jr.mixin],props:{theme:{type:String,default:"draggable"},files:{type:Array,default:function(){return[]}},name:{type:String,default:"upload_file"},multiple:{type:Boolean,default:!0},accept:{type:String},delayTime:{type:Number,default:0},url:{required:!1,type:String},size:{type:[Number,Object],default:function(){return{maxFileSize:5,maxImgSize:1}}},handleResCode:{type:Function,default:function(t){return!(!t||0!==t.code)}},header:[Array,Object],tip:{type:String,default:""},validateName:{type:RegExp},withCredentials:{type:Boolean,default:!1},limit:Number,formDataAttributes:{type:Array,default:function(){return[]}},extCls:{type:String,default:""},customRequest:Function,sliceUpload:{type:Boolean,default:!1},sliceUrl:{type:String,default:""},mergeUrl:{type:String,default:""},chunkSize:{type:Number,default:10}},data:function(){return{dragText:"",clickText:"",showDialog:!0,labelText:"",fileList:[],width:0,barEl:null,fileIndex:null,speed:0,total:0,unit:"kb/s",isdrag:!1,progress:0}},computed:{disabled:function(){return"picture"===this.theme&&!this.multiple&&1===this.fileList.length&&"running"===this.fileList[0].status},acceptTypes:function(){return"picture"===this.theme&&void 0===this.accept?"image/png,image/jpeg,image/jpg":this.accept}},watch:{fileIndex:function(t){null!==t&&t<this.fileList.length&&(this.fileList[t].done?this.fileIndex++:this.uploadFile(this.fileList[t]))},files:{immediate:!0,deep:!0,handler:function(t){var e=this;this.fileList=t.map(function(t){return e.fileIndex++,d({status:"done",done:!0,progress:"100%",name:"image.png".concat(oo())},t)})}}},created:function(){this.dragText=this.t("bk.uploadFile.drag"),this.clickText=this.t("bk.uploadFile.click"),this.labelText=this.t("bk.uploadFile.uploadLabel")},mounted:function(){var t=this;if("draggable"===this.theme){var e=this.$refs.uploadel;e.addEventListener("dragenter",function(e){t.isdrag=!0}),e.addEventListener("dragleave",function(e){t.isdrag=!1}),e.addEventListener("dragend",function(e){t.isdrag=!1})}},methods:{isImageType:function(t){return!!t&&t.split("/").includes("image")},getValidTypeFiles:function(t){var e=this;return t.filter(function(t){var n=t.type,i=t.name,r=i.indexOf(".")>-1?".".concat(i.split(".").pop()):"",o=n.replace(/\/.*$/,"");return e.acceptTypes.split(",").map(function(t){return t.trim()}).filter(function(t){return t}).some(function(t){return/\..+$/.test(t)?r===t:/\/\*$/.test(t)?o===t.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(t)&&n===t})})},filesize:function(t){var e=t/1e3;if(e<1)return"".concat(t.toFixed(3)," KB");var n=e.toString().indexOf(".");return"".concat(e.toString().slice(0,n+2)," MB")},handleWrapEnter:function(t){t.target===t.currentTarget&&(13!==t.keyCode&&32!==t.keyCode||!this.$refs.uploadel||(this.$refs.uploadel.value=null,this.$refs.uploadel.click()))},selectFile:function(t){var e=Uo(t.target.files),n=this.acceptTypes?this.getValidTypeFiles(e):e;if(n.length){if("number"==typeof this.limit&&1!==this.limit&&n.length+this.fileList.length>this.limit)return t.target.value="",void this.$emit("on-exceed",t.target.files,this.fileList);var i=this;n.forEach(function(t,e){var n={name:t.name,originSize:t.size,size:t.size/1e3,maxFileSize:null,maxImgSize:null,type:t.type,fileHeader:"",origin:t,url:"",sliceUrl:"",mergeUrl:"",chunkSize:10,base64:"",status:"",done:!1,responseData:"",speed:null,errorMsg:"",progress:""},r=n.type.indexOf("/"),o=n.type.slice(0,r);n.fileHeader=o,"number"==typeof i.size?(n.maxFileSize=i.size,n.maxImgSize=i.size):(n.maxFileSize=i.size.maxFileSize,n.maxImgSize=i.size.maxImgSize);var a=!(i.accept||"").split(",").some(function(t){return t.indexOf("image")<0});("image"===o||a)&&i.handleImage(n,t),"image"!==o&&n.size>1e3*n.maxFileSize&&(n.errorMsg=i.t("bk.uploadFile.fileExceedMsg",{fileName:n.name,size:n.maxFileSize})),i.validateName&&(i.validateName.test(n.name)||(n.errorMsg=i.t("bk.uploadFile.invalidFileName"))),"picture"===i.theme&&!i.multiple||1===i.limit?i.fileList=[n]:i.fileList.push(n)});var r=this.fileList.length,o=this.fileIndex;r-1===o?this.uploadFile(this.fileList[o]):this.fileIndex=0,t.target.value=""}else t.target.value=""},hideFileList:function(){var t=this;this.delayTime&&setTimeout(function(){t.fileList=[]},this.delayTime)},uploadFile:function(t){var e=this;if(t.errorMsg)return this.fileIndex+=1,t.progress="100%",void this.$emit("on-error",t,this.fileList);var n=[],i={fileName:this.name,fileObj:t,fileList:this.fileList,data:this.formDataAttributes||[],withCredentials:this.withCredentials,method:"POST",header:this.header,url:this.url,sliceUrl:this.sliceUrl,mergeUrl:this.mergeUrl,chunkSize:this.chunkSize,onProgress:function(i,r){!function(i,r){if(i.lengthComputable&&!e.sliceUpload){var o=r||Math.round(100*i.loaded/i.total),a=Math.round(i.loaded/1e3);t.progress=o+"%",e.speed=a-e.total,e.total=a,e.unit="kb/s",e.speed>1e3&&(e.speed=Math.round(e.speed/1e3),e.unit="mb/s"),e.$emit("on-progress",i,t,e.fileList)}if(i.lengthComputable&&e.sliceUpload){n[r]=i.loaded;var s=n.reduce(function(t,e){return t+e}),l=Math.round(s/1e3);e.speed=l-e.total,e.total=l,e.unit="kb/s",e.speed>1e3&&(e.speed=Math.round(e.speed/1e3),e.unit="mb/s"),t.progress=Math.round(100*s/t.origin.size)+"%","100%"===t.progress&&e.$emit("on-progress",i,t,e.fileList)}t.status="running"}(i,r)},onSuccess:function(t,n){e.handleSuccess(t,n)},onError:function(t,n,i){e.$emit("on-error",t,n,i)},onDone:function(t){e.handleDone(t)}};this.isdrag=!1,(this.customRequest?this.customRequest:this.sliceUpload?Tp:function(t){var e=new XMLHttpRequest;t.fileObj.xhr=e;var n=new FormData;if(t.data.forEach(function(t){n.append(t.name,t.value)}),n.append(t.fileName,t.fileObj.origin),e.onreadystatechange=function(){if(4===e.readyState){var n=Ip(e.responseText||e.response);e.status<200||e.status>=300?(t.fileObj.progress="100%",t.fileObj.errorMsg=n.message||Vr("bk.uploadFile.uploadFailed"),t.onError(t.fileObj,t.fileList,e.response)):t.onSuccess(n,t.fileObj),t.onDone(t.fileObj)}},e.upload.addEventListener("progress",t.onProgress,!1),e.withCredentials=t.withCredentials,e.open(t.method,t.url,!0),t.header)if(se(t.header))t.header.forEach(function(t){var n=t.name,i=t.value;e.setRequestHeader(n,i)});else{var i=t.header.name,r=t.header.value;e.setRequestHeader(i,r)}return e.send(n),{abort:function(){e.abort()}}})(i)},handleSuccess:function(t,e){this.handleResCode(t)?(e.done=!0,e.responseData=t,this.$emit("on-success",e,this.fileList)):(e.errorMsg=t.message||this.t("bk.uploadFile.uploadFailed"),this.$emit("on-error",e,this.fileList))},handleDone:function(t){this.fileIndex+=1,this.unit="kb/s",this.total=0,t.status="done",this.fileIndex===this.fileList.length&&(this.$emit("on-done",this.fileList),this.hideFileList())},handleImage:function(t,e){var n=this;if(t.size>1e3*t.maxImgSize)return t.errorMsg=this.t("bk.uploadFile.imageExceedMsg",{imgSize:t.maxImgSize}),!1;var i=new FileReader;return i.onload=function(e){n.smallImage(i.result,t)},i.readAsDataURL(e),!0},smallImage:function(t,e){var n=this,i=new Image,r=document.createElement("canvas"),o=r.getContext("2d");i.onload=function(){var t=i.width,a=i.height,s="picture"===n.theme?90:36,l=s,u=t,c=a;(t>s||a>l)&&(t/a>s/l?(u=s,c=Math.round(s*(a/t))):(u=s,c=l)),r.width=u,r.height=c,o.clearRect(0,0,u,c),o.drawImage(i,0,0,u,c);var h=r.toDataURL();e.url=h,e.base64=h},i.src=t},getIcon:function(t){return["application/zip","application/rar","application/tar","application/gz"].includes(t.type)?"bk-icon icon-compressed-file":"bk-icon icon-text-file"},deleteFile:function(t,e){e.xhr&&e.xhr.abort(),this.fileList.splice(t,1),this.fileList.length||(this.fileIndex=null),this.$emit("on-delete",e,this.fileList)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Ap);var Np=Ct({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"bk-grid-container",class:this.extCls,style:this.style},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"bk-container",props:{col:{type:Number,default:24,validator:function(t){return!(t<=0&&(console.error("col property is not valid: '".concat(t,"'")),1))}},gutter:{type:Number,default:20,validator:function(t){return!(t<0&&(console.error("gutter property is not valid: '".concat(t,"'")),1))}},margin:{type:Number,default:20,validator:function(t){return!(t<0&&(console.error("margin property is not valid: '".concat(t,"'")),1))}},flex:{type:Boolean,default:!1},extCls:{type:String,default:""}},provide:function(){return{col:this.col,gutter:this.gutter,flex:this.flex}},computed:{style:function(){var t=this.margin;return{"padding-right":"".concat(t,"px"),"padding-left":"".concat(t,"px")}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Np);var Lp=Ct({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"bk-grid-col",style:this.style},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"bk-col",props:{span:{type:Number,default:1},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0}},provide:function(){return{flex:this.flex,gutter:this.gutter,col:this.realSpan}},inject:["col","gutter","flex"],computed:{realSpan:function(){return this.span||this.col},width:function(){var t=this.col;return ao(this.realSpan/t)},style:function(){var t=this.width,e=this.gutter,n=this.col,i=this.offset,r=this.pull,o=this.push;return{width:t,"padding-right":"".concat(e/2,"px"),"padding-left":"".concat(e/2,"px"),"margin-left":i?ao(i/n):null,right:r?ao(r/n):null,left:o?ao(o/n):null}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Lp);var Dp=Ct({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"bk-grid-row",style:this.style},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"bk-row",provide:function(){return{col:this.col,gutter:this.gutter,flex:this.flex}},inject:["col","gutter","flex"],computed:{style:function(){var t=this.flex,e=this.gutter;return f({},t?{display:["-webkit-box","-ms-flexbox","flex"]}:{},{"margin-right":"-".concat(e/2,"px"),"margin-left":"-".concat(e/2,"px")})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Dp);var jp=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"bk-rate-stars"},t._l(t.maxStars,function(e,i){return n("svg",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:{content:t.tooltips[i],disabled:!t.tooltips[i]},expression:"{ content: tooltips[index], disabled: !tooltips[index] }"}],key:i,class:[{"bk-yellow":i<Math.floor(t.displayRate)},{"bk-is-edit":t.edit},"bk-rate-star"],style:{width:t.width+"px",height:t.height+"px","min-width":t.width+"px"},attrs:{x:"0px",y:"0px",viewBox:"0 0 64 64"},on:{click:function(e){t.chooseRate(i)},mouseenter:function(e){t.changeHover(i)}}},[n("g",{attrs:{transform:"translate(-143.000000, -635.000000)"}},[n("g",{attrs:{transform:"translate(83.000000, 114.000000)"}},[n("g",{attrs:{transform:"translate(15.000000, 384.000000)"}},[n("g",{attrs:{transform:"translate(29.000000, 137.000000)"}},[n("polygon",{staticClass:"st1",attrs:{points:"48,53 28.2,63.9 32,40.8 16,24.4 38.1,21 48,-0.1 57.8,21 79.9,24.4 63.9,40.8 67.7,63.9"}})])])])])])}),0)},staticRenderFns:[]},void 0,{name:"bk-star",props:{rate:{type:Number,default:0},width:{type:Number,default:15},height:{type:Number,default:16},edit:{type:Boolean,default:!0},hoverRate:{type:Number,default:0},tooltips:{type:Array,default:function(){return[]}},maxStars:{type:Number,default:5}},computed:{displayRate:function(){return this.hoverRate||this.rate}},methods:{chooseRate:function(t){if(this.edit){var e=t+1;this.$emit("chooseRate",e)}},changeHover:function(t){if(this.edit){var e=t+1;this.$emit("changeHover",e)}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Pp=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"bk-score-group",class:t.extCls},[t.edit?[n("bk-star",{attrs:{rate:t.rate,"hover-rate":t.hoverRate,width:t.width,height:t.height,tooltips:t.tooltips},on:{chooseRate:t.chooseRate,changeHover:t.changeHover},nativeOn:{mouseleave:function(e){t.changeHover(0)}}})]:[n("bk-star",{staticClass:"bk-score-real",style:{width:t.starWidth},attrs:{rate:5,width:t.width,height:t.height,edit:!1,tooltips:t.tooltips}}),n("bk-star",{attrs:{rate:0,width:t.width,height:t.height,edit:!1,tooltips:t.tooltips}})]],2)},staticRenderFns:[]},void 0,{name:"bk-rate",components:{bkStar:jp},props:{rate:{type:Number,default:0},width:{type:Number,default:15},height:{type:Number,default:16},edit:{type:Boolean,default:!0},tooltips:{type:Array,default:function(){return[]}},extCls:{type:String,default:""}},data:function(){return{hoverRate:0}},computed:{starWidth:function(){var t=Math.floor(this.rate),e=(this.width+3)*t,n=this.width*(this.rate-t);return"".concat(e+n,"px")}},methods:{chooseRate:function(t){this.edit&&(this.$emit("update:rate",t),this.$emit("score",t))},changeHover:function(t){this.hoverRate=t}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Pp),Et(jp);var Rp=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.sourceList.length?n("section",{ref:"swiper",staticClass:"bk-swiper-home",class:t.extCls},[n("hgroup",{class:[{"bk-transition":t.isTransition},"bk-swiper-main"],style:{width:t.swiperMainWith+"px",transform:"translateX("+t.imageTransfer+"px)"},on:{mousedown:t.moveStart,mousemove:t.moving,mouseup:t.moveEnd,mouseout:t.moveEnd,transitionend:t.transitionend}},t._l(t.dataList,function(e,i){return n("h3",{key:i,staticClass:"bk-swiper-card",style:{width:t.realWidth+"px"}},[t._t("default",[n("span",{class:[{"bk-swiper-link":e.link},e.class,"bk-swiper-img"],style:{"background-image":"url("+e.url+")","background-color":e.color},on:{click:function(n){t.goToLink(e.link)}}})],{data:e})],2)}),0),n("ul",{staticClass:"bk-swiper-index"},t._l(t.sourceList,function(e,i){return n("li",{key:i,class:{"bk-current-index":t.currentIndex===i+1},on:{mouseover:function(e){t.changeIndex(i+1)}}})}),0),n("span",{staticClass:"bk-swiper-nav bk-nav-prev",on:{click:function(e){t.changeIndex(t.currentIndex-1)}}},[n("i",{staticClass:"bk-swiper-nav-icon"})]),n("span",{staticClass:"bk-swiper-nav bk-nav-next",on:{click:function(e){t.changeIndex(t.currentIndex+1)}}},[n("i",{staticClass:"bk-swiper-nav-icon"})])]):t._e()},staticRenderFns:[]},void 0,{name:"bk-swiper",props:{pics:{type:Array,default:function(){return[]}},list:{type:Array,default:function(){return[]}},isLoop:{type:Boolean,default:!0},loopTime:{type:Number,default:8e3},extCls:{type:String,default:""},height:{type:[Number,String],default:0},width:{type:[Number,String],default:0}},data:function(){return{swiperMainWith:0,currentIndex:1,isStartMove:!1,isTransition:!1,startMovePoint:0,mouseDistance:0,loopId:"",isClick:!1,realWidth:0}},computed:{sourceList:function(){return this.list.length>0?this.list:this.pics},dataList:function(){var t=this.sourceList[0],e=this.sourceList.slice(-1);return[].concat(m(e),m(this.sourceList),[t])},imageTransfer:function(){return-(this.realWidth*this.currentIndex-this.mouseDistance)}},watch:{currentIndex:{handler:function(t){t<=0||t>this.dataList.length-2||this.$emit("index-change",t)},immediate:!0},height:function(t){var e=this.$refs.swiper||{style:{width:0,height:0},offsetWidth:0};+t>0&&(e.style.height=t+"px")},width:function(t){var e=this.$refs.swiper||{style:{width:0,height:0},offsetWidth:0};this.realWidth=+t>0?+t:e.offsetWidth,e.style.width=this.realWidth+"px"},list:function(){var t=this;this.$nextTick(function(){t.calcSize()})},pics:function(){var t=this;this.$nextTick(function(){t.calcSize()})}},mounted:function(){this.initStatus()},beforeDestroy:function(){this.destoryStatus()},methods:{calcSize:function(){var t=this.$refs.swiper||{style:{width:0,height:0},offsetWidth:0};+this.height>0&&(t.style.height=this.height+"px"),this.realWidth=+this.width>0?+this.width:t.offsetWidth,t.style.width=this.realWidth+"px",this.swiperMainWith=this.realWidth*this.dataList.length},initStatus:function(){this.calcSize(),this.startLoop(),document.addEventListener("visibilitychange",this.visChange)},destoryStatus:function(){this.endLoop(),document.removeEventListener("visibilitychange",this.visChange)},goToLink:function(t){this.isClick&&t&&window.open(t,"_blank")},visChange:function(t){t.target.hidden?this.endLoop():this.startLoop()},changeIndex:function(t){this.isTransition=!0,this.startLoop(),this.changeCurrentIndex(t)},moveStart:function(t){this.endLoop(),t.preventDefault(),this.isTransition=!1,this.isStartMove=!0,this.startMovePoint=t.clientX},moving:function(t){if(this.isStartMove){var e=t.clientX-this.startMovePoint;this.mouseDistance=e}},moveEnd:function(t){if(this.isStartMove){var e=this.realWidth/3,n=Math.abs(this.mouseDistance);if(this.isClick=this.isStartMove&&n<5,n>e){var i=this.currentIndex-n/this.mouseDistance;this.changeCurrentIndex(i)}this.startLoop(),this.isTransition=!0,this.isStartMove=!1,this.mouseDistance=0}},changeCurrentIndex:function(t){var e=this.dataList.length;t<=-1?t=e-2:this.currentIndex>=e&&(t=1),this.currentIndex=t},transitionend:function(){var t=this.dataList.length-1;this.currentIndex<=0?(this.isTransition=!1,this.currentIndex=t-1):this.currentIndex>=t&&(this.isTransition=!1,this.currentIndex=1)},startLoop:function(){var t=this;this.isLoop&&(this.endLoop(),this.loopId=window.setTimeout(function(){t.isTransition=!0,t.changeCurrentIndex(t.currentIndex+1),t.startLoop()},this.loopTime))},endLoop:function(){window.clearTimeout(this.loopId)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Rp);var zp=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{class:[t.extCls,"bk-zoom-image"]},[n("img",{staticClass:"bk-real-image",attrs:{src:t.src},on:{click:function(e){t.imgSrc=t.src}}}),n("transition",{attrs:{name:"fade"}},[t.imgSrc?n("section",{staticClass:"bk-full-screen",on:{mousemove:t.mouseMove,mouseup:t.mouseUp}},[n("img",{ref:"screenImg",class:[{"bk-zoom-init":t.isInit},"bk-full-image"],style:{width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px"},attrs:{src:t.imgSrc},on:{mousewheel:function(e){return e.preventDefault(),t.scrollImage(e)},DOMMouseScroll:function(e){return e.preventDefault(),t.scrollImage(e)},mousedown:t.mouseDown}})]):t._e()])],1)},staticRenderFns:[]},void 0,{name:"bk-zoom-image",props:{src:String,extCls:String},data:function(){return{imgSrc:"",isInit:!0,startMove:!1,startTime:0,startX:0,startY:0,width:0,height:0,top:0,left:0}},watch:{imgSrc:function(t){t&&(this.isInit=!0,this.width=0,this.height=0,this.top=0,this.left=0)}},methods:{startChange:function(t){this.isInit&&(this.top=t.clientY-t.offsetY,this.left=t.clientX-t.offsetX,this.width=this.$refs.screenImg.clientWidth,this.height=this.$refs.screenImg.clientHeight,this.isInit=!1)},scrollImage:function(t){var e=.2*Math.max(-1,Math.min(1,t.wheelDeltaY||-t.detail));this.startChange(t),this.width+=this.width*e,this.height+=this.height*e,this.top-=t.offsetY*e,this.left-=t.offsetX*e},mouseDown:function(t){t.preventDefault(),this.startTime=new Date,this.startX=t.clientX,this.startY=t.clientY,this.startMove=!0,this.startChange(t)},mouseMove:function(t){this.startMove&&(this.top+=t.clientY-(this.mouseMove.tempY||this.startY),this.left+=t.clientX-(this.mouseMove.tempX||this.startX),this.mouseMove.tempY=t.clientY,this.mouseMove.tempX=t.clientX)},mouseUp:function(t){var e=new Date-this.startTime,n=Math.sqrt(Math.pow(t.clientX-this.startX,2)+Math.pow(t.clientY-this.startY,2));(!this.startMove||e<300&&n<20)&&(this.imgSrc=""),this.mouseMove.tempY=0,this.mouseMove.tempX=0,this.startMove=!1}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(zp);var Bp=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("bk-dialog",{attrs:{value:t.dialog.show,width:t.dialog.width,"show-footer":!1,draggable:"","ext-cls":"version-detail-dialog"},on:{"value-change":t.handleValueChange}},[[n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.loading},expression:"{ isLoading: loading }"}],staticClass:"bk-version"},[n("div",{staticClass:"bk-version-left",style:{"flex-basis":t.left.width+"px",width:t.left.width+"px",height:t.dialog.height+"px"},attrs:{"data-tag":"resizeTarget"}},[n("div",{staticClass:"left-fill fill-top"}),n("ul",{ref:"leftList",staticClass:"left-list"},[t._l(t.versionList,function(e,i){return n("li",{key:i,staticClass:"left-list-item",class:{"item-active":i===t.active,"border-after":i!==t.active},on:{click:function(e){i!==t.active&&t.handleItemClick(i)}}},[t._t("item",[n("span",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips",value:{content:e[t.versionTitleName],placement:"right"},expression:"{ content: item[versionTitleName], placement: 'right' }"}],staticClass:"item-title"},[t._v(t._s(e[t.versionTitleName]))]),n("span",{staticClass:"item-date"},[t._v(t._s(e[t.versionSubTitleName]))]),e[t.versionTitleName]===t.currentVersion?n("span",{staticClass:"item-current"},[t._v(" "+t._s("当前版本")+" ")]):t._e()],{version:{item:e,index:i}})],2)}),t.finished?t._e():n("li",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.left.loading,size:"mini",theme:"default"},expression:"{ isLoading: left.loading, size: 'mini', theme: 'default' }"}],staticClass:"left-list-loading border-after"}),n("li",{staticClass:"left-list-fill border-after"})],2),n("div",{staticClass:"left-fill fill-bottom"}),n("div",{staticClass:"resize-line",on:{mousedown:t.handleMouseDown,mousemove:t.handleMouseMove,mouseout:t.handleMouseOut}},[n("div",{staticClass:"drag-content"})])]),n("div",{staticClass:"bk-version-right",style:{height:t.dialog.height+"px"}},[t._t("default",[t._v("\n          "+t._s(t.versionDetail)+"\n        ")],{detail:t.versionDetail})],2)])]],2)},staticRenderFns:[]},void 0,{name:"bk-version-detail",components:{BkDialog:Ko},directives:{bkOverflowTips:Uf,bkloading:jh},props:{show:Boolean,versionList:{type:Array,default:function(){return[]}},versionDetail:{type:String,default:""},finished:{type:Boolean,default:!0},getVersionList:{type:Function,default:function(){return function(){}}},getVersionDetail:{type:Function,default:function(){return function(){}}},currentVersion:{type:String,default:""},minLeftWidth:{type:Number,default:180},maxLeftWidth:{type:Number,default:500},versionTitleName:{type:String,default:"title"},versionSubTitleName:{type:String,default:"date"}},data:function(){return{left:{loading:!1,width:this.minLeftWidth||180,scroll:!1},dialog:{width:850,height:520,show:!1},active:0,loading:!1,unWatchShow:null}},mounted:function(){this.dialog.show=this.show,this.$refs.leftList.addEventListener("scroll",this.handleLeftScroll,{passive:!0}),this.unWatchShow=this.$watch("show",this.handleOnShowChange,{immediate:!0})},beforeDestroy:function(){this.handleValueChange(!1),document.body.style.cursor="",this.$refs.leftList.removeEventListener("scroll",this.handleLeftScroll,{passive:!0}),this.unWatchShow&&this.unWatchShow()},methods:{handleMouseDown:function(t){for(var e=this,n=event.target;n&&"resizeTarget"!==n.dataset.tag;)n=n.parentNode;var i=n.getBoundingClientRect();document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};var r=function(t){e.left.width=Math.min(Math.max(e.minLeftWidth,t.clientX-i.left),e.maxLeftWidth)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",function t(){document.body.style.cursor="",document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",t),document.onselectstart=null,document.ondragstart=null})},handleMouseMove:function(t){for(var e=event.target;e&&"resizeTarget"!==e.dataset.tag;)e=e.parentNode;document.body.style.cursor="col-resize"},handleMouseOut:function(t){document.body.style.cursor=""},handleValueChange:function(t){this.$emit("update:show",t),this.$emit("change",t)},handleOnShowChange:function(t){var e=this;return s(te.mark(function n(){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.dialog.show=t,!t){n.next=20;break}if(e.dialog.width=window.innerWidth>=1920?1110:850,e.dialog.height=window.innerWidth>=1920?640:520,e.loading=!0,n.t0=!e.versionList.length&&"function"==typeof e.getVersionList,!n.t0){n.next=9;break}return n.next=9,e.getVersionList();case 9:if(!e.versionList.length){n.next=19;break}case 10:if(e.finished||!(e.dialog.height-40>55*e.versionList.length)){n.next=17;break}if(n.t1="function"==typeof e.getVersionList,!n.t1){n.next=15;break}return n.next=15,e.getVersionList();case 15:n.next=10;break;case 17:return n.next=19,e.handleItemClick();case 19:e.loading=!1;case 20:case"end":return n.stop()}},n)}))()},handleLeftScroll:function(t){var e=this;return s(te.mark(function t(){var n,i,r,o;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.$refs.leftList,i=n.scrollHeight,r=n.scrollTop,o=n.clientHeight,e.finished||!(o+r>=i)||e.scroll){t.next=16;break}if(e.left.scroll=!0,e.left.loading=!0,t.t0="function"==typeof e.getVersionList,!t.t0){t.next=11;break}return t.next=11,e.getVersionList().catch(function(t){return!1});case 11:return t.next=13,e.$nextTick();case 13:n.scrollTo(0,r-100),e.left.loading=!1,e.left.scroll=!1;case 16:case"end":return t.stop()}},t)}))()},handleItemClick:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return s(te.mark(function n(){return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.active=e,t.loading=!0,n.t0="function"==typeof t.getVersionDetail,!n.t0){n.next=6;break}return n.next=6,t.getVersionDetail(t.versionList[e]).catch(function(t){return!1});case 6:t.loading=!1;case 7:case"end":return n.stop()}},n)}))()}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Bp);var Fp=Ct({},void 0,{name:"bk-search-select-menu",mixins:[Jr.mixin],props:{list:{type:Array,default:function(){return[]}},isCondition:Boolean,condition:Object,displayKey:{type:String,require:!0},filter:{type:String,default:""},error:{type:String,default:""},multiable:Boolean,child:Boolean,loading:Boolean,remoteEmptyText:String,remoteLoadingText:String,checked:{type:Object,default:function(){return{}}},primaryKey:{type:String,require:!0},isChildCondition:Boolean},data:function(){return{hoverId:"",hasFocus:!1}},mounted:function(){this.handleMounted()},beforeDestroy:function(){this.handleDestroy()},methods:{handleDestroy:function(){document.removeEventListener("keydown",this.handleDocumentKeydown)},handleMounted:function(){this.handleDestroy(),document.addEventListener("keydown",this.handleDocumentKeydown)},handleClick:function(t,e){if(t.disabled)return!1;this.isChildCondition&&!this.multiable?(this.$emit("child-condition-select",t,e),this.hasFocus=!1):this.multiable&&this.child?(this.$refs[t[this.primaryKey]].style.display=this.checked[t[this.primaryKey]]?"none":"block",this.$emit("select-check",t,e)):(this.$emit("select",t,e),this.hasFocus=!1,this.handleDestroy())},handleCheckClick:function(t,e,n,i,r){this.$emit("select-check",t,e,n,i)},setCheckValue:function(t,e){var n=this.$refs[t[this.primaryKey]];n&&(n.style.display=this.checked[t[this.primaryKey]]?"none":"block")},handleSelectEnter:function(t){this.$emit("select-enter",t)},handleDocumentKeydown:function(t){var e=this,n=this.list&&this.list.length;if(["ArrowDown","ArrowUp"].includes(t.code)&&n&&this.list.some(function(t){return!t.disabled})){t.preventDefault(),t.stopPropagation(),this.$el.focus(),this.hasFocus=!0;for(var i=n,r=this.list.findIndex(function(t){return t[e.primaryKey]===e.hoverId});i>=0;){r=(r="ArrowDown"===t.code?r+1:r-1)>n-1?0:r<0?n-1:r;var o=this.list[r];if(!o.disabled)return i=-1,void(this.hoverId=o.id);i--}}else if(this.hasFocus&&["Enter","NumpadEnter"].includes(t.code)&&n&&this.hoverId){var a=this.list.findIndex(function(t){return t[e.primaryKey]===e.hoverId});if(a>-1){var s=this.list[a];this.handleClick(s,a)}}},handleKeyDown:function(t){"Enter"===t.code||t.code},handleSelectCancel:function(t){var e=this;Ot(this.checked).forEach(function(t){e.$refs[t]&&(e.$refs[t].style.display="none")}),this.$emit("select-cancel",t)}},render:function(t){var e=this,n=this.list,i=this.condition,r=this.displayKey,o=this.primaryKey,a=this.filter,s=this.multiable,l=this.child,u=this.checked,c=this.remoteLoadingText,h=this.remoteEmptyText,d=this.loading,f=void 0!==d&&d,p=this.isCondition,g=void 0!==p&&p,v=this.isChildCondition,m=void 0!==v&&v,y=this.error,b=void 0===y?"":y,x=this.hoverId;if(b)return t("div",{class:{"bk-search-list":!0}},[t("div",{class:{"bk-search-list-error":!0}},[b])]);if(!(f||n&&n.length))return t("div",{class:{"bk-search-list":!0}},[t("div",{class:{"bk-search-list-loading":!0}},[h])]);var w={on:{}},_={on:{}},S={on:{}};this.hoverIndex=0;var M=this._l(n,function(n,i){var c,h,d,f=n[o],p=a&&n[r].includes(a),g=n[r],v={on:{}};return v.on.click=function(t){return e.handleClick(n,i)},p&&(c=g.indexOf(a),h=g.slice(0,c),d=g.slice(c+a.length,g.length)),t("li",{class:{"bk-search-list-menu-item":!0,"is-group":!!n.isGroup,"is-disabled":n.disabled,"is-hover":!n.disabled&&x===f}},[t("div",Sd([{},v,{class:{"item-name":!0}}]),[p?t("div",[h,t("span",{class:{"item-name-filter":!0}},[a]),d]):g]),t("span",{directives:[{name:"show",value:s&&l&&u[g]&&!m}],ref:f,class:{"bk-icon icon-check-1 item-icon":!0}})])});return s&&l&&(_.on.click=function(t){return e.handleSelectEnter(t)},S.on.click=function(t){return e.handleSelectCancel(t)}),g&&!m&&(w.on.click=function(t){return e.$emit("select-conditon",i)}),t("div",Sd([{class:{"bk-search-list":!0}},{on:{}},{attrs:{tabIndex:"-1"}}]),[t("div",{directives:[{name:"show",value:f}],class:{"bk-search-list-loading":!0}},[c]),g?t("div",Sd([{directives:[{name:"show",value:!f}],class:{"bk-search-list-condition":!0}},w]),[i[r]]):"",t("div",{directives:[{name:"show",value:!f}],class:"search-menu-wrap"},[t("ul",{class:{"bk-search-list-menu":!0}},[M])]),s&&l&&!f?t("div",{class:{"bk-search-list-footer":!0}},[t("span",Sd([{class:{"footer-btn":!0}},_]),[this.t("bk.searchSelect.ok")]),t("span",Sd([{class:{"footer-btn":!0}},S]),[this.t("bk.searchSelect.cancel")])]):""])}},void 0,void 0,void 0,!1,void 0,void 0,void 0),Gp=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._b({staticClass:"search-select-wrap",class:t.extCls,style:{"z-index":t.wrapZindex}},"div",t.$attrs,!1),[n("div",{ref:"wrap",staticClass:"bk-search-select",class:{"is-focus":t.input.focus},on:{click:t.handleWrapClick}},[n("div",{staticClass:"search-prefix"},[t._t("prefix")],2),n("div",{staticClass:"search-input",style:{maxHeight:(t.shrink?t.input.focus?t.maxHeight:t.minHeight:t.maxHeight)+"px"}},[t._l(t.chip.list,function(e,i){return[(t.overflow.chipIndex>=0?i<t.overflow.chipIndex:i>=0)?n("div",{key:i+"_pre_key",staticClass:"search-input-chip"},[n("span",{staticClass:"chip-name"},[t._v("\n            "+t._s(e[t.displayKey]+(e.values&&e.values.length?t.explainCode+(e.condition?e.condition[t.displayKey]:"")+e.values.map(function(e){return e[t.displayKey]}).join(t.splitCode):""))+"\n          ")]),n("span",{staticClass:"chip-clear bk-icon icon-close",on:{click:function(n){t.handleClear(i,e)}}})]):t._e()]}),t.chip.list.length&&t.overflow.chipIndex>=0?n("div",{staticClass:"search-input-chip overflow-chip",staticStyle:{"padding-right":"8px"}},[t._v("+"+t._s(t.chip.list.length-t.overflow.chipIndex))]):t._e(),t.chip.list.length&&t.overflow.chipIndex>=0?[t._l(t.chip.list,function(e,i){return[i>=t.overflow.chipIndex?n("div",{key:i+"_next_key",staticClass:"search-input-chip hidden-chip"},[n("span",{staticClass:"chip-name"},[t._v("\n              "+t._s(e[t.displayKey]+(e.values&&e.values.length?t.explainCode+(e.condition?e.condition[t.displayKey]:"")+e.values.map(function(e){return e[t.displayKey]}).join(t.splitCode):""))+"\n            ")]),n("span",{staticClass:"chip-clear bk-icon icon-close",on:{click:function(n){t.handleClear(i,e)}}})]):t._e()]})]:t._e(),n("div",{staticClass:"search-input-input"},[n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleInputOutSide,expression:"handleInputOutSide"}],ref:"input",staticClass:"div-input",class:{"input-before":!t.chip.list.length&&!t.input.value.length,"input-after":t.showItemPlaceholder},attrs:{contenteditable:"plaintext-only","data-placeholder":t.defaultPlaceholder,"data-tips":t.curItem.placeholder||"",spellcheck:"false"},on:{click:t.handleInputClick,focus:t.handleInputFocus,cut:t.handleInputCut,input:t.handleInputChange,keydown:t.handleInputKeyup}})])],2),n("div",{staticClass:"search-nextfix"},[t.clearable&&(t.chip.list.length||t.input.value.length)?n("i",{staticClass:"search-clear bk-icon icon-close-circle-shape",on:{click:function(e){return e.target!==e.currentTarget?null:t.handleClearAll(e)}}}):t._e(),t._t("nextfix",[n("i",{staticClass:"bk-icon icon-search search-nextfix-icon",class:{"is-focus":t.input.focus},on:{click:function(e){return e.target!==e.currentTarget?null:t.handleClickSearch(e)}}})])],2)]),t.validateStr.length?n("div",{staticClass:"bk-select-tips"},[t._t("validate",[n("i",{staticClass:"bk-icon icon-exclamation-circle-shape select-tips"}),t._v(t._s(t.validateStr||"")+"\n    ")])],2):t._e()])},staticRenderFns:[]},void 0,{name:"bk-search-select",directives:{clickoutside:yn},mixins:[ee,Jr.mixin],model:{prop:"values",event:"change"},props:{data:{type:Array,default:function(){return[]}},splitCode:{type:String,default:" | "},explainCode:{type:String,default:"："},placeholder:{type:String,default:""},emptyText:{type:String,default:""},maxHeight:{type:[String,Number],default:120},minHeight:{type:[String,Number],default:26},shrink:{type:Boolean,default:!0},showDelay:{type:Number,default:100},displayKey:{type:String,default:"name"},primaryKey:{type:String,default:"id"},condition:{type:Object,default:function(){return{}}},values:{type:Array,default:function(){return[]}},filter:Boolean,filterChildrenMethod:Function,filterMenuMethod:Function,remoteMethod:Function,remoteEmptyText:{type:String,default:""},remoteLoadingText:{type:String,default:""},multiable:{type:Boolean,default:!1},keyDelay:{type:Number,default:300},showCondition:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},wrapZindex:{type:[String,Number],default:9},defaultFocus:{type:Boolean,default:!1},inputType:{type:String,default:"text",validator:function(t){return-1!==["text","number"].indexOf(t)}},popoverZindex:{type:Number,default:999},showPopoverTagChange:{type:Boolean,default:!0},clearable:{type:Boolean,default:!1},validateMessage:{type:String,default:""},extCls:{type:String,default:""}},data:function(){return{menuInstance:null,popperMenuInstance:null,menuChildInstance:null,menu:{active:-1,id:null,child:!1,checked:{},loading:!1,childCondition:{}},chip:{list:[]},input:{focus:!1,value:""},overflow:{chipIndex:-1},handleInputSearchPlus:function(){},handleSearchSelectResize:function(){},defaultPlaceholder:"",defaultEmptyText:"",defaultRemoteEmptyText:"",defaultRemoteLoadingText:"",defaultCondition:{},validateStr:""}},computed:{curItem:function(){var t=this;return this.data.find(function(e){return e[t.primaryKey]===t.menu.id})||{}},childList:function(){for(var t=[],e=0;e<this.data.length;){var n=this.data[e];n.children&&n.children.length&&t.push.apply(t,m(n.children)),e++}return t},showItemPlaceholder:function(){return this.menu.active>=0&&String(this.curItem.placeholder).length&&this.input.value===this.curItem[this.displayKey]+this.explainCode}},watch:{values:{handler:function(t){t!==this.chip.list&&(this.chip.list=m(t))},deep:!0,immediate:!0},validateMessage:{handler:function(t){this.validateStr=t},immediate:!0},"input.focus":{handler:function(t){var e=this;t?this.overflow.chipIndex=-1:(this.$refs.wrap&&this.$refs.wrap.scrollTo(0,0),setTimeout(function(){e._isMounted&&e.handleSearchInputResize()},300))},immediate:!0}},created:function(){var t=this;this.input.focus=this.defaultFocus,this.defaultPlaceholder=this.placeholder||this.t("bk.searchSelect.placeholder"),this.defaultEmptyText=this.emptyText||this.t("bk.searchSelect.emptyText"),this.defaultRemoteEmptyText=this.remoteEmptyText||this.t("bk.searchSelect.remoteEmptyText"),this.defaultRemoteLoadingText=this.remoteLoadingText||this.t("bk.searchSelect.remoteLoadingText"),this.defaultCondition=d({},{name:this.t("bk.searchSelect.condition")}),Ot(this.defaultCondition).includes(this.displayKey)||(this.defaultCondition[this.displayKey]=this.t("bk.searchSelect.condition")),this.handleInputSearchPlus=Mt(this.keyDelay,function(e){return t.handleSearch(e)})},mounted:function(){this.input.focus&&this.$refs.input.focus(),this.handleSearchSelectResize=Mt(32,this.handleSearchInputResize),Jd(this.$el,this.handleSearchSelectResize)},beforeDestroy:function(){this.menuInstance=null,this.menuChildInstance=null,this.popperMenuInstance&&this.popperMenuInstance.destroy(!0),Qd(this.$el,this.handleSearchSelectResize)},methods:{handleSearchInputResize:function(){if(this.input.focus||this.chip.list.length<1)this.overflow.chipIndex=-1;else{for(var t=this.$el.querySelector(".bk-search-select"),e=this.$el.querySelector(".search-input").clientWidth-8,n=t.querySelectorAll(".search-input-chip:not(.overflow-chip)"),i=0,r=0,o=0;i<=e-40&&o<=n.length-1;){var a=n[o];o+=1,(i+=a?a.clientWidth+6:0)<=e-40&&(r=o)}r===n.length-1&&i<=e?this.overflow.chipIndex=-1:this.overflow.chipIndex=i>=e-40?r:-1}},initMenu:function(){this.menuInstance||(this.menuInstance=new n(Fp).$mount(),this.menuInstance.condition=this.defaultCondition,this.menuInstance.displayKey=this.displayKey,this.menuInstance.primaryKey=this.primaryKey,this.menuInstance.multiable=!1,this.menuInstance.$on("select",this.handleMenuSelect),this.menuInstance.$on("select-conditon",this.handleSelectConditon))},initChildMenu:function(){this.menuChildInstance=new n(Fp).$mount(),this.menuChildInstance.displayKey=this.displayKey,this.menuChildInstance.primaryKey=this.primaryKey,this.menuChildInstance.multiable=(!this.curItem.conditions||!this.curItem.conditions.length)&&(this.curItem.multiable||!1),this.menuChildInstance.child=!0,this.menuChildInstance.remoteEmptyText=this.defaultRemoteEmptyText,this.menuChildInstance.remoteLoadingText=this.defaultRemoteLoadingText,this.menuChildInstance.$on("select",this.handleMenuChildSelect),this.menuChildInstance.$on("select-check",this.handleSelectCheck),this.menuChildInstance.$on("select-enter",this.handleKeyEnter),this.menuChildInstance.$on("select-cancel",this.handleCancel),this.menuChildInstance.$on("child-condition-select",this.handleChildConditionSelect)},initPopover:function(t){var e=this;this.popperMenuInstance||(this.popperMenuInstance=gh(this.$refs.input,{content:t||this.menuInstance.$el,arrow:!1,placement:"bottom-start",trigger:"manual",theme:"light bk-search-select-theme",hideOnClick:!1,animateFill:!1,animation:"slide-toggle",lazy:!1,ignoreAttributes:!0,boundary:"window",distance:10+zn("4px"),zIndex:this.popoverZindex,onHide:function(){return e.menuInstance&&e.menuInstance.handleDestroy(),e.menuChildInstance&&e.menuChildInstance.handleDestroy(),!0}}))},showMenu:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.menuInstance||this.initMenu(),this.handelePopperEventListener(!1),this.menuInstance.isCondition=this.showCondition&&!!this.chip.list.length&&this.chip.list[this.chip.list.length-1][this.primaryKey]!==this.defaultCondition[this.primaryKey],this.menuInstance.list=this.data,t?(this.showPopper(this.menuInstance.$el),this.$emit("show-menu",this.menuInstance)):this.hidePopper()},showChildMenu:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.menuChildInstance.filter=e,this.menuChildInstance.list=t,this.handelePopperEventListener(!0),n&&this.showPopper(this.menuChildInstance.$el)},handelePopperEventListener:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.menuInstance&&this.menuInstance.handleDestroy(),void(this.menuChildInstance&&this.menuChildInstance.handleMounted());this.menuChildInstance&&this.menuChildInstance.handleDestroy(),this.menuInstance.handleMounted()},showPopper:function(t){this.data.length&&(this.popperMenuInstance?this.popperMenuInstance.setContent(t):this.initPopover(),this.popperMenuInstance.popperInstance.update(),this.popperMenuInstance.show(this.showDelay))},hidePopper:function(){this.popperMenuInstance&&this.popperMenuInstance.hide(0)},handleInputChange:function(t){this.clearInput();var e=t.target.innerText;(/(\r|\n)/gm.test(e)||/\s{2}/gm.test(e))&&(t.preventDefault(),e=e.replace(/(\r|\n)/gm,this.splitCode).replace(/\s{2}/gm,""),this.$refs.input.innerText=e,this.handleInputFocus()),this.input.value=e,this.handleInputSearchPlus(e),this.$emit("input-change",t)},handleSearch:function(t){var e=this;return s(te.mark(function n(){var i,r,o;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e.input.value.includes(e.explainCode),r=[],!i||!e.menuChildInstance){n.next=16;break}if(o=t.replace(e.curItem[e.displayKey]+e.explainCode,""),!e.curItem.remote||"function"!=typeof e.remoteMethod){n.next=12;break}return e.menuChildInstance.loading=!0,n.next=8,e.remoteMethod(o,e.curItem,e.menu.active).finally(function(){e.menuChildInstance.loading=!1});case 8:(r=n.sent)&&r.length?e.showChildMenu(r,o,!!r.length):e.hidePopper(),n.next=14;break;case 12:(r=e.handleFilter(o))&&r.length?e.showChildMenu(r,o,!!r.length):e.hidePopper();case 14:n.next=17;break;case 16:!i&&e.menuInstance&&((r=e.handleFilter(t))&&r.length?(e.menuInstance.filter=t,e.menuInstance.list=r,e.showPopper(e.menuInstance.$el)):e.$refs.input.innerText&&e.hidePopper());case 17:case"end":return n.stop()}},n)}))()},handleFilter:function(t){var e=this,n=[];if(this.input.value.length&&~this.input.value.indexOf(this.explainCode))this.curItem.children&&this.curItem.children.length&&(n=this.filter&&"function"==typeof this.filterChildrenMethod?this.filterChildrenMethod(this.curItem.children,t):this.curItem.children.filter(function(n){return n[e.displayKey]&&~n[e.displayKey].indexOf(t)}));else if(this.filter&&"function"==typeof this.filterMenuMethod)n=this.filterMenuMethod(this.data,t);else if(t.length){var i;if((n=this.childList.filter(function(n){return n[e.displayKey]&&~n[e.displayKey].indexOf(t)})).length){var r=n[n.length-1];r=f({},r,{isGroup:!0}),n[n.length-1]=r}(i=n).push.apply(i,m(this.data.filter(function(n){return n[e.displayKey]&&~n[e.displayKey].indexOf(t)})))}else n=this.data;return n},handleInputCut:function(t){document.getSelection().anchorOffset>=this.input.value.length&&(this.input.value=""),this.$emit("input-cut",t)},handleInputOutSide:function(t){var e=t.target.offsetParent,n=e?e.classList:null;(!e||n&&!Uo(n.values()).some(function(t){return["bk-search-select","bk-search-list","tippy-tooltip","bk-form-checkbox","search-input-list","search-input-chip"].includes(t)}))&&(this.hidePopper(),this.input.focus=!1),this.$emit("input-click-outside",t)},handleCancel:function(t){this.handleClearChildSelectChecked(),this.hidePopper(),this.input.focus=!1,this.$refs.input.focus()},handleInputClick:function(t){var e=this;if(this.input.focus=!0,this.input.value){var n=this.curItem;n&&(n.children&&n.children.length||n.conditions&&n.conditions.length)&&this.popperMenuInstance?(this.menuChildInstance&&(this.menuChildInstance.error=""),this.menu.child=!0,this.popperMenuInstance.show(this.showDelay)):void 0===n.id&&this.menuInstance&&this.menuInstance.list.length&&this.menuInstance.filter&&this.popperMenuInstance.show(this.showDelay),this.handelePopperEventListener(!0)}else this.menuInstance||this.initMenu(),this.menuInstance.isCondition=this.showCondition&&!!this.chip.list.length&&this.chip.list[this.chip.list.length-1][this.primaryKey]!==this.defaultCondition[this.primaryKey],this.menuInstance.list=this.data,this.menu.child=!1,this.$nextTick(function(t){e.handelePopperEventListener(),e.showPopper(e.menuInstance.$el)});this.$emit("input-click",t)},handleInputFocus:function(t){this.input.focus=!0;var e=this.$refs.input,n=null;window.getSelection?((n=window.getSelection()).selectAllChildren(e),n.collapseToEnd()):document.onselectionchange&&((n=document.onselectionchange.createRange()).moveToElementText(e),n.collapse(!1),n.select()),this.$emit("input-focus",t)},updateChildMenu:function(t,e,n){var i=this;return s(te.mark(function r(){var o,a,s;return te.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=t.children&&t.children.length,!n){r.next=14;break}i.$refs.input.blur(),i.menuChildInstance&&!i.menuChildInstance.multiable&&i.menuChildInstance.multiable===i.curItem.multiable||i.initChildMenu(),i.menuChildInstance.isChildCondition=n,i.menuChildInstance.error="",i.menuChildInstance.loading=!1,i.menuChildInstance.checked=i.menu.checked,i.showPopper(i.menuChildInstance.$el),i.menu.child=!1,i.menuChildInstance.list=t.conditions,setTimeout(function(){i.$refs.input.focus()},20),r.next=37;break;case 14:if(a=i.curItem.remote&&"function"==typeof i.remoteMethod,!o&&!a){r.next=35;break}if(i.$refs.input.blur(),i.menuChildInstance&&!i.menuChildInstance.multiable&&i.menuChildInstance.multiable===i.curItem.multiable||i.initChildMenu(),i.menuChildInstance.isChildCondition=n,i.menuChildInstance.error="",i.menuChildInstance.loading=a,i.menuChildInstance.checked=i.menu.checked,i.showPopper(i.menuChildInstance.$el),i.menu.child=!0,!a){r.next=31;break}return r.next=27,i.remoteMethod(i.input.value,t,e).finally(function(){i.menuChildInstance.loading=!1});case 27:s=r.sent,i.menuChildInstance.list=s,r.next=32;break;case 31:i.menuChildInstance.list=t.children;case 32:setTimeout(function(){i.$refs.input.focus()},20),r.next=37;break;case 35:i.hidePopper(),setTimeout(function(){i.handleInputFocus()},20);case 37:case"end":return r.stop()}},r)}))()},handleMenuSelect:function(t,e){var n=this,i=~this.data.findIndex(function(e){return e[n.primaryKey]===t[n.primaryKey]});if(i){this.menu.active=~i,this.menu.id=this.data[this.menu.active][this.primaryKey];var r=!(!this.curItem.conditions||!this.curItem.conditions.length);this.input.value=t[this.displayKey]+this.explainCode,this.$nextTick().then(function(){n.updateInput(n.input.value),n.updateChildMenu(t,e,r),n.$emit("menu-select",t,e)})}else this.input.value=t[this.displayKey],this.$nextTick().then(function(){n.updateInput(n.input.value),n.handleKeyEnter()})},handleMenuChildSelect:function(t,e){this.input.value+=t[this.displayKey],this.updateInput(this.input.value),this.handleEnter(this.input.value,t,!0),this.$emit("menu-child-select",t,e)},handleChildConditionSelect:function(t,e){this.input.value+=t[this.displayKey],this.updateInput(this.input.value),this.menu.childCondition=t,this.updateChildMenu(this.curItem,e,!1),this.$emit("menu-child-condition-select",t,e)},handleInputKeyup:function(t){if(this.readonly&&"Backspace"!==t.code)return t.preventDefault(),!1;switch(t.code){case"Enter":case"NumpadEnter":this.handleKeyEnter(t,!0,!0);break;case"Backspace":this.handleKeyBackspace(t);break;case"ArrowDown":case"ArrowUp":t.preventDefault();break;default:if("number"===this.inputType){var e=this.input.value+"";if(!(""===e&&"-"===t.key||"0"!==e&&"-0"!==e&&"0"===t.key||("0"===e||"-0"===e||/^-?[1-9]?[0-9]*[1-9]+$/.test(e))&&"."===t.key||"123456789".indexOf(t.key)>-1))return t.preventDefault(),!1}return this.handleKeyDefault(t),!1}},handleKeyDefault:function(t){if(Ot(this.menu.checked).length)return t.preventDefault(),!1},handleKeyBackspace:function(t){var e=this,n=Ot(this.menu.checked);if(this.curItem.multiable&&n.length){var i=n[n.length-1];return this.menuChildInstance&&this.menuChildInstance.setCheckValue(this.menu.checked[i],!1),delete this.menu.checked[i],this.updateCheckedInputVal(),t.preventDefault(),this.handleInputFocus(),!1}var r=this.menu.childCondition[this.displayKey],o=this.curItem[this.displayKey]+this.explainCode;if(r&&o+r===this.input.value)return this.menu.childCondition={},this.input.value=o,this.updateInput(this.input.value),this.updateChildMenu(this.curItem,this.menu.active,!0),t.preventDefault(),!1;if(this.input.value||!this.chip.list.length&&!this.$refs.input.textContent.length)if(this.input.value.includes(this.curItem[this.displayKey]+this.explainCode)){if(this.readonly)return this.updateInput(),this.handleCancel(),this.menu.active=-1,this.menu.id=null,this.input.value="",t.preventDefault(),!1}else this.menu.active=-1,this.menu.id=null;else{var a=this.chip.list.pop();this.$nextTick().then(function(){e.showMenu(e.showPopoverTagChange)}),this.$emit("change",this.chip.list),this.$emit("key-delete",a),this.dispatch("bk-form-item","form-change")}},handleKeyEnter:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(te.mark(function r(){return te.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,new yu(function(i){e.input.value?e.input.value===e.curItem[e.displayKey]+e.explainCode?(t.preventDefault(),e.menuChildInstance||e.initChildMenu(),e.menuChildInstance.error=e.defaultEmptyText,e.$nextTick(function(t){e.showPopper(e.menuChildInstance.$el)}),e.handleInputFocus(),i()):setTimeout(function(){if(null!==e.menu.id){var t,r=e.input.value.replace(e.curItem[e.displayKey]+e.explainCode,"");Ot(e.menu.childCondition).length&&(r=r.replace(e.menu.childCondition[e.displayKey],"")),e.handleEnter(e.input.value,(h(t={},e.primaryKey,r),h(t,e.displayKey,r),t),!0,n)}else{var o;e.handleEnter(e.input.value,(h(o={},e.primaryKey,e.input.value),h(o,e.displayKey,e.input.value),o),!1,n)}i()},0):i()});case 2:i&&e.$emit("key-enter",t);case 3:case"end":return r.stop()}},r)}))()},handleValidate:function(t){var e=this;return s(te.mark(function n(){var i,r;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=!0,!e.curItem||!e.curItem.validate||"function"!=typeof e.curItem.validate){n.next=8;break}return n.next=4,e.curItem.validate(m(t),e.curItem);case 4:"string"==typeof(i=n.sent)?(e.validateStr=i,i=!1):i&&(e.validateStr=""),n.next=9;break;case 8:e.validateStr="";case 9:return i||0===(r=window.getSelection()).focusOffset&&(r.selectAllChildren(e.$refs.input),r.collapseToEnd()),n.abrupt("return",i);case 11:case"end":return n.stop()}},n)}))()},handleEnter:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return s(te.mark(function t(){var o,a;return te.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=19;break}if(n.input.value!==n.defaultCondition[n.displayKey]){t.next=5;break}n.chip.list.push(n.defaultCondition),t.next=17;break;case 5:return o=[],Ot(n.menu.checked).length?o=mt(n.menu.checked):o.push(e),a=d({},n.curItem,{values:o}),Ot(n.menu.childCondition).length&&(a.condition=n.menu.childCondition),a.children&&delete a.children,a.conditions&&delete a.conditions,t.next=13,n.handleValidate(o);case 13:if(t.sent){t.next=16;break}return t.abrupt("return");case 16:n.chip.list.push(a);case 17:t.next=25;break;case 19:return t.next=21,n.handleValidate([e]);case 21:if(t.sent){t.next=24;break}return t.abrupt("return");case 24:n.chip.list.push(e);case 25:n.menu.checked={},n.menu.active=-1,n.menu.id=null,n.input.value="",n.menu.childCondition={},n.updateInput(),n.menuInstance&&(n.menuInstance.filter=""),r&&(n.$nextTick(function(t){return n.showMenu(n.showPopoverTagChange)}),n.$refs.input.focus()),n.$emit("change",n.chip.list),n.dispatch("bk-form-item","form-change");case 35:case"end":return t.stop()}},t)}))()},handleClear:function(t,e){var n=this,i=this.chip.list.splice(t,1);setTimeout(function(){n.popperMenuInstance&&n.popperMenuInstance.popperInstance&&n.popperMenuInstance.popperInstance.update(),!n.input.value.length&&n.showMenu(),n.$emit("change",n.chip.list),n.$emit("chip-del",i),n.dispatch("bk-form-item","form-change")},0)},handleSelectConditon:function(t){this.input.value=t[this.displayKey],this.updateInput(this.input.value),this.handleEnter(this.input.value,t,!0),this.$emit("condition-select",t)},handleSelectCheck:function(t,e){var n=!this.menu.checked[t[this.primaryKey]];n?this.menu.checked[t[this.primaryKey]]=t:delete this.menu.checked[t[this.primaryKey]],this.menuChildInstance.checked=this.menu.checked,this.updateCheckedInputVal(),this.handlePopoverCheckUpdate(),this.popperMenuInstance.popperInstance.update(),this.$emit("child-checked",t,e,n)},handleClearChildSelectChecked:function(){this.menu.checked={},this.menuChildInstance.checked=this.menu.checked,this.updateCheckedInputVal(),this.handlePopoverCheckUpdate(),this.popperMenuInstance.popperInstance.update()},handleWrapClick:function(){this.shrink&&this.$refs.input.focus()},updateCheckedInputVal:function(){var t=this;if(null!==this.menu.id){var e=mt(this.menu.checked).map(function(e){return e[t.displayKey]}).join(this.splitCode);this.input.value=this.curItem[this.displayKey]+this.explainCode+e,this.updateInput(this.input.value)}},updateInput:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$refs.input.innerText=t},clearInput:function(){var t=this.$refs.input.innerText;"\n"===t[t.length-1]||"\r"===t[0]?(this.updateInput(t.slice(0,-1)),this.clearInput()):"\n"!==t[0]&&"\r"!==t[0]||(this.updateInput(t.slice(1)),this.clearInput())},handlePopoverCheckUpdate:function(){var t=this.popperMenuInstance.props.distance;-this.$refs.wrap.clientHeight!==t&&this.popperMenuInstance.popperInstance.update()},handleClearAll:function(t){this.menu.active=-1,this.menu.id=null,this.input.value="",this.menuInstance=null,this.updateInput(this.input.value),this.clearInput(),this.values.splice(0,this.values.length),this.$emit("clear",t)},handleClickSearch:function(t){this.handleKeyEnter(t,!1,!1),this.$emit("search",t)},getMenuInstance:function(){return this.menuInstance},getChildMenuInstance:function(){return this.menuChildInstance},getInputInstance:function(){return this.$refs.input}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Gp);var Vp=function(t,e){var n=e.nodeOptions.idKey;return"function"==typeof n?n(t):t[n]},Wp=function(t,e){var n={expand:e.expandIcon,collapse:e.collapseIcon,node:e.nodeIcon};return"function"==typeof n.node&&(n.node=n.node(t)),n},Hp=function(t){return se(t)?t:[t]},Up=function(t,e){return"function"==typeof e.lazyMethod&&("boolean"==typeof e.lazyDisabled?!e.lazyDisabled:"function"!=typeof e.lazyDisabled||!e.lazyDisabled(t))},Yp=function(){function t(e,n,i){var r=this;l(this,t);var o=i.nodeOptions.folderKey,a=o&&e[o],s={data:e,tree:i,_vNode:null,id:Vp(e,i),icon:Wp(e,i),line:0,level:n.level,index:n.index,childIndex:n.childIndex||0,parent:n.parent,children:[],timer:null,isFolder:a};Ot(s).forEach(function(t){xt(r,t,{enumerable:!0,configurable:i.configurable,writable:!0,value:s[t]})}),this.state={checked:!1,expanded:i.defaultExpandAll,disabled:!1,visible:!0,matched:!0,loading:!1,lazy:Up(this,i)}}return c(t,[{key:"uid",get:function(){return"".concat(this.tree.id,"-node-").concat(this.index)}},{key:"name",get:function(){return this.data[this.tree.nodeOptions.nameKey]}},{key:"vNode",get:function(){return this._vNode},set:function(t){this._vNode=t,this.expanded&&this.recalculateLinkLine()}},{key:"parents",get:function(){return this.parent?[].concat(m(this.parent.parents),[this.parent]):[]}},{key:"descendants",get:function(){var t=[];return this.children.forEach(function(e){t.push(e),t.push.apply(t,m(e.descendants))}),t}},{key:"isLeaf",get:function(){return!this.lazy&&!this.loading&&!this.children.length}},{key:"lazy",get:function(){return this.state.lazy&&!this.children.length}},{key:"loading",get:function(){return this.state.loading}},{key:"hasCheckbox",get:function(){var t=this.tree.showCheckbox;return"function"==typeof t?t(this.data):t}},{key:"collapseIcon",get:function(){return this.icon.collapse}},{key:"selected",get:function(){return this.tree.selectable&&this.tree.selected===this.id}},{key:"expandIcon",get:function(){return this.icon.expand}},{key:"nodeIcon",get:function(){return this.icon.node}},{key:"checked",get:function(){return this.state.checked},set:function(t){if(this.state.checked===t&&!this.indeterminate)return!1;this.setState("checked",t),this.tree.checkStrictly&&(this.children.forEach(function(e){e.checkable&&(e.checked=t)}),this.parent&&this.parents.reverse().forEach(function(e){if(t){var n=!e.children.some(function(t){return!t.checked});e.setState("checked",n)}else e.setState("checked",!1)}))}},{key:"checkable",get:function(){return!this.disabled&&(!this.tree.inSearch||!this.tree.checkOnlyAvailableStrictly||(this.tree.displayMatchedNodeDescendants?this.matched||this.childrenMatched||this.parentsMatched:this.matched||this.childrenMatched))}},{key:"expanded",get:function(){return this.state.expanded},set:function(t){var e=this;if(this.state.expanded===t)return!1;this.setState("expanded",t),t&&this.parent&&(this.parent.expanded=!0),this.children.forEach(function(e){e.visible=t}),this.tree.$nextTick(s(te.mark(function n(){var i,r,o,a,s;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t||!e.lazy){n.next=21;break}return e.setState("loading",!0),e.setState("lazy",!1),n.prev=3,n.next=6,e.tree.lazyMethod(e);case 6:i=n.sent,r=i.leaf,o=void 0===r?[]:r,a=i.data,s=void 0===a?[]:a,e.tree.addNode(s,e.id).forEach(function(t){o.includes(t.id)&&t.setState("lazy",!1)}),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(3),console.error(n.t0);case 18:return n.prev=18,e.setState("loading",!1),n.finish(18);case 21:case"end":return n.stop()}},n,null,[[3,15,18,21]])}))),this.recalculateLinkLine()}},{key:"disabled",get:function(){return this.state.disabled},set:function(t){if(this.state.disabled===t)return!1;this.setState("disabled",t),this.tree.disableStrictly&&this.descendants.forEach(function(e){e.disabled=t})}},{key:"matched",get:function(){return this.state.matched},set:function(t){this.setState("matched",t)}},{key:"childrenMatched",get:function(){return this.children.some(function(t){return t.matched||t.childrenMatched})}},{key:"parentsMatched",get:function(){return this.parents.some(function(t){return t.matched})}},{key:"visible",get:function(){var t=this.parent?this.parent.expanded&&this.state.visible:this.state.visible;if(!this.tree.inSearch)return t;var e=t&&(this.matched||this.childrenMatched);if(this.tree.displayMatchedNodeDescendants){var n=t&&this.parentsMatched;return e||n}return e},set:function(t){if(this.state.visible===t)return!1;this.setState("visible",t),this.children.forEach(function(e){e.visible=t})}},{key:"indeterminate",get:function(){if(this.tree.checkStrictly){if(this.children.some(function(t){return t.indeterminate}))return!0;var t=this.children.filter(function(t){return t.checked});return!!t.length&&t.length!==this.children.length}return!1}},{key:"setState",value:function(t,e){this.state.hasOwnProperty(t)&&(this.state[t]=e)}},{key:"recalculateLinkLine",value:function(){if(this.tree.hasLine){var t=this.tree.needsCalculateNodes;if(t.includes(this))return!1;t.push(this),this.parent&&this.parent.recalculateLinkLine()}}},{key:"appendChild",value:function(t,e,n){var i,r=se(t)?t:[t];return(i=this.children).splice.apply(i,[e,0].concat(m(r))),this.children.slice(e).forEach(function(t,n){t.childIndex=e+n}),this.expanded=n.expandParent,this.recalculateLinkLine(),r}},{key:"removeChild",value:function(t){var e=this,n=se(t)?t:[t],i=[],r=[];n.forEach(function(t){var n=t.childIndex;i.push(n),r.push(t.index),e.children.splice(n,1)});var o=Math.min.apply(Math,i);return this.children.slice(o).forEach(function(t,e){t.childIndex=o+e}),this.recalculateLinkLine(),n}}]),t}(),Jp=0,Qp=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["bk-big-tree",t.extCls,{"with-virtual-scroll":!!t.height},{"bk-big-tree--small":"small"===t.size}],style:{height:t.treeHeight}},[t.height?n("bk-virtual-scroll",{ref:"virtualScroll",attrs:{"item-height":t.nodeHeight},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return n("tree-item",{attrs:{node:i,id:"bk-big-tree-"+t.id+"-node-"+i.id}},[t._t("default",null,{node:i,data:i.data})],2)}}])}):t._l(t.nodes,function(e){return[n("tree-item",{key:e.id,ref:e.id,refInFor:!0,attrs:{node:e}},[t._t("default",null,{node:e,data:e.data})],2)]}),(t.$slots.empty||t.useDefaultEmpty)&&t.isSearchEmpty?n("div",{staticClass:"bk-big-tree-empty"},[t._t("empty",[t._v("\n      "+t._s(t.t("bk.bigTree.emptyText"))+"\n    ")])],2):t._e()],2)},staticRenderFns:[]},void 0,{name:"bk-big-tree",components:{bkVirtualScroll:hd,treeItem:Ct({render:function(t,e){var n=e._c;return e.props.node.visible?n("div",{staticClass:"bk-big-tree-node clearfix",class:{"is-root":null===e.props.node.parent,"is-leaf":!e.props.node.isFolder&&e.props.node.isLeaf,"is-folder":e.props.node.isFolder,"is-expand":e.props.node.expanded,"is-selected":e.props.node.selected,"is-disabled":e.props.node.disabled,"is-checked":e.props.node.checked,"has-link-line":e.props.node.tree.hasLine},style:{"--level":e.props.node.level,"--line":e.props.node.line,"--padding":e.props.node.tree.padding+"px"},attrs:{id:e.props.node.uid},on:{click:function(t){e.props.node.tree.handleNodeClick(e.props.node)}}},[n("div",{staticClass:"node-options fl"},[e.props.node.loading?n("i",{class:e.props.node.tree.loadingClass}):e.props.node.isFolder||!e.props.node.isLeaf?n("i",{class:["node-folder-icon",e.props.node.expanded?e.props.node.expandIcon:e.props.node.collapseIcon],on:{click:function(t){t.stopPropagation(),e.props.node.tree.handleNodeExpand(e.props.node)}}}):e._e(),e.props.node.hasCheckbox?n("span",{staticClass:"node-checkbox",class:{"is-disabled":e.props.node.disabled,"is-checked":e.props.node.checked,"is-indeterminate":e.props.node.indeterminate},on:{click:function(t){t.stopPropagation(),e.props.node.tree.handleNodeCheck(e.props.node)}}}):e._e(),e.props.node.nodeIcon?n("i",{class:["node-icon",e.props.node.nodeIcon]}):e._e()]),n("div",{staticClass:"node-content"},[e._t("default",[e._v("\n      "+e._s(e.props.node.name)+"\n    ")],{node:e.props.node,data:e.props.node.data})],2)]):e._e()},staticRenderFns:[]},void 0,{},void 0,!0,void 0,!1,void 0,void 0,void 0)},mixins:[Jr.mixin],props:{data:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{}}},lazyMethod:Function,lazyDisabled:[Boolean,Function],selectable:Boolean,showCheckbox:[Boolean,Function],checkStrictly:{type:Boolean,default:!0},checkOnlyAvailableStrictly:Boolean,disableStrictly:{type:Boolean,default:!0},displayMatchedNodeDescendants:Boolean,showLinkLine:Boolean,expandIcon:{type:String,default:"bk-icon icon-down-shape"},collapseIcon:{type:String,default:"bk-icon icon-right-shape"},loadingClass:{type:String,default:"node-loading"},nodeIcon:{type:[String,Function]},defaultExpandAll:Boolean,defaultExpandedNodes:{type:Array,default:function(){return[]}},defaultCheckedNodes:{type:Array,default:function(){return[]}},defaultSelectedNode:{type:[String,Number],default:null},defaultDisabledNodes:{type:Array,default:function(){return[]}},beforeSelect:Function,beforeCheck:Function,expandOnClick:{type:Boolean,default:!0},checkOnClick:Boolean,filterMethod:Function,nodeWidth:{type:[String,Number]},extCls:{type:String,default:""},useDefaultEmpty:Boolean,height:Number,nodeHeight:{type:Number,default:32},configurable:{type:Boolean,default:!0},padding:{type:Number,default:16},size:{type:String,default:"normal"}},data:function(){return{nodes:[],map:{},selected:this.defaultSelectedNode,needsCalculateNodes:[],calculateTimer:null,inSearch:!1,isSearchEmpty:!1,id:"bk-big-tree-".concat(Jp++)}},computed:{computedNodeWidth:function(){var t=zn(this.nodeWidth);return isNaN(t)?null:t},nodeOptions:function(){return d({idKey:"id",nameKey:"name",childrenKey:"children"},this.options)},checkedNodes:function(){return this.nodes.filter(function(t){return t.checked&&t.hasCheckbox})},checked:function(){return this.checkedNodes.map(function(t){return t.id})},visibleNodes:function(){return this.nodes.filter(function(t){return!!t.visible})},treeHeight:function(){return this.height?"".concat(this.height,"px"):"auto"},hasLine:function(){return!this.height&&this.showLinkLine}},watch:{needsCalculateNodes:function(){this.handleCalculateLine()},data:function(t){this.setData(t)},hasLine:function(t){var e;t&&(e=this.needsCalculateNodes).push.apply(e,m(this.visibleNodes))}},mounted:function(){this.setData(this.data)},methods:{setData:function(t){var e,n=[],i={};this.recurrenceNodes(t,null,n,i),this.nodes=n,this.map=i,this.initNodeState(),this.setVirtualScrollList(),this.registryOptions(this.nodes),this.hasLine&&(e=this.needsCalculateNodes).push.apply(e,m(this.visibleNodes))},registryOptions:function(t){var e=this.$parent.$parent||this.$root,n=e.$options.name;n&&"bk-select"===n&&e.registerOption&&(e.autoUpdate=!0,t.forEach(function(t){e.registerOption({id:t.id,name:t.name,disabled:t.disabled,unmatched:!1,isHighlight:!1})}))},recurrenceNodes:function(t,e,n,i){var r=this;t.forEach(function(t,o){var a=new Yp(t,{level:e?e.level+1:0,parent:e,index:n.length},r);e&&(a.childIndex=e.children.length,e.children.push(a)),n.push(a),i[a.id]=a;var s=t[r.nodeOptions.childrenKey];se(s)&&s.length&&r.recurrenceNodes(s,a,n,i)})},getNodeById:function(t){return this.map[t]},initNodeState:function(){!this.defaultExpandAll&&this.initDefaultExpanded(),this.initDefaultChecked(),this.initDefaultDisabled()},initDefaultExpanded:function(){var t=this;(null!==this.defaultSelectedNode?[].concat(m(this.defaultExpandedNodes),[this.defaultSelectedNode]):this.defaultExpandedNodes).forEach(function(e){var n=t.getNodeById(e);n&&(n.expanded=!0)})},initDefaultChecked:function(){var t=this;this.defaultCheckedNodes.forEach(function(e){var n=t.getNodeById(e);n&&(n.checked=!0)})},initDefaultDisabled:function(){var t=this;this.defaultDisabledNodes.forEach(function(e){var n=t.getNodeById(e);n&&(n.disabled=!0)})},addNode:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=d({parentId:null,trailing:!0,expandParent:!0},"object"===o(e)?e:{parentId:e,trailing:n}),r=Hp(t);return r.length?function(t){return null==t}(i.parentId)?this.addRootNode(r,i):this.addChildNode(r,i):[]},addRootNode:function(t,e){var n,i=this,r=e.trailing,o=this.nodes.filter(function(t){return 0===t.level}),a="number"==typeof r?Math.min(r,o.length):r?o.length:0,s=0;if(a>0){var l=o[a-1],u=[l].concat(m(l.descendants)),c=u[u.length-1];s=c.index+1}var h=t.map(function(t){return new Yp(t,{level:0,parent:null},i)});return h.forEach(function(t){i.$set(i.map,t.id,t)}),(n=this.nodes).splice.apply(n,[s,0].concat(m(h))),this.nodes.slice(s).forEach(function(t,e){t.index=s+e}),this.setVirtualScrollList(),h},addChildNode:function(t,e){var n,i=this,r=e.parentId,o=e.trailing,a=this.getNodeById(r);if(a){var s,l=a.children,u="number"==typeof o?Math.min(o,l.length):o?l.length:0;if(u>0){var c=l[u-1],h=[c].concat(m(c.descendants)),d=h[h.length-1];s=d.index+1}else s=a.index+1;var f=t.map(function(t){return new Yp(t,{level:a.level+1,parent:a},i)});return a.appendChild(f,u,e),f.forEach(function(t){i.$set(i.map,t.id,t)}),(n=this.nodes).splice.apply(n,[s,0].concat(m(f))),this.nodes.slice(s).forEach(function(t,e){t.index=s+e}),this.setVirtualScrollList(),f}console.warn("Unexpected parent id, add node failed")},removeNode:function(t){var e=this;try{var n=Hp(t),i=[];n.forEach(function(t){var n=e.getNodeById(t);n&&i.push(n)}),i.sort(function(t,e){return e.index-t.index}),i.forEach(function(t){var n=[t].concat(m(t.descendants));e.nodes.splice(t.index,n.length),t.parent&&t.parent.removeChild(t)});var r=Math.min.apply(Math,m(i.map(function(t){return t.index})));this.nodes.slice(r).forEach(function(t,e){t.index=r+e}),this.setVirtualScrollList()}catch(t){console.warn(t.message)}},setSelected:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(te.mark(function i(){var r,o;return te.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,e.selectable&&t!==e.selected){i.next=3;break}return i.abrupt("return",!1);case 3:if(r=f({emitEvent:!1,beforeSelect:!0},n),o=e.getNodeById(t),!r.beforeSelect||"function"!=typeof e.beforeSelect){i.next=11;break}return i.next=8,e.beforeSelect(o);case 8:if(i.sent){i.next=11;break}return i.abrupt("return",!1);case 11:e.selected=t,r.emitEvent&&e.$emit("select-change",o),i.next=18;break;case 15:i.prev=15,i.t0=i.catch(0),console.warn(i.t0.message);case 18:case"end":return i.stop()}},i,null,[[0,15]])}))()},removeChecked:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var e=f({emitEvent:!0},t);this.checkedNodes.forEach(function(t){t.checked=!1}),e.emitEvent&&this.$emit("check-change",[],null,null)}catch(t){console.warn(t.message)}},setChecked:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(te.mark(function i(){var r,o,a,s;return te.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,r=se(t),!(o=r?t:[t]).length){i.next=14;break}if(a=f({emitEvent:!1,beforeCheck:!0,checked:!0},n),s=o.map(function(t){return e.getNodeById(t)}),!a.beforeCheck||"function"!=typeof e.beforeCheck){i.next=12;break}return i.next=9,e.beforeCheck(s.length>1?s:s[0],a.checked);case 9:if(i.sent){i.next=12;break}return i.abrupt("return",!1);case 12:s.forEach(function(t){t.checked=a.checked}),a.emitEvent&&setTimeout(function(){e.$emit("check-change",e.checked,r?s:s[0])},0);case 14:i.next=19;break;case 16:i.prev=16,i.t0=i.catch(0),console.warn(i.t0.message);case 19:case"end":return i.stop()}},i,null,[[0,16]])}))()},setExpanded:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=f({expanded:!0,emitEvent:!1},e),i=this.getNodeById(t);if(!i)return console.warn("Unexpected node id, set expanded failed."),!1;i.expanded=n.expanded,n.emitEvent&&this.$emit("expand-change",i),this.setVirtualScrollList()}catch(t){console.warn(t.message)}},setDisabled:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var i=f({disabled:!0,emitEvent:!1},n),r=Hp(t).map(function(t){return e.getNodeById(t)}).filter(function(t){return!!t});r.forEach(function(t){t.disabled=i.disabled}),i.emitEvent&&this.$emit("disable-change",r.length>1?r:r[0])}catch(t){console.warn(t.message)}},handleCalculateLine:function(){var t=this;this.calculateTimer&&clearTimeout(this.calculateTimer),this.needsCalculateNodes.length?this.calculateTimer=setTimeout(function(){t.needsCalculateNodes.forEach(function(e){t.calculateNodeLine(e)}),t.needsCalculateNodes.splice(0)},0):this.calculateTimer=null},calculateNodeLine:function(t){var e=t.children,n=t.isLeaf,i=t.expanded;if(!n&&i){var r=e.filter(function(t){return t.visible});if(r.length){var o=r[0],a=this.$el.querySelector("#".concat(o.uid)),s=r[r.length-1],l=this.$el.querySelector("#".concat(s.uid));t.line=l.getBoundingClientRect().bottom-a.getBoundingClientRect().top}else t.line=0}else t.line=0},defaultFilterMethod:function(t,e){return String(e.name).toLowerCase().indexOf(t)>-1},filter:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=[],i=this.filterMethod||this.defaultFilterMethod;if(""===e)this.inSearch=!1,this.nodes.forEach(function(e){e.setState("matched",!0),e.recalculateLinkLine(),t.checkOnlyAvailableStrictly&&e.setState("checked",!1),n.push(e)});else{this.inSearch=!0;var r=this.filterMethod?e:String(e).toLowerCase();this.nodes.forEach(function(e){var o=i(r,e);e.setState("matched",o),t.checkOnlyAvailableStrictly&&e.setState("checked",!1),o?(e.parent&&(e.parent.expanded=!0),n.push(e)):e.recalculateLinkLine()})}return this.isSearchEmpty=0===n.length,this.setVirtualScrollList(),n},handleNodeClick:function(t){if(t.disabled)return!1;this.$emit("node-click",t),this.setSelected(t.id,{emitEvent:!0,beforeSelect:!0}),this.expandOnClick&&!t.isLeaf&&this.setExpanded(t.id,{emitEvent:!0,expanded:!t.expanded}),this.checkOnClick&&this.setChecked(t.id,{emitEvent:!0,checked:!t.checked})},handleNodeExpand:function(t){this.setExpanded(t.id,{expanded:!t.expanded,emitEvent:!0})},handleNodeCheck:function(t){if(t.disabled)return!1;this.setChecked(t.id,{checked:!!t.indeterminate||!t.checked,emitEvent:!0,beforeCheck:!0})},setVirtualScrollList:function(){var t=this;this.height&&(this.$refs.virtualScroll?this.$nextTick(function(){t.$refs.virtualScroll.setListData(t.visibleNodes)}):console.warn("virtual dom is not ready"))},resize:function(){this.$refs.virtualScroll&&this.$refs.virtualScroll.resize()}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Qp);var Zp=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._b({staticClass:"bk-navigation"},"div",t.$attrs,!1),["top-bottom"===t.navigationType?n("div",{staticClass:"bk-navigation-header",style:{backgroundColor:t.headThemeColor,flexBasis:t.headHeight+"px"}},[n("navigation-menu-title",{attrs:{"side-title":t.sideTitle}},[t.$slots["side-header"]||t.$slots["side-icon"]?[t.$slots["side-header"]?t._t("side-header",[t.$slots["side-icon"]?n("template",{slot:"side-icon"},[t._t("side-icon")],2):t._e()]):t.$slots["side-icon"]?n("template",{slot:"side-icon"},[t._t("side-icon")],2):t._e()]:t._e()],2),n("div",{staticClass:"header-right"},[t._t("header")],2)],1):t._e(),n("div",{staticClass:"bk-navigation-wrapper"},[t.needMenu?n("div",{staticClass:"navigation-nav",style:{width:t.nav.click?t.hoverWidth+"px":t.navWidth+"px"}},[n("div",{staticClass:"nav-slider",style:{width:t.nav.hover?t.hoverWidth+"px":t.navWidth+"px",backgroundColor:t.defaultThemeColor,borderRight:"top-bottom"!==t.navigationType?"none":"1px solid #DCDEE5"},on:{"&mouseenter":function(e){return t.handleMouseOver(e)},"&mouseleave":function(e){return t.handleMouseLeave(e)}}},["top-bottom"!==t.navigationType?[n("navigation-menu-title",{style:{flexBasis:t.headHeight+"px"},attrs:{"side-title":t.sideTitle}},[t.$slots["side-header"]||t.$slots["side-icon"]?[t.$slots["side-header"]?t._t("side-header",[t.$slots["side-icon"]?n("template",{slot:"side-icon"},[t._t("side-icon")],2):t._e()]):t.$slots["side-icon"]?n("template",{slot:"side-icon"},[t._t("side-icon")],2):t._e()]:t._e()],2)]:t._e(),n("div",{staticClass:"nav-slider-list",style:{height:"calc(100vh - "+(t.headHeight+56)+"px)"}},[t._t("menu")],2),n("div",{staticClass:"nav-slider-footer"},[n("div",{staticClass:"footer-icon",class:{"is-left":"top-bottom"!==t.navigationType},on:{click:function(e){return e.stopPropagation(),t.handleClick(e)}}},[n("span",{staticClass:"footer-icon-svg",style:{transform:t.nav.click?"rotate(180deg)":"rotate(0deg)"}},[n("svg",{staticStyle:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},attrs:{viewBox:"0 0 64 64",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M31,13.5l-4.77,4.77,9.54,9.55H4v6.36H35.76l-9.53,9.55L31,48.5,48.47,31Zm22.65,0v35H60v-35Z"}})])])])])],2)]):t._e(),n("div",{staticClass:"navigation-container",style:{maxWidth:t.needMenu?"calc(100vw - 60px)":"100vw"}},["top-bottom"!==t.navigationType?[n("div",{staticClass:"container-header",style:{flexBasis:t.headHeight+"px"}},[t._t("header",[n("div",{staticClass:"container-header-title"},[t._v(t._s(t.headerTitle))]),n("div",{staticClass:"container-header-sets"},[t._t("header-set")],2)])],2)]:t._e(),n("div",{staticClass:"container-content",style:{maxHeight:"calc(100vh - "+t.headHeight+"px)"}},[t._t("default"),n("div",{staticClass:"container-footer"},[t._t("footer")],2)],2)],2)])])},staticRenderFns:[]},void 0,{name:"bk-navigation",components:{NavigationMenuTitle:Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._b({staticClass:"bk-navigation-title",style:{borderBottomWidth:"left-right"===t.navigationType?"0":"1px"}},"div",t.$attrs,!1),[t._t("default",[n("span",{staticClass:"title-icon"},[t._t("side-icon",[n("i",{staticClass:"bk-icon icon-rtx"})])],2),n("span",{staticClass:"title-desc"},[t._v(t._s(t.sideTitle))])])],2)},staticRenderFns:[]},void 0,{name:"navigation-menu-title",props:{sideTitle:{type:String,default:""},navigationType:{type:String,default:"left-right"}}},void 0,!1,void 0,!1,void 0,void 0,void 0)},props:{navWidth:{type:[Number,String],default:60},hoverWidth:{type:[Number,String],default:260},sideTitle:{type:String,default:""},headerTitle:{type:String,default:""},hoverLeaveDelay:{type:[Number,String],default:0},hoverEnterDelay:{type:[Number,String],default:100},defaultOpen:Boolean,headThemeColor:{type:String,default:"#182132"},themeColor:{type:String,default:"#182132"},headHeight:{type:[Number,String],default:52},navigationType:{type:String,default:"left-right",validator:function(t){return["top-bottom","left-right"].includes(t)}},needMenu:{type:Boolean,default:!0}},provide:function(){return{rootNavigation:this}},data:function(){return{defaultHeaderTitle:"",nav:{click:!1,hover:!1,delay:!1,timer:null,enterTimer:null}}},computed:{defaultThemeColor:{get:function(){var t=["#182132","#FFFFFF"];return t.includes(this.themeColor)?t[+("top-bottom"===this.navigationType)]:this.themeColor}}},created:function(){this.defaultHeaderTitle=this.headerTitle||Vr("bk.navigation.headerTitle"),this.defaultOpen&&(this.nav.click=!this.nav.click,this.nav.hover=this.nav.click,this.$emit("toggle",this.nav.hover))},beforeDestroy:function(){this.nav.timer&&window.clearTimeout(this.nav.timer)},methods:{handleMouseOver:function(t){var e=this;this.nav.click||(this.nav.enterTimer=setTimeout(function(){e.nav.hover=!0,e.nav.enterTimer&&window.clearTimeout(e.nav.enterTimer),e.nav.timer&&window.clearTimeout(e.nav.timer),e.$emit("hover",e.nav.hover),e.$emit("toggle",e.nav.hover)},this.hoverEnterDelay))},handleMouseLeave:function(t){var e=this;this.nav.click||(this.nav.enterTimer&&window.clearTimeout(this.nav.enterTimer),this.nav.timer=setTimeout(function(){e.nav.hover=!1,window.clearTimeout(e.nav.timer),e.$emit("leave",e.nav.hover),e.$emit("toggle",e.nav.hover)},this.hoverLeaveDelay))},handleClick:function(){this.nav.click=!this.nav.click,this.nav.hover=this.nav.click,this.$emit("toggle",this.nav.hover),this.$emit("toggle-click",this.nav.hover)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Zp);var $p=Ct({},void 0,{name:"bk-navigation-menu",provide:function(){return{rootMenu:this}},inject:{rootNavigation:{default:null}},props:{defaultActive:{type:[String,Number],default:""},uniqueOpened:{type:Boolean,default:!0},toggleActive:Boolean,itemHoverBgColor:{type:String,default:"linear-gradient(90deg,rgba(37,48,71,1) 0%,rgba(32,42,60,1) 100%)"},itemHoverColor:{type:String,default:"#D3D9E4"},itemActiveBgColor:{type:String,default:"linear-gradient(90deg,rgba(63,135,255,1) 0%,rgba(58,132,255,1) 100%)"},itemActiveColor:{type:String,default:"#FFFFFF"},itemDefaultBgColor:{type:String,default:"#182132"},itemDefaultColor:{type:String,default:"#ACB9D1"},itemDefaultIconColor:{type:String,default:"#63656E"},itemActiveIconColor:{type:String,default:"#FFFFFF"},itemHoverIconColor:{type:String,default:"#D3D9E4"},itemChildIconDefaultColor:{type:String,default:"#3E4655"},itemChildIconHoverColor:{type:String,default:"#D3D9E4"},itemChildIconActiveColor:{type:String,default:"#FFFFFF"},subMenuOpenBgColor:{type:String,default:"#151D2C"},beforeNavChange:{type:Function,default:function(){return function(){}}}},data:function(){return{activeId:this.defaultActive,item:{},subItems:{}}},computed:{parentId:function(){return this.item.parentMenu?this.item.parentMenu.id:""},navigationType:function(){return this.rootNavigation&&this.rootNavigation.navigationType?this.rootNavigation.navigationType:"left-right"},defItemHoverBgColor:{get:function(){var t=["linear-gradient(270deg,rgba(235,237,243,1) 0%,rgba(240,241,245,1) 100%)","linear-gradient(90deg,rgba(37,48,71,1) 0%,rgba(32,42,60,1) 100%)"];return t.includes(this.itemHoverBgColor)?t[+("left-right"===this.navigationType)]:this.itemHoverBgColor}},defItemHoverColor:{get:function(){var t=["#3A3C42","#D3D9E4"];return t.includes(this.itemHoverColor)?t[+("left-right"===this.navigationType)]:this.itemHoverColor}},defItemActiveBgColor:{get:function(){var t=["linear-gradient(90deg,rgba(63,135,255,1) 0%,rgba(58,132,255,1) 100%)","linear-gradient(90deg,rgba(63,135,255,1) 0%,rgba(58,132,255,1) 100%)"];return t.includes(this.itemActiveBgColor)?t[+("left-right"===this.navigationType)]:this.itemActiveBgColor}},defItemActiveColor:{get:function(){var t=["#FFFFFF","#FFFFFF"];return t.includes(this.itemActiveColor)?t[+("left-right"===this.navigationType)]:this.itemActiveColor}},defItemDefaultBgColor:{get:function(){var t=["#FFFFFF","#182132"];return t.includes(this.itemDefaultBgColor)?t[+("left-right"===this.navigationType)]:this.itemDefaultBgColor}},defItemDefaultColor:{get:function(){var t=["#63656E","#ACB9D1"];return t.includes(this.itemDefaultColor)?t[+("left-right"===this.navigationType)]:this.itemDefaultColor}},defItemDefaultIconColor:{get:function(){var t=["#63656E","#B0BDD5"];return t.includes(this.itemDefaultIconColor)?t[+("left-right"===this.navigationType)]:this.itemDefaultIconColor}},defItemHoverIconColor:{get:function(){var t=["#3A3C42","#D3D9E4"];return t.includes(this.itemHoverIconColor)?t[+("left-right"===this.navigationType)]:this.itemHoverIconColor}},defItemActiveIconColor:{get:function(){var t=["#FFFFFF","#FFFFFF"];return t.includes(this.itemActiveIconColor)?t[+("left-right"===this.navigationType)]:this.itemActiveIconColor}},defSubMenuOpenBgColor:{get:function(){var t=["#F0F1F5","#151D2C"];return t.includes(this.subMenuOpenBgColor)?t[+("left-right"===this.navigationType)]:this.subMenuOpenBgColor}},defItemChildIconDefaultColor:{get:function(){var t=["#979BA5","#3E4655"];return t.includes(this.itemChildIconDefaultColor)?t[+("left-right"===this.navigationType)]:this.itemChildIconDefaultColor}},defItemChildIconHoverColor:{get:function(){var t=["#63656E","#D3D9E4"];return t.includes(this.itemChildIconHoverColor)?t[+("left-right"===this.navigationType)]:this.itemChildIconHoverColor}},defItemChildIconActiveColor:{get:function(){var t=["#FFFFFF","#FFFFFF"];return t.includes(this.itemChildIconActiveColor)?t[+("left-right"===this.navigationType)]:this.itemChildIconActiveColor}}},watch:{defaultActive:function(t){if(this.activeId=t,this.item.id!==t){var e=this.getActiveItem(this.$children,t);e&&(this.item=e)}},toggleActive:function(t){var e=this;this.uniqueOpened&&Ot(this.subItems).forEach(function(n){var i=e.subItems[n];i.menuActive=!e.toggleActive&&n===e.parentId,e.parentId&&e.parentId!==i.id&&(e.item.parentMenu.menuActive=!e.toggleActive),t?i.markCollapse&&i.handleOpen():i.markCollapse&&i.handleClose()})}},mounted:function(){this.$on("item-click",this.handleItemClick),this.$on("sub-menu-click",this.handleSubMenuClick)},beforeDestroy:function(){this.$off("item-click",this.handleItemClick),this.$off("sub-menu-click",this.handleSubMenuClick)},methods:{handleItemClick:function(t){this.handleSetItem(t)},handleSubMenuClick:function(t){this.handleSetSubMenu(t)},handleSetSubMenu:function(t){var e=this,n=t.id;n&&(this.uniqueOpened&&(Ot(this.subItems).forEach(function(t){t!==n&&(e.subItems[t].handleClose(),delete e.subItems[t])}),t.markCollapse=t.collapse),this.subItems[n]=t)},handleSetItem:function(t){var e=this;return s(te.mark(function n(){var i,r;return te.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=!1,n.prev=1,n.next=4,e.beforeNavChange(t.id,e.activeId,d({},t.$props,t.$attrs));case 4:i=n.sent,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),i="boolean"==typeof n.t0&&n.t0;case 10:i?((r=t.id)&&(e.item=t,e.activeId=r),e.$emit("select",e.activeId,d({},t.$props,t.$attrs))):e.activeId===t.id&&(e.item=t);case 11:case"end":return n.stop()}},n,null,[[1,7]])}))()},getActiveItem:function(t,e){for(var n=0,i=t.length;n<i;n++){var r=t[n];if(r.id===e)return r;if(r.$children&&r.$children.length)return this.getActiveItem(r.$children,e)}}},render:function(){return(0,arguments[0])("div",{class:{"navigation-menu":!0},style:{backgroundColor:this.defItemDefaultBgColor},key:this.navigationType},[this.$slots.default])}},void 0,void 0,void 0,!1,void 0,void 0,void 0);Et($p);var Xp=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasChild?n("div",{staticClass:"navigation-sbmenu",class:{"is-disabled":t.disabled},attrs:{disabled:t.disabled,group:t.group}},[n("div",{staticClass:"navigation-sbmenu-title",style:{background:t.menuActiveBgColor},on:{mouseover:function(e){if(e.target!==e.currentTarget)return null;t.handleMouseHover(!t.disabled)},mouseleave:function(e){if(e.target!==e.currentTarget)return null;t.handleMouseHover(!1)},click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSbmenuClick(e)}}},[t.icon?n("span",{staticClass:"bk-icon navigation-sbmenu-title-icon",class:t.icon,style:{color:t.menuActiveIconColor}}):t._e(),n("span",{staticClass:"navigation-sbmenu-title-content",style:{color:t.menuActiveColor}},[t._t("default")],2),n("span",{staticClass:"navigation-sbmenu-title-arrow",style:{transform:t.collapse?"rotate(90deg)":"rotate(0deg)",color:t.menuActiveColor}},[n("svg",{staticClass:"bk-icon",staticStyle:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},attrs:{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M6.19 13.44l-1.13-1.13 4.13-4.12-4.13-4.13 1.13-1.12 5.25 5.25-5.25 5.25z"}})])])]),n("transition",{attrs:{css:!1},on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter,"before-leave":t.beforeLeave,leave:t.leave,"after-leave":t.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],staticClass:"navigation-sbmenu-content"},[t._t("child")],2)])],1):n("a",{staticClass:"navigation-menu-item",class:{"is-disabled":t.disabled,"group-theme":"left-right"!==t.rootMenu.navigationType},style:{background:t.activeBgColor,color:t.activeColor},attrs:{group:t.group,disabled:t.disabled},on:{click:function(e){e.stopPropagation(),t.handleClick(e)},mouseover:function(e){if(e.target!==e.currentTarget)return null;!t.title&&t.handleMouseHover(!t.disabled)},mouseleave:function(e){if(e.target!==e.currentTarget)return null;t.handleMouseHover(!1)}}},[t.icon?n("span",{staticClass:"bk-icon navigation-menu-item-icon",class:t.icon,style:{color:t.activeIconColor}}):t.parentMenu&&t.parentMenu.hasChild?n("span",{staticClass:"navigation-menu-item-default"},[n("i",{staticClass:"navigation-menu-item-default-icon",style:{backgroundColor:t.activeChildIconColor}})]):t._e(),n("span",{staticClass:"navigation-menu-item-name",style:{color:t.activeColor}},[t._t("default")],2)])},staticRenderFns:[]},void 0,{name:"bk-navigation-menu-item",inject:{rootMenu:"rootMenu",parentMenu:{default:null},rootNavigation:{default:null}},provide:function(){return{parentMenu:this}},props:{id:{type:[String,Number],required:!0},disabled:Boolean,icon:{type:[String,Object,Array],validator:function(t){return t.length}},hasChild:Boolean,group:Boolean,title:Boolean},data:function(){return{collapse:!1,menuActive:!1,mouseover:!1}},computed:{isActive:function(){return this.id===this.rootMenu.activeId},activeBgColor:function(){if(this.isActive)return this.rootMenu.defItemActiveBgColor;if(!this.parentMenu){if(this.mouseover)return this.rootMenu.defItemHoverBgColor;if(this.parentMenu&&this.parentMenu.collapse||this.collapse)return this.defSubMenuOpenBgColor}return""},activeColor:function(){return this.isActive?this.rootMenu.defItemActiveColor:this.mouseover?this.rootMenu.defItemHoverColor:this.rootMenu.defItemDefaultColor},activeIconColor:function(){return this.isActive?this.rootMenu.defItemActiveIconColor:this.mouseover?this.rootMenu.defItemHoverIconColor:this.rootMenu.defItemDefaultIconColor},activeChildIconColor:function(){return this.isActive?this.rootMenu.defItemChildIconActiveColor:this.mouseover?this.rootMenu.defItemChildIconHoverColor:this.rootMenu.defItemChildIconDefaultColor},collapseBgColor:function(){return this.parentMenu&&this.parentMenu.collapse||this.collapse?this.rootMenu.defSubMenuOpenBgColor:this.rootMenu.defItemDefaultBgColor},menuActiveBgColor:function(){return this.rootMenu.navigationType&&!this.parentMenu&&this.menuActive?this.rootMenu.defItemActiveBgColor:this.rootMenu.navigationType&&this.collapse?this.rootMenu.defSubMenuOpenBgColor:this.rootMenu.navigationType&&this.mouseover?this.rootMenu.defItemHoverBgColor:this.rootMenu.defItemDefaultBgColor},menuActiveColor:function(){return!this.parentMenu&&this.menuActive?this.rootMenu.defItemActiveColor:this.mouseover&&!this.collapse?this.rootMenu.defItemHoverColor:this.rootMenu.defItemDefaultColor},menuActiveIconColor:function(){return!this.parentMenu&&this.menuActive?this.rootMenu.defItemActiveIconColor:this.mouseover&&!this.collapse?this.rootMenu.defItemHoverIconColor:this.rootMenu.defItemDefaultIconColor}},watch:{"rootMenu.activeId":{handler:"handlerActiveChange"}},created:function(){this.isActive&&this.parentMenu&&(this.rootMenu.uniqueOpened?(this.parentMenu.collapse=!this.rootNavigation||this.rootNavigation.defaultOpen,this.parentMenu.menuActive=!!this.rootNavigation&&!this.rootNavigation.defaultOpen):(this.parentMenu.collapse=!!this.rootNavigation,this.parentMenu.menuActive=!1),this.rootMenu.handleSetItem(this),this.rootMenu.handleSetSubMenu(this.parentMenu))},methods:{handleMouseHover:function(t){this.mouseover=t},handlerActiveChange:function(t,e){this.parentMenu&&this.rootMenu&&(this.id===e&&this.rootMenu.uniqueOpened?(this.rootMenu.parentId&&(this.rootMenu.toggleActive?this.parentMenu.collapse=this.rootMenu.parentId===this.parentMenu.id||!this.rootMenu.uniqueOpened:this.parentMenu.collapse=!this.rootNavigation&&this.rootMenu.uniqueOpened&&this.rootMenu.parentId===this.parentMenu.id),this.parentMenu.menuActive=!1):this.id===t&&(this.rootMenu.uniqueOpened?(this.parentMenu.collapse=!this.rootNavigation||this.rootMenu.toggleActive,this.parentMenu.menuActive=this.rootNavigation&&!this.rootMenu.toggleActive):(this.parentMenu.collapse=!0,this.parentMenu.menuActive=!1),this.rootMenu.handleSetItem(this),this.rootMenu.handleSetSubMenu(this.parentMenu)))},handleClick:function(t){this.disabled||this.title?t.preventDefault():t.metaKey||t.ctrlKey||(t.preventDefault(),this.rootMenu.$emit("item-click",this),this.$emit("click",this.id))},handleSbmenuClick:function(){this.disabled||(this.collapse?this.handleClose():this.handleOpen(),this.rootMenu.$emit("sub-menu-click",this),this.$emit("sub-menu-click",this.id))},handleClose:function(){this.collapse=!1,this.$emit("close",this.id)},handleOpen:function(){this.collapse=!0,this.$emit("open",this.id)},beforeEnter:function(t){t.classList.add("collapse-transition"),t.style.background=this.collapseBgColor,t.style.marginTop="-4px",t.style.height="0"},enter:function(t,e){t.dataset.oldOverflow=t.style.overflow,0!==t.scrollHeight?t.style.height=t.scrollHeight+"px":t.style.height="",t.style.overflow="hidden"},afterEnter:function(t){t.classList.remove("collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow},beforeLeave:function(t){t.dataset.oldOverflow=t.style.overflow,t.style.height=t.scrollHeight+"px",t.style.overflow="hidden"},leave:function(t,e){0!==t.scrollHeight&&(t.classList.add("collapse-transition"),t.style.height=0)},afterLeave:function(t){t.classList.remove("collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(Xp);var Kp=Ct({},void 0,{name:"bk-navigation-menu-group",props:{groupName:{type:String,default:""}},methods:{content:function(t){return this.$slots.group||this.groupName?t("div",{class:{"group-name-wrap":!0}},[t("div",{class:{"group-name":!0}},this.$slots.group||this.groupName)]):null}},render:function(t){var e=this;return t("div",{class:{"bk-navigation-menu-group":!0},on:{click:function(t){return e.$emit("click",t,e.groupName)}}},[this.content(t),this.$slots.default])}},void 0,void 0,void 0,!1,void 0,void 0,void 0);Et(Kp);var qp={bind:function(t,e,n){var i=e.value;t.$value=i,t.copyHandler=function(){var e=n.context;if(t.$value){var i=document.createElement("textarea");i.readOnly=!0,i.style.position="absolute",i.style.left="-9999px",i.value=t.$value,document.body.appendChild(i),i.select(),document.execCommand("Copy")&&e.$bkMessage({theme:"success",message:"复制成功",delay:2e3,dismissable:!1}),document.body.removeChild(i)}else e.$bkMessage({theme:"warning",message:"无复制内容",delay:2e3,dismissable:!1})},t.addEventListener("click",t.copyHandler)},componentUpdated:function(t,e){var n=e.value;t.$value=n},unbind:function(t){t.removeEventListener("click",t.copyHandler)},install:function(t){t.directive("bkCopy",qp)}};var tg={methods:{dispatch:function(t,e,n){for(var i=this.$parent||this.$root,r=i.$options.name;i&&(!r||r!==t);)(i=i.$parent)&&(r=i.$options.name);i&&i.$emit.apply(i,[e].concat(n))},broadcast:function(t,e,n){(function t(e,n,i){this.$children.forEach(function(r){r.$options.name===e?r.$emit.apply(r,[n].concat(i)):t.apply(r,[e,n].concat([i]))})}).call(this,t,e,n)},findComponentDownward:function(t,e){var n=t.$children,i=null;if(n.length){var r,o=x(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.$options.name===e){i=a;break}if(i=this.findComponentDownward(a,e))break}}catch(t){o.e(t)}finally{o.f()}}return i},findComponentUpward:function(t,e,n){n="string"==typeof e?[e]:e;for(var i=t.$parent,r=i.$options.name;i&&(!r||n.indexOf(r)<0);)(i=i.$parent)&&(r=i.$options.name);return i}}},eg=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-cascade",class:{"is-focus":t.showCascade,"is-disabled":t.disabled,"is-unselected":t.isUnselected,"is-default-trigger":!t.$scopedSlots.trigger},attrs:{tabindex:"0","data-placeholder":t.placeContent},on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.showTippyInstance(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"tab",9,e.key,"Tab")?t.handleDropdownHide(e):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?(e.stopPropagation(),e.preventDefault(),t.handleDropdownHide(e)):null}]}},[n("i",{staticClass:"bk-cascade-angle bk-icon icon-angle-down"}),t.clearable&&!t.disabled&&t.selectedName?n("i",{staticClass:"bk-cascade-clear bk-icon icon-close",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.clearData(e)}}}):t._e(),n("bk-popover",{ref:"cascadeDropdown",staticClass:"bk-cascade-dropdown",staticStyle:{"max-width":"100%"},attrs:{trigger:"click",placement:"bottom-start",theme:"light bk-cascade-dropdown",animation:"slide-toggle",distance:12,"on-show":t.handleDropdownShow,"on-hide":t.handleDropdownHide,"tippy-options":t.popoverOptions}},[t.multiple?[t.limitOneLine?n("div",{staticClass:"bk-cascade-name",attrs:{title:t.selectedName}},[n("span",[t._v(t._s(t.selectedName))])]):n("section",[t.multipleSelectedList.length||!t.filterable?n("div",{staticClass:"bk-cascade-tag-list"},t._l(t.multipleSelectedList,function(e,i){return n("span",{key:i,staticClass:"bk-cascade-tag-item",staticStyle:{"padding-right":"18px"}},[n("span",{staticClass:"bk-cascade-item-name",attrs:{title:e.name}},[t._v(t._s(e.name))]),n("a",{staticClass:"remove-key",attrs:{href:"javascript:void(0)",tabindex:"-1"},on:{click:function(n){n.stopPropagation(),t.removeTag(e,i)}}},[n("i",{staticClass:"bk-icon icon-close"})])])}),0):t._e()]),t.filterable?n("div",{staticClass:"bk-cascade-name"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchContent,expression:"searchContent"}],ref:"searchInput",staticClass:"bk-cascade-search-input",attrs:{type:"text",placeholder:t.t("bk.select.searchPlaceholder")},domProps:{value:t.searchContent},on:{input:[function(e){e.target.composing||(t.searchContent=e.target.value)},t.handleSearchInput]}})]):t._e()]:n("div",{staticClass:"bk-cascade-name",attrs:{title:t.selectedName}},[t.filterable?n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchContent,expression:"searchContent"}],ref:"searchInput",staticClass:"bk-cascade-search-input",attrs:{type:"text",placeholder:t.t("bk.select.searchPlaceholder")},domProps:{value:t.searchContent},on:{input:[function(e){e.target.composing||(t.searchContent=e.target.value)},t.handleSearchInput]}}):n("span",[t._v(t._s(t.selectedName))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled,expression:"!disabled"}],class:["bk-cascade-dropdown-content",t.extPopoverCls],style:{width:(t.filterable&&t.searchContent&&t.filterableStatus&&!t.searchList.length||!t.cascadeList.length?t.defaultWidth:t.scrollWidth*t.popoverWidth+2)+"px"},attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"bk-cascade-options",style:{height:(t.filterable&&t.searchContent&&t.filterableStatus&&!t.searchList.length||!t.cascadeList.length?32:t.scrollHeight)+"px"}},[t.filterable&&t.searchContent&&t.filterableStatus?n("div",{staticClass:"bk-cascade-panel"},[n("ul",{staticClass:"bk-cascade-panel-ul",staticStyle:{width:"100%"}},[t._l(t.searchList,function(e,i){return n("li",{key:i,staticClass:"bk-option",class:{"is-selected":e.isSelected,"is-disabled":e.disabled},on:{click:function(n){n.preventDefault(),n.stopPropagation(),t.handleSelectItem(e,i)}}},[n("div",{staticClass:"bk-option-content"},[t._t("default",[n("div",{staticClass:"bk-option-content-default",attrs:{title:e.name}},[n("span",{staticClass:"bk-option-name"},[t._v(t._s(e.name))])])])],2)])}),t.searchList.length?t._e():n("li",{staticClass:"bk-option-none"},[n("span",[t._v(t._s(t.emptyText||t.t("bk.select.searchEmpty")))])])],2)]):t._e(),n("bk-caspanel",{directives:[{name:"show",rawName:"v-show",value:!t.filterableStatus,expression:"!filterableStatus"}],attrs:{list:t.cascadeList,trigger:t.trigger,"scroll-width":t.scrollWidth,disabled:t.disabled,"check-any-level":t.checkAnyLevel,filterable:t.filterable,multiple:t.multiple,"is-remote":t.isRemote,"remote-method":t.remoteMethod},on:{updateSelectedList:t.updateSelectedList},scopedSlots:t._u([{key:"option",fn:function(e){var n=e.node;return[t._t("option",[t._v(t._s(n.name))],{node:n})]}},{key:"prepend",fn:function(e){var n=e.node;return[t._t("prepend",null,{node:n})]}}])})],1)])],2)],1)},staticRenderFns:[]},void 0,{name:"bkCascade",components:{bkPopover:td,bkCaspanel:Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-cascade-panel"},[t.list.length?n("ul",{staticClass:"bk-cascade-panel-ul",class:{"bk-cascade-border":t.childrenList&&t.childrenList.length},style:{width:t.scrollWidth+"px"}},t._l(t.list,function(e,i){return n("option-item",{key:i,attrs:{item:e,"selected-item":t.selectedItem,multiple:t.multiple,"is-remote":t.isRemote},on:{handleCheckItem:t.handleCheckItem},nativeOn:{click:function(n){n.stopPropagation(),t.cascadeClick(e)},mouseenter:function(n){n.stopPropagation(),t.cascadeHover(e)}},scopedSlots:t._u([{key:"option",fn:function(e){var n=e.node;return[t._t("option",null,{node:n})]}},{key:"prepend",fn:function(e){var n=e.node;return[t._t("prepend",null,{node:n})]}}])})}),1):n("ul",{staticClass:"bk-cascade-panel-ul",staticStyle:{width:"100%"}},[n("li",{staticClass:"bk-option-none"},[n("span",[t._v(t._s(t.t("bk.select.dataEmpty")))])])]),t.childrenList&&t.childrenList.length?n("bk-caspanel",{attrs:{list:t.childrenList,trigger:t.trigger,"scroll-width":t.scrollWidth,disabled:t.disabled,multiple:t.multiple,"check-any-level":t.checkAnyLevel,"is-remote":t.isRemote,"remote-method":t.remoteMethod},on:{updateSelectedList:t.updateSelectedList},scopedSlots:t._u([{key:"option",fn:function(e){var n=e.node;return[t._t("option",null,{node:n})]}},{key:"prepend",fn:function(e){var n=e.node;return[t._t("prepend",null,{node:n})]}}])}):t._e()],1)},staticRenderFns:[]},void 0,{name:"bkCaspanel",components:{optionItem:Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"bk-option",class:{"is-selected":t.selectedItem.id===t.item.id,"is-multiple":t.multiple,"is-disabled":t.item.disabled}},[n("div",{staticClass:"bk-option-content"},[t._t("default",[n("div",{staticClass:"bk-option-content-default",attrs:{title:t.item.name}},[t.multiple?n("div",{staticClass:"bk-cascade-check"},[n("bk-checkbox",{attrs:{value:t.item.isSelected,disabled:t.item.disabled,indeterminate:t.item.isIndeterminate},on:{change:t.handleCheckItem}})],1):t._e(),n("span",{staticClass:"bk-option-name",class:{"bk-margin-left":t.multiple}},[t._t("option",null,{node:t.item}),t._t("prepend",null,{node:t.item})],2)])])],2),t.isRemote?[t.item.isLoading?n("i",{staticClass:"bk-icon left-icon icon-loading bk-button-icon-loading bk-cascade-right"},[n("span",{staticClass:"loading"})]):t._e(),t.item.children&&t.item.children.length||void 0===t.item.isLoading&&!t.item.disabled?n("i",{staticClass:"bk-cascade-right bk-icon icon-angle-right"}):t._e()]:[t.item.children&&t.item.children.length?n("i",{staticClass:"bk-cascade-right bk-icon icon-angle-right"}):t._e()]],2)},staticRenderFns:[]},void 0,{name:"optionItem",components:{bkCheckbox:re},props:{item:{type:Object,default:function(){return{}}},selectedItem:{type:Object,default:function(){return{}}},multiple:{type:Boolean,default:!1},isRemote:{type:Boolean,default:!1}},methods:{handleCheckItem:function(){this.$emit("handleCheckItem",this.item)}}},void 0,!1,void 0,!1,void 0,void 0,void 0)},mixins:[tg,Jr.mixin],props:{list:{type:Array,default:function(){return[]}},trigger:{type:String,default:""},scrollWidth:{type:Number,default:160},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},checkAnyLevel:{type:Boolean,default:!1},isRemote:{type:Boolean,default:!1},remoteMethod:{type:Function}},data:function(){return{childrenList:[],selectedList:[],selectedItem:{},multipleSeleted:[]}},mounted:function(){var t=this;this.$on("change-selected",function(e){for(var n=m(e.idList),i=0;i<n.length;i++)for(var r=0;r<t.list.length;r++)if(n[i]===t.list[r].id)return t.handleItemFn(t.list[r],!0),n.splice(0,1),t.$nextTick(function(){t.broadcast("bkCaspanel","change-selected",{idList:n})}),!1}),this.$on("multiple-selected",function(e){var n=e.idList;!function i(r){r.forEach(function(r){n[n.length-1]===r.id&&(r.isSelected=e.isSelected,r.isIndeterminate=!1,t.handleItemFn(r,!0)),r.children&&r.children.length&&i(r.children)})}(t.list)}),this.$on("on-clear",function(){t.childrenList=[],t.selectedItem={}})},methods:{cascadeClick:function(t){"click"!==this.trigger&&t.children&&t.children.length||this.handleItem(t,!1)},cascadeHover:function(t){"hover"===this.trigger&&t.children&&t.children.length&&this.handleItem(t,!1)},handleItem:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.disabled||(this.isRemote?new yu(function(n,i){e.remoteMethod(t,n)}).then(function(){e.handleItemFn(t,n)}).catch(function(){}).finally(function(){t.isLoading=!1}):this.handleItemFn(t,n))},handleItemFn:function(t,e){var n=this;this.broadcast("bkCaspanel","on-clear"),this.childrenList=t.children&&t.children.length?t.children:[],this.multiple&&this.childrenList.length&&!this.checkAnyLevel&&function e(i){i.forEach(function(i){n.childSelected(i,t),n.childIndeterminate(i,t),i.children&&i.children.length&&e(i.children)})}(this.childrenList),(this.checkAnyLevel||t.id!==this.selectedItem.id||t.name!==this.selectedItem.name||t.id===this.selectedItem.id&&t.name===this.selectedItem.name)&&(this.selectedItem=t,this.emitUpdate([t])),this.multiple?this.dispatch("bkCascade","on-multiple-change",{item:t,checkAnyLevel:this.checkAnyLevel,fromInit:e}):this.dispatch("bkCascade","on-id-change",{item:t,isLast:!(t.children&&t.children.length),checkAnyLevel:this.checkAnyLevel,fromInit:e}),this.dispatch("bkCascade","on-popover-width",{item:t})},childSelected:function(t,e){t.disabled||!e.isSelected&&!e.isIndeterminate?t.isSelected=!1:e.isSelected&&(t.isSelected=!0)},childIndeterminate:function(t,e){(t.disabled||!e.isSelected&&!e.isIndeterminate||e.isSelected)&&(t.isIndeterminate=!1)},updateSelectedList:function(t){this.selectedList=[this.selectedItem].concat(t),this.checkAnyLevel||t.forEach(function(t){t.children&&t.children.length&&(t.isSelected=t.children.every(function(t){return t.isSelected||t.disabled}),t.isIndeterminate=!t.isSelected&&t.children.some(function(t){return t.isSelected||t.isIndeterminate}))}),this.emitUpdate(this.selectedList)},emitUpdate:function(t){this.$emit("updateSelectedList",t)},handleCheckItem:function(t){t.isSelected=!t.isSelected,t.isIndeterminate=!1}}},void 0,!1,void 0,!1,void 0,void 0,void 0)},mixins:[tg,Jr.mixin],props:{list:{type:Array,default:function(){return[]}},value:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},scrollWidth:{type:Number,default:160},scrollHeight:{type:Number,default:216},clearable:{type:Boolean,default:!1},checkAnyLevel:{type:Boolean,default:!1},showCompleteName:{type:Boolean,default:!0},filterable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},limitOneLine:{type:Boolean,default:!1},separator:{type:String,default:" / "},trigger:{validator:function(t){return["click","hover"].includes(t)},default:"click"},emptyText:{type:String,default:""},isRemote:{type:Boolean,default:!1},remoteMethod:{type:Function},popoverOptions:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},extPopoverCls:{type:String,default:""}},data:function(){return{popoverWidth:1,historyPopover:0,showCascade:!1,defaultWidth:0,searchContent:"",searchList:[],cascadeList:[],selectedList:[],tmpSelected:[],currentList:[],multipleSelectedList:[],multipleCurrentList:[],filterableStatus:!1,filterRestoreStatus:!1,remoteSearchLoading:!1}},computed:{selectedName:function(){var t=[];return t=this.multiple?this.multipleSelectedList.map(function(t){return t.name}):!this.showCompleteName&&this.selectedList.length?[this.selectedList[this.selectedList.length-1].name]:this.selectedList.map(function(t){return t.name}),this.multiple?t.join(" , "):t.join(this.separator)},isUnselected:function(){return""===this.selectedName},placeContent:function(){return this.placeholder?this.placeholder:this.t("bk.select.pleaseselect")},nodeOptions:function(){return d({idKey:"id",nameKey:"name",childrenKey:"children"},this.options)}},watch:{showCascade:function(t){this.$emit("toggle",t),this.filterableStatus=""!==this.searchContent,t?(this.popoverWidth=1,this.currentList.length&&this.updateSelected()):(this.filterable&&!this.multiple&&(this.searchContent!==this.selectedName&&(this.filterRestoreStatus=!0),this.searchContent=this.selectedName),this.tippyInstance()),this.filterableStatus=!1},searchContent:function(t){this.filterRestoreStatus?this.filterRestoreStatus=!1:t?(this.filterableStatus=!0,this.$refs.cascadeDropdown.$refs.reference._tippy.show(),this.handleDropdownShow(),this.getSearchList()):(this.filterableStatus=!1,this.multiple&&this.recursiveList(this.cascadeList,this.multipleCurrentList,"search"))},selectedName:function(){this.filterable&&!this.multiple&&(this.searchContent=this.selectedName)},list:{handler:function(t){var e=this;if(this.cascadeList=this.recurrenceNodes(JSON.parse(In(t))),this.multiple){this.recursiveList(this.cascadeList,this.multipleCurrentList,"init"),this.checkListStatus(this.multipleCurrentList);var n=this.changeList();this.multipleSelectedList=n.filter(function(t){return t.isSelected}).map(function(t){return{id:t.id,name:t.name}})}else if(this.currentList.length){var i=!1;!function t(n){n.forEach(function(n){n.id===e.currentList[e.currentList.length-1]&&(i=!0),n.children&&n.children.length&&t(n.children)})}(this.cascadeList),i||(this.currentList=[],this.selectedList=[],this.tmpSelected=[])}},deep:!0},value:{handler:function(){this.initValue()},deep:!0}},created:function(){var t=this;this.cascadeList=this.recurrenceNodes(JSON.parse(In(this.list))),this.$on("on-id-change",function(e){var n=e.isLast,i=e.checkAnyLevel,r=e.fromInit;if(n||i){var o=JSON.parse(In(t.currentList));t.selectedList=t.tmpSelected;var a=t.selectedList.map(function(t){return t.id});r||(t.currentList=a,t.exposedId(t.currentList,o))}n&&!r&&t.tippyInstance()}),this.$on("on-multiple-change",function(e){var n=e.checkAnyLevel,i=e.fromInit;t.selectedList=t.tmpSelected;var r=t.selectedList.map(function(t){return t.id});i||(t.currentList=r),n||t.cascadeList.forEach(function(t){t.children&&t.children.length&&(t.isSelected=t.children.every(function(t){return t.isSelected||t.disabled}),t.isIndeterminate=t.children.some(function(t){return t.isIndeterminate||t.isSelected}))});var o=JSON.parse(In(t.multipleCurrentList));t.exposeMultiple(o)}),this.$on("on-popover-width",function(e){var n=e.item;t.popoverWidth=t.tmpSelected.length,n.children&&n.children.length&&(t.popoverWidth+=1)})},mounted:function(){this.initValue(),this.isRemote&&(this.filterable=!1)},methods:{recurrenceNodes:function(t){var e=this;if(!se(t)||!t.length)return[];var n=this.nodeOptions,i=n.idKey,r=n.nameKey,o=n.childrenKey;return t.forEach(function(t,n){t.id=e.multiple?String(t[i]):t[i],t.name=t[r]||"";var a=t[o];se(a)&&(t.children=e.recurrenceNodes(a))}),t},initValue:function(){this.multiple?(this.multipleCurrentList=this.value,this.changeValueList()):(this.currentList=this.value,this.value.length?this.updateSelected():this.clearData())},clearData:function(){if(!this.disabled){if(this.multiple){var t=JSON.parse(In(this.multipleCurrentList));this.multipleCurrentList=[],this.multipleSelectedList=[],this.exposedId(this.multipleCurrentList,t),function t(e){e.forEach(function(e){e.isSelected=!1,e.isIndeterminate=!1,e.children&&e.children.length&&t(e.children)})}(this.cascadeList)}else{var e=JSON.parse(In(this.currentList));this.currentList=[],this.selectedList=[],this.tmpSelected=[],this.exposedId(this.currentList,e)}this.broadcast("bkCaspanel","on-clear"),this.tippyInstance()}},handleDropdownShow:function(){this.popoverWidth=1,this.defaultWidth=this.$el.offsetWidth,this.currentList.length&&this.updateSelected(),this.disabled||(this.showCascade=!0,this.currentList.length||this.broadcast("bkCaspanel","on-clear"))},handleDropdownHide:function(){this.showCascade=!1},tippyInstance:function(){this.$refs.cascadeDropdown&&this.$refs.cascadeDropdown.$refs.reference._tippy.hide()},showTippyInstance:function(){this.$refs.cascadeDropdown&&this.$refs.cascadeDropdown.$refs.reference._tippy.show()},exposedId:function(t,e){if(In(t)!==In(e)){var n=this.multiple?this.multipleSelectedList:this.selectedList;this.$emit("input",t),this.$emit("change",t,e,JSON.parse(In(n)))}},exposeMultiple:function(t){var e=this.changeList();this.multipleSelectedList=[],this.multipleCurrentList=[];for(var n=0;n<e.length;n++)e[n].isSelected&&this.multipleSelectedList.push({id:e[n].id,name:e[n].name});for(var i=0;i<e.length;i++)e[i].isSelected&&this.multipleCurrentList.push(e[i].id);this.exposedId(this.multipleCurrentList,t)},updateSelectedList:function(t){this.tmpSelected=t},updateSelected:function(){this.broadcast("bkCaspanel","change-selected",{idList:this.currentList})},getSearchList:function(){var t=this,e=this.changeList();this.searchList=e.filter(function(e){return e.name&&e.name.indexOf(t.searchContent)>-1}),this.multiple||this.searchList.forEach(function(e){e.isSelected=t.currentList.join(",")===e.id.join(",")})},changeList:function(){var t=this,e=[];return function n(i,r,o){i.forEach(function(i){if(i.id=r?r+t.separator+i.id:i.id,i.name=o?o+t.separator+i.name:i.name,t.checkAnyLevel)e.push({id:String(i.id).split(t.separator),name:i.name,disabled:!!i.disabled,isSelected:!!i.isSelected}),i.children&&i.children.length&&n(i.children,i.id,i.name);else if(i.children&&i.children.length)n(i.children,i.id,i.name),delete i.id,delete i.name;else{if(!i.id.split)return!1;e.push({id:i.id.split(t.separator),name:i.name,disabled:!!i.disabled,isSelected:!!i.isSelected})}})}(JSON.parse(In(this.cascadeList))),e},changeValueList:function(){this.isRemote?this.recursiveList(this.cascadeList,this.value,"search"):this.recursiveList(this.cascadeList,this.value,"init"),this.checkListStatus(this.value);var t=this.changeList();this.multipleSelectedList=t.filter(function(t){return t.isSelected}).map(function(t){return{id:t.id,name:t.name}})},recursiveList:function(t,e,n){var i=this;t.forEach(function(t){"init"===n&&(i.$set(t,"isSelected",!1),i.$set(t,"isIndeterminate",!1)),e.forEach(function(e){se(e)&&(e[e.length-1]===t.id&&(t.isSelected=!0),i.checkAnyLevel||e.forEach(function(e){e===t.id&&(t.isIndeterminate=!0)}))}),t.children&&t.children.length&&i.recursiveList(t.children,e,n)})},checkListStatus:function(t){if(!this.checkAnyLevel){var e=[];t.forEach(function(t){se(t)&&e.push(t.length)});for(var n=Math.max.apply(Math,e),i=0;i<=n;i++)!function t(e){e.forEach(function(e){e.children&&e.children.length&&(e.isSelected=e.children.every(function(t){return t.isSelected||t.disabled}),e.isIndeterminate=e.children.some(function(t){return t.isIndeterminate||t.isSelected}),t(e.children))})}(this.cascadeList)}},handleSelectItem:function(t,e){var n=this;if(!t.disabled)if(this.multiple){var i=JSON.parse(In(this.multipleCurrentList));t.isSelected=!t.isSelected,t.isSelected?(this.multipleCurrentList.push(t.id),this.multipleSelectedList.push({id:t.id,name:t.name})):(this.multipleCurrentList=this.multipleCurrentList.filter(function(e){return e.join("/")!==t.id.join("/")}),this.multipleSelectedList=this.multipleSelectedList.filter(function(e){return e.id.join("/")!==t.id.join("/")})),this.recursiveList(this.cascadeList,this.multipleCurrentList,"search"),this.broadcast("bkCaspanel","multiple-selected",{idList:t.id,isSelected:t.isSelected}),this.exposeMultiple(i)}else{var r=JSON.parse(In(this.currentList));this.currentList=t.id,this.tmpSelected=[],this.selectedList=[],this.updateSelected(),setTimeout(function(){n.searchContent=n.selectedName,n.exposedId(n.currentList,r),n.tippyInstance()},0)}},removeTag:function(t,e){if(!this.disabled){var n=JSON.parse(In(this.multipleCurrentList));this.multipleCurrentList=this.multipleCurrentList.filter(function(e){return e.join(",")!==t.id.join(",")}),this.multipleSelectedList=this.multipleSelectedList.filter(function(e){return e.id.join(",")!==t.id.join(",")});var i=t.id[t.id.length-1];!function t(e){e.forEach(function(e){"".concat(i)==="".concat(e.id)&&(e.isSelected=!1,e.isIndeterminate=!1),e.children&&e.children.length&&t(e.children)})}(this.cascadeList),this.checkListStatus(this.multipleCurrentList),this.exposeMultiple(n)}},handleSearchInput:function(t){var e=t.target.value;this.$emit("search",e,t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(eg);var ng=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{class:["bk-card",{"bk-card-border-none":!t.border}]},[t.showHead?n("div",{class:[t.collapseClass,{collapse:t.collapseActive},{"no-line-height":t.disableHeaderStyle}],on:{click:t.handleCollapse}},[t.isCollapse?n("i",{class:"bk-icon bk-card-head-icon "+t.collapseIcon}):t._e(),t._t("header",[t.showInput?[n("span",{staticClass:"title",attrs:{title:t.renderTitle}},[t._v(t._s(t.renderTitle))]),n("span",{staticClass:"card-edit"},[t.isEdit?n("i",{staticClass:"bk-icon icon-edit-line",on:{click:t.clickEdit}}):t._e()])]:n("bk-input",{ref:"titleInputComp",attrs:{"ext-cls":"bk-card-input"},on:{blur:t.saveEdit,enter:t.saveEdit},model:{value:t.renderTitle,callback:function(e){t.renderTitle=e},expression:"renderTitle"}})])],2):t._e(),t.collapseActive?[n("div",{staticClass:"bk-card-body"},[t._t("default")],2),t.showFoot?n("div",{staticClass:"bk-card-foot"},[t._t("footer")],2):t._e()]:t._e()],2)},staticRenderFns:[]},void 0,{name:"bk-card",components:{bkInput:Th},props:{title:{type:String,default:""},showHead:{type:Boolean,default:!0},showFoot:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},isCollapse:{type:Boolean,default:!1},collapseIcons:{type:Array,default:function(){return["icon-angle-up-line","icon-angle-down-line"]}},position:{type:String,default:"left"},border:{type:Boolean,default:!0},collapseStatus:{type:Boolean,default:!0},disableHeaderStyle:{type:Boolean,default:!1}},data:function(){return{collapseActive:!0,showInput:!0,renderTitle:""}},computed:{collapseIcon:function(){return this.collapseIcons[Number(this.collapseActive)]},collapseClass:function(){return this.isCollapse?"bk-card-head bk-card-head-".concat(this.position):"bk-card-head"}},watch:{title:{immediate:!0,handler:function(t){this.renderTitle=t}},collapseStatus:{immediate:!0,handler:function(t){this.collapseActive=t}}},methods:{handleCollapse:function(){this.isCollapse&&(this.collapseActive=!this.collapseActive,this.$emit("update:collapseStatus",this.collapseActive))},clickEdit:function(){var t=this;this.showInput=!this.showInput,this.$nextTick(function(){t.$refs.titleInputComp&&t.$refs.titleInputComp.focus()})},saveEdit:function(){this.showInput=!0,this.$emit("edit",this.renderTitle)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function ig(t){var e=!1;return function(){for(var n=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];e||(e=!0,window.requestAnimationFrame(function(i){t.apply(n,r),e=!1}))}}Et(ng);var rg=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"bk-zoom"}},[n("div",{ref:"bk-image-viewer-wrapper",staticClass:"bk-image-viewer-wrapper",style:{"z-index":t.zIndex},attrs:{tabindex:"-1"}},[n("div",{staticClass:"bk-image-viewer-mask",on:{click:function(e){t.maskClose&&t.hide()}}}),t.isShowTitle&&t.urlList.length?n("div",{staticClass:"bk-image-viewer-header"},[n("div",[t._v(t._s(t.currentName))]),n("div",{staticClass:"tc "},[t._v(t._s(t.index+1)+"/"+t._s(t.urlList.length))]),n("div",{staticClass:"quit-box tr"},[n("div",{staticClass:"quit-tips mr10"},[t._v(t._s(t.t("bk.imageViewer.quitTips")))]),n("div",{staticClass:"bk-image-viewer-close",on:{click:t.hide}},[n("i",{staticClass:"bk-icon icon-close"})])])]):t._e(),t.isSingle?t._e():[n("div",{staticClass:"bk-image-viewer-btn bk-image-viewer-prev",class:{"is-disabled":!t.infinite&&t.isFirst},on:{click:t.prev}},[n("i",{staticClass:"bk-icon icon-angle-left"})]),n("div",{staticClass:"bk-image-viewer-btn bk-image-viewer-next",class:{"is-disabled":!t.infinite&&t.isLast},on:{click:t.next}},[n("i",{staticClass:"bk-icon icon-angle-right"})])],n("div",{staticClass:"bk-image-viewer-btn bk-image-viewer-actions"},[n("div",{staticClass:"bk-image-viewer-actions-inner"},[n("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:t.t("bk.image.zoomOut"),expression:"t('bk.image.zoomOut')",modifiers:{top:!0}}],staticClass:"bk-icon icon-narrow-line",on:{click:function(e){t.handleActions("zoomOut")}}}),n("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:t.t("bk.image.zoomIn"),expression:"t('bk.image.zoomIn')",modifiers:{top:!0}}],staticClass:"bk-icon icon-enlarge-line",on:{click:function(e){t.handleActions("zoomIn")}}}),n("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:t.t("bk.image.original"),expression:"t('bk.image.original')",modifiers:{top:!0}}],staticClass:"bk-icon icon-normalized",on:{click:function(e){t.toggleMode("original")}}}),n("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:t.t("bk.image.rotateLeft"),expression:"t('bk.image.rotateLeft')",modifiers:{top:!0}}],staticClass:"bk-icon icon-left-turn-line",on:{click:function(e){t.handleActions("anticlocelise")}}}),n("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:t.t("bk.image.rotateRight"),expression:"t('bk.image.rotateRight')",modifiers:{top:!0}}],staticClass:"bk-icon icon-right-turn-line",on:{click:function(e){t.handleActions("clockwise")}}}),n("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:t.t("bk.image.fullScreen"),expression:"t('bk.image.fullScreen')",modifiers:{top:!0}}],staticClass:"bk-icon icon-unfull-screen",on:{click:function(e){t.toggleMode("contain")}}})])]),n("div",{staticClass:"bk-image-viewer-canvas",class:{"bk-image-viewer-has-header":t.isShowTitle}},[t.error?n("div",{staticClass:"bk-image-viewer-error"},[n("div",[n("i",{staticClass:"bk-icon icon-image-fail"})]),n("div",[t._v(t._s(t.t("bk.imageViewer.loadFailed")))])]):t._e(),t._l(t.urlList,function(e,i){return i===t.index?n("img",{directives:[{name:"show",rawName:"v-show",value:!t.error,expression:"!error"}],key:e,ref:"img",refInFor:!0,staticClass:"bk-image-viewer-img",style:t.imgStyle,attrs:{src:t.currentImg},on:{load:t.handleImgLoad,error:t.handleImgError,mousedown:t.handleMouseDown}}):t._e()})],2)],2)])},staticRenderFns:[]},void 0,{name:"bk-image-viewer",mixins:[Jr.mixin],props:{urlList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3},onSwitch:{type:Function,default:function(){}},onClose:{type:Function,default:function(){}},isShowTitle:{type:Boolean,default:!0},initialIndex:{type:Number,default:0},maskClose:{type:Boolean,default:!0}},data:function(){return{name:"",index:this.initialIndex,isShow:!1,infinite:!0,loading:!1,error:!1,mode:"contain",transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},computed:{isSingle:function(){return this.urlList.length<=1},isFirst:function(){return 0===this.index},isLast:function(){return this.index===this.urlList.length-1},currentImg:function(){return this.urlList[this.index]},currentName:function(){var t=this.currentImg.split("/");return t[t.length-1]},imgStyle:function(){var t=this.transform,e=t.scale,n=t.deg,i=t.offsetX,r=t.offsetY,o=t.enableTransition,a={transform:"scale(".concat(e,") rotate(").concat(n,"deg)"),transition:o?"transform .3s":"","margin-left":"".concat(i,"px"),"margin-top":"".concat(r,"px")};return"contain"===this.mode&&(a.maxWidth=a.maxHeight="100%"),a}},watch:{index:{handler:function(t){this.reset(),this.onSwitch(t),this.$emit("change",t)}},currentImg:function(t){var e=this;this.$nextTick(function(t){e.$refs.img[0].complete||(e.loading=!0)})}},mounted:function(){this.deviceSupportInstall(),this.$refs["bk-image-viewer-wrapper"].focus()},methods:{hide:function(){this.deviceSupportUninstall(),this.onClose(),this.$emit("hide")},deviceSupportInstall:function(){var t=this;this._keyDownHandler=ig(function(e){switch(e.keyCode){case 27:t.hide();break;case 32:t.toggleMode();break;case 37:t.prev();break;case 38:t.handleActions("zoomIn");break;case 39:t.next();break;case 40:t.handleActions("zoomOut")}}),this._mouseWheelHandler=ig(function(e){(e.wheelDelta?e.wheelDelta:-e.detail)>0?t.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):t.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})}),Pt(document,"keydown",this._keyDownHandler),Pt(document,"mousewheel",this._mouseWheelHandler)},deviceSupportUninstall:function(){Rt(document,"keydown",this._keyDownHandler),Rt(document,"mousewheel",this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad:function(t){this.loading=!1,this.error=!1},handleImgError:function(t){this.error=!0,this.loading=!1,t.target.alt="加载失败"},handleMouseDown:function(t){var e=this;if(!this.loading&&0===t.button){var n=this.transform,i=n.offsetX,r=n.offsetY,o=t.pageX,a=t.pageY;this._dragHandler=ig(function(t){e.transform.offsetX=i+t.pageX-o,e.transform.offsetY=r+t.pageY-a}),Pt(document,"mousemove",this._dragHandler),Pt(document,"mouseup",function(t){Rt(document,"mousemove",e._dragHandler)}),t.preventDefault()}},reset:function(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode:function(t){this.loading||(this.mode=t,this.reset())},prev:function(){if(!this.isFirst||this.infinite){var t=this.urlList.length;this.index=(this.index-1+t)%t}},next:function(){if(!this.isLast||this.infinite){var t=this.urlList.length;this.index=(this.index+1)%t}},handleActions:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.loading){var n=f({zoomRate:.2,rotateDeg:90,enableTransition:!0},e),i=n.zoomRate,r=n.rotateDeg,o=n.enableTransition,a=this.transform;switch(t){case"zoomOut":a.scale>.2&&(a.scale=no((a.scale-i).toFixed(3)));break;case"zoomIn":a.scale=no((a.scale+i).toFixed(3));break;case"clockwise":a.deg+=r;break;case"anticlocelise":a.deg-=r}a.enableTransition=o}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(rg);var og=function(){return void 0!==document.documentElement.style.objectFit},ag="contain",sg="",lg=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-image"},[t.loading?t._t("placeholder",[t._m(0)]):t.error?t._t("error",[n("div",{staticClass:"bk-image-placeholder"},[t.fallback?n("img",{attrs:{src:t.fallback}}):n("i",{staticClass:"bk-icon icon-image-fail"})])]):n("img",t._g(t._b({staticClass:"bk-image-inner",class:{"bk-image-inner-center":t.alignCenter,"bk-image-preview":t.preview},style:t.imageStyle,attrs:{src:t.src},on:{click:t.clickHandler}},"img",t.$attrs,!1),t.$listeners)),t.preview?[t.showViewer?n("bk-image-viewer",{attrs:{"z-index":t.zIndex,"is-show-title":t.isShowPreviewTitle,"initial-index":t.imageIndex,"url-list":t.previewSrcList,"on-close":t.closeViewer,"mask-close":t.maskClose}}):t._e()]:t._e()],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bk-image-placeholder"},[e("i",{staticClass:"bk-icon icon-image"})])}]},void 0,{name:"bk-image",components:{bkImageViewer:rg},mixins:[Jr.mixin],props:{src:String,fallback:String,fit:String,lazy:Boolean,scrollContainer:{type:Object,default:function(){return{}}},previewSrcList:{type:Array,default:function(){return[]}},isShowPreviewTitle:{type:Boolean,default:!0},zIndex:{type:Number,default:2e3},maskClose:{type:Boolean,default:!0}},data:function(){return{loading:!0,error:!1,show:!this.lazy,imageWidth:0,imageHeight:0,showViewer:!1}},computed:{imageStyle:function(){var t=this.fit;return!this.$isServer&&t?og()?{"object-fit":t}:this.getImageStyle(t):{}},alignCenter:function(){return!this.$isServer&&!og()&&"fill"!==this.fit},preview:function(){var t=this.previewSrcList;return se(t)&&t.length>0},imageIndex:function(){var t=0,e=this.previewSrcList.indexOf(this.src);return e>=0&&(t=e),t}},watch:{src:function(t){this.show&&this.loadImage()},show:function(t){t&&this.loadImage()}},mounted:function(){this.lazy?this.addLazyLoadListener():this.loadImage()},beforeDestroy:function(){this.lazy&&this.removeLazyLoadListener()},methods:{loadImage:function(){var t=this;if(!this.$isServer){this.loading=!0,this.error=!1;var e=new Image;e.onload=function(n){return t.handleLoad(n,e)},e.onerror=this.handleError.bind(this),Ot(this.$attrs).forEach(function(n){var i=t.$attrs[n];e.setAttribute(n,i)}),e.src=this.src}},handleLoad:function(t,e){this.imageWidth=e.width,this.imageHeight=e.height,this.loading=!1,this.error=!1},handleError:function(t){this.loading=!1,this.error=!0,this.$emit("error",t)},handleLazyLoad:function(){(function(t,e){if(!t||!e)return!1;var n,i=t.getBoundingClientRect();return n=[window,document,document.documentElement,null,void 0].includes(e)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:e.getBoundingClientRect(),i.top<n.bottom&&i.bottom>n.top&&i.right>n.left&&i.left<n.right})(this.$el,this._scrollContainer)&&(this.show=!0,this.removeLazyLoadListener())},addLazyLoadListener:function(){if(!this.$isServer){var t,e,n=this.scrollContainer;(e=(t=n)&&t.nodeType===Node.ELEMENT_NODE?n:uo(n)?document.querySelector(n):[window,document,document.documentElement].includes(this.$el)?window:this.$el.parentNode)&&(this._scrollContainer=e,this._lazyLoadHandler=St(200,this.handleLazyLoad),Pt(e,"scroll",this._lazyLoadHandler),this.handleLazyLoad())}},removeLazyLoadListener:function(){var t=this._scrollContainer,e=this._lazyLoadHandler;!this.$isServer&&t&&e&&(Rt(t,"scroll",e),this._scrollContainer=null,this._lazyLoadHandler=null)},getImageStyle:function(t){var e=this.imageWidth,n=this.imageHeight,i=this.$el,r=i.clientWidth,o=i.clientHeight;if(!(e&&n&&r&&o))return{};var a=e/n<1;switch("scale-down"===t&&(t=e<r&&n<o?"none":ag),t){case"none":return{width:"auto",height:"auto"};case ag:return a?{width:"auto"}:{height:"auto"};case"cover":return a?{height:"auto"}:{width:"auto"};default:return{}}},clickHandler:function(){this.preview&&(sg=document.body.style.overflow,document.body.style.overflow="hidden",this.showViewer=!0)},closeViewer:function(){document.body.style.overflow=sg,this.showViewer=!1}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(lg);var ug=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-breadcrumb",attrs:{"aria-label":"Breadcrumb",role:"navigation"}},[!t.$slots.prefix&&t.backRouter?n("div",{staticClass:"bk-breadcrumb-goback"},[n("i",{staticClass:"bk-icon icon-arrows-left icon-default",on:{click:t.goBack}})]):t._e(),t.$slots.prefix?n("div",{staticClass:"bk-breadcrumb-goback"},[t._t("prefix")],2):t._e(),t._t("default")],2)},staticRenderFns:[]},void 0,{name:"bk-breadcrumb",props:{separator:{type:String,default:"/"},separatorClass:{type:String,default:""},backRouter:{type:[Object,String],default:function(){return null}},replace:{type:Boolean,default:!1}},provide:function(){return{bkBreadcrumb:this}},mounted:function(){var t=this.$el.querySelectorAll(".bk-breadcrumb__item");t.length&&t[t.length-1].setAttribute("aria-current","page")},methods:{goBack:function(){var t=this.backRouter,e=this.$router;t&&e&&(this.replace?e.replace(t):e.push(t))}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(ug);var cg=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bk-breadcrumb-item"},[n("span",{ref:"link",class:["bk-breadcrumb-item-inner",t.to?"is-link":""],attrs:{role:"link"},on:{click:t.jump}},[t._t("default")],2),t.$parent.separatorClass?n("i",{staticClass:"bk-breadcrumb-separator",class:t.$parent.separatorClass}):n("span",{staticClass:"bk-breadcrumb-separator",attrs:{role:"presentation"}},[t._v(t._s(t.$parent.separator))])])},staticRenderFns:[]},void 0,{name:"bk-breadcrumb-item",props:{to:{type:[Object,String],default:function(){return null}},replace:{type:Boolean,default:!1}},methods:{jump:function(){var t=this.to,e=this.$router;t&&e&&(this.replace?e.replace(t):e.push(t))}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(cg);var hg=Ct({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bk-divider",style:this.style},["horizontal"===this.direction?e("div",{class:["bk-divider-info","bk-divider-info-"+this.align]},[this._t("default")],2):this._e()])},staticRenderFns:[]},void 0,{name:"bk-divider",props:{direction:{type:String,default:"horizontal",validator:function(t){return-1!==["horizontal","vertical"].indexOf(t)}},align:{type:String,default:"center",validator:function(t){return-1!==["left","center","right"].indexOf(t)}},color:{type:String,default:"#dcdee5"},width:{type:Number,default:1},type:{type:String,default:"solid"}},data:function(){return{}},computed:{style:function(){return"vertical"===this.direction?{display:"inline-block",width:0,height:"1em",margin:"0 8px",verticalAlign:"middle",borderRight:"".concat(this.width,"px ").concat(this.type," ").concat(this.color)}:{display:"block",width:"100%",height:0,margin:"1em 0",verticalAlign:"middle",borderBottom:"".concat(this.width,"px ").concat(this.type," ").concat(this.color)}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(hg);var dg=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{class:t.classes,style:t.style,on:{click:t.handleClick}},[t.icon?n("i",{class:"bk-icon bk-tag-icon "+t.icon}):t._e(),n("span",[t._t("default")],2),t.closable?n("i",{staticClass:"bk-icon icon-close bk-tag-close",on:{click:function(e){return e.stopPropagation(),t.handleClose(e)}}}):t._e()])},staticRenderFns:[]},void 0,{name:"bk-tag",props:{icon:{type:String,default:""},closable:{type:Boolean,default:!1},theme:{type:String,default:""},type:{type:String,default:""},checkable:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},radius:{type:String,default:"2px"},extCls:{type:String,default:""}},data:function(){return{}},computed:{classes:function(){return["bk-tag",this.closable?"bk-tag-closable":"",this.type?"bk-tag-".concat(this.type):"",this.theme?"bk-tag-".concat(this.theme):"",this.checkable?"bk-tag-checkable":"",this.checked?"bk-tag-check":"",this.extCls]},style:function(){return{"border-radius":this.radius}}},watch:{},methods:{handleClose:function(t){t.stopPropagation(),this.$emit("close",t)},handleClick:function(t){this.checkable&&this.$emit("change",!this.checked)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(dg);var fg=Oi.onFreeze;Tt("freeze",function(t){return function(e){return t&&k(e)?t(fg(e)):e}});var pg=M.Object.freeze,gg=Ct({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.extCls,"bk-resize-layout","bk-resize-layout-"+t.placement,{"bk-resize-layout-collapsed":t.collapsed,"bk-resize-layout-border":t.border}]},[n("aside",{ref:"aside",staticClass:"bk-resize-layout-aside",style:t.computedAsideStyle},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.asideContentVisible,expression:"asideContentVisible"}],staticClass:"bk-resize-layout-aside-content"},[t._t("aside")],2),n("i",{directives:[{name:"show",rawName:"v-show",value:!t.disabled&&(!t.collapsed||t.autoMinimize),expression:"!disabled && (!collapsed || autoMinimize)"}],staticClass:"bk-resize-trigger",style:t.computedTriggerStyle,on:{mousedown:function(e){return!("button"in e)&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:void t.handleMousedown(e)}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:!t.collapsed||t.autoMinimize,expression:"!collapsed || autoMinimize"}],ref:"resizeProxy",class:["bk-resize-proxy",t.placement]}),t.collapsible?t._t("collapse-trigger",[n("i",{staticClass:"bk-resize-collapse bk-icon icon-angle-left",on:{click:t.setCollapse}})]):t._e()],2),n("main",{staticClass:"bk-resize-layout-main"},[t._t("main")],2),n("div",{ref:"resizeMask",staticClass:"bk-resize-mask"})])},staticRenderFns:[]},void 0,{name:"bk-resize-layout",props:{placement:{default:function(){return"left"},validator:function(t){return["top","right","bottom","left"].includes(t)}},min:{type:Number,default:3,validator:function(t){return t>=3}},max:{type:Number,default:1/0},triggerWidth:{type:Number,default:5},triggerOffset:{type:Number,default:3},initialDivide:{type:[String,Number],default:"20%"},immediate:Boolean,disabled:Boolean,collapsible:Boolean,autoMinimize:{type:[Boolean,Number],default:!1},border:{type:Boolean,default:!0},extCls:String},data:function(){return{collapsed:!1,asideContentVisible:!0,minimized:!1,limitMax:null,state:{}}},computed:{vertical:function(){return["left","right"].includes(this.placement)},computedStyleKey:function(){return this.vertical?"width":"height"},computedAsideStyle:function(){var t=this.initialDivide;return"number"==typeof t&&(t="".concat(t,"px")),h({},this.computedStyleKey,t)},computedTriggerStyle:function(){var t;return h(t={},"margin-".concat(this.placement),"".concat(this.triggerOffset-this.triggerWidth,"px")),h(t,this.computedStyleKey,"".concat(this.triggerWidth,"px")),t},computedAutoMinimize:function(){return this.autoMinimize?"boolean"==typeof this.autoMinimize?50:this.autoMinimize:0}},mounted:function(){this.setupLimit(),Jd(this.$el,this.setupLimit)},beforeDestroy:function(){Qd(this.$el,this.setupLimit)},methods:{setupLimit:function(){var t=this.$el.getBoundingClientRect();this.limitMax=this.vertical?t.width:t.height},updateResizeProxyStyle:function(){var t=this.placement,e=this.$refs.resizeProxy;switch(e.style.visibility="visible",t){case"left":e.style.inset="0 auto auto ".concat(this.state.aside.width,"px");break;case"right":e.style.inset="0  ".concat(this.state.aside.width,"px auto auto");break;case"top":e.style.inset="".concat(this.state.aside.height,"px auto auto 0");break;case"bottom":e.style.inset="auto auto ".concat(this.state.aside.height,"px 0")}},updateResizeMaskStyle:function(){var t=this.$refs.resizeMask;t.style.display="block",t.style.cursor=this.vertical?"col-resize":"row-resize"},getRealValue:function(t){return Math.min(this.max,Math.max(this.min,t),this.limitMax-this.triggerWidth)},handleMousedown:function(t){var e=this;this.$emit("before-resize",t);var n=this.placement,i=this.$refs.aside,r=i.getBoundingClientRect(),o=this.$refs.resizeProxy,a=this.$refs.resizeMask;this.state=pg({mouse:{clientX:t.clientX,clientY:t.clientY},aside:{width:r.width,height:r.height}}),this.updateResizeMaskStyle(),this.immediate||this.updateResizeProxyStyle(),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};var s=St(100,function(t){return e.$emit("resizing",t)}),l=function(t){var r;switch(n){case"top":r=t.clientY-e.state.mouse.clientY;break;case"right":r=e.state.mouse.clientX-t.clientX;break;case"bottom":r=e.state.mouse.clientY-t.clientY;break;case"left":r=t.clientX-e.state.mouse.clientX}var a=e.state.aside[e.computedStyleKey]+r,l=e.getRealValue(a)+e.triggerOffset,u="".concat(l,"px");e.immediate?i.style[e.computedStyleKey]=u:o.style[n]=u,s(l)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",function t(r){if(s.cancel(),o.style.visibility="hidden",a.style.display="none",document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",t),document.onselectstart=null,document.ondragstart=null,e.$nextTick(function(){e.setupAutoMinimize(),e.$emit("after-resize",no(o.style[n],10))}),e.immediate)return!1;i.style[e.computedStyleKey]=o.style[n]})},setupAutoMinimize:function(){var t=this;if(!this.autoMinimize)return!1;var e=this.$refs.aside,n=e.getBoundingClientRect();if(this.minimized=this.collapsed=n[this.computedStyleKey]<=this.computedAutoMinimize,!this.minimized)return this.asideContentVisible=!0,!1;this.setupAsideAnimation(),this.$nextTick(function(){e.setAttribute("data-".concat(t.computedStyleKey),t.computedAsideStyle[t.computedStyleKey])})},setCollapse:function(t){this.collapsed="boolean"==typeof t?t:!this.collapsed,this.setupAsideAnimation(),this.$emit("collapse-change",this.collapsed)},setupAsideAnimation:function(){var t=this.$refs.aside,e=t.getBoundingClientRect();this.setupAsideListener(!this.collapsed),this.collapsed?(t.setAttribute("data-".concat(this.computedStyleKey),e[this.computedStyleKey]+"px"),t.style[this.computedStyleKey]="5px"):(this.asideContentVisible=!0,t.style[this.computedStyleKey]=t.getAttribute("data-".concat(this.computedStyleKey)))},setupAsideListener:function(t){var e=this,n=this.$refs.aside;n.addEventListener("transitionend",function i(){e.asideContentVisible=t,n.style.transition="",n.removeEventListener("transitionend",i)}),n.style.transition="".concat(this.computedStyleKey," cubic-bezier(0.4, 0, 0.2, 1) .3s")}}},void 0,!1,void 0,!1,void 0,void 0,void 0);Et(gg);var vg={bkBackTop:It,bkAffix:Lt,bkFixedNavbar:Dt,bkTransition:Qt,bkAlert:Zt,bkBadge:Kt,bkButton:qt,bkAnimateNumber:Xt,bkCheckbox:re,bkCheckboxGroup:oe,bkCollapse:le,bkCollapseItem:ue,bkColorPicker:_n,bkComposeFormItem:Mn,bkDatePicker:So,bkDialog:Ko,bkDiff:$s,bkDropdownMenu:Xs,bkException:dl,bkForm:bu,bkFormItem:wh,bkIcon:Sh,bkInput:Th,bkOption:$h,bkOptionGroup:Xh,bkPagination:vd,bkPopover:td,bkPopconfirm:md,bkProcess:Md,bkProgress:Cd,bkRadio:kd,bkRadioButton:Td,bkRadioGroup:Od,bkRoundProgress:Ed,bkSelect:gd,bkSideslider:Zd,bkSlider:$d,bkSteps:Xd,bkSwitcher:Kd,bkTab:qd,bkTabPanel:tf,bkTable:tp,bkTableColumn:ap,bkTableSettingContent:sp,bkTagInput:mp,bkTimePicker:yp,bkTimeline:bp,bkTransfer:xp,bkTree:Sp,bkUpload:Ap,bkContainer:Np,bkCol:Lp,bkRow:Dp,bkNavigation:Zp,bkNavigationMenu:$p,bkNavigationMenuItem:Xp,bkNavigationMenuGroup:Kp,bkSearchSelect:Gp,bkRate:Pp,bkStar:jp,bkSwiper:Rp,bkVirtualScroll:hd,bkZoomImage:zp,bkBigTree:Qp,bkLink:Xf,bkCascade:eg,bkVersionDetail:Bp,bkCard:ng,bkImage:lg,bkImageViewer:rg,bkBreadcrumb:ug,bkBreadcrumbItem:cg,bkDivider:hg,bkTag:dg,bkResizeLayout:gg,bkSpin:Tf,bkVirtualRender:Qf},mg={bkClickoutside:yn,bkTooltips:xh,bkLoading:Ph,bkOverflowTips:Uf,bkCopy:qp};function yg(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Jr.use(e.locale),Jr.i18n(e.i18n),t.prototype.$BK_EL={zIndex:e.zIndex||2e3},mt(vg).forEach(function(n){t.use(n,f({namespace:e.namespace},e[n.name]||{}))}),mt(mg).forEach(function(e){t.use(e)})}"undefined"!=typeof window&&window.Vue&&yg(window.Vue);var bg=f({},vg,mg,{bkMessage:Wh,bkNotify:Zh,bkInfoBox:kh,locale:Jr,lang:ki,install:yg});e.bkAffix=Lt,e.bkAlert=Zt,e.bkAnimateNumber=Xt,e.bkBackTop=It,e.bkBadge=Kt,e.bkBigTree=Qp,e.bkBreadcrumb=ug,e.bkBreadcrumbItem=cg,e.bkButton=qt,e.bkCard=ng,e.bkCascade=eg,e.bkCheckbox=re,e.bkCheckboxGroup=oe,e.bkClickoutside=yn,e.bkCol=Lp,e.bkCollapse=le,e.bkCollapseItem=ue,e.bkColorPicker=_n,e.bkComposeFormItem=Mn,e.bkContainer=Np,e.bkCopy=qp,e.bkDatePicker=So,e.bkDialog=Ko,e.bkDiff=$s,e.bkDivider=hg,e.bkDropdownMenu=Xs,e.bkException=dl,e.bkFixedNavbar=Dt,e.bkForm=bu,e.bkFormItem=wh,e.bkIcon=Sh,e.bkImage=lg,e.bkImageViewer=rg,e.bkInfoBox=kh,e.bkInput=Th,e.bkLink=Xf,e.bkLoading=Ph,e.bkMessage=Wh,e.bkNavigation=Zp,e.bkNavigationMenu=$p,e.bkNavigationMenuGroup=Kp,e.bkNavigationMenuItem=Xp,e.bkNotify=Zh,e.bkOption=$h,e.bkOptionGroup=Xh,e.bkOverflowTips=Uf,e.bkPagination=vd,e.bkPopconfirm=md,e.bkPopover=td,e.bkProcess=Md,e.bkProgress=Cd,e.bkRadio=kd,e.bkRadioButton=Td,e.bkRadioGroup=Od,e.bkRate=Pp,e.bkResizeLayout=gg,e.bkRoundProgress=Ed,e.bkRow=Dp,e.bkSearchSelect=Gp,e.bkSelect=gd,e.bkSideslider=Zd,e.bkSlider=$d,e.bkSpin=Tf,e.bkStar=jp,e.bkSteps=Xd,e.bkSwiper=Rp,e.bkSwitcher=Kd,e.bkTab=qd,e.bkTabPanel=tf,e.bkTable=tp,e.bkTableColumn=ap,e.bkTableSettingContent=sp,e.bkTag=dg,e.bkTagInput=mp,e.bkTimePicker=yp,e.bkTimeline=bp,e.bkTooltips=xh,e.bkTransfer=xp,e.bkTransition=Qt,e.bkTree=Sp,e.bkUpload=Ap,e.bkVersionDetail=Bp,e.bkVirtualRender=Qf,e.bkVirtualScroll=hd,e.bkZoomImage=zp,e.default=bg,e.install=yg,e.lang=ki,e.locale=Jr,Object.defineProperty(e,"__esModule",{value:!0})})(e,n("7+uW"),n("o/zv"))}).call(e,n("DuR2"),"/")},"W/hD":function(t,e){},W2nU:function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,u=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var t=s(d);c=!0;for(var e=u.length;e;){for(l=u,u=[];++h<e;)l&&l[h].run();h=-1,e=u.length}l=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},W3MN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.targetName=void 0;var i=n("cEWm"),r=n("gNUp"),o=n("xu9d");e.targetName=function(t){return function(e,n,a){var s=new r.Metadata(i.NAME_TAG,t);o.tagParameter(e,n,a,s)}}},WIrS:function(t,e){t.exports=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}},Wb5I:function(t,e,n){"use strict";function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var l=o?Object.getOwnPropertyDescriptor(t,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=t[s]}r.default=t,n&&n.set(t,r);return r}(n("6Kz3")),o=n("LsnM");function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}var s="undefined"!=typeof self?self:{};s.onmessage=function(t){var e=t.data,n=e._algorithmType,i=e.data;if(n)if("function"!=typeof r[n])s.postMessage({_algorithmType:o.MESSAGE.FAILURE});else{var a=r[n].apply(r,i);s.postMessage({_algorithmType:o.MESSAGE.SUCCESS,data:a})}};e.default=null},X6mv:function(t,e){t.exports=function(t,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")},t.exports.__esModule=!0,t.exports.default=t.exports},X7CL:function(t,e,n){var i=n("QGUm");t.exports=function(t,e,n){return function(t,e,n){var i={},r=t.nodes();return r.forEach(function(t){i[t]={},i[t][t]={distance:0},r.forEach(function(e){t!==e&&(i[t][e]={distance:Number.POSITIVE_INFINITY})}),n(t).forEach(function(n){var r=n.v===t?n.w:n.v,o=e(n);i[t][r]={distance:o,predecessor:t}})}),r.forEach(function(t){var e=i[t];r.forEach(function(n){var o=i[n];r.forEach(function(n){var i=o[t],r=e[n],a=o[n],s=i.distance+r.distance;s<a.distance&&(a.distance=s,a.predecessor=r.predecessor)})})}),i}(t,e||r,n||function(e){return t.outEdges(e)})};var r=i.constant(1)},X8DO:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"XL/v":function(t,e,n){"use strict";n.d(e,"a",function(){return k});var i,r,o,a,s,l,u,c,h,d=n("En79"),f=n.n(d),p=n("7hDC"),g=n.n(p),v=n("dYct"),m=n.n(v),y=n("Z60a"),b=n.n(y),x=n("jb0h"),w=n.n(x),_=n("X6mv"),S=(n.n(_),n("YulH")),M=(n.n(S),n("Klor")),C=n("hVtj"),I=n("KqSj"),k=(i=Object(S.injectable)(),r=Object(S.inject)(M.a.RenderEngine),o=Object(S.inject)(M.a.ResourcePool),i((h=c=function t(){var e=this;b()(this,t),m()(this,"engine",l,this),m()(this,"resourcePool",u,this),this.model=void 0,this.setup=function(t,e,n){var i=t.getPass(I.a.IDENTIFIER);if(i){var r=t.createRenderTarget(e,"render to screen",{width:1,height:1});n.data={input:e.read(i.data.output),output:e.write(t,r)}}},this.execute=function(){var t=g()(f.a.mark(function t(n,i){var r,o,a,s,l,u,c;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.engine,o=r.createModel,a=r.createAttribute,s=r.createBuffer,e.model){t.next=6;break}return t.next=4,o({vs:e.engine.supportWebGPU?"layout(location = 0) in vec2 a_Position;\nlayout(location = 0) out vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}":"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:e.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform sampler u_TextureSampler;\nlayout(set = 0, binding = 1) uniform texture2D u_Texture;\n\nlayout(location = 0) in vec2 v_UV;\nlayout(location = 0) out vec4 outColor;\n\nvoid main() {\n  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);\n}":"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",attributes:{a_Position:a({buffer:s({data:[-4,-4,4,-4,0,4],type:C.a.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:l=t.sent,e.model=l;case 6:u=n.getResourceNode(i.data.input),c=e.resourcePool.getOrCreateResource(u.resource),e.engine.useFramebuffer(null,function(){e.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),e.model.draw({uniforms:{u_Texture:c}})});case 9:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),this.tearDown=function(){e.model=void 0}},c.IDENTIFIER="Copy Pass",s=h,l=w()(s.prototype,"engine",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=w()(s.prototype,"resourcePool",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=s))||a)},XLwt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};n.d(i,"create",function(){return b}),n.d(i,"copy",function(){return x}),n.d(i,"clone",function(){return w}),n.d(i,"set",function(){return _}),n.d(i,"add",function(){return S}),n.d(i,"scaleAndAdd",function(){return M}),n.d(i,"sub",function(){return C}),n.d(i,"len",function(){return I}),n.d(i,"length",function(){return k}),n.d(i,"lenSquare",function(){return T}),n.d(i,"lengthSquare",function(){return O}),n.d(i,"mul",function(){return E}),n.d(i,"div",function(){return A}),n.d(i,"dot",function(){return N}),n.d(i,"scale",function(){return L}),n.d(i,"normalize",function(){return D}),n.d(i,"distance",function(){return j}),n.d(i,"dist",function(){return P}),n.d(i,"distanceSquare",function(){return R}),n.d(i,"distSquare",function(){return z}),n.d(i,"negate",function(){return B}),n.d(i,"lerp",function(){return F}),n.d(i,"applyTransform",function(){return G}),n.d(i,"min",function(){return V}),n.d(i,"max",function(){return W});var r={};n.d(r,"create",function(){return en}),n.d(r,"identity",function(){return nn}),n.d(r,"copy",function(){return rn}),n.d(r,"mul",function(){return on}),n.d(r,"translate",function(){return an}),n.d(r,"rotate",function(){return sn}),n.d(r,"scale",function(){return ln}),n.d(r,"invert",function(){return un}),n.d(r,"clone",function(){return cn});var o={};n.d(o,"init",function(){return ni}),n.d(o,"dispose",function(){return ii}),n.d(o,"disposeAll",function(){return ri}),n.d(o,"getInstance",function(){return oi}),n.d(o,"registerPainter",function(){return ai}),n.d(o,"version",function(){return si});var a={};n.d(a,"updateProps",function(){return $l}),n.d(a,"initProps",function(){return Xl}),n.d(a,"removeElement",function(){return ql}),n.d(a,"removeElementWithFadeOut",function(){return eu}),n.d(a,"isElementRemoved",function(){return Kl}),n.d(a,"extendShape",function(){return au}),n.d(a,"extendPath",function(){return lu}),n.d(a,"registerShape",function(){return uu}),n.d(a,"getShapeClass",function(){return cu}),n.d(a,"makePath",function(){return hu}),n.d(a,"makeImage",function(){return du}),n.d(a,"mergePath",function(){return pu}),n.d(a,"resizePath",function(){return gu}),n.d(a,"subPixelOptimizeLine",function(){return vu}),n.d(a,"subPixelOptimizeRect",function(){return mu}),n.d(a,"subPixelOptimize",function(){return yu}),n.d(a,"getTransform",function(){return bu}),n.d(a,"applyTransform",function(){return xu}),n.d(a,"transformDirection",function(){return wu}),n.d(a,"groupTransition",function(){return Su}),n.d(a,"clipPointsByRect",function(){return Mu}),n.d(a,"clipRectByRect",function(){return Cu}),n.d(a,"createIcon",function(){return Iu}),n.d(a,"linePolygonIntersect",function(){return ku}),n.d(a,"lineLineIntersect",function(){return Tu}),n.d(a,"setTooltipConfig",function(){return Eu}),n.d(a,"traverseElements",function(){return Nu}),n.d(a,"Group",function(){return Kn}),n.d(a,"Image",function(){return Ko}),n.d(a,"Text",function(){return _a}),n.d(a,"Circle",function(){return Qs}),n.d(a,"Ellipse",function(){return Xs}),n.d(a,"Sector",function(){return fl}),n.d(a,"Ring",function(){return vl}),n.d(a,"Polygon",function(){return xl}),n.d(a,"Polyline",function(){return Sl}),n.d(a,"Rect",function(){return aa}),n.d(a,"Line",function(){return kl}),n.d(a,"BezierCurve",function(){return Nl}),n.d(a,"Arc",function(){return jl}),n.d(a,"IncrementalDisplayable",function(){return Yl}),n.d(a,"CompoundPath",function(){return Pl}),n.d(a,"LinearGradient",function(){return zl}),n.d(a,"RadialGradient",function(){return Bl}),n.d(a,"BoundingRect",function(){return En}),n.d(a,"OrientedBoundingRect",function(){return Hl}),n.d(a,"Point",function(){return wn}),n.d(a,"Path",function(){return Uo});var s={};n.d(s,"createList",function(){return Sb}),n.d(s,"getLayoutRect",function(){return ph}),n.d(s,"createDimensions",function(){return iy}),n.d(s,"dataStack",function(){return Mb}),n.d(s,"createSymbol",function(){return kg}),n.d(s,"createScale",function(){return Cb}),n.d(s,"mixinAxisModelCommonMethods",function(){return Ib}),n.d(s,"getECData",function(){return Sa}),n.d(s,"enableHoverEmphasis",function(){return vs}),n.d(s,"createTextStyle",function(){return kb});var l={};n.d(l,"linearMap",function(){return ci}),n.d(l,"round",function(){return di}),n.d(l,"asc",function(){return fi}),n.d(l,"getPrecision",function(){return pi}),n.d(l,"getPrecisionSafe",function(){return gi}),n.d(l,"getPixelPrecision",function(){return vi}),n.d(l,"getPercentWithPrecision",function(){return mi}),n.d(l,"MAX_SAFE_INTEGER",function(){return bi}),n.d(l,"remRadian",function(){return xi}),n.d(l,"isRadianAroundZero",function(){return wi}),n.d(l,"parseDate",function(){return Si}),n.d(l,"quantity",function(){return Mi}),n.d(l,"quantityExponent",function(){return Ci}),n.d(l,"nice",function(){return Ii}),n.d(l,"quantile",function(){return ki}),n.d(l,"reformIntervals",function(){return Ti}),n.d(l,"isNumeric",function(){return Ei}),n.d(l,"numericToNumber",function(){return Oi});var u={};n.d(u,"parse",function(){return Si}),n.d(u,"format",function(){return Ec});var c={};n.d(c,"extendShape",function(){return au}),n.d(c,"extendPath",function(){return lu}),n.d(c,"makePath",function(){return hu}),n.d(c,"makeImage",function(){return du}),n.d(c,"mergePath",function(){return pu}),n.d(c,"resizePath",function(){return gu}),n.d(c,"createIcon",function(){return Iu}),n.d(c,"updateProps",function(){return $l}),n.d(c,"initProps",function(){return Xl}),n.d(c,"getTransform",function(){return bu}),n.d(c,"clipPointsByRect",function(){return Mu}),n.d(c,"clipRectByRect",function(){return Cu}),n.d(c,"registerShape",function(){return uu}),n.d(c,"getShapeClass",function(){return cu}),n.d(c,"Group",function(){return Kn}),n.d(c,"Image",function(){return Ko}),n.d(c,"Text",function(){return _a}),n.d(c,"Circle",function(){return Qs}),n.d(c,"Ellipse",function(){return Xs}),n.d(c,"Sector",function(){return fl}),n.d(c,"Ring",function(){return vl}),n.d(c,"Polygon",function(){return xl}),n.d(c,"Polyline",function(){return Sl}),n.d(c,"Rect",function(){return aa}),n.d(c,"Line",function(){return kl}),n.d(c,"BezierCurve",function(){return Nl}),n.d(c,"Arc",function(){return jl}),n.d(c,"IncrementalDisplayable",function(){return Yl}),n.d(c,"CompoundPath",function(){return Pl}),n.d(c,"LinearGradient",function(){return zl}),n.d(c,"RadialGradient",function(){return Bl}),n.d(c,"BoundingRect",function(){return En});var h={};n.d(h,"addCommas",function(){return Qc}),n.d(h,"toCamelCase",function(){return Zc}),n.d(h,"normalizeCssArray",function(){return $c}),n.d(h,"encodeHTML",function(){return qc}),n.d(h,"formatTpl",function(){return ih}),n.d(h,"getTooltipMarker",function(){return rh}),n.d(h,"formatTime",function(){return oh}),n.d(h,"capitalFirst",function(){return ah}),n.d(h,"truncateText",function(){return Cr}),n.d(h,"getTextRect",function(){return Jc});var d={};n.d(d,"map",function(){return v.map}),n.d(d,"each",function(){return v.each}),n.d(d,"indexOf",function(){return v.indexOf}),n.d(d,"inherits",function(){return v.inherits}),n.d(d,"reduce",function(){return v.reduce}),n.d(d,"filter",function(){return v.filter}),n.d(d,"bind",function(){return v.bind}),n.d(d,"curry",function(){return v.curry}),n.d(d,"isArray",function(){return v.isArray}),n.d(d,"isString",function(){return v.isString}),n.d(d,"isObject",function(){return v.isObject}),n.d(d,"isFunction",function(){return v.isFunction}),n.d(d,"extend",function(){return v.extend}),n.d(d,"defaults",function(){return v.defaults}),n.d(d,"clone",function(){return v.clone}),n.d(d,"merge",function(){return v.merge});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;var g=n("YNzw"),v=n("/gxq"),m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;function b(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function x(t,e){return t[0]=e[0],t[1]=e[1],t}function w(t){return[t[0],t[1]]}function _(t,e,n){return t[0]=e,t[1]=n,t}function S(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function M(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t}function C(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function I(t){return Math.sqrt(T(t))}var k=I;function T(t){return t[0]*t[0]+t[1]*t[1]}var O=T;function E(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function A(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function N(t,e){return t[0]*e[0]+t[1]*e[1]}function L(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function D(t,e){var n=I(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function j(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var P=j;function R(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var z=R;function B(t,e){return t[0]=-e[0],t[1]=-e[1],t}function F(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t}function G(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}function V(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function W(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var H=function(){return function(t,e){this.target=t,this.topTarget=e&&e.topTarget}}(),U=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new H(e,t),"dragstart",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,i=t.offsetY,r=n-this._x,o=i-this._y;this._x=n,this._y=i,e.drift(r,o,t),this.handler.dispatchToElement(new H(e,t),"drag",t.event);var a=this.handler.findHover(n,i,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.handler.dispatchToElement(new H(s,t),"dragleave",t.event),a&&a!==s&&this.handler.dispatchToElement(new H(a,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new H(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new H(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),Y=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,n,i){this._$handlers||(this._$handlers={});var r=this._$handlers;if("function"==typeof e&&(i=n,n=e,e=null),!n||!t)return this;var o=this._$eventProcessor;null!=e&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),r[t]||(r[t]=[]);for(var a=0;a<r[t].length;a++)if(r[t][a].h===n)return this;var s={h:n,query:e,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},l=r[t].length-1,u=r[t][l];return u&&u.callAtLast?r[t].splice(l,0,s):r[t].push(s),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],r=0,o=n[t].length;r<o;r++)n[t][r].h!==e&&i.push(n[t][r]);n[t]=i}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],r=this._$eventProcessor;if(i)for(var o=e.length,a=i.length,s=0;s<a;s++){var l=i[s];if(!r||!r.filter||null==l.query||r.filter(t,l.query))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,e[0]);break;case 2:l.h.call(l.ctx,e[0],e[1]);break;default:l.h.apply(l.ctx,e)}}return r&&r.afterTrigger&&r.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],r=this._$eventProcessor;if(i)for(var o=e.length,a=e[o-1],s=i.length,l=0;l<s;l++){var u=i[l];if(!r||!r.filter||null==u.query||r.filter(t,u.query))switch(o){case 0:u.h.call(a);break;case 1:u.h.call(a,e[0]);break;case 2:u.h.call(a,e[0],e[1]);break;default:u.h.apply(a,e.slice(1,o-1))}}return r&&r.afterTrigger&&r.afterTrigger(t),this},t}(),J=Math.log(2);function Q(t,e,n,i,r,o){var a=i+"-"+r,s=t.length;if(o.hasOwnProperty(a))return o[a];if(1===e){var l=Math.round(Math.log((1<<s)-1&~r)/J);return t[n][l]}for(var u=i|1<<n,c=n+1;i&1<<c;)c++;for(var h=0,d=0,f=0;d<s;d++){var p=1<<d;p&r||(h+=(f%2?-1:1)*t[n][d]*Q(t,e-1,c,u,r|p,o),f++)}return o[a]=h,h}function Z(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],i={},r=Q(n,8,0,0,0,i);if(0!==r){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*Q(n,7,0===a?1:0,1<<a,1<<s,i)/r*e[a];return function(t,e,n){var i=e*o[6]+n*o[7]+1;t[0]=(e*o[0]+n*o[1]+o[2])/i,t[1]=(e*o[3]+n*o[4]+o[5])/i}}}var $="___zrEVENTSAVED",X=[];function K(t,e,n,i,r){if(e.getBoundingClientRect&&g.a.domSupported&&!q(e)){var o=e[$]||(e[$]={}),a=function(t,e,n){for(var i=n?"invTrans":"trans",r=e[i],o=e.srcCoords,a=[],s=[],l=!0,u=0;u<4;u++){var c=t[u].getBoundingClientRect(),h=2*u,d=c.left,f=c.top;a.push(d,f),l=l&&o&&d===o[h]&&f===o[h+1],s.push(t[u].offsetLeft,t[u].offsetTop)}return l&&r?r:(e.srcCoords=a,e[i]=n?Z(s,a):Z(a,s))}(function(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=a.style,l=o%2,u=(o>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[l]+":0",r[u]+":0",i[1-l]+":auto",r[1-u]+":auto",""].join("!important;"),t.appendChild(a),n.push(a)}return n}(e,o),o,r);if(a)return a(t,n,i),!0}return!1}function q(t){return"CANVAS"===t.nodeName.toUpperCase()}var tt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,et=[],nt=g.a.browser.firefox&&+g.a.browser.version.split(".")[0]<39;function it(t,e,n,i){return n=n||{},i?rt(t,e,n):nt&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):rt(t,e,n),n}function rt(t,e,n){if(g.a.domSupported&&t.getBoundingClientRect){var i=e.clientX,r=e.clientY;if(q(t)){var o=t.getBoundingClientRect();return n.zrX=i-o.left,void(n.zrY=r-o.top)}if(K(et,t,i,r))return n.zrX=et[0],void(n.zrY=et[1])}n.zrX=n.zrY=0}function ot(t){return t||window.event}function at(t,e,n){if(null!=(e=ot(e)).zrX)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var r="touchend"!==i?e.targetTouches[0]:e.changedTouches[0];r&&it(t,r,e,n)}else{it(t,e,e,n);var o=function(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,i=t.deltaY;if(null==n||null==i)return e;return 3*(0!==i?Math.abs(i):Math.abs(n))*(i>0?-1:i<0?1:n>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var a=e.button;return null==e.which&&void 0!==a&&tt.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}function st(t,e,n,i){t.addEventListener(e,n,i)}var lt=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function ut(t){return 2===t.which||3===t.which}var ct=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,n){var i=t.touches;if(i){for(var r={points:[],touches:[],target:e,event:t},o=0,a=i.length;o<a;o++){var s=i[o],l=it(n,s,{});r.points.push([l.zrX,l.zrY]),r.touches.push(s)}this._track.push(r)}},t.prototype._recognize=function(t){for(var e in dt)if(dt.hasOwnProperty(e)){var n=dt[e](this._track,t);if(n)return n}},t}();function ht(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}var dt={pinch:function(t,e){var n=t.length;if(n){var i,r=(t[n-1]||{}).points,o=(t[n-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var a=ht(r)/ht(o);!isFinite(a)&&(a=1),e.pinchScale=a;var s=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}},ft="silent";function pt(){lt(this.event)}var gt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return y(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Y),vt=function(){return function(t,e){this.x=t,this.y=e}}(),mt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],yt=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o._hovered=new vt(0,0),o.storage=e,o.painter=n,o.painterRoot=r,i=i||new gt,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new U(o),o}return y(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(v.each(mt,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,n=t.zrY,i=xt(this,e,n),r=this._hovered,o=r.target;o&&!o.__zr&&(o=(r=this.findHover(r.x,r.y)).target);var a=this._hovered=i?new vt(e,n):this.findHover(e,n),s=a.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(a,"mousemove",t),s&&s!==o&&this.dispatchToElement(a,"mouseover",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new vt(0,0)},e.prototype.dispatch=function(t,e){var n=this[t];n&&n.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,n){var i=(t=t||{}).target;if(!i||!i.silent){for(var r="on"+e,o=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:pt}}(e,t,n);i&&(i[r]&&(o.cancelBubble=!!i[r].call(i,o)),i.trigger(e,o),i=i.__hostTarget?i.__hostTarget:i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(t){"function"==typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)}))}},e.prototype.findHover=function(t,e,n){for(var i=this.storage.getDisplayList(),r=new vt(t,e),o=i.length-1;o>=0;o--){var a=void 0;if(i[o]!==n&&!i[o].ignore&&(a=bt(i[o],t,e))&&(!r.topTarget&&(r.topTarget=i[o]),a!==ft)){r.target=i[o];break}}return r},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new ct);var n=this._gestureMgr;"start"===e&&n.clear();var i=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),i){var r=i.type;t.gestureEvent=r;var o=new vt;o.target=i.target,this.dispatchToElement(o,r,i.event)}},e}(Y);function bt(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var i=t,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(e,n))return!1;i.silent&&(r=!0)}var s=i.__hostTarget;i=s||i.parent}return!r||ft}return!1}function xt(t,e,n){var i=t.painter;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}v.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){yt.prototype[t]=function(e){var n,i,r=e.zrX,o=e.zrY,a=xt(this,r,o);if("mouseup"===t&&a||(i=(n=this.findHover(r,o)).target),"mousedown"===t)this._downEl=i,this._downPoint=[e.zrX,e.zrY],this._upEl=i;else if("mouseup"===t)this._upEl=i;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||P(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}});var wt=yt,_t=32,St=7;function Mt(t,e,n,i){var r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){for(;r<n&&i(t[r],t[r-1])<0;)r++;!function(t,e,n){n--;for(;e<n;){var i=t[e];t[e++]=t[n],t[n--]=i}}(t,e,r)}else for(;r<n&&i(t[r],t[r-1])>=0;)r++;return r-e}function Ct(t,e,n,i,r){for(i===e&&i++;i<n;i++){for(var o,a=t[i],s=e,l=i;s<l;)r(a,t[o=s+l>>>1])<0?l=o:s=o+1;var u=i-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;u>0;)t[s+u]=t[s+u-1],u--}t[s]=a}}function It(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])>0){for(s=i-r;l<s&&o(t,e[n+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(t,e[n+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}for(a++;a<l;){var c=a+(l-a>>>1);o(t,e[n+c])>0?a=c+1:l=c}return l}function kt(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])<0){for(s=r+1;l<s&&o(t,e[n+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}else{for(s=i-r;l<s&&o(t,e[n+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var c=a+(l-a>>>1);o(t,e[n+c])<0?l=c:a=c+1}return l}function Tt(t,e){var n,i,r,o=St,a=0;n=t.length;var s=[];function l(n){var l=i[n],u=r[n],c=i[n+1],h=r[n+1];r[n]=u+h,n===a-3&&(i[n+1]=i[n+2],r[n+1]=r[n+2]),a--;var d=kt(t[c],t,l,u,0,e);l+=d,0!==(u-=d)&&0!==(h=It(t[l+u-1],t,c,h,h-1,e))&&(u<=h?function(n,i,r,a){var l=0;for(l=0;l<i;l++)s[l]=t[n+l];var u=0,c=r,h=n;if(t[h++]=t[c++],0==--a){for(l=0;l<i;l++)t[h+l]=s[u+l];return}if(1===i){for(l=0;l<a;l++)t[h+l]=t[c+l];return void(t[h+a]=s[u])}var d,f,p,g=o;for(;;){d=0,f=0,p=!1;do{if(e(t[c],s[u])<0){if(t[h++]=t[c++],f++,d=0,0==--a){p=!0;break}}else if(t[h++]=s[u++],d++,f=0,1==--i){p=!0;break}}while((d|f)<g);if(p)break;do{if(0!==(d=kt(t[c],s,u,i,0,e))){for(l=0;l<d;l++)t[h+l]=s[u+l];if(h+=d,u+=d,(i-=d)<=1){p=!0;break}}if(t[h++]=t[c++],0==--a){p=!0;break}if(0!==(f=It(s[u],t,c,a,0,e))){for(l=0;l<f;l++)t[h+l]=t[c+l];if(h+=f,c+=f,0===(a-=f)){p=!0;break}}if(t[h++]=s[u++],1==--i){p=!0;break}g--}while(d>=St||f>=St);if(p)break;g<0&&(g=0),g+=2}if((o=g)<1&&(o=1),1===i){for(l=0;l<a;l++)t[h+l]=t[c+l];t[h+a]=s[u]}else{if(0===i)throw new Error;for(l=0;l<i;l++)t[h+l]=s[u+l]}}(l,u,c,h):function(n,i,r,a){var l=0;for(l=0;l<a;l++)s[l]=t[r+l];var u=n+i-1,c=a-1,h=r+a-1,d=0,f=0;if(t[h--]=t[u--],0==--i){for(d=h-(a-1),l=0;l<a;l++)t[d+l]=s[l];return}if(1===a){for(f=(h-=i)+1,d=(u-=i)+1,l=i-1;l>=0;l--)t[f+l]=t[d+l];return void(t[h]=s[c])}var p=o;for(;;){var g=0,v=0,m=!1;do{if(e(s[c],t[u])<0){if(t[h--]=t[u--],g++,v=0,0==--i){m=!0;break}}else if(t[h--]=s[c--],v++,g=0,1==--a){m=!0;break}}while((g|v)<p);if(m)break;do{if(0!==(g=i-kt(s[c],t,n,i,i-1,e))){for(i-=g,f=(h-=g)+1,d=(u-=g)+1,l=g-1;l>=0;l--)t[f+l]=t[d+l];if(0===i){m=!0;break}}if(t[h--]=s[c--],1==--a){m=!0;break}if(0!==(v=a-It(t[u],s,0,a,a-1,e))){for(a-=v,f=(h-=v)+1,d=(c-=v)+1,l=0;l<v;l++)t[f+l]=s[d+l];if(a<=1){m=!0;break}}if(t[h--]=t[u--],0==--i){m=!0;break}p--}while(g>=St||v>=St);if(m)break;p<0&&(p=0),p+=2}(o=p)<1&&(o=1);if(1===a){for(f=(h-=i)+1,d=(u-=i)+1,l=i-1;l>=0;l--)t[f+l]=t[d+l];t[h]=s[c]}else{if(0===a)throw new Error;for(d=h-(a-1),l=0;l<a;l++)t[d+l]=s[l]}}(l,u,c,h))}return n<120?5:n<1542?10:n<119151?19:40,i=[],r=[],{mergeRuns:function(){for(;a>1;){var t=a-2;if(t>=1&&r[t-1]<=r[t]+r[t+1]||t>=2&&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]&&t--;else if(r[t]>r[t+1])break;l(t)}},forceMergeRuns:function(){for(;a>1;){var t=a-2;t>0&&r[t-1]<r[t+1]&&t--,l(t)}},pushRun:function(t,e){i[a]=t,r[a]=e,a+=1}}}function Ot(t,e,n,i){n||(n=0),i||(i=t.length);var r=i-n;if(!(r<2)){var o=0;if(r<_t)Ct(t,n,i,n+(o=Mt(t,n,i,e)),e);else{var a=Tt(t,e),s=function(t){for(var e=0;t>=_t;)e|=1&t,t>>=1;return t+e}(r);do{if((o=Mt(t,n,i,e))<s){var l=r;l>s&&(l=s),Ct(t,n,n+l,n+o,e),o=l}a.pushRun(n,o),a.mergeRuns(),r-=o,n+=o}while(0!==r);a.forceMergeRuns()}}}var Et=1,At=4,Nt=!1;function Lt(){Nt||(Nt=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Dt(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var jt=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Dt}return t.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return!t&&n.length||this.updateDisplayList(e),n},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,r=e.length;i<r;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,Ot(n,Dt)},t.prototype._updateAndAddDisplayable=function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)e=null;else if(i){e=e?e.slice():[];for(var r=i,o=t;r;)r.parent=o,r.updateTransform(),e.push(r),o=r,r=r.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty|=Et),this._updateAndAddDisplayable(l,e,n)}t.__dirty=0}else{var u=t;e&&e.length?u.__clipPaths=e:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(Lt(),u.z=0),isNaN(u.z2)&&(Lt(),u.z2=0),isNaN(u.zlevel)&&(Lt(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var c=t.getDecalElement&&t.getDecalElement();c&&this._updateAndAddDisplayable(c,e,n);var h=t.getTextGuideLine();h&&this._updateAndAddDisplayable(h,e,n);var d=t.getTextContent();d&&this._updateAndAddDisplayable(d,e,n)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var i=v.indexOf(this._roots,t);i>=0&&this._roots.splice(i,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),Pt=g.a.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},Rt={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Rt.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*Rt.bounceIn(2*t):.5*Rt.bounceOut(2*t-1)+.5}},zt=Rt,Bt=Math.pow,Ft=Math.sqrt,Gt=1e-8,Vt=1e-4,Wt=Ft(3),Ht=1/3,Ut=b(),Yt=b(),Jt=b();function Qt(t){return t>-Gt&&t<Gt}function Zt(t){return t>Gt||t<-Gt}function $t(t,e,n,i,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*i+3*o*n)}function Xt(t,e,n,i,r){var o=1-r;return 3*(((e-t)*o+2*(n-e)*r)*o+(i-n)*r*r)}function Kt(t,e,n,i,r,o){var a=i+3*(e-n)-t,s=3*(n-2*e+t),l=3*(e-t),u=t-r,c=s*s-3*a*l,h=s*l-9*a*u,d=l*l-3*s*u,f=0;if(Qt(c)&&Qt(h)){if(Qt(s))o[0]=0;else(M=-l/s)>=0&&M<=1&&(o[f++]=M)}else{var p=h*h-4*c*d;if(Qt(p)){var g=h/c,v=-g/2;(M=-s/a+g)>=0&&M<=1&&(o[f++]=M),v>=0&&v<=1&&(o[f++]=v)}else if(p>0){var m=Ft(p),y=c*s+1.5*a*(-h+m),b=c*s+1.5*a*(-h-m);(M=(-s-((y=y<0?-Bt(-y,Ht):Bt(y,Ht))+(b=b<0?-Bt(-b,Ht):Bt(b,Ht))))/(3*a))>=0&&M<=1&&(o[f++]=M)}else{var x=(2*c*s-3*a*h)/(2*Ft(c*c*c)),w=Math.acos(x)/3,_=Ft(c),S=Math.cos(w),M=(-s-2*_*S)/(3*a),C=(v=(-s+_*(S+Wt*Math.sin(w)))/(3*a),(-s+_*(S-Wt*Math.sin(w)))/(3*a));M>=0&&M<=1&&(o[f++]=M),v>=0&&v<=1&&(o[f++]=v),C>=0&&C<=1&&(o[f++]=C)}}return f}function qt(t,e,n,i,r){var o=6*n-12*e+6*t,a=9*e+3*i-3*t-9*n,s=3*e-3*t,l=0;if(Qt(a)){if(Zt(o))(c=-s/o)>=0&&c<=1&&(r[l++]=c)}else{var u=o*o-4*a*s;if(Qt(u))r[0]=-o/(2*a);else if(u>0){var c,h=Ft(u),d=(-o-h)/(2*a);(c=(-o+h)/(2*a))>=0&&c<=1&&(r[l++]=c),d>=0&&d<=1&&(r[l++]=d)}}return l}function te(t,e,n,i,r,o){var a=(e-t)*r+t,s=(n-e)*r+e,l=(i-n)*r+n,u=(s-a)*r+a,c=(l-s)*r+s,h=(c-u)*r+u;o[0]=t,o[1]=a,o[2]=u,o[3]=h,o[4]=h,o[5]=c,o[6]=l,o[7]=i}function ee(t,e,n,i,r,o,a,s,l,u,c){var h,d,f,p,g,v=.005,m=1/0;Ut[0]=l,Ut[1]=u;for(var y=0;y<1;y+=.05)Yt[0]=$t(t,n,r,a,y),Yt[1]=$t(e,i,o,s,y),(p=z(Ut,Yt))<m&&(h=y,m=p);m=1/0;for(var b=0;b<32&&!(v<Vt);b++)d=h-v,f=h+v,Yt[0]=$t(t,n,r,a,d),Yt[1]=$t(e,i,o,s,d),p=z(Yt,Ut),d>=0&&p<m?(h=d,m=p):(Jt[0]=$t(t,n,r,a,f),Jt[1]=$t(e,i,o,s,f),g=z(Jt,Ut),f<=1&&g<m?(h=f,m=g):v*=.5);return c&&(c[0]=$t(t,n,r,a,h),c[1]=$t(e,i,o,s,h)),Ft(m)}function ne(t,e,n,i,r,o,a,s,l){for(var u=t,c=e,h=0,d=1/l,f=1;f<=l;f++){var p=f*d,g=$t(t,n,r,a,p),v=$t(e,i,o,s,p),m=g-u,y=v-c;h+=Math.sqrt(m*m+y*y),u=g,c=v}return h}function ie(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function re(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))}function oe(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i}function ae(t,e,n,i,r){var o=(e-t)*i+t,a=(n-e)*i+e,s=(a-o)*i+o;r[0]=t,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n}function se(t,e,n,i,r,o,a,s,l){var u,c=.005,h=1/0;Ut[0]=a,Ut[1]=s;for(var d=0;d<1;d+=.05){Yt[0]=ie(t,n,r,d),Yt[1]=ie(e,i,o,d),(v=z(Ut,Yt))<h&&(u=d,h=v)}h=1/0;for(var f=0;f<32&&!(c<Vt);f++){var p=u-c,g=u+c;Yt[0]=ie(t,n,r,p),Yt[1]=ie(e,i,o,p);var v=z(Yt,Ut);if(p>=0&&v<h)u=p,h=v;else{Jt[0]=ie(t,n,r,g),Jt[1]=ie(e,i,o,g);var m=z(Jt,Ut);g<=1&&m<h?(u=g,h=m):c*=.5}}return l&&(l[0]=ie(t,n,r,u),l[1]=ie(e,i,o,u)),Ft(h)}function le(t,e,n,i,r,o,a){for(var s=t,l=e,u=0,c=1/a,h=1;h<=a;h++){var d=h*c,f=ie(t,n,r,d),p=ie(e,i,o,d),g=f-s,v=p-l;u+=Math.sqrt(g*g+v*v),s=f,l=p}return u}var ue=/cubic-bezier\(([0-9,\.e ]+)\)/;function ce(t){var e=t&&ue.exec(t);if(e){var n=e[1].split(","),i=+Object(v.trim)(n[0]),r=+Object(v.trim)(n[1]),o=+Object(v.trim)(n[2]),a=+Object(v.trim)(n[3]);if(isNaN(i+r+o+a))return;var s=[];return function(t){return t<=0?0:t>=1?1:Kt(0,i,o,1,t,s)&&$t(0,r,a,1,s[0])}}}var he=function(){function t(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||v.noop,this.ondestroy=t.ondestroy||v.noop,this.onrestart=t.onrestart||v.noop,t.easing&&this.setEasing(t.easing)}return t.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var n=this._life,i=t-this._startTime-this._pausedTime,r=i/n;r<0&&(r=0),r=Math.min(r,1);var o=this.easingFunc,a=o?o(r):r;if(this.onframe(a),1===r){if(!this.loop)return!0;var s=i%n;this._startTime=t-s,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Object(v.isFunction)(t)?t:zt[t]||ce(t)},t}(),de=n("DRaW"),fe=n("edjc"),pe=Array.prototype.slice;function ge(t,e,n){return(e-t)*n+t}function ve(t,e,n,i){for(var r=e.length,o=0;o<r;o++)t[o]=ge(e[o],n[o],i);return t}function me(t,e,n,i){for(var r=e.length,o=0;o<r;o++)t[o]=e[o]+n[o]*i;return t}function ye(t,e,n,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=e[a][s]+n[a][s]*i}return t}function be(t,e){for(var n=t.length,i=e.length,r=n>i?e:t,o=Math.min(n,i),a=r[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(n,i);s++)r.push({offset:a.offset,color:a.color.slice()})}function xe(t,e,n){var i=t,r=e;if(i.push&&r.push){var o=i.length,a=r.length;if(o!==a)if(o>a)i.length=a;else for(var s=o;s<a;s++)i.push(1===n?r[s]:pe.call(r[s]));var l=i[0]&&i[0].length;for(s=0;s<i.length;s++)if(1===n)isNaN(i[s])&&(i[s]=r[s]);else for(var u=0;u<l;u++)isNaN(i[s][u])&&(i[s][u]=r[s][u])}}function we(t){if(Object(v.isArrayLike)(t)){var e=t.length;if(Object(v.isArrayLike)(t[0])){for(var n=[],i=0;i<e;i++)n.push(pe.call(t[i]));return n}return pe.call(t)}return t}function _e(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=null==t[3]?1:t[3],"rgba("+t.join(",")+")"}var Se=1,Me=2,Ce=4,Ie=5;function ke(t){return t===Ce||t===Ie}function Te(t){return t===Se||t===Me}var Oe=[0,0,0,0],Ee=function(){function t(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var i=this.keyframes,r=i.length,o=!1,a=6,s=e;if(Object(v.isArrayLike)(e)){var l=function(t){return Object(v.isArrayLike)(t&&t[0])?2:1}(e);a=l,(1===l&&!Object(v.isNumber)(e[0])||2===l&&!Object(v.isNumber)(e[0][0]))&&(o=!0)}else if(Object(v.isNumber)(e)&&!Object(v.eqNaN)(e))a=0;else if(Object(v.isString)(e))if(isNaN(+e)){var u=de.parse(e);u&&(s=u,a=3)}else a=0;else if(Object(v.isGradientObject)(e)){var c=Object(v.extend)({},s);c.colorStops=Object(v.map)(e.colorStops,function(t){return{offset:t.offset,color:de.parse(t.color)}}),Object(fe.m)(e)?a=Ce:Object(fe.o)(e)&&(a=Ie),s=c}0===r?this.valType=a:a===this.valType&&6!==a||(o=!0),this.discrete=this.discrete||o;var h={time:t,value:s,rawValue:e,percent:0};return n&&(h.easing=n,h.easingFunc=Object(v.isFunction)(n)?n:zt[n]||ce(n)),i.push(h),h},t.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort(function(t,e){return t.time-e.time});for(var i=this.valType,r=n.length,o=n[r-1],a=this.discrete,s=Te(i),l=ke(i),u=0;u<r;u++){var c=n[u],h=c.value,d=o.value;c.percent=c.time/t,a||(s&&u!==r-1?xe(h,d,i):l&&be(h.colorStops,d.colorStops))}if(!a&&i!==Ie&&e&&this.needsAnimate()&&e.needsAnimate()&&i===e.valType&&!e._finished){this._additiveTrack=e;var f=n[0].value;for(u=0;u<r;u++)0===i?n[u].additiveValue=n[u].value-f:3===i?n[u].additiveValue=me([],n[u].value,f,-1):Te(i)&&(n[u].additiveValue=i===Se?me([],n[u].value,f,-1):ye([],n[u].value,f,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,i,r,o=null!=this._additiveTrack,a=o?"additiveValue":"value",s=this.valType,l=this.keyframes,u=l.length,c=this.propName,h=3===s,d=this._lastFr,f=Math.min;if(1===u)i=r=l[0];else{if(e<0)n=0;else if(e<this._lastFrP){for(n=f(d+1,u-1);n>=0&&!(l[n].percent<=e);n--);n=f(n,u-2)}else{for(n=d;n<u&&!(l[n].percent>e);n++);n=f(n-1,u-2)}r=l[n+1],i=l[n]}if(i&&r){this._lastFr=n,this._lastFrP=e;var p=r.percent-i.percent,g=0===p?1:f((e-i.percent)/p,1);r.easingFunc&&(g=r.easingFunc(g));var m=o?this._additiveValue:h?Oe:t[c];if(!Te(s)&&!h||m||(m=this._additiveValue=[]),this.discrete)t[c]=g<1?i.rawValue:r.rawValue;else if(Te(s))s===Se?ve(m,i[a],r[a],g):function(t,e,n,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=ge(e[a][s],n[a][s],i)}}(m,i[a],r[a],g);else if(ke(s)){var y=i[a],b=r[a],x=s===Ce;t[c]={type:x?"linear":"radial",x:ge(y.x,b.x,g),y:ge(y.y,b.y,g),colorStops:Object(v.map)(y.colorStops,function(t,e){var n=b.colorStops[e];return{offset:ge(t.offset,n.offset,g),color:_e(ve([],t.color,n.color,g))}}),global:b.global},x?(t[c].x2=ge(y.x2,b.x2,g),t[c].y2=ge(y.y2,b.y2,g)):t[c].r=ge(y.r,b.r,g)}else if(h)ve(m,i[a],r[a],g),o||(t[c]=_e(m));else{var w=ge(i[a],r[a],g);o?this._additiveValue=w:t[c]=w}o&&this._addToTarget(t)}}},t.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,i=this._additiveValue;0===e?t[n]=t[n]+i:3===e?(de.parse(t[n],Oe),me(Oe,Oe,i,1),t[n]=_e(Oe)):e===Se?me(t[n],t[n],i,1):e===Me&&ye(t[n],t[n],i,1)},t}(),Ae=function(){function t(t,e,n,i){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i?Object(v.logError)("Can' use additive animation on looped animation."):(this._additiveAnimators=i,this._allowDiscrete=n)}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,Object(v.keys)(e),n)},t.prototype.whenWithKeys=function(t,e,n,i){for(var r=this._tracks,o=0;o<n.length;o++){var a=n[o],s=r[a];if(!s){s=r[a]=new Ee(a);var l=void 0,u=this._getAdditiveTrack(a);if(u){var c=u.keyframes,h=c[c.length-1];l=h&&h.value,3===u.valType&&l&&(l=_e(l))}else l=this._target[a];if(null==l)continue;t>0&&s.addKeyframe(0,we(l),i),this._trackKeys.push(a)}s.addKeyframe(t,we(e[a]),i)}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var r=n[i].getTrack(t);r&&(e=r)}return e},t.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],i=this._maxTime||0,r=0;r<this._trackKeys.length;r++){var o=this._trackKeys[r],a=this._tracks[o],s=this._getAdditiveTrack(o),l=a.keyframes,u=l.length;if(a.prepare(i,s),a.needsAnimate())if(!this._allowDiscrete&&a.discrete){var c=l[u-1];c&&(e._target[a.propName]=c.rawValue),a.setFinished()}else n.push(a)}if(n.length||this._force){var h=new he({life:i,loop:this._loop,delay:this._delay||0,onframe:function(t){e._started=2;var i=e._additiveAnimators;if(i){for(var r=!1,o=0;o<i.length;o++)if(i[o]._clip){r=!0;break}r||(e._additiveAnimators=null)}for(o=0;o<n.length;o++)n[o].step(e._target,t);var a=e._onframeCbs;if(a)for(o=0;o<a.length;o++)a[o](e._target,t)},ondestroy:function(){e._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),t&&h.setEasing(t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},t.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.getTracks=function(){var t=this;return Object(v.map)(this._trackKeys,function(e){return t._tracks[e]})},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,r=0;r<t.length;r++){var o=n[t[r]];o&&!o.isFinished()&&(e?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var a=!0;for(r=0;r<i.length;r++)if(!n[i[r]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},t.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var r=e[i],o=this._tracks[r];if(o&&!o.isFinished()){var a=o.keyframes,s=a[n?0:a.length-1];s&&(t[r]=we(s.rawValue))}}}},t.prototype.__changeFinalValue=function(t,e){e=e||Object(v.keys)(t);for(var n=0;n<e.length;n++){var i=e[n],r=this._tracks[i];if(r){var o=r.keyframes;if(o.length>1){var a=o.pop();r.addKeyframe(a.time,t[i]),r.prepare(this._maxTime,r.getAdditiveTrack())}}}},t}();function Ne(){return(new Date).getTime()}var Le,De,je=function(t){function e(e){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n}return y(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,n=t.next;e?e.next=n:this._head=n,n?n.prev=e:this._tail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){for(var e=Ne()-this._pausedTime,n=e-this._time,i=this._head;i;){var r=i.next;i.step(e,n)?(i.ondestroy(),this.removeClip(i),i=r):i=r}this._time=e,t||(this.trigger("frame",n),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,Pt(function e(){t._running&&(Pt(e),!t._paused&&t.update())})},e.prototype.start=function(){this._running||(this._time=Ne(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Ne(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Ne()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._head=this._tail=null},e.prototype.isFinished=function(){return null==this._head},e.prototype.animate=function(t,e){e=e||{},this.start();var n=new Ae(t,e.loop);return this.addAnimator(n),n},e}(Y),Pe=g.a.domSupported,Re=(De={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:Le=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:v.map(Le,function(t){var e=t.replace("mouse","pointer");return De.hasOwnProperty(e)?e:t})}),ze={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},Be=!1;function Fe(t){var e=t.pointerType;return"pen"===e||"touch"===e}function Ge(t){t&&(t.zrByTouch=!0)}function Ve(t,e){for(var n=e,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return i}var We=function(){return function(t,e){this.stopPropagation=v.noop,this.stopImmediatePropagation=v.noop,this.preventDefault=v.noop,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}}(),He={mousedown:function(t){t=at(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=at(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=at(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){Ve(this,(t=at(this.dom,t)).toElement||t.relatedTarget)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){Be=!0,t=at(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){Be||(t=at(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){Ge(t=at(this.dom,t)),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),He.mousemove.call(this,t),He.mousedown.call(this,t)},touchmove:function(t){Ge(t=at(this.dom,t)),this.handler.processGesture(t,"change"),He.mousemove.call(this,t)},touchend:function(t){Ge(t=at(this.dom,t)),this.handler.processGesture(t,"end"),He.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<300&&He.click.call(this,t)},pointerdown:function(t){He.mousedown.call(this,t)},pointermove:function(t){Fe(t)||He.mousemove.call(this,t)},pointerup:function(t){He.mouseup.call(this,t)},pointerout:function(t){Fe(t)||He.mouseout.call(this,t)}};v.each(["click","dblclick","contextmenu"],function(t){He[t]=function(e){e=at(this.dom,e),this.trigger(t,e)}});var Ue={pointermove:function(t){Fe(t)||Ue.mousemove.call(this,t)},pointerup:function(t){Ue.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function Ye(t,e){var n=e.domHandlers;g.a.pointerEventsSupported?v.each(Re.pointer,function(i){Qe(e,i,function(e){n[i].call(t,e)})}):(g.a.touchEventsSupported&&v.each(Re.touch,function(i){Qe(e,i,function(r){n[i].call(t,r),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}(e)})}),v.each(Re.mouse,function(i){Qe(e,i,function(r){r=ot(r),e.touching||n[i].call(t,r)})}))}function Je(t,e){function n(n){Qe(e,n,function(i){i=ot(i),Ve(t,i.target)||(i=function(t,e){return at(t.dom,new We(t,e),!0)}(t,i),e.domHandlers[n].call(t,i))},{capture:!0})}g.a.pointerEventsSupported?v.each(ze.pointer,n):g.a.touchEventsSupported||v.each(ze.mouse,n)}function Qe(t,e,n,i){t.mounted[e]=n,t.listenerOpts[e]=i,st(t.domTarget,e,n,i)}function Ze(t){var e,n,i,r,o=t.mounted;for(var a in o)o.hasOwnProperty(a)&&(e=t.domTarget,n=a,i=o[a],r=t.listenerOpts[a],e.removeEventListener(n,i,r));t.mounted={}}var $e=function(){return function(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}}(),Xe=function(t){function e(e,n){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=e,i.painterRoot=n,i._localHandlerScope=new $e(e,He),Pe&&(i._globalHandlerScope=new $e(document,Ue)),Ye(i,i._localHandlerScope),i}return y(e,t),e.prototype.dispose=function(){Ze(this._localHandlerScope),Pe&&Ze(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,Pe&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?Je(this,e):Ze(e)}},e}(Y),Ke=1;g.a.hasGlobalWindow&&(Ke=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var qe=Ke,tn=.4;function en(){return[1,0,0,1,0,0]}function nn(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function rn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function on(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t}function an(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function sn(t,e,n){var i=e[0],r=e[2],o=e[4],a=e[1],s=e[3],l=e[5],u=Math.sin(n),c=Math.cos(n);return t[0]=i*c+a*u,t[1]=-i*u+a*c,t[2]=r*c+s*u,t[3]=-r*u+c*s,t[4]=c*o+u*l,t[5]=c*l-u*o,t}function ln(t,e,n){var i=n[0],r=n[1];return t[0]=e[0]*i,t[1]=e[1]*r,t[2]=e[2]*i,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*r,t}function un(t,e){var n=e[0],i=e[2],r=e[4],o=e[1],a=e[3],s=e[5],l=n*a-o*i;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*s-a*r)*l,t[5]=(o*r-n*s)*l,t):null}function cn(t){var e=[1,0,0,1,0,0];return rn(e,t),e}var hn=nn,dn=5e-5;function fn(t){return t>dn||t<-dn}var pn=[],gn=[],vn=[1,0,0,1,0,0],mn=Math.abs,yn=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function bn(t,e){for(var n=0;n<yn.length;n++){var i=yn[n];t[i]=e[i]}}var xn=function(){function t(){}var e;return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return fn(this.rotation)||fn(this.x)||fn(this.y)||fn(this.scaleX-1)||fn(this.scaleY-1)||fn(this.skewX)||fn(this.skewY)},t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;e||t?(n=n||[1,0,0,1,0,0],e?this.getLocalTransform(n):hn(n),t&&(e?on(n,t,n):rn(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&hn(n)},t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(pn);var n=pn[0]<0?-1:1,i=pn[1]<0?-1:1,r=((pn[0]-n)*e+n)/pn[0]||0,o=((pn[1]-i)*e+i)/pn[1]||0;t[0]*=r,t[1]*=r,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||[1,0,0,1,0,0],un(this.invTransform,t)},t.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),r=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(r),e=Math.sqrt(e),this.skewX=r,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(on(gn,t.invTransform,e),e=gn);var n=this.originX,i=this.originY;(n||i)&&(vn[4]=n,vn[5]=i,on(gn,e,vn),gn[4]-=n,gn[5]-=i,e=gn),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&G(n,n,i),n},t.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&G(n,n,i),n},t.prototype.getLineScale=function(){var t=this.transform;return t&&mn(t[0]-1)>1e-10&&mn(t[3]-1)>1e-10?Math.sqrt(mn(t[0]*t[3]-t[2]*t[1])):1},t.prototype.copyTransform=function(t){bn(this,t)},t.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,i=t.originY||0,r=t.scaleX,o=t.scaleY,a=t.anchorX,s=t.anchorY,l=t.rotation||0,u=t.x,c=t.y,h=t.skewX?Math.tan(t.skewX):0,d=t.skewY?Math.tan(-t.skewY):0;if(n||i||a||s){var f=n+a,p=i+s;e[4]=-f*r-h*p*o,e[5]=-p*o-d*f*r}else e[4]=e[5]=0;return e[0]=r,e[3]=o,e[1]=d*r,e[2]=h*o,l&&sn(e,e,l),e[4]+=n+u,e[5]+=i+c,e},t.initDefaultProps=((e=t.prototype).scaleX=e.scaleY=e.globalScaleRatio=1,void(e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0)),t}(),wn=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,n){t.x=e,t.y=n},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},t.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},t.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},t.scaleAndAdd=function(t,e,n,i){t.x=e.x+n.x*i,t.y=e.y+n.y*i},t.lerp=function(t,e,n,i){var r=1-i;t.x=r*e.x+i*n.x,t.y=r*e.y+i*n.y},t}(),_n=Math.min,Sn=Math.max,Mn=new wn,Cn=new wn,In=new wn,kn=new wn,Tn=new wn,On=new wn,En=function(){function t(t,e,n,i){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}return t.prototype.union=function(t){var e=_n(t.x,this.x),n=_n(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Sn(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=Sn(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,i=t.height/e.height,r=[1,0,0,1,0,0];return an(r,r,[-e.x,-e.y]),ln(r,r,[n,i]),an(r,r,[t.x,t.y]),r},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var i=this,r=i.x,o=i.x+i.width,a=i.y,s=i.y+i.height,l=e.x,u=e.x+e.width,c=e.y,h=e.y+e.height,d=!(o<l||u<r||s<c||h<a);if(n){var f=1/0,p=0,g=Math.abs(o-l),v=Math.abs(u-r),m=Math.abs(s-c),y=Math.abs(h-a),b=Math.min(g,v),x=Math.min(m,y);o<l||u<r?b>p&&(p=b,g<v?wn.set(On,-g,0):wn.set(On,v,0)):b<f&&(f=b,g<v?wn.set(Tn,g,0):wn.set(Tn,-v,0)),s<c||h<a?x>p&&(p=x,m<y?wn.set(On,0,-m):wn.set(On,0,y)):b<f&&(f=b,m<y?wn.set(Tn,0,m):wn.set(Tn,0,-y))}return n&&wn.copy(n,d?Tn:On),d},t.prototype.contain=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,n,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],a=i[4],s=i[5];return e.x=n.x*r+a,e.y=n.y*o+s,e.width=n.width*r,e.height=n.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}Mn.x=In.x=n.x,Mn.y=kn.y=n.y,Cn.x=kn.x=n.x+n.width,Cn.y=In.y=n.y+n.height,Mn.transform(i),kn.transform(i),Cn.transform(i),In.transform(i),e.x=_n(Mn.x,Cn.x,In.x,kn.x),e.y=_n(Mn.y,Cn.y,In.y,kn.y);var l=Sn(Mn.x,Cn.x,In.x,kn.x),u=Sn(Mn.y,Cn.y,In.y,kn.y);e.width=l-e.x,e.height=u-e.y}else e!==n&&t.copy(e,n)},t}(),An=n("zMj2"),Nn=n("OwOc"),Ln={};function Dn(t,e){e=e||Nn.a;var n=Ln[e];n||(n=Ln[e]=new An.a(500));var i=n.get(t);return null==i&&(i=Nn.d.measureText(t,e).width,n.put(t,i)),i}function jn(t,e,n,i){var r=Dn(t,e),o=Bn(e),a=Rn(0,r,n),s=zn(0,o,i);return new En(a,s,r,o)}function Pn(t,e,n,i){var r=((t||"")+"").split("\n");if(1===r.length)return jn(r[0],e,n,i);for(var o=new En(0,0,0,0),a=0;a<r.length;a++){var s=jn(r[a],e,n,i);0===a?o.copy(s):o.union(s)}return o}function Rn(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function zn(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function Bn(t){return Dn("国",t)}function Fn(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function Gn(t,e,n){var i=e.position||"inside",r=null!=e.distance?e.distance:5,o=n.height,a=n.width,s=o/2,l=n.x,u=n.y,c="left",h="top";if(i instanceof Array)l+=Fn(i[0],n.width),u+=Fn(i[1],n.height),c=null,h=null;else switch(i){case"left":l-=r,u+=s,c="right",h="middle";break;case"right":l+=r+a,u+=s,h="middle";break;case"top":l+=a/2,u-=r,c="center",h="bottom";break;case"bottom":l+=a/2,u+=o+r,c="center";break;case"inside":l+=a/2,u+=s,c="center",h="middle";break;case"insideLeft":l+=r,u+=s,h="middle";break;case"insideRight":l+=a-r,u+=s,c="right",h="middle";break;case"insideTop":l+=a/2,u+=r,c="center";break;case"insideBottom":l+=a/2,u+=o-r,c="center",h="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=a-r,u+=r,c="right";break;case"insideBottomLeft":l+=r,u+=o-r,h="bottom";break;case"insideBottomRight":l+=a-r,u+=o-r,c="right",h="bottom"}return(t=t||{}).x=l,t.y=u,t.align=c,t.verticalAlign=h,t}var Vn=yn.concat(["ignore"]),Wn=Object(v.reduce)(yn,function(t,e){return t[e]=!0,t},{ignore:!1}),Hn={},Un=new En(0,0,0,0),Yn=function(){function t(t){this.id=Object(v.guid)(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,r=e.innerTransformable,o=void 0,a=void 0,s=!1;r.parent=i?this:null;var l=!1;if(r.copyTransform(e),null!=n.position){var u=Un;n.layoutRect?u.copy(n.layoutRect):u.copy(this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Hn,n,u):Gn(Hn,n,u),r.x=Hn.x,r.y=Hn.y,o=Hn.align,a=Hn.verticalAlign;var c=n.origin;if(c&&null!=n.rotation){var h=void 0,d=void 0;"center"===c?(h=.5*u.width,d=.5*u.height):(h=Fn(c[0],u.width),d=Fn(c[1],u.height)),l=!0,r.originX=-r.x+h+(i?0:u.x),r.originY=-r.y+d+(i?0:u.y)}}null!=n.rotation&&(r.rotation=n.rotation);var f=n.offset;f&&(r.x+=f[0],r.y+=f[1],l||(r.originX=-f[0],r.originY=-f[1]));var p=null==n.inside?"string"==typeof n.position&&n.position.indexOf("inside")>=0:n.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),v=void 0,m=void 0,y=void 0;p&&this.canBeInsideText()?(v=n.insideFill,m=n.insideStroke,null!=v&&"auto"!==v||(v=this.getInsideTextFill()),null!=m&&"auto"!==m||(m=this.getInsideTextStroke(v),y=!0)):(v=n.outsideFill,m=n.outsideStroke,null!=v&&"auto"!==v||(v=this.getOutsideFill()),null!=m&&"auto"!==m||(m=this.getOutsideStroke(v),y=!0)),(v=v||"#000")===g.fill&&m===g.stroke&&y===g.autoStroke&&o===g.align&&a===g.verticalAlign||(s=!0,g.fill=v,g.stroke=m,g.autoStroke=y,g.align=o,g.verticalAlign=a,e.setDefaultTextStyle(g)),e.__dirty|=Et,s&&e.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?"#ccc":"#333"},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n="string"==typeof e&&Object(de.parse)(e);n||(n=[255,255,255,1]);for(var i=n[3],r=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(r?0:255)*(1-i);return n[3]=1,Object(de.stringify)(n,"rgba")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},Object(v.extend)(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(Object(v.isObject)(t))for(var n=t,i=Object(v.keys)(n),r=0;r<i.length;r++){var o=i[r];this.attrKV(o,t[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],r=i.__fromStateTransition;if(!(i.getLoop()||r&&"__zr_normal__"!==r)){var o=i.targetName,a=o?e[o]:e;i.saveTo(a)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,Vn)},t.prototype._savePrimaryToNormal=function(t,e,n){for(var i=0;i<n.length;i++){var r=n[i];null==t[r]||r in e||(e[r]=this[r])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState("__zr_normal__",!1,t)},t.prototype.useState=function(t,e,n,i){var r="__zr_normal__"===t;if(this.hasState()||!r){var o=this.currentStates,a=this.stateTransition;if(!(Object(v.indexOf)(o,t)>=0)||!e&&1!==o.length){var s;if(this.stateProxy&&!r&&(s=this.stateProxy(t)),s||(s=this.states&&this.states[t]),s||r){r||this.saveCurrentToNormalState(s);var l=!!(s&&s.hoverLayer||i);l&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,s,this._normalState,e,!n&&!this.__inHover&&a&&a.duration>0,a);var u=this._textContent,c=this._textGuide;return u&&u.useState(t,e,n,l),c&&c.useState(t,e,n,l),r?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Et),s}Object(v.logError)("State "+t+" not exists.")}}},t.prototype.useStates=function(t,e,n){if(t.length){var i=[],r=this.currentStates,o=t.length,a=o===r.length;if(a)for(var s=0;s<o;s++)if(t[s]!==r[s]){a=!1;break}if(a)return;for(s=0;s<o;s++){var l=t[s],u=void 0;this.stateProxy&&(u=this.stateProxy(l,t)),u||(u=this.states[l]),u&&i.push(u)}var c=i[o-1],h=!!(c&&c.hoverLayer||n);h&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(i),f=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(t.join(","),d,this._normalState,!1,!e&&!this.__inHover&&f&&f.duration>0,f);var p=this._textContent,g=this._textGuide;p&&p.useStates(t,e,h),g&&g.useStates(t,e,h),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Et)}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=Object(v.indexOf)(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},t.prototype.replaceState=function(t,e,n){var i=this.currentStates.slice(),r=Object(v.indexOf)(i,t),o=Object(v.indexOf)(i,e)>=0;r>=0?o?i.splice(r,1):i[r]=e:n&&!o&&i.push(e),this.useStates(i)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,n={},i=0;i<t.length;i++){var r=t[i];Object(v.extend)(n,r),r.textConfig&&(e=e||{},Object(v.extend)(e,r.textConfig))}return e&&(n.textConfig=e),n},t.prototype._applyStateObj=function(t,e,n,i,r,o){var a=!(e&&i);e&&e.textConfig?(this.textConfig=Object(v.extend)({},i?this.textConfig:n.textConfig),Object(v.extend)(this.textConfig,e.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var s={},l=!1,u=0;u<Vn.length;u++){var c=Vn[u],h=r&&Wn[c];e&&null!=e[c]?h?(l=!0,s[c]=e[c]):this[c]=e[c]:a&&null!=n[c]&&(h?(l=!0,s[c]=n[c]):this[c]=n[c])}if(!r)for(u=0;u<this.animators.length;u++){var d=this.animators[u],f=d.targetName;d.getLoop()||d.__changeFinalValue(f?(e||n)[f]:e||n)}l&&this._transitionState(t,s,o)},t.prototype._attachComponent=function(t){if((!t.__zr||t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new xn,this._attachComponent(t),this._textContent=t,this.markRedraw())},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Object(v.extend)(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=Et;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},t.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},t.prototype.animate=function(t,e,n){var i=t?this[t]:this;var r=new Ae(i,e,n);return t&&(r.targetName=t),this.addAnimator(r,t),r},t.prototype.addAnimator=function(t,e){var n=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(e)}).done(function(){var e=i.animators,n=Object(v.indexOf)(e,t);n>=0&&e.splice(n,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var n=this.animators,i=n.length,r=[],o=0;o<i;o++){var a=n[o];t&&t!==a.scope?r.push(a):a.stop(e)}return this.animators=r,this},t.prototype.animateTo=function(t,e,n){Jn(this,t,e,n)},t.prototype.animateFrom=function(t,e,n){Jn(this,t,e,n,!0)},t.prototype._transitionState=function(t,e,n,i){for(var r=Jn(this,e,n,i),o=0;o<r.length;o++)r[o].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Et;function n(t,n,i,r){function o(t,e){Object.defineProperty(e,0,{get:function(){return t[i]},set:function(e){t[i]=e}}),Object.defineProperty(e,1,{get:function(){return t[r]},set:function(e){t[r]=e}})}Object.defineProperty(e,t,{get:function(){this[n]||o(this,this[n]=[]);return this[n]},set:function(t){this[i]=t[0],this[r]=t[1],this[n]=t,o(this,t)}})}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),t}();function Jn(t,e,n,i,r){var o=[];!function t(e,n,i,r,o,a,s,l){var u=Object(v.keys)(r);var c=o.duration;var h=o.delay;var d=o.additive;var f=o.setToFinal;var p=!Object(v.isObject)(a);var g=e.animators;var m=[];for(var y=0;y<u.length;y++){var b=u[y],x=r[b];if(null!=x&&null!=i[b]&&(p||a[b]))if(!Object(v.isObject)(x)||Object(v.isArrayLike)(x)||Object(v.isGradientObject)(x))m.push(b);else{if(n){l||(i[b]=x,e.updateDuringAnimation(n));continue}t(e,b,i[b],x,o,a&&a[b],s,l)}else l||(i[b]=x,e.updateDuringAnimation(n),m.push(b))}var w=m.length;if(!d&&w)for(var _=0;_<g.length;_++){var S=g[_];if(S.targetName===n){var M=S.stopTracks(m);if(M){var C=Object(v.indexOf)(g,S);g.splice(C,1)}}}o.force||(m=Object(v.filter)(m,function(t){return e=r[t],n=i[t],!(e===n||Object(v.isArrayLike)(e)&&Object(v.isArrayLike)(n)&&function(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}(e,n));var e,n}),w=m.length);if(w>0||o.force&&!s.length){var I=void 0,k=void 0,T=void 0;if(l){k={},f&&(I={});for(var _=0;_<w;_++){var b=m[_];k[b]=i[b],f?I[b]=r[b]:i[b]=r[b]}}else if(f){T={};for(var _=0;_<w;_++){var b=m[_];T[b]=we(i[b]),Zn(i,r,b)}}var S=new Ae(i,!1,!1,d?Object(v.filter)(g,function(t){return t.targetName===n}):null);S.targetName=n,o.scope&&(S.scope=o.scope),f&&I&&S.whenWithKeys(0,I,m),T&&S.whenWithKeys(0,T,m),S.whenWithKeys(null==c?500:c,l?k:r,m).delay(h||0),e.addAnimator(S,n),s.push(S)}}(t,"",t,e,n=n||{},i,o,r);var a=o.length,s=!1,l=n.done,u=n.aborted,c=function(){s=!0,--a<=0&&(s?l&&l():u&&u())},h=function(){--a<=0&&(s?l&&l():u&&u())};a||l&&l(),o.length>0&&n.during&&o[0].during(function(t,e){n.during(e)});for(var d=0;d<o.length;d++){var f=o[d];c&&f.done(c),h&&f.aborted(h),n.force&&f.duration(n.duration),f.start(n.easing)}return o}function Qn(t,e,n){for(var i=0;i<n;i++)t[i]=e[i]}function Zn(t,e,n){if(Object(v.isArrayLike)(e[n]))if(Object(v.isArrayLike)(t[n])||(t[n]=[]),Object(v.isTypedArray)(e[n])){var i=e[n].length;t[n].length!==i&&(t[n]=new e[n].constructor(i),Qn(t[n],e[n],i))}else{var r=e[n],o=t[n],a=r.length;if(u=r,Object(v.isArrayLike)(u[0]))for(var s=r[0].length,l=0;l<a;l++)o[l]?Qn(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else Qn(o,r,a);o.length=r.length}else t[n]=e[n];var u}Object(v.mixin)(Yn,Y),Object(v.mixin)(Yn,xn);var $n=Yn,Xn=function(t){function e(e){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return y(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,i=n.indexOf(e);i>=0&&(n.splice(i,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,e){var n=v.indexOf(this._children,t);return n>=0&&this.replaceAt(e,n),this},e.prototype.replaceAt=function(t,e){var n=this._children,i=n[e];if(t&&t!==this&&t.parent!==this&&t!==i){n[e]=t,i.parent=null;var r=this.__zr;r&&i.removeSelfFromZr(r),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,n=this._children,i=v.indexOf(n,t);return i<0?this:(n.splice(i,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,n=0;n<t.length;n++){var i=t[n];e&&i.removeSelfFromZr(e),i.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];t.call(e,r,i)}return this},e.prototype.traverse=function(t,e){for(var n=0;n<this._children.length;n++){var i=this._children[n],r=t.call(e,i);i.isGroup&&!r&&i.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){this._children[n].addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){this._children[n].removeSelfFromZr(e)}},e.prototype.getBoundingRect=function(t){for(var e=new En(0,0,0,0),n=t||this._children,i=[],r=null,o=0;o<n.length;o++){var a=n[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),l=a.getLocalTransform(i);l?(En.applyTransform(e,s,l),(r=r||e.clone()).union(e)):(r=r||s.clone()).union(s)}}return r||e},e}($n);Xn.prototype.type="group";var Kn=Xn,qn={},ti={};
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var ei=function(){function t(t,e,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var r=new jt,o=n.renderer||"canvas";qn[o]||(o=v.keys(qn)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var a=new qn[o](e,r,n,t),s=n.ssr||a.ssrOnly;this.storage=r,this.painter=a;var l=g.a.node||g.a.worker||s?null:new Xe(a.getViewportRoot(),a.root);this.handler=new wt(r,a,l,a.root),this.animation=new je({stage:{update:s?null:function(){return i._flush(!0)}}}),s||this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(t){if(!t)return!1;if("string"==typeof t)return Object(de.lum)(t,1)<tn;if(t.colorStops){for(var e=t.colorStops,n=0,i=e.length,r=0;r<i;r++)n+=Object(de.lum)(e[r].color,1);return(n/=i)<tn}return!1}(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,n=Ne();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var i=Ne();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,n){return this.handler.on(t,e,n),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Kn&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete ti[t]},t}();function ni(t,e){var n=new ei(v.guid(),t,e);return ti[n.id]=n,n}function ii(t){t.dispose()}function ri(){for(var t in ti)ti.hasOwnProperty(t)&&ti[t].dispose();ti={}}function oi(t){return ti[t]}function ai(t,e){qn[t]=e}var si="5.3.0",li=1e-4,ui=20;function ci(t,e,n,i){var r=e[0],o=e[1],a=n[0],s=n[1],l=o-r,u=s-a;if(0===l)return 0===u?a:(a+s)/2;if(i)if(l>0){if(t<=r)return a;if(t>=o)return s}else{if(t>=r)return a;if(t<=o)return s}else{if(t===r)return a;if(t===o)return s}return(t-r)/l*u+a}function hi(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return v.isString(t)?(n=t,n.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var n}function di(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),ui),t=(+t).toFixed(e),n?t:+t}function fi(t){return t.sort(function(t,e){return t-e}),t}function pi(t){if(t=+t,isNaN(t))return 0;if(t>1e-14)for(var e=1,n=0;n<15;n++,e*=10)if(Math.round(t*e)/e===t)return n;return gi(t)}function gi(t){var e=t.toString().toLowerCase(),n=e.indexOf("e"),i=n>0?+e.slice(n+1):0,r=n>0?n:e.length,o=e.indexOf("."),a=o<0?0:r-1-o;return Math.max(0,a-i)}function vi(t,e){var n=Math.log,i=Math.LN10,r=Math.floor(n(t[1]-t[0])/i),o=Math.round(n(Math.abs(e[1]-e[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function mi(t,e,n){if(!t[e])return 0;var i=v.reduce(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===i)return 0;for(var r=Math.pow(10,n),o=v.map(t,function(t){return(isNaN(t)?0:t)/i*r*100}),a=100*r,s=v.map(o,function(t){return Math.floor(t)}),l=v.reduce(s,function(t,e){return t+e},0),u=v.map(o,function(t,e){return t-s[e]});l<a;){for(var c=Number.NEGATIVE_INFINITY,h=null,d=0,f=u.length;d<f;++d)u[d]>c&&(c=u[d],h=d);++s[h],u[h]=0,++l}return s[e]/r}function yi(t,e){var n=Math.max(pi(t),pi(e)),i=t+e;return n>ui?i:di(i,n)}var bi=9007199254740991;function xi(t){var e=2*Math.PI;return(t%e+e)%e}function wi(t){return t>-li&&t<li}var _i=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Si(t){if(t instanceof Date)return t;if(v.isString(t)){var e=_i.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==t?new Date(NaN):new Date(Math.round(t))}function Mi(t){return Math.pow(10,Ci(t))}function Ci(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function Ii(t,e){var n=Ci(t),i=Math.pow(10,n),r=t/i;return t=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,n>=-20?+t.toFixed(n<0?-n:0):t}function ki(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r}function Ti(t){t.sort(function(t,e){return function t(e,n,i){return e.interval[i]<n.interval[i]||e.interval[i]===n.interval[i]&&(e.close[i]-n.close[i]==(i?-1:1)||!i&&t(e,n,1))}(t,e,0)?-1:1});for(var e=-1/0,n=1,i=0;i<t.length;){for(var r=t[i].interval,o=t[i].close,a=0;a<2;a++)r[a]<=e&&(r[a]=e,o[a]=a?1:1-n),e=r[a],n=o[a];r[0]===r[1]&&o[0]*o[1]!=1?t.splice(i,1):i++}return t}function Oi(t){var e=parseFloat(t);return e==t&&(0!==e||!v.isString(t)||t.indexOf("x")<=0)?e:NaN}function Ei(t){return!isNaN(Oi(t))}function Ai(){return Math.round(9*Math.random())}function Ni(t,e){return null==t?e:null==e?t:t*e/function t(e,n){return 0===n?e:t(n,e%n)}(t,e)}"undefined"!=typeof console&&console.warn&&console.log;function Li(t){0}function Di(t){throw new Error(t)}function ji(t,e,n){return(e-t)*n+t}var Pi="series\0",Ri="\0_ec_\0";function zi(t){return t instanceof Array?t:null==t?[]:[t]}function Bi(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var Fi=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Gi(t){return!Object(v.isObject)(t)||Object(v.isArray)(t)||t instanceof Date?t:t.value}function Vi(t){return Object(v.isObject)(t)&&!(t instanceof Array)}function Wi(t,e,n){var i="normalMerge"===n,r="replaceMerge"===n,o="replaceAll"===n;t=t||[],e=(e||[]).slice();var a=Object(v.createHashMap)();Object(v.each)(e,function(t,n){Object(v.isObject)(t)||(e[n]=null)});var s,l,u=function(t,e,n){var i=[];if("replaceAll"===n)return i;for(var r=0;r<t.length;r++){var o=t[r];o&&null!=o.id&&e.set(o.id,r),i.push({existing:"replaceMerge"===n||Qi(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}(t,a,n);return(i||r)&&function(t,e,n,i){Object(v.each)(i,function(r,o){if(r&&null!=r.id){var a=Ui(r.id),s=n.get(a);if(null!=s){var l=t[s];Object(v.assert)(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=r,l.existing=e[s],i[o]=null}}})}(u,t,a,e),i&&function(t,e){Object(v.each)(e,function(n,i){if(n&&null!=n.name)for(var r=0;r<t.length;r++){var o=t[r].existing;if(!t[r].newOption&&o&&(null==o.id||null==n.id)&&!Qi(n)&&!Qi(o)&&Hi("name",o,n))return t[r].newOption=n,void(e[i]=null)}})}(u,e),i||r?function(t,e,n){Object(v.each)(e,function(e){if(e){for(var i,r=0;(i=t[r])&&(i.newOption||Qi(i.existing)||i.existing&&null!=e.id&&!Hi("id",e,i.existing));)r++;i?(i.newOption=e,i.brandNew=n):t.push({newOption:e,brandNew:n,existing:null,keyInfo:null}),r++}})}(u,e,r):o&&function(t,e){Object(v.each)(e,function(e){t.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}(u,e),s=u,l=Object(v.createHashMap)(),Object(v.each)(s,function(t){var e=t.existing;e&&l.set(e.id,t)}),Object(v.each)(s,function(t){var e=t.newOption;Object(v.assert)(!e||null==e.id||!l.get(e.id)||l.get(e.id)===t,"id duplicates: "+(e&&e.id)),e&&null!=e.id&&l.set(e.id,t),!t.keyInfo&&(t.keyInfo={})}),Object(v.each)(s,function(t,e){var n=t.existing,i=t.newOption,r=t.keyInfo;if(Object(v.isObject)(i)){if(r.name=null!=i.name?Ui(i.name):n?n.name:Pi+e,n)r.id=Ui(n.id);else if(null!=i.id)r.id=Ui(i.id);else{var o=0;do{r.id="\0"+r.name+"\0"+o++}while(l.get(r.id))}l.set(r.id,t)}}),u}function Hi(t,e,n){var i=Yi(e[t],null),r=Yi(n[t],null);return null!=i&&null!=r&&i===r}function Ui(t){return Yi(t,"")}function Yi(t,e){return null==t?e:Object(v.isString)(t)?t:Object(v.isNumber)(t)||Object(v.isStringSafe)(t)?t+"":e}function Ji(t){var e=t.name;return!(!e||!e.indexOf(Pi))}function Qi(t){return t&&null!=t.id&&0===Ui(t.id).indexOf(Ri)}function Zi(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?Object(v.isArray)(e.dataIndex)?Object(v.map)(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?Object(v.isArray)(e.name)?Object(v.map)(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0}function $i(){var t="__ec_inner_"+Xi++;return function(e){return e[t]||(e[t]={})}}var Xi=Ai();function Ki(t,e,n){var i=qi(e,n),r=i.mainTypeSpecified,o=i.queryOptionMap,a=i.others,s=n?n.defaultMainType:null;return!r&&s&&o.set(s,{}),o.each(function(e,i){var r=nr(t,i,e,{useDefault:s===i,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});a[i+"Models"]=r.models,a[i+"Model"]=r.models[0]}),a}function qi(t,e){var n;if(Object(v.isString)(t)){var i={};i[t+"Index"]=0,n=i}else n=t;var r=Object(v.createHashMap)(),o={},a=!1;return Object(v.each)(n,function(t,n){if("dataIndex"!==n&&"dataIndexInside"!==n){var i=n.match(/^(\w+)(Index|Id|Name)$/)||[],s=i[1],l=(i[2]||"").toLowerCase();if(s&&l&&!(e&&e.includeMainTypes&&Object(v.indexOf)(e.includeMainTypes,s)<0))a=a||!!s,(r.get(s)||r.set(s,{}))[l]=t}else o[n]=t}),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var tr={useDefault:!0,enableAll:!1,enableNone:!1},er={useDefault:!1,enableAll:!0,enableNone:!0};function nr(t,e,n,i){i=i||tr;var r=n.index,o=n.id,a=n.name,s={models:null,specified:null!=r||null!=o||null!=a};if(!s.specified){var l=void 0;return s.models=i.useDefault&&(l=t.getComponent(e))?[l]:[],s}return"none"===r||!1===r?(Object(v.assert)(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===r&&(Object(v.assert)(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),s.models=t.queryComponents({mainType:e,index:r,id:o,name:a}),s)}function ir(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function rr(t,e){var n=Object(v.createHashMap)(),i=[];return Object(v.each)(t,function(t){var r=e(t);(n.get(r)||(i.push(r),n.set(r,[]))).push(t)}),{keys:i,buckets:n}}function or(t,e,n,i,r){var o=null==e||"auto"===e;if(null==i)return i;if(Object(v.isNumber)(i))return di(p=ji(n||0,i,r),o?Math.max(pi(n||0),pi(i)):e);if(Object(v.isString)(i))return r<1?n:i;for(var a=[],s=n,l=i,u=Math.max(s?s.length:0,l.length),c=0;c<u;++c){var h=t.getDimensionInfo(c);if(h&&"ordinal"===h.type)a[c]=(r<1&&s?s:l)[c];else{var d=s&&s[c]?s[c]:0,f=l[c],p=ji(d,f,r);a[c]=di(p,o?Math.max(pi(d),pi(f)):e)}}return a}var ar=".",sr="___EC__COMPONENT__CONTAINER___",lr="___EC__EXTENDED_CLASS___";function ur(t){var e={main:"",sub:""};if(t){var n=t.split(ar);e.main=n[0]||"",e.sub=n[1]||""}return e}function cr(t,e){t.$constructor=t,t.extend=function(t){var e,n,i=this;return n=i,v.isFunction(n)&&/^class\s/.test(Function.prototype.toString.call(n))?e=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e}(i):(e=function(){(t.$constructor||i).apply(this,arguments)},v.inherits(e,this)),v.extend(e.prototype,t),e[lr]=!0,e.extend=this.extend,e.superCall=fr,e.superApply=pr,e.superClass=i,e}}function hr(t,e){t.extend=e.extend}var dr=Math.round(10*Math.random());function fr(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this.superClass.prototype[e].apply(t,n)}function pr(t,e,n){return this.superClass.prototype[e].apply(t,n)}function gr(t){var e={};t.registerClass=function(t){var n,i=t.type||t.prototype.type;if(i){n=i,v.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal'),t.prototype.type=i;var r=ur(i);if(r.sub){if(r.sub!==sr){((function(t){var n=e[t.main];n&&n[sr]||((n=e[t.main]={})[sr]=!0);return n})(r))[r.sub]=t}}else e[r.main]=t}return t},t.getClass=function(t,n,i){var r=e[t];if(r&&r[sr]&&(r=n?r[n]:null),i&&!r)throw new Error(n?"Component "+t+"."+(n||"")+" is used but not imported.":t+".type should be specified.");return r},t.getClassesByMainType=function(t){var n=ur(t),i=[],r=e[n.main];return r&&r[sr]?v.each(r,function(t,e){e!==sr&&i.push(t)}):i.push(r),i},t.hasClass=function(t){var n=ur(t);return!!e[n.main]},t.getAllClassMainTypes=function(){var t=[];return v.each(e,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){var n=ur(t),i=e[n.main];return i&&i[sr]}}function vr(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(n,i,r){for(var o={},a=0;a<t.length;a++){var s=t[a][1];if(!(i&&v.indexOf(i,s)>=0||r&&v.indexOf(r,s)<0)){var l=n.getShallow(s,e);null!=l&&(o[t[a][0]]=l)}}return o}}var mr=vr([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),yr=function(){function t(){}return t.prototype.getAreaStyle=function(t,e){return mr(this,t,e)},t}(),br=new An.a(50);function xr(t){if("string"==typeof t){var e=br.get(t);return e&&e.image}return t}function wr(t,e,n,i,r){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var o=br.get(t),a={hostEl:n,cb:i,cbPayload:r};if(o)!Sr(e=o.image)&&o.pending.push(a);else{var s=Nn.d.loadImage(t,_r,_r);s.__zrImageSrc=t,br.put(t,s.__cachedImgObj={image:s,pending:[a]})}return e}return t}return e}function _r(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function Sr(t){return t&&t.width&&t.height}var Mr=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Cr(t,e,n,i,r){if(!e)return"";var o=(t+"").split("\n");r=Ir(e,n,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=kr(o[a],r);return o.join("\n")}function Ir(t,e,n,i){i=i||{};var r=Object(v.extend)({},i);r.font=e,n=Object(v.retrieve2)(n,"..."),r.maxIterations=Object(v.retrieve2)(i.maxIterations,2);var o=r.minChar=Object(v.retrieve2)(i.minChar,0);r.cnCharWidth=Dn("国",e);var a=r.ascCharWidth=Dn("a",e);r.placeholder=Object(v.retrieve2)(i.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<o&&s>=a;l++)s-=a;var u=Dn(n,e);return u>s&&(n="",u=0),s=t-u,r.ellipsis=n,r.ellipsisWidth=u,r.contentWidth=s,r.containerWidth=t,r}function kr(t,e){var n=e.containerWidth,i=e.font,r=e.contentWidth;if(!n)return"";var o=Dn(t,i);if(o<=n)return t;for(var a=0;;a++){if(o<=r||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?Tr(t,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*r/o):0;o=Dn(t=t.substr(0,s),i)}return""===t&&(t=e.placeholder),t}function Tr(t,e,n,i){for(var r=0,o=0,a=t.length;o<a&&r<e;o++){var s=t.charCodeAt(o);r+=0<=s&&s<=127?n:i}return o}var Or=function(){return function(){}}(),Er=function(){return function(t){this.tokens=[],t&&(this.tokens=t)}}(),Ar=function(){return function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}}();function Nr(t,e,n,i,r){var o,a,s=""===e,l=r&&n.rich[r]||{},u=t.lines,c=l.font||n.font,h=!1;if(i){var d=l.padding,f=d?d[1]+d[3]:0;if(null!=l.width&&"auto"!==l.width){var p=Fn(l.width,i.width)+f;u.length>0&&p+i.accumWidth>i.width&&(o=e.split("\n"),h=!0),i.accumWidth=p}else{var g=jr(e,c,i.width,i.breakAll,i.accumWidth);i.accumWidth=g.accumWidth+f,a=g.linesWidths,o=g.lines}}else o=e.split("\n");for(var v=0;v<o.length;v++){var m=o[v],y=new Or;if(y.styleName=r,y.text=m,y.isLineHolder=!m&&!s,"number"==typeof l.width?y.width=l.width:y.width=a?a[v]:Dn(m,c),v||h)u.push(new Er([y]));else{var b=(u[u.length-1]||(u[0]=new Er)).tokens,x=b.length;1===x&&b[0].isLineHolder?b[0]=y:(m||!x||s)&&b.push(y)}}}var Lr=Object(v.reduce)(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function Dr(t){return!function(t){var e=t.charCodeAt(0);return e>=33&&e<=383}(t)||!!Lr[t]}function jr(t,e,n,i,r){for(var o=[],a=[],s="",l="",u=0,c=0,h=0;h<t.length;h++){var d=t.charAt(h);if("\n"!==d){var f=Dn(d,e),p=!i&&!Dr(d);(o.length?c+f>n:r+c+f>n)?c?(s||l)&&(p?(s||(s=l,l="",c=u=0),o.push(s),a.push(c-u),l+=d,s="",c=u+=f):(l&&(s+=l,l="",u=0),o.push(s),a.push(c),s=d,c=f)):p?(o.push(l),a.push(u),l=d,u=f):(o.push(d),a.push(f)):(c+=f,p?(l+=d,u+=f):(l&&(s+=l,l="",u=0),s+=d))}else l&&(s+=l,c+=u),o.push(s),a.push(c),s="",l="",u=0,c=0}return o.length||s||(s=t,l="",u=0),l&&(s+=l),s&&(o.push(s),a.push(c)),1===o.length&&(c+=r),{accumWidth:c,lines:o,linesWidths:a}}var Pr="__zr_style_"+Math.round(10*Math.random()),Rr={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},zr={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Rr[Pr]=!0;var Br=["z","z2","invisible"],Fr=["invisible"],Gr=function(t){function e(e){return t.call(this,e)||this}var n;return y(e,t),e.prototype._init=function(e){for(var n=Object(v.keys)(e),i=0;i<n.length;i++){var r=n[i];"style"===r?this.useStyle(e[r]):t.prototype.attrKV.call(this,r,e[r])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,n,i){var r=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(t,e,n){Vr.copy(t.getBoundingRect()),t.transform&&Vr.applyTransform(t.transform);return Wr.width=e,Wr.height=n,!Vr.intersect(Wr)}(this,t,e)||r&&!r[0]&&!r[3])return!1;if(n&&this.__clipPaths)for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1;if(i&&this.parent)for(var a=this.parent;a;){if(a.ignore)return!1;a=a.parent}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,n=this.getBoundingRect(),i=this.style,r=i.shadowBlur||0,o=i.shadowOffsetX||0,a=i.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new En(0,0,0,0)),e?En.applyTransform(t,n,e):t.copy(n),(r||o||a)&&(t.width+=2*r+Math.abs(o),t.height+=2*r+Math.abs(a),t.x=Math.min(t.x,t.x+o-r),t.y=Math.min(t.y,t.y+a-r));var s=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-s),t.y=Math.floor(t.y-s),t.width=Math.ceil(t.width+1+2*s),t.height=Math.ceil(t.height+1+2*s))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new En(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,n){"style"!==e?t.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,e){return"string"==typeof t?this.style[t]=e:Object(v.extend)(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(2&this.__dirty)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(t){return Object(v.createObject)(Rr,t)},e.prototype.useStyle=function(t){t[Pr]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[Pr]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,Br)},e.prototype._applyStateObj=function(e,n,i,r,o,a){t.prototype._applyStateObj.call(this,e,n,i,r,o,a);var s,l=!(n&&r);if(n&&n.style?o?r?s=n.style:(s=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(s,n.style)):(s=this._mergeStyle(this.createStyle(),r?this.style:i.style),this._mergeStyle(s,n.style)):l&&(s=i.style),s)if(o){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var c=Object(v.keys)(u),h=0;h<c.length;h++){(f=c[h])in s&&(s[f]=s[f],this.style[f]=u[f])}var d=Object(v.keys)(s);for(h=0;h<d.length;h++){var f=d[h];this.style[f]=this.style[f]}this._transitionState(e,{style:s},a,this.getAnimationStyleProps())}else this.useStyle(s);var p=this.__inHover?Fr:Br;for(h=0;h<p.length;h++){f=p[h];n&&null!=n[f]?this[f]=n[f]:l&&null!=i[f]&&(this[f]=i[f])}},e.prototype._mergeStates=function(e){for(var n,i=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.style&&(n=n||{},this._mergeStyle(n,o.style))}return n&&(i.style=n),i},e.prototype._mergeStyle=function(t,e){return Object(v.extend)(t,e),t},e.prototype.getAnimationStyleProps=function(){return zr},e.initDefaultProps=((n=e.prototype).type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,void(n.__dirty=2|Et)),e}($n),Vr=new En(0,0,0,0),Wr=new En(0,0,0,0);var Hr=Gr,Ur=Math.min,Yr=Math.max,Jr=Math.sin,Qr=Math.cos,Zr=2*Math.PI,$r=b(),Xr=b(),Kr=b();function qr(t,e,n){if(0!==t.length){for(var i=t[0],r=i[0],o=i[0],a=i[1],s=i[1],l=1;l<t.length;l++)i=t[l],r=Ur(r,i[0]),o=Yr(o,i[0]),a=Ur(a,i[1]),s=Yr(s,i[1]);e[0]=r,e[1]=a,n[0]=o,n[1]=s}}function to(t,e,n,i,r,o){r[0]=Ur(t,n),r[1]=Ur(e,i),o[0]=Yr(t,n),o[1]=Yr(e,i)}var eo=[],no=[];function io(t,e,n,i,r,o,a,s,l,u){var c=qt,h=$t,d=c(t,n,r,a,eo);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var f=0;f<d;f++){var p=h(t,n,r,a,eo[f]);l[0]=Ur(p,l[0]),u[0]=Yr(p,u[0])}d=c(e,i,o,s,no);for(f=0;f<d;f++){var g=h(e,i,o,s,no[f]);l[1]=Ur(g,l[1]),u[1]=Yr(g,u[1])}l[0]=Ur(t,l[0]),u[0]=Yr(t,u[0]),l[0]=Ur(a,l[0]),u[0]=Yr(a,u[0]),l[1]=Ur(e,l[1]),u[1]=Yr(e,u[1]),l[1]=Ur(s,l[1]),u[1]=Yr(s,u[1])}function ro(t,e,n,i,r,o,a,s){var l=oe,u=ie,c=Yr(Ur(l(t,n,r),1),0),h=Yr(Ur(l(e,i,o),1),0),d=u(t,n,r,c),f=u(e,i,o,h);a[0]=Ur(t,r,d),a[1]=Ur(e,o,f),s[0]=Yr(t,r,d),s[1]=Yr(e,o,f)}function oo(t,e,n,i,r,o,a,s,l){var u=V,c=W,h=Math.abs(r-o);if(h%Zr<1e-4&&h>1e-4)return s[0]=t-n,s[1]=e-i,l[0]=t+n,void(l[1]=e+i);if($r[0]=Qr(r)*n+t,$r[1]=Jr(r)*i+e,Xr[0]=Qr(o)*n+t,Xr[1]=Jr(o)*i+e,u(s,$r,Xr),c(l,$r,Xr),(r%=Zr)<0&&(r+=Zr),(o%=Zr)<0&&(o+=Zr),r>o&&!a?o+=Zr:r<o&&a&&(r+=Zr),a){var d=o;o=r,r=d}for(var f=0;f<o;f+=Math.PI/2)f>r&&(Kr[0]=Qr(f)*n+t,Kr[1]=Jr(f)*i+e,u(s,Kr,s),c(l,Kr,l))}var ao={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},so=[],lo=[],uo=[],co=[],ho=[],fo=[],po=Math.min,go=Math.max,vo=Math.cos,mo=Math.sin,yo=Math.abs,bo=Math.PI,xo=2*bo,wo="undefined"!=typeof Float32Array,_o=[];function So(t){return Math.round(t/bo*1e8)/1e8%2*bo}var Mo=function(){function t(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}var e;return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,n){(n=n||0)>0&&(this._ux=yo(n/qe/t)||0,this._uy=yo(n/qe/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(ao.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var n=yo(t-this._xi),i=yo(e-this._yi),r=n>this._ux||i>this._uy;if(this.addData(ao.L,t,e),this._ctx&&r&&this._ctx.lineTo(t,e),r)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(t,e,n,i,r,o){return this._drawPendingPt(),this.addData(ao.C,t,e,n,i,r,o),this._ctx&&this._ctx.bezierCurveTo(t,e,n,i,r,o),this._xi=r,this._yi=o,this},t.prototype.quadraticCurveTo=function(t,e,n,i){return this._drawPendingPt(),this.addData(ao.Q,t,e,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,i),this._xi=n,this._yi=i,this},t.prototype.arc=function(t,e,n,i,r,o){this._drawPendingPt(),_o[0]=i,_o[1]=r,function(t,e){var n=So(t[0]);n<0&&(n+=xo);var i=n-t[0],r=t[1];r+=i,!e&&r-n>=xo?r=n+xo:e&&n-r>=xo?r=n-xo:!e&&n>r?r=n+(xo-So(n-r)):e&&n<r&&(r=n-(xo-So(r-n))),t[0]=n,t[1]=r}(_o,o),i=_o[0];var a=(r=_o[1])-i;return this.addData(ao.A,t,e,n,n,i,a,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,i,r,o),this._xi=vo(r)*n+t,this._yi=mo(r)*n+e,this},t.prototype.arcTo=function(t,e,n,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,i,r),this},t.prototype.rect=function(t,e,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,i),this.addData(ao.R,t,e,n,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(ao.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!wo||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,r=0;r<e;r++)n+=t[r].len();wo&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(r=0;r<e;r++)for(var o=t[r].data,a=0;a<o.length;a++)this.data[i++]=o[a];this._len=i},t.prototype.addData=function(t,e,n,i,r,o,a,s,l){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var c=0;c<arguments.length;c++)u[this._len++]=arguments[c]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,wo&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){uo[0]=uo[1]=ho[0]=ho[1]=Number.MAX_VALUE,co[0]=co[1]=fo[0]=fo[1]=-Number.MAX_VALUE;var t,e=this.data,n=0,i=0,r=0,o=0;for(t=0;t<this._len;){var a=e[t++],s=1===t;switch(s&&(r=n=e[t],o=i=e[t+1]),a){case ao.M:n=r=e[t++],i=o=e[t++],ho[0]=r,ho[1]=o,fo[0]=r,fo[1]=o;break;case ao.L:to(n,i,e[t],e[t+1],ho,fo),n=e[t++],i=e[t++];break;case ao.C:io(n,i,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],ho,fo),n=e[t++],i=e[t++];break;case ao.Q:ro(n,i,e[t++],e[t++],e[t],e[t+1],ho,fo),n=e[t++],i=e[t++];break;case ao.A:var l=e[t++],u=e[t++],c=e[t++],h=e[t++],d=e[t++],f=e[t++]+d;t+=1;var p=!e[t++];s&&(r=vo(d)*c+l,o=mo(d)*h+u),oo(l,u,c,h,d,f,p,ho,fo),n=vo(f)*c+l,i=mo(f)*h+u;break;case ao.R:to(r=n=e[t++],o=i=e[t++],r+e[t++],o+e[t++],ho,fo);break;case ao.Z:n=r,i=o}V(uo,uo,ho),W(co,co,fo)}return 0===t&&(uo[0]=uo[1]=co[0]=co[1]=0),new En(uo[0],uo[1],co[0]-uo[0],co[1]-uo[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,i=this._uy,r=0,o=0,a=0,s=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,u=0,c=0,h=0;h<e;){var d=t[h++],f=1===h;f&&(a=r=t[h],s=o=t[h+1]);var p=-1;switch(d){case ao.M:r=a=t[h++],o=s=t[h++];break;case ao.L:var g=t[h++],v=(b=t[h++])-o;(yo(O=g-r)>n||yo(v)>i||h===e-1)&&(p=Math.sqrt(O*O+v*v),r=g,o=b);break;case ao.C:var m=t[h++],y=t[h++],b=(g=t[h++],t[h++]),x=t[h++],w=t[h++];p=ne(r,o,m,y,g,b,x,w,10),r=x,o=w;break;case ao.Q:p=le(r,o,m=t[h++],y=t[h++],g=t[h++],b=t[h++],10),r=g,o=b;break;case ao.A:var _=t[h++],S=t[h++],M=t[h++],C=t[h++],I=t[h++],k=t[h++],T=k+I;h+=1;t[h++];f&&(a=vo(I)*M+_,s=mo(I)*C+S),p=go(M,C)*po(xo,Math.abs(k)),r=vo(T)*M+_,o=mo(T)*C+S;break;case ao.R:a=r=t[h++],s=o=t[h++],p=2*t[h++]+2*t[h++];break;case ao.Z:var O=a-r;v=s-o;p=Math.sqrt(O*O+v*v),r=a,o=s}p>=0&&(l[c++]=p,u+=p)}return this._pathLen=u,u},t.prototype.rebuildPath=function(t,e){var n,i,r,o,a,s,l,u,c,h,d=this.data,f=this._ux,p=this._uy,g=this._len,v=e<1,m=0,y=0,b=0;if(!v||(this._pathSegLen||this._calculateLength(),l=this._pathSegLen,u=e*this._pathLen))t:for(var x=0;x<g;){var w=d[x++],_=1===x;switch(_&&(n=r=d[x],i=o=d[x+1]),w!==ao.L&&b>0&&(t.lineTo(c,h),b=0),w){case ao.M:n=r=d[x++],i=o=d[x++],t.moveTo(r,o);break;case ao.L:a=d[x++],s=d[x++];var S=yo(a-r),M=yo(s-o);if(S>f||M>p){if(v){if(m+(Q=l[y++])>u){var C=(u-m)/Q;t.lineTo(r*(1-C)+a*C,o*(1-C)+s*C);break t}m+=Q}t.lineTo(a,s),r=a,o=s,b=0}else{var I=S*S+M*M;I>b&&(c=a,h=s,b=I)}break;case ao.C:var k=d[x++],T=d[x++],O=d[x++],E=d[x++],A=d[x++],N=d[x++];if(v){if(m+(Q=l[y++])>u){te(r,k,O,A,C=(u-m)/Q,so),te(o,T,E,N,C,lo),t.bezierCurveTo(so[1],lo[1],so[2],lo[2],so[3],lo[3]);break t}m+=Q}t.bezierCurveTo(k,T,O,E,A,N),r=A,o=N;break;case ao.Q:k=d[x++],T=d[x++],O=d[x++],E=d[x++];if(v){if(m+(Q=l[y++])>u){ae(r,k,O,C=(u-m)/Q,so),ae(o,T,E,C,lo),t.quadraticCurveTo(so[1],lo[1],so[2],lo[2]);break t}m+=Q}t.quadraticCurveTo(k,T,O,E),r=O,o=E;break;case ao.A:var L=d[x++],D=d[x++],j=d[x++],P=d[x++],R=d[x++],z=d[x++],B=d[x++],F=!d[x++],G=j>P?j:P,V=yo(j-P)>.001,W=R+z,H=!1;if(v)m+(Q=l[y++])>u&&(W=R+z*(u-m)/Q,H=!0),m+=Q;if(V&&t.ellipse?t.ellipse(L,D,j,P,B,R,W,F):t.arc(L,D,G,R,W,F),H)break t;_&&(n=vo(R)*j+L,i=mo(R)*P+D),r=vo(W)*j+L,o=mo(W)*P+D;break;case ao.R:n=r=d[x],i=o=d[x+1],a=d[x++],s=d[x++];var U=d[x++],Y=d[x++];if(v){if(m+(Q=l[y++])>u){var J=u-m;t.moveTo(a,s),t.lineTo(a+po(J,U),s),(J-=U)>0&&t.lineTo(a+U,s+po(J,Y)),(J-=Y)>0&&t.lineTo(a+go(U-J,0),s+Y),(J-=U)>0&&t.lineTo(a,s+go(Y-J,0));break t}m+=Q}t.rect(a,s,U,Y);break;case ao.Z:if(v){var Q;if(m+(Q=l[y++])>u){C=(u-m)/Q;t.lineTo(r*(1-C)+n*C,o*(1-C)+i*C);break t}m+=Q}t.closePath(),r=n,o=i}}},t.prototype.clone=function(){var e=new t,n=this.data;return e.data=n.slice?n.slice():Array.prototype.slice.call(n),e._len=this._len,e},t.CMD=ao,t.initDefaultProps=((e=t.prototype)._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,void(e._version=0)),t}();function Co(t,e,n,i,r,o,a){if(0===r)return!1;var s=r,l=0;if(a>e+s&&a>i+s||a<e-s&&a<i-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t===n)return Math.abs(o-t)<=s/2;var u=(l=(e-i)/(t-n))*o-a+(t*i-n*e)/(t-n);return u*u/(l*l+1)<=s/2*s/2}function Io(t,e,n,i,r,o,a,s,l,u,c){if(0===l)return!1;var h=l;return!(c>e+h&&c>i+h&&c>o+h&&c>s+h||c<e-h&&c<i-h&&c<o-h&&c<s-h||u>t+h&&u>n+h&&u>r+h&&u>a+h||u<t-h&&u<n-h&&u<r-h&&u<a-h)&&ee(t,e,n,i,r,o,a,s,u,c,null)<=h/2}function ko(t,e,n,i,r,o,a,s,l){if(0===a)return!1;var u=a;return!(l>e+u&&l>i+u&&l>o+u||l<e-u&&l<i-u&&l<o-u||s>t+u&&s>n+u&&s>r+u||s<t-u&&s<n-u&&s<r-u)&&se(t,e,n,i,r,o,s,l,null)<=u/2}var To=2*Math.PI;function Oo(t){return(t%=To)<0&&(t+=To),t}var Eo=2*Math.PI;function Ao(t,e,n,i,r,o,a,s,l){if(0===a)return!1;var u=a;s-=t,l-=e;var c=Math.sqrt(s*s+l*l);if(c-u>n||c+u<n)return!1;if(Math.abs(i-r)%Eo<1e-4)return!0;if(o){var h=i;i=Oo(r),r=Oo(h)}else i=Oo(i),r=Oo(r);i>r&&(r+=Eo);var d=Math.atan2(l,s);return d<0&&(d+=Eo),d>=i&&d<=r||d+Eo>=i&&d+Eo<=r}function No(t,e,n,i,r,o){if(o>e&&o>i||o<e&&o<i)return 0;if(i===e)return 0;var a=(o-e)/(i-e),s=i<e?1:-1;1!==a&&0!==a||(s=i<e?.5:-.5);var l=a*(n-t)+t;return l===r?1/0:l>r?s:0}var Lo=Mo.CMD,Do=2*Math.PI,jo=1e-4;var Po=[-1,-1,-1],Ro=[-1,-1];function zo(t,e,n,i,r,o,a,s,l,u){if(u>e&&u>i&&u>o&&u>s||u<e&&u<i&&u<o&&u<s)return 0;var c,h=Kt(e,i,o,s,u,Po);if(0===h)return 0;for(var d=0,f=-1,p=void 0,g=void 0,v=0;v<h;v++){var m=Po[v],y=0===m||1===m?.5:1;$t(t,n,r,a,m)<l||(f<0&&(f=qt(e,i,o,s,Ro),Ro[1]<Ro[0]&&f>1&&(void 0,c=Ro[0],Ro[0]=Ro[1],Ro[1]=c),p=$t(e,i,o,s,Ro[0]),f>1&&(g=$t(e,i,o,s,Ro[1]))),2===f?m<Ro[0]?d+=p<e?y:-y:m<Ro[1]?d+=g<p?y:-y:d+=s<g?y:-y:m<Ro[0]?d+=p<e?y:-y:d+=s<p?y:-y)}return d}function Bo(t,e,n,i,r,o,a,s){if(s>e&&s>i&&s>o||s<e&&s<i&&s<o)return 0;var l=function(t,e,n,i,r){var o=t-2*e+n,a=2*(e-t),s=t-i,l=0;if(Qt(o))Zt(a)&&(c=-s/a)>=0&&c<=1&&(r[l++]=c);else{var u=a*a-4*o*s;if(Qt(u))(c=-a/(2*o))>=0&&c<=1&&(r[l++]=c);else if(u>0){var c,h=Ft(u),d=(-a-h)/(2*o);(c=(-a+h)/(2*o))>=0&&c<=1&&(r[l++]=c),d>=0&&d<=1&&(r[l++]=d)}}return l}(e,i,o,s,Po);if(0===l)return 0;var u=oe(e,i,o);if(u>=0&&u<=1){for(var c=0,h=ie(e,i,o,u),d=0;d<l;d++){var f=0===Po[d]||1===Po[d]?.5:1;ie(t,n,r,Po[d])<a||(Po[d]<u?c+=h<e?f:-f:c+=o<h?f:-f)}return c}f=0===Po[0]||1===Po[0]?.5:1;return ie(t,n,r,Po[0])<a?0:o<e?f:-f}function Fo(t,e,n,i,r,o,a,s){if((s-=e)>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);Po[0]=-l,Po[1]=l;var u=Math.abs(i-r);if(u<1e-4)return 0;if(u>=Do-1e-4){i=0,r=Do;var c=o?1:-1;return a>=Po[0]+t&&a<=Po[1]+t?c:0}if(i>r){var h=i;i=r,r=h}i<0&&(i+=Do,r+=Do);for(var d=0,f=0;f<2;f++){var p=Po[f];if(p+t>a){var g=Math.atan2(s,p);c=o?1:-1;g<0&&(g=Do+g),(g>=i&&g<=r||g+Do>=i&&g+Do<=r)&&(g>Math.PI/2&&g<1.5*Math.PI&&(c=-c),d+=c)}}return d}function Go(t,e,n,i,r){for(var o,a,s,l,u=t.data,c=t.len(),h=0,d=0,f=0,p=0,g=0,v=0;v<c;){var m=u[v++],y=1===v;switch(m===Lo.M&&v>1&&(n||(h+=No(d,f,p,g,i,r))),y&&(p=d=u[v],g=f=u[v+1]),m){case Lo.M:d=p=u[v++],f=g=u[v++];break;case Lo.L:if(n){if(Co(d,f,u[v],u[v+1],e,i,r))return!0}else h+=No(d,f,u[v],u[v+1],i,r)||0;d=u[v++],f=u[v++];break;case Lo.C:if(n){if(Io(d,f,u[v++],u[v++],u[v++],u[v++],u[v],u[v+1],e,i,r))return!0}else h+=zo(d,f,u[v++],u[v++],u[v++],u[v++],u[v],u[v+1],i,r)||0;d=u[v++],f=u[v++];break;case Lo.Q:if(n){if(ko(d,f,u[v++],u[v++],u[v],u[v+1],e,i,r))return!0}else h+=Bo(d,f,u[v++],u[v++],u[v],u[v+1],i,r)||0;d=u[v++],f=u[v++];break;case Lo.A:var b=u[v++],x=u[v++],w=u[v++],_=u[v++],S=u[v++],M=u[v++];v+=1;var C=!!(1-u[v++]);o=Math.cos(S)*w+b,a=Math.sin(S)*_+x,y?(p=o,g=a):h+=No(d,f,o,a,i,r);var I=(i-b)*_/w+b;if(n){if(Ao(b,x,_,S,S+M,C,e,I,r))return!0}else h+=Fo(b,x,_,S,S+M,C,I,r);d=Math.cos(S+M)*w+b,f=Math.sin(S+M)*_+x;break;case Lo.R:if(p=d=u[v++],g=f=u[v++],o=p+u[v++],a=g+u[v++],n){if(Co(p,g,o,g,e,i,r)||Co(o,g,o,a,e,i,r)||Co(o,a,p,a,e,i,r)||Co(p,a,p,g,e,i,r))return!0}else h+=No(o,g,o,a,i,r),h+=No(p,a,p,g,i,r);break;case Lo.Z:if(n){if(Co(d,f,p,g,e,i,r))return!0}else h+=No(d,f,p,g,i,r);d=p,f=g}}return n||(s=f,l=g,Math.abs(s-l)<jo)||(h+=No(d,f,p,g,i,r)||0),0!==h}var Vo=Object(v.defaults)({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Rr),Wo={style:Object(v.defaults)({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},zr.style)},Ho=yn.concat(["invisible","culling","z","z2","zlevel","parent"]),Uo=function(t){function e(e){return t.call(this,e)||this}var n;return y(e,t),e.prototype.update=function(){var n=this;t.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(t){n.buildPath(t,n.shape)}),r.silent=!0;var o=r.style;for(var a in i)o[a]!==i[a]&&(o[a]=i[a]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var s=0;s<Ho.length;++s)r[Ho[s]]=this[Ho[s]];r.__dirty|=Et}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var n=Object(v.keys)(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var r=0;r<n.length;r++){var o=n[r],a=e[o];"style"===o?this.style?Object(v.extend)(this.style,a):this.useStyle(a):"shape"===o?Object(v.extend)(this.shape,a):t.prototype.attrKV.call(this,o,a)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(Object(v.isString)(t)){var e=Object(de.lum)(t,0);return e>.5?"#333":e>.2?"#eee":"#ccc"}if(t)return"#ccc"}return"#333"},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(Object(v.isString)(e)){var n=this.__zr;if(!(!n||!n.isDarkMode())===Object(de.lum)(t,0)<tn)return e}},e.prototype.buildPath=function(t,e,n){},e.prototype.pathUpdated=function(){this.__dirty&=~At},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new Mo(!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.getBoundingRect=function(){var t=this._rect,e=this.style,n=!t;if(n){var i=!1;this.path||(i=!0,this.createPathProxy());var r=this.path;(i||this.__dirty&At)&&(r.beginPath(),this.buildPath(r,this.shape,!1),this.pathUpdated()),t=r.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||n){o.copy(t);var a=e.strokeNoScale?this.getLineScale():1,s=e.lineWidth;if(!this.hasFill()){var l=this.strokeContainThreshold;s=Math.max(s,null==l?4:l)}a>1e-10&&(o.width+=s/a,o.height+=s/a,o.x-=s/a/2,o.y-=s/a/2)}return o}return t},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),r=this.style;if(t=n[0],e=n[1],i.contain(t,e)){var o=this.path;if(this.hasStroke()){var a=r.lineWidth,s=r.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(t,e,n,i){return Go(t,e,!0,n,i)}(o,a/s,t,e)))return!0}if(this.hasFill())return function(t,e,n){return Go(t,0,!1,e,n)}(o,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=At,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,n){"shape"===e?this.setShape(n):t.prototype.attrKV.call(this,e,n)},e.prototype.setShape=function(t,e){var n=this.shape;return n||(n=this.shape={}),"string"==typeof t?n[t]=e:Object(v.extend)(n,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&At)},e.prototype.createStyle=function(t){return Object(v.createObject)(Vo,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=Object(v.extend)({},this.shape))},e.prototype._applyStateObj=function(e,n,i,r,o,a){t.prototype._applyStateObj.call(this,e,n,i,r,o,a);var s,l=!(n&&r);if(n&&n.shape?o?r?s=n.shape:(s=Object(v.extend)({},i.shape),Object(v.extend)(s,n.shape)):(s=Object(v.extend)({},r?this.shape:i.shape),Object(v.extend)(s,n.shape)):l&&(s=i.shape),s)if(o){this.shape=Object(v.extend)({},this.shape);for(var u={},c=Object(v.keys)(s),h=0;h<c.length;h++){var d=c[h];"object"==typeof s[d]?this.shape[d]=s[d]:u[d]=s[d]}this._transitionState(e,{shape:u},a)}else this.shape=s,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var n,i=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.shape&&(n=n||{},this._mergeStyle(n,o.shape))}return n&&(i.shape=n),i},e.prototype.getAnimationStyleProps=function(){return Wo},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var n=function(e){function n(n){var i=e.call(this,n)||this;return t.init&&t.init.call(i,n),i}return y(n,e),n.prototype.getDefaultStyle=function(){return Object(v.clone)(t.style)},n.prototype.getDefaultShape=function(){return Object(v.clone)(t.shape)},n}(e);for(var i in t)"function"==typeof t[i]&&(n.prototype[i]=t[i]);return n},e.initDefaultProps=((n=e.prototype).type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,void(n.__dirty=2|Et|At)),e}(Hr),Yo=Object(v.defaults)({strokeFirst:!0,font:Nn.a,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Vo),Jo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.createStyle=function(t){return Object(v.createObject)(Yo,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+="":e="";var n=Pn(e,t.font,t.textAlign,t.textBaseline);if(n.x+=t.x||0,n.y+=t.y||0,this.hasStroke()){var i=t.lineWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(Hr);Jo.prototype.type="tspan";var Qo=Jo,Zo=Object(v.defaults)({x:0,y:0},Rr),$o={style:Object(v.defaults)({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},zr.style)};var Xo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),e.prototype.createStyle=function(t){return Object(v.createObject)(Zo,t)},e.prototype._getSize=function(t){var e=this.style,n=e[t];if(null!=n)return n;var i,r=(i=e.image)&&"string"!=typeof i&&i.width&&i.height?e.image:this.__image;if(!r)return 0;var o="width"===t?"height":"width",a=e[o];return null==a?r[t]:r[t]/r[o]*a},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return $o},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new En(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Hr);Xo.prototype.type="image";var Ko=Xo;var qo=Math.round;function ta(t,e,n){if(e){var i=e.x1,r=e.x2,o=e.y1,a=e.y2;t.x1=i,t.x2=r,t.y1=o,t.y2=a;var s=n&&n.lineWidth;return s?(qo(2*i)===qo(2*r)&&(t.x1=t.x2=na(i,s,!0)),qo(2*o)===qo(2*a)&&(t.y1=t.y2=na(o,s,!0)),t):t}}function ea(t,e,n){if(e){var i=e.x,r=e.y,o=e.width,a=e.height;t.x=i,t.y=r,t.width=o,t.height=a;var s=n&&n.lineWidth;return s?(t.x=na(i,s,!0),t.y=na(r,s,!0),t.width=Math.max(na(i+o,s,!1)-t.x,0===o?0:1),t.height=Math.max(na(r+a,s,!1)-t.y,0===a?0:1),t):t}}function na(t,e,n){if(!e)return t;var i=qo(2*t);return(i+qo(e))%2==0?i/2:(i+(n?1:-1))/2}var ia=function(){return function(){this.x=0,this.y=0,this.width=0,this.height=0}}(),ra={},oa=function(t){function e(e){return t.call(this,e)||this}return y(e,t),e.prototype.getDefaultShape=function(){return new ia},e.prototype.buildPath=function(t,e){var n,i,r,o;if(this.subPixelOptimize){var a=ea(ra,e,this.style);n=a.x,i=a.y,r=a.width,o=a.height,a.r=e.r,e=a}else n=e.x,i=e.y,r=e.width,o=e.height;e.r?function(t,e){var n,i,r,o,a,s=e.x,l=e.y,u=e.width,c=e.height,h=e.r;u<0&&(s+=u,u=-u),c<0&&(l+=c,c=-c),"number"==typeof h?n=i=r=o=h:h instanceof Array?1===h.length?n=i=r=o=h[0]:2===h.length?(n=r=h[0],i=o=h[1]):3===h.length?(n=h[0],i=o=h[1],r=h[2]):(n=h[0],i=h[1],r=h[2],o=h[3]):n=i=r=o=0,n+i>u&&(n*=u/(a=n+i),i*=u/a),r+o>u&&(r*=u/(a=r+o),o*=u/a),i+r>c&&(i*=c/(a=i+r),r*=c/a),n+o>c&&(n*=c/(a=n+o),o*=c/a),t.moveTo(s+n,l),t.lineTo(s+u-i,l),0!==i&&t.arc(s+u-i,l+i,i,-Math.PI/2,0),t.lineTo(s+u,l+c-r),0!==r&&t.arc(s+u-r,l+c-r,r,0,Math.PI/2),t.lineTo(s+o,l+c),0!==o&&t.arc(s+o,l+c-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}(t,e):t.rect(n,i,r,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Uo);oa.prototype.type="rect";var aa=oa,sa={fill:"#000"},la={style:Object(v.defaults)({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},zr.style)},ua=function(t){function e(e){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=sa,n.attr(e),n}return y(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):t.prototype.getLocalTransform.call(this,e)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){var t;this._childCursor=0,va(t=this.style),Object(v.each)(t.rich,va),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new En(0,0,0,0),e=this._children,n=[],i=null,r=0;r<e.length;r++){var o=e[r],a=o.getBoundingRect(),s=o.getLocalTransform(n);s?(t.copy(a),t.applyTransform(s),(i=i||t.clone()).union(t)):(i=i||a.clone()).union(a)}this._rect=i||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||sa},e.prototype.setTextContent=function(t){0},e.prototype._mergeStyle=function(t,e){if(!e)return t;var n=e.rich,i=t.rich||n&&{};return Object(v.extend)(t,e),n&&i?(this._mergeRich(i,n),t.rich=i):i&&(t.rich=i),t},e.prototype._mergeRich=function(t,e){for(var n=Object(v.keys)(e),i=0;i<n.length;i++){var r=n[i];t[r]=t[r]||{},Object(v.extend)(t[r],e[r])}},e.prototype.getAnimationStyleProps=function(){return la},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||Nn.a,n=t.padding,i=function(t,e){null!=t&&(t+="");var n,i=e.overflow,r=e.padding,o=e.font,a="truncate"===i,s=Bn(o),l=Object(v.retrieve2)(e.lineHeight,s),u=!!e.backgroundColor,c="truncate"===e.lineOverflow,h=e.width,d=(n=null==h||"break"!==i&&"breakAll"!==i?t?t.split("\n"):[]:t?jr(t,e.font,h,"breakAll"===i,0).lines:[]).length*l,f=Object(v.retrieve2)(e.height,d);if(d>f&&c){var p=Math.floor(f/l);n=n.slice(0,p)}if(t&&a&&null!=h)for(var g=Ir(h,o,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),m=0;m<n.length;m++)n[m]=kr(n[m],g);var y=f,b=0;for(m=0;m<n.length;m++)b=Math.max(Dn(n[m],o),b);null==h&&(h=b);var x=b;return r&&(y+=r[0]+r[2],x+=r[1]+r[3],h+=r[1]+r[3]),u&&(x=h),{lines:n,height:f,outerWidth:x,outerHeight:y,lineHeight:l,calculatedLineHeight:s,contentWidth:b,contentHeight:d,width:h}}(xa(t),t),r=wa(t),o=!!t.backgroundColor,a=i.outerHeight,s=i.outerWidth,l=i.contentWidth,u=i.lines,c=i.lineHeight,h=this._defaultStyle,d=t.x||0,f=t.y||0,p=t.align||h.align||"left",g=t.verticalAlign||h.verticalAlign||"top",m=d,y=zn(f,i.contentHeight,g);if(r||n){var b=Rn(d,s,p),x=zn(f,a,g);r&&this._renderBackground(t,t,b,x,s,a)}y+=c/2,n&&(m=ba(d,p,n),"top"===g?y+=n[0]:"bottom"===g&&(y-=n[2]));for(var w=0,_=!1,S=(ya("fill"in t?t.fill:(_=!0,h.fill))),M=(ma("stroke"in t?t.stroke:o||h.autoStroke&&!_?null:(w=2,h.stroke))),C=t.textShadowBlur>0,I=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),k=i.calculatedLineHeight,T=0;T<u.length;T++){var O=this._getOrCreateChild(Qo),E=O.createStyle();O.useStyle(E),E.text=u[T],E.x=m,E.y=y,p&&(E.textAlign=p),E.textBaseline="middle",E.opacity=t.opacity,E.strokeFirst=!0,C&&(E.shadowBlur=t.textShadowBlur||0,E.shadowColor=t.textShadowColor||"transparent",E.shadowOffsetX=t.textShadowOffsetX||0,E.shadowOffsetY=t.textShadowOffsetY||0),E.stroke=M,E.fill=S,M&&(E.lineWidth=t.lineWidth||w,E.lineDash=t.lineDash,E.lineDashOffset=t.lineDashOffset||0),E.font=e,pa(E,t),y+=c,I&&O.setBoundingRect(new En(Rn(E.x,t.width,E.textAlign),zn(E.y,k,E.textBaseline),l,k))}},e.prototype._updateRichTexts=function(){var t=this.style,e=function(t,e){var n=new Ar;if(null!=t&&(t+=""),!t)return n;for(var i,r=e.width,o=e.height,a=e.overflow,s="break"!==a&&"breakAll"!==a||null==r?null:{width:r,accumWidth:0,breakAll:"breakAll"===a},l=Mr.lastIndex=0;null!=(i=Mr.exec(t));){var u=i.index;u>l&&Nr(n,t.substring(l,u),e,s),Nr(n,i[2],e,s,i[1]),l=Mr.lastIndex}l<t.length&&Nr(n,t.substring(l,t.length),e,s);var c=[],h=0,d=0,f=e.padding,p="truncate"===a,g="truncate"===e.lineOverflow;function m(t,e,n){t.width=e,t.lineHeight=n,h+=n,d=Math.max(d,e)}t:for(var y=0;y<n.lines.length;y++){for(var b=n.lines[y],x=0,w=0,_=0;_<b.tokens.length;_++){var S=(L=b.tokens[_]).styleName&&e.rich[L.styleName]||{},M=L.textPadding=S.padding,C=M?M[1]+M[3]:0,I=L.font=S.font||e.font;L.contentHeight=Bn(I);var k=Object(v.retrieve2)(S.height,L.contentHeight);if(L.innerHeight=k,M&&(k+=M[0]+M[2]),L.height=k,L.lineHeight=Object(v.retrieve3)(S.lineHeight,e.lineHeight,k),L.align=S&&S.align||e.align,L.verticalAlign=S&&S.verticalAlign||"middle",g&&null!=o&&h+L.lineHeight>o){_>0?(b.tokens=b.tokens.slice(0,_),m(b,w,x),n.lines=n.lines.slice(0,y+1)):n.lines=n.lines.slice(0,y);break t}var T=S.width,O=null==T||"auto"===T;if("string"==typeof T&&"%"===T.charAt(T.length-1))L.percentWidth=T,c.push(L),L.contentWidth=Dn(L.text,I);else{if(O){var E=S.backgroundColor,A=E&&E.image;A&&Sr(A=xr(A))&&(L.width=Math.max(L.width,A.width*k/A.height))}var N=p&&null!=r?r-w:null;null!=N&&N<L.width?!O||N<C?(L.text="",L.width=L.contentWidth=0):(L.text=Cr(L.text,N-C,I,e.ellipsis,{minChar:e.truncateMinChar}),L.width=L.contentWidth=Dn(L.text,I)):L.contentWidth=Dn(L.text,I)}L.width+=C,w+=L.width,S&&(x=Math.max(x,L.lineHeight))}m(b,w,x)}for(n.outerWidth=n.width=Object(v.retrieve2)(r,d),n.outerHeight=n.height=Object(v.retrieve2)(o,h),n.contentHeight=h,n.contentWidth=d,f&&(n.outerWidth+=f[1]+f[3],n.outerHeight+=f[0]+f[2]),y=0;y<c.length;y++){var L,D=(L=c[y]).percentWidth;L.width=parseInt(D,10)/100*n.width}return n}(xa(t),t),n=e.width,i=e.outerWidth,r=e.outerHeight,o=t.padding,a=t.x||0,s=t.y||0,l=this._defaultStyle,u=t.align||l.align,c=t.verticalAlign||l.verticalAlign,h=Rn(a,i,u),d=zn(s,r,c),f=h,p=d;o&&(f+=o[3],p+=o[0]);var g=f+n;wa(t)&&this._renderBackground(t,t,h,d,i,r);for(var m=!!t.backgroundColor,y=0;y<e.lines.length;y++){for(var b=e.lines[y],x=b.tokens,w=x.length,_=b.lineHeight,S=b.width,M=0,C=f,I=g,k=w-1,T=void 0;M<w&&(!(T=x[M]).align||"left"===T.align);)this._placeToken(T,t,_,p,C,"left",m),S-=T.width,C+=T.width,M++;for(;k>=0&&"right"===(T=x[k]).align;)this._placeToken(T,t,_,p,I,"right",m),S-=T.width,I-=T.width,k--;for(C+=(n-(C-f)-(g-I)-S)/2;M<=k;)T=x[M],this._placeToken(T,t,_,p,C+T.width/2,"center",m),C+=T.width,M++;p+=_}},e.prototype._placeToken=function(t,e,n,i,r,o,a){var s=e.rich[t.styleName]||{};s.text=t.text;var l=t.verticalAlign,u=i+n/2;"top"===l?u=i+t.height/2:"bottom"===l&&(u=i+n-t.height/2),!t.isLineHolder&&wa(s)&&this._renderBackground(s,e,"right"===o?r-t.width:"center"===o?r-t.width/2:r,u-t.height/2,t.width,t.height);var c=!!s.backgroundColor,h=t.textPadding;h&&(r=ba(r,o,h),u-=t.height/2-h[0]-t.innerHeight/2);var d=this._getOrCreateChild(Qo),f=d.createStyle();d.useStyle(f);var p=this._defaultStyle,g=!1,m=0,y=ya("fill"in s?s.fill:"fill"in e?e.fill:(g=!0,p.fill)),b=ma("stroke"in s?s.stroke:"stroke"in e?e.stroke:c||a||p.autoStroke&&!g?null:(m=2,p.stroke)),x=s.textShadowBlur>0||e.textShadowBlur>0;f.text=t.text,f.x=r,f.y=u,x&&(f.shadowBlur=s.textShadowBlur||e.textShadowBlur||0,f.shadowColor=s.textShadowColor||e.textShadowColor||"transparent",f.shadowOffsetX=s.textShadowOffsetX||e.textShadowOffsetX||0,f.shadowOffsetY=s.textShadowOffsetY||e.textShadowOffsetY||0),f.textAlign=o,f.textBaseline="middle",f.font=t.font||Nn.a,f.opacity=Object(v.retrieve3)(s.opacity,e.opacity,1),pa(f,s),b&&(f.lineWidth=Object(v.retrieve3)(s.lineWidth,e.lineWidth,m),f.lineDash=Object(v.retrieve2)(s.lineDash,e.lineDash),f.lineDashOffset=e.lineDashOffset||0,f.stroke=b),y&&(f.fill=y);var w=t.contentWidth,_=t.contentHeight;d.setBoundingRect(new En(Rn(f.x,w,f.textAlign),zn(f.y,_,f.textBaseline),w,_))},e.prototype._renderBackground=function(t,e,n,i,r,o){var a,s,l,u=t.backgroundColor,c=t.borderWidth,h=t.borderColor,d=u&&u.image,f=u&&!d,p=t.borderRadius,g=this;if(f||t.lineHeight||c&&h){(a=this._getOrCreateChild(aa)).useStyle(a.createStyle()),a.style.fill=null;var m=a.shape;m.x=n,m.y=i,m.width=r,m.height=o,m.r=p,a.dirtyShape()}if(f)(l=a.style).fill=u||null,l.fillOpacity=Object(v.retrieve2)(t.fillOpacity,1);else if(d){(s=this._getOrCreateChild(Ko)).onload=function(){g.dirtyStyle()};var y=s.style;y.image=u.image,y.x=n,y.y=i,y.width=r,y.height=o}c&&h&&((l=a.style).lineWidth=c,l.stroke=h,l.strokeOpacity=Object(v.retrieve2)(t.strokeOpacity,1),l.lineDash=t.borderDash,l.lineDashOffset=t.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(l.strokeFirst=!0,l.lineWidth*=2));var b=(a||s).style;b.shadowBlur=t.shadowBlur||0,b.shadowColor=t.shadowColor||"transparent",b.shadowOffsetX=t.shadowOffsetX||0,b.shadowOffsetY=t.shadowOffsetY||0,b.opacity=Object(v.retrieve3)(t.opacity,e.opacity,1)},e.makeFont=function(t){var e="";return ga(t)&&(e=[t.fontStyle,t.fontWeight,fa(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),e&&Object(v.trim)(e)||t.textFont||t.font},e}(Hr),ca={left:!0,right:1,center:1},ha={top:1,bottom:1,middle:1},da=["fontStyle","fontWeight","fontSize","fontFamily"];function fa(t){return"string"!=typeof t||-1===t.indexOf("px")&&-1===t.indexOf("rem")&&-1===t.indexOf("em")?isNaN(+t)?Nn.c+"px":t+"px":t}function pa(t,e){for(var n=0;n<da.length;n++){var i=da[n],r=e[i];null!=r&&(t[i]=r)}}function ga(t){return null!=t.fontSize||t.fontFamily||t.fontWeight}function va(t){if(t){t.font=ua.makeFont(t);var e=t.align;"middle"===e&&(e="center"),t.align=null==e||ca[e]?e:"left";var n=t.verticalAlign;"center"===n&&(n="middle"),t.verticalAlign=null==n||ha[n]?n:"top",t.padding&&(t.padding=Object(v.normalizeCssArray)(t.padding))}}function ma(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function ya(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function ba(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function xa(t){var e=t.text;return null!=e&&(e+=""),e}function wa(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var _a=ua,Sa=$i(),Ma=function(t,e,n,i){if(i){var r=Sa(i);r.dataIndex=n,r.dataType=e,r.seriesIndex=t,"group"===i.type&&i.traverse(function(i){var r=Sa(i);r.seriesIndex=t,r.dataIndex=n,r.dataType=e})}},Ca=1,Ia={},ka=$i(),Ta=$i(),Oa=0,Ea=1,Aa=2,Na=["emphasis","blur","select"],La=["normal","emphasis","blur","select"],Da=10,ja=9,Pa="highlight",Ra="downplay",za="select",Ba="unselect",Fa="toggleSelect";function Ga(t){return null!=t&&"none"!==t}var Va=new An.a(100);function Wa(t){if(Object(v.isString)(t)){var e=Va.get(t);return e||(e=de.lift(t,-.1),Va.put(t,e)),e}if(Object(v.isGradientObject)(t)){var n=Object(v.extend)({},t);return n.colorStops=Object(v.map)(t.colorStops,function(t){return{offset:t.offset,color:de.lift(t.color,-.1)}}),n}return t}function Ha(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function Ua(t){Ha(t,"emphasis",Aa)}function Ya(t){t.hoverState===Aa&&Ha(t,"normal",Oa)}function Ja(t){Ha(t,"blur",Ea)}function Qa(t){t.hoverState===Ea&&Ha(t,"normal",Oa)}function Za(t){t.selected=!0}function $a(t){t.selected=!1}function Xa(t,e,n){e(t,n)}function Ka(t,e,n){Xa(t,e,n),t.isGroup&&t.traverse(function(t){Xa(t,e,n)})}function qa(t,e){switch(e){case"emphasis":t.hoverState=Aa;break;case"normal":t.hoverState=Oa;break;case"blur":t.hoverState=Ea;break;case"select":t.selected=!0}}function ts(t,e){var n=this.states[t];if(this.style){if("emphasis"===t)return function(t,e,n,i){var r=n&&Object(v.indexOf)(n,"select")>=0,o=!1;if(t instanceof Uo){var a=ka(t),s=r&&a.selectFill||a.normalFill,l=r&&a.selectStroke||a.normalStroke;if(Ga(s)||Ga(l)){var u=(i=i||{}).style||{};"inherit"===u.fill?(o=!0,i=Object(v.extend)({},i),(u=Object(v.extend)({},u)).fill=s):!Ga(u.fill)&&Ga(s)?(o=!0,i=Object(v.extend)({},i),(u=Object(v.extend)({},u)).fill=Wa(s)):!Ga(u.stroke)&&Ga(l)&&(o||(i=Object(v.extend)({},i),u=Object(v.extend)({},u)),u.stroke=Wa(l)),i.style=u}}if(i&&null==i.z2){o||(i=Object(v.extend)({},i));var c=t.z2EmphasisLift;i.z2=t.z2+(null!=c?c:Da)}return i}(this,0,e,n);if("blur"===t)return function(t,e,n){var i=Object(v.indexOf)(t.currentStates,e)>=0,r=t.style.opacity,o=i?null:function(t,e,n,i){for(var r=t.style,o={},a=0;a<e.length;a++){var s=e[a],l=r[s];o[s]=null==l?i&&i[s]:l}for(a=0;a<t.animators.length;a++){var u=t.animators[a];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&"style"===u.targetName&&u.saveTo(o,e)}return o}(t,["opacity"],e,{opacity:1}),a=(n=n||{}).style||{};return null==a.opacity&&(n=Object(v.extend)({},n),a=Object(v.extend)({opacity:i?r:.1*o.opacity},a),n.style=a),n}(this,t,n);if("select"===t)return function(t,e,n){if(n&&null==n.z2){n=Object(v.extend)({},n);var i=t.z2SelectLift;n.z2=t.z2+(null!=i?i:ja)}return n}(this,0,n)}return n}function es(t){t.stateProxy=ts;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=ts),n&&(n.stateProxy=ts)}function ns(t,e){!cs(t,e)&&!t.__highByOuter&&Ka(t,Ua)}function is(t,e){!cs(t,e)&&!t.__highByOuter&&Ka(t,Ya)}function rs(t,e){t.__highByOuter|=1<<(e||0),Ka(t,Ua)}function os(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&Ka(t,Ya)}function as(t){Ka(t,Ja)}function ss(t){Ka(t,Qa)}function ls(t){Ka(t,Za)}function us(t){Ka(t,$a)}function cs(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function hs(t){t.getModel().eachComponent(function(e,n){var i=Ta(n);i.isBlured&&("series"===e?t.getViewOfSeriesModel(n):t.getViewOfComponentModel(n)).group.traverse(function(t){Qa(t)});i.isBlured=!1})}function ds(t,e,n,i){var r=i.getModel();function o(t,e){for(var n=0;n<e.length;n++){var i=t.getItemGraphicEl(e[n]);i&&ss(i)}}if(n=n||"coordinateSystem",null!=t&&e&&"none"!==e){var a=r.getSeriesByIndex(t),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(t){var r=a===t,u=t.coordinateSystem;if(u&&u.master&&(u=u.master),!("series"===n&&!r||"coordinateSystem"===n&&!(u&&s?u===s:r)||"series"===e&&r)){if(i.getViewOfSeriesModel(t).group.traverse(function(t){Ja(t)}),Object(v.isArrayLike)(e))o(t.getData(),e);else if(Object(v.isObject)(e))for(var c=Object(v.keys)(e),h=0;h<c.length;h++)o(t.getData(c[h]),e[c[h]]);l.push(t),Ta(t).isBlured=!0}}),r.eachComponent(function(t,e){if("series"!==t){var n=i.getViewOfComponentModel(e);n&&n.blurSeries&&n.blurSeries(l,r)}})}}function fs(t,e,n){if(null!=t&&null!=e){var i=n.getModel().getComponent(t,e);if(i){Ta(i).isBlured=!0;var r=n.getViewOfComponentModel(i);r&&r.focusBlurEnabled&&r.group.traverse(function(t){Ja(t)})}}}function ps(t,e,n,i){var r={focusSelf:!1,dispatchers:null};if(null==t||"series"===t||null==e||null==n)return r;var o=i.getModel().getComponent(t,e);if(!o)return r;var a=i.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var s,l=a.findHighDownDispatchers(n),u=0;u<l.length;u++)if("self"===Sa(l[u]).focus){s=!0;break}return{focusSelf:s,dispatchers:l}}function gs(t){var e=t.getAllData();Object(v.each)(e,function(e){var n=e.data,i=e.type;n.eachItemGraphicEl(function(e,n){t.isSelected(n,i)?ls(e):us(e)})})}function vs(t,e,n){_s(t,!0),Ka(t,es),ys(t,e,n)}function ms(t,e,n,i){i?function(t){_s(t,!1)}(t):vs(t,e,n)}function ys(t,e,n){var i=Sa(t);null!=e?(i.focus=e,i.blurScope=n):i.focus&&(i.focus=null)}var bs=["emphasis","blur","select"],xs={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ws(t,e,n,i){n=n||"itemStyle";for(var r=0;r<bs.length;r++){var o=bs[r],a=e.getModel([o,n]);t.ensureState(o).style=i?i(a):a[xs[n]]()}}function _s(t,e){var n=!1===e,i=t;t.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=t.highDownSilentOnTouch),n&&!i.__highDownDispatcher||(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!n)}function Ss(t){return!(!t||!t.__highDownDispatcher)}function Ms(t){var e=t.type;return e===za||e===Ba||e===Fa}function Cs(t){var e=t.type;return e===Pa||e===Ra}var Is=Mo.CMD,ks=[[],[],[]],Ts=Math.sqrt,Os=Math.atan2;function Es(t,e){if(e){var n,i,r,o,a,s,l=t.data,u=t.len(),c=Is.M,h=Is.C,d=Is.L,f=Is.R,p=Is.A,g=Is.Q;for(r=0,o=0;r<u;){switch(n=l[r++],o=r,i=0,n){case c:case d:i=1;break;case h:i=3;break;case g:i=2;break;case p:var v=e[4],m=e[5],y=Ts(e[0]*e[0]+e[1]*e[1]),b=Ts(e[2]*e[2]+e[3]*e[3]),x=Os(-e[1]/b,e[0]/y);l[r]*=y,l[r++]+=v,l[r]*=b,l[r++]+=m,l[r++]*=y,l[r++]*=b,l[r++]+=x,l[r++]+=x,o=r+=2;break;case f:s[0]=l[r++],s[1]=l[r++],G(s,s,e),l[o++]=s[0],l[o++]=s[1],s[0]+=l[r++],s[1]+=l[r++],G(s,s,e),l[o++]=s[0],l[o++]=s[1]}for(a=0;a<i;a++){var w=ks[a];w[0]=l[r++],w[1]=l[r++],G(w,w,e),l[o++]=w[0],l[o++]=w[1]}}t.increaseVersion()}}var As=Math.sqrt,Ns=Math.sin,Ls=Math.cos,Ds=Math.PI;function js(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Ps(t,e){return(t[0]*e[0]+t[1]*e[1])/(js(t)*js(e))}function Rs(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Ps(t,e))}function zs(t,e,n,i,r,o,a,s,l,u,c){var h=l*(Ds/180),d=Ls(h)*(t-n)/2+Ns(h)*(e-i)/2,f=-1*Ns(h)*(t-n)/2+Ls(h)*(e-i)/2,p=d*d/(a*a)+f*f/(s*s);p>1&&(a*=As(p),s*=As(p));var g=(r===o?-1:1)*As((a*a*(s*s)-a*a*(f*f)-s*s*(d*d))/(a*a*(f*f)+s*s*(d*d)))||0,v=g*a*f/s,m=g*-s*d/a,y=(t+n)/2+Ls(h)*v-Ns(h)*m,b=(e+i)/2+Ns(h)*v+Ls(h)*m,x=Rs([1,0],[(d-v)/a,(f-m)/s]),w=[(d-v)/a,(f-m)/s],_=[(-1*d-v)/a,(-1*f-m)/s],S=Rs(w,_);if(Ps(w,_)<=-1&&(S=Ds),Ps(w,_)>=1&&(S=0),S<0){var M=Math.round(S/Ds*1e6)/1e6;S=2*Ds+M%2*Ds}c.addData(u,y,b,a,s,x,S,h,o)}var Bs=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Fs=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;var Gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),e.prototype.applyTransform=function(t){},e}(Uo);function Vs(t){return null!=t.setData}function Ws(t,e){var n=function(t){var e=new Mo;if(!t)return e;var n,i=0,r=0,o=i,a=r,s=Mo.CMD,l=t.match(Bs);if(!l)return e;for(var u=0;u<l.length;u++){for(var c=l[u],h=c.charAt(0),d=void 0,f=c.match(Fs)||[],p=f.length,g=0;g<p;g++)f[g]=parseFloat(f[g]);for(var v=0;v<p;){var m=void 0,y=void 0,b=void 0,x=void 0,w=void 0,_=void 0,S=void 0,M=i,C=r,I=void 0,k=void 0;switch(h){case"l":i+=f[v++],r+=f[v++],d=s.L,e.addData(d,i,r);break;case"L":i=f[v++],r=f[v++],d=s.L,e.addData(d,i,r);break;case"m":i+=f[v++],r+=f[v++],d=s.M,e.addData(d,i,r),o=i,a=r,h="l";break;case"M":i=f[v++],r=f[v++],d=s.M,e.addData(d,i,r),o=i,a=r,h="L";break;case"h":i+=f[v++],d=s.L,e.addData(d,i,r);break;case"H":i=f[v++],d=s.L,e.addData(d,i,r);break;case"v":r+=f[v++],d=s.L,e.addData(d,i,r);break;case"V":r=f[v++],d=s.L,e.addData(d,i,r);break;case"C":d=s.C,e.addData(d,f[v++],f[v++],f[v++],f[v++],f[v++],f[v++]),i=f[v-2],r=f[v-1];break;case"c":d=s.C,e.addData(d,f[v++]+i,f[v++]+r,f[v++]+i,f[v++]+r,f[v++]+i,f[v++]+r),i+=f[v-2],r+=f[v-1];break;case"S":m=i,y=r,I=e.len(),k=e.data,n===s.C&&(m+=i-k[I-4],y+=r-k[I-3]),d=s.C,M=f[v++],C=f[v++],i=f[v++],r=f[v++],e.addData(d,m,y,M,C,i,r);break;case"s":m=i,y=r,I=e.len(),k=e.data,n===s.C&&(m+=i-k[I-4],y+=r-k[I-3]),d=s.C,M=i+f[v++],C=r+f[v++],i+=f[v++],r+=f[v++],e.addData(d,m,y,M,C,i,r);break;case"Q":M=f[v++],C=f[v++],i=f[v++],r=f[v++],d=s.Q,e.addData(d,M,C,i,r);break;case"q":M=f[v++]+i,C=f[v++]+r,i+=f[v++],r+=f[v++],d=s.Q,e.addData(d,M,C,i,r);break;case"T":m=i,y=r,I=e.len(),k=e.data,n===s.Q&&(m+=i-k[I-4],y+=r-k[I-3]),i=f[v++],r=f[v++],d=s.Q,e.addData(d,m,y,i,r);break;case"t":m=i,y=r,I=e.len(),k=e.data,n===s.Q&&(m+=i-k[I-4],y+=r-k[I-3]),i+=f[v++],r+=f[v++],d=s.Q,e.addData(d,m,y,i,r);break;case"A":b=f[v++],x=f[v++],w=f[v++],_=f[v++],S=f[v++],zs(M=i,C=r,i=f[v++],r=f[v++],_,S,b,x,w,d=s.A,e);break;case"a":b=f[v++],x=f[v++],w=f[v++],_=f[v++],S=f[v++],zs(M=i,C=r,i+=f[v++],r+=f[v++],_,S,b,x,w,d=s.A,e)}}"z"!==h&&"Z"!==h||(d=s.Z,e.addData(d),i=o,r=a),n=d}return e.toStatic(),e}(t),i=Object(v.extend)({},e);return i.buildPath=function(t){if(Vs(t)){t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e,1)}else{var e=t;n.rebuildPath(e,1)}},i.applyTransform=function(t){Es(n,t),this.dirtyShape()},i}function Hs(t,e){return new Gs(Ws(t,e))}function Us(t,e){e=e||{};var n=new Uo;return t.shape&&n.setShape(t.shape),n.setStyle(t.style),e.bakeTransform?Es(n.path,t.getComputedTransform()):e.toLocal?n.setLocalTransform(t.getComputedTransform()):n.copyTransform(t),n.buildPath=t.buildPath,n.applyTransform=n.applyTransform,n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel,n}var Ys=function(){return function(){this.cx=0,this.cy=0,this.r=0}}(),Js=function(t){function e(e){return t.call(this,e)||this}return y(e,t),e.prototype.getDefaultShape=function(){return new Ys},e.prototype.buildPath=function(t,e){t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(Uo);Js.prototype.type="circle";var Qs=Js,Zs=function(){return function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}}(),$s=function(t){function e(e){return t.call(this,e)||this}return y(e,t),e.prototype.getDefaultShape=function(){return new Zs},e.prototype.buildPath=function(t,e){var n=.5522848,i=e.cx,r=e.cy,o=e.rx,a=e.ry,s=o*n,l=a*n;t.moveTo(i-o,r),t.bezierCurveTo(i-o,r-l,i-s,r-a,i,r-a),t.bezierCurveTo(i+s,r-a,i+o,r-l,i+o,r),t.bezierCurveTo(i+o,r+l,i+s,r+a,i,r+a),t.bezierCurveTo(i-s,r+a,i-o,r+l,i-o,r),t.closePath()},e}(Uo);$s.prototype.type="ellipse";var Xs=$s,Ks=Math.PI,qs=2*Ks,tl=Math.sin,el=Math.cos,nl=Math.acos,il=Math.atan2,rl=Math.abs,ol=Math.sqrt,al=Math.max,sl=Math.min,ll=1e-4;function ul(t,e,n,i,r,o,a){var s=t-n,l=e-i,u=(a?o:-o)/ol(s*s+l*l),c=u*l,h=-u*s,d=t+c,f=e+h,p=n+c,g=i+h,v=(d+p)/2,m=(f+g)/2,y=p-d,b=g-f,x=y*y+b*b,w=r-o,_=d*g-p*f,S=(b<0?-1:1)*ol(al(0,w*w*x-_*_)),M=(_*b-y*S)/x,C=(-_*y-b*S)/x,I=(_*b+y*S)/x,k=(-_*y+b*S)/x,T=M-v,O=C-m,E=I-v,A=k-m;return T*T+O*O>E*E+A*A&&(M=I,C=k),{cx:M,cy:C,x0:-c,y0:-h,x1:M*(r/w-1),y1:C*(r/w-1)}}function cl(t,e){var n,i=al(e.r,0),r=al(e.r0||0,0),o=i>0;if(o||r>0){if(o||(i=r,r=0),r>i){var a=i;i=r,r=a}var s=e.startAngle,l=e.endAngle;if(!isNaN(s)&&!isNaN(l)){var u=e.cx,c=e.cy,h=!!e.clockwise,d=rl(l-s),f=d>qs&&d%qs;if(f>ll&&(d=f),i>ll)if(d>qs-ll)t.moveTo(u+i*el(s),c+i*tl(s)),t.arc(u,c,i,s,l,!h),r>ll&&(t.moveTo(u+r*el(l),c+r*tl(l)),t.arc(u,c,r,l,s,h));else{var p=void 0,g=void 0,m=void 0,y=void 0,b=void 0,x=void 0,w=void 0,_=void 0,S=void 0,M=void 0,C=void 0,I=void 0,k=void 0,T=void 0,O=void 0,E=void 0,A=i*el(s),N=i*tl(s),L=r*el(l),D=r*tl(l),j=d>ll;if(j){var P=e.cornerRadius;P&&(p=(n=function(t){var e;if(Object(v.isArray)(t)){var n=t.length;if(!n)return t;e=1===n?[t[0],t[0],0,0]:2===n?[t[0],t[0],t[1],t[1]]:3===n?t.concat(t[2]):t}else e=[t,t,t,t];return e}(P))[0],g=n[1],m=n[2],y=n[3]);var R=rl(i-r)/2;if(b=sl(R,m),x=sl(R,y),w=sl(R,p),_=sl(R,g),C=S=al(b,x),I=M=al(w,_),(S>ll||M>ll)&&(k=i*el(l),T=i*tl(l),O=r*el(s),E=r*tl(s),d<Ks)){var z=function(t,e,n,i,r,o,a,s){var l=n-t,u=i-e,c=a-r,h=s-o,d=h*l-c*u;if(!(d*d<ll))return[t+(d=(c*(e-o)-h*(t-r))/d)*l,e+d*u]}(A,N,O,E,k,T,L,D);if(z){var B=A-z[0],F=N-z[1],G=k-z[0],V=T-z[1],W=1/tl(nl((B*G+F*V)/(ol(B*B+F*F)*ol(G*G+V*V)))/2),H=ol(z[0]*z[0]+z[1]*z[1]);C=sl(S,(i-H)/(W+1)),I=sl(M,(r-H)/(W-1))}}}if(j)if(C>ll){var U=sl(m,C),Y=sl(y,C),J=ul(O,E,A,N,i,U,h),Q=ul(k,T,L,D,i,Y,h);t.moveTo(u+J.cx+J.x0,c+J.cy+J.y0),C<S&&U===Y?t.arc(u+J.cx,c+J.cy,C,il(J.y0,J.x0),il(Q.y0,Q.x0),!h):(U>0&&t.arc(u+J.cx,c+J.cy,U,il(J.y0,J.x0),il(J.y1,J.x1),!h),t.arc(u,c,i,il(J.cy+J.y1,J.cx+J.x1),il(Q.cy+Q.y1,Q.cx+Q.x1),!h),Y>0&&t.arc(u+Q.cx,c+Q.cy,Y,il(Q.y1,Q.x1),il(Q.y0,Q.x0),!h))}else t.moveTo(u+A,c+N),t.arc(u,c,i,s,l,!h);else t.moveTo(u+A,c+N);if(r>ll&&j)if(I>ll){U=sl(p,I),J=ul(L,D,k,T,r,-(Y=sl(g,I)),h),Q=ul(A,N,O,E,r,-U,h);t.lineTo(u+J.cx+J.x0,c+J.cy+J.y0),I<M&&U===Y?t.arc(u+J.cx,c+J.cy,I,il(J.y0,J.x0),il(Q.y0,Q.x0),!h):(Y>0&&t.arc(u+J.cx,c+J.cy,Y,il(J.y0,J.x0),il(J.y1,J.x1),!h),t.arc(u,c,r,il(J.cy+J.y1,J.cx+J.x1),il(Q.cy+Q.y1,Q.cx+Q.x1),h),U>0&&t.arc(u+Q.cx,c+Q.cy,U,il(Q.y1,Q.x1),il(Q.y0,Q.x0),!h))}else t.lineTo(u+L,c+D),t.arc(u,c,r,l,s,h);else t.lineTo(u+L,c+D)}else t.moveTo(u,c);t.closePath()}}}var hl=function(){return function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0}}(),dl=function(t){function e(e){return t.call(this,e)||this}return y(e,t),e.prototype.getDefaultShape=function(){return new hl},e.prototype.buildPath=function(t,e){cl(t,e)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Uo);dl.prototype.type="sector";var fl=dl,pl=function(){return function(){this.cx=0,this.cy=0,this.r=0,this.r0=0}}(),gl=function(t){function e(e){return t.call(this,e)||this}return y(e,t),e.prototype.getDefaultShape=function(){return new pl},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=2*Math.PI;t.moveTo(n+e.r,i),t.arc(n,i,e.r,0,r,!1),t.moveTo(n+e.r0,i),t.arc(n,i,e.r0,0,r,!0)},e}(Uo);gl.prototype.type="ring";var vl=gl;function ml(t,e,n){var i=e.smooth,r=e.points;if(r&&r.length>=2){if(i){var o=function(t,e,n,i){var r,o,a,s,l=[],u=[],c=[],h=[];if(i){a=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=t.length;d<f;d++)V(a,a,t[d]),W(s,s,t[d]);V(a,a,i[0]),W(s,s,i[1])}for(d=0,f=t.length;d<f;d++){var p=t[d];if(n)r=t[d?d-1:f-1],o=t[(d+1)%f];else{if(0===d||d===f-1){l.push(w(t[d]));continue}r=t[d-1],o=t[d+1]}C(u,o,r),L(u,u,e);var g=j(p,r),v=j(p,o),m=g+v;0!==m&&(g/=m,v/=m),L(c,u,-g),L(h,u,v);var y=S([],p,c),b=S([],p,h);i&&(W(y,y,a),V(y,y,s),W(b,b,a),V(b,b,s)),l.push(y),l.push(b)}return n&&l.push(l.shift()),l}(r,i,n,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(n?a:a-1);s++){var l=o[2*s],u=o[2*s+1],c=r[(s+1)%a];t.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{t.moveTo(r[0][0],r[0][1]);s=1;for(var h=r.length;s<h;s++)t.lineTo(r[s][0],r[s][1])}n&&t.closePath()}}var yl=function(){return function(){this.points=null,this.smooth=0,this.smoothConstraint=null}}(),bl=function(t){function e(e){return t.call(this,e)||this}return y(e,t),e.prototype.getDefaultShape=function(){return new yl},e.prototype.buildPath=function(t,e){ml(t,e,!0)},e}(Uo);bl.prototype.type="polygon";var xl=bl,wl=function(){return function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}}(),_l=function(t){function e(e){return t.call(this,e)||this}return y(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new wl},e.prototype.buildPath=function(t,e){ml(t,e,!1)},e}(Uo);_l.prototype.type="polyline";var Sl=_l,Ml={},Cl=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}}(),Il=function(t){function e(e){return t.call(this,e)||this}return y(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Cl},e.prototype.buildPath=function(t,e){var n,i,r,o;if(this.subPixelOptimize){var a=ta(Ml,e,this.style);n=a.x1,i=a.y1,r=a.x2,o=a.y2}else n=e.x1,i=e.y1,r=e.x2,o=e.y2;var s=e.percent;0!==s&&(t.moveTo(n,i),s<1&&(r=n*(1-s)+r*s,o=i*(1-s)+o*s),t.lineTo(r,o))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(Uo);Il.prototype.type="line";var kl=Il,Tl=[],Ol=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}}();function El(t,e,n){var i=t.cpx2,r=t.cpy2;return null!=i||null!=r?[(n?Xt:$t)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?Xt:$t)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?re:ie)(t.x1,t.cpx1,t.x2,e),(n?re:ie)(t.y1,t.cpy1,t.y2,e)]}var Al=function(t){function e(e){return t.call(this,e)||this}return y(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ol},e.prototype.buildPath=function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,c=e.percent;0!==c&&(t.moveTo(n,i),null==l||null==u?(c<1&&(ae(n,a,r,c,Tl),a=Tl[1],r=Tl[2],ae(i,s,o,c,Tl),s=Tl[1],o=Tl[2]),t.quadraticCurveTo(a,s,r,o)):(c<1&&(te(n,a,l,r,c,Tl),a=Tl[1],l=Tl[2],r=Tl[3],te(i,s,u,o,c,Tl),s=Tl[1],u=Tl[2],o=Tl[3]),t.bezierCurveTo(a,s,l,u,r,o)))},e.prototype.pointAt=function(t){return El(this.shape,t,!1)},e.prototype.tangentAt=function(t){var e=El(this.shape,t,!0);return D(e,e)},e}(Uo);Al.prototype.type="bezier-curve";var Nl=Al,Ll=function(){return function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}}(),Dl=function(t){function e(e){return t.call(this,e)||this}return y(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ll},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),u=Math.sin(o);t.moveTo(l*r+n,u*r+i),t.arc(n,i,r,o,a,!s)},e}(Uo);Dl.prototype.type="arc";var jl=Dl,Pl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="compound",e}return y(e,t),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,e=this.shapeChanged(),n=0;n<t.length;n++)e=e||t[n].shapeChanged();e&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Uo.prototype.getBoundingRect.call(this)},e}(Uo),Rl=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},t}(),zl=function(t){function e(e,n,i,r,o,a){var s=t.call(this,o)||this;return s.x=null==e?0:e,s.y=null==n?0:n,s.x2=null==i?1:i,s.y2=null==r?0:r,s.type="linear",s.global=a||!1,s}return y(e,t),e}(Rl),Bl=function(t){function e(e,n,i,r,o){var a=t.call(this,r)||this;return a.x=null==e?.5:e,a.y=null==n?.5:n,a.r=null==i?.5:i,a.type="radial",a.global=o||!1,a}return y(e,t),e}(Rl),Fl=[0,0],Gl=[0,0],Vl=new wn,Wl=new wn,Hl=function(){function t(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new wn;for(n=0;n<2;n++)this._axes[n]=new wn;t&&this.fromBoundingRect(t,e)}return t.prototype.fromBoundingRect=function(t,e){var n=this._corners,i=this._axes,r=t.x,o=t.y,a=r+t.width,s=o+t.height;if(n[0].set(r,o),n[1].set(a,o),n[2].set(a,s),n[3].set(r,s),e)for(var l=0;l<4;l++)n[l].transform(e);wn.sub(i[0],n[1],n[0]),wn.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(l=0;l<2;l++)this._origin[l]=i[l].dot(n[0])},t.prototype.intersect=function(t,e){var n=!0,i=!e;return Vl.set(1/0,1/0),Wl.set(0,0),!this._intersectCheckOneSide(this,t,Vl,Wl,i,1)&&(n=!1,i)?n:!this._intersectCheckOneSide(t,this,Vl,Wl,i,-1)&&(n=!1,i)?n:(i||wn.copy(e,n?Vl:Wl),n)},t.prototype._intersectCheckOneSide=function(t,e,n,i,r,o){for(var a=!0,s=0;s<2;s++){var l=this._axes[s];if(this._getProjMinMaxOnAxis(s,t._corners,Fl),this._getProjMinMaxOnAxis(s,e._corners,Gl),Fl[1]<Gl[0]||Fl[0]>Gl[1]){if(a=!1,r)return a;var u=Math.abs(Gl[0]-Fl[1]),c=Math.abs(Fl[0]-Gl[1]);Math.min(u,c)>i.len()&&(u<c?wn.scale(i,l,-u*o):wn.scale(i,l,c*o))}else if(n){u=Math.abs(Gl[0]-Fl[1]),c=Math.abs(Fl[0]-Gl[1]);Math.min(u,c)<n.len()&&(u<c?wn.scale(n,l,u*o):wn.scale(n,l,-c*o))}}return a},t.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var i=this._axes[t],r=this._origin,o=e[0].dot(i)+r[t],a=o,s=o,l=1;l<e.length;l++){var u=e[l].dot(i)+r[t];a=Math.min(u,a),s=Math.max(u,s)}n[0]=a,n[1]=s},t}(),Ul=[],Yl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return y(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new En(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(Ul)),t.union(i)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){if(this._displayables[i].contain(t,e))return!0}return!1},e}(Hr),Jl=$i();function Ql(t,e,n,i,r){var o;if(e&&e.ecModel){var a=e.ecModel.getUpdatePayload();o=a&&a.animation}var s="update"===t;if(e&&e.isAnimationEnabled()){var l=void 0,u=void 0,c=void 0;return i?(l=Object(v.retrieve2)(i.duration,200),u=Object(v.retrieve2)(i.easing,"cubicOut"),c=0):(l=e.getShallow(s?"animationDurationUpdate":"animationDuration"),u=e.getShallow(s?"animationEasingUpdate":"animationEasing"),c=e.getShallow(s?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(l=o.duration),null!=o.easing&&(u=o.easing),null!=o.delay&&(c=o.delay)),Object(v.isFunction)(c)&&(c=c(n,r)),Object(v.isFunction)(l)&&(l=l(n)),{duration:l||0,delay:c,easing:u}}return null}function Zl(t,e,n,i,r,o,a){var s,l=!1;Object(v.isFunction)(r)?(a=o,o=r,r=null):Object(v.isObject)(r)&&(o=r.cb,a=r.during,l=r.isFrom,s=r.removeOpt,r=r.dataIndex);var u="leave"===t;u||e.stopAnimation("leave");var c=Ql(t,i,r,u?s||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null);if(c&&c.duration>0){var h=c.duration,d=c.delay,f=c.easing,p={duration:h,delay:d||0,easing:f,done:o,force:!!o||!!a,setToFinal:!u,scope:t,during:a};l?e.animateFrom(n,p):e.animateTo(n,p)}else e.stopAnimation(),!l&&e.attr(n),a&&a(1),o&&o()}function $l(t,e,n,i,r,o){Zl("update",t,e,n,i,r,o)}function Xl(t,e,n,i,r,o){Zl("enter",t,e,n,i,r,o)}function Kl(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){if("leave"===t.animators[e].scope)return!0}return!1}function ql(t,e,n,i,r,o){Kl(t)||Zl("leave",t,e,n,i,r,o)}function tu(t,e,n,i){t.removeTextContent(),t.removeTextGuideLine(),ql(t,{style:{opacity:0}},e,n,i)}function eu(t,e,n){function i(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(t){t.isGroup||tu(t,e,n,i)}):tu(t,e,n,i)}function nu(t){Jl(t).oldStyle=t.style}var iu=Math.max,ru=Math.min,ou={};function au(t){return Uo.extend(t)}var su=function(t,e){var n=Ws(t,e);return function(t){function e(e){var i=t.call(this,e)||this;return i.applyTransform=n.applyTransform,i.buildPath=n.buildPath,i}return y(e,t),e}(Gs)};function lu(t,e){return su(t,e)}function uu(t,e){ou[t]=e}function cu(t){if(ou.hasOwnProperty(t))return ou[t]}function hu(t,e,n,i){var r=Hs(t,e);return n&&("center"===i&&(n=fu(n,r.getBoundingRect())),gu(r,n)),r}function du(t,e,n){var i=new Ko({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var r={width:t.width,height:t.height};i.setStyle(fu(e,r))}}});return i}function fu(t,e){var n,i=e.width/e.height,r=t.height*i;return n=r<=t.width?t.height:(r=t.width)/i,{x:t.x+t.width/2-r/2,y:t.y+t.height/2-n/2,width:r,height:n}}var pu=function(t,e){for(var n=[],i=t.length,r=0;r<i;r++){var o=t[r];n.push(o.getUpdatedPathProxy(!0))}var a=new Uo(e);return a.createPathProxy(),a.buildPath=function(t){if(Vs(t)){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e,1)}},a};function gu(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}function vu(t){return ta(t.shape,t.shape,t.style),t}function mu(t){return ea(t.shape,t.shape,t.style),t}var yu=na;function bu(t,e){for(var n=nn([]);t&&t!==e;)on(n,t.getLocalTransform(),n),t=t.parent;return n}function xu(t,e,n){return e&&!Object(v.isArrayLike)(e)&&(e=xn.getLocalTransform(e)),n&&(e=un([],e)),G([],t,e)}function wu(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-i:"right"===t?i:0,"top"===t?-r:"bottom"===t?r:0];return o=xu(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function _u(t){return!t.isGroup}function Su(t,e,n){if(t&&e){var i,r=(i={},t.traverse(function(t){_u(t)&&t.anid&&(i[t.anid]=t)}),i);e.traverse(function(t){if(_u(t)&&t.anid){var e=r[t.anid];if(e){var i=o(t);t.attr(o(e)),$l(t,i,n,Sa(t).dataIndex)}}})}function o(t){var e={x:t.x,y:t.y,rotation:t.rotation};return function(t){return null!=t.shape}(t)&&(e.shape=Object(v.extend)({},t.shape)),e}}function Mu(t,e){return Object(v.map)(t,function(t){var n=t[0];n=iu(n,e.x),n=ru(n,e.x+e.width);var i=t[1];return i=iu(i,e.y),[n,i=ru(i,e.y+e.height)]})}function Cu(t,e){var n=iu(t.x,e.x),i=ru(t.x+t.width,e.x+e.width),r=iu(t.y,e.y),o=ru(t.y+t.height,e.y+e.height);if(i>=n&&o>=r)return{x:n,y:r,width:i-n,height:o-r}}function Iu(t,e,n){var i=Object(v.extend)({rectHover:!0},e),r=i.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(r.image=t.slice(8),Object(v.defaults)(r,n),new Ko(i)):hu(t.replace("path://",""),i,n,"center")}function ku(t,e,n,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(Tu(t,e,n,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function Tu(t,e,n,i,r,o,a,s){var l,u=n-t,c=i-e,h=a-r,d=s-o,f=Ou(h,d,u,c);if((l=f)<=1e-6&&l>=-1e-6)return!1;var p=t-r,g=e-o,v=Ou(p,g,u,c)/f;if(v<0||v>1)return!1;var m=Ou(p,g,h,d)/f;return!(m<0||m>1)}function Ou(t,e,n,i){return t*i-n*e}function Eu(t){var e=t.itemTooltipOption,n=t.componentModel,i=t.itemName,r=Object(v.isString)(e)?{formatter:e}:e,o=n.mainType,a=n.componentIndex,s={componentType:o,name:i,$vars:["name"]};s[o+"Index"]=a;var l=t.formatterParamsExtra;l&&Object(v.each)(Object(v.keys)(l),function(t){Object(v.hasOwn)(s,t)||(s[t]=l[t],s.$vars.push(t))});var u=Sa(t.el);u.componentMainType=o,u.componentIndex=a,u.tooltipConfig={name:i,option:Object(v.defaults)({content:i,formatterParams:s},r)}}function Au(t,e){var n;t.isGroup&&(n=e(t)),n||t.traverse(e)}function Nu(t,e){if(t)if(Object(v.isArray)(t))for(var n=0;n<t.length;n++)Au(t[n],e);else Au(t,e)}uu("circle",Qs),uu("ellipse",Xs),uu("sector",fl),uu("ring",vl),uu("polygon",xl),uu("polyline",Sl),uu("rect",aa),uu("line",kl),uu("bezierCurve",Nl),uu("arc",jl);var Lu={};function Du(t,e){for(var n=0;n<Na.length;n++){var i=Na[n],r=e[i],o=t.ensureState(i);o.style=o.style||{},o.style.text=r}var a=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(a,!0)}function ju(t,e,n){var i,r=t.labelFetcher,o=t.labelDataIndex,a=t.labelDimIndex,s=e.normal;r&&(i=r.getFormattedLabel(o,"normal",null,a,s&&s.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==i&&(i=Object(v.isFunction)(t.defaultText)?t.defaultText(o,t,n):t.defaultText);for(var l={normal:i},u=0;u<Na.length;u++){var c=Na[u],h=e[c];l[c]=Object(v.retrieve2)(r?r.getFormattedLabel(o,c,null,a,h&&h.get("formatter")):null,i)}return l}function Pu(t,e,n,i){n=n||Lu;for(var r=t instanceof _a,o=!1,a=0;a<La.length;a++){if((d=e[La[a]])&&d.getShallow("show")){o=!0;break}}var s=r?t:t.getTextContent();if(o){r||(s||(s=new _a,t.setTextContent(s)),t.stateProxy&&(s.stateProxy=t.stateProxy));var l=ju(n,e),u=e.normal,c=!!u.getShallow("show"),h=zu(u,i&&i.normal,n,!1,!r);h.text=l.normal,r||t.setTextConfig(Bu(u,n,!1));for(a=0;a<Na.length;a++){var d,f=Na[a];if(d=e[f]){var p=s.ensureState(f),g=!!Object(v.retrieve2)(d.getShallow("show"),c);if(g!==c&&(p.ignore=!g),p.style=zu(d,i&&i[f],n,!0,!r),p.style.text=l[f],!r)t.ensureState(f).textConfig=Bu(d,n,!0)}}s.silent=!!u.getShallow("silent"),null!=s.style.x&&(h.x=s.style.x),null!=s.style.y&&(h.y=s.style.y),s.ignore=!c,s.useStyle(h),s.dirty(),n.enableTextSetter&&(Uu(s).setLabelText=function(t){var i=ju(n,e,t);Du(s,i)})}else s&&(s.ignore=!0);t.dirty()}function Ru(t,e){e=e||"label";for(var n={normal:t.getModel(e)},i=0;i<Na.length;i++){var r=Na[i];n[r]=t.getModel([r,e])}return n}function zu(t,e,n,i,r){var o={};return function(t,e,n,i,r){n=n||Lu;var o,a=e.ecModel,s=a&&a.option.textStyle,l=function(t){var e;for(;t&&t!==t.ecModel;){var n=(t.option||Lu).rich;if(n){e=e||{};for(var i=Object(v.keys)(n),r=0;r<i.length;r++){var o=i[r];e[o]=1}}t=t.parentModel}return e}(e);if(l)for(var u in o={},l)if(l.hasOwnProperty(u)){var c=e.getModel(["rich",u]);Wu(o[u]={},c,s,n,i,r,!1,!0)}o&&(t.rich=o);var h=e.get("overflow");h&&(t.overflow=h);var d=e.get("minMargin");null!=d&&(t.margin=d);Wu(t,e,s,n,i,r,!0,!1)}(o,t,n,i,r),e&&Object(v.extend)(o,e),o}function Bu(t,e,n){e=e||{};var i,r={},o=t.getShallow("rotate"),a=Object(v.retrieve2)(t.getShallow("distance"),n?null:5),s=t.getShallow("offset");return"outside"===(i=t.getShallow("position")||(n?null:"inside"))&&(i=e.defaultOutsidePosition||"top"),null!=i&&(r.position=i),null!=s&&(r.offset=s),null!=o&&(o*=Math.PI/180,r.rotation=o),null!=a&&(r.distance=a),r.outsideFill="inherit"===t.get("color")?e.inheritColor||null:"auto",r}var Fu=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Gu=["align","lineHeight","width","height","tag","verticalAlign"],Vu=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Wu(t,e,n,i,r,o,a,s){n=!r&&n||Lu;var l=i&&i.inheritColor,u=e.getShallow("color"),c=e.getShallow("textBorderColor"),h=Object(v.retrieve2)(e.getShallow("opacity"),n.opacity);"inherit"!==u&&"auto"!==u||(u=l||null),"inherit"!==c&&"auto"!==c||(c=l||null),o||(u=u||n.color,c=c||n.textBorderColor),null!=u&&(t.fill=u),null!=c&&(t.stroke=c);var d=Object(v.retrieve2)(e.getShallow("textBorderWidth"),n.textBorderWidth);null!=d&&(t.lineWidth=d);var f=Object(v.retrieve2)(e.getShallow("textBorderType"),n.textBorderType);null!=f&&(t.lineDash=f);var p=Object(v.retrieve2)(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=p&&(t.lineDashOffset=p),r||null!=h||s||(h=i&&i.defaultOpacity),null!=h&&(t.opacity=h),r||o||null==t.fill&&i.inheritColor&&(t.fill=i.inheritColor);for(var g=0;g<Fu.length;g++){var m=Fu[g];null!=(b=Object(v.retrieve2)(e.getShallow(m),n[m]))&&(t[m]=b)}for(g=0;g<Gu.length;g++){m=Gu[g];null!=(b=e.getShallow(m))&&(t[m]=b)}if(null==t.verticalAlign){var y=e.getShallow("baseline");null!=y&&(t.verticalAlign=y)}if(!a||!i.disableBox){for(g=0;g<Vu.length;g++){var b;m=Vu[g];null!=(b=e.getShallow(m))&&(t[m]=b)}var x=e.getShallow("borderType");null!=x&&(t.borderDash=x),"auto"!==t.backgroundColor&&"inherit"!==t.backgroundColor||!l||(t.backgroundColor=l),"auto"!==t.borderColor&&"inherit"!==t.borderColor||!l||(t.borderColor=l)}}function Hu(t,e){var n=e&&e.getModel("textStyle");return Object(v.trim)([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var Uu=$i();function Yu(t,e,n,i){if(t){var r=Uu(t);r.prevValue=r.value,r.value=n;var o=e.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=e)}}function Ju(t,e,n,i,r){var o=Uu(t);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,s=Object(v.retrieve2)(o.interpolatedValue,o.prevValue),l=o.value;t.percent=0,(null==o.prevValue?Xl:$l)(t,{percent:1},i,e,null,function(i){var u=or(n,o.precision,s,l,i);o.interpolatedValue=1===i?null:u;var c=ju({labelDataIndex:e,labelFetcher:r,defaultText:a?a(u):u+""},o.statesModels,u);Du(t,c)})}}var Qu,Zu,$u=["textStyle","color"],Xu=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Ku=new _a,qu=function(){function t(){}return t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get($u):null)},t.prototype.getFont=function(){return Hu({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<Xu.length;n++)e[Xu[n]]=this.getShallow(Xu[n]);return Ku.useStyle(e),Ku.update(),Ku.getBoundingRect()},t}(),tc=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],ec=vr(tc),nc=function(){function t(){}return t.prototype.getLineStyle=function(t){return ec(this,t)},t}(),ic=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],rc=vr(ic),oc=function(){function t(){}return t.prototype.getItemStyle=function(t,e){return rc(this,t,e)},t}(),ac=function(){function t(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return t.prototype.init=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r]},t.prototype.mergeOption=function(t,e){Object(v.merge)(this.option,t,!0)},t.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},t.prototype.getShallow=function(t,e){var n=this.option,i=null==n?n:n[t];if(null==i&&!e){var r=this.parentModel;r&&(i=r.getShallow(t))}return i},t.prototype.getModel=function(e,n){var i=null!=e,r=i?this.parsePath(e):null;return new t(i?this._doGet(r):this.option,n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){return new(0,this.constructor)(Object(v.clone)(this.option))},t.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!g.a.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&(!t[i]||null!=(n=n&&"object"==typeof n?n[t[i]]:null));i++);return null==n&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},t}();cr(ac),Qu=ac,Zu=["__\0is_clz",dr++].join("_"),Qu.prototype[Zu]=!0,Qu.isInstance=function(t){return!(!t||!t[Zu])},Object(v.mixin)(ac,nc),Object(v.mixin)(ac,oc),Object(v.mixin)(ac,yr),Object(v.mixin)(ac,qu);var sc=ac,lc=Math.round(10*Math.random());function uc(t){return[t||"",lc++].join("_")}function cc(t,e){return v.merge(v.merge({},t,!0),e,!0)}var hc="ZH",dc="EN",fc=dc,pc={},gc={},vc=g.a.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(hc)>-1?hc:fc;function mc(t,e){t=t.toUpperCase(),gc[t]=new sc(e),pc[t]=e}function yc(t){return gc[t]}mc(dc,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),mc(hc,{time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}});var bc=1e3,xc=60*bc,wc=60*xc,_c=24*wc,Sc=365*_c,Mc={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Cc={year:"{yyyy}",month:"{yyyy}-{MM}",day:"{yyyy}-{MM}-{dd}",hour:"{yyyy}-{MM}-{dd} "+Mc.hour,minute:"{yyyy}-{MM}-{dd} "+Mc.minute,second:"{yyyy}-{MM}-{dd} "+Mc.second,millisecond:Mc.none},Ic=["year","month","day","hour","minute","second","millisecond"],kc=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Tc(t,e){return"0000".substr(0,e-(t+="").length)+t}function Oc(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function Ec(t,e,n,i){var r=Si(t),o=r[Lc(n)](),a=r[Dc(n)]()+1,s=Math.floor((a-1)/4)+1,l=r[jc(n)](),u=r["get"+(n?"UTC":"")+"Day"](),c=r[Pc(n)](),h=(c-1)%12+1,d=r[Rc(n)](),f=r[zc(n)](),p=r[Bc(n)](),g=(i instanceof sc?i:yc(i||vc)||gc[fc]).getModel("time"),v=g.get("month"),m=g.get("monthAbbr"),y=g.get("dayOfWeek"),b=g.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,v[a-1]).replace(/{MMM}/g,m[a-1]).replace(/{MM}/g,Tc(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Tc(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,y[u]).replace(/{ee}/g,b[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Tc(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Tc(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,Tc(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,Tc(f,2)).replace(/{s}/g,f+"").replace(/{SSS}/g,Tc(p,3)).replace(/{S}/g,p+"")}function Ac(t,e){var n=Si(t),i=n[Dc(e)]()+1,r=n[jc(e)](),o=n[Pc(e)](),a=n[Rc(e)](),s=n[zc(e)](),l=0===n[Bc(e)](),u=l&&0===s,c=u&&0===a,h=c&&0===o,d=h&&1===r;return d&&1===i?"year":d?"month":h?"day":c?"hour":u?"minute":l?"second":"millisecond"}function Nc(t,e,n){var i=v.isNumber(t)?Si(t):t;switch(e=e||Ac(t,n)){case"year":return i[Lc(n)]();case"half-year":return i[Dc(n)]()>=6?1:0;case"quarter":return Math.floor((i[Dc(n)]()+1)/4);case"month":return i[Dc(n)]();case"day":return i[jc(n)]();case"half-day":return i[Pc(n)]()/24;case"hour":return i[Pc(n)]();case"minute":return i[Rc(n)]();case"second":return i[zc(n)]();case"millisecond":return i[Bc(n)]()}}function Lc(t){return t?"getUTCFullYear":"getFullYear"}function Dc(t){return t?"getUTCMonth":"getMonth"}function jc(t){return t?"getUTCDate":"getDate"}function Pc(t){return t?"getUTCHours":"getHours"}function Rc(t){return t?"getUTCMinutes":"getMinutes"}function zc(t){return t?"getUTCSeconds":"getSeconds"}function Bc(t){return t?"getUTCMilliseconds":"getMilliseconds"}function Fc(t){return t?"setUTCFullYear":"setFullYear"}function Gc(t){return t?"setUTCMonth":"setMonth"}function Vc(t){return t?"setUTCDate":"setDate"}function Wc(t){return t?"setUTCHours":"setHours"}function Hc(t){return t?"setUTCMinutes":"setMinutes"}function Uc(t){return t?"setUTCSeconds":"setSeconds"}function Yc(t){return t?"setUTCMilliseconds":"setMilliseconds"}function Jc(t,e,n,i,r,o,a,s){return new _a({style:{text:t,font:e,align:n,verticalAlign:i,padding:r,rich:o,overflow:a?"truncate":null,lineHeight:s}}).getBoundingRect()}function Qc(t){if(!Ei(t))return v.isString(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function Zc(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var $c=v.normalizeCssArray,Xc=/([&<>"'])/g,Kc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function qc(t){return null==t?"":(t+"").replace(Xc,function(t,e){return Kc[e]})}function th(t,e,n){function i(t){return t&&v.trim(t)?t:"-"}function r(t){return!(null==t||isNaN(t)||!isFinite(t))}var o="time"===e,a=t instanceof Date;if(o||a){var s=o?Si(t):t;if(!isNaN(+s))return Ec(s,"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}",n);if(a)return"-"}if("ordinal"===e)return v.isStringSafe(t)?i(t):v.isNumber(t)&&r(t)?t+"":"-";var l=Oi(t);return r(l)?Qc(l):v.isStringSafe(t)?i(t):"boolean"==typeof t?t+"":"-"}var eh=["a","b","c","d","e","f","g"],nh=function(t,e){return"{"+t+(null==e?"":e)+"}"};function ih(t,e,n){v.isArray(e)||(e=[e]);var i=e.length;if(!i)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var a=eh[o];t=t.replace(nh(a),nh(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var u=e[s][r[l]];t=t.replace(nh(eh[l],s),n?qc(u):u)}return t}function rh(t,e){var n=v.isString(t)?{color:t,extraCssText:e}:t||{},i=n.color,r=n.type;e=n.extraCssText;var o=n.renderMode||"html";return i?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+qc(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+qc(i)+";"+(e||"")+'"></span>':{renderMode:o,content:"{"+(n.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}function oh(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var i=Si(e),r=n?"getUTC":"get",o=i[r+"FullYear"](),a=i[r+"Month"]()+1,s=i[r+"Date"](),l=i[r+"Hours"](),u=i[r+"Minutes"](),c=i[r+"Seconds"](),h=i[r+"Milliseconds"]();return t=t.replace("MM",Tc(a,2)).replace("M",a).replace("yyyy",o).replace("yy",o%100+"").replace("dd",Tc(s,2)).replace("d",s).replace("hh",Tc(l,2)).replace("h",l).replace("mm",Tc(u,2)).replace("m",u).replace("ss",Tc(c,2)).replace("s",c).replace("SSS",Tc(h,3))}function ah(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function sh(t,e){return e=e||"transparent",v.isString(t)?t:v.isObject(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function lh(t,e){if("_blank"===e||"blank"===e){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}var uh=v.each,ch=["left","right","top","bottom","width","height"],hh=[["width","left","right"],["height","top","bottom"]];function dh(t,e,n,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;e.eachChild(function(l,u){var c,h,d=l.getBoundingRect(),f=e.childAt(u+1),p=f&&f.getBoundingRect();if("horizontal"===t){var g=d.width+(p?-p.x+d.x:0);(c=o+g)>i||l.newline?(o=0,c=g,a+=s+n,s=d.height):s=Math.max(s,d.height)}else{var v=d.height+(p?-p.y+d.y:0);(h=a+v)>r||l.newline?(o+=s+n,a=0,h=v,s=d.width):s=Math.max(s,d.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),"horizontal"===t?o=c+n:a=h+n)})}var fh=dh;v.curry(dh,"vertical"),v.curry(dh,"horizontal");function ph(t,e,n){n=$c(n||0);var i=e.width,r=e.height,o=hi(t.left,i),a=hi(t.top,r),s=hi(t.right,i),l=hi(t.bottom,r),u=hi(t.width,i),c=hi(t.height,r),h=n[2]+n[0],d=n[1]+n[3],f=t.aspect;switch(isNaN(u)&&(u=i-s-d-o),isNaN(c)&&(c=r-l-h-a),null!=f&&(isNaN(u)&&isNaN(c)&&(f>i/r?u=.8*i:c=.8*r),isNaN(u)&&(u=f*c),isNaN(c)&&(c=u/f)),isNaN(o)&&(o=i-s-u-d),isNaN(a)&&(a=r-l-c-h),t.left||t.right){case"center":o=i/2-u/2-n[3];break;case"right":o=i-u-d}switch(t.top||t.bottom){case"middle":case"center":a=r/2-c/2-n[0];break;case"bottom":a=r-c-h}o=o||0,a=a||0,isNaN(u)&&(u=i-d-o-(s||0)),isNaN(c)&&(c=r-h-a-(l||0));var p=new En(o+n[3],a+n[0],u,c);return p.margin=n,p}function gh(t,e,n,i,r,o){var a,s=!r||!r.hv||r.hv[0],l=!r||!r.hv||r.hv[1],u=r&&r.boundingMode||"all";if((o=o||t).x=t.x,o.y=t.y,!s&&!l)return!1;if("raw"===u)a="group"===t.type?new En(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(a=t.getBoundingRect(),t.needLocalTransform()){var c=t.getLocalTransform();(a=a.clone()).applyTransform(c)}var h=ph(v.defaults({width:a.width,height:a.height},e),n,i),d=s?h.x-a.x:0,f=l?h.y-a.y:0;return"raw"===u?(o.x=d,o.y=f):(o.x+=d,o.y+=f),o===t&&t.markRedraw(),!0}function vh(t){var e=t.layoutMode||t.constructor.layoutMode;return v.isObject(e)?e:e?{type:e}:null}function mh(t,e,n){var i=n&&n.ignoreSize;!v.isArray(i)&&(i=[i,i]);var r=a(hh[0],0),o=a(hh[1],1);function a(n,r){var o={},a=0,u={},c=0;if(uh(n,function(e){u[e]=t[e]}),uh(n,function(t){s(e,t)&&(o[t]=u[t]=e[t]),l(o,t)&&a++,l(u,t)&&c++}),i[r])return l(e,n[1])?u[n[2]]=null:l(e,n[2])&&(u[n[1]]=null),u;if(2!==c&&a){if(a>=2)return o;for(var h=0;h<n.length;h++){var d=n[h];if(!s(o,d)&&s(t,d)){o[d]=t[d];break}}return o}return u}function s(t,e){return t.hasOwnProperty(e)}function l(t,e){return null!=t[e]&&"auto"!==t[e]}function u(t,e,n){uh(t,function(t){e[t]=n[t]})}u(hh[0],t,r),u(hh[1],t,o)}function yh(t){return bh({},t)}function bh(t,e){return e&&t&&uh(ch,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var xh=$i(),wh=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.uid=uc("ec_cpt_model"),r}var n;return p(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=vh(this),i=n?yh(t):{},r=e.getTheme();v.merge(t,r.get(this.mainType)),v.merge(t,this.getDefaultOption()),n&&mh(t,i,n)},e.prototype.mergeOption=function(t,e){v.merge(this.option,t,!0);var n=vh(this);n&&mh(this.option,t,n)},e.prototype.optionUpdated=function(t,e){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!function(t){return!(!t||!t[lr])}(t))return t.defaultOption;var e=xh(this);if(!e.defaultOption){for(var n=[],i=t;i;){var r=i.prototype.defaultOption;r&&n.push(r),i=i.superClass}for(var o={},a=n.length-1;a>=0;a--)o=v.merge(o,n[a],!0);e.defaultOption=o}return e.defaultOption},e.prototype.getReferringComponents=function(t,e){var n=t+"Index",i=t+"Id";return nr(this.ecModel,t,{index:this.get(n,!0),id:this.get(i,!0)},e)},e.prototype.getBoxLayoutParams=function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=((n=e.prototype).type="component",n.id="",n.name="",n.mainType="",n.subType="",void(n.componentIndex=0)),e}(sc);hr(wh,sc),gr(wh),function(t){var e={};t.registerSubTypeDefaulter=function(t,n){var i=ur(t);e[i.main]=n},t.determineSubType=function(n,i){var r=i.type;if(!r){var o=ur(n).main;t.hasSubTypes(n)&&e[o]&&(r=e[o](i))}return r}}(wh),function(t,e){function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,i,r,o){if(t.length){var a=function(t){var i={},r=[];return v.each(t,function(o){var a=n(i,o),s=function(t,e){var n=[];return v.each(t,function(t){v.indexOf(e,t)>=0&&n.push(t)}),n}(a.originalDeps=e(o),t);a.entryCount=s.length,0===a.entryCount&&r.push(o),v.each(s,function(t){v.indexOf(a.predecessor,t)<0&&a.predecessor.push(t);var e=n(i,t);v.indexOf(e.successor,t)<0&&e.successor.push(o)})}),{graph:i,noEntryList:r}}(i),s=a.graph,l=a.noEntryList,u={};for(v.each(t,function(t){u[t]=!0});l.length;){var c=l.pop(),h=s[c],d=!!u[c];d&&(r.call(o,c,h.originalDeps.slice()),delete u[c]),v.each(h.successor,d?p:f)}v.each(u,function(){var t="";throw new Error(t)})}function f(t){s[t].entryCount--,0===s[t].entryCount&&l.push(t)}function p(t){u[t]=!0,f(t)}}}(wh,function(t){var e=[];v.each(wh.getClassesByMainType(t),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=v.map(e,function(t){return ur(t).main}),"dataset"!==t&&v.indexOf(e,"dataset")<=0&&e.unshift("dataset");return e});var _h=wh,Sh="";"undefined"!=typeof navigator&&(Sh=navigator.platform||"");var Mh="rgba(0, 0, 0, 0.2)",Ch={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Mh,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Mh,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Mh,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Mh,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Mh,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Mh,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Sh.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Ih=Object(v.createHashMap)(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),kh="original",Th="arrayRows",Oh="objectRows",Eh="keyedColumns",Ah="typedArray",Nh="unknown",Lh="column",Dh="row",jh={Must:1,Might:2,Not:3},Ph=$i();function Rh(t,e,n){var i={},r=Bh(e);if(!r||!t)return i;var o,a,s=[],l=[],u=e.ecModel,c=Ph(u).datasetMap,h=r.uid+"_"+n.seriesLayoutBy;t=t.slice(),Object(v.each)(t,function(e,n){var r=Object(v.isObject)(e)?e:t[n]={name:e};"ordinal"===r.type&&null==o&&(o=n,a=p(r)),i[r.name]=[]});var d=c.get(h)||c.set(h,{categoryWayDim:a,valueWayDim:0});function f(t,e,n){for(var i=0;i<n;i++)t.push(e+i)}function p(t){var e=t.dimsDef;return e?e.length:1}return Object(v.each)(t,function(t,e){var n=t.name,r=p(t);if(null==o){var a=d.valueWayDim;f(i[n],a,r),f(l,a,r),d.valueWayDim+=r}else if(o===e)f(i[n],0,r),f(s,0,r);else{a=d.categoryWayDim;f(i[n],a,r),f(l,a,r),d.categoryWayDim+=r}}),s.length&&(i.itemName=s),l.length&&(i.seriesName=l),i}function zh(t,e,n){var i={};if(!Bh(t))return i;var r,o=e.sourceFormat,a=e.dimensionsDefine;o!==Oh&&o!==Eh||Object(v.each)(a,function(t,e){"name"===(Object(v.isObject)(t)?t.name:t)&&(r=e)});var s=function(){for(var t={},i={},s=[],l=0,u=Math.min(5,n);l<u;l++){var c=Gh(e.data,o,e.seriesLayoutBy,a,e.startIndex,l);s.push(c);var h=c===jh.Not;if(h&&null==t.v&&l!==r&&(t.v=l),(null==t.n||t.n===t.v||!h&&s[t.n]===jh.Not)&&(t.n=l),d(t)&&s[t.n]!==jh.Not)return t;h||(c===jh.Might&&null==i.v&&l!==r&&(i.v=l),null!=i.n&&i.n!==i.v||(i.n=l))}function d(t){return null!=t.v&&null!=t.n}return d(t)?t:d(i)?i:null}();if(s){i.value=[s.v];var l=null!=r?r:s.n;i.itemName=[l],i.seriesName=[l]}return i}function Bh(t){if(!t.get("data",!0))return nr(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},tr).models[0]}function Fh(t,e){return Gh(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function Gh(t,e,n,i,r,o){var a,s,l;if(Object(v.isTypedArray)(t))return jh.Not;if(i){var u=i[o];Object(v.isObject)(u)?(s=u.name,l=u.type):Object(v.isString)(u)&&(s=u)}if(null!=l)return"ordinal"===l?jh.Must:jh.Not;if(e===Th){var c=t;if(n===Dh){for(var h=c[o],d=0;d<(h||[]).length&&d<5;d++)if(null!=(a=x(h[r+d])))return a}else for(d=0;d<c.length&&d<5;d++){var f=c[r+d];if(f&&null!=(a=x(f[o])))return a}}else if(e===Oh){var p=t;if(!s)return jh.Not;for(d=0;d<p.length&&d<5;d++){if((y=p[d])&&null!=(a=x(y[s])))return a}}else if(e===Eh){var g=t;if(!s)return jh.Not;if(!(h=g[s])||Object(v.isTypedArray)(h))return jh.Not;for(d=0;d<h.length&&d<5;d++)if(null!=(a=x(h[d])))return a}else if(e===kh){var m=t;for(d=0;d<m.length&&d<5;d++){var y,b=Gi(y=m[d]);if(!Object(v.isArray)(b))return jh.Not;if(null!=(a=x(b[o])))return a}}function x(t){var e=Object(v.isString)(t);return null!=t&&isFinite(t)&&""!==t?e?jh.Might:jh.Not:e&&"-"!==t?jh.Must:void 0}return jh.Not}var Vh=Object(v.createHashMap)();var Wh,Hh,Uh,Yh=$i(),Jh=$i(),Qh=function(){function t(){}return t.prototype.getColorFromPalette=function(t,e,n){var i=zi(this.get("color",!0)),r=this.get("colorLayer",!0);return $h(this,Yh,i,r,t,e,n)},t.prototype.clearColorPalette=function(){var t,e;(e=Yh)(t=this).paletteIdx=0,e(t).paletteNameMap={}},t}();function Zh(t,e,n,i){var r=zi(t.get(["aria","decal","decals"]));return $h(t,Jh,r,null,e,n,i)}function $h(t,e,n,i,r,o,a){var s=e(o=o||t),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var c=null!=a&&i?function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].length>e)return t[i];return t[n-1]}(i,a):n;if((c=c||n)&&c.length){var h=c[l];return r&&(u[r]=h),s.paletteIdx=(l+1)%c.length,h}}var Xh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.init=function(t,e,n,i,r,o){i=i||{},this.option=null,this._theme=new sc(i),this._locale=new sc(r),this._optionManager=o},e.prototype.setOption=function(t,e,n){var i=td(e);this._optionManager.setOption(t,n,i),this._resetOption(null,i)},e.prototype.resetOption=function(t,e){return this._resetOption(t,td(e))},e.prototype._resetOption=function(t,e){var n=!1,i=this._optionManager;if(!t||"recreate"===t){var r=i.mountOption("recreate"===t);0,this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(r,e)):Uh(this,r),n=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var o=i.getTimelineOption(this);o&&(n=!0,this._mergeOption(o,e))}if(!t||"recreate"===t||"media"===t){var a=i.getMediaOption(this);a.length&&Object(v.each)(a,function(t){n=!0,this._mergeOption(t,e)},this)}return n},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,e){var n=this.option,i=this._componentsMap,r=this._componentsCount,o=[],a=Object(v.createHashMap)(),s=e&&e.replaceMergeMainTypeMap;Ph(this).datasetMap=Object(v.createHashMap)(),Object(v.each)(t,function(t,e){null!=t&&(_h.hasClass(e)?e&&(o.push(e),a.set(e,!0)):n[e]=null==n[e]?Object(v.clone)(t):Object(v.merge)(n[e],t,!0))}),s&&s.each(function(t,e){_h.hasClass(e)&&!a.get(e)&&(o.push(e),a.set(e,!0))}),_h.topologicalTravel(o,_h.getAllClassMainTypes(),function(e){var o=function(t,e,n){var i=Vh.get(e);if(!i)return n;var r=i(t);return r?n.concat(r):n}(this,e,zi(t[e])),a=i.get(e),l=a?s&&s.get(e)?"replaceMerge":"normalMerge":"replaceAll",u=Wi(a,o,l);(function(t,e,n){Object(v.each)(t,function(t){var i=t.newOption;Object(v.isObject)(i)&&(t.keyInfo.mainType=e,t.keyInfo.subType=function(t,e,n,i){return e.type?e.type:n?n.subType:i.determineSubType(t,e)}(e,i,t.existing,n))})})(u,e,_h),n[e]=null,i.set(e,null),r.set(e,0);var c,h=[],d=[],f=0;Object(v.each)(u,function(t,n){var i=t.existing,r=t.newOption;if(r){var o="series"===e,a=_h.getClass(e,t.keyInfo.subType,!o);if(!a)return;if("tooltip"===e){if(c)return;c=!0}if(i&&i.constructor===a)i.name=t.keyInfo.name,i.mergeOption(r,this),i.optionUpdated(r,!1);else{var s=Object(v.extend)({componentIndex:n},t.keyInfo);i=new a(r,this,this,s),Object(v.extend)(i,s),t.brandNew&&(i.__requireNewView=!0),i.init(r,this,this),i.optionUpdated(null,!0)}}else i&&(i.mergeOption({},this),i.optionUpdated({},!1));i?(h.push(i.option),d.push(i),f++):(h.push(void 0),d.push(void 0))},this),n[e]=h,i.set(e,d),r.set(e,f),"series"===e&&Wh(this)},this),this._seriesIndices||Wh(this)},e.prototype.getOption=function(){var t=Object(v.clone)(this.option);return Object(v.each)(t,function(e,n){if(_h.hasClass(n)){for(var i=zi(e),r=i.length,o=!1,a=r-1;a>=0;a--)i[a]&&!Qi(i[a])?o=!0:(i[a]=null,!o&&r--);i.length=r,t[n]=i}}),delete t["\0_ec_inner"],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,e){var n=this._componentsMap.get(t);if(n){var i=n[e||0];if(i)return i;if(null==e)for(var r=0;r<n.length;r++)if(n[r])return n[r]}},e.prototype.queryComponents=function(t){var e=t.mainType;if(!e)return[];var n,i=t.index,r=t.id,o=t.name,a=this._componentsMap.get(e);return a&&a.length?(null!=i?(n=[],Object(v.each)(zi(i),function(t){a[t]&&n.push(a[t])})):n=null!=r?Kh("id",r,a):null!=o?Kh("name",o,a):Object(v.filter)(a,function(t){return!!t}),qh(n,t)):[]},e.prototype.findComponents=function(t){var e,n,i,r,o,a=t.query,s=t.mainType,l=(n=s+"Index",i=s+"Id",r=s+"Name",!(e=a)||null==e[n]&&null==e[i]&&null==e[r]?null:{mainType:s,index:e[n],id:e[i],name:e[r]}),u=l?this.queryComponents(l):Object(v.filter)(this._componentsMap.get(s),function(t){return!!t});return o=qh(u,t),t.filter?Object(v.filter)(o,t.filter):o},e.prototype.eachComponent=function(t,e,n){var i=this._componentsMap;if(Object(v.isFunction)(t)){var r=e,o=t;i.each(function(t,e){for(var n=0;t&&n<t.length;n++){var i=t[n];i&&o.call(r,e,i,i.componentIndex)}})}else for(var a=Object(v.isString)(t)?i.get(t):Object(v.isObject)(t)?this.findComponents(t):null,s=0;a&&s<a.length;s++){var l=a[s];l&&e.call(n,l,l.componentIndex)}},e.prototype.getSeriesByName=function(t){var e=Yi(t,null);return Object(v.filter)(this._componentsMap.get("series"),function(t){return!!t&&null!=e&&t.name===e})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Object(v.filter)(this._componentsMap.get("series"),function(e){return!!e&&e.subType===t})},e.prototype.getSeries=function(){return Object(v.filter)(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,e){Hh(this),Object(v.each)(this._seriesIndices,function(n){var i=this._componentsMap.get("series")[n];t.call(e,i,n)},this)},e.prototype.eachRawSeries=function(t,e){Object(v.each)(this._componentsMap.get("series"),function(n){n&&t.call(e,n,n.componentIndex)})},e.prototype.eachSeriesByType=function(t,e,n){Hh(this),Object(v.each)(this._seriesIndices,function(i){var r=this._componentsMap.get("series")[i];r.subType===t&&e.call(n,r,i)},this)},e.prototype.eachRawSeriesByType=function(t,e,n){return Object(v.each)(this.getSeriesByType(t),e,n)},e.prototype.isSeriesFiltered=function(t){return Hh(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,e){Hh(this);var n=[];Object(v.each)(this._seriesIndices,function(i){var r=this._componentsMap.get("series")[i];t.call(e,r,i)&&n.push(i)},this),this._seriesIndices=n,this._seriesIndicesMap=Object(v.createHashMap)(n)},e.prototype.restoreData=function(t){Wh(this);var e=this._componentsMap,n=[];e.each(function(t,e){_h.hasClass(e)&&n.push(e)}),_h.topologicalTravel(n,_h.getAllClassMainTypes(),function(n){Object(v.each)(e.get(n),function(e){!e||"series"===n&&function(t,e){if(e){var n=e.seriesIndex,i=e.seriesId,r=e.seriesName;return null!=n&&t.componentIndex!==n||null!=i&&t.id!==i||null!=r&&t.name!==r}}(e,t)||e.restoreData()})})},e.internalField=(Wh=function(t){var e=t._seriesIndices=[];Object(v.each)(t._componentsMap.get("series"),function(t){t&&e.push(t.componentIndex)}),t._seriesIndicesMap=Object(v.createHashMap)(e)},Hh=function(t){},void(Uh=function(t,e){t.option={},t.option["\0_ec_inner"]=1,t._componentsMap=Object(v.createHashMap)({series:[]}),t._componentsCount=Object(v.createHashMap)();var n,i,r,o=e.aria;Object(v.isObject)(o)&&null==o.enabled&&(o.enabled=!0),n=e,i=t._theme.option,r=n.color&&!n.colorLayer,Object(v.each)(i,function(t,e){"colorLayer"===e&&r||_h.hasClass(e)||("object"==typeof t?n[e]=n[e]?Object(v.merge)(n[e],t,!1):Object(v.clone)(t):null==n[e]&&(n[e]=t))}),Object(v.merge)(e,Ch,!1),t._mergeOption(e,null)})),e}(sc);function Kh(t,e,n){if(Object(v.isArray)(e)){var i=Object(v.createHashMap)();return Object(v.each)(e,function(t){null!=t&&(null!=Yi(t,null)&&i.set(t,!0))}),Object(v.filter)(n,function(e){return e&&i.get(e[t])})}var r=Yi(e,null);return Object(v.filter)(n,function(e){return e&&null!=r&&e[t]===r})}function qh(t,e){return e.hasOwnProperty("subType")?Object(v.filter)(t,function(t){return t&&t.subType===e.subType}):t}function td(t){var e=Object(v.createHashMap)();return t&&Object(v.each)(zi(t.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}Object(v.mixin)(Xh,Qh);var ed=Xh,nd=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],id=function(){return function(t){v.each(nd,function(e){this[e]=v.bind(t[e],t)},this)}}(),rd={},od=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,e){var n=[];v.each(rd,function(i,r){var o=i.create(t,e);n=n.concat(o||[])}),this._coordinateSystems=n},t.prototype.update=function(t,e){v.each(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,e){rd[t]=e},t.get=function(t){return rd[t]},t}(),ad=/^(min|max)?(.+)$/;function sd(t,e,n){var i={width:e,height:n,aspectratio:e/n},r=!0;return Object(v.each)(t,function(t,e){var n=e.match(ad);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();(function(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e})(i[a],t,o)||(r=!1)}}),r}var ld=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,e,n){t&&(Object(v.each)(zi(t.series),function(t){t&&t.data&&Object(v.isTypedArray)(t.data)&&Object(v.setAsPrimitive)(t.data)}),Object(v.each)(zi(t.dataset),function(t){t&&t.source&&Object(v.isTypedArray)(t.source)&&Object(v.setAsPrimitive)(t.source)})),t=Object(v.clone)(t);var i=this._optionBackup,r=function(t,e,n){var i,r,o=[],a=t.baseOption,s=t.timeline,l=t.options,u=t.media,c=!!t.media,h=!!(l||s||a&&a.timeline);a?(r=a).timeline||(r.timeline=s):((h||c)&&(t.options=t.media=null),r=t);c&&Object(v.isArray)(u)&&Object(v.each)(u,function(t){t&&t.option&&(t.query?o.push(t):i||(i=t))});function d(t){Object(v.each)(e,function(e){e(t,n)})}return d(r),Object(v.each)(l,function(t){return d(t)}),Object(v.each)(o,function(t){return d(t.option)}),{baseOption:r,timelineOptions:l||[],mediaDefault:i,mediaList:o}}(t,e,!i);this._newBaseOption=r.baseOption,i?(r.timelineOptions.length&&(i.timelineOptions=r.timelineOptions),r.mediaList.length&&(i.mediaList=r.mediaList),r.mediaDefault&&(i.mediaDefault=r.mediaDefault)):this._optionBackup=r},t.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Object(v.clone)(t?e.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=Object(v.clone)(n[i.getCurrentIndex()]))}return e},t.prototype.getMediaOption=function(t){var e,n,i=this._api.getWidth(),r=this._api.getHeight(),o=this._mediaList,a=this._mediaDefault,s=[],l=[];if(!o.length&&!a)return l;for(var u=0,c=o.length;u<c;u++)sd(o[u].query,i,r)&&s.push(u);return!s.length&&a&&(s=[-1]),s.length&&(e=s,n=this._currentMediaIndices,e.join(",")!==n.join(","))&&(l=Object(v.map)(s,function(t){return Object(v.clone)(-1===t?a.option:o[t].option)})),this._currentMediaIndices=s,l},t}(),ud=v.each,cd=v.isObject,hd=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function dd(t){var e=t&&t.itemStyle;if(e)for(var n=0,i=hd.length;n<i;n++){var r=hd[n],o=e.normal,a=e.emphasis;o&&o[r]&&(t[r]=t[r]||{},t[r].normal?v.merge(t[r].normal,o[r]):t[r].normal=o[r],o[r]=null),a&&a[r]&&(t[r]=t[r]||{},t[r].emphasis?v.merge(t[r].emphasis,a[r]):t[r].emphasis=a[r],a[r]=null)}}function fd(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal,r=t[e].emphasis;i&&(n?(t[e].normal=t[e].emphasis=null,v.defaults(t[e],i)):t[e]=i),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r,r.focus&&(t.emphasis.focus=r.focus),r.blurScope&&(t.emphasis.blurScope=r.blurScope))}}function pd(t){fd(t,"itemStyle"),fd(t,"lineStyle"),fd(t,"areaStyle"),fd(t,"label"),fd(t,"labelLine"),fd(t,"upperLabel"),fd(t,"edgeLabel")}function gd(t,e){var n=cd(t)&&t[e],i=cd(n)&&n.textStyle;if(i){0;for(var r=0,o=Fi.length;r<o;r++){var a=Fi[r];i.hasOwnProperty(a)&&(n[a]=i[a])}}}function vd(t){t&&(pd(t),gd(t,"label"),t.emphasis&&gd(t.emphasis,"label"))}function md(t){return v.isArray(t)?t:t?[t]:[]}function yd(t){return(v.isArray(t)?t[0]:t)||{}}function bd(t,e){ud(md(t.series),function(t){cd(t)&&function(t){if(cd(t)){dd(t),pd(t),gd(t,"label"),gd(t,"upperLabel"),gd(t,"edgeLabel"),t.emphasis&&(gd(t.emphasis,"label"),gd(t.emphasis,"upperLabel"),gd(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(dd(e),vd(e));var n=t.markLine;n&&(dd(n),vd(n));var i=t.markArea;i&&vd(i);var r=t.data;if("graph"===t.type){r=r||t.nodes;var o=t.links||t.edges;if(o&&!v.isTypedArray(o))for(var a=0;a<o.length;a++)vd(o[a]);v.each(t.categories,function(t){pd(t)})}if(r&&!v.isTypedArray(r))for(a=0;a<r.length;a++)vd(r[a]);if((e=t.markPoint)&&e.data){var s=e.data;for(a=0;a<s.length;a++)vd(s[a])}if((n=t.markLine)&&n.data){var l=n.data;for(a=0;a<l.length;a++)v.isArray(l[a])?(vd(l[a][0]),vd(l[a][1])):vd(l[a])}"gauge"===t.type?(gd(t,"axisLabel"),gd(t,"title"),gd(t,"detail")):"treemap"===t.type?(fd(t.breadcrumb,"itemStyle"),v.each(t.levels,function(t){pd(t)})):"tree"===t.type&&pd(t.leaves)}}(t)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),ud(n,function(e){ud(md(t[e]),function(t){t&&(gd(t,"axisLabel"),gd(t.axisPointer,"label"))})}),ud(md(t.parallel),function(t){var e=t&&t.parallelAxisDefault;gd(e,"axisLabel"),gd(e&&e.axisPointer,"label")}),ud(md(t.calendar),function(t){fd(t,"itemStyle"),gd(t,"dayLabel"),gd(t,"monthLabel"),gd(t,"yearLabel")}),ud(md(t.radar),function(t){gd(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)}),ud(md(t.geo),function(t){cd(t)&&(vd(t),ud(md(t.regions),function(t){vd(t)}))}),ud(md(t.timeline),function(t){vd(t),fd(t,"label"),fd(t,"itemStyle"),fd(t,"controlStyle",!0);var e=t.data;v.isArray(e)&&v.each(e,function(t){v.isObject(t)&&(fd(t,"label"),fd(t,"itemStyle"))})}),ud(md(t.toolbox),function(t){fd(t,"iconStyle"),ud(t.feature,function(t){fd(t,"iconStyle")})}),gd(yd(t.axisPointer),"label"),gd(yd(t.tooltip).axisPointer,"label")}function xd(t){t&&Object(v.each)(wd,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var wd=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],_d=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Sd=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Md(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<Sd.length;n++){var i=Sd[n][1],r=Sd[n][0];null!=e[i]&&(e[r]=e[i])}}function Cd(t){t&&"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function Id(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function kd(t,e){bd(t,e),t.series=zi(t.series),Object(v.each)(t.series,function(t){if(Object(v.isObject)(t)){var e,n=t.type;if("line"===n)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===n||"gauge"===n){if(null!=t.clockWise&&(t.clockwise=t.clockWise),Cd(t.label),(o=t.data)&&!Object(v.isTypedArray)(o))for(var i=0;i<o.length;i++)Cd(o[i]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===n){var r=function(t,e){for(var n=e.split(","),i=t,r=0;r<n.length&&null!=(i=i&&i[n[r]]);r++);return i}(t,"pointer.color");null!=r&&function(t,e,n,i){for(var r,o=e.split(","),a=t,s=0;s<o.length-1;s++)null==a[r=o[s]]&&(a[r]={}),a=a[r];(i||null==a[o[s]])&&(a[o[s]]=n)}(t,"itemStyle.color",r)}else if("bar"===n){var o;if(Md(t),Md(t.backgroundStyle),Md(t.emphasis),(o=t.data)&&!Object(v.isTypedArray)(o))for(i=0;i<o.length;i++)"object"==typeof o[i]&&(Md(o[i]),Md(o[i]&&o[i].emphasis))}else if("sunburst"===n){var a=t.highlightPolicy;a&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=a)),Id(t),function t(e,n){if(e)for(var i=0;i<e.length;i++)n(e[i]),e[i]&&t(e[i].children,n)}(t.data,Id)}else"graph"===n||"sankey"===n?(e=t)&&null!=e.focusNodeAdjacency&&(e.emphasis=e.emphasis||{},null==e.emphasis.focus&&(e.emphasis.focus="adjacency")):"map"===n&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Object(v.defaults)(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),xd(t)}}),t.dataRange&&(t.visualMap=t.dataRange),Object(v.each)(_d,function(e){var n=t[e];n&&(Object(v.isArray)(n)||(n=[n]),Object(v.each)(n,function(t){xd(t)}))})}function Td(t){Object(v.each)(t,function(e,n){var i=[],r=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex;a.modify(o,function(o,l,u){var c,h,d=a.get(e.stackedDimension,u);if(isNaN(d))return r;s?h=a.getRawIndex(u):c=a.get(e.stackedByDimension,u);for(var f=NaN,p=n-1;p>=0;p--){var g=t[p];if(s||(h=g.data.rawIndexOf(g.stackedByDimension,c)),h>=0){var v=g.data.getByRawIndex(g.stackResultDimension,h);if(d>=0&&v>0||d<=0&&v<0){d=yi(d,v),f=v;break}}}return i[0]=d,i[1]=f,i})})}var Od,Ed,Ad,Nd,Ld,Dd=function(){return function(t){this.data=t.data||(t.sourceFormat===Eh?{}:[]),this.sourceFormat=t.sourceFormat||Nh,this.seriesLayoutBy=t.seriesLayoutBy||Lh,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var i=e[n];null==i.type&&Fh(this,n)===jh.Must&&(i.type="ordinal")}}}();function jd(t){return t instanceof Dd}function Pd(t,e,n){n=n||zd(t);var i=e.seriesLayoutBy,r=function(t,e,n,i,r){var o,a;if(!t)return{dimensionsDefine:Bd(r),startIndex:a,dimensionsDetectedCount:o};if(e===Th){var s=t;"auto"===i||null==i?Fd(function(t){null!=t&&"-"!==t&&(Object(v.isString)(t)?null==a&&(a=1):a=0)},n,s,10):a=Object(v.isNumber)(i)?i:i?1:0,r||1!==a||(r=[],Fd(function(t,e){r[e]=null!=t?t+"":""},n,s,1/0)),o=r?r.length:n===Dh?s.length:s[0]?s[0].length:null}else if(e===Oh)r||(r=function(t){var e,n=0;for(;n<t.length&&!(e=t[n++]););if(e){var i=[];return Object(v.each)(e,function(t,e){i.push(e)}),i}}(t));else if(e===Eh)r||(r=[],Object(v.each)(t,function(t,e){r.push(e)}));else if(e===kh){var l=Gi(t[0]);o=Object(v.isArray)(l)&&l.length||1}return{startIndex:a,dimensionsDefine:Bd(r),dimensionsDetectedCount:o}}(t,n,i,e.sourceHeader,e.dimensions);return new Dd({data:t,sourceFormat:n,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:Object(v.clone)(e)})}function Rd(t){return new Dd({data:t,sourceFormat:Object(v.isTypedArray)(t)?Ah:kh})}function zd(t){var e=Nh;if(Object(v.isTypedArray)(t))e=Ah;else if(Object(v.isArray)(t)){0===t.length&&(e=Th);for(var n=0,i=t.length;n<i;n++){var r=t[n];if(null!=r){if(Object(v.isArray)(r)){e=Th;break}if(Object(v.isObject)(r)){e=Oh;break}}}}else if(Object(v.isObject)(t))for(var o in t)if(Object(v.hasOwn)(t,o)&&Object(v.isArrayLike)(t[o])){e=Eh;break}return e}function Bd(t){if(t){var e=Object(v.createHashMap)();return Object(v.map)(t,function(t,n){var i={name:(t=Object(v.isObject)(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==i.name)return i;i.name+="",null==i.displayName&&(i.displayName=i.name);var r=e.get(i.name);return r?i.name+="-"+r.count++:e.set(i.name,{count:1}),i})}}function Fd(t,e,n,i){if(e===Dh)for(var r=0;r<n.length&&r<i;r++)t(n[r]?n[r][0]:null,r);else{var o=n[0]||[];for(r=0;r<o.length&&r<i;r++)t(o[r],r)}}function Gd(t){var e=t.sourceFormat;return e===Oh||e===Eh}var Vd=function(){function t(t,e){var n=jd(t)?t:Rd(t);this._source=n;var i=this._data=n.data;n.sourceFormat===Ah&&(this._offset=0,this._dimSize=e,this._data=i),Ld(this,i,n)}var e;return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,e){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=((e=t.prototype).pure=!1,void(e.persistent=!0)),t.internalField=function(){var t;Ld=function(t,r,o){var a=o.sourceFormat,s=o.seriesLayoutBy,l=o.startIndex,u=o.dimensionsDefine,c=Nd[Kd(a,s)];if(Object(v.extend)(t,c),a===Ah)t.getItem=e,t.count=i,t.fillStorage=n;else{var h=Ud(a,s);t.getItem=Object(v.bind)(h,null,r,l,u);var d=Qd(a,s);t.count=Object(v.bind)(d,null,r,l,u)}};var e=function(t,e){t-=this._offset,e=e||[];for(var n=this._data,i=this._dimSize,r=i*t,o=0;o<i;o++)e[o]=n[r+o];return e},n=function(t,e,n,i){for(var r=this._data,o=this._dimSize,a=0;a<o;a++){for(var s=i[a],l=null==s[0]?1/0:s[0],u=null==s[1]?-1/0:s[1],c=e-t,h=n[a],d=0;d<c;d++){var f=r[d*o+a];h[t+d]=f,f<l&&(l=f),f>u&&(u=f)}s[0]=l,s[1]=u}},i=function(){return this._data?this._data.length/this._dimSize:0};function r(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}(t={})[Th+"_"+Lh]={pure:!0,appendData:r},t[Th+"_"+Dh]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Oh]={pure:!0,appendData:r},t[Eh]={pure:!0,appendData:function(t){var e=this._data;Object(v.each)(t,function(t,n){for(var i=e[n]||(e[n]=[]),r=0;r<(t||[]).length;r++)i.push(t[r])})}},t[kh]={appendData:r},t[Ah]={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},Nd=t}(),t}(),Wd=function(t,e,n,i){return t[i]},Hd=((Od={})[Th+"_"+Lh]=function(t,e,n,i){return t[i+e]},Od[Th+"_"+Dh]=function(t,e,n,i,r){i+=e;for(var o=r||[],a=t,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[i]:null}return o},Od[Oh]=Wd,Od[Eh]=function(t,e,n,i,r){for(var o=r||[],a=0;a<n.length;a++){var s=n[a].name;0;var l=t[s];o[a]=l?l[i]:null}return o},Od[kh]=Wd,Od);function Ud(t,e){var n=Hd[Kd(t,e)];return n}var Yd=function(t,e,n){return t.length},Jd=((Ed={})[Th+"_"+Lh]=function(t,e,n){return Math.max(0,t.length-e)},Ed[Th+"_"+Dh]=function(t,e,n){var i=t[0];return i?Math.max(0,i.length-e):0},Ed[Oh]=Yd,Ed[Eh]=function(t,e,n){var i=n[0].name;var r=t[i];return r?r.length:0},Ed[kh]=Yd,Ed);function Qd(t,e){var n=Jd[Kd(t,e)];return n}var Zd=function(t,e,n){return t[e]},$d=((Ad={})[Th]=Zd,Ad[Oh]=function(t,e,n){return t[n]},Ad[Eh]=Zd,Ad[kh]=function(t,e,n){var i=Gi(t);return i instanceof Array?i[e]:i},Ad[Ah]=Zd,Ad);function Xd(t){var e=$d[t];return e}function Kd(t,e){return t===Th?t+"_"+e:t}function qd(t,e,n){if(t){var i=t.getRawDataItem(e);if(null!=i){var r=t.getStore(),o=r.getSource().sourceFormat;if(null!=n){var a=t.getDimensionIndex(n),s=r.getDimensionProperty(a);return Xd(o)(i,a,s)}var l=i;return o===kh&&(l=Gi(i)),l}}}var tf=/\{@(.+?)\}/g,ef=function(){function t(){}return t.prototype.getDataParams=function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),r=n.getRawIndex(t),o=n.getName(t),a=n.getRawDataItem(t),s=n.getItemVisual(t,"style"),l=s&&s[n.getItemVisual(t,"drawType")||"fill"],u=s&&s.stroke,c=this.mainType,h="series"===c,d=n.userOutput&&n.userOutput.get();return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:r,data:a,dataType:e,value:i,color:l,borderColor:u,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(t,e,n,i,r,o){e=e||"normal";var a=this.getData(n),s=this.getDataParams(t,n);(o&&(s.value=o.interpolatedValue),null!=i&&v.isArray(s.value)&&(s.value=s.value[i]),r)||(r=a.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"]));return v.isFunction(r)?(s.status=e,s.dimensionIndex=i,r(s)):v.isString(r)?ih(r,s).replace(tf,function(e,n){var i=n.length,r=n;"["===r.charAt(0)&&"]"===r.charAt(i-1)&&(r=+r.slice(1,i-1));var s=qd(a,t,r);if(o&&v.isArray(o.interpolatedValue)){var l=a.getDimensionIndex(r);l>=0&&(s=o.interpolatedValue[l])}return null!=s?s+"":""}):void 0},t.prototype.getRawValue=function(t,e){return qd(this.getData(e),t)},t.prototype.formatTooltip=function(t,e,n){},t}();function nf(t){var e,n;return v.isObject(t)?t.type&&(n=t):e=t,{text:e,frag:n}}function rf(t){return new of(t)}var of=function(){function t(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var e,n=this._upstream,i=t&&t.skip;if(this._dirty&&n){var r=this.context;r.data=r.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(e=this._plan(this.context));var o,a=c(this._modBy),s=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;function c(t){return!(t>=1)&&(t=1),t}a===l&&s===u||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,o=this._doReset(i)),this._modBy=l,this._modDataCount=u;var h=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,f=Math.min(null!=h?this._dueIndex+h:1/0,this._dueEnd);if(!i&&(o||d<f)){var p=this._progress;if(Object(v.isArray)(p))for(var g=0;g<p.length;g++)this._doProgress(p[g],d,f,l,u);else this._doProgress(p,d,f,l,u)}this._dueIndex=f;var m=null!=this._settedOutputEnd?this._settedOutputEnd:f;0,this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,e,n,i,r){af.reset(e,n,i,r),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:af.next},this.context)},t.prototype._doReset=function(t){var e,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(n=e.forceFirstProgress,e=e.progress),Object(v.isArray)(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),af=function(){var t,e,n,i,r,o={reset:function(l,u,c,h){e=l,t=u,n=c,i=h,r=Math.ceil(i/n),o.next=n>1&&i>0?s:a}};return o;function a(){return e<t?e++:null}function s(){var o=e%r*n+Math.ceil(e/r),a=e>=t?null:o<i?o:e;return e++,a}}();function sf(t,e){var n=e&&e.type;return"ordinal"===n?t:("time"!==n||Object(v.isNumber)(t)||null==t||"-"===t||(t=+Si(t)),null==t||""===t?NaN:+t)}var lf=Object(v.createHashMap)({number:function(t){return parseFloat(t)},time:function(t){return+Si(t)},trim:function(t){return Object(v.isString)(t)?Object(v.trim)(t):t}});function uf(t){return lf.get(t)}var cf={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},hf=function(){function t(t,e){if(!Object(v.isNumber)(e)){var n="";0,Di(n)}this._opFn=cf[t],this._rvalFloat=Oi(e)}return t.prototype.evaluate=function(t){return Object(v.isNumber)(t)?this._opFn(t,this._rvalFloat):this._opFn(Oi(t),this._rvalFloat)},t}(),df=function(){function t(t,e){var n="desc"===t;this._resultLT=n?1:-1,null==e&&(e=n?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return t.prototype.evaluate=function(t,e){var n=Object(v.isNumber)(t)?t:Oi(t),i=Object(v.isNumber)(e)?e:Oi(e),r=isNaN(n),o=isNaN(i);if(r&&(n=this._incomparable),o&&(i=this._incomparable),r&&o){var a=Object(v.isString)(t),s=Object(v.isString)(e);a&&(n=s?t:0),s&&(i=a?e:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},t}(),ff=function(){function t(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Oi(e)}return t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(e=Oi(t)===this._rvalFloat)}return this._isEQ?e:!e},t}();function pf(t,e){return"eq"===t||"ne"===t?new ff("eq"===t,e):Object(v.hasOwn)(cf,t)?new hf(t,e):null}var gf=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(t){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,e){},t.prototype.retrieveValueFromItem=function(t,e){},t.prototype.convertValue=function(t,e){return sf(t,e)},t}();function vf(t){var e=t.sourceFormat;if(!_f(e)){var n="";0,Di(n)}return t.data}function mf(t){var e=t.sourceFormat,n=t.data;if(!_f(e)){var i="";0,Di(i)}if(e===Th){for(var r=[],o=0,a=n.length;o<a;o++)r.push(n[o].slice());return r}if(e===Oh){for(r=[],o=0,a=n.length;o<a;o++)r.push(Object(v.extend)({},n[o]));return r}}function yf(t,e,n){if(null!=n)return Object(v.isNumber)(n)||!isNaN(n)&&!Object(v.hasOwn)(e,n)?t[n]:Object(v.hasOwn)(e,n)?e[n]:void 0}function bf(t){return Object(v.clone)(t)}var xf=Object(v.createHashMap)();function wf(t,e,n,i){var r="";e.length||Di(r),Object(v.isObject)(t)||Di(r);var o=t.type,a=xf.get(o);a||Di(r);var s=Object(v.map)(e,function(t){return function(t,e){var n=new gf,i=t.data,r=n.sourceFormat=t.sourceFormat,o=t.startIndex,a="";t.seriesLayoutBy!==Lh&&Di(a);var s=[],l={},u=t.dimensionsDefine;if(u)Object(v.each)(u,function(t,e){var n=t.name,i={index:e,name:n,displayName:t.displayName};if(s.push(i),null!=n){var r="";Object(v.hasOwn)(l,n)&&Di(r),l[n]=i}});else for(var c=0;c<t.dimensionsDetectedCount;c++)s.push({index:c});var h=Ud(r,Lh);e.__isBuiltIn&&(n.getRawDataItem=function(t){return h(i,o,s,t)},n.getRawData=Object(v.bind)(vf,null,t)),n.cloneRawData=Object(v.bind)(mf,null,t);var d=Qd(r,Lh);n.count=Object(v.bind)(d,null,i,o,s);var f=Xd(r);n.retrieveValue=function(t,e){var n=h(i,o,s,t);return p(n,e)};var p=n.retrieveValueFromItem=function(t,e){if(null!=t){var n=s[e];return n?f(t,e,n.name):void 0}};return n.getDimensionInfo=Object(v.bind)(yf,null,s,l),n.cloneAllDimensionInfo=Object(v.bind)(bf,null,s),n}(t,a)}),l=zi(a.transform({upstream:s[0],upstreamList:s,config:Object(v.clone)(t.config)}));return Object(v.map)(l,function(t,n){var i,r="";Object(v.isObject)(t)||Di(r),t.data||Di(r),_f(zd(t.data))||Di(r);var o=e[0];if(o&&0===n&&!t.dimensions){var a=o.startIndex;a&&(t.data=o.data.slice(0,a).concat(t.data)),i={seriesLayoutBy:Lh,sourceHeader:a,dimensions:o.metaRawOption.dimensions}}else i={seriesLayoutBy:Lh,sourceHeader:0,dimensions:t.dimensions};return Pd(t.data,i,null)})}function _f(t){return t===Th||t===Oh}var Sf,Mf="undefined"==typeof Uint32Array?Array:Uint32Array,Cf="undefined"==typeof Uint16Array?Array:Uint16Array,If="undefined"==typeof Int32Array?Array:Int32Array,kf="undefined"==typeof Float64Array?Array:Float64Array,Tf={float:kf,int:If,ordinal:Array,number:Array,time:kf};function Of(t){return t>65535?Mf:Cf}function Ef(t,e,n,i,r){var o=Tf[n||"float"];if(r){var a=t[e],s=a&&a.length;if(s!==i){for(var l=new o(i),u=0;u<s;u++)l[u]=a[u];t[e]=l}}else t[e]=new o(i)}var Af=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Object(v.createHashMap)()}return t.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),r=this.defaultDimValueGetter=Sf[i.sourceFormat];this._dimValueGetter=n||r,this._rawExtent=[];Gd(i);this._dimensions=Object(v.map)(e,function(t){return{type:t.type,property:t.property}}),this._initDataFromProvider(0,t.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,i=this._dimensions,r=n.get(t);if(null!=r){if(i[r].type===e)return r}else r=i.length;return i[r]={type:e},n.set(t,r),this._chunks[r]=new Tf[e||"float"](this._rawCount),this._rawExtent[r]=[1/0,-1/0],r},t.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],i=this._dimensions[t],r=this._rawExtent,o=i.ordinalOffset||0,a=n.length;0===o&&(r[t]=[1/0,-1/0]);for(var s=r[t],l=o;l<a;l++){var u=n[l]=e.parseAndCollect(n[l]);s[0]=Math.min(u,s[0]),s[1]=Math.max(u,s[1])}i.ordinalMeta=e,i.ordinalOffset=a,i.type="ordinal"},t.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},t.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},t.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var i=e.count();return e.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},t.prototype.appendValues=function(t,e){for(var n=this._chunks,i=this._dimensions,r=i.length,o=this._rawExtent,a=this.count(),s=a+Math.max(t.length,e||0),l=0;l<r;l++){Ef(n,l,(f=i[l]).type,s,!0)}for(var u=[],c=a;c<s;c++)for(var h=c-a,d=0;d<r;d++){var f=i[d],p=Sf.arrayRows.call(this,t[h]||u,f.property,h,d);n[d][c]=p;var g=o[d];p<g[0]&&(g[0]=p),p>g[1]&&(g[1]=p)}return this._rawCount=this._count=s,{start:a,end:s}},t.prototype._initDataFromProvider=function(t,e,n){for(var i=this._provider,r=this._chunks,o=this._dimensions,a=o.length,s=this._rawExtent,l=Object(v.map)(o,function(t){return t.property}),u=0;u<a;u++){var c=o[u];s[u]||(s[u]=[1/0,-1/0]),Ef(r,u,c.type,e,n)}if(i.fillStorage)i.fillStorage(t,e,r,s);else for(var h=[],d=t;d<e;d++){h=i.getItem(d,h);for(var f=0;f<a;f++){var p=r[f],g=this._dimValueGetter(h,l[f],d,f);p[d]=g;var m=s[f];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},t.prototype.getValues=function(t,e){var n=[],i=[];if(null==e){e=t,t=[];for(var r=0;r<this._dimensions.length;r++)i.push(r)}else i=t;r=0;for(var o=i.length;r<o;r++)n.push(this.get(i[r],e));return n},t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},t.prototype.getSum=function(t){var e=0;if(this._chunks[t])for(var n=0,i=this.count();n<i;n++){var r=this.get(t,n);isNaN(r)||(e+=r)}return e},t.prototype.getMedian=function(t){var e=[];this.each([t],function(t){isNaN(t)||e.push(t)});var n=e.sort(function(t,e){return t-e}),i=this.count();return 0===i?0:i%2==1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var i=0,r=this._count-1;i<=r;){var o=(i+r)/2|0;if(e[o]<t)i=o+1;else{if(!(e[o]>t))return o;r=o-1}}return-1},t.prototype.indicesOfNearest=function(t,e,n){var i=this._chunks[t],r=[];if(!i)return r;null==n&&(n=1/0);for(var o=1/0,a=-1,s=0,l=0,u=this.count();l<u;l++){var c=e-i[this.getRawIndex(l)],h=Math.abs(c);h<=n&&((h<o||h===o&&c>=0&&a<0)&&(o=h,a=c,s=0),c===a&&(r[s++]=l))}return r.length=s,r},t.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,i=this._count;if(n===Array){t=new n(i);for(var r=0;r<i;r++)t[r]=e[r]}else t=new n(e.buffer,0,i)}else{t=new(n=Of(this._rawCount))(this.count());for(r=0;r<t.length;r++)t[r]=r}return t},t.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),i=n.count(),r=new(Of(n._rawCount))(i),o=[],a=t.length,s=0,l=t[0],u=n._chunks,c=0;c<i;c++){var h=void 0,d=n.getRawIndex(c);if(0===a)h=e(c);else if(1===a){h=e(u[l][d],c)}else{for(var f=0;f<a;f++)o[f]=u[t[f]][d];o[f]=c,h=e.apply(null,o)}h&&(r[s++]=d)}return s<i&&(n._indices=r),n._count=s,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var i=Object(v.keys)(t),r=i.length;if(!r)return this;var o=e.count(),a=new(Of(e._rawCount))(o),s=0,l=i[0],u=t[l][0],c=t[l][1],h=e._chunks,d=!1;if(!e._indices){var f=0;if(1===r){for(var p=h[i[0]],g=0;g<n;g++){((x=p[g])>=u&&x<=c||isNaN(x))&&(a[s++]=f),f++}d=!0}else if(2===r){p=h[i[0]];var m=h[i[1]],y=t[i[1]][0],b=t[i[1]][1];for(g=0;g<n;g++){var x=p[g],w=m[g];(x>=u&&x<=c||isNaN(x))&&(w>=y&&w<=b||isNaN(w))&&(a[s++]=f),f++}d=!0}}if(!d)if(1===r)for(g=0;g<o;g++){var _=e.getRawIndex(g);((x=h[i[0]][_])>=u&&x<=c||isNaN(x))&&(a[s++]=_)}else for(g=0;g<o;g++){for(var S=!0,M=(_=e.getRawIndex(g),0);M<r;M++){var C=i[M];((x=h[C][_])<t[C][0]||x>t[C][1])&&(S=!1)}S&&(a[s++]=e.getRawIndex(g))}return s<o&&(e._indices=a),e._count=s,e._extent=[],e._updateGetRawIdx(),e},t.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},t.prototype.modify=function(t,e){this._updateDims(this,t,e)},t.prototype._updateDims=function(t,e,n){for(var i=t._chunks,r=[],o=e.length,a=t.count(),s=[],l=t._rawExtent,u=0;u<e.length;u++)l[e[u]]=[1/0,-1/0];for(var c=0;c<a;c++){for(var h=t.getRawIndex(c),d=0;d<o;d++)s[d]=i[e[d]][h];s[o]=c;var f=n&&n.apply(null,s);if(null!=f){"object"!=typeof f&&(r[0]=f,f=r);for(u=0;u<f.length;u++){var p=e[u],g=f[u],v=l[p],m=i[p];m&&(m[h]=g),g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}}}},t.prototype.lttbDownSample=function(t,e){var n,i,r,o=this.clone([t],!0),a=o._chunks[t],s=this.count(),l=0,u=Math.floor(1/e),c=this.getRawIndex(0),h=new(Of(this._rawCount))(Math.ceil(s/u)+2);h[l++]=c;for(var d=1;d<s-1;d+=u){for(var f=Math.min(d+u,s-1),p=Math.min(d+2*u,s),g=(p+f)/2,v=0,m=f;m<p;m++){var y=a[S=this.getRawIndex(m)];isNaN(y)||(v+=y)}v/=p-f;var b=d,x=Math.min(d+u,s),w=d-1,_=a[c];n=-1,r=b;for(m=b;m<x;m++){var S;y=a[S=this.getRawIndex(m)];isNaN(y)||(i=Math.abs((w-g)*(y-_)-(w-m)*(v-_)))>n&&(n=i,r=S)}h[l++]=r,c=r}return h[l++]=this.getRawIndex(s-1),o._count=l,o._indices=h,o.getRawIndex=this._getRawIdx,o},t.prototype.downSample=function(t,e,n,i){for(var r=this.clone([t],!0),o=r._chunks,a=[],s=Math.floor(1/e),l=o[t],u=this.count(),c=r._rawExtent[t]=[1/0,-1/0],h=new(Of(this._rawCount))(Math.ceil(u/s)),d=0,f=0;f<u;f+=s){s>u-f&&(s=u-f,a.length=s);for(var p=0;p<s;p++){var g=this.getRawIndex(f+p);a[p]=l[g]}var v=n(a),m=this.getRawIndex(Math.min(f+i(a,v)||0,u-1));l[m]=v,v<c[0]&&(c[0]=v),v>c[1]&&(c[1]=v),h[d++]=m}return r._count=d,r._indices=h,r._updateGetRawIdx(),r},t.prototype.each=function(t,e){if(this._count)for(var n=t.length,i=this._chunks,r=0,o=this.count();r<o;r++){var a=this.getRawIndex(r);switch(n){case 0:e(r);break;case 1:e(i[t[0]][a],r);break;case 2:e(i[t[0]][a],i[t[1]][a],r);break;default:for(var s=0,l=[];s<n;s++)l[s]=i[t[s]][a];l[s]=r,e.apply(null,l)}}},t.prototype.getDataExtent=function(t){var e=this._chunks[t],n=[1/0,-1/0];if(!e)return n;var i,r=this.count();if(!this._indices)return this._rawExtent[t].slice();if(i=this._extent[t])return i.slice();for(var o=(i=n)[0],a=i[1],s=0;s<r;s++){var l=e[this.getRawIndex(s)];l<o&&(o=l),l>a&&(a=l)}return i=[o,a],this._extent[t]=i,i},t.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],i=this._chunks,r=0;r<i.length;r++)n.push(i[r][e]);return n},t.prototype.clone=function(e,n){var i,r,o=new t,a=this._chunks,s=e&&Object(v.reduce)(e,function(t,e){return t[e]=!0,t},{});if(s)for(var l=0;l<a.length;l++)o._chunks[l]=s[l]?(i=a[l],r=void 0,(r=i.constructor)===Array?i.slice():new r(i)):a[l];else o._chunks=a;return this._copyCommonProps(o),n||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},t.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Object(v.clone)(this._extent),t._rawExtent=Object(v.clone)(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var i=0;i<n;i++)e[i]=this._indices[i]}else e=new t(this._indices);return e}return null},t.prototype._getRawIdxIdentity=function(t){return t},t.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function t(t,e,n,i){return sf(t[i],this._dimensions[i])}Sf={arrayRows:t,objectRows:function(t,e,n,i){return sf(t[e],this._dimensions[i])},keyedColumns:t,original:function(t,e,n,i){var r=t&&(null==t.value?t:t.value);return sf(r instanceof Array?r[i]:r,this._dimensions[i])},typedArray:function(t,e,n,i){return t[i]}}}(),t}(),Nf=function(){function t(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n=this._sourceHost,i=this._getUpstreamSourceManagers(),r=!!i.length;if(Df(n)){var o=n,a=void 0,s=void 0,l=void 0;if(r){var u=i[0];u.prepareSource(),a=(l=u.getSource()).data,s=l.sourceFormat,e=[u._getVersionSign()]}else a=o.get("data",!0),s=Object(v.isTypedArray)(a)?Ah:kh,e=[];var c=this._getSourceMetaRawOption()||{},h=l&&l.metaRawOption||{},d=Object(v.retrieve2)(c.seriesLayoutBy,h.seriesLayoutBy)||null,f=Object(v.retrieve2)(c.sourceHeader,h.sourceHeader),p=Object(v.retrieve2)(c.dimensions,h.dimensions);t=d!==h.seriesLayoutBy||!!f!=!!h.sourceHeader||p?[Pd(a,{seriesLayoutBy:d,sourceHeader:f,dimensions:p},s)]:[]}else{var g=n;if(r){var m=this._applyTransform(i);t=m.sourceList,e=m.upstreamSignList}else{t=[Pd(g.get("source",!0),this._getSourceMetaRawOption(),null)],e=[]}}this._setLocalSource(t,e)},t.prototype._applyTransform=function(t){var e,n=this._sourceHost,i=n.get("transform",!0),r=n.get("fromTransformResult",!0);if(null!=r){var o="";1!==t.length&&jf(o)}var a,s=[],l=[];return Object(v.each)(t,function(t){t.prepareSource();var e=t.getSource(r||0),n="";null==r||e||jf(n),s.push(e),l.push(t._getVersionSign())}),i?e=function(t,e,n){var i=zi(t),r=i.length,o="";r||Di(o);for(var a=0,s=r;a<s;a++)e=wf(i[a],e),a!==s-1&&(e.length=Math.max(e.length,1));return e}(i,s,n.componentIndex):null!=r&&(e=[(a=s[0],new Dd({data:a.data,sourceFormat:a.sourceFormat,seriesLayoutBy:a.seriesLayoutBy,dimensionsDefine:Object(v.clone)(a.dimensionsDefine),startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount}))]),{sourceList:e,upstreamSignList:l}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},t.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},t.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},t.prototype._innerGetDataStore=function(t,e,n){var i=this._storeList,r=i[0];r||(r=i[0]={});var o=r[n];if(!o){var a=this._getUpstreamSourceManagers()[0];Df(this._sourceHost)&&a?o=a._innerGetDataStore(t,e,n):(o=new Af).initData(new Vd(e,t.length),t),r[n]=o}return o},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Df(t)){var e=Bh(t);return e?[e.getSourceManager()]:[]}return Object(v.map)(function(t){return t.get("transform",!0)||t.get("fromTransformResult",!0)?nr(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},tr).models:[]}(t),function(t){return t.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var t,e,n,i=this._sourceHost;if(Df(i))t=i.get("seriesLayoutBy",!0),e=i.get("sourceHeader",!0),n=i.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var r=i;t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),n=r.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},t}();function Lf(t){t.option.transform&&Object(v.setAsPrimitive)(t.option.transform)}function Df(t){return"series"===t.mainType}function jf(t){throw new Error(t)}var Pf="line-height:1";function Rf(t,e){var n=t.color||"#6e7079",i=t.fontSize||12,r=t.fontWeight||"400",o=t.color||"#464646",a=t.fontSize||14,s=t.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+qc(i+"")+"px;color:"+qc(n)+";font-weight:"+qc(r+""),valueStyle:"font-size:"+qc(a+"")+"px;color:"+qc(o)+";font-weight:"+qc(s+"")}:{nameStyle:{fontSize:i,fill:n,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var zf=[0,10,20,30],Bf=["","\n","\n\n","\n\n\n"];function Ff(t,e){return e.type=t,e}function Gf(t){return"section"===t.type}function Vf(t){return Gf(t)?Wf:Hf}function Wf(t,e,n,i){var r,o=e.noHeader,a=(r=function t(e){if(Gf(e)){var n=0,i=e.blocks.length,r=i>1||i>0&&!e.noHeader;return Object(v.each)(e.blocks,function(e){var i=t(e);i>=n&&(n=i+ +(r&&(!i||Gf(e)&&!e.noHeader)))}),n}return 0}(e),{html:zf[r],richText:Bf[r]}),s=[],l=e.blocks||[];Object(v.assert)(!l||Object(v.isArray)(l)),l=l||[];var u=t.orderMode;if(e.sortBlocks&&u){l=l.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(Object(v.hasOwn)(c,u)){var h=new df(c[u],null);l.sort(function(t,e){return h.evaluate(t.sortParam,e.sortParam)})}else"seriesDesc"===u&&l.reverse()}Object(v.each)(l,function(n,r){var o=e.valueFormatter,l=Vf(n)(o?Object(v.extend)(Object(v.extend)({},t),{valueFormatter:o}):t,n,r>0?a.html:0,i);null!=l&&s.push(l)});var d="richText"===t.renderMode?s.join(a.richText):Yf(s.join(""),o?n:a.html);if(o)return d;var f=th(e.header,"ordinal",t.useUTC),p=Rf(i,t.renderMode).nameStyle;return"richText"===t.renderMode?Jf(t,f,p)+a.richText+d:Yf('<div style="'+p+";"+Pf+';">'+qc(f)+"</div>"+d,n)}function Hf(t,e,n,i){var r=t.renderMode,o=e.noName,a=e.noValue,s=!e.markerType,l=e.name,u=t.useUTC,c=e.valueFormatter||t.valueFormatter||function(t){return t=Object(v.isArray)(t)?t:[t],Object(v.map)(t,function(t,e){return th(t,Object(v.isArray)(f)?f[e]:f,u)})};if(!o||!a){var h=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",r),d=o?"":th(l,"ordinal",u),f=e.valueType,p=a?[]:c(e.value),g=!s||!o,m=!s&&o,y=Rf(i,r),b=y.nameStyle,x=y.valueStyle;return"richText"===r?(s?"":h)+(o?"":Jf(t,d,b))+(a?"":function(t,e,n,i,r){var o=[r],a=i?10:20;return n&&o.push({padding:[0,0,0,a],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(Object(v.isArray)(e)?e.join("  "):e,o)}(t,p,g,m,x)):Yf((s?"":h)+(o?"":function(t,e,n){return'<span style="'+n+";"+(e?"margin-left:2px":"")+'">'+qc(t)+"</span>"}(d,!s,b))+(a?"":function(t,e,n,i){var r=e?"float:right;margin-left:"+(n?"10px":"20px"):"";return t=Object(v.isArray)(t)?t:[t],'<span style="'+r+";"+i+'">'+Object(v.map)(t,function(t){return qc(t)}).join("&nbsp;&nbsp;")+"</span>"}(p,g,m,x)),n)}}function Uf(t,e,n,i,r,o){if(t)return Vf(t)({useUTC:r,renderMode:n,orderMode:i,markupStyleCreator:e,valueFormatter:t.valueFormatter},t,0,o)}function Yf(t,e){return'<div style="'+("margin: "+e+"px 0 0")+";"+Pf+';">'+t+'<div style="clear:both"></div></div>'}function Jf(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function Qf(t,e){return sh(t.getData().getItemVisual(e,"style")[t.visualDrawType])}function Zf(t,e){var n=t.get("padding");return null!=n?n:"richText"===e?[8,10]:10}var $f=function(){function t(){this.richTextStyles={},this._nextStyleNameId=Ai()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(t,e,n){var i="richText"===n?this._generateStyleName():null,r=rh({color:e,type:t,renderMode:n,markerId:i});return Object(v.isString)(r)?r:(this.richTextStyles[i]=r.style,r.content)},t.prototype.wrapRichTextStyle=function(t,e){var n={};Object(v.isArray)(e)?Object(v.each)(e,function(t){return Object(v.extend)(n,t)}):Object(v.extend)(n,e);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+t+"}"},t}();function Xf(t){var e,n,i,r,o=t.series,a=t.dataIndex,s=t.multipleSeries,l=o.getData(),u=l.mapDimensionsAll("defaultedTooltip"),c=u.length,h=o.getRawValue(a),d=Object(v.isArray)(h),f=Qf(o,a);if(c>1||d&&!c){var p=function(t,e,n,i,r){var o=e.getData(),a=Object(v.reduce)(t,function(t,e,n){var i=o.getDimensionInfo(n);return t=t||i&&!1!==i.tooltip&&null!=i.displayName},!1),s=[],l=[],u=[];function c(t,e){var n=o.getDimensionInfo(e);n&&!1!==n.otherDims.tooltip&&(a?u.push(Ff("nameValue",{markerType:"subItem",markerColor:r,name:n.displayName,value:t,valueType:n.type})):(s.push(t),l.push(n.type)))}return i.length?Object(v.each)(i,function(t){c(qd(o,n,t),t)}):Object(v.each)(t,c),{inlineValues:s,inlineValueTypes:l,blocks:u}}(h,o,a,u,f);e=p.inlineValues,n=p.inlineValueTypes,i=p.blocks,r=p.inlineValues[0]}else if(c){var g=l.getDimensionInfo(u[0]);r=e=qd(l,a,u[0]),n=g.type}else r=e=d?h[0]:h;var m=Ji(o),y=m&&o.name||"",b=l.getName(a),x=s?y:b;return Ff("section",{header:y,noHeader:s||!m,sortParam:r,blocks:[Ff("nameValue",{markerType:"item",markerColor:f,name:x,noName:!Object(v.trim)(x),value:e,valueType:n})].concat(i||[])})}var Kf=$i();function qf(t,e){return t.getName(e)||t.getId(e)}var tp="__universalTransitionEnabled",ep=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}var n;return p(e,t),e.prototype.init=function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=rf({count:ip,reset:rp}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),(Kf(this).sourceManager=new Nf(this)).prepareSource();var i=this.getInitialData(t,n);ap(i,this),this.dataTask.context.data=i,Kf(this).dataBeforeProcessed=i,np(this),this._initSelectedMapFromData(i)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=vh(this),i=n?yh(t):{},r=this.subType;_h.hasClass(r)&&(r+="Series"),v.merge(t,e.getTheme().get(this.subType)),v.merge(t,this.getDefaultOption()),Bi(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&mh(t,i,n)},e.prototype.mergeOption=function(t,e){t=v.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var n=vh(this);n&&mh(this.option,t,n);var i=Kf(this).sourceManager;i.dirty(),i.prepareSource();var r=this.getInitialData(t,e);ap(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,Kf(this).dataBeforeProcessed=r,np(this),this._initSelectedMapFromData(r)},e.prototype.fillDataTextStyle=function(t){if(t&&!v.isTypedArray(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&Bi(t[n],"label",e)},e.prototype.getInitialData=function(t,e){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var e=lp(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return Kf(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var e=lp(this);if(e){var n=e.context;n.outputData=t,e!==this.dataTask&&(n.data=t)}Kf(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return v.createHashMap(t)},e.prototype.getSourceManager=function(){return Kf(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Kf(this).dataBeforeProcessed},e.prototype.getColorBy=function(){return this.get("colorBy")||"series"},e.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,e,n){return Xf({series:this,dataIndex:t,multipleSeries:e})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(g.a.node&&(!t||!t.ssr))return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),!!e},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,e,n){var i=this.ecModel,r=Qh.prototype.getColorFromPalette.call(this,t,e,n);return r||(r=i.getColorFromPalette(t,e,n)),r},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},e.prototype.unselect=function(t,e){var n=this.option.selectedMap;if(n){var i=this.option.selectedMode,r=this.getData(e);if("series"===i||"all"===n)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var o=0;o<t.length;o++){var a=qf(r,t[o]);n[a]=!1,this._selectedDataIndicesMap[a]=-1}}},e.prototype.toggleSelect=function(t,e){for(var n=[],i=0;i<t.length;i++)n[0]=t[i],this.isSelected(t[i],e)?this.unselect(n,e):this.select(n,e)},e.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,e=v.keys(t),n=[],i=0;i<e.length;i++){var r=t[e[i]];r>=0&&n.push(r)}return n},e.prototype.isSelected=function(t,e){var n=this.option.selectedMap;if(!n)return!1;var i=this.getData(e);return("all"===n||n[qf(i,t)])&&!i.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[tp])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,e){var n,i,r=this.option,o=r.selectedMode,a=e.length;if(o&&a)if("series"===o)r.selectedMap="all";else if("multiple"===o){v.isObject(r.selectedMap)||(r.selectedMap={});for(var s=r.selectedMap,l=0;l<a;l++){var u=e[l];s[h=qf(t,u)]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(u)}}else if("single"===o||!0===o){var c=e[a-1],h=qf(t,c);r.selectedMap=((n={})[h]=!0,n),this._selectedDataIndicesMap=((i={})[h]=t.getRawIndex(c),i)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var e=[];t.hasItemOption&&t.each(function(n){var i=t.getRawDataItem(n);i&&i.selected&&e.push(n)}),e.length>0&&this._innerSelect(t,e)}},e.registerClass=function(t){return _h.registerClass(t)},e.protoInitialize=((n=e.prototype).type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",void(n.visualDrawType="fill")),e}(_h);function np(t){var e=t.name;Ji(t)||(t.name=function(t){var e=t.getRawData(),n=e.mapDimensionsAll("seriesName"),i=[];return v.each(n,function(t){var n=e.getDimensionInfo(t);n.displayName&&i.push(n.displayName)}),i.join(" ")}(t)||e)}function ip(t){return t.model.getRawData().count()}function rp(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),op}function op(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function ap(t,e){v.each(v.concatArray(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(n){t.wrapMethod(n,v.curry(sp,e))})}function sp(t,e){var n=lp(t);return n&&n.setOutputEnd((e||this).count()),e}function lp(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var i=n.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(t.uid))}return i}}v.mixin(ep,ef),v.mixin(ep,Qh),hr(ep,_h);var up=ep,cp=function(){function t(){this.group=new Kn,this.uid=uc("viewComponent")}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,i){},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,i){},t.prototype.updateLayout=function(t,e,n,i){},t.prototype.updateVisual=function(t,e,n,i){},t.prototype.blurSeries=function(t,e){},t.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},t}();cr(cp),gr(cp);var hp=cp;function dp(){var t=$i();return function(e){var n=t(e),i=e.pipelineContext,r=!!n.large,o=!!n.progressiveRender,a=n.large=!(!i||!i.large),s=n.progressiveRender=!(!i||!i.progressiveRender);return!(r===a&&o===s)&&"reset"}}var fp=$i(),pp=dp(),gp=function(){function t(){this.group=new Kn,this.uid=uc("viewChart"),this.renderTask=rf({plan:yp,reset:bp}),this.renderTask.context={view:this}}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,i){0},t.prototype.highlight=function(t,e,n,i){var r=t.getData(i&&i.dataType);r&&mp(r,i,"emphasis")},t.prototype.downplay=function(t,e,n,i){var r=t.getData(i&&i.dataType);r&&mp(r,i,"normal")},t.prototype.remove=function(t,e){this.group.removeAll()},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,i){this.render(t,e,n,i)},t.prototype.updateLayout=function(t,e,n,i){this.render(t,e,n,i)},t.prototype.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},t.prototype.eachRendered=function(t){Nu(this.group,t)},t.markUpdateMethod=function(t,e){fp(t).updateMethod=e},t.protoInitialize=void(t.prototype.type="chart"),t}();function vp(t,e,n){t&&Ss(t)&&("emphasis"===e?rs:os)(t,n)}function mp(t,e,n){var i=Zi(t,e),r=e&&null!=e.highlightKey?function(t){var e=Ia[t];return null==e&&Ca<=32&&(e=Ia[t]=Ca++),e}(e.highlightKey):null;null!=i?Object(v.each)(zi(i),function(e){vp(t.getItemGraphicEl(e),n,r)}):t.eachItemGraphicEl(function(t){vp(t,n,r)})}function yp(t){return pp(t.model)}function bp(t){var e=t.model,n=t.ecModel,i=t.api,r=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=r&&fp(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](e,n,i,r),xp[l]}cr(gp),gr(gp);var xp={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},wp=gp,_p="\0__throttleOriginMethod",Sp="\0__throttleRate",Mp="\0__throttleType";function Cp(t,e,n){var i,r,o,a,s,l=0,u=0,c=null;function h(){u=(new Date).getTime(),c=null,t.apply(o,a||[])}e=e||0;var d=function(){for(var t=[],d=0;d<arguments.length;d++)t[d]=arguments[d];i=(new Date).getTime(),o=this,a=t;var f=s||e,p=s||n;s=null,r=i-(p?l:u)-f,clearTimeout(c),p?c=setTimeout(h,f):r>=0?h():c=setTimeout(h,-r),l=i};return d.clear=function(){c&&(clearTimeout(c),c=null)},d.debounceNextCall=function(t){s=t},d}function Ip(t,e,n,i){var r=t[e];if(r){var o=r[_p]||r,a=r[Mp];if(r[Sp]!==n||a!==i){if(null==n||!i)return t[e]=o;(r=t[e]=Cp(o,n,"debounce"===i))[_p]=o,r[Mp]=i,r[Sp]=n}return r}}function kp(t,e){var n=t[e];n&&n[_p]&&(n.clear&&n.clear(),t[e]=n[_p])}var Tp=$i(),Op={itemStyle:vr(ic,!0),lineStyle:vr(tc,!0)},Ep={lineStyle:"stroke",itemStyle:"fill"};function Ap(t,e){var n=t.visualStyleMapper||Op[e];return n||(console.warn("Unkown style type '"+e+"'."),Op.itemStyle)}function Np(t,e){var n=t.visualDrawType||Ep[e];return n||(console.warn("Unkown style type '"+e+"'."),"fill")}var Lp={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),i=t.visualStyleAccessPath||"itemStyle",r=t.getModel(i),o=Ap(t,i)(r),a=r.getShallow("decal");a&&(n.setVisual("decal",a),a.dirty=!0);var s=Np(t,i),l=o[s],u=Object(v.isFunction)(l)?l:null,c="auto"===o.fill||"auto"===o.stroke;if(!o[s]||u||c){var h=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[s]||(o[s]=h,n.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||Object(v.isFunction)(o.fill)?h:o.fill,o.stroke="auto"===o.stroke||Object(v.isFunction)(o.stroke)?h:o.stroke}if(n.setVisual("style",o),n.setVisual("drawType",s),!e.isSeriesFiltered(t)&&u)return n.setVisual("colorFromPalette",!1),{dataEach:function(e,n){var i=t.getDataParams(n),r=Object(v.extend)({},o);r[s]=u(i),e.setItemVisual(n,"style",r)}}}},Dp=new sc,jp={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var n=t.getData(),i=t.visualStyleAccessPath||"itemStyle",r=Ap(t,i),o=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(t,e){var n=t.getRawDataItem(e);if(n&&n[i]){Dp.option=n[i];var a=r(Dp),s=t.ensureUniqueItemVisual(e,"style");Object(v.extend)(s,a),Dp.option.decal&&(t.setItemVisual(e,"decal",Dp.option.decal),Dp.option.decal.dirty=!0),o in a&&t.setItemVisual(e,"colorFromPalette",!1)}}:null}}}},Pp={performRawSeries:!0,overallReset:function(t){var e=Object(v.createHashMap)();t.eachSeries(function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+n,r=e.get(i);r||(r={},e.set(i,r)),Tp(t).scope=r}}),t.eachSeries(function(e){if(!e.isColorBySeries()&&!t.isSeriesFiltered(e)){var n=e.getRawData(),i={},r=e.getData(),o=Tp(e).scope,a=e.visualStyleAccessPath||"itemStyle",s=Np(e,a);r.each(function(t){var e=r.getRawIndex(t);i[e]=t}),n.each(function(t){var a=i[t];if(r.getItemVisual(a,"colorFromPalette")){var l=r.ensureUniqueItemVisual(a,"style"),u=n.getName(t)||t+"",c=n.count();l[s]=e.getColorFromPalette(u,o,c)}})}})}},Rp=Math.PI;var zp=function(){function t(t,e,n,i){this._stageTaskMap=Object(v.createHashMap)(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return t.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},t.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,r=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,o=i&&i.modDataCount;return{step:r,modBy:null!=o?Math.ceil(o/r):null,modDataCount:o}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData().count(),r=n.progressiveEnabled&&e.incrementalPrepareRender&&i>=n.threshold,o=t.get("large")&&i>=t.get("largeThreshold"),a="mod"===t.get("progressiveChunkMode")?i:null;t.pipelineContext=n.context={progressiveRender:r,modDataCount:a,large:o}},t.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=Object(v.createHashMap)();t.eachSeries(function(t){var i=t.getProgressive(),r=t.uid;n.set(r,{id:r,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:i&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),e._pipe(t,t.dataTask)})},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;Object(v.each)(this._allHandlers,function(i){var r=t.get(i.uid)||t.set(i.uid,{}),o="";Object(v.assert)(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,r,e,n),i.overallReset&&this._createOverallStageTask(i,r,e,n)},this)},t.prototype.prepareView=function(t,e,n,i){var r=t.renderTask,o=r.context;o.model=e,o.ecModel=n,o.api=i,r.__block=!t.incrementalPrepareRender,this._pipe(e,r)},t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},t.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},t.prototype._performStageTasks=function(t,e,n,i){i=i||{};var r=!1,o=this;function a(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}Object(v.each)(t,function(t,s){if(!i.visualType||i.visualType===t.visualType){var l=o._stageTaskMap.get(t.uid),u=l.seriesTaskMap,c=l.overallTask;if(c){var h,d=c.agentStubMap;d.each(function(t){a(i,t)&&(t.dirty(),h=!0)}),h&&c.dirty(),o.updatePayload(c,n);var f=o.getPerformArgs(c,i.block);d.each(function(t){t.perform(f)}),c.perform(f)&&(r=!0)}else u&&u.each(function(s,l){a(i,s)&&s.dirty();var u=o.getPerformArgs(s,i.block);u.skip=!t.performRawSeries&&e.isSeriesFiltered(s.context.model),o.updatePayload(s,n),s.perform(u)&&(r=!0)})}}),this.unfinished=r||this.unfinished},t.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e=t.dataTask.perform()||e}),this.unfinished=e||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},t.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},t.prototype._createSeriesStageTask=function(t,e,n,i){var r=this,o=e.seriesTaskMap,a=e.seriesTaskMap=Object(v.createHashMap)(),s=t.seriesType,l=t.getTargetSeries;function u(e){var s=e.uid,l=a.set(s,o&&o.get(s)||rf({plan:Wp,reset:Hp,count:Jp}));l.context={model:e,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:r},r._pipe(e,l)}t.createOnAllSeries?n.eachRawSeries(u):s?n.eachRawSeriesByType(s,u):l&&l(n,i).each(u)},t.prototype._createOverallStageTask=function(t,e,n,i){var r=this,o=e.overallTask=e.overallTask||rf({reset:Bp});o.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:r};var a=o.agentStubMap,s=o.agentStubMap=Object(v.createHashMap)(),l=t.seriesType,u=t.getTargetSeries,c=!0,h=!1,d="";function f(t){var e=t.uid,n=s.set(e,a&&a.get(e)||(h=!0,rf({reset:Fp,onDirty:Vp})));n.context={model:t,overallProgress:c},n.agent=o,n.__block=c,r._pipe(t,n)}Object(v.assert)(!t.createOnAllSeries,d),l?n.eachRawSeriesByType(l,f):u?u(n,i).each(f):(c=!1,Object(v.each)(n.getSeries(),f)),h&&o.dirty()},t.prototype._pipe=function(t,e){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=e),i.tail&&i.tail.pipe(e),i.tail=e,e.__idxInPipeline=i.count++,e.__pipeline=i},t.wrapStageHandler=function(t,e){return Object(v.isFunction)(t)&&(t={overallReset:t,seriesType:function(t){Qp=null;try{t(Zp,$p)}catch(t){}return Qp}(t)}),t.uid=uc("stageHandler"),e&&(t.visualType=e),t},t}();function Bp(t){t.overallReset(t.ecModel,t.api,t.payload)}function Fp(t){return t.overallProgress&&Gp}function Gp(){this.agent.dirty(),this.getDownstream().dirty()}function Vp(){this.agent&&this.agent.dirty()}function Wp(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Hp(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=zi(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?Object(v.map)(e,function(t,e){return Yp(e)}):Up}var Up=Yp(0);function Yp(t){return function(e,n){var i=n.data,r=n.resetDefines[t];if(r&&r.dataEach)for(var o=e.start;o<e.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(e,i)}}function Jp(t){return t.data.count()}var Qp,Zp={},$p={};function Xp(t,e){for(var n in e.prototype)t[n]=v.noop}Xp(Zp,ed),Xp($p,id),Zp.eachSeriesByType=Zp.eachRawSeriesByType=function(t){Qp=t},Zp.eachComponent=function(t){"series"===t.mainType&&t.subType&&(Qp=t.subType)};var Kp=zp,qp=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],tg={color:qp,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],qp]},eg=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],ng={darkMode:!0,color:eg,backgroundColor:"#100C2A",axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:"#B9B8CE"}},textStyle:{color:"#B9B8CE"},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:"#B9B8CE"}},dataZoom:{borderColor:"#71708A",textStyle:{color:"#B9B8CE"},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:"#B9B8CE"}},timeline:{lineStyle:{color:"#B9B8CE"},label:{color:"#B9B8CE"},controlStyle:{color:"#B9B8CE",borderColor:"#B9B8CE"}},calendar:{itemStyle:{color:"#100C2A"},dayLabel:{color:"#B9B8CE"},monthLabel:{color:"#B9B8CE"},yearLabel:{color:"#B9B8CE"}},timeAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},logAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},valueAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},categoryAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},line:{symbol:"circle"},graph:{color:eg},gauge:{title:{color:"#B9B8CE"},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:"#B9B8CE"},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};ng.categoryAxis.splitLine.show=!1;var ig=ng,rg=function(){function t(){}return t.prototype.normalizeQuery=function(t){var e={},n={},i={};if(v.isString(t)){var r=ur(t);e.mainType=r.main||null,e.subType=r.sub||null}else{var o=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};v.each(t,function(t,r){for(var s=!1,l=0;l<o.length;l++){var u=o[l],c=r.lastIndexOf(u);if(c>0&&c===r.length-u.length){var h=r.slice(0,c);"data"!==h&&(e.mainType=h,e[u.toLowerCase()]=t,s=!0)}}a.hasOwnProperty(r)&&(n[r]=t,s=!0),s||(i[r]=t)})}return{cptQuery:e,dataQuery:n,otherQuery:i}},t.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,r=n.packedEvent,o=n.model,a=n.view;if(!o||!a)return!0;var s=e.cptQuery,l=e.dataQuery;return u(s,o,"mainType")&&u(s,o,"subType")&&u(s,o,"index","componentIndex")&&u(s,o,"name")&&u(s,o,"id")&&u(l,r,"name")&&u(l,r,"dataIndex")&&u(l,r,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,e.otherQuery,i,r));function u(t,e,n,i){return null==t[n]||e[i||n]===t[n]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),og=["symbol","symbolSize","symbolRotate","symbolOffset"],ag=og.concat(["symbolKeepAspect"]),sg={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual("legendIcon",t.legendIcon),t.hasSymbolVisual){for(var i={},r={},o=!1,a=0;a<og.length;a++){var s=og[a],l=t.get(s);Object(v.isFunction)(l)?(o=!0,r[s]=l):i[s]=l}if(i.symbol=i.symbol||t.defaultSymbol,n.setVisual(Object(v.extend)({legendIcon:t.legendIcon||i.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},i)),!e.isSeriesFiltered(t)){var u=Object(v.keys)(r);return{dataEach:o?function(e,n){for(var i=t.getRawValue(n),o=t.getDataParams(n),a=0;a<u.length;a++){var s=u[a];e.setItemVisual(n,s,r[s](i,o))}}:null}}}}},lg={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t))return{dataEach:t.getData().hasItemOption?function(t,e){for(var n=t.getItemModel(e),i=0;i<ag.length;i++){var r=ag[i],o=n.getShallow(r,!0);null!=o&&t.setItemVisual(e,r,o)}}:null}}};function ug(t,e,n){switch(n){case"color":return t.getItemVisual(e,"style")[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n);default:0}}function cg(t,e){switch(e){case"color":return t.getVisual("style")[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e);default:0}}function hg(t,e,n,i){switch(n){case"color":t.ensureUniqueItemVisual(e,"style")[t.getVisual("drawType")]=i,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,n,i);break;default:0}}function dg(t,e){Object(v.each)([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(n){e(n[0],function(e,i,r){e=Object(v.extend)({},e),r.dispatchAction(Object(v.extend)(e,{type:n[1],seriesIndex:function(e,n){var i=[];return e.eachComponent({mainType:"series",subType:t,query:n},function(t){i.push(t.seriesIndex)}),i}(i,e)}))})})}function fg(t,e,n,i,r){var o=t+e;n.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(t){for(var e=t.seriesIndex,i=t.option.selectedMap,a=r.selected,s=0;s<a.length;s++)if(a[s].seriesIndex===e){var l=t.getData(),u=Zi(l,r.fromActionPayload);n.trigger(o,{type:o,seriesId:t.id,name:Object(v.isArray)(u)?l.getName(u[0]):l.getName(u),selected:Object(v.isString)(i)?i:Object(v.extend)({},i)})}})}function pg(t,e,n){for(var i;t&&(!e(t)||(i=t,!n));)t=t.__hostTarget||t.parent;return i}var gg=Math.round(9*Math.random()),vg="function"==typeof Object.defineProperty,mg=function(){function t(){this._id="__ec_inner_"+gg++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,e){var n=this._guard(t);return vg?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},t.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},t}(),yg=Uo.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i+o),t.lineTo(n-r,i+o),t.closePath()}}),bg=Uo.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i),t.lineTo(n,i+o),t.lineTo(n-r,i),t.closePath()}}),xg=Uo.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,u=Math.asin(s/a),c=Math.cos(u)*a,h=Math.sin(u),d=Math.cos(u),f=.6*a,p=.7*a;t.moveTo(n-c,l+s),t.arc(n,l,a,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(n+c-h*f,l+s+d*f,n,i-p,n,i),t.bezierCurveTo(n,i-p,n-c+h*f,l+s+d*f,n-c,l+s),t.closePath()}}),wg=Uo.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,r=e.x,o=e.y,a=i/3*2;t.moveTo(r,o),t.lineTo(r+a,o+n),t.lineTo(r,o+n/4*3),t.lineTo(r-a,o+n),t.lineTo(r,o),t.closePath()}}),_g={line:kl,rect:aa,roundRect:aa,square:aa,circle:Qs,diamond:bg,pin:xg,arrow:wg,triangle:yg},Sg={line:function(t,e,n,i,r){r.x1=t,r.y1=e+i/2,r.x2=t+n,r.y2=e+i/2},rect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i},roundRect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(t,e,n,i,r){var o=Math.min(n,i);r.x=t,r.y=e,r.width=o,r.height=o},circle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.r=Math.min(n,i)/2},diamond:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i},pin:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},arrow:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},triangle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i}},Mg={};Object(v.each)(_g,function(t,e){Mg[e]=new t});var Cg=Uo.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var i=Gn(t,e,n),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===e.position&&(i.y=n.y+.4*n.height),i},buildPath:function(t,e,n){var i=e.symbolType;if("none"!==i){var r=Mg[i];r||(r=Mg[i="rect"]),Sg[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,n)}}});function Ig(t,e){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):"line"===this.shape.symbolType?n.stroke=t:n.fill=t,this.markRedraw()}}function kg(t,e,n,i,r,o,a){var s,l=0===t.indexOf("empty");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf("image://")?du(t.slice(8),new En(e,n,i,r),a?"center":"cover"):0===t.indexOf("path://")?hu(t.slice(7),{},new En(e,n,i,r),a?"center":"cover"):new Cg({shape:{symbolType:t,x:e,y:n,width:i,height:r}})).__isEmptyBrush=l,s.setColor=Ig,o&&s.setColor(o),s}function Tg(t){return Object(v.isArray)(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function Og(t,e){if(null!=t)return Object(v.isArray)(t)||(t=[t,t]),[hi(t[0],e[0])||0,hi(Object(v.retrieve2)(t[1],t[0]),e[1])||0]}function Eg(t,e,n){for(var i="radial"===e.type?function(t,e,n){var i=n.width,r=n.height,o=Math.min(i,r),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*i+n.x,s=s*r+n.y,l*=o),t.createRadialGradient(a,s,0,a,s,l)}(t,e,n):function(t,e,n){var i=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),i=isNaN(i)?0:i,r=isNaN(r)?1:r,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(i,o,r,a)}(t,e,n),r=e.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function Ag(t){return parseInt(t,10)}function Ng(t,e,n){var i=["width","height"][e],r=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=n[i]&&"auto"!==n[i])return parseFloat(n[i]);var s=document.defaultView.getComputedStyle(t);return(t[r]||Ag(s[i])||Ag(t.style[i]))-(Ag(s[o])||0)-(Ag(s[a])||0)|0}function Lg(t){var e,n,i=t.style,r=i.lineDash&&i.lineWidth>0&&(e=i.lineDash,n=i.lineWidth,e&&"solid"!==e&&n>0?"dashed"===e?[4*n,2*n]:"dotted"===e?[n]:Object(v.isNumber)(e)?[e]:Object(v.isArray)(e)?e:null:null),o=i.lineDashOffset;if(r){var a=i.strokeNoScale&&t.getLineScale?t.getLineScale():1;a&&1!==a&&(r=Object(v.map)(r,function(t){return t/a}),o/=a)}return[r,o]}var Dg=new Mo(!0);function jg(t){var e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))}function Pg(t){return"string"==typeof t&&"none"!==t}function Rg(t){var e=t.fill;return null!=e&&"none"!==e}function zg(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function Bg(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function Fg(t,e,n){var i=wr(e.image,e.__image,n);if(Sr(i)){var r=t.createPattern(i,e.repeat||"repeat");if("function"==typeof DOMMatrix&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(e.x||0,e.y||0),o.rotateSelf(0,0,(e.rotation||0)*v.RADIAN_TO_DEGREE),o.scaleSelf(e.scaleX||1,e.scaleY||1),r.setTransform(o)}return r}}var Gg=["shadowBlur","shadowOffsetX","shadowOffsetY"],Vg=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Wg(t,e,n,i,r){var o=!1;if(!i&&e===(n=n||{}))return!1;if(i||e.opacity!==n.opacity){$g(t,r),o=!0;var a=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(a)?Rr.opacity:a}(i||e.blend!==n.blend)&&(o||($g(t,r),o=!0),t.globalCompositeOperation=e.blend||Rr.blend);for(var s=0;s<Gg.length;s++){var l=Gg[s];(i||e[l]!==n[l])&&(o||($g(t,r),o=!0),t[l]=t.dpr*(e[l]||0))}return(i||e.shadowColor!==n.shadowColor)&&(o||($g(t,r),o=!0),t.shadowColor=e.shadowColor||Rr.shadowColor),o}function Hg(t,e,n,i,r){var o=Xg(e,r.inHover),a=i?null:n&&Xg(n,r.inHover)||{};if(o===a)return!1;var s=Wg(t,o,a,i,r);if((i||o.fill!==a.fill)&&(s||($g(t,r),s=!0),Pg(o.fill)&&(t.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(s||($g(t,r),s=!0),Pg(o.stroke)&&(t.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(s||($g(t,r),s=!0),t.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==l&&(s||($g(t,r),s=!0),t.lineWidth=l)}for(var u=0;u<Vg.length;u++){var c=Vg[u],h=c[0];(i||o[h]!==a[h])&&(s||($g(t,r),s=!0),t[h]=o[h]||c[1])}return s}function Ug(t,e){var n=e.transform,i=t.dpr||1;n?t.setTransform(i*n[0],i*n[1],i*n[2],i*n[3],i*n[4],i*n[5]):t.setTransform(i,0,0,i,0,0)}var Yg=1,Jg=2,Qg=3,Zg=4;function $g(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function Xg(t,e){return e&&t.__hoverStyle||t.style}function Kg(t,e){qg(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function qg(t,e,n,i){var r=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return e.__dirty&=~Et,void(e.__isRendered=!1);var o=e.__clipPaths,a=n.prevElClipPaths,s=!1,l=!1;if(a&&!function(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}(o,a)||(a&&a.length&&($g(t,n),t.restore(),l=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&($g(t,n),t.save(),function(t,e,n){for(var i=!1,r=0;r<t.length;r++){var o=t[r];i=i||o.isZeroArea(),Ug(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}n.allClipped=i}(o,t,n),s=!0),n.prevElClipPaths=o),n.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=n.prevEl;u||(l=s=!0);var c,h,d=e instanceof Uo&&e.autoBatch&&function(t){var e=Rg(t),n=jg(t);return!(t.lineDash||!(+e^+n)||e&&"string"!=typeof t.fill||n&&"string"!=typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}(e.style);s||(c=r,h=u.transform,c&&h?c[0]!==h[0]||c[1]!==h[1]||c[2]!==h[2]||c[3]!==h[3]||c[4]!==h[4]||c[5]!==h[5]:c||h)?($g(t,n),Ug(t,e)):d||$g(t,n);var f=Xg(e,n.inHover);e instanceof Uo?(n.lastDrawType!==Yg&&(l=!0,n.lastDrawType=Yg),Hg(t,e,u,l,n),d&&(n.batchFill||n.batchStroke)||t.beginPath(),function(t,e,n,i){var r,o=jg(n),a=Rg(n),s=n.strokePercent,l=s<1,u=!e.path;e.silent&&!l||!u||e.createPathProxy();var c=e.path||Dg,h=e.__dirty;if(!i){var d=n.fill,f=n.stroke,p=a&&!!d.colorStops,g=o&&!!f.colorStops,v=a&&!!d.image,m=o&&!!f.image,y=void 0,b=void 0,x=void 0,w=void 0,_=void 0;(p||g)&&(_=e.getBoundingRect()),p&&(y=h?Eg(t,d,_):e.__canvasFillGradient,e.__canvasFillGradient=y),g&&(b=h?Eg(t,f,_):e.__canvasStrokeGradient,e.__canvasStrokeGradient=b),v&&(x=h||!e.__canvasFillPattern?Fg(t,d,e):e.__canvasFillPattern,e.__canvasFillPattern=x),m&&(w=h||!e.__canvasStrokePattern?Fg(t,f,e):e.__canvasStrokePattern,e.__canvasStrokePattern=x),p?t.fillStyle=y:v&&(x?t.fillStyle=x:a=!1),g?t.strokeStyle=b:m&&(w?t.strokeStyle=w:o=!1)}var S,M,C=e.getGlobalScale();c.setScale(C[0],C[1],e.segmentIgnoreThreshold),t.setLineDash&&n.lineDash&&(S=(r=Lg(e))[0],M=r[1]);var I=!0;(u||h&At)&&(c.setDPR(t.dpr),l?c.setContext(null):(c.setContext(t),I=!1),c.reset(),e.buildPath(c,e.shape,i),c.toStatic(),e.pathUpdated()),I&&c.rebuildPath(t,l?s:1),S&&(t.setLineDash(S),t.lineDashOffset=M),i||(n.strokeFirst?(o&&Bg(t,n),a&&zg(t,n)):(a&&zg(t,n),o&&Bg(t,n))),S&&t.setLineDash([])}(t,e,f,d),d&&(n.batchFill=f.fill||"",n.batchStroke=f.stroke||"")):e instanceof Qo?(n.lastDrawType!==Qg&&(l=!0,n.lastDrawType=Qg),Hg(t,e,u,l,n),function(t,e,n){var i,r=n.text;if(null!=r&&(r+=""),r){t.font=n.font||Nn.a,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var o=void 0,a=void 0;t.setLineDash&&n.lineDash&&(o=(i=Lg(e))[0],a=i[1]),o&&(t.setLineDash(o),t.lineDashOffset=a),n.strokeFirst?(jg(n)&&t.strokeText(r,n.x,n.y),Rg(n)&&t.fillText(r,n.x,n.y)):(Rg(n)&&t.fillText(r,n.x,n.y),jg(n)&&t.strokeText(r,n.x,n.y)),o&&t.setLineDash([])}}(t,e,f)):e instanceof Ko?(n.lastDrawType!==Jg&&(l=!0,n.lastDrawType=Jg),function(t,e,n,i,r){Wg(t,Xg(e,r.inHover),n&&Xg(n,r.inHover),i,r)}(t,e,u,l,n),function(t,e,n){var i=e.__image=wr(n.image,e.__image,e,e.onload);if(i&&Sr(i)){var r=n.x||0,o=n.y||0,a=e.getWidth(),s=e.getHeight(),l=i.width/i.height;if(null==a&&null!=s?a=s*l:null==s&&null!=a?s=a/l:null==a&&null==s&&(a=i.width,s=i.height),n.sWidth&&n.sHeight){var u=n.sx||0,c=n.sy||0;t.drawImage(i,u,c,n.sWidth,n.sHeight,r,o,a,s)}else if(n.sx&&n.sy){var h=a-(u=n.sx),d=s-(c=n.sy);t.drawImage(i,u,c,h,d,r,o,a,s)}else t.drawImage(i,r,o,a,s)}}(t,e,f)):e.getTemporalDisplayables&&(n.lastDrawType!==Zg&&(l=!0,n.lastDrawType=Zg),function(t,e,n){var i=e.getDisplayables(),r=e.getTemporalDisplayables();t.save();var o,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(o=e.getCursor(),a=i.length;o<a;o++){var l=i[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),qg(t,l,s,o===a-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),s.prevEl=l}for(var u=0,c=r.length;u<c;u++){var l=r[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),qg(t,l,s,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),s.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}(t,e,n)),d&&i&&$g(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}}var tv=new mg,ev=new An.a(100),nv=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function iv(t,e){if("none"===t)return null;var n=e.getDevicePixelRatio(),i=e.getZr(),r="svg"===i.painter.type;t.dirty&&tv.delete(t);var o=tv.get(t);if(o)return o;var a=Object(v.defaults)(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:"repeat"};return function(t){for(var e,o=[n],s=!0,l=0;l<nv.length;++l){var u=a[nv[l]];if(null!=u&&!Object(v.isArray)(u)&&!Object(v.isString)(u)&&!Object(v.isNumber)(u)&&"boolean"!=typeof u){s=!1;break}o.push(u)}if(s){e=o.join(",")+(r?"-svg":"");var c=ev.get(e);c&&(r?t.svgElement=c:t.image=c)}var h,d=function t(e){if(!e||0===e.length)return[[0,0]];if(Object(v.isNumber)(e)){var n=Math.ceil(e);return[[n,n]]}var i=!0;for(var r=0;r<e.length;++r)if(!Object(v.isNumber)(e[r])){i=!1;break}if(i)return t([e]);var o=[];for(var r=0;r<e.length;++r)if(Object(v.isNumber)(e[r])){var n=Math.ceil(e[r]);o.push([n,n])}else{var n=Object(v.map)(e[r],function(t){return Math.ceil(t)});n.length%2==1?o.push(n.concat(n)):o.push(n)}return o}(a.dashArrayX),f=function(t){if(!t||"object"==typeof t&&0===t.length)return[0,0];if(Object(v.isNumber)(t)){var e=Math.ceil(t);return[e,e]}var n=Object(v.map)(t,function(t){return Math.ceil(t)});return t.length%2?n.concat(n):n}(a.dashArrayY),p=function t(e){if(!e||0===e.length)return[["rect"]];if(Object(v.isString)(e))return[[e]];var n=!0;for(var i=0;i<e.length;++i)if(!Object(v.isString)(e[i])){n=!1;break}if(n)return t([e]);var r=[];for(var i=0;i<e.length;++i)Object(v.isString)(e[i])?r.push([e[i]]):r.push(e[i]);return r}(a.symbol),g=(w=d,Object(v.map)(w,function(t){return rv(t)})),m=rv(f),y=!r&&Nn.d.createCanvas(),b=r&&{tag:"g",attrs:{},key:"dcl",children:[]},x=function(){for(var t=1,e=0,n=g.length;e<n;++e)t=Ni(t,g[e]);for(var i=1,e=0,n=p.length;e<n;++e)i=Ni(i,p[e].length);t*=i;var r=m*g.length*p.length;return{width:Math.max(1,Math.min(t,a.maxTileWidth)),height:Math.max(1,Math.min(r,a.maxTileHeight))}}();var w;y&&(y.width=x.width*n,y.height=x.height*n,h=y.getContext("2d"));(function(){h&&(h.clearRect(0,0,y.width,y.height),a.backgroundColor&&(h.fillStyle=a.backgroundColor,h.fillRect(0,0,y.width,y.height)));for(var t=0,e=0;e<f.length;++e)t+=f[e];if(!(t<=0))for(var o=-m,s=0,l=0,u=0;o<x.height;){if(s%2==0){for(var c=l/2%p.length,g=0,v=0,w=0;g<2*x.width;){for(var _=0,e=0;e<d[u].length;++e)_+=d[u][e];if(_<=0)break;if(v%2==0){var S=.5*(1-a.symbolSize),M=g+d[u][v]*S,C=o+f[s]*S,I=d[u][v]*a.symbolSize,k=f[s]*a.symbolSize,T=w/2%p[c].length;O(M,C,I,k,p[c][T])}g+=d[u][v],++w,++v===d[u].length&&(v=0)}++u===d.length&&(u=0)}o+=f[s],++l,++s===f.length&&(s=0)}function O(t,e,o,s,l){var u=r?1:n,c=kg(l,t*u,e*u,o*u,s*u,a.color,a.symbolKeepAspect);if(r){var d=i.painter.renderOneToVNode(c);d&&b.children.push(d)}else Kg(h,c)}})(),s&&ev.put(e,y||b);t.image=y,t.svgElement=b,t.svgWidth=x.width,t.svgHeight=x.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/n,tv.set(t,s),t.dirty=!1,s}function rv(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2==1?2*e:e}var ov=new Y,av={};function sv(t){return av[t]}var lv="undefined"!=typeof window,uv={zrender:"5.3.0"},cv=2e3,hv=1e3,dv=3e3,fv={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:hv,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:dv,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},pv=/^[a-zA-Z0-9_]+$/,gv="__connectUpdateStatus";function vv(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!this.isDisposed())return yv(this,t,e);Vv(this.id)}}function mv(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return yv(this,t,e)}}function yv(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),Y.prototype[e].apply(t,n)}var bv,xv,wv,_v,Sv,Mv,Cv,Iv,kv,Tv,Ov,Ev,Av,Nv,Lv,Dv,jv,Pv,Rv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e}(Y),zv=Rv.prototype;zv.on=mv("on"),zv.off=mv("off");var Bv=function(t){function e(e,n,i){var r=t.call(this,new rg)||this;r._chartsViews=[],r._chartsMap={},r._componentsViews=[],r._componentsMap={},r._pendingActions=[],i=i||{},Object(v.isString)(n)&&(n=Qv[n]),r._dom=e;var o="canvas",a=!1,s=r._zr=ni(e,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:null==i.useDirtyRect?a:i.useDirtyRect});r._ssr=i.ssr,r._throttledZrFlush=Cp(Object(v.bind)(s.flush,s),17),(n=Object(v.clone)(n))&&kd(n,!0),r._theme=n,r._locale=function(t){if(Object(v.isString)(t)){var e=pc[t.toUpperCase()]||{};return t===hc||t===dc?Object(v.clone)(e):Object(v.merge)(Object(v.clone)(e),Object(v.clone)(pc[fc]),!1)}return Object(v.merge)(Object(v.clone)(t),Object(v.clone)(pc[fc]),!1)}(i.locale||vc),r._coordSysMgr=new od;var l=r._api=Lv(r);function u(t,e){return t.__prio-e.__prio}return Ot(Jv,u),Ot(Uv,u),r._scheduler=new Kp(r,l,Uv,Jv),r._messageCenter=new Rv,r._initEvents(),r.resize=Object(v.bind)(r.resize,r),s.animation.on("frame",r._onframe,r),Tv(s,r),Ov(s,r),Object(v.setAsPrimitive)(r),r}return p(e,t),e.prototype._onframe=function(){if(!this._disposed){Pv(this);var t=this._scheduler;if(this.__pendingUpdate){var e=this.__pendingUpdate.silent;this.__flagInMainProcess=!0;try{bv(this),_v.update.call(this,null,this.__pendingUpdate.updateParams)}catch(t){throw this.__flagInMainProcess=!1,this.__pendingUpdate=null,t}this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,Iv.call(this,e),kv.call(this,e)}else if(t.unfinished){var n=1,i=this._model,r=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),Mv(this,i),t.performVisualTasks(i),Nv(this,this._model,r,"remain",{}),n-=+new Date-o}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,e,n){if(!this.__flagInMainProcess)if(this._disposed)Vv(this.id);else{var i,r,o;if(Object(v.isObject)(e)&&(n=e.lazyUpdate,i=e.silent,r=e.replaceMerge,o=e.transition,e=e.notMerge),this.__flagInMainProcess=!0,!this._model||e){var a=new ld(this._api),s=this._theme,l=this._model=new ed;l.scheduler=this._scheduler,l.ssr=this._ssr,l.init(null,null,null,s,this._locale,a)}this._model.setOption(t,{replaceMerge:r},Yv);var u={seriesTransition:o,optionChanged:!0};if(n)this.__pendingUpdate={silent:i,updateParams:u},this.__flagInMainProcess=!1,this.getZr().wakeUp();else{try{bv(this),_v.update.call(this,null,u)}catch(t){throw this.__pendingUpdate=null,this.__flagInMainProcess=!1,t}this._ssr||this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,Iv.call(this,i),kv.call(this,i)}}},e.prototype.setTheme=function(){Li()},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||lv&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var e=this._zr.painter;return e.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var e=this._zr.painter;return e.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(g.a.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return Object(v.each)(e,function(t){t.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,n=this._model,i=[],r=this;Object(v.each)(e,function(t){n.eachComponent({mainType:t},function(t){var e=r._componentsMap[t.__viewId];e.group.ignore||(i.push(e),e.group.ignore=!0)})});var o="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Object(v.each)(i,function(t){t.group.ignore=!1}),o}Vv(this.id)},e.prototype.getConnectedDataURL=function(t){if(!this._disposed){var e="svg"===t.type,n=this.group,i=Math.min,r=Math.max;if(Xv[n]){var o=1/0,a=1/0,s=-1/0,l=-1/0,u=[],c=t&&t.pixelRatio||this.getDevicePixelRatio();Object(v.each)($v,function(c,h){if(c.group===n){var d=e?c.getZr().painter.getSvgDom().innerHTML:c.renderToCanvas(Object(v.clone)(t)),f=c.getDom().getBoundingClientRect();o=i(f.left,o),a=i(f.top,a),s=r(f.right,s),l=r(f.bottom,l),u.push({dom:d,left:f.left,top:f.top})}});var h=(s*=c)-(o*=c),d=(l*=c)-(a*=c),f=Nn.d.createCanvas(),p=ni(f,{renderer:e?"svg":"canvas"});if(p.resize({width:h,height:d}),e){var g="";return Object(v.each)(u,function(t){var e=t.left-o,n=t.top-a;g+='<g transform="translate('+e+","+n+')">'+t.dom+"</g>"}),p.painter.getSvgRoot().innerHTML=g,t.connectedBackgroundColor&&p.painter.setBackgroundColor(t.connectedBackgroundColor),p.refreshImmediately(),p.painter.toDataURL()}return t.connectedBackgroundColor&&p.add(new aa({shape:{x:0,y:0,width:h,height:d},style:{fill:t.connectedBackgroundColor}})),Object(v.each)(u,function(t){var e=new Ko({style:{x:t.left*c-o,y:t.top*c-a,image:t.dom}});p.add(e)}),p.refreshImmediately(),f.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}Vv(this.id)},e.prototype.convertToPixel=function(t,e){return Sv(this,"convertToPixel",t,e)},e.prototype.convertFromPixel=function(t,e){return Sv(this,"convertFromPixel",t,e)},e.prototype.containPixel=function(t,e){if(!this._disposed){var n,i=Ki(this._model,t);return Object(v.each)(i,function(t,i){i.indexOf("Models")>=0&&Object(v.each)(t,function(t){var r=t.coordinateSystem;if(r&&r.containPoint)n=n||!!r.containPoint(e);else if("seriesModels"===i){var o=this._chartsMap[t.__viewId];o&&o.containPoint&&(n=n||o.containPoint(e,t))}else 0},this)},this),!!n}Vv(this.id)},e.prototype.getVisual=function(t,e){var n=Ki(this._model,t,{defaultMainType:"series"}),i=n.seriesModel;var r=i.getData(),o=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?r.indexOfRawIndex(n.dataIndex):null;return null!=o?ug(r,o,e):cg(r,e)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t,e,n,i=this;Object(v.each)(Gv,function(t){var e=function(e){var n,r=i.getModel(),o=e.target,a="globalout"===t;if(a?n={}:o&&pg(o,function(t){var e=Sa(t);if(e&&null!=e.dataIndex){var i=e.dataModel||r.getSeriesByIndex(e.seriesIndex);return n=i&&i.getDataParams(e.dataIndex,e.dataType)||{},!0}if(e.eventData)return n=Object(v.extend)({},e.eventData),!0},!0),n){var s=n.componentType,l=n.componentIndex;"markLine"!==s&&"markPoint"!==s&&"markArea"!==s||(s="series",l=n.seriesIndex);var u=s&&null!=l&&r.getComponent(s,l),c=u&&i["series"===u.mainType?"_chartsMap":"_componentsMap"][u.__viewId];0,n.event=e,n.type=t,i._$eventProcessor.eventInfo={targetEl:o,packedEvent:n,model:u,view:c},i.trigger(t,n)}};e.zrEventfulCallAtLast=!0,i._zr.on(t,e,i)}),Object(v.each)(Hv,function(t,e){i._messageCenter.on(e,function(t){this.trigger(e,t)},i)}),Object(v.each)(["selectchanged"],function(t){i._messageCenter.on(t,function(e){this.trigger(t,e)},i)}),t=this._messageCenter,e=this,n=this._api,t.on("selectchanged",function(t){var i=n.getModel();t.isFromClick?(fg("map","selectchanged",e,i,t),fg("pie","selectchanged",e,i,t)):"select"===t.fromAction?(fg("map","selected",e,i,t),fg("pie","selected",e,i,t)):"unselect"===t.fromAction&&(fg("map","unselected",e,i,t),fg("pie","unselected",e,i,t))})},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?Vv(this.id):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)Vv(this.id);else{this._disposed=!0,this.getDom()&&ir(this.getDom(),tm,"");var t=this._api,e=this._model;Object(v.each)(this._componentsViews,function(n){n.dispose(e,t)}),Object(v.each)(this._chartsViews,function(n){n.dispose(e,t)}),this._zr.dispose(),this._dom=this._model=this._chartsMap=this._componentsMap=this._chartsViews=this._componentsViews=this._scheduler=this._api=this._zr=this._throttledZrFlush=this._theme=this._coordSysMgr=this._messageCenter=null,delete $v[this.id]}},e.prototype.resize=function(t){if(!this.__flagInMainProcess)if(this._disposed)Vv(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),i=t&&t.silent;this.__pendingUpdate&&(null==i&&(i=this.__pendingUpdate.silent),n=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0;try{n&&bv(this),_v.update.call(this,{type:"resize",animation:Object(v.extend)({duration:0},t&&t.animation)})}catch(t){throw this.__flagInMainProcess=!1,t}this.__flagInMainProcess=!1,Iv.call(this,i),kv.call(this,i)}}},e.prototype.showLoading=function(t,e){if(this._disposed)Vv(this.id);else if(Object(v.isObject)(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Zv[t]){var n=Zv[t](this._api,e),i=this._zr;this._loadingFX=n,i.add(n)}},e.prototype.hideLoading=function(){this._disposed?Vv(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var e=Object(v.extend)({},t);return e.type=Hv[t.type],e},e.prototype.dispatchAction=function(t,e){if(this._disposed)Vv(this.id);else if(Object(v.isObject)(e)||(e={silent:!!e}),Wv[t.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(t);else{var n=e.silent;Cv.call(this,t,n);var i=e.flush;i?this._zr.flush():!1!==i&&g.a.browser.weChat&&this._throttledZrFlush(),Iv.call(this,n),kv.call(this,n)}},e.prototype.updateLabelLayout=function(){ov.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed)Vv(this.id);else{var e=t.seriesIndex,n=this.getModel().getSeriesByIndex(e);0,n.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function e(t){for(var e=[],n=t.currentStates,i=0;i<n.length;i++){var r=n[i];"emphasis"!==r&&"blur"!==r&&"select"!==r&&e.push(r)}t.selected&&t.states.select&&e.push("select"),t.hoverState===Aa&&t.states.emphasis?e.push("emphasis"):t.hoverState===Ea&&t.states.blur&&e.push("blur"),t.useStates(e)}function n(t,e){if(!t.preventAutoZ){var n=t.get("z")||0,i=t.get("zlevel")||0;e.eachRendered(function(t){return function t(e,n,i,r){var o=e.getTextContent();var a=e.getTextGuideLine();var s=e.isGroup;if(s)for(var l=e.childrenRef(),u=0;u<l.length;u++)r=Math.max(t(l[u],n,i,r),r);else e.z=n,e.zlevel=i,r=Math.max(e.z2,r);o&&(o.z=n,o.zlevel=i,isFinite(r)&&(o.z2=r+2));if(a){var c=e.textGuideLineConfig;a.z=n,a.zlevel=i,isFinite(r)&&(a.z2=r+(c&&c.showAbove?1:-1))}return r}(t,n,i,-1/0),!0})}}function i(t,e){e.eachRendered(function(t){if(!Kl(t)){var e=t.getTextContent(),n=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}})}function r(t,n){var i=t.getModel("stateAnimation"),r=t.isAnimationEnabled(),o=i.get("duration"),a=o>0?{duration:o,delay:i.get("delay"),easing:i.get("easing")}:null;n.eachRendered(function(t){if(t.states&&t.states.emphasis){if(Kl(t))return;if(t instanceof Uo&&function(t){var e=ka(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}(t),t.__dirty){var n=t.prevStates;n&&t.useStates(n)}if(r){t.stateTransition=a;var i=t.getTextContent(),o=t.getTextGuideLine();i&&(i.stateTransition=a),o&&(o.stateTransition=a)}t.__dirty&&e(t)}})}bv=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),xv(t,!0),xv(t,!1),e.plan()},xv=function(t,e){for(var n=t._model,i=t._scheduler,r=e?t._componentsViews:t._chartsViews,o=e?t._componentsMap:t._chartsMap,a=t._zr,s=t._api,l=0;l<r.length;l++)r[l].__alive=!1;function u(t){var l=t.__requireNewView;t.__requireNewView=!1;var u="_ec_"+t.id+"_"+t.type,c=!l&&o[u];if(!c){var h=ur(t.type),d=e?hp.getClass(h.main,h.sub):wp.getClass(h.sub);0,(c=new d).init(n,s),o[u]=c,r.push(c),a.add(c.group)}t.__viewId=c.__id=u,c.__alive=!0,c.__model=t,c.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!e&&i.prepareView(c,t,n,s)}e?n.eachComponent(function(t,e){"series"!==t&&u(e)}):n.eachSeries(u);for(l=0;l<r.length;){var c=r[l];c.__alive?l++:(!e&&c.renderTask.dispose(),a.remove(c.group),c.dispose(n,s),r.splice(l,1),o[c.__id]===c&&delete o[c.__id],c.__id=c.group.__ecComponentInfo=null)}},wv=function(t,e,n,i,r){var o=t._model;if(o.setUpdatePayload(n),i){var a={};a[i+"Id"]=n[i+"Id"],a[i+"Index"]=n[i+"Index"],a[i+"Name"]=n[i+"Name"];var s={mainType:i,query:a};r&&(s.subType=r);var l,u=n.excludeSeriesId;null!=u&&(l=Object(v.createHashMap)(),Object(v.each)(zi(u),function(t){var e=Yi(t,null);null!=e&&l.set(e,!0)})),o&&o.eachComponent(s,function(e){if(!(l&&null!==l.get(e.id)))if(Cs(n))if(e instanceof up)n.type!==Pa||n.notBlur||e.get(["emphasis","disabled"])||function(t,e,n){var i=t.seriesIndex,r=t.getData(e.dataType);if(r){var o=Zi(r,e);o=(Object(v.isArray)(o)?o[0]:o)||0;var a=r.getItemGraphicEl(o);if(!a)for(var s=r.count(),l=0;!a&&l<s;)a=r.getItemGraphicEl(l++);if(a){var u=Sa(a);ds(i,u.focus,u.blurScope,n)}else{var c=t.get(["emphasis","focus"]),h=t.get(["emphasis","blurScope"]);null!=c&&ds(i,c,h,n)}}}(e,n,t._api);else{var i=ps(e.mainType,e.componentIndex,n.name,t._api),r=i.focusSelf,o=i.dispatchers;n.type===Pa&&r&&!n.notBlur&&fs(e.mainType,e.componentIndex,t._api),o&&Object(v.each)(o,function(t){n.type===Pa?rs(t):os(t)})}else Ms(n)&&e instanceof up&&(!function(t,e,n){if(Ms(e)){var i=e.dataType,r=Zi(t.getData(i),e);Object(v.isArray)(r)||(r=[r]),t[e.type===Fa?"toggleSelect":e.type===za?"select":"unselect"](r,i)}}(e,n,t._api),gs(e),jv(t))},t),o&&o.eachComponent(s,function(e){l&&null!==l.get(e.id)||c(t["series"===i?"_chartsMap":"_componentsMap"][e.__viewId])},t)}else Object(v.each)([].concat(t._componentsViews).concat(t._chartsViews),c);function c(i){i&&i.__alive&&i[e]&&i[e](i.__model,o,t._api,n)}},_v={prepareAndUpdate:function(t){bv(this),_v.update.call(this,t,{optionChanged:null!=t.newOption})},update:function(e,n){var i=this._model,r=this._api,o=this._zr,a=this._coordSysMgr,s=this._scheduler;if(i){i.setUpdatePayload(e),s.restoreData(i,e),s.performSeriesTasks(i),a.create(i,r),s.performDataProcessorTasks(i,e),Mv(this,i),a.update(i,r),t(i),s.performVisualTasks(i,e),Ev(this,i,r,e,n);var l=i.get("backgroundColor")||"transparent",u=i.get("darkMode");o.setBackgroundColor(l),null!=u&&"auto"!==u&&o.setDarkMode(u),ov.trigger("afterupdate",i,r)}},updateTransform:function(e){var n=this,i=this._model,r=this._api;if(i){i.setUpdatePayload(e);var o=[];i.eachComponent(function(t,a){if("series"!==t){var s=n.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(a,i,r,e);l&&l.update&&o.push(s)}else o.push(s)}});var a=Object(v.createHashMap)();i.eachSeries(function(t){var o=n._chartsMap[t.__viewId];if(o.updateTransform){var s=o.updateTransform(t,i,r,e);s&&s.update&&a.set(t.uid,1)}else a.set(t.uid,1)}),t(i),this._scheduler.performVisualTasks(i,e,{setDirty:!0,dirtyMap:a}),Nv(this,i,r,e,{},a),ov.trigger("afterupdate",i,r)}},updateView:function(e){var n=this._model;n&&(n.setUpdatePayload(e),wp.markUpdateMethod(e,"updateView"),t(n),this._scheduler.performVisualTasks(n,e,{setDirty:!0}),Ev(this,n,this._api,e,{}),ov.trigger("afterupdate",n,this._api))},updateVisual:function(e){var n=this,i=this._model;i&&(i.setUpdatePayload(e),i.eachSeries(function(t){t.getData().clearAllVisual()}),wp.markUpdateMethod(e,"updateVisual"),t(i),this._scheduler.performVisualTasks(i,e,{visualType:"visual",setDirty:!0}),i.eachComponent(function(t,r){if("series"!==t){var o=n.getViewOfComponentModel(r);o&&o.__alive&&o.updateVisual(r,i,n._api,e)}}),i.eachSeries(function(t){n._chartsMap[t.__viewId].updateVisual(t,i,n._api,e)}),ov.trigger("afterupdate",i,this._api))},updateLayout:function(t){_v.update.call(this,t)}},Sv=function(t,e,n,i){if(t._disposed)Vv(t.id);else{for(var r,o=t._model,a=t._coordSysMgr.getCoordinateSystems(),s=Ki(o,n),l=0;l<a.length;l++){var u=a[l];if(u[e]&&null!=(r=u[e](o,s,i)))return r}0}},Mv=function(t,e){var n=t._chartsMap,i=t._scheduler;e.eachSeries(function(t){i.updateStreamModes(t,n[t.__viewId])})},Cv=function(t,e){var n=this,i=this.getModel(),r=t.type,o=t.escapeConnect,a=Wv[r],s=a.actionInfo,l=(s.update||"update").split(":"),u=l.pop(),c=null!=l[0]&&ur(l[0]);this.__flagInMainProcess=!0;var h=[t],d=!1;t.batch&&(d=!0,h=Object(v.map)(t.batch,function(e){return(e=Object(v.defaults)(Object(v.extend)({},e),t)).batch=null,e}));var f,p=[],g=Ms(t),m=Cs(t);if(m&&hs(this._api),Object(v.each)(h,function(e){if((f=(f=a.action(e,n._model,n._api))||Object(v.extend)({},e)).type=s.event||f.type,p.push(f),m){var i=qi(t),r=i.queryOptionMap,o=i.mainTypeSpecified?r.keys()[0]:"series";wv(n,u,e,o),jv(n)}else g?(wv(n,u,e,"series"),jv(n)):c&&wv(n,u,e,c.main,c.sub)}),"none"!==u&&!m&&!g&&!c)try{this.__pendingUpdate?(bv(this),_v.update.call(this,t),this.__pendingUpdate=null):_v[u].call(this,t)}catch(t){throw this.__flagInMainProcess=!1,t}if(f=d?{type:s.event||r,escapeConnect:o,batch:p}:p[0],this.__flagInMainProcess=!1,!e){var y=this._messageCenter;if(y.trigger(f.type,f),g){var b={type:"selectchanged",escapeConnect:o,selected:function(t){var e=[];return t.eachSeries(function(t){var n=t.getAllData();Object(v.each)(n,function(n){n.data;var i=n.type,r=t.getSelectedDataIndices();if(r.length>0){var o={dataIndex:r,seriesIndex:t.seriesIndex};null!=i&&(o.dataType=i),e.push(o)}})}),e}(i),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};y.trigger(b.type,b)}}},Iv=function(t){for(var e=this._pendingActions;e.length;){var n=e.shift();Cv.call(this,n,t)}},kv=function(t){!t&&this.trigger("updated")},Tv=function(t,e){t.on("rendered",function(n){e.trigger("rendered",n),!t.animation.isFinished()||e.__pendingUpdate||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")})},Ov=function(t,e){t.on("mouseover",function(t){var n=pg(t.target,Ss);n&&(!function(t,e,n){var i=Sa(t),r=ps(i.componentMainType,i.componentIndex,i.componentHighDownName,n),o=r.dispatchers,a=r.focusSelf;o?(a&&fs(i.componentMainType,i.componentIndex,n),Object(v.each)(o,function(t){return ns(t,e)})):(ds(i.seriesIndex,i.focus,i.blurScope,n),"self"===i.focus&&fs(i.componentMainType,i.componentIndex,n),ns(t,e))}(n,t,e._api),jv(e))}).on("mouseout",function(t){var n=pg(t.target,Ss);n&&(!function(t,e,n){hs(n);var i=Sa(t),r=ps(i.componentMainType,i.componentIndex,i.componentHighDownName,n).dispatchers;r?Object(v.each)(r,function(t){return is(t,e)}):is(t,e)}(n,t,e._api),jv(e))}).on("click",function(t){var n=pg(t.target,function(t){return null!=Sa(t).dataIndex},!0);if(n){var i=n.selected?"unselect":"select",r=Sa(n);e._api.dispatchAction({type:i,dataType:r.dataType,dataIndexInside:r.dataIndex,seriesIndex:r.seriesIndex,isFromClick:!0})}})},Ev=function(t,e,n,i,r){!function(t){var e=[],n=[],i=!1;if(t.eachComponent(function(t,r){var o=r.get("zlevel")||0,a=r.get("z")||0,s=r.getZLevelKey();i=i||!!s,("series"===t?n:e).push({zlevel:o,z:a,idx:r.componentIndex,type:t,key:s})}),i){var r,o,a=e.concat(n);Ot(a,function(t,e){return t.zlevel===e.zlevel?t.z-e.z:t.zlevel-e.zlevel}),Object(v.each)(a,function(e){var n=t.getComponent(e.type,e.idx),i=e.zlevel,a=e.key;null!=r&&(i=Math.max(r,i)),a?(i===r&&a!==o&&i++,o=a):o&&(i===r&&i++,o=""),r=i,n.setZLevel(i)})}}(e),Av(t,e,n,i,r),Object(v.each)(t._chartsViews,function(t){t.__alive=!1}),Nv(t,e,n,i,r),Object(v.each)(t._chartsViews,function(t){t.__alive||t.remove(e,n)})},Av=function(t,e,o,a,s,l){Object(v.each)(l||t._componentsViews,function(t){var s=t.__model;i(s,t),t.render(s,e,o,a),n(s,t),r(s,t)})},Nv=function(t,e,o,a,s,l){var u=t._scheduler;s=Object(v.extend)(s||{},{updatedSeries:e.getSeries()}),ov.trigger("series:beforeupdate",e,o,s);var c=!1;e.eachSeries(function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var r=n.renderTask;u.updatePayload(r,a),i(e,n),l&&l.get(e.uid)&&r.dirty(),r.perform(u.getPerformArgs(r))&&(c=!0),n.group.silent=!!e.get("silent"),function(t,e){var n=t.get("blendMode")||null;e.eachRendered(function(t){t.isGroup||(t.style.blend=n)})}(e,n),gs(e)}),u.unfinished=c||u.unfinished,ov.trigger("series:layoutlabels",e,o,s),ov.trigger("series:transition",e,o,s),e.eachSeries(function(e){var i=t._chartsMap[e.__viewId];n(e,i),r(e,i)}),function(t,e){var n=0;t._zr.storage.traverse(function(t){t.isGroup||n++}),n>e.get("hoverLayerThreshold")&&!g.a.node&&!g.a.worker&&e.eachSeries(function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.eachRendered(function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)})}})}(t,e),ov.trigger("series:afterupdate",e,o,s)},jv=function(t){t.__needsUpdateStatus=!0,t.getZr().wakeUp()},Pv=function(t){t.__needsUpdateStatus&&(t.getZr().storage.traverse(function(t){Kl(t)||e(t)}),t.__needsUpdateStatus=!1)},Lv=function(t){return new(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return p(n,e),n.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}},n.prototype.enterEmphasis=function(e,n){rs(e,n),jv(t)},n.prototype.leaveEmphasis=function(e,n){os(e,n),jv(t)},n.prototype.enterBlur=function(e){as(e),jv(t)},n.prototype.leaveBlur=function(e){ss(e),jv(t)},n.prototype.enterSelect=function(e){ls(e),jv(t)},n.prototype.leaveSelect=function(e){us(e),jv(t)},n.prototype.getModel=function(){return t.getModel()},n.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)},n.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)},n}(id))(t)},Dv=function(t){function e(t,e){for(var n=0;n<t.length;n++){t[n][gv]=e}}Object(v.each)(Hv,function(n,i){t._messageCenter.on(i,function(n){if(Xv[t.group]&&0!==t[gv]){if(n&&n.escapeConnect)return;var i=t.makeActionFromEvent(n),r=[];Object(v.each)($v,function(e){e!==t&&e.group===t.group&&r.push(e)}),e(r,0),Object(v.each)(r,function(t){1!==t[gv]&&t.dispatchAction(i)}),e(r,2)}})})}}(),e}(Y),Fv=Bv.prototype;Fv.on=vv("on"),Fv.off=vv("off"),Fv.one=function(t,e,n){var i=this;Li(),this.on.call(this,t,function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];e&&e.apply&&e.apply(this,r),i.off(t,n)},n)};var Gv=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function Vv(t){0}var Wv={},Hv={},Uv=[],Yv=[],Jv=[],Qv={},Zv={},$v={},Xv={},Kv=+new Date-0,qv=+new Date-0,tm="_echarts_instance_";function em(t,e,n){var i=!(n&&n.ssr);if(i){0;var r=am(t);if(r)return r;0}var o=new Bv(t,e,n);return o.id="ec_"+Kv++,$v[o.id]=o,i&&ir(t,tm,o.id),Dv(o),ov.trigger("afterinit",o),o}function nm(t){if(Object(v.isArray)(t)){var e=t;t=null,Object(v.each)(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+qv++,Object(v.each)(e,function(e){e.group=t})}return Xv[t]=!0,t}function im(t){Xv[t]=!1}var rm=im;function om(t){Object(v.isString)(t)?t=$v[t]:t instanceof Bv||(t=am(t)),t instanceof Bv&&!t.isDisposed()&&t.dispose()}function am(t){return $v[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(t,tm)]}function sm(t){return $v[t]}function lm(t,e){Qv[t]=e}function um(t){Object(v.indexOf)(Yv,t)<0&&Yv.push(t)}function cm(t,e){xm(Uv,t,e,cv)}function hm(t){fm("afterinit",t)}function dm(t){fm("afterupdate",t)}function fm(t,e){ov.on(t,e)}function pm(t,e,n){Object(v.isFunction)(e)&&(n=e,e="");var i=Object(v.isObject)(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,Hv[e]||(Object(v.assert)(pv.test(i)&&pv.test(e)),Wv[i]||(Wv[i]={action:n,actionInfo:t}),Hv[e]=i)}function gm(t,e){od.register(t,e)}function vm(t){var e=od.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function mm(t,e){xm(Jv,t,e,hv,"layout")}function ym(t,e){xm(Jv,t,e,dv,"visual")}var bm=[];function xm(t,e,n,i,r){if((Object(v.isFunction)(e)||Object(v.isObject)(e))&&(n=e,e=i),!(Object(v.indexOf)(bm,n)>=0)){bm.push(n);var o=Kp.wrapStageHandler(n,r);o.__prio=e,o.__raw=n,t.push(o)}}function wm(t,e){Zv[t]=e}function _m(t){Object(Nn.e)({createCanvas:t})}function Sm(t,e,n){var i=sv("registerMap");i&&i(t,e,n)}function Mm(t){var e=sv("getMap");return e&&e(t)}var Cm=function(t){var e=(t=Object(v.clone)(t)).type,n="";e||Di(n);var i=e.split(":");2!==i.length&&Di(n);var r=!1;"echarts"===i[0]&&(e=i[1],r=!0),t.__isBuiltIn=r,xf.set(e,t)};ym(2e3,Lp),ym(4500,jp),ym(4500,Pp),ym(2e3,sg),ym(4500,lg),ym(7e3,function(t,e){t.eachRawSeries(function(n){if(!t.isSeriesFiltered(n)){var i=n.getData();i.hasItemVisual()&&i.each(function(t){var n=i.getItemVisual(t,"decal");n&&(i.ensureUniqueItemVisual(t,"style").decal=iv(n,e))});var r=i.getVisual("decal");r&&(i.getVisual("style").decal=iv(r,e))}})}),um(kd),cm(900,function(t){var e=Object(v.createHashMap)();t.eachSeries(function(t){var n=t.get("stack");if(n){var i=e.get(n)||e.set(n,[]),r=t.getData(),o={stackResultDimension:r.getCalculationInfo("stackResultDimension"),stackedOverDimension:r.getCalculationInfo("stackedOverDimension"),stackedDimension:r.getCalculationInfo("stackedDimension"),stackedByDimension:r.getCalculationInfo("stackedByDimension"),isStackedByIndex:r.getCalculationInfo("isStackedByIndex"),data:r,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;i.length&&r.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}}),e.each(Td)}),wm("default",function(t,e){e=e||{},v.defaults(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Kn,i=new aa({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(i);var r,o=new _a({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new aa({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return n.add(a),e.showSpinner&&((r=new jl({shape:{startAngle:-Rp/2,endAngle:-Rp/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Rp/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*Rp/2}).delay(300).start("circularInOut"),n.add(r)),n.resize=function(){var n=o.getBoundingRect().width,s=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-2*s-(e.showSpinner&&n?10:0)-n)/2-(e.showSpinner&&n?0:5+n/2)+(e.showSpinner?0:n/2)+(n?0:s),u=t.getHeight()/2;e.showSpinner&&r.setShape({cx:l,cy:u}),a.setShape({x:l-s,y:u-s,width:2*s,height:2*s}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n}),pm({type:Pa,event:Pa,update:Pa},v.noop),pm({type:Ra,event:Ra,update:Ra},v.noop),pm({type:za,event:za,update:za},v.noop),pm({type:Ba,event:Ba,update:Ba},v.noop),pm({type:Fa,event:Fa,update:Fa},v.noop),lm("light",tg),lm("dark",ig);var Im={},km=[],Tm={registerPreprocessor:um,registerProcessor:cm,registerPostInit:hm,registerPostUpdate:dm,registerUpdateLifecycle:fm,registerAction:pm,registerCoordinateSystem:gm,registerLayout:mm,registerVisual:ym,registerTransform:Cm,registerLoading:wm,registerMap:Sm,registerImpl:function(t,e){av[t]=e},PRIORITY:fv,ComponentModel:_h,ComponentView:hp,SeriesModel:up,ChartView:wp,registerComponentModel:function(t){_h.registerClass(t)},registerComponentView:function(t){hp.registerClass(t)},registerSeriesModel:function(t){up.registerClass(t)},registerChartView:function(t){wp.registerClass(t)},registerSubTypeDefaulter:function(t,e){_h.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){ai(t,e)}};function Om(t){Object(v.isArray)(t)?Object(v.each)(t,function(t){Om(t)}):Object(v.indexOf)(km,t)>=0||(km.push(t),Object(v.isFunction)(t)&&(t={install:t}),t.install(Tm))}function Em(t){return null==t?0:t.length||1}function Am(t){return t}var Nm=function(){function t(t,e,n,i,r,o){this._old=t,this._new=e,this._oldKeyGetter=n||Am,this._newKeyGetter=i||Am,this.context=r,this._diffModeMultiple="multiple"===o}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},i=new Array(t.length),r=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,n,r,"_newKeyGetter");for(var o=0;o<t.length;o++){var a=i[o],s=n[a],l=Em(s);if(l>1){var u=s.shift();1===s.length&&(n[a]=s[0]),this._update&&this._update(u,o)}else 1===l?(n[a]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o)}this._performRestAdd(r,n)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},i={},r=[],o=[];this._initIndexMap(t,n,r,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var a=0;a<r.length;a++){var s=r[a],l=n[s],u=i[s],c=Em(l),h=Em(u);if(c>1&&1===h)this._updateManyToOne&&this._updateManyToOne(u,l),i[s]=null;else if(1===c&&h>1)this._updateOneToMany&&this._updateOneToMany(u,l),i[s]=null;else if(1===c&&1===h)this._update&&this._update(u,l),i[s]=null;else if(c>1&&h>1)this._updateManyToMany&&this._updateManyToMany(u,l),i[s]=null;else if(c>1)for(var d=0;d<c;d++)this._remove&&this._remove(l[d]);else this._remove&&this._remove(l)}this._performRestAdd(o,i)},t.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[i],o=Em(r);if(o>1)for(var a=0;a<o;a++)this._add&&this._add(r[a]);else 1===o&&this._add&&this._add(r);e[i]=null}},t.prototype._initIndexMap=function(t,e,n,i){for(var r=this._diffModeMultiple,o=0;o<t.length;o++){var a="_ec_"+this[i](t[o],o);if(r||(n[o]=a),e){var s=e[a],l=Em(s);0===l?(e[a]=o,r&&n.push(a)):1===l?e[a]=[s,o]:s.push(o)}}},t}(),Lm=function(){function t(t,e){this._encode=t,this._schema=e}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function Dm(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function jm(t){return"category"===t?"ordinal":"time"===t?"time":"float"}var Pm=function(){return function(t){this.otherDims={},null!=t&&v.extend(this,t)}}(),Rm=$i(),zm={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Bm=function(){function t(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=Vm(this.source)))},t.prototype.getSourceDimensionIndex=function(t){return Object(v.retrieve2)(this._dimNameMap.get(t),-1)},t.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},t.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=Gd(this.source),n=!Wm(t),i="",r=[],o=0,a=0;o<t;o++){var s=void 0,l=void 0,u=void 0,c=this.dimensions[a];if(c&&c.storeDimIndex===o)s=e?c.name:null,l=c.type,u=c.ordinalMeta,a++;else{var h=this.getSourceDimension(o);h&&(s=e?h.name:null,l=h.type)}r.push({property:s,type:l,ordinalMeta:u}),!e||null==s||c&&c.isCalculationCoord||(i+=n?s.replace(/\`/g,"`1").replace(/\$/g,"`2"):s),i+="$",i+=zm[l]||"f",u&&(i+=u.uid),i+="$"}var d=this.source;return{dimensions:r,hash:[d.seriesLayoutBy,d.startIndex,i].join("$$")}},t.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var i=void 0,r=this.dimensions[n];if(r&&r.storeDimIndex===e)r.isCalculationCoord||(i=r.name),n++;else{var o=this.getSourceDimension(e);o&&(i=o.name)}t.push(i)}return t},t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function Fm(t){return t instanceof Bm}function Gm(t){for(var e=Object(v.createHashMap)(),n=0;n<(t||[]).length;n++){var i=t[n],r=Object(v.isObject)(i)?i.name:i;null!=r&&null==e.get(r)&&e.set(r,n)}return e}function Vm(t){var e=Rm(t);return e.dimNameMap||(e.dimNameMap=Gm(t.dimensionsDefine))}function Wm(t){return t>30}var Hm,Um,Ym,Jm,Qm,Zm,$m,Xm=v.isObject,Km=v.map,qm="undefined"==typeof Int32Array?Array:Int32Array,ty=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],ey=["_approximateExtent"],ny=function(){function t(t,e){var n;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i=!1;Fm(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||["x","y"];for(var r={},o=[],a={},s=!1,l={},u=0;u<n.length;u++){var c=n[u],h=v.isString(c)?new Pm({name:c}):c instanceof Pm?c:new Pm(c),d=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=d,h.coordDimIndex=0);var f=h.otherDims=h.otherDims||{};o.push(d),r[d]=h,null!=l[d]&&(s=!0),h.createInvertedIndices&&(a[d]=[]),0===f.itemName&&(this._nameDimIdx=u),0===f.itemId&&(this._idDimIdx=u),i&&(h.storeDimIndex=u)}if(this.dimensions=o,this._dimInfos=r,this._initGetDimensionInfo(s),this.hostModel=e,this._invertedIndicesMap=a,this._dimOmitted){var p=this._dimIdxToName=v.createHashMap();v.each(o,function(t){p.set(r[t].storeDimIndex,t)})}}return t.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(null!=n)return n;var i=this._schema.getSourceDimension(e);return i?i.name:void 0},t.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},t.prototype._recognizeDimIndex=function(t){if(v.isNumber(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},t.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},t.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(t){return e.hasOwnProperty(t)?e[t]:void 0}:function(t){return e[t]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[e]:null},t.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(t,e,n){var i,r=this;if(t instanceof Af&&(i=t),!i){var o=this.dimensions,a=jd(t)||v.isArrayLike(t)?new Vd(t,o.length):t;i=new Af;var s=Km(o,function(t){return{type:r._dimInfos[t].type,property:t}});i.initData(a,s,n)}this._store=i,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=function(t,e){var n={},i=n.encode={},r=Object(v.createHashMap)(),o=[],a=[],s={};Object(v.each)(t.dimensions,function(e){var n,l=t.getDimensionInfo(e),u=l.coordDim;if(u){var c=l.coordDimIndex;Dm(i,u)[c]=e,l.isExtraCoord||(r.set(u,1),"ordinal"!==(n=l.type)&&"time"!==n&&(o[0]=e),Dm(s,u)[c]=t.getDimensionIndex(l.name)),l.defaultTooltip&&a.push(e)}Ih.each(function(t,e){var n=Dm(i,e),r=l.otherDims[e];null!=r&&!1!==r&&(n[r]=l.name)})});var l=[],u={};r.each(function(t,e){var n=i[e];u[e]=n[0],l=l.concat(n)}),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=Object(v.map)(l,function(e){return t.getDimensionInfo(e).storeDimIndex}),n.encodeFirstDimNotExtra=u;var c=i.label;c&&c.length&&(o=c.slice());var h=i.tooltip;return h&&h.length?a=h.slice():a.length||(a=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=a,n.userOutput=new Lm(s,e),n}(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},t.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e.length),i=n.start,r=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var a=i;a<r;a++){var s=a-i;this._nameList[a]=e[s],o&&$m(this,a)}},t.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var i=this._dimInfos[e[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==Ah&&!t.fillStorage},t.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store.getProvider();this._updateOrdinalMeta();var i=this._nameList,r=this._idList;if(n.getSource().sourceFormat===kh&&!n.pure)for(var o=[],a=t;a<e;a++){var s=n.getItem(a,o);if(!this.hasItemOption&&Vi(s)&&(this.hasItemOption=!0),s){var l=s.name;null==i[a]&&null!=l&&(i[a]=Yi(l,null));var u=s.id;null==r[a]&&null!=u&&(r[a]=Yi(u,null))}}if(this._shouldMakeIdFromName())for(a=t;a<e;a++)$m(this,a);Hm(this)}},t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){Xm(t)?v.extend(this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return null==n&&null!=this._nameDimIdx&&(n=Ym(this,this._nameDimIdx,e)),null==n&&(n=""),n},t.prototype._getCategory=function(t,e){var n=this._store.get(t,e),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},t.prototype.getId=function(t){return Um(this,this.getRawIndex(t))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,e)},t.prototype.getByRawIndex=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,e)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},t.prototype.getValues=function(t,e){var n=this,i=this._store;return v.isArray(t)?i.getValues(Km(t,function(t){return n._getStoreDimIndex(t)}),e):i.getValues(t)},t.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},t.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},t.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t];var i=n[e];return null==i||isNaN(i)?-1:i},t.prototype.indicesOfNearest=function(t,e,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,n)},t.prototype.each=function(t,e,n){v.isFunction(t)&&(n=e,e=t,t=[]);var i=n||this,r=Km(Jm(t),this._getStoreDimIndex,this);this._store.each(r,i?v.bind(e,i):e)},t.prototype.filterSelf=function(t,e,n){v.isFunction(t)&&(n=e,e=t,t=[]);var i=n||this,r=Km(Jm(t),this._getStoreDimIndex,this);return this._store=this._store.filter(r,i?v.bind(e,i):e),this},t.prototype.selectRange=function(t){var e=this,n={},i=v.keys(t),r=[];return v.each(i,function(i){var o=e._getStoreDimIndex(i);n[o]=t[i],r.push(o)}),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(t,e,n){v.isFunction(t)&&(n=e,e=t,t=[]),n=n||this;var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},n),i},t.prototype.map=function(t,e,n,i){var r=n||i||this,o=Km(Jm(t),this._getStoreDimIndex,this),a=Zm(this);return a._store=this._store.map(o,r?v.bind(e,r):e),a},t.prototype.modify=function(t,e,n,i){var r=n||i||this;var o=Km(Jm(t),this._getStoreDimIndex,this);this._store.modify(o,r?v.bind(e,r):e)},t.prototype.downSample=function(t,e,n,i){var r=Zm(this);return r._store=this._store.downSample(this._getStoreDimIndex(t),e,n,i),r},t.prototype.lttbDownSample=function(t,e){var n=Zm(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},t.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new sc(n,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new Nm(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(e){return Um(t,e)},function(t){return Um(e,t)})},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},Xm(t)?v.extend(this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],i=n&&n[e];return null==i?this.getVisual(e):i},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var r=i[e];return null==r&&(r=this.getVisual(e),v.isArray(r)?r=r.slice():Xm(r)&&(r=v.extend({},r)),i[e]=r),r},t.prototype.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,Xm(e)?v.extend(i,e):i[e]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){Xm(t)?v.extend(this._layout,t):this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?v.extend(this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel&&this.hostModel.seriesIndex;Ma(n,this.dataType,t,e),this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){v.each(this._graphicEls,function(n,i){n&&t&&t.call(e,n,i)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:Km(this.dimensions,this._getDimInfo,this),this.hostModel)),Qm(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(t,e){var n=this[t];v.isFunction(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(v.slice(arguments)))})},t.internalField=(Hm=function(t){var e=t._invertedIndicesMap;v.each(e,function(n,i){var r=t._dimInfos[i],o=r.ordinalMeta,a=t._store;if(o){n=e[i]=new qm(o.categories.length);for(var s=0;s<n.length;s++)n[s]=-1;for(s=0;s<a.count();s++)n[a.get(r.storeDimIndex,s)]=s}})},Ym=function(t,e,n){return Yi(t._getCategory(e,n),null)},Um=function(t,e){var n=t._idList[e];return null==n&&null!=t._idDimIdx&&(n=Ym(t,t._idDimIdx,e)),null==n&&(n="e\0\0"+e),n},Jm=function(t){return v.isArray(t)||(t=null!=t?[t]:[]),t},Zm=function(e){var n=new t(e._schema?e._schema:Km(e.dimensions,e._getDimInfo,e),e.hostModel);return Qm(n,e),n},Qm=function(t,e){v.each(ty.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,v.each(ey,function(n){t[n]=v.clone(e[n])}),t._calculationInfo=v.extend({},e._calculationInfo)},void($m=function(t,e){var n=t._nameList,i=t._idList,r=t._nameDimIdx,o=t._idDimIdx,a=n[e],s=i[e];if(null==a&&null!=r&&(n[e]=a=Ym(t,r,e)),null==s&&null!=o&&(i[e]=s=Ym(t,o,e)),null==s&&null!=a){var l=t._nameRepeatCount,u=l[a]=(l[a]||0)+1;s=a,u>1&&(s+="__ec__"+u),i[e]=s}})),t}();function iy(t,e){return ry(t,e).dimensions}function ry(t,e){jd(t)||(t=Rd(t));var n=(e=e||{}).coordDimensions||[],i=e.dimensionsDefine||t.dimensionsDefine||[],r=Object(v.createHashMap)(),o=[],a=function(t,e,n,i){var r=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,i||0);return Object(v.each)(e,function(t){var e;Object(v.isObject)(t)&&(e=t.dimsDef)&&(r=Math.max(r,e.length))}),r}(t,n,i,e.dimensionsCount),s=e.canOmitUnusedDimensions&&Wm(a),l=i===t.dimensionsDefine,u=l?Vm(t):Gm(i),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(t,a));for(var h=Object(v.createHashMap)(c),d=new If(a),f=0;f<d.length;f++)d[f]=-1;function p(t){var e=d[t];if(e<0){var n=i[t],r=Object(v.isObject)(n)?n:{name:n},a=new Pm,s=r.name;null!=s&&null!=u.get(s)&&(a.name=a.displayName=s),null!=r.type&&(a.type=r.type),null!=r.displayName&&(a.displayName=r.displayName);var l=o.length;return d[t]=l,a.storeDimIndex=t,o.push(a),a}return o[e]}if(!s)for(f=0;f<a;f++)p(f);h.each(function(t,e){var n=zi(t).slice();if(1===n.length&&!Object(v.isString)(n[0])&&n[0]<0)h.set(e,!1);else{var i=h.set(e,[]);Object(v.each)(n,function(t,n){var r=Object(v.isString)(t)?u.get(t):t;null!=r&&r<a&&(i[n]=r,m(p(r),e,n))})}});var g=0;function m(t,e,n){null!=Ih.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,r.set(e,!0))}Object(v.each)(n,function(t){var e,n,i,r;if(Object(v.isString)(t))e=t,r={};else{e=(r=t).name;var o=r.ordinalMeta;r.ordinalMeta=null,(r=Object(v.extend)({},r)).ordinalMeta=o,n=r.dimsDef,i=r.otherDims,r.name=r.coordDim=r.coordDimIndex=r.dimsDef=r.otherDims=null}var s=h.get(e);if(!1!==s){if(!(s=zi(s)).length)for(var u=0;u<(n&&n.length||1);u++){for(;g<a&&null!=p(g).coordDim;)g++;g<a&&s.push(g++)}Object(v.each)(s,function(t,o){var a=p(t);if(l&&null!=r.type&&(a.type=r.type),m(Object(v.defaults)(a,r),e,o),null==a.name&&n){var s=n[o];!Object(v.isObject)(s)&&(s={name:s}),a.name=a.displayName=s.name,a.defaultTooltip=s.defaultTooltip}i&&Object(v.defaults)(a.otherDims,i)})}});var y=e.generateCoord,b=e.generateCoordCount,x=null!=b;b=y?b||1:0;var w=y||"value";function _(t){null==t.name&&(t.name=t.coordDim)}if(s)Object(v.each)(o,function(t){_(t)}),o.sort(function(t,e){return t.storeDimIndex-e.storeDimIndex});else for(var S=0;S<a;S++){var M=p(S);null==M.coordDim&&(M.coordDim=oy(w,r,x),M.coordDimIndex=0,(!y||b<=0)&&(M.isExtraCoord=!0),b--),_(M),null!=M.type||Fh(t,S)!==jh.Must&&(!M.isExtraCoord||null==M.otherDims.itemName&&null==M.otherDims.seriesName)||(M.type="ordinal")}return function(t){for(var e=Object(v.createHashMap)(),n=0;n<t.length;n++){var i=t[n],r=i.name,o=e.get(r)||0;o>0&&(i.name=r+(o-1)),o++,e.set(r,o)}}(o),new Bm({source:t,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function oy(t,e,n){var i=e.data;if(n||i.hasOwnProperty(t)){for(var r=0;i.hasOwnProperty(t+r);)r++;t+=r}return e.set(t,!0),t}var ay=function(){return function(t){this.coordSysDims=[],this.axisMap=Object(v.createHashMap)(),this.categoryAxisMap=Object(v.createHashMap)(),this.coordSysName=t}}();var sy={cartesian2d:function(t,e,n,i){var r=t.getReferringComponents("xAxis",tr).models[0],o=t.getReferringComponents("yAxis",tr).models[0];e.coordSysDims=["x","y"],n.set("x",r),n.set("y",o),ly(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),ly(o)&&(i.set("y",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,i){var r=t.getReferringComponents("singleAxis",tr).models[0];e.coordSysDims=["single"],n.set("single",r),ly(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var r=t.getReferringComponents("polar",tr).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),ly(o)&&(i.set("radius",o),e.firstCategoryDimIndex=0),ly(a)&&(i.set("angle",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,i){var r=t.ecModel,o=r.getComponent("parallel",t.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();Object(v.each)(o.parallelAxisIndex,function(t,o){var s=r.getComponent("parallelAxis",t),l=a[o];n.set(l,s),ly(s)&&(i.set(l,s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=o))})}};function ly(t){return"category"===t.get("type")}function uy(t,e,n){var i,r,o,a=(n=n||{}).byIndex,s=n.stackedCoordDimension;!function(t){return!Fm(t.schema)}(e)?(r=e.schema,i=r.dimensions,o=e.store):i=e;var l,u,c,h,d=!(!t||!t.get("stack"));if(Object(v.each)(i,function(t,e){Object(v.isString)(t)&&(i[e]=t={name:t}),d&&!t.isExtraCoord&&(a||l||!t.ordinalMeta||(l=t),u||"ordinal"===t.type||"time"===t.type||s&&s!==t.coordDim||(u=t))}),!u||a||l||(a=!0),u){c="__\0ecstackresult_"+t.id,h="__\0ecstackedover_"+t.id,l&&(l.createInvertedIndices=!0);var f=u.coordDim,p=u.type,g=0;Object(v.each)(i,function(t){t.coordDim===f&&g++});var m={name:c,coordDim:f,coordDimIndex:g,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},y={name:h,coordDim:h,coordDimIndex:g+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};r?(o&&(m.storeDimIndex=o.ensureCalculationDimension(h,p),y.storeDimIndex=o.ensureCalculationDimension(c,p)),r.appendCalculationDimension(m),r.appendCalculationDimension(y)):(i.push(m),i.push(y))}return{stackedDimension:u&&u.name,stackedByDimension:l&&l.name,isStackedByIndex:a,stackedOverDimension:h,stackResultDimension:c}}function cy(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function hy(t,e){return cy(t,e)?t.getCalculationInfo("stackResultDimension"):e}var dy=function(t,e,n){n=n||{};var i,r=e.getSourceManager(),o=!1;t?(o=!0,i=Rd(t)):o=(i=r.getSource()).sourceFormat===kh;var a=function(t){var e=t.get("coordinateSystem"),n=new ay(e),i=sy[e];if(i)return i(t,n,n.axisMap,n.categoryAxisMap),n}(e),s=function(t,e){var n,i=t.get("coordinateSystem"),r=od.get(i);return e&&e.coordSysDims&&(n=v.map(e.coordSysDims,function(t){var n={name:t},i=e.axisMap.get(t);if(i){var r=i.get("type");n.type=jm(r)}return n})),n||(n=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),n}(e,a),l=n.useEncodeDefaulter,u=v.isFunction(l)?l:l?v.curry(Rh,s,e):null,c=ry(i,{coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!o}),h=function(t,e,n){var i,r;return n&&v.each(t,function(t,o){var a=t.coordDim,s=n.categoryAxisMap.get(a);s&&(null==i&&(i=o),t.ordinalMeta=s.getOrdinalMeta(),e&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(r=!0)}),r||null==i||(t[i].otherDims.itemName=0),i}(c.dimensions,n.createInvertedIndices,a),d=o?null:r.getSharedDataStore(c),f=uy(e,{schema:c,store:d}),p=new ny(c,e);p.setCalculationInfo(f);var g=null!=h&&function(t){if(t.sourceFormat===kh){var e=function(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return!v.isArray(Gi(e))}}(i)?function(t,e,n,i){return i===h?n:this.defaultDimValueGetter(t,e,n,i)}:null;return p.hasItemOption=!1,p.initData(o?i:d,null,g),p},fy=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();gr(fy);var py=fy,gy=0;function vy(t){return Object(v.isObject)(t)&&null!=t.value?t.value:t+""}var my=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++gy}return t.createByAxisModel=function(e){var n=e.option,i=n.data,r=i&&Object(v.map)(i,vy);return new t({categories:r,needCollect:!r,deduplication:!1!==n.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!Object(v.isString)(t)&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var i=this._getOrCreateMap();return null==(e=i.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=Object(v.createHashMap)(this.categories))},t}();function yy(t){return"interval"===t.type||"log"===t.type}function by(t,e,n,i){var r={},o=t[1]-t[0],a=r.interval=Ii(o/e,!0);null!=n&&a<n&&(a=r.interval=n),null!=i&&a>i&&(a=r.interval=i);var s=r.intervalPrecision=wy(a);return function(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),_y(t,0,e),_y(t,1,e),t[0]>t[1]&&(t[0]=t[1])}(r.niceTickExtent=[di(Math.ceil(t[0]/a)*a,s),di(Math.floor(t[1]/a)*a,s)],t),r}function xy(t){var e=Math.pow(10,Ci(t)),n=t/e;return n?2===n?n=3:3===n?n=5:n*=2:n=1,di(n*e)}function wy(t){return pi(t)+2}function _y(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function Sy(t,e){return t>=e[0]&&t<=e[1]}function My(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function Cy(t,e){return t*(e[1]-e[0])+e[0]}var Iy=function(t){function e(e){var n=t.call(this,e)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new my({})),Object(v.isArray)(i)&&(i=new my({categories:Object(v.map)(i,function(t){return Object(v.isObject)(t)?t.value:t})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return p(e,t),e.prototype.parse=function(t){return Object(v.isString)(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return Sy(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return My(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(Cy(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push({value:n}),n++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,n=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],r=0,o=this._ordinalMeta.categories.length,a=Math.min(o,e.length);r<a;++r){var s=e[r];n[r]=s,i[s]=r}for(var l=0;r<o;++r){for(;null!=i[l];)l++;n.push(l),i[l]=r}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),n=this._ordinalMeta.categories[e];return null==n?"":n+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(py);py.registerClass(Iy);var ky=Iy,Ty=di,Oy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return p(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return Sy(t,this._extent)},e.prototype.normalize=function(t){return My(t,this._extent)},e.prototype.scale=function(t){return Cy(t,this._extent)},e.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=wy(t)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,i=this._niceExtent,r=this._intervalPrecision,o=[];if(!e)return o;n[0]<i[0]&&(t?o.push({value:Ty(i[0]-e,r)}):o.push({value:n[0]}));for(var a=i[0];a<=i[1]&&(o.push({value:a}),(a=Ty(a+e,r))!==o[o.length-1].value);)if(o.length>1e4)return[];var s=o.length?o[o.length-1].value:i[1];return n[1]>s&&(t?o.push({value:Ty(s+e,r)}):o.push({value:n[1]})),o},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),n=[],i=this.getExtent(),r=1;r<e.length;r++){for(var o=e[r],a=e[r-1],s=0,l=[],u=(o.value-a.value)/t;s<t-1;){var c=Ty(a.value+(s+1)*u);c>i[0]&&c<i[1]&&l.push(c),s++}n.push(l)}return n},e.prototype.getLabel=function(t,e){if(null==t)return"";var n=e&&e.precision;return null==n?n=pi(t.value)||0:"auto"===n&&(n=this._intervalPrecision),Qc(Ty(t.value,n,!0))},e.prototype.calcNiceTicks=function(t,e,n){t=t||5;var i=this._extent,r=i[1]-i[0];if(isFinite(r)){r<0&&(r=-r,i.reverse());var o=by(i,t,e,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax?e[0]-=n/2:(e[1]+=n/2,e[0]-=n/2)}else e[1]=1;var i=e[1]-e[0];isFinite(i)||(e[0]=0,e[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=Ty(Math.floor(e[0]/r)*r)),t.fixMax||(e[1]=Ty(Math.ceil(e[1]/r)*r))},e.prototype.setNiceExtent=function(t,e){this._niceExtent=[t,e]},e.type="interval",e}(py);py.registerClass(Oy);var Ey=Oy,Ay="undefined"!=typeof Float32Array,Ny=Ay?Float32Array:Array;function Ly(t){return Object(v.isArray)(t)?Ay?new Float32Array(t):t:new Ny(t)}var Dy="__ec_stack_";function jy(t){return t.get("stack")||Dy+t.seriesIndex}function Py(t){return t.dim+t.index}function Ry(t,e){var n=[];return e.eachSeriesByType(t,function(t){Vy(t)&&n.push(t)}),n}function zy(t){var e=function(t){var e={};Object(v.each)(t,function(t){var n=t.coordinateSystem.getBaseAxis();if("time"===n.type||"value"===n.type)for(var i=t.getData(),r=n.dim+"_"+n.index,o=i.getDimensionIndex(i.mapDimension(n.dim)),a=i.getStore(),s=0,l=a.count();s<l;++s){var u=a.get(o,s);e[r]?e[r].push(u):e[r]=[u]}});var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(r){r.sort(function(t,e){return t-e});for(var o=null,a=1;a<r.length;++a){var s=r[a]-r[a-1];s>0&&(o=null===o?s:Math.min(o,s))}n[i]=o}}return n}(t),n=[];return Object(v.each)(t,function(t){var i,r=t.coordinateSystem.getBaseAxis(),o=r.getExtent();if("category"===r.type)i=r.getBandWidth();else if("value"===r.type||"time"===r.type){var a=r.dim+"_"+r.index,s=e[a],l=Math.abs(o[1]-o[0]),u=r.scale.getExtent(),c=Math.abs(u[1]-u[0]);i=s?l/c*s:l}else{var h=t.getData();i=Math.abs(o[1]-o[0])/h.count()}var d=hi(t.get("barWidth"),i),f=hi(t.get("barMaxWidth"),i),p=hi(t.get("barMinWidth")||(Wy(t)?.5:1),i),g=t.get("barGap"),v=t.get("barCategoryGap");n.push({bandWidth:i,barWidth:d,barMaxWidth:f,barMinWidth:p,barGap:g,barCategoryGap:v,axisKey:Py(r),stackId:jy(t)})}),By(n)}function By(t){var e={};Object(v.each)(t,function(t,n){var i=t.axisKey,r=t.bandWidth,o=e[i]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},a=o.stacks;e[i]=o;var s=t.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!a[s].width&&(a[s].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var u=t.barMaxWidth;u&&(a[s].maxWidth=u);var c=t.barMinWidth;c&&(a[s].minWidth=c);var h=t.barGap;null!=h&&(o.gap=h);var d=t.barCategoryGap;null!=d&&(o.categoryGap=d)});var n={};return Object(v.each)(e,function(t,e){n[e]={};var i=t.stacks,r=t.bandWidth,o=t.categoryGap;if(null==o){var a=Object(v.keys)(i).length;o=Math.max(35-4*a,15)+"%"}var s=hi(o,r),l=hi(t.gap,1),u=t.remainedWidth,c=t.autoWidthCount,h=(u-s)/(c+(c-1)*l);h=Math.max(h,0),Object(v.each)(i,function(t){var e=t.maxWidth,n=t.minWidth;if(t.width){i=t.width;e&&(i=Math.min(i,e)),n&&(i=Math.max(i,n)),t.width=i,u-=i+l*i,c--}else{var i=h;e&&e<i&&(i=Math.min(e,u)),n&&n>i&&(i=n),i!==h&&(t.width=i,u-=i+l*i,c--)}}),h=(u-s)/(c+(c-1)*l),h=Math.max(h,0);var d,f=0;Object(v.each)(i,function(t,e){t.width||(t.width=h),d=t,f+=t.width*(1+l)}),d&&(f-=d.width*l);var p=-f/2;Object(v.each)(i,function(t,i){n[e][i]=n[e][i]||{bandWidth:r,offset:p,width:t.width},p+=t.width*(1+l)})}),n}function Fy(t,e){var n=Ry(t,e),i=zy(n);Object(v.each)(n,function(t){var e=t.getData(),n=t.coordinateSystem.getBaseAxis(),r=jy(t),o=i[Py(n)][r],a=o.offset,s=o.width;e.setLayout({bandWidth:o.bandWidth,offset:a,size:s})})}function Gy(t){return{seriesType:t,plan:dp(),reset:function(t){if(Vy(t)){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),r=n.getOtherAxis(i),o=e.getDimensionIndex(e.mapDimension(r.dim)),a=e.getDimensionIndex(e.mapDimension(i.dim)),s=t.get("showBackground",!0),l=e.mapDimension(r.dim),u=e.getCalculationInfo("stackResultDimension"),c=cy(e,l)&&!!e.getCalculationInfo("stackedOnSeries"),h=r.isHorizontal(),d=function(t,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}(0,r),f=Wy(t),p=t.get("barMinHeight")||0,g=u&&e.getDimensionIndex(u),v=e.getLayout("size"),m=e.getLayout("offset");return{progress:function(t,e){for(var i,r=t.count,l=f&&Ly(3*r),u=f&&s&&Ly(3*r),y=f&&Ly(r),b=n.master.getRect(),x=h?b.width:b.height,w=e.getStore(),_=0;null!=(i=t.next());){var S=w.get(c?g:o,i),M=w.get(a,i),C=d,I=void 0;c&&(I=+S-w.get(o,i));var k=void 0,T=void 0,O=void 0,E=void 0;if(h){var A=n.dataToPoint([S,M]);if(c)C=n.dataToPoint([I,M])[0];k=C,T=A[1]+m,O=A[0]-C,E=v,Math.abs(O)<p&&(O=(O<0?-1:1)*p)}else{A=n.dataToPoint([M,S]);if(c)C=n.dataToPoint([M,I])[1];k=A[0]+m,T=C,O=v,E=A[1]-C,Math.abs(E)<p&&(E=(E<=0?-1:1)*p)}f?(l[_]=k,l[_+1]=T,l[_+2]=h?O:E,u&&(u[_]=h?b.x:k,u[_+1]=h?T:b.y,u[_+2]=x),y[i]=i):e.setItemLayout(i,{x:k,y:T,width:O,height:E}),_+=3}f&&e.setLayout({largePoints:l,largeDataIndices:y,largeBackgroundPoints:u,valueAxisHorizontal:h})}}}}}}function Vy(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Wy(t){return t.pipelineContext&&t.pipelineContext.large}var Hy=function(t){function e(e){var n=t.call(this,e)||this;return n.type="time",n}return p(e,t),e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return Ec(t.value,Cc[function(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Oc(this._minLevelUnit))]||Cc.second,e,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,e,n){var i=this.getSetting("useUTC");return function(t,e,n,i,r){var o=null;if(v.isString(n))o=n;else if(v.isFunction(n))o=n(t.value,e,{level:t.level});else{var a=v.extend({},Mc);if(t.level>0)for(var s=0;s<Ic.length;++s)a[Ic[s]]="{primary|"+a[Ic[s]]+"}";var l=n?!1===n.inherit?n:v.defaults(n,a):a,u=Ac(t.value,r);if(l[u])o=l[u];else if(l.inherit){for(s=kc.indexOf(u)-1;s>=0;--s)if(l[u]){o=l[u];break}o=o||a.none}if(v.isArray(o)){var c=null==t.level?0:t.level>=0?t.level:o.length+t.level;o=o[c=Math.min(c,o.length-1)]}}return Ec(new Date(t.value),o,r,i)}(t,e,n,this.getSetting("locale"),i)},e.prototype.getTicks=function(){var t=this._interval,e=this._extent,n=[];if(!t)return n;n.push({value:e[0],level:0});var i=this.getSetting("useUTC"),r=function(t,e,n,i){var r=kc,o=0;function a(t,e,n,r,o,a,s){for(var l=new Date(e),u=e,c=l[r]();u<n&&u<=i[1];)s.push({value:u}),c+=t,l[o](c),u=l.getTime();s.push({value:u,notAdd:!0})}function s(t,r,o){var s=[],l=!r.length;if(!function(t,e,n,i){var r=Si(e),o=Si(n),a=function(t){return Nc(r,t,i)===Nc(o,t,i)},s=function(){return a("year")},l=function(){return s()&&a("month")},u=function(){return l()&&a("day")},c=function(){return u()&&a("hour")},h=function(){return c()&&a("minute")},d=function(){return h()&&a("second")};switch(t){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return h();case"second":return d();case"millisecond":return d()&&a("millisecond")}}(Oc(t),i[0],i[1],n)){l&&(r=[{value:function(t,e,n){var i=new Date(t);switch(Oc(e)){case"year":case"month":i[Gc(n)](0);case"day":i[Vc(n)](1);case"hour":i[Wc(n)](0);case"minute":i[Hc(n)](0);case"second":i[Uc(n)](0),i[Yc(n)](0)}return i.getTime()}(new Date(i[0]),t,n)},{value:i[1]}]);for(var u=0;u<r.length-1;u++){var c=r[u].value,h=r[u+1].value;if(c!==h){var d=void 0,f=void 0,p=void 0,g=!1;switch(t){case"year":d=Math.max(1,Math.round(e/_c/365)),f=Lc(n),p=Fc(n);break;case"half-year":case"quarter":case"month":d=Jy(e),f=Dc(n),p=Gc(n);break;case"week":case"half-week":case"day":d=Yy(e,31),f=jc(n),p=Vc(n),g=!0;break;case"half-day":case"quarter-day":case"hour":d=Qy(e),f=Pc(n),p=Wc(n);break;case"minute":d=Zy(e,!0),f=Rc(n),p=Hc(n);break;case"second":d=Zy(e,!1),f=zc(n),p=Uc(n);break;case"millisecond":d=$y(e),f=Bc(n),p=Yc(n)}a(d,c,h,f,p,g,s),"year"===t&&o.length>1&&0===u&&o.unshift({value:o[0].value-d})}}for(var u=0;u<s.length;u++)o.push(s[u]);return s}}for(var l=[],u=[],c=0,h=0,d=0;d<r.length&&o++<1e4;++d){var f=Oc(r[d]);if((x=r[d])===Oc(x)){s(r[d],l[l.length-1]||[],u);var p=r[d+1]?Oc(r[d+1]):null;if(f!==p){if(u.length){h=c,u.sort(function(t,e){return t.value-e.value});for(var g=[],m=0;m<u.length;++m){var y=u[m].value;0!==m&&u[m-1].value===y||(g.push(u[m]),y>=i[0]&&y<=i[1]&&c++)}var b=(i[1]-i[0])/e;if(c>1.5*b&&h>b/1.5)break;if(l.push(g),c>b||t===r[d])break}u=[]}}}var x;0;for(var w=Object(v.filter)(Object(v.map)(l,function(t){return Object(v.filter)(t,function(t){return t.value>=i[0]&&t.value<=i[1]&&!t.notAdd})}),function(t){return t.length>0}),_=[],S=w.length-1,d=0;d<w.length;++d)for(var M=w[d],C=0;C<M.length;++C)_.push({value:M[C].value,level:S-d});_.sort(function(t,e){return t.value-e.value});for(var I=[],d=0;d<_.length;++d)0!==d&&_[d].value===_[d-1].value||I.push(_[d]);return I}(this._minLevelUnit,this._approxInterval,i,e);return(n=n.concat(r)).push({value:e[1],level:0}),n},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=_c,e[1]+=_c),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-_c}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,e,n){t=t||10;var i=this._extent,r=i[1]-i[0];this._approxInterval=r/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var o=Uy.length,a=Math.min(function(t,e,n,i){for(;n<i;){var r=n+i>>>1;t[r][1]<e?n=r+1:i=r}return n}(Uy,this._approxInterval,0,o),o-1);this._interval=Uy[a][1],this._minLevelUnit=Uy[Math.max(a-1,0)][0]},e.prototype.parse=function(t){return Object(v.isNumber)(t)?t:+Si(t)},e.prototype.contain=function(t){return Sy(this.parse(t),this._extent)},e.prototype.normalize=function(t){return My(this.parse(t),this._extent)},e.prototype.scale=function(t){return Cy(t,this._extent)},e.type="time",e}(Ey),Uy=[["second",bc],["minute",xc],["hour",wc],["quarter-day",6*wc],["half-day",12*wc],["day",1.2*_c],["half-week",3.5*_c],["week",7*_c],["month",31*_c],["quarter",95*_c],["half-year",Sc/2],["year",Sc]];function Yy(t,e){return(t/=_c)>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function Jy(t){return(t/=30*_c)>6?6:t>3?3:t>2?2:1}function Qy(t){return(t/=wc)>12?12:t>6?6:t>3.5?4:t>2?2:1}function Zy(t,e){return(t/=e?xc:bc)>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function $y(t){return Ii(t,!0)}py.registerClass(Hy);var Xy=Hy,Ky=py.prototype,qy=Ey.prototype,tb=di,eb=Math.floor,nb=Math.ceil,ib=Math.pow,rb=Math.log,ob=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new Ey,e._interval=0,e}return p(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,n=this._extent,i=e.getExtent(),r=qy.getTicks.call(this,t);return v.map(r,function(t){var e=t.value,r=di(ib(this.base,e));return r=e===n[0]&&this._fixMin?sb(r,i[0]):r,{value:r=e===n[1]&&this._fixMax?sb(r,i[1]):r}},this)},e.prototype.setExtent=function(t,e){var n=this.base;t=rb(t)/rb(n),e=rb(e)/rb(n),qy.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=Ky.getExtent.call(this);e[0]=ib(t,e[0]),e[1]=ib(t,e[1]);var n=this._originalScale.getExtent();return this._fixMin&&(e[0]=sb(e[0],n[0])),this._fixMax&&(e[1]=sb(e[1],n[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=rb(t[0])/rb(e),t[1]=rb(t[1])/rb(e),Ky.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.calcNiceTicks=function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var i=Mi(n);for(t/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var r=[di(nb(e[0]/i)*i),di(eb(e[1]/i)*i)];this._interval=i,this._niceExtent=r}},e.prototype.calcNiceExtent=function(t){qy.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return Sy(t=rb(t)/rb(this.base),this._extent)},e.prototype.normalize=function(t){return My(t=rb(t)/rb(this.base),this._extent)},e.prototype.scale=function(t){return t=Cy(t,this._extent),ib(this.base,t)},e.type="log",e}(py),ab=ob.prototype;function sb(t,e){return tb(t,pi(e))}ab.getMinorTicks=qy.getMinorTicks,ab.getLabel=qy.getLabel,py.registerClass(ob);var lb=ob,ub=function(){function t(t,e,n){this._prepareParams(t,e,n)}return t.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var r=this._modelMinRaw=e.get("min",!0);Object(v.isFunction)(r)?this._modelMinNum=fb(t,r({min:n[0],max:n[1]})):"dataMin"!==r&&(this._modelMinNum=fb(t,r));var o=this._modelMaxRaw=e.get("max",!0);if(Object(v.isFunction)(o)?this._modelMaxNum=fb(t,o({min:n[0],max:n[1]})):"dataMax"!==o&&(this._modelMaxNum=fb(t,o)),i)this._axisDataLen=e.getCategories().length;else{var a=e.get("boundaryGap"),s=Object(v.isArray)(a)?a:[a||0,a||0];"boolean"==typeof s[0]||"boolean"==typeof s[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Fn(s[0],1),Fn(s[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,i=this._axisDataLen,r=this._boundaryGapInner,o=t?null:n-e||Math.abs(e),a="dataMin"===this._modelMinRaw?e:this._modelMinNum,s="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,l=null!=a,u=null!=s;null==a&&(a=t?i?0:NaN:e-r[0]*o),null==s&&(s=t?i?i-1:NaN:n+r[1]*o),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN);var c=Object(v.eqNaN)(a)||Object(v.eqNaN)(s)||t&&!i;this._needCrossZero&&(a>0&&s>0&&!l&&(a=0),a<0&&s<0&&!u&&(s=0));var h=this._determinedMin,d=this._determinedMax;return null!=h&&(a=h,l=!0),null!=d&&(s=d,u=!0),{min:a,max:s,minFixed:l,maxFixed:u,isBlank:c}},t.prototype.modifyDataMinMax=function(t,e){this[hb[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){var n=cb[t];this[n]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),cb={min:"_determinedMin",max:"_determinedMax"},hb={min:"_dataMin",max:"_dataMax"};function db(t,e,n){var i=t.rawExtentInfo;return i||(i=new ub(t,e,n),t.rawExtentInfo=i,i)}function fb(t,e){return null==e?null:Object(v.eqNaN)(e)?NaN:t.parse(e)}function pb(t,e){var n=t.type,i=db(t,e,t.getExtent()).calculate();t.setBlank(i.isBlank);var r=i.min,o=i.max,a=e.ecModel;if(a&&"time"===n){var s=Ry("bar",a),l=!1;if(v.each(s,function(t){l=l||t.getBaseAxis()===e.axis}),l){var u=zy(s),c=function(t,e,n,i){var r=n.axis.getExtent(),o=r[1]-r[0],a=function(t,e,n){if(t&&e){var i=t[Py(e)];return null!=i&&null!=n?i[jy(n)]:i}}(i,n.axis);if(void 0===a)return{min:t,max:e};var s=1/0;v.each(a,function(t){s=Math.min(t.offset,s)});var l=-1/0;v.each(a,function(t){l=Math.max(t.offset+t.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=e-t,h=c/(1-(s+l)/o)-c;return{min:t-=h*(s/u),max:e+=h*(l/u)}}(r,o,e,u);r=c.min,o=c.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function gb(t,e){var n=e,i=pb(t,n),r=i.extent,o=n.get("splitNumber");t instanceof lb&&(t.base=n.get("logBase"));var a=t.type,s=n.get("interval"),l="interval"===a||"time"===a;t.setExtent(r[0],r[1]),t.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?n.get("minInterval"):null,maxInterval:l?n.get("maxInterval"):null}),null!=s&&t.setInterval&&t.setInterval(s)}function vb(t,e){if(e=e||t.get("type"))switch(e){case"category":return new ky({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new Xy({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(py.getClass(e)||Ey)}}function mb(t){var e,n,i=t.getLabelModel().get("formatter"),r="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?(n=i,function(e,i){return t.scale.getFormattedLabel(e,i,n)}):v.isString(i)?function(e){return function(n){var i=t.scale.getLabel(n);return e.replace("{value}",null!=i?i:"")}}(i):v.isFunction(i)?(e=i,function(n,i){return null!=r&&(i=n.value-r),e(yb(t,n),i,null!=n.level?{level:n.level}:null)}):function(e){return t.scale.getLabel(e)}}function yb(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function bb(t){var e=t.get("interval");return null==e?"auto":e}function xb(t){return"category"===t.type&&0===bb(t.getLabelModel())}function wb(t,e){var n={};return v.each(t.mapDimensionsAll(e),function(e){n[hy(t,e)]=!0}),v.keys(n)}var _b=function(){function t(){}return t.prototype.getNeedCrossZero=function(){return!this.option.scale},t.prototype.getCoordSysModel=function(){},t}();function Sb(t){return dy(null,t)}var Mb={isDimensionStacked:cy,enableDataStack:uy,getStackedDimension:hy};function Cb(t,e){var n=e;e instanceof sc||(n=new sc(e));var i=vb(n);return i.setExtent(t[0],t[1]),gb(i,n),i}function Ib(t){v.mixin(t,_b)}function kb(t,e){return zu(t,null,null,"normal"!==(e=e||{}).state)}var Tb=1e-8;function Ob(t,e){return Math.abs(t-e)<Tb}function Eb(t,e,n){var i=0,r=t[0];if(!r)return!1;for(var o=1;o<t.length;o++){var a=t[o];i+=No(r[0],r[1],a[0],a[1],e,n),r=a}var s=t[0];return Ob(r[0],s[0])&&Ob(r[1],s[1])||(i+=No(r[0],r[1],s[0],s[1],e,n)),0!==i}var Ab=[];function Nb(t,e){for(var n=0;n<t.length;n++)G(t[n],t[n],e)}function Lb(t,e,n,i){for(var r=0;r<t.length;r++){var o=t[r];i&&(o=i.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(V(e,e,o),W(n,n,o))}}var Db=function(){function t(t){this.name=t}return t.prototype.setCenter=function(t){this._center=t},t.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},t}(),jb=function(){return function(t,e){this.type="polygon",this.exterior=t,this.interiors=e}}(),Pb=function(){return function(t){this.type="linestring",this.points=t}}(),Rb=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.type="geoJSON",r.geometries=n,r._center=i&&[i[0],i[1]],r}return p(e,t),e.prototype.calcCenter=function(){for(var t,e=this.geometries,n=0,i=0;i<e.length;i++){var r=e[i],o=r.exterior,a=o&&o.length;a>n&&(t=r,n=a)}if(t)return function(t){for(var e=0,n=0,i=0,r=t.length,o=t[r-1][0],a=t[r-1][1],s=0;s<r;s++){var l=t[s][0],u=t[s][1],c=o*u-l*a;e+=c,n+=(o+l)*c,i+=(a+u)*c,o=l,a=u}return e?[n/e/3,i/e/3,e]:[t[0][0]||0,t[0][1]||0]}(t.exterior);var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]},e.prototype.getBoundingRect=function(t){var e=this._rect;if(e&&!t)return e;var n=[1/0,1/0],i=[-1/0,-1/0],r=this.geometries;return Object(v.each)(r,function(e){"polygon"===e.type?Lb(e.exterior,n,i,t):Object(v.each)(e.points,function(e){Lb(e,n,i,t)})}),isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])||(n[0]=n[1]=i[0]=i[1]=0),e=new En(n[0],n[1],i[0]-n[0],i[1]-n[1]),t||(this._rect=e),e},e.prototype.contain=function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var i=0,r=n.length;i<r;i++){var o=n[i];if("polygon"===o.type){var a=o.exterior,s=o.interiors;if(Eb(a,t[0],t[1])){for(var l=0;l<(s?s.length:0);l++)if(Eb(s[l],t[0],t[1]))continue t;return!0}}}return!1},e.prototype.transformTo=function(t,e,n,i){var r=this.getBoundingRect(),o=r.width/r.height;n?i||(i=n/o):n=o*i;for(var a=new En(t,e,n,i),s=r.calculateTransform(a),l=this.geometries,u=0;u<l.length;u++){var c=l[u];"polygon"===c.type?(Nb(c.exterior,s),Object(v.each)(c.interiors,function(t){Nb(t,s)})):Object(v.each)(c.points,function(t){Nb(t,s)})}(r=this._rect).copy(a),this._center=[r.x+r.width/2,r.y+r.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var n=new e(t,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},e}(Db),zb=function(t){function e(e,n){var i=t.call(this,e)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return p(e,t),e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,e=t.getBoundingRect(),n=[e.x+e.width/2,e.y+e.height/2],i=nn(Ab),r=t;r&&!r.isGeoSVGGraphicRoot;)on(i,r.getLocalTransform(),i),r=r.parent;return un(i,i),G(n,n,i),n},e}(Db);function Bb(t,e,n){for(var i=0;i<t.length;i++)t[i]=Fb(t[i],e[i],n)}function Fb(t,e,n){for(var i=[],r=e[0],o=e[1],a=0;a<t.length;a+=2){var s=t.charCodeAt(a)-64,l=t.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,i.push([s/n,l/n])}return i}function Gb(t,e){return t=function(t){if(!t.UTF8Encoding)return t;var e=t,n=e.UTF8Scale;null==n&&(n=1024);var i=e.features;return v.each(i,function(t){var e=t.geometry,i=e.encodeOffsets,r=e.coordinates;if(i)switch(e.type){case"LineString":e.coordinates=Fb(r,i,n);break;case"Polygon":case"MultiLineString":Bb(r,i,n);break;case"MultiPolygon":v.each(r,function(t,e){return Bb(t,i[e],n)})}}),e.UTF8Encoding=!1,e}(t),v.map(v.filter(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var n=t.properties,i=t.geometry,r=[];switch(i.type){case"Polygon":var o=i.coordinates;r.push(new jb(o[0],o.slice(1)));break;case"MultiPolygon":v.each(i.coordinates,function(t){t[0]&&r.push(new jb(t[0],t.slice(1)))});break;case"LineString":r.push(new Pb([i.coordinates]));break;case"MultiLineString":r.push(new Pb(i.coordinates))}var a=new Rb(n[e||"name"],r,n.cp);return a.properties=n,a})}var Vb=$i();function Wb(t){return"category"===t.type?function(t){var e=t.getLabelModel(),n=Ub(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(t):function(t){var e=t.scale.getTicks(),n=mb(t);return{labels:v.map(e,function(e,i){return{level:e.level,formattedLabel:n(e,i),rawLabel:t.scale.getLabel(e),tickValue:e.value}})}}(t)}function Hb(t,e){return"category"===t.type?function(t,e){var n,i,r=Yb(t,"ticks"),o=bb(e),a=Jb(r,o);if(a)return a;e.get("show")&&!t.scale.isBlank()||(n=[]);if(v.isFunction(o))n=$b(t,o,!0);else if("auto"===o){var s=Ub(t,t.getLabelModel());i=s.labelCategoryInterval,n=v.map(s.labels,function(t){return t.tickValue})}else n=Zb(t,i=o,!0);return Qb(r,o,{ticks:n,tickCategoryInterval:i})}(t,e):{ticks:v.map(t.scale.getTicks(),function(t){return t.value})}}function Ub(t,e){var n,i=Yb(t,"labels"),r=bb(e),o=Jb(i,r);return o||Qb(i,r,{labels:v.isFunction(r)?$b(t,r):Zb(t,n="auto"===r?function(t){var e=Vb(t).autoInterval;return null!=e?e:Vb(t).autoInterval=t.calculateCategoryInterval()}(t):r),labelCategoryInterval:n})}function Yb(t,e){return Vb(t)[e]||(Vb(t)[e]=[])}function Jb(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function Qb(t,e,n){return t.push({key:e,value:n}),n}function Zb(t,e,n){var i=mb(t),r=t.scale,o=r.getExtent(),a=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=o[0],c=r.count();0!==u&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var h=xb(t),d=a.get("showMinLabel")||h,f=a.get("showMaxLabel")||h;d&&u!==o[0]&&g(o[0]);for(var p=u;p<=o[1];p+=l)g(p);function g(t){var e={value:t};s.push(n?t:{formattedLabel:i(e),rawLabel:r.getLabel(e),tickValue:t})}return f&&p-l!==o[1]&&g(o[1]),s}function $b(t,e,n){var i=t.scale,r=mb(t),o=[];return v.each(i.getTicks(),function(t){var a=i.getLabel(t),s=t.value;e(t.value,a)&&o.push(n?s:{formattedLabel:r(t),rawLabel:a,tickValue:s})}),o}var Xb=[0,1];function Kb(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}var qb=function(){function t(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return t.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return vi(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},t.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&Kb(n=n.slice(),i.count()),ci(t,Xb,n,e)},t.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&Kb(n=n.slice(),i.count());var r=ci(t,n,Xb,e);return this.scale.scale(r)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=Hb(this,e).ticks,i=Object(v.map)(n,function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}},this);return function(t,e,n,i){var r=e.length;if(!t.onBand||n||!r)return;var o,a,s=t.getExtent();if(1===r)e[0].coord=s[0],o=e[1]={coord:s[0]};else{var l=e[r-1].tickValue-e[0].tickValue,u=(e[r-1].coord-e[0].coord)/l;Object(v.each)(e,function(t){t.coord-=u/2});var c=t.scale.getExtent();a=1+c[1]-e[r-1].tickValue,o={coord:e[r-1].coord+u*a},e.push(o)}var h=s[0]>s[1];d(e[0].coord,s[0])&&(i?e[0].coord=s[0]:e.shift());i&&d(s[0],e[0].coord)&&e.unshift({coord:s[0]});d(s[1],o.coord)&&(i?o.coord=s[1]:e.pop());i&&d(o.coord,s[1])&&e.push({coord:s[1]});function d(t,e){return t=di(t),e=di(e),h?t>e:t<e}}(this,i,e.get("alignWithLabel"),t.clamp),i},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");t>0&&t<100||(t=5);var e=this.scale.getMinorTicks(t);return Object(v.map)(e,function(t){return Object(v.map)(t,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this)},this)},t.prototype.getViewLabels=function(){return Wb(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},t.prototype.calculateCategoryInterval=function(){return function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),n=mb(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,r=t.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=o[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),c=Math.abs(u*Math.cos(i)),h=Math.abs(u*Math.sin(i)),d=0,f=0;l<=o[1];l+=s){var p,g,v=Pn(n({value:l}),e.font,"center","top");p=1.3*v.width,g=1.3*v.height,d=Math.max(d,p,7),f=Math.max(f,g,7)}var m=d/c,y=f/h;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var b=Math.max(0,Math.floor(Math.min(m,y))),x=Vb(t.model),w=t.getExtent(),_=x.lastAutoInterval,S=x.lastTickCount;return null!=_&&null!=S&&Math.abs(_-b)<=1&&Math.abs(S-a)<=1&&_>b&&x.axisExtent0===w[0]&&x.axisExtent1===w[1]?b=_:(x.lastTickCount=a,x.lastAutoInterval=b,x.axisExtent0=w[0],x.axisExtent1=w[1]),b}(this)},t}();function tx(t){var e=_h.extend(t);return _h.registerClass(e),e}function ex(t){var e=hp.extend(t);return hp.registerClass(e),e}function nx(t){var e=up.extend(t);return up.registerClass(e),e}function ix(t){var e=wp.extend(t);return wp.registerClass(e),e}var rx=2*Math.PI,ox=Mo.CMD,ax=["top","right","bottom","left"];function sx(t,e,n,i,r){var o=n.width,a=n.height;switch(t){case"top":i.set(n.x+o/2,n.y-e),r.set(0,-1);break;case"bottom":i.set(n.x+o/2,n.y+a+e),r.set(0,1);break;case"left":i.set(n.x-e,n.y+a/2),r.set(-1,0);break;case"right":i.set(n.x+o+e,n.y+a/2),r.set(1,0)}}function lx(t,e,n,i,r,o,a,s,l){a-=t,s-=e;var u=Math.sqrt(a*a+s*s),c=(a/=u)*n+t,h=(s/=u)*n+e;if(Math.abs(i-r)%rx<1e-4)return l[0]=c,l[1]=h,u-n;if(o){var d=i;i=Oo(r),r=Oo(d)}else i=Oo(i),r=Oo(r);i>r&&(r+=rx);var f=Math.atan2(s,a);if(f<0&&(f+=rx),f>=i&&f<=r||f+rx>=i&&f+rx<=r)return l[0]=c,l[1]=h,u-n;var p=n*Math.cos(i)+t,g=n*Math.sin(i)+e,v=n*Math.cos(r)+t,m=n*Math.sin(r)+e,y=(p-a)*(p-a)+(g-s)*(g-s),b=(v-a)*(v-a)+(m-s)*(m-s);return y<b?(l[0]=p,l[1]=g,Math.sqrt(y)):(l[0]=v,l[1]=m,Math.sqrt(b))}function ux(t,e,n,i,r,o,a,s){var l=r-t,u=o-e,c=n-t,h=i-e,d=Math.sqrt(c*c+h*h),f=(l*(c/=d)+u*(h/=d))/d;s&&(f=Math.min(Math.max(f,0),1)),f*=d;var p=a[0]=t+f*c,g=a[1]=e+f*h;return Math.sqrt((p-r)*(p-r)+(g-o)*(g-o))}function cx(t,e,n,i,r,o,a){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i);var s=t+n,l=e+i,u=a[0]=Math.min(Math.max(r,t),s),c=a[1]=Math.min(Math.max(o,e),l);return Math.sqrt((u-r)*(u-r)+(c-o)*(c-o))}var hx=[];function dx(t,e,n){var i=cx(e.x,e.y,e.width,e.height,t.x,t.y,hx);return n.set(hx[0],hx[1]),i}function fx(t,e,n){for(var i,r,o=0,a=0,s=0,l=0,u=1/0,c=e.data,h=t.x,d=t.y,f=0;f<c.length;){var p=c[f++];1===f&&(s=o=c[f],l=a=c[f+1]);var g=u;switch(p){case ox.M:o=s=c[f++],a=l=c[f++];break;case ox.L:g=ux(o,a,c[f],c[f+1],h,d,hx,!0),o=c[f++],a=c[f++];break;case ox.C:g=ee(o,a,c[f++],c[f++],c[f++],c[f++],c[f],c[f+1],h,d,hx),o=c[f++],a=c[f++];break;case ox.Q:g=se(o,a,c[f++],c[f++],c[f],c[f+1],h,d,hx),o=c[f++],a=c[f++];break;case ox.A:var v=c[f++],m=c[f++],y=c[f++],b=c[f++],x=c[f++],w=c[f++];f+=1;var _=!!(1-c[f++]);i=Math.cos(x)*y+v,r=Math.sin(x)*b+m,f<=1&&(s=i,l=r),g=lx(v,m,b,x,x+w,_,(h-v)*b/y+v,d,hx),o=Math.cos(x+w)*y+v,a=Math.sin(x+w)*b+m;break;case ox.R:g=cx(s=o=c[f++],l=a=c[f++],c[f++],c[f++],h,d,hx);break;case ox.Z:g=ux(o,a,s,l,h,d,hx,!0),o=s,a=l}g<u&&(u=g,n.set(hx[0],hx[1]))}return u}var px=new wn,gx=new wn,vx=new wn,mx=new wn,yx=new wn;function bx(t,e){if(t){var n=t.getTextGuideLine(),i=t.getTextContent();if(i&&n){var r=t.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||ax,s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=1/0,u=r.anchor,c=t.getComputedTransform(),h=c&&un([],c),d=e.get("length2")||0;u&&vx.copy(u);for(var f=0;f<a.length;f++){sx(a[f],0,s,px,mx),wn.scaleAndAdd(gx,px,mx,d),gx.transform(h);var p=t.getBoundingRect(),g=u?u.distance(gx):t instanceof Uo?fx(gx,t.path,vx):dx(gx,p,vx);g<l&&(l=g,gx.transform(c),vx.transform(c),vx.toArray(o[0]),gx.toArray(o[1]),px.toArray(o[2]))}_x(o,e.get("minTurnAngle")),n.setShape({points:o})}}}var xx=[],wx=new wn;function _x(t,e){if(e<=180&&e>0){e=e/180*Math.PI,px.fromArray(t[0]),gx.fromArray(t[1]),vx.fromArray(t[2]),wn.sub(mx,px,gx),wn.sub(yx,vx,gx);var n=mx.len(),i=yx.len();if(!(n<.001||i<.001)){mx.scale(1/n),yx.scale(1/i);var r=mx.dot(yx);if(Math.cos(e)<r){var o=ux(gx.x,gx.y,vx.x,vx.y,px.x,px.y,xx,!1);wx.fromArray(xx),wx.scaleAndAdd(yx,o/Math.tan(Math.PI-e));var a=vx.x!==gx.x?(wx.x-gx.x)/(vx.x-gx.x):(wx.y-gx.y)/(vx.y-gx.y);if(isNaN(a))return;a<0?wn.copy(wx,gx):a>1&&wn.copy(wx,vx),wx.toArray(t[1])}}}}function Sx(t,e,n){if(n<=180&&n>0){n=n/180*Math.PI,px.fromArray(t[0]),gx.fromArray(t[1]),vx.fromArray(t[2]),wn.sub(mx,gx,px),wn.sub(yx,vx,gx);var i=mx.len(),r=yx.len();if(!(i<.001||r<.001))if(mx.scale(1/i),yx.scale(1/r),mx.dot(e)<Math.cos(n)){var o=ux(gx.x,gx.y,vx.x,vx.y,px.x,px.y,xx,!1);wx.fromArray(xx);var a=Math.PI/2,s=a+Math.acos(yx.dot(e))-n;if(s>=a)wn.copy(wx,vx);else{wx.scaleAndAdd(yx,o/Math.tan(Math.PI/2-s));var l=vx.x!==gx.x?(wx.x-gx.x)/(vx.x-gx.x):(wx.y-gx.y)/(vx.y-gx.y);if(isNaN(l))return;l<0?wn.copy(wx,gx):l>1&&wn.copy(wx,vx)}wx.toArray(t[1])}}}function Mx(t,e,n,i){var r="normal"===n,o=r?t:t.ensureState(n);o.ignore=e;var a=i.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=i.getModel("lineStyle").getLineStyle();r?t.useStyle(s):o.style=s}function Cx(t,e){var n=e.smooth,i=e.points;if(i)if(t.moveTo(i[0][0],i[0][1]),n>0&&i.length>=3){var r=P(i[0],i[1]),o=P(i[1],i[2]);if(!r||!o)return t.lineTo(i[1][0],i[1][1]),void t.lineTo(i[2][0],i[2][1]);var a=Math.min(r,o)*n,s=F([],i[1],i[0],a/r),l=F([],i[1],i[2],a/o),u=F([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var c=1;c<i.length;c++)t.lineTo(i[c][0],i[c][1])}function Ix(t,e,n){var i=t.getTextGuideLine(),r=t.getTextContent();if(r){for(var o=e.normal,a=o.get("show"),s=r.ignore,l=0;l<La.length;l++){var u=La[l],c=e[u],h="normal"===u;if(c){var d=c.get("show");if((h?s:Object(v.retrieve2)(r.states[u]&&r.states[u].ignore,s))||!Object(v.retrieve2)(d,a)){var f=h?i:i&&i.states.normal;f&&(f.ignore=!0);continue}i||(i=new Sl,t.setTextGuideLine(i),h||!s&&a||Mx(i,!0,"normal",e.normal),t.stateProxy&&(i.stateProxy=t.stateProxy)),Mx(i,!1,u,c)}}if(i){Object(v.defaults)(i.style,n),i.style.fill=null;var p=o.get("showAbove");(t.textGuideLineConfig=t.textGuideLineConfig||{}).showAbove=p||!1,i.buildPath=Cx}}else i&&t.removeTextGuideLine()}function kx(t,e){e=e||"labelLine";for(var n={normal:t.getModel(e)},i=0;i<Na.length;i++){var r=Na[i];n[r]=t.getModel([r,e])}return n}function Tx(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),a=r.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,u=a.clone();u.applyTransform(o),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new Hl(a,o):null;e.push({label:r,labelLine:i.labelLine,rect:u,localRect:a,obb:c,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:o})}}return e}function Ox(t,e,n,i,r,o){var a=t.length;if(!(a<2)){t.sort(function(t,n){return t.rect[e]-n.rect[e]});for(var s,l=0,u=!1,c=[],h=0,d=0;d<a;d++){var f=t[d],p=f.rect;(s=p[e]-l)<0&&(p[e]-=s,f.label[e]-=s,u=!0);var g=Math.max(-s,0);c.push(g),h+=g,l=p[e]+p[n]}h>0&&o&&_(-h/a,0,a);var v,m,y=t[0],b=t[a-1];return x(),v<0&&S(-v,.8),m<0&&S(m,.8),x(),w(v,m,1),w(m,v,-1),x(),v<0&&M(-v),m<0&&M(m),u}function x(){v=y.rect[e]-i,m=r-b.rect[e]-b.rect[n]}function w(t,e,n){if(t<0){var i=Math.min(e,-t);if(i>0){_(i*n,0,a);var r=i+t;r<0&&S(-r*n,1)}else S(-t*n,1)}}function _(n,i,r){0!==n&&(u=!0);for(var o=i;o<r;o++){var a=t[o];a.rect[e]+=n,a.label[e]+=n}}function S(i,r){for(var o=[],s=0,l=1;l<a;l++){var u=t[l-1].rect,c=Math.max(t[l].rect[e]-u[e]-u[n],0);o.push(c),s+=c}if(s){var h=Math.min(Math.abs(i)/s,r);if(i>0)for(l=0;l<a-1;l++){_(o[l]*h,0,l+1)}else for(l=a-1;l>0;l--){_(-(o[l-1]*h),l,a)}}}function M(t){var e=t<0?-1:1;t=Math.abs(t);for(var n=Math.ceil(t/(a-1)),i=0;i<a-1;i++)if(e>0?_(n,0,i+1):_(-n,a-i-1,a),(t-=n)<=0)return}}function Ex(t,e,n,i){return Ox(t,"y","height",e,n,i)}function Ax(t){var e=[];t.sort(function(t,e){return e.priority-t.priority});var n=new En(0,0,0,0);function i(t){if(!t.ignore){var e=t.ensureState("emphasis");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var r=0;r<t.length;r++){var o=t[r],a=o.axisAligned,s=o.localRect,l=o.transform,u=o.label,c=o.labelLine;n.copy(o.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var h=o.obb,d=!1,f=0;f<e.length;f++){var p=e[f];if(n.intersect(p.rect)){if(a&&p.axisAligned){d=!0;break}if(p.obb||(p.obb=new Hl(p.localRect,p.transform)),h||(h=new Hl(s,l)),h.intersect(p.obb)){d=!0;break}}}d?(i(u),c&&i(c)):(u.attr("ignore",o.defaultAttr.ignore),c&&c.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}function Nx(t,e){var n=t.label,i=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:function(t){if(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice());return e}}(i&&i.shape.points)}}var Lx=["align","verticalAlign","width","height","fontSize"],Dx=new xn,jx=$i(),Px=$i();function Rx(t,e,n){for(var i=0;i<n.length;i++){var r=n[i];null!=e[r]&&(t[r]=e[r])}}var zx=["x","y","rotation"],Bx=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,n,i,r){var o=i.style,a=i.__hostTarget.textConfig||{},s=i.getComputedTransform(),l=i.getBoundingRect().plain();En.applyTransform(l,l,s),s?Dx.setLocalTransform(s):(Dx.x=Dx.y=Dx.rotation=Dx.originX=Dx.originY=0,Dx.scaleX=Dx.scaleY=1);var u,c=i.__hostTarget;if(c){u=c.getBoundingRect().plain();var h=c.getComputedTransform();En.applyTransform(u,u,h)}var d=u&&c.getTextGuideLine();this._labelList.push({label:i,labelLine:d,seriesModel:n,dataIndex:t,dataType:e,layoutOption:r,computedLayoutOption:null,rect:l,hostRect:u,priority:u?u.width*u.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:d&&d.ignore,x:Dx.x,y:Dx.y,scaleX:Dx.scaleX,scaleY:Dx.scaleY,rotation:Dx.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:a.position,attachedRot:a.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,i=n.get("labelLayout");(Object(v.isFunction)(i)||Object(v.keys)(i).length)&&t.group.traverse(function(t){if(t.ignore)return!0;var r=t.getTextContent(),o=Sa(t);r&&!r.disableLabelLayout&&e._addLabel(o.dataIndex,o.dataType,n,r,i)})},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function i(t,e){return function(){bx(t,e)}}for(var r=0;r<this._labelList.length;r++){var o=this._labelList[r],a=o.label,s=a.__hostTarget,l=o.defaultAttr,u=void 0;u=(u=Object(v.isFunction)(o.layoutOption)?o.layoutOption(Nx(o,s)):o.layoutOption)||{},o.computedLayoutOption=u;var c=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:l.attachedPos,rotation:null!=u.rotate?u.rotate*c:l.attachedRot,offset:[u.dx||0,u.dy||0]});var h=!1;if(null!=u.x?(a.x=hi(u.x,e),a.setStyle("x",0),h=!0):(a.x=l.x,a.setStyle("x",l.style.x)),null!=u.y?(a.y=hi(u.y,n),a.setStyle("y",0),h=!0):(a.y=l.y,a.setStyle("y",l.style.y)),u.labelLinePoints){var d=s.getTextGuideLine();d&&(d.setShape({points:u.labelLinePoints}),h=!1)}jx(a).needsUpdateLabelLine=h,a.rotation=null!=u.rotate?u.rotate*c:l.rotation,a.scaleX=l.scaleX,a.scaleY=l.scaleY;for(var f=0;f<Lx.length;f++){var p=Lx[f];a.setStyle(p,null!=u[p]?u[p]:l.style[p])}if(u.draggable){if(a.draggable=!0,a.cursor="move",s){var g=o.seriesModel;if(null!=o.dataIndex)g=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex);a.on("drag",i(s,g.getModel("labelLine")))}}else a.off("drag"),a.cursor=l.cursor}},t.prototype.layout=function(t){var e,n=t.getWidth(),i=t.getHeight(),r=Tx(this._labelList),o=Object(v.filter)(r,function(t){return"shiftX"===t.layoutOption.moveOverlap}),a=Object(v.filter)(r,function(t){return"shiftY"===t.layoutOption.moveOverlap});Ox(o,"x","width",0,n,e),Ex(a,0,i),Ax(Object(v.filter)(r,function(t){return t.layoutOption.hideOverlap}))},t.prototype.processLabelsOverall=function(){var t=this;Object(v.each)(this._chartViewList,function(e){var n=e.__model,i=e.ignoreLabelLineUpdate,r=n.isAnimationEnabled();e.group.traverse(function(e){if(e.ignore&&!e.forceLabelAnimation)return!0;var o=!i,a=e.getTextContent();!o&&a&&(o=jx(a).needsUpdateLabelLine),o&&t._updateLabelLine(e,n),r&&t._animateLabels(e,n)})})},t.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),i=Sa(t),r=i.dataIndex;if(n&&null!=r){var o=e.getData(i.dataType),a=o.getItemModel(r),s={},l=o.getItemVisual(r,"style"),u=o.getVisual("drawType");s.stroke=l[u];var c=a.getModel("labelLine");Ix(t,kx(a),s),bx(t,c)}},t.prototype._animateLabels=function(t,e){var n=t.getTextContent(),i=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!Kl(t))){var r=(f=jx(n)).oldLayout,o=Sa(t),a=o.dataIndex,s={x:n.x,y:n.y,rotation:n.rotation},l=e.getData(o.dataType);if(r){n.attr(r);var u=t.prevStates;u&&(Object(v.indexOf)(u,"select")>=0&&n.attr(f.oldLayoutSelect),Object(v.indexOf)(u,"emphasis")>=0&&n.attr(f.oldLayoutEmphasis)),$l(n,s,e,a)}else if(n.attr(s),!Uu(n).valueAnimation){var c=Object(v.retrieve2)(n.style.opacity,1);n.style.opacity=0,Xl(n,{style:{opacity:c}},e,a)}if(f.oldLayout=s,n.states.select){var h=f.oldLayoutSelect={};Rx(h,s,zx),Rx(h,n.states.select,zx)}if(n.states.emphasis){var d=f.oldLayoutEmphasis={};Rx(d,s,zx),Rx(d,n.states.emphasis,zx)}Ju(n,a,l,e,e)}if(i&&!i.ignore&&!i.invisible){r=(f=Px(i)).oldLayout;var f,p={points:i.shape.points};r?(i.attr({shape:r}),$l(i,{shape:p},e)):(i.setShape(p),i.style.strokePercent=0,Xl(i,{style:{strokePercent:1}},e)),f.oldLayout=p}},t}(),Fx=$i();function Gx(t){t.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){var i=Fx(e).labelManager;i||(i=Fx(e).labelManager=new Bx),i.clearLabels()}),t.registerUpdateLifecycle("series:layoutlabels",function(t,e,n){var i=Fx(e).labelManager;n.updatedSeries.forEach(function(t){i.addLabelsOfSeries(e.getViewOfSeriesModel(t))}),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()})}Om(Gx);var Vx=Math.sin,Wx=Math.cos,Hx=Math.PI,Ux=2*Math.PI,Yx=180/Hx,Jx=function(){function t(){}return t.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},t.prototype.moveTo=function(t,e){this._add("M",t,e)},t.prototype.lineTo=function(t,e){this._add("L",t,e)},t.prototype.bezierCurveTo=function(t,e,n,i,r,o){this._add("C",t,e,n,i,r,o)},t.prototype.quadraticCurveTo=function(t,e,n,i){this._add("Q",t,e,n,i)},t.prototype.arc=function(t,e,n,i,r,o){this.ellipse(t,e,n,n,0,i,r,o)},t.prototype.ellipse=function(t,e,n,i,r,o,a,s){var l=a-o,u=!s,c=Math.abs(l),h=Object(fe.j)(c-Ux)||(u?l>=Ux:-l>=Ux),d=l>0?l%Ux:l%Ux+Ux,f=!1;f=!!h||!Object(fe.j)(c)&&d>=Hx==!!u;var p=t+n*Wx(o),g=e+i*Vx(o);this._start&&this._add("M",p,g);var v=Math.round(r*Yx);if(h){var m=1/this._p,y=(u?1:-1)*(Ux-m);this._add("A",n,i,v,1,+u,t+n*Wx(o+y),e+i*Vx(o+y)),m>.01&&this._add("A",n,i,v,0,+u,p,g)}else{var b=t+n*Wx(a),x=e+i*Vx(a);this._add("A",n,i,v,+f,+u,b,x)}},t.prototype.rect=function(t,e,n,i){this._add("M",t,e),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(t,e,n,i,r,o,a,s,l){for(var u=[],c=this._p,h=1;h<arguments.length;h++){var d=arguments[h];if(isNaN(d))return void(this._invalid=!0);u.push(Math.round(d*c)/c)}this._d.push(t+u.join(" ")),this._start="Z"===t},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),Qx="none",Zx=Math.round;var $x=["lineCap","miterLimit","lineJoin"],Xx=Object(v.map)($x,function(t){return"stroke-"+t.toLowerCase()});function Kx(t,e,n,i){var r=null==e.opacity?1:e.opacity;if(n instanceof Ko)t("opacity",r);else{if(function(t){var e=t.fill;return null!=e&&e!==Qx}(e)){var o=Object(fe.p)(e.fill);t("fill",o.color);var a=null!=e.fillOpacity?e.fillOpacity*o.opacity*r:o.opacity*r;(i||a<1)&&t("fill-opacity",a)}else t("fill",Qx);if(function(t){var e=t.stroke;return null!=e&&e!==Qx}(e)){var s=Object(fe.p)(e.stroke);t("stroke",s.color);var l=e.strokeNoScale?n.getLineScale():1,u=l?(e.lineWidth||0)/l:0,c=null!=e.strokeOpacity?e.strokeOpacity*s.opacity*r:s.opacity*r,h=e.strokeFirst;if((i||1!==u)&&t("stroke-width",u),(i||h)&&t("paint-order",h?"stroke":"fill"),(i||c<1)&&t("stroke-opacity",c),e.lineDash){var d=Lg(n),f=d[0],p=d[1];f&&(p=Zx(p||0),t("stroke-dasharray",f.join(",")),(p||i)&&t("stroke-dashoffset",p))}else i&&t("stroke-dasharray",Qx);for(var g=0;g<$x.length;g++){var v=$x[g];if(i||e[v]!==Vo[v]){var m=e[v]||Vo[v];m&&t(Xx[g],m)}}}else i&&t("stroke",Qx)}}var qx="http://www.w3.org/2000/svg",tw="http://www.w3.org/1999/xlink",ew="http://www.w3.org/2000/xmlns/",nw="http://www.w3.org/XML/1998/namespace";function iw(t){return document.createElementNS(qx,t)}function rw(t,e,n,i,r){return{tag:t,attrs:n||{},children:i,text:r,key:e}}function ow(t,e){var n=(e=e||{}).newline?"\n":"";return function t(e){var i=e.children,r=e.tag;return function(t,e){var n=[];if(e)for(var i in e){var r=e[i],o=i;!1!==r&&(!0!==r&&null!=r&&(o+='="'+r+'"'),n.push(o))}return"<"+t+" "+n.join(" ")+">"}(r,e.attrs)+(e.text||"")+(i?""+n+Object(v.map)(i,function(e){return t(e)}).join(n)+n:"")+"</"+r+">"}(t)}function aw(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function sw(t,e,n,i){return rw("svg","root",{width:t,height:e,xmlns:qx,"xmlns:xlink":tw,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+t+" "+e},n)}var lw={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},uw="transform-origin";function cw(t,e,n){var i=Object(v.extend)({},t.shape);Object(v.extend)(i,e),t.buildPath(n,i);var r=new Jx;return r.reset(Object(fe.f)(t)),n.rebuildPath(r,1),r.generateStr(),r.getStr()}function hw(t,e){var n=e.originX,i=e.originY;(n||i)&&(t[uw]=n+"px "+i+"px")}var dw={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function fw(t,e){var n=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[n]=t,n}function pw(t){return Object(v.isString)(t)?lw[t]?"cubic-bezier("+lw[t]+")":ce(t)?t:"":""}function gw(t,e,n,i){var r=t.animators,o=r.length,a=[];if(t instanceof Pl){if(m=function(t,e,n){var i,r,o=t.shape.paths,a={};if(Object(v.each)(o,function(t){var e=aw(n.zrId);e.animation=!0,gw(t,{},e,!0);var o=e.cssAnims,s=e.cssNodes,l=Object(v.keys)(o),u=l.length;if(u){var c=o[r=l[u-1]];for(var h in c){var d=c[h];a[h]=a[h]||{d:""},a[h].d+=d.d||""}for(var f in s){var p=s[f].animation;p.indexOf(r)>=0&&(i=p)}}}),i){e.d=!1;var s=fw(a,n);return i.replace(r,s)}}(t,e,n))a.push(m);else if(!o)return}else if(!o)return;for(var s={},l=0;l<o;l++){var u=r[l],c=[u.getMaxTime()/1e3+"s"],h=pw(u.getClip().easing),d=u.getDelay();h?c.push(h):c.push("linear"),d&&c.push(d/1e3+"s"),u.getLoop()&&c.push("infinite");var f=c.join(" ");s[f]=s[f]||[f,[]],s[f][1].push(u)}function p(r){var o,a=r[1],s=a.length,l={},u={},c={},h="animation-timing-function";function d(t,e,n){for(var i=t.getTracks(),r=t.getMaxTime(),o=0;o<i.length;o++){var a=i[o];if(a.needsAnimate()){var s=a.keyframes,l=a.propName;if(n&&(l=n(l)),l)for(var u=0;u<s.length;u++){var c=s[u],d=Math.round(c.time/r*100)+"%",f=pw(c.easing),p=c.rawValue;(Object(v.isString)(p)||Object(v.isNumber)(p))&&(e[d]=e[d]||{},e[d][l]=c.rawValue,f&&(e[d][h]=f))}}}}for(var f=0;f<s;f++){(M=(S=a[f]).targetName)?"shape"===M&&d(S,u):!i&&d(S,l)}for(var p in l){var g={};bn(g,t),Object(v.extend)(g,l[p]);var m=Object(fe.g)(g),y=l[p][h];c[p]=m?{transform:m}:{},hw(c[p],g),y&&(c[p][h]=y)}var b=!0;for(var p in u){c[p]=c[p]||{};var x=!o;y=u[p][h];x&&(o=new Mo);var w=o.len();o.reset(),c[p].d=cw(t,u[p],o);var _=o.len();if(!x&&w!==_){b=!1;break}y&&(c[p][h]=y)}if(!b)for(var p in c)delete c[p].d;if(!i)for(f=0;f<s;f++){var S,M;"style"===(M=(S=a[f]).targetName)&&d(S,c,function(t){return dw[t]})}var C,I=Object(v.keys)(c),k=!0;for(f=1;f<I.length;f++){var T=I[f-1],O=I[f];if(c[T][uw]!==c[O][uw]){k=!1;break}C=c[T][uw]}if(k&&C){for(var p in c)c[p][uw]&&delete c[p][uw];e[uw]=C}if(Object(v.filter)(I,function(t){return Object(v.keys)(c[t]).length>0}).length)return fw(c,n)+" "+r[0]+" both"}for(var g in s){var m;(m=p(s[g]))&&a.push(m)}if(a.length){var y=n.zrId+"-cls-"+n.cssClassIdx++;n.cssNodes["."+y]={animation:a.join(",")},e.class=y}}var vw=Math.round;function mw(t){return t&&Object(v.isString)(t.src)}function yw(t){return t&&Object(v.isFunction)(t.toDataURL)}function bw(t,e,n,i){Kx(function(r,o){var a="fill"===r||"stroke"===r;a&&Object(fe.k)(o)?function(t,e,n,i){var r,o=t[n],a={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if(Object(fe.m)(o))r="linearGradient",a.x1=o.x,a.y1=o.y,a.x2=o.x2,a.y2=o.y2;else{if(!Object(fe.o)(o))return void 0;r="radialGradient",a.cx=Object(v.retrieve2)(o.x,.5),a.cy=Object(v.retrieve2)(o.y,.5),a.r=Object(v.retrieve2)(o.r,.5)}for(var s=o.colorStops,l=[],u=0,c=s.length;u<c;++u){var h=100*Object(fe.q)(s[u].offset)+"%",d=s[u].color,f=Object(fe.p)(d),p=f.color,g=f.opacity,m={offset:h};m["stop-color"]=p,g<1&&(m["stop-opacity"]=g),l.push(rw("stop",u+"",m))}var y=ow(rw(r,"",a,l)),b=i.gradientCache,x=b[y];x||(x=i.zrId+"-g"+i.gradientIdx++,b[y]=x,a.id=x,i.defs[x]=rw(r,x,a,l));e[n]=Object(fe.d)(x)}(e,t,r,i):a&&Object(fe.n)(o)?function(t,e,n,i){var r,o=t.style[n],a={patternUnits:"userSpaceOnUse"};if(Object(fe.l)(o)){var s=o.imageWidth,l=o.imageHeight,u=void 0,c=o.image;if(Object(v.isString)(c)?u=c:mw(c)?u=c.src:yw(c)&&(u=c.toDataURL()),"undefined"==typeof Image){var h="Image width/height must been given explictly in svg-ssr renderer.";Object(v.assert)(s,h),Object(v.assert)(l,h)}else if(null==s||null==l){var d=function(t,e){if(t){var n=t.elm,i=t.attrs.width=s||e.width,r=t.attrs.height=l||e.height;n&&(n.setAttribute("width",i),n.setAttribute("height",r))}},f=wr(u,null,t,function(t){d(p,t),d(r,t)});f&&f.width&&f.height&&(s=s||f.width,l=l||f.height)}r=rw("image","img",{href:u,width:s,height:l}),a.width=s,a.height=l}else o.svgElement&&(r=o.svgElement,a.width=o.svgWidth,a.height=o.svgHeight);if(!r)return;a.patternTransform=Object(fe.g)(o);var p=rw("pattern","",a,[r]),g=ow(p),m=i.patternCache,y=m[g];y||(y=i.zrId+"-p"+i.patternIdx++,m[g]=y,a.id=y,p=i.defs[y]=rw("pattern",y,a,[r]));e[n]=Object(fe.d)(y)}(n,t,r,i):t[r]=o},e,n,!1),function(t,e,n){var i=t.style;if(Object(fe.i)(i)){var r=Object(fe.h)(t),o=n.shadowCache,a=o[r];if(!a){var s=t.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=i.shadowOffsetX||0,h=i.shadowOffsetY||0,d=i.shadowBlur,f=Object(fe.p)(i.shadowColor),p=f.opacity,g=f.color,v=d/2/l,m=d/2/u,y=v+" "+m;a=n.zrId+"-s"+n.shadowIdx++,n.defs[a]=rw("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[rw("feDropShadow","",{dx:c/l,dy:h/u,stdDeviation:y,"flood-color":g,"flood-opacity":p})]),o[r]=a}e.filter=Object(fe.d)(a)}}(n,t,i)}function xw(t){return Object(fe.j)(t[0]-1)&&Object(fe.j)(t[1])&&Object(fe.j)(t[2])&&Object(fe.j)(t[3]-1)}function ww(t,e,n){if(e&&(!function(t){return Object(fe.j)(t[4])&&Object(fe.j)(t[5])}(e)||!xw(e))){var i=n?10:1e4;t.transform=xw(e)?"translate("+vw(e[4]*i)/i+" "+vw(e[5]*i)/i+")":Object(fe.e)(e)}}function _w(t,e,n){for(var i=t.points,r=[],o=0;o<i.length;o++)r.push(vw(i[o][0]*n)/n),r.push(vw(i[o][1]*n)/n);e.points=r.join(" ")}function Sw(t){return!t.smooth}var Mw,Cw,Iw={circle:[(Mw=["cx","cy","r"],Cw=Object(v.map)(Mw,function(t){return"string"==typeof t?[t,t]:t}),function(t,e,n){for(var i=0;i<Cw.length;i++){var r=Cw[i],o=t[r[0]];null!=o&&(e[r[1]]=vw(o*n)/n)}})],polyline:[_w,Sw],polygon:[_w,Sw]};function kw(t,e){var n=t.style,i=t.shape,r=Iw[t.type],o={},a=e.animation,s="path",l=t.style.strokePercent,u=e.compress&&Object(fe.f)(t)||4;if(!r||e.willUpdate||r[1]&&!r[1](i)||a&&function(t){for(var e=t.animators,n=0;n<e.length;n++)if("shape"===e[n].targetName)return!0;return!1}(t)||l<1){t.path||t.createPathProxy();var c=t.path;t.shapeChanged()&&(c.beginPath(),t.buildPath(c,t.shape),t.pathUpdated());var h=c.getVersion(),d=t,f=d.__svgPathBuilder;d.__svgPathVersion===h&&f&&l===d.__svgPathStrokePercent||(f||(f=d.__svgPathBuilder=new Jx),f.reset(u),c.rebuildPath(f,l),f.generateStr(),d.__svgPathVersion=h,d.__svgPathStrokePercent=l),o.d=f.getStr()}else{s=t.type;var p=Math.pow(10,u);r[0](i,o,p)}return ww(o,t.transform),bw(o,n,t,e),e.animation&&gw(t,o,e),rw(s,t.id+"",o)}function Tw(t,e){return t instanceof Uo?kw(t,e):t instanceof Ko?function(t,e){var n=t.style,i=n.image;if(i&&!Object(v.isString)(i)&&(mw(i)?i=i.src:yw(i)&&(i=i.toDataURL())),i){var r=n.x||0,o=n.y||0,a={href:i,width:n.width,height:n.height};return r&&(a.x=r),o&&(a.y=o),ww(a,t.transform),bw(a,n,t,e),e.animation&&gw(t,a,e),rw("image",t.id+"",a)}}(t,e):t instanceof Qo?function(t,e){var n=t.style,i=n.text;if(null!=i&&(i+=""),i&&!isNaN(n.x)&&!isNaN(n.y)){var r=n.font||Nn.a,o=n.x||0,a=Object(fe.b)(n.y||0,Bn(r),n.textBaseline),s={"dominant-baseline":"central","text-anchor":fe.a[n.textAlign]||n.textAlign};if(ga(n)){var l="",u=n.fontStyle,c=fa(n.fontSize);if(!parseFloat(c))return;var h=n.fontFamily||Nn.b,d=n.fontWeight;l+="font-size:"+c+";font-family:"+h+";",u&&"normal"!==u&&(l+="font-style:"+u+";"),d&&"normal"!==d&&(l+="font-weight:"+d+";"),s.style=l}else s.style="font: "+r;return i.match(/\s/)&&(s["xml:space"]="preserve"),o&&(s.x=o),a&&(s.y=a),ww(s,t.transform),bw(s,n,t,e),e.animation&&gw(t,s,e),rw("text",t.id+"",s,void 0,i)}}(t,e):void 0}function Ow(t,e,n){var i=n.clipPathCache,r=n.defs,o=i[t.id];if(!o){var a={id:o=n.zrId+"-c"+n.clipPathIdx++};i[t.id]=o,r[o]=rw("clipPath",o,a,[kw(t,n)])}e["clip-path"]=Object(fe.d)(o)}function Ew(t){return document.createTextNode(t)}function Aw(t,e,n){t.insertBefore(e,n)}function Nw(t,e){t.removeChild(e)}function Lw(t,e){t.appendChild(e)}function Dw(t){return t.parentNode}function jw(t){return t.nextSibling}function Pw(t,e){t.textContent=e}var Rw=58,zw=120,Bw=rw("","");function Fw(t){return void 0===t}function Gw(t){return void 0!==t}function Vw(t,e,n){for(var i={},r=e;r<=n;++r){var o=t[r].key;void 0!==o&&(i[o]=r)}return i}function Ww(t,e){var n=t.key===e.key;return t.tag===e.tag&&n}function Hw(t){var e,n=t.children,i=t.tag;if(Gw(i)){var r=t.elm=iw(i);if(Jw(Bw,t),Object(v.isArray)(n))for(e=0;e<n.length;++e){var o=n[e];null!=o&&Lw(r,Hw(o))}else Gw(t.text)&&!Object(v.isObject)(t.text)&&Lw(r,Ew(t.text))}else t.elm=Ew(t.text);return t.elm}function Uw(t,e,n,i,r){for(;i<=r;++i){var o=n[i];null!=o&&Aw(t,Hw(o),e)}}function Yw(t,e,n,i){for(;n<=i;++n){var r=e[n];if(null!=r)if(Gw(r.tag))Nw(Dw(r.elm),r.elm);else Nw(t,r.elm)}}function Jw(t,e){var n,i=e.elm,r=t&&t.attrs||{},o=e.attrs||{};if(r!==o){for(n in o){var a=o[n];r[n]!==a&&(!0===a?i.setAttribute(n,""):!1===a?i.removeAttribute(n):n.charCodeAt(0)!==zw?i.setAttribute(n,a):"xmlns:xlink"===n||"xmlns"===n?i.setAttributeNS(ew,n,a):n.charCodeAt(3)===Rw?i.setAttributeNS(nw,n,a):n.charCodeAt(5)===Rw?i.setAttributeNS(tw,n,a):i.setAttribute(n,a))}for(n in r)n in o||i.removeAttribute(n)}}function Qw(t,e){var n=e.elm=t.elm,i=t.children,r=e.children;t!==e&&(Jw(t,e),Fw(e.text)?Gw(i)&&Gw(r)?i!==r&&function(t,e,n){for(var i,r,o,a=0,s=0,l=e.length-1,u=e[0],c=e[l],h=n.length-1,d=n[0],f=n[h];a<=l&&s<=h;)null==u?u=e[++a]:null==c?c=e[--l]:null==d?d=n[++s]:null==f?f=n[--h]:Ww(u,d)?(Qw(u,d),u=e[++a],d=n[++s]):Ww(c,f)?(Qw(c,f),c=e[--l],f=n[--h]):Ww(u,f)?(Qw(u,f),Aw(t,u.elm,jw(c.elm)),u=e[++a],f=n[--h]):Ww(c,d)?(Qw(c,d),Aw(t,c.elm,u.elm),c=e[--l],d=n[++s]):(Fw(i)&&(i=Vw(e,a,l)),Fw(r=i[d.key])?Aw(t,Hw(d),u.elm):(o=e[r]).tag!==d.tag?Aw(t,Hw(d),u.elm):(Qw(o,d),e[r]=void 0,Aw(t,o.elm,u.elm)),d=n[++s]);(a<=l||s<=h)&&(a>l?Uw(t,null==n[h+1]?null:n[h+1].elm,n,s,h):Yw(t,e,a,l))}(n,i,r):Gw(r)?(Gw(t.text)&&Pw(n,""),Uw(n,null,r,0,r.length-1)):Gw(i)?Yw(n,i,0,i.length-1):Gw(t.text)&&Pw(n,""):t.text!==e.text&&(Gw(i)&&Yw(n,i,0,i.length-1),Pw(n,e.text)))}var Zw=0;function $w(t){return function(){0}}var Xw=function(){function t(t,e,n){if(this.type="svg",this.refreshHover=$w("refreshHover"),this.configLayer=$w("configLayer"),this.storage=e,this._opts=n=Object(v.extend)({},n),this.root=t,this._id="zr"+Zw++,this._oldVNode=sw(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var r=this._svgDom=this._oldVNode.elm=iw("svg");Jw(null,this._oldVNode),i.appendChild(r),t.appendChild(i)}this.resize(n.width,n.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function(t,e){if(Ww(t,e))Qw(t,e);else{var n=t.elm,i=Dw(n);Hw(e),null!==i&&(Aw(i,e.elm,jw(n)),Yw(i,[t],0,0))}}(this._oldVNode,t),this._oldVNode=t}},t.prototype.renderOneToVNode=function(t){return Tw(t,aw(this._id))},t.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._backgroundColor,i=this._width,r=this._height,o=aw(this._id);o.animation=t.animation,o.willUpdate=t.willUpdate,o.compress=t.compress;var a=[];if(n&&"none"!==n){var s=Object(fe.p)(n),l=s.color,u=s.opacity;this._bgVNode=rw("rect","bg",{width:i,height:r,x:"0",y:"0",id:"0",fill:l,"fill-opacity":u}),a.push(this._bgVNode)}else this._bgVNode=null;var c=t.compress?null:this._mainVNode=rw("g","main",{},[]);this._paintList(e,o,c?c.children:a),c&&a.push(c);var h=Object(v.map)(Object(v.keys)(o.defs),function(t){return o.defs[t]});if(h.length&&a.push(rw("defs","defs",{},h)),t.animation){var d=function(t,e,n){var i=(n=n||{}).newline?"\n":"",r=" {"+i,o=i+"}",a=Object(v.map)(Object(v.keys)(t),function(e){return e+r+Object(v.map)(Object(v.keys)(t[e]),function(n){return n+":"+t[e][n]+";"}).join(i)+o}).join(i),s=Object(v.map)(Object(v.keys)(e),function(t){return"@keyframes "+t+r+Object(v.map)(Object(v.keys)(e[t]),function(n){return n+r+Object(v.map)(Object(v.keys)(e[t][n]),function(i){var r=e[t][n][i];return"d"===i&&(r='path("'+r+'")'),i+":"+r+";"}).join(i)+o}).join(i)+o}).join(i);return a||s?["<![CDATA[",a,s,"]]>"].join(i):""}(o.cssNodes,o.cssAnims,{newline:!0});if(d){var f=rw("style","stl",{},[],d);a.push(f)}}return sw(i,r,a,t.useViewBox)},t.prototype.renderToString=function(t){return t=t||{},ow(this.renderToVNode({animation:Object(v.retrieve2)(t.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:Object(v.retrieve2)(t.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t;var e=this._bgVNode;if(e&&e.elm){var n=Object(fe.p)(t),i=n.color,r=n.opacity;e.elm.setAttribute("fill",i),r<1&&e.elm.setAttribute("fill-opacity",r)}},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(t,e,n){for(var i,r,o=t.length,a=[],s=0,l=0,u=0;u<o;u++){var c=t[u];if(!c.invisible){var h=c.__clipPaths,d=h&&h.length||0,f=r&&r.length||0,p=void 0;for(p=Math.max(d-1,f-1);p>=0&&(!h||!r||h[p]!==r[p]);p--);for(var g=f-1;g>p;g--)i=a[--s-1];for(var v=p+1;v<d;v++){var m={};Ow(h[v],m,e);var y=rw("g","clip-g-"+l++,m,[]);(i?i.children:n).push(y),a[s++]=y,i=y}r=h;var b=Tw(c,e);b&&(i?i.children:n).push(b)}}},t.prototype.resize=function(t,e){var n=this._opts,i=this.root,r=this._viewport;if(null!=t&&(n.width=t),null!=e&&(n.height=e),i&&r&&(r.style.display="none",t=Ng(i,0,n),e=Ng(i,1,n),r.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,r){var o=r.style;o.width=t+"px",o.height=e+"px"}var a=this._svgDom;a&&(a.setAttribute("width",t),a.setAttribute("height",e))}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(t){var e=encodeURIComponent(this.renderToString()),n="data:image/svg+xml;";return t?(e=Object(fe.c)(e))&&n+"base64,"+e:n+"charset=UTF-8,"+e},t}();function Kw(t,e,n){var i=Nn.d.createCanvas(),r=e.getWidth(),o=e.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",t)),i.width=r*n,i.height=o*n,i}var qw=function(t){function e(e,n,i){var r,o=t.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,i=i||qe,"string"==typeof e?r=Kw(e,n,i):v.isObject(e)&&(e=(r=e).id),o.id=e,o.dom=r;var a=r.style;return a&&(v.disableUserSelect(r),r.onselectstart=function(){return!1},a.padding="0",a.margin="0",a.borderWidth="0"),o.painter=n,o.dpr=i,o}return y(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Kw("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,n,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var r,o=[],a=this.maxRepaintRectCount,s=!1,l=new En(0,0,0,0);function u(t){if(t.isFinite()&&!t.isZero())if(0===o.length){(e=new En(0,0,0,0)).copy(t),o.push(e)}else{for(var e,n=!1,i=1/0,r=0,u=0;u<o.length;++u){var c=o[u];if(c.intersect(t)){var h=new En(0,0,0,0);h.copy(c),h.union(t),o[u]=h,n=!0;break}if(s){l.copy(t),l.union(c);var d=t.width*t.height,f=c.width*c.height,p=l.width*l.height-d-f;p<i&&(i=p,r=u)}}if(s&&(o[r].union(t),n=!0),!n)(e=new En(0,0,0,0)).copy(t),o.push(e);s||(s=o.length>=a)}}for(var c=this.__startIndex;c<this.__endIndex;++c){if(f=t[c]){var h=f.shouldBePainted(n,i,!0,!0);(p=f.__isRendered&&(f.__dirty&Et||!h)?f.getPrevPaintRect():null)&&u(p);var d=h&&(f.__dirty&Et||!f.__isRendered)?f.getPaintRect():null;d&&u(d)}}for(c=this.__prevStartIndex;c<this.__prevEndIndex;++c){var f,p;h=(f=e[c]).shouldBePainted(n,i,!0,!0);if(f&&(!h||!f.__zr)&&f.__isRendered)(p=f.getPrevPaintRect())&&u(p)}do{r=!1;for(c=0;c<o.length;)if(o[c].isZero())o.splice(c,1);else{for(var g=c+1;g<o.length;)o[c].intersect(o[g])?(r=!0,o[c].union(o[g]),o.splice(g,1)):g++;c++}}while(r);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r&&(r.width=t+"px",r.height=e+"px"),i.width=t*n,i.height=e*n,o&&(o.width=t*n,o.height=e*n,1!==n&&this.ctxBack.scale(n,n))},e.prototype.clear=function(t,e,n){var i=this.dom,r=this.ctx,o=i.width,a=i.height;e=e||this.clearColor;var s=this.motionBlur&&!t,l=this.lastFrameAlpha,u=this.dpr,c=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,o/u,a/u));var h=this.domBack;function d(t,n,i,o){if(r.clearRect(t,n,i,o),e&&"transparent"!==e){var a=void 0;v.isGradientObject(e)?(a=e.__canvasGradient||Eg(r,e,{x:0,y:0,width:i,height:o}),e.__canvasGradient=a):v.isImagePatternObject(e)&&(a=Fg(r,e,{dirty:function(){c.setUnpainted(),c.__painter.refresh()}})),r.save(),r.fillStyle=a||e,r.fillRect(t,n,i,o),r.restore()}s&&(r.save(),r.globalAlpha=l,r.drawImage(h,t,n,i,o),r.restore())}!n||s?d(0,0,o,a):n.length&&v.each(n,function(t){d(t.x*u,t.y*u,t.width*u,t.height*u)})},e}(Y),t_=314159;var e_=function(){function t(t,e,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=v.extend({},n||{}),this.dpr=n.devicePixelRatio||qe,this._singleCanvas=r,this.root=t,t.style&&(v.disableUserSelect(t),t.innerHTML=""),this.storage=e;var o=this._zlevelList;this._prevDisplayList=[];var a=this._layers;if(r){var s=t,l=s.width,u=s.height;null!=n.width&&(l=n.width),null!=n.height&&(u=n.height),this.dpr=n.devicePixelRatio||1,s.width=l*this.dpr,s.height=u*this.dpr,this._width=l,this._height=u;var c=new qw(s,this,this.dpr);c.__builtin__=!0,c.initContext(),a[t_]=c,c.zlevel=t_,o.push(t_),this._domRoot=t}else{this._width=Ng(t,0,n),this._height=Ng(t,1,n);var h=this._domRoot=function(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);t.appendChild(h)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var r=0;r<i.length;r++){var o=i[r],a=this._layers[o];if(!a.__builtin__&&a.refresh){var s=0===r?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var i,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<e;o++){var a=t[o];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(1e5)),i||(i=n.ctx).save(),qg(i,a,r,o===e-1))}i&&i.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(1e5)},t.prototype.paintOne=function(t,e){Kg(t,e)},t.prototype._paintList=function(t,e,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e,n),o=r.finished,a=r.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),o)this.eachLayer(function(t){t.afterBrush&&t.afterBrush()});else{var s=this;Pt(function(){s._paintList(t,e,n,i)})}}},t.prototype._compositeManually=function(){var t=this.getLayer(t_).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,e,n)})},t.prototype._doPaintList=function(t,e,n){for(var i=this,r=[],o=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var s=this._zlevelList[a],l=this._layers[s];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||n)&&r.push(l)}for(var u=!0,c=!1,h=function(a){var s,l=r[a],h=l.ctx,f=o&&l.createRepaintRects(t,e,d._width,d._height),p=n?l.__startIndex:l.__drawIndex,g=!n&&l.incremental&&Date.now,v=g&&Date.now(),m=l.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,m,f);else if(p===l.__startIndex){var y=t[p];y.incremental&&y.notClear&&!n||l.clear(!1,m,f)}-1===p&&(console.error("For some unknown reason. drawIndex is -1"),p=l.__startIndex);var b=function(e){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(s=p;s<l.__endIndex;s++){var r=t[s];if(r.__inHover&&(c=!0),i._doPaintEl(r,l,o,e,n,s===l.__endIndex-1),g)if(Date.now()-v>15)break}n.prevElClipPaths&&h.restore()};if(f)if(0===f.length)s=l.__endIndex;else for(var x=d.dpr,w=0;w<f.length;++w){var _=f[w];h.save(),h.beginPath(),h.rect(_.x*x,_.y*x,_.width*x,_.height*x),h.clip(),b(_),h.restore()}else h.save(),b(),h.restore();l.__drawIndex=s,l.__drawIndex<l.__endIndex&&(u=!1)},d=this,f=0;f<r.length;f++)h(f);return g.a.wxa&&v.each(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),{finished:u,needsRefreshHover:c}},t.prototype._doPaintEl=function(t,e,n,i,r,o){var a=e.ctx;if(n){var s=t.getPaintRect();(!i||s&&s.intersect(i))&&(qg(a,t,r,o),t.setPrevPaintRect(s))}else qg(a,t,r,o)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=t_);var n=this._layers[t];return n||((n=new qw("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]?v.merge(n,this._layerConfig[t],!0):this._layerConfig[t-.01]&&v.merge(n,this._layerConfig[t-.01],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},t.prototype.insertLayer=function(t,e){var n=this._layers,i=this._zlevelList,r=i.length,o=this._domRoot,a=null,s=-1;if(!n[t]&&function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(r>0&&t>i[0]){for(s=0;s<r-1&&!(i[s]<t&&i[s+1]>t);s++);a=n[i[s]]}if(i.splice(s+1,0,t),n[t]=e,!e.virtual)if(a){var l=a.dom;l.nextSibling?o.insertBefore(e.dom,l.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.__painter=this}},t.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i];t.call(e,this._layers[r],r)}},t.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i],o=this._layers[r];o.__builtin__&&t.call(e,o,r)}},t.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i],o=this._layers[r];o.__builtin__||t.call(e,o,r)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){o&&(o.__endIndex!==t&&(o.__dirty=!0),o.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var n=1;n<t.length;n++){if((s=t[n]).zlevel!==t[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var i,r,o=null,a=0;for(r=0;r<t.length;r++){var s,l=(s=t[r]).zlevel,u=void 0;i!==l&&(i=l,a=0),s.incremental?((u=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,a=1):u=this.getLayer(l+(a>0?.01:0),this._needsManuallyCompositing),u.__builtin__||v.logError("ZLevel "+l+" has been used by unkown layer "+u.id),u!==o&&(u.__used=!0,u.__startIndex!==r&&(u.__dirty=!0),u.__startIndex=r,u.incremental?u.__drawIndex=-1:u.__drawIndex=r,e(r),o=u),s.__dirty&Et&&!s.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=r))}e(r),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,v.each(this._layers,function(t){t.setUnpainted()})},t.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?v.merge(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];if(r===t||r===t+.01){var o=this._layers[r];v.merge(o,n[t],!0)}}}},t.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(v.indexOf(n,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,r=this.root;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=Ng(r,0,i),e=Ng(r,1,i),n.style.display="",this._width!==t||e!==this._height){for(var o in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(t_).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[t_].dom;var e=new qw("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,r=e.dom.height;this.eachLayer(function(t){t.__builtin__?n.drawImage(t.dom,0,0,i,r):t.renderToCanvas&&(n.save(),t.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,l=a.length;s<l;s++){var u=a[s];qg(n,u,o,s===l-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();var n_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return p(e,t),e.prototype.getInitialData=function(t){return dy(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new Kn,n=kg("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(n),n.setStyle(t.lineStyle);var i=this.getData().getVisual("symbol"),r=this.getData().getVisual("symbolRotate"),o="none"===i?"circle":i,a=.8*t.itemHeight,s=kg(o,(t.itemWidth-a)/2,(t.itemHeight-a)/2,a,a,t.itemStyle.fill);e.add(s),s.setStyle(t.itemStyle);var l="inherit"===t.iconRotate?r:t.iconRotate||0;return s.rotation=l*Math.PI/180,s.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),e},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(up);function i_(t,e){var n=t.mapDimensionsAll("defaultedLabel"),i=n.length;if(1===i){var r=qd(t,e,n[0]);return null!=r?r+"":null}if(i){for(var o=[],a=0;a<n.length;a++)o.push(qd(t,e,n[a]));return o.join(" ")}}function r_(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!Object(v.isArray)(e))return e+"";for(var i=[],r=0;r<n.length;r++){var o=t.getDimensionIndex(n[r]);o>=0&&i.push(e[o])}return i.join(" ")}function o_(t,e){this.parent.drift(t,e)}var a_=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.updateData(e,n,i,r),o}return p(e,t),e.prototype._createSymbol=function(t,e,n,i,r){this.removeAll();var o=kg(t,-1,-1,2,2,null,r);o.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),o.drift=o_,this._symbolType=t,this.add(o)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){rs(this.childAt(0))},e.prototype.downplay=function(){os(this.childAt(0))},e.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},e.prototype.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},e.prototype.updateData=function(t,n,i,r){this.silent=!1;var o=t.getItemVisual(n,"symbol")||"circle",a=t.hostModel,s=e.getSymbolSize(t,n),l=o!==this._symbolType,u=r&&r.disableAnimation;if(l){var c=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,t,n,s,c)}else{(d=this.childAt(0)).silent=!1;var h={scaleX:s[0]/2,scaleY:s[1]/2};u?d.attr(h):$l(d,h,a,n),nu(d)}if(this._updateCommon(t,n,s,i,r),l){var d=this.childAt(0);if(!u){h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,Xl(d,h,a,n)}}u&&this.childAt(0).stopAnimation("leave"),this._seriesModel=a},e.prototype._updateCommon=function(t,e,n,i,r){var o,a,s,l,u,c,h,d,f,p=this.childAt(0),g=t.hostModel;if(i&&(o=i.emphasisItemStyle,a=i.blurItemStyle,s=i.selectItemStyle,l=i.focus,u=i.blurScope,h=i.labelStatesModels,d=i.hoverScale,f=i.cursorStyle,c=i.emphasisDisabled),!i||t.hasItemOption){var m=i&&i.itemModel?i.itemModel:t.getItemModel(e),y=m.getModel("emphasis");o=y.getModel("itemStyle").getItemStyle(),s=m.getModel(["select","itemStyle"]).getItemStyle(),a=m.getModel(["blur","itemStyle"]).getItemStyle(),l=y.get("focus"),u=y.get("blurScope"),c=y.get("disabled"),h=Ru(m),d=y.getShallow("scale"),f=m.getShallow("cursor")}var b=t.getItemVisual(e,"symbolRotate");p.attr("rotation",(b||0)*Math.PI/180||0);var x=Og(t.getItemVisual(e,"symbolOffset"),n);x&&(p.x=x[0],p.y=x[1]),f&&p.attr("cursor",f);var w=t.getItemVisual(e,"style"),_=w.fill;if(p instanceof Ko){var S=p.style;p.useStyle(Object(v.extend)({image:S.image,x:S.x,y:S.y,width:S.width,height:S.height},w))}else p.__isEmptyBrush?p.useStyle(Object(v.extend)({},w)):p.useStyle(w),p.style.decal=null,p.setColor(_,r&&r.symbolInnerColor),p.style.strokeNoScale=!0;var M=t.getItemVisual(e,"liftZ"),C=this._z2;null!=M?null==C&&(this._z2=p.z2,p.z2+=M):null!=C&&(p.z2=C,this._z2=null);var I=r&&r.useNameLabel;Pu(p,h,{labelFetcher:g,labelDataIndex:e,defaultText:function(e){return I?t.getName(e):i_(t,e)},inheritColor:_,defaultOpacity:w.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var k=p.ensureState("emphasis");if(k.style=o,p.ensureState("select").style=s,p.ensureState("blur").style=a,d){var T=Math.max(1.1,3/this._sizeY);k.scaleX=this._sizeX*T,k.scaleY=this._sizeY*T}this.setSymbolScale(1),ms(this,l,u,c)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e){var n=this.childAt(0),i=this._seriesModel,r=Sa(this).dataIndex,o=e&&e.animation;if(this.silent=n.silent=!0,e&&e.fadeLabel){var a=n.getTextContent();a&&ql(a,{style:{opacity:0}},i,{dataIndex:r,removeOpt:o,cb:function(){n.removeTextContent()}})}else n.removeTextContent();ql(n,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:r,cb:t,removeOpt:o})},e.getSymbolSize=function(t,e){return Tg(t.getItemVisual(e,"symbolSize"))},e}(Kn);function s_(t,e,n,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function l_(t){return null==t||Object(v.isObject)(t)||(t={isIgnore:t}),t||{}}function u_(t){var e=t.hostModel,n=e.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:Ru(e),cursorStyle:e.get("cursor")}}var c_=function(){function t(t){this.group=new Kn,this._SymbolCtor=t||a_}return t.prototype.updateData=function(t,e){this._progressiveEls=null,e=l_(e);var n=this.group,i=t.hostModel,r=this._data,o=this._SymbolCtor,a=e.disableAnimation,s=u_(t),l={disableAnimation:a},u=e.getSymbolPoint||function(e){return t.getItemLayout(e)};r||n.removeAll(),t.diff(r).add(function(i){var r=u(i);if(s_(t,r,i,e)){var a=new o(t,i,s,l);a.setPosition(r),t.setItemGraphicEl(i,a),n.add(a)}}).update(function(c,h){var d=r.getItemGraphicEl(h),f=u(c);if(s_(t,f,c,e)){var p=t.getItemVisual(c,"symbol")||"circle",g=d&&d.getSymbolType&&d.getSymbolType();if(!d||g&&g!==p)n.remove(d),(d=new o(t,c,s,l)).setPosition(f);else{d.updateData(t,c,s,l);var v={x:f[0],y:f[1]};a?d.attr(v):$l(d,v,i)}n.add(d),t.setItemGraphicEl(c,d)}else n.remove(d)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&e.fadeOut(function(){n.remove(e)})}).execute(),this._getSymbolPoint=u,this._data=t},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(e,n){var i=t._getSymbolPoint(n);e.setPosition(i),e.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=u_(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,n){function i(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=l_(n);for(var r=t.start;r<t.end;r++){var o=e.getItemLayout(r);if(s_(e,o,r,n)){var a=new this._SymbolCtor(e,r,this._seriesScope);a.traverse(i),a.setPosition(o),this.group.add(a),e.setItemGraphicEl(r,a),this._progressiveEls.push(a)}}},t.prototype.eachRendered=function(t){Nu(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll()},t}();function h_(t,e,n){var i=t.getBaseAxis(),r=t.getOtherAxis(i),o=function(t,e){var n=0,i=t.scale.getExtent();"start"===e?n=i[0]:"end"===e?n=i[1]:i[0]>0?n=i[0]:i[1]<0&&(n=i[1]);return n}(r,n),a=i.dim,s=r.dim,l=e.mapDimension(s),u=e.mapDimension(a),c="x"===s||"radius"===s?1:0,h=Object(v.map)(t.dimensions,function(t){return e.mapDimension(t)}),d=!1,f=e.getCalculationInfo("stackResultDimension");return cy(e,h[0])&&(d=!0,h[0]=f),cy(e,h[1])&&(d=!0,h[1]=f),{dataDimsForPoint:h,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!d,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function d_(t,e,n,i){var r=NaN;t.stacked&&(r=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=t.valueStart);var o=t.baseDataOffset,a=[];return a[o]=n.get(t.baseDim,i),a[1-o]=r,e.dataToPoint(a)}var f_=Math.min,p_=Math.max;function g_(t,e){return isNaN(t)||isNaN(e)}function v_(t,e,n,i,r,o,a,s,l){for(var u,c,h,d,f,p,g=n,v=0;v<i;v++){var m=e[2*g],y=e[2*g+1];if(g>=r||g<0)break;if(g_(m,y)){if(l){g+=o;continue}break}if(g===n)t[o>0?"moveTo":"lineTo"](m,y),h=m,d=y;else{var b=m-u,x=y-c;if(b*b+x*x<.5){g+=o;continue}if(a>0){for(var w=g+o,_=e[2*w],S=e[2*w+1];_===m&&S===y&&v<i;)v++,g+=o,_=e[2*(w+=o)],S=e[2*w+1],b=(m=e[2*g])-u,x=(y=e[2*g+1])-c;var M=v+1;if(l)for(;g_(_,S)&&M<i;)M++,_=e[2*(w+=o)],S=e[2*w+1];var C=.5,I=0,k=0,T=void 0,O=void 0;if(M>=i||g_(_,S))f=m,p=y;else{I=_-u,k=S-c;var E=m-u,A=_-m,N=y-c,L=S-y,D=void 0,j=void 0;if("x"===s){D=Math.abs(E),j=Math.abs(A);var P=I>0?1:-1;f=m-P*D*a,p=y,T=m+P*j*a,O=y}else if("y"===s){D=Math.abs(N),j=Math.abs(L);var R=k>0?1:-1;f=m,p=y-R*D*a,T=m,O=y+R*j*a}else D=Math.sqrt(E*E+N*N),f=m-I*a*(1-(C=(j=Math.sqrt(A*A+L*L))/(j+D))),p=y-k*a*(1-C),O=y+k*a*C,T=f_(T=m+I*a*C,p_(_,m)),O=f_(O,p_(S,y)),T=p_(T,f_(_,m)),p=y-(k=(O=p_(O,f_(S,y)))-y)*D/j,f=f_(f=m-(I=T-m)*D/j,p_(u,m)),p=f_(p,p_(c,y)),f=p_(f,f_(u,m)),p=p_(p,f_(c,y)),T=m+(I=m-f)*j/D,O=y+(k=y-p)*j/D}t.bezierCurveTo(h,d,f,p,m,y),h=T,d=O}else t.lineTo(m,y)}u=m,c=y,g+=o}return v}var m_=function(){return function(){this.smooth=0,this.smoothConstraint=!0}}(),y_=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polyline",n}return p(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new m_},e.prototype.buildPath=function(t,e){var n=e.points,i=0,r=n.length/2;if(e.connectNulls){for(;r>0&&g_(n[2*r-2],n[2*r-1]);r--);for(;i<r&&g_(n[2*i],n[2*i+1]);i++);}for(;i<r;)i+=v_(t,n,i,r,r,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,i,r=this.path.data,o=Mo.CMD,a="x"===e,s=[],l=0;l<r.length;){var u=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0;switch(r[l++]){case o.M:n=r[l++],i=r[l++];break;case o.L:if(u=r[l++],c=r[l++],(g=a?(t-n)/(u-n):(t-i)/(c-i))<=1&&g>=0){var v=a?(c-i)*g+i:(u-n)*g+n;return a?[t,v]:[v,t]}n=u,i=c;break;case o.C:u=r[l++],c=r[l++],h=r[l++],d=r[l++],f=r[l++],p=r[l++];var m=a?Kt(n,u,h,f,t,s):Kt(i,c,d,p,t,s);if(m>0)for(var y=0;y<m;y++){var b=s[y];if(b<=1&&b>=0){v=a?$t(i,c,d,p,b):$t(n,u,h,f,b);return a?[t,v]:[v,t]}}n=f,i=p}}},e}(Uo),b_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e}(m_),x_=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polygon",n}return p(e,t),e.prototype.getDefaultShape=function(){return new b_},e.prototype.buildPath=function(t,e){var n=e.points,i=e.stackedOnPoints,r=0,o=n.length/2,a=e.smoothMonotone;if(e.connectNulls){for(;o>0&&g_(n[2*o-2],n[2*o-1]);o--);for(;r<o&&g_(n[2*r],n[2*r+1]);r++);}for(;r<o;){var s=v_(t,n,r,o,o,1,e.smooth,a,e.connectNulls);v_(t,i,r+s-1,s,o,-1,e.stackedOnSmooth,a,e.connectNulls),r+=s+1,t.closePath()}},e}(Uo);function w_(t,e,n,i,r){var o=t.getArea(),a=o.x,s=o.y,l=o.width,u=o.height,c=n.get(["lineStyle","width"])||2;a-=c/2,s-=c/2,l+=c,u+=c,a=Math.floor(a),l=Math.round(l);var h=new aa({shape:{x:a,y:s,width:l,height:u}});if(e){var d=t.getBaseAxis(),f=d.isHorizontal(),p=d.inverse;f?(p&&(h.shape.x+=l),h.shape.width=0):(p||(h.shape.y+=u),h.shape.height=0);var g=Object(v.isFunction)(r)?function(t){r(t,h)}:null;Xl(h,{shape:{width:l,height:u,x:a,y:s}},n,null,i,g)}return h}function __(t,e,n){var i=t.getArea(),r=di(i.r0,1),o=di(i.r,1),a=new fl({shape:{cx:di(t.cx,1),cy:di(t.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});e&&("angle"===t.getBaseAxis().dim?a.shape.endAngle=i.startAngle:a.shape.r=r,Xl(a,{shape:{endAngle:i.endAngle,r:o}},n));return a}function S_(t,e,n,i,r){return t?"polar"===t.type?__(t,e,n):"cartesian2d"===t.type?w_(t,e,n,i,r):null:null}function M_(t,e){return t.type===e}function C_(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return!0}}function I_(t){for(var e=1/0,n=1/0,i=-1/0,r=-1/0,o=0;o<t.length;){var a=t[o++],s=t[o++];isNaN(a)||(e=Math.min(a,e),i=Math.max(a,i)),isNaN(s)||(n=Math.min(s,n),r=Math.max(s,r))}return[[e,n],[i,r]]}function k_(t,e){var n=I_(t),i=n[0],r=n[1],o=I_(e),a=o[0],s=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function T_(t){return v.isNumber(t)?t:t?.5:0}function O_(t,e,n){for(var i=e.getBaseAxis(),r="x"===i.dim||"radius"===i.dim?0:1,o=[],a=0,s=[],l=[],u=[];a<t.length-2;a+=2)switch(u[0]=t[a+2],u[1]=t[a+3],l[0]=t[a],l[1]=t[a+1],o.push(l[0],l[1]),n){case"end":s[r]=u[r],s[1-r]=l[1-r],o.push(s[0],s[1]);break;case"middle":var c=(l[r]+u[r])/2,h=[];s[r]=h[r]=c,s[1-r]=l[1-r],h[1-r]=u[1-r],o.push(s[0],s[1]),o.push(h[0],h[1]);break;default:s[r]=l[r],s[1-r]=u[1-r],o.push(s[0],s[1])}return o.push(t[a++],t[a++]),o}function E_(t,e,n){var i=t.getVisual("visualMeta");if(i&&i.length&&t.count()&&"cartesian2d"===e.type){for(var r,o,a=i.length-1;a>=0;a--){var s=t.getDimensionInfo(i[a].dimension);if("x"===(r=s&&s.coordDim)||"y"===r){o=i[a];break}}if(o){var l=e.getAxis(r),u=v.map(o.stops,function(t){return{coord:l.toGlobalCoord(l.dataToCoord(t.value)),color:t.color}}),c=u.length,h=o.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),h.reverse());var d=function(t,e){var n,i,r=[],o=t.length;function a(t,e,n){var i=t.coord,r=(n-i)/(e.coord-i);return{coord:n,color:Object(de.lerp)(r,[t.color,e.color])}}for(var s=0;s<o;s++){var l=t[s],u=l.coord;if(u<0)n=l;else{if(u>e){i?r.push(a(i,l,e)):n&&r.push(a(n,l,0),a(n,l,e));break}n&&(r.push(a(n,l,0)),n=null),r.push(l),i=l}}return r}(u,"x"===r?n.getWidth():n.getHeight()),f=d.length;if(!f&&c)return u[0].coord<0?h[1]?h[1]:u[c-1].color:h[0]?h[0]:u[0].color;var p=d[0].coord-10,g=d[f-1].coord+10,m=g-p;if(m<.001)return"transparent";v.each(d,function(t){t.offset=(t.coord-p)/m}),d.push({offset:f?d[f-1].offset:.5,color:h[1]||"transparent"}),d.unshift({offset:f?d[0].offset:.5,color:h[0]||"transparent"});var y=new zl(0,0,0,0,d,!0);return y[r]=p,y[r+"2"]=g,y}}}function A_(t,e,n){var i=t.get("showAllSymbol"),r="auto"===i;if(!i||r){var o=n.getAxesByScale("ordinal")[0];if(o&&(!r||!function(t,e){var n=t.getExtent(),i=Math.abs(n[1]-n[0])/t.scale.count();isNaN(i)&&(i=0);for(var r=e.count(),o=Math.max(1,Math.round(r/5)),a=0;a<r;a+=o)if(1.5*a_.getSymbolSize(e,a)[t.isHorizontal()?1:0]>i)return!1;return!0}(o,e))){var a=e.mapDimension(o.dim),s={};return v.each(o.getViewLabels(),function(t){var e=o.scale.getRawOrdinalNumber(t.tickValue);s[e]=1}),function(t){return!s.hasOwnProperty(e.get(a,t))}}}}function N_(t,e){return[t[2*e],t[2*e+1]]}function L_(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<Na.length;e++)if(t.get([Na[e],"endLabel","show"]))return!0;return!1}function D_(t,e,n,i){if(M_(e,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),a=i.getData(),s={lastFrameIndex:0},l=L_(i)?function(n,i){t._endLabelOnDuring(n,i,a,s,o,r,e)}:null,u=e.getBaseAxis().isHorizontal(),c=w_(e,n,i,function(){var e=t._endLabel;e&&n&&null!=s.originalX&&e.attr({x:s.originalX,y:s.originalY})},l);if(!i.get("clip",!0)){var h=c.shape,d=Math.max(h.width,h.height);u?(h.y-=d,h.height+=2*d):(h.x-=d,h.width+=2*d)}return l&&l(1,c),c}return __(e,n,i)}var j_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.init=function(){var t=new Kn,e=new c_;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,n){var i=this,r=t.coordinateSystem,o=this.group,a=t.getData(),s=t.getModel("lineStyle"),l=t.getModel("areaStyle"),u=a.getLayout("points")||[],c="polar"===r.type,h=this._coordSys,d=this._symbolDraw,f=this._polyline,p=this._polygon,g=this._lineGroup,m=t.get("animation"),y=!l.isEmpty(),b=l.get("origin"),x=h_(r,a,b),w=y&&function(t,e,n){if(!n.valueDim)return[];for(var i=e.count(),r=Ly(2*i),o=0;o<i;o++){var a=d_(n,t,e,o);r[2*o]=a[0],r[2*o+1]=a[1]}return r}(r,a,x),_=t.get("showSymbol"),S=_&&!c&&A_(t,a,r),M=this._data;M&&M.eachItemGraphicEl(function(t,e){t.__temp&&(o.remove(t),M.setItemGraphicEl(e,null))}),_||d.remove(),o.add(g);var C,I=!c&&t.get("step");r&&r.getArea&&t.get("clip",!0)&&(null!=(C=r.getArea()).width?(C.x-=.1,C.y-=.1,C.width+=.2,C.height+=.2):C.r0&&(C.r0-=.5,C.r+=.5)),this._clipShapeForSymbol=C;var k=E_(a,r,n)||a.getVisual("style")[a.getVisual("drawType")];if(f&&h.type===r.type&&I===this._step){y&&!p?p=this._newPolygon(u,w):p&&!y&&(g.remove(p),p=this._polygon=null),c||this._initOrUpdateEndLabel(t,r,sh(k));var T=g.getClipPath();if(T)Xl(T,{shape:D_(this,r,!1,t).shape},t);else g.setClipPath(D_(this,r,!0,t));_&&d.updateData(a,{isIgnore:S,clipShape:C,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),C_(this._stackedOnPoints,w)&&C_(this._points,u)||(m?this._doUpdateAnimation(a,w,r,n,I,b):(I&&(u=O_(u,r,I),w&&(w=O_(w,r,I))),f.setShape({points:u}),p&&p.setShape({points:u,stackedOnPoints:w})))}else _&&d.updateData(a,{isIgnore:S,clipShape:C,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),m&&this._initSymbolLabelAnimation(a,r,C),I&&(u=O_(u,r,I),w&&(w=O_(w,r,I))),f=this._newPolyline(u),y&&(p=this._newPolygon(u,w)),c||this._initOrUpdateEndLabel(t,r,sh(k)),g.setClipPath(D_(this,r,!0,t));var O=t.getModel("emphasis"),E=O.get("focus"),A=O.get("blurScope"),N=O.get("disabled");(f.useStyle(v.defaults(s.getLineStyle(),{fill:"none",stroke:k,lineJoin:"bevel"})),ws(f,t,"lineStyle"),f.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"]))&&(f.getState("emphasis").style.lineWidth=+f.style.lineWidth+1);Sa(f).seriesIndex=t.seriesIndex,ms(f,E,A,N);var L=T_(t.get("smooth")),D=t.get("smoothMonotone"),j=t.get("connectNulls");if(f.setShape({smooth:L,smoothMonotone:D,connectNulls:j}),p){var P=a.getCalculationInfo("stackedOnSeries"),R=0;p.useStyle(v.defaults(l.getAreaStyle(),{fill:k,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),P&&(R=T_(P.get("smooth"))),p.setShape({smooth:L,stackedOnSmooth:R,smoothMonotone:D,connectNulls:j}),ws(p,t,"areaStyle"),Sa(p).seriesIndex=t.seriesIndex,ms(p,E,A,N)}var z=function(t){i._changePolyState(t)};a.eachItemGraphicEl(function(t){t&&(t.onHoverStateChange=z)}),this._polyline.onHoverStateChange=z,this._data=a,this._coordSys=r,this._stackedOnPoints=w,this._points=u,this._step=I,this._valueOrigin=b,t.get("triggerLineEvent")&&(this.packEventData(t,f),p&&this.packEventData(t,p))},e.prototype.packEventData=function(t,e){Sa(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,e,n,i){var r=t.getData(),o=Zi(r,i);if(this._changePolyState("emphasis"),!(o instanceof Array)&&null!=o&&o>=0){var a=r.getLayout("points"),s=r.getItemGraphicEl(o);if(!s){var l=a[2*o],u=a[2*o+1];if(isNaN(l)||isNaN(u))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u))return;var c=t.get("zlevel"),h=t.get("z");(s=new a_(r,o)).x=l,s.y=u,s.setZ(c,h);var d=s.getSymbolPath().getTextContent();d&&(d.zlevel=c,d.z=h,d.z2=this._polyline.z2+1),s.__temp=!0,r.setItemGraphicEl(o,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else wp.prototype.highlight.call(this,t,e,n,i)},e.prototype.downplay=function(t,e,n,i){var r=t.getData(),o=Zi(r,i);if(this._changePolyState("normal"),null!=o&&o>=0){var a=r.getItemGraphicEl(o);a&&(a.__temp?(r.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else wp.prototype.downplay.call(this,t,e,n,i)},e.prototype._changePolyState=function(t){var e=this._polygon;qa(this._polyline,t),e&&qa(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new y_({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new x_({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},e.prototype._initSymbolLabelAnimation=function(t,e,n){var i,r,o=e.getBaseAxis(),a=o.inverse;"cartesian2d"===e.type?(i=o.isHorizontal(),r=!1):"polar"===e.type&&(i="angle"===o.dim,r=!0);var s=t.hostModel,l=s.get("animationDuration");v.isFunction(l)&&(l=l(null));var u=s.get("animationDelay")||0,c=v.isFunction(u)?u(null):u;t.eachItemGraphicEl(function(t,o){var s=t;if(s){var h=[t.x,t.y],d=void 0,f=void 0,p=void 0;if(n)if(r){var g=n,m=e.pointToCoord(h);i?(d=g.startAngle,f=g.endAngle,p=-m[1]/180*Math.PI):(d=g.r0,f=g.r,p=m[0])}else{var y=n;i?(d=y.x,f=y.x+y.width,p=t.x):(d=y.y+y.height,f=y.y,p=t.y)}var b=f===d?0:(p-d)/(f-d);a&&(b=1-b);var x=v.isFunction(u)?u(o):l*b+c,w=s.getSymbolPath(),_=w.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:x}),_&&_.animateFrom({style:{opacity:0}},{duration:300,delay:x}),w.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,e,n){var i=t.getModel("endLabel");if(L_(t)){var r=t.getData(),o=this._polyline,a=r.getLayout("points");if(!a)return o.removeTextContent(),void(this._endLabel=null);var s=this._endLabel;s||((s=this._endLabel=new _a({z2:200})).ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var l=function(t){for(var e,n,i=t.length/2;i>0&&(e=t[2*i-2],n=t[2*i-1],isNaN(e)||isNaN(n));i--);return i-1}(a);l>=0&&(Pu(o,Ru(t,"endLabel"),{inheritColor:n,labelFetcher:t,labelDataIndex:l,defaultText:function(t,e,n){return null!=n?r_(r,n):i_(r,t)},enableTextSetter:!0},function(t,e){var n=e.getBaseAxis(),i=n.isHorizontal(),r=n.inverse,o=i?r?"right":"left":"center",a=i?"middle":r?"top":"bottom";return{normal:{align:t.get("align")||o,verticalAlign:t.get("verticalAlign")||a}}}(i,e)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,n,i,r,o,a){var s=this._endLabel,l=this._polyline;if(s){t<1&&null==i.originalX&&(i.originalX=s.x,i.originalY=s.y);var u=n.getLayout("points"),c=n.hostModel,h=c.get("connectNulls"),d=o.get("precision"),f=o.get("distance")||0,p=a.getBaseAxis(),g=p.isHorizontal(),v=p.inverse,m=e.shape,y=v?g?m.x:m.y+m.height:g?m.x+m.width:m.y,b=(g?f:0)*(v?-1:1),x=(g?0:-f)*(v?-1:1),w=g?"x":"y",_=function(t,e,n){for(var i,r,o=t.length/2,a="x"===n?0:1,s=0,l=-1,u=0;u<o;u++)if(r=t[2*u+a],!isNaN(r)&&!isNaN(t[2*u+1-a]))if(0!==u){if(i<=e&&r>=e||i>=e&&r<=e){l=u;break}s=u,i=r}else i=r;return{range:[s,l],t:(e-i)/(r-i)}}(u,y,w),S=_.range,M=S[1]-S[0],C=void 0;if(M>=1){if(M>1&&!h){var I=N_(u,S[0]);s.attr({x:I[0]+b,y:I[1]+x}),r&&(C=c.getRawValue(S[0]))}else{(I=l.getPointOn(y,w))&&s.attr({x:I[0]+b,y:I[1]+x});var k=c.getRawValue(S[0]),T=c.getRawValue(S[1]);r&&(C=or(n,d,k,T,_.t))}i.lastFrameIndex=S[0]}else{var O=1===t||i.lastFrameIndex>0?S[0]:0;I=N_(u,O);r&&(C=c.getRawValue(O)),s.attr({x:I[0]+b,y:I[1]+x})}r&&Uu(s).setLabelText(C)}},e.prototype._doUpdateAnimation=function(t,e,n,i,r,o){var a=this._polyline,s=this._polygon,l=t.hostModel,u=function(t,e,n,i,r,o,a,s){for(var l=function(t,e){var n=[];return e.diff(t).add(function(t){n.push({cmd:"+",idx:t})}).update(function(t,e){n.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){n.push({cmd:"-",idx:t})}).execute(),n}(t,e),u=[],c=[],h=[],d=[],f=[],p=[],g=[],v=h_(r,e,a),m=t.getLayout("points")||[],y=e.getLayout("points")||[],b=0;b<l.length;b++){var x=l[b],w=!0,_=void 0,S=void 0;switch(x.cmd){case"=":_=2*x.idx,S=2*x.idx1;var M=m[_],C=m[_+1],I=y[S],k=y[S+1];(isNaN(M)||isNaN(C))&&(M=I,C=k),u.push(M,C),c.push(I,k),h.push(n[_],n[_+1]),d.push(i[S],i[S+1]),g.push(e.getRawIndex(x.idx1));break;case"+":var T=x.idx,O=v.dataDimsForPoint,E=r.dataToPoint([e.get(O[0],T),e.get(O[1],T)]);S=2*T,u.push(E[0],E[1]),c.push(y[S],y[S+1]);var A=d_(v,r,e,T);h.push(A[0],A[1]),d.push(i[S],i[S+1]),g.push(e.getRawIndex(T));break;case"-":w=!1}w&&(f.push(x),p.push(p.length))}p.sort(function(t,e){return g[t]-g[e]});var N=u.length,L=Ly(N),D=Ly(N),j=Ly(N),P=Ly(N),R=[];for(b=0;b<p.length;b++){var z=p[b],B=2*b,F=2*z;L[B]=u[F],L[B+1]=u[F+1],D[B]=c[F],D[B+1]=c[F+1],j[B]=h[F],j[B+1]=h[F+1],P[B]=d[F],P[B+1]=d[F+1],R[b]=f[z]}return{current:L,next:D,stackedOnCurrent:j,stackedOnNext:P,status:R}}(this._data,t,this._stackedOnPoints,e,this._coordSys,0,this._valueOrigin),c=u.current,h=u.stackedOnCurrent,d=u.next,f=u.stackedOnNext;if(r&&(c=O_(u.current,n,r),h=O_(u.stackedOnCurrent,n,r),d=O_(u.next,n,r),f=O_(u.stackedOnNext,n,r)),k_(c,d)>3e3||s&&k_(h,f)>3e3)return a.stopAnimation(),a.setShape({points:d}),void(s&&(s.stopAnimation(),s.setShape({points:d,stackedOnPoints:f})));a.shape.__points=u.current,a.shape.points=c;var p={shape:{points:d}};u.current!==c&&(p.shape.__points=u.next),a.stopAnimation(),$l(a,p,l),s&&(s.setShape({points:c,stackedOnPoints:h}),s.stopAnimation(),$l(s,{shape:{stackedOnPoints:f}},l),a.shape.points!==s.shape.points&&(s.shape.points=a.shape.points));for(var g=[],v=u.status,m=0;m<v.length;m++){if("="===v[m].cmd){var y=t.getItemGraphicEl(v[m].idx1);y&&g.push({el:y,ptIdx:m})}}a.animators&&a.animators.length&&a.animators[0].during(function(){s&&s.dirtyShape();for(var t=a.shape.__points,e=0;e<g.length;e++){var n=g[e].el,i=2*g[e].ptIdx;n.x=t[i],n.y=t[i+1],n.markRedraw()}})},e.prototype.remove=function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(t,i){t.__temp&&(e.remove(t),n.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(wp);function P_(t,e){return{seriesType:t,plan:dp(),reset:function(t){var n=t.getData(),i=t.coordinateSystem,r=t.pipelineContext,o=e||r.large;if(i){var a=Object(v.map)(i.dimensions,function(t){return n.mapDimension(t)}).slice(0,2),s=a.length,l=n.getCalculationInfo("stackResultDimension");cy(n,a[0])&&(a[0]=l),cy(n,a[1])&&(a[1]=l);var u=n.getStore(),c=n.getDimensionIndex(a[0]),h=n.getDimensionIndex(a[1]);return s&&{progress:function(t,e){for(var n=t.end-t.start,r=o&&Ly(n*s),a=[],l=[],d=t.start,f=0;d<t.end;d++){var p=void 0;if(1===s){var g=u.get(c,d);p=i.dataToPoint(g,null,l)}else a[0]=u.get(c,d),a[1]=u.get(h,d),p=i.dataToPoint(a,null,l);o?(r[f++]=p[0],r[f++]=p[1]):e.setItemLayout(d,p.slice())}o&&e.setLayout("points",r)}}}}}}var R_={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},z_=function(t){return Math.round(t.length/2)};function B_(t){return{seriesType:t,reset:function(t,e,n){var i=t.getData(),r=t.get("sampling"),o=t.coordinateSystem,a=i.count();if(a>10&&"cartesian2d"===o.type&&r){var s=o.getBaseAxis(),l=o.getOtherAxis(s),u=s.getExtent(),c=n.getDevicePixelRatio(),h=Math.abs(u[1]-u[0])*(c||1),d=Math.round(a/h);if(d>1){"lttb"===r&&t.setData(i.lttbDownSample(i.mapDimension(l.dim),1/d));var f=void 0;Object(v.isString)(r)?f=R_[r]:Object(v.isFunction)(r)&&(f=r),f&&t.setData(i.downSample(i.mapDimension(l.dim),1/d,f,z_))}}}}}var F_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.getInitialData=function(t,e){return dy(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t){var e=this.coordinateSystem;if(e&&e.clampData){var n=e.dataToPoint(e.clampData(t)),i=this.getData(),r=i.getLayout("offset"),o=i.getLayout("size");return n[e.getBaseAxis().isHorizontal()?0:1]+=r+o/2,n}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(up);up.registerClass(F_);var G_=F_,V_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.getInitialData=function(){return dy(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},e.prototype.brushSelector=function(t,e,n){return n.rect(e.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=cc(G_.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(G_),W_=function(){return function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}}(),H_=function(t){function e(e){var n=t.call(this,e)||this;return n.type="sausage",n}return p(e,t),e.prototype.getDefaultShape=function(){return new W_},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=.5*(o-r),s=r+a,l=e.startAngle,u=e.endAngle,c=e.clockwise,h=2*Math.PI,d=c?u-l<h:l-u<h;d||(l=u-(c?h:-h));var f=Math.cos(l),p=Math.sin(l),g=Math.cos(u),v=Math.sin(u);d?(t.moveTo(f*r+n,p*r+i),t.arc(f*s+n,p*s+i,a,-Math.PI+l,l,!c)):t.moveTo(f*o+n,p*o+i),t.arc(n,i,o,l,u,!c),t.arc(g*s+n,v*s+i,a,u-2*Math.PI,u-Math.PI,!c),0!==r&&t.arc(n,i,r,u,l,c)},e}(Uo);function U_(t,e,n){return e*Math.sin(t)*(n?-1:1)}function Y_(t,e,n){return e*Math.cos(t)*(n?1:-1)}var J_=Math.max,Q_=Math.min;var Z_=function(t){function e(){var n=t.call(this)||this;return n.type=e.type,n._isFirstFrame=!0,n}return p(e,t),e.prototype.render=function(t,e,n,i){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var r=t.get("coordinateSystem");("cartesian2d"===r||"polar"===r)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n,i))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,e){this._progressiveEls=[],this._incrementalRenderLarge(t,e)},e.prototype.eachRendered=function(t){Nu(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t,e,n,i){var r,o=this.group,a=t.getData(),s=this._data,l=t.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?r=u.isHorizontal():"polar"===l.type&&(r="angle"===u.dim);var c=t.isAnimationEnabled()?t:null,h=function(t,e){var n=t.get("realtimeSort",!0),i=e.getBaseAxis();0;if(n&&"category"===i.type&&"cartesian2d"===e.type)return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}(t,l);h&&this._enableRealtimeSort(h,a,n);var d=t.get("clip",!0)||h,f=function(t,e){var n=t.getArea&&t.getArea();if(M_(t,"cartesian2d")){var i=t.getBaseAxis();if("category"!==i.type||!i.onBand){var r=e.getLayout("bandWidth");i.isHorizontal()?(n.x-=r,n.width+=2*r):(n.y-=r,n.height+=2*r)}}return n}(l,a);o.removeClipPath();var p=t.get("roundCap",!0),g=t.get("showBackground",!0),v=t.getModel("backgroundStyle"),m=v.get("borderRadius")||0,y=[],b=this._backgroundEls,x=i&&i.isInitSort,w=i&&"changeAxisOrder"===i.type;function _(t){var e=iS[l.type](a,t),n=function(t,e,n){return new("polar"===t.type?fl:aa)({shape:cS(e,n,t),silent:!0,z2:0})}(l,r,e);return n.useStyle(v.getItemStyle()),"cartesian2d"===l.type&&n.setShape("r",m),y[t]=n,n}a.diff(s).add(function(e){var n=a.getItemModel(e),i=iS[l.type](a,e,n);if(g&&_(e),a.hasValue(e)&&nS[l.type](i)){var s=!1;d&&(s=$_[l.type](f,i));var v=X_[l.type](t,a,e,i,r,c,u.model,!1,p);h&&(v.forceLabelAnimation=!0),oS(v,a,e,n,i,t,r,"polar"===l.type),x?v.attr({shape:i}):h?K_(h,c,v,i,e,r,!1,!1):Xl(v,{shape:i},t,e),a.setItemGraphicEl(e,v),o.add(v),v.ignore=s}}).update(function(e,n){var i=a.getItemModel(e),S=iS[l.type](a,e,i);if(g){var M=void 0;0===b.length?M=_(n):((M=b[n]).useStyle(v.getItemStyle()),"cartesian2d"===l.type&&M.setShape("r",m),y[e]=M);var C=iS[l.type](a,e);$l(M,{shape:cS(r,C,l)},c,e)}var I=s.getItemGraphicEl(n);if(a.hasValue(e)&&nS[l.type](S)){var k=!1;if(d&&(k=$_[l.type](f,S))&&o.remove(I),I?nu(I):I=X_[l.type](t,a,e,S,r,c,u.model,!!I,p),h&&(I.forceLabelAnimation=!0),w){var T=I.getTextContent();if(T){var O=Uu(T);null!=O.prevValue&&(O.prevValue=O.value)}}else oS(I,a,e,i,S,t,r,"polar"===l.type);x?I.attr({shape:S}):h?K_(h,c,I,S,e,r,!0,w):$l(I,{shape:S},t,e,null),a.setItemGraphicEl(e,I),I.ignore=k,o.add(I)}else o.remove(I)}).remove(function(e){var n=s.getItemGraphicEl(e);n&&eu(n,t,e)}).execute();var S=this._backgroundGroup||(this._backgroundGroup=new Kn);S.removeAll();for(var M=0;M<y.length;++M)S.add(y[M]);o.add(S),this._backgroundEls=y,this._data=a},e.prototype._renderLarge=function(t,e,n){this._clear(),lS(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),lS(e,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var e=t.get("clip",!0)&&S_(t.coordinateSystem,!1,t),n=this.group;e?n.setClipPath(e):n.removeClipPath()},e.prototype._enableRealtimeSort=function(t,e,n){var i=this;if(e.count()){var r=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(e,t,n),this._isFirstFrame=!1;else{var o=function(t){var n=e.getItemGraphicEl(t),i=n&&n.shape;return i&&Math.abs(r.isHorizontal()?i.height:i.width)||0};this._onRendered=function(){i._updateSortWithinSameData(e,o,r,n)},n.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,e,n){var i=[];return t.each(t.mapDimension(e.dim),function(t,e){var r=n(e);r=null==r?NaN:r,i.push({dataIndex:e,mappedValue:r,ordinalNumber:t})}),i.sort(function(t,e){return e.mappedValue-t.mappedValue}),{ordinalNumbers:Object(v.map)(i,function(t){return t.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,e,n){for(var i=n.scale,r=t.mapDimension(n.dim),o=Number.MAX_VALUE,a=0,s=i.getOrdinalMeta().categories.length;a<s;++a){var l=t.rawIndexOf(r,i.getRawOrdinalNumber(a)),u=l<0?Number.MIN_VALUE:e(t.indexOfRawIndex(l));if(u>o)return!0;o=u}return!1},e.prototype._isOrderDifferentInView=function(t,e){for(var n=e.scale,i=n.getExtent(),r=Math.max(0,i[0]),o=Math.min(i[1],n.getOrdinalMeta().categories.length-1);r<=o;++r)if(t.ordinalNumbers[r]!==n.getRawOrdinalNumber(r))return!0},e.prototype._updateSortWithinSameData=function(t,e,n,i){if(this._isOrderChangedWithinSameData(t,e,n)){var r=this._dataSort(t,n,e);this._isOrderDifferentInView(r,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:r}))}},e.prototype._dispatchInitSort=function(t,e,n){var i=e.baseAxis,r=this._dataSort(t,i,function(n){return t.get(t.mapDimension(e.otherAxis.dim),n)});n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:r})},e.prototype.remove=function(t,e){this._clear(this._model),this._removeOnRenderedListener(e)},e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var e=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(e){eu(e,t,Sa(e).dataIndex)})):e.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(wp),$_={cartesian2d:function(t,e){var n=e.width<0?-1:1,i=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=t.x+t.width,o=t.y+t.height,a=J_(e.x,t.x),s=Q_(e.x+e.width,r),l=J_(e.y,t.y),u=Q_(e.y+e.height,o),c=s<a,h=u<l;return e.x=c&&a>r?s:a,e.y=h&&l>o?u:l,e.width=c?0:s-a,e.height=h?0:u-l,n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),c||h},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var i=e.r;e.r=e.r0,e.r0=i}var r=Q_(e.r,t.r),o=J_(e.r0,t.r0);e.r=r,e.r0=o;var a=r-o<0;if(n<0){i=e.r;e.r=e.r0,e.r0=i}return a}},X_={cartesian2d:function(t,e,n,i,r,o,a,s,l){var u=new aa({shape:Object(v.extend)({},i),z2:1});(u.__dataIndex=n,u.name="item",o)&&(u.shape[r?"height":"width"]=0);return u},polar:function(t,e,n,i,r,o,a,s,l){var u=!r&&l?H_:fl,c=new u({shape:i,z2:1});c.name="item";var h,d,f=rS(r);if(c.calculateTextPosition=(h=f,d=({isRoundCap:u===H_}||{}).isRoundCap,function(t,e,n){var i=e.position;if(!i||i instanceof Array)return Gn(t,e,n);var r=h(i),o=null!=e.distance?e.distance:5,a=this.shape,s=a.cx,l=a.cy,u=a.r,c=a.r0,f=(u+c)/2,p=a.startAngle,g=a.endAngle,v=(p+g)/2,m=d?Math.abs(u-c)/2:0,y=Math.cos,b=Math.sin,x=s+u*y(p),w=l+u*b(p),_="left",S="top";switch(r){case"startArc":x=s+(c-o)*y(v),w=l+(c-o)*b(v),_="center",S="top";break;case"insideStartArc":x=s+(c+o)*y(v),w=l+(c+o)*b(v),_="center",S="bottom";break;case"startAngle":x=s+f*y(p)+U_(p,o+m,!1),w=l+f*b(p)+Y_(p,o+m,!1),_="right",S="middle";break;case"insideStartAngle":x=s+f*y(p)+U_(p,-o+m,!1),w=l+f*b(p)+Y_(p,-o+m,!1),_="left",S="middle";break;case"middle":x=s+f*y(v),w=l+f*b(v),_="center",S="middle";break;case"endArc":x=s+(u+o)*y(v),w=l+(u+o)*b(v),_="center",S="bottom";break;case"insideEndArc":x=s+(u-o)*y(v),w=l+(u-o)*b(v),_="center",S="top";break;case"endAngle":x=s+f*y(g)+U_(g,o+m,!0),w=l+f*b(g)+Y_(g,o+m,!0),_="left",S="middle";break;case"insideEndAngle":x=s+f*y(g)+U_(g,-o+m,!0),w=l+f*b(g)+Y_(g,-o+m,!0),_="right",S="middle";break;default:return Gn(t,e,n)}return(t=t||{}).x=x,t.y=w,t.align=_,t.verticalAlign=S,t}),o){var p=c.shape,g=r?"r":"endAngle",v={};p[g]=r?0:i.startAngle,v[g]=i[g],(s?$l:Xl)(c,{shape:v},o)}return c}};function K_(t,e,n,i,r,o,a,s){var l,u;o?(u={x:i.x,width:i.width},l={y:i.y,height:i.height}):(u={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(a?$l:Xl)(n,{shape:l},e,r,null);var c=e?t.baseAxis.model:null;(a?$l:Xl)(n,{shape:u},c,r)}function q_(t,e){for(var n=0;n<e.length;n++)if(!isFinite(t[e[n]]))return!0;return!1}var tS=["x","y","width","height"],eS=["cx","cy","r","startAngle","endAngle"],nS={cartesian2d:function(t){return!q_(t,tS)},polar:function(t){return!q_(t,eS)}},iS={cartesian2d:function(t,e,n){var i=t.getItemLayout(e),r=n?function(t,e){var n=t.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var i=t.get(["itemStyle","borderWidth"])||0,r=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),o=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,r,o)}(n,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(t,e,n){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function rS(t){return function(t){var e=t?"Arc":"Angle";return function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+e;default:return t}}}(t)}function oS(t,e,n,i,r,o,a,s){var l=e.getItemVisual(n,"style");s||t.setShape("r",i.get(["itemStyle","borderRadius"])||0),t.useStyle(l);var u=i.getShallow("cursor");u&&t.attr("cursor",u);var c=s?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?r.height>=0?"bottom":"top":r.width>=0?"right":"left",h=Ru(i);Pu(t,h,{labelFetcher:o,labelDataIndex:n,defaultText:i_(o.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:c});var d=t.getTextContent();if(s&&d){var f=i.get(["label","position"]);t.textConfig.inside="middle"===f||null,function(t,e,n,i){if(Object(v.isNumber)(i))t.setTextConfig({rotation:i});else if(Object(v.isArray)(e))t.setTextConfig({rotation:0});else{var r,o=t.shape,a=o.clockwise?o.startAngle:o.endAngle,s=o.clockwise?o.endAngle:o.startAngle,l=(a+s)/2,u=n(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":r=l;break;case"startAngle":case"insideStartAngle":r=a;break;case"endAngle":case"insideEndAngle":r=s;break;default:return void t.setTextConfig({rotation:0})}var c=1.5*Math.PI-r;"middle"===u&&c>Math.PI/2&&c<1.5*Math.PI&&(c-=Math.PI),t.setTextConfig({rotation:c})}}(t,"outside"===f?c:f,rS(a),i.get(["label","rotate"]))}Yu(d,h,o.getRawValue(n),function(t){return r_(e,t)});var p=i.getModel(["emphasis"]);ms(t,p.get("focus"),p.get("blurScope"),p.get("disabled")),ws(t,i),function(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}(r)&&(t.style.fill="none",t.style.stroke="none",Object(v.each)(t.states,function(t){t.style&&(t.style.fill=t.style.stroke="none")}))}var aS=function(){return function(){}}(),sS=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeBar",n}return p(e,t),e.prototype.getDefaultShape=function(){return new aS},e.prototype.buildPath=function(t,e){for(var n=e.points,i=this.baseDimIdx,r=1-this.baseDimIdx,o=[],a=[],s=this.barWidth,l=0;l<n.length;l+=3)a[i]=s,a[r]=n[l+2],o[i]=n[l+i],o[r]=n[l+r],t.rect(o[0],o[1],a[0],a[1])},e}(Uo);function lS(t,e,n,i){var r=t.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,a=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=t.getModel("backgroundStyle"),u=r.getLayout("largeBackgroundPoints");if(u){var c=new sS({shape:{points:u},incremental:!!i,silent:!0,z2:0});c.baseDimIdx=o,c.largeDataIndices=a,c.barWidth=s,c.useStyle(l.getItemStyle()),e.add(c),n&&n.push(c)}var h=new sS({shape:{points:r.getLayout("largePoints")},incremental:!!i,z2:1});h.baseDimIdx=o,h.largeDataIndices=a,h.barWidth=s,e.add(h),h.useStyle(r.getVisual("style")),Sa(h).seriesIndex=t.seriesIndex,t.get("silent")||(h.on("mousedown",uS),h.on("mousemove",uS)),n&&n.push(h)}var uS=Cp(function(t){var e=function(t,e,n){for(var i=t.baseDimIdx,r=1-i,o=t.shape.points,a=t.largeDataIndices,s=[],l=[],u=t.barWidth,c=0,h=o.length/3;c<h;c++){var d=3*c;if(l[i]=u,l[r]=o[d+2],s[i]=o[d+i],s[r]=o[d+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),e>=s[0]&&e<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return a[c]}return-1}(this,t.offsetX,t.offsetY);Sa(this).dataIndex=e>=0?e:null},30,!1);function cS(t,e,n){if(M_(n,"cartesian2d")){var i=e,r=n.getArea();return{x:t?i.x:r.x,y:t?r.y:i.y,width:t?i.width:r.width,height:t?r.height:i.height}}var o=e;return{cx:(r=n.getArea()).cx,cy:r.cy,r0:t?r.r0:o.r0,r:t?r.r:o.r,startAngle:t?o.startAngle:0,endAngle:t?o.endAngle:2*Math.PI}}var hS=Z_;var dS=2*Math.PI,fS=Math.PI/180;function pS(t,e){return ph(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function gS(t,e){var n=pS(t,e),i=t.get("center"),r=t.get("radius");v.isArray(r)||(r=[0,r]),v.isArray(i)||(i=[i,i]);var o=hi(n.width,e.getWidth()),a=hi(n.height,e.getHeight()),s=Math.min(o,a);return{cx:hi(i[0],o)+n.x,cy:hi(i[1],a)+n.y,r0:hi(r[0],s/2),r:hi(r[1],s/2)}}function vS(t,e,n){e.eachSeriesByType(t,function(t){var e=t.getData(),i=e.mapDimension("value"),r=pS(t,n),o=gS(t,n),a=o.cx,s=o.cy,l=o.r,u=o.r0,c=-t.get("startAngle")*fS,h=t.get("minAngle")*fS,d=0;e.each(i,function(t){!isNaN(t)&&d++});var f=e.getSum(i),p=Math.PI/(f||d)*2,g=t.get("clockwise"),v=t.get("roseType"),m=t.get("stillShowZeroSum"),y=e.getDataExtent(i);y[0]=0;var b=dS,x=0,w=c,_=g?1:-1;if(e.setLayout({viewRect:r,r:l}),e.each(i,function(t,n){var i;if(isNaN(t))e.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:g,cx:a,cy:s,r0:u,r:v?NaN:l});else{(i="area"!==v?0===f&&m?p:t*p:dS/d)<h?(i=h,b-=h):x+=t;var r=w+_*i;e.setItemLayout(n,{angle:i,startAngle:w,endAngle:r,clockwise:g,cx:a,cy:s,r0:u,r:v?ci(t,y,[u,l]):l}),w=r}}),b<dS&&d)if(b<=.001){var S=dS/d;e.each(i,function(t,n){if(!isNaN(t)){var i=e.getItemLayout(n);i.angle=S,i.startAngle=c+_*n*S,i.endAngle=c+_*(n+1)*S}})}else p=b/x,w=c,e.each(i,function(t,n){if(!isNaN(t)){var i=e.getItemLayout(n),r=i.angle===h?h:t*p;i.startAngle=w,i.endAngle=w+_*r,w+=_*r}})})}function mS(t){return{seriesType:t,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var i=t.getData();i.filterSelf(function(t){for(var e=i.getName(t),r=0;r<n.length;r++)if(!n[r].isSelected(e))return!1;return!0})}}}}var yS=Math.PI/180;function bS(t,e,n,i,r,o,a,s,l,u){if(!(t.length<2)){for(var c=t.length,h=0;h<c;h++)if("outer"===t[h].position&&"labelLine"===t[h].labelAlignTo){var d=t[h].label.x-u;t[h].linePoints[1][0]+=d,t[h].label.x=u}Ex(t,l,l+a)&&function(t){for(var o={list:[],maxY:0},a={list:[],maxY:0},s=0;s<t.length;s++)if("none"===t[s].labelAlignTo){var l=t[s],u=l.label.y>n?a:o,c=Math.abs(l.label.y-n);if(c>=u.maxY){var h=l.label.x-e-l.len2*r,d=i+l.len,p=Math.abs(h)<d?Math.sqrt(c*c/(1-h*h/d/d)):d;u.rB=p,u.maxY=c}u.list.push(l)}f(o),f(a)}(t)}function f(t){for(var o=t.rB,a=o*o,s=0;s<t.list.length;s++){var l=t.list[s],u=Math.abs(l.label.y-n),c=i+l.len,h=c*c,d=Math.sqrt((1-Math.abs(u*u/a))*h),f=e+(d+l.len2)*r,p=f-l.label.x;xS(l,l.targetTextWidth-p*r,!0),l.label.x=f}}}function xS(t,e,n){if(void 0===n&&(n=!1),null==t.labelStyleWidth){var i=t.label,r=i.style,o=t.rect,a=r.backgroundColor,s=r.padding,l=s?s[1]+s[3]:0,u=r.overflow,c=o.width+(a?0:l);if(e<c||n){var h=o.height;if(u&&u.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",e-l);var d=i.getBoundingRect();i.setStyle("width",Math.ceil(d.width)),i.setStyle("backgroundColor",a)}else{var f=e-l,p=e<c?f:n?f>t.unconstrainedWidth?null:f:null;i.setStyle("width",p)}var g=i.getBoundingRect();o.width=g.width;var v=(i.style.margin||0)+2.1;o.height=g.height+v,o.y-=(o.height-h)/2}}}function wS(t){return"center"===t.position}function _S(t){var e,n,i=t.getData(),r=[],o=!1,a=(t.get("minShowLabelAngle")||0)*yS,s=i.getLayout("viewRect"),l=i.getLayout("r"),u=s.width,c=s.x,h=s.y,d=s.height;function f(t){t.ignore=!0}i.each(function(t){var s=i.getItemGraphicEl(t),h=s.shape,d=s.getTextContent(),p=s.getTextGuideLine(),g=i.getItemModel(t),m=g.getModel("label"),y=m.get("position")||g.get(["emphasis","label","position"]),b=m.get("distanceToLabelLine"),x=m.get("alignTo"),w=hi(m.get("edgeDistance"),u),_=m.get("bleedMargin"),S=g.getModel("labelLine"),M=S.get("length");M=hi(M,u);var C=S.get("length2");if(C=hi(C,u),Math.abs(h.endAngle-h.startAngle)<a)return Object(v.each)(d.states,f),void(d.ignore=!0);if(function(t){if(!t.ignore)return!0;for(var e in t.states)if(!1===t.states[e].ignore)return!0;return!1}(d)){var I,k,T,O,E=(h.startAngle+h.endAngle)/2,A=Math.cos(E),N=Math.sin(E);e=h.cx,n=h.cy;var L="inside"===y||"inner"===y;if("center"===y)I=h.cx,k=h.cy,O="center";else{var D=(L?(h.r+h.r0)/2*A:h.r*A)+e,j=(L?(h.r+h.r0)/2*N:h.r*N)+n;if(I=D+3*A,k=j+3*N,!L){var P=D+A*(M+l-h.r),R=j+N*(M+l-h.r),z=P+(A<0?-1:1)*C;I="edge"===x?A<0?c+w:c+u-w:z+(A<0?-b:b),k=R,T=[[D,j],[P,R],[z,R]]}O=L?"center":"edge"===x?A>0?"right":"left":A>0?"left":"right"}var B=Math.PI,F=0,G=m.get("rotate");if(Object(v.isNumber)(G))F=G*(B/180);else if("center"===y)F=0;else if("radial"===G||!0===G){F=A<0?-E+B:-E}else if("tangential"===G&&"outside"!==y&&"outer"!==y){var V=Math.atan2(A,N);V<0&&(V=2*B+V),N>0&&(V=B+V),F=V-B}if(o=!!F,d.x=I,d.y=k,d.rotation=F,d.setStyle({verticalAlign:"middle"}),L){d.setStyle({align:O});var W=d.states.select;W&&(W.x+=d.x,W.y+=d.y)}else{var H=d.getBoundingRect().clone();H.applyTransform(d.getComputedTransform());var U=(d.style.margin||0)+2.1;H.y-=U/2,H.height+=U,r.push({label:d,labelLine:p,position:y,len:M,len2:C,minTurnAngle:S.get("minTurnAngle"),maxSurfaceAngle:S.get("maxSurfaceAngle"),surfaceNormal:new wn(A,N),linePoints:T,textAlign:O,labelDistance:b,labelAlignTo:x,edgeDistance:w,bleedMargin:_,rect:H,unconstrainedWidth:H.width,labelStyleWidth:d.style.width})}s.setTextConfig({inside:L})}}),!o&&t.get("avoidLabelOverlap")&&function(t,e,n,i,r,o,a,s){for(var l=[],u=[],c=Number.MAX_VALUE,h=-Number.MAX_VALUE,d=0;d<t.length;d++){var f=t[d].label;wS(t[d])||(f.x<e?(c=Math.min(c,f.x),l.push(t[d])):(h=Math.max(h,f.x),u.push(t[d])))}for(d=0;d<t.length;d++)if(!wS(v=t[d])&&v.linePoints){if(null!=v.labelStyleWidth)continue;f=v.label;var p=v.linePoints,g=void 0;g="edge"===v.labelAlignTo?f.x<e?p[2][0]-v.labelDistance-a-v.edgeDistance:a+r-v.edgeDistance-p[2][0]-v.labelDistance:"labelLine"===v.labelAlignTo?f.x<e?c-a-v.bleedMargin:a+r-h-v.bleedMargin:f.x<e?f.x-a-v.bleedMargin:a+r-f.x-v.bleedMargin,v.targetTextWidth=g,xS(v,g)}for(bS(u,e,n,i,1,0,o,0,s,h),bS(l,e,n,i,-1,0,o,0,s,c),d=0;d<t.length;d++){var v;if(!wS(v=t[d])&&v.linePoints){f=v.label,p=v.linePoints;var m="edge"===v.labelAlignTo,y=f.style.padding,b=y?y[1]+y[3]:0,x=f.style.backgroundColor?0:b,w=v.rect.width+x,_=p[1][0]-p[2][0];m?f.x<e?p[2][0]=a+v.edgeDistance+w+v.labelDistance:p[2][0]=a+r-v.edgeDistance-w-v.labelDistance:(f.x<e?p[2][0]=f.x+v.labelDistance:p[2][0]=f.x-v.labelDistance,p[1][0]=p[2][0]+_),p[1][1]=p[2][1]=f.y}}}(r,e,n,l,u,d,c,h);for(var p=0;p<r.length;p++){var g=r[p],m=g.label,y=g.labelLine,b=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:g.textAlign}),b&&(Object(v.each)(m.states,f),m.ignore=!0);var x=m.states.select;x&&(x.x+=m.x,x.y+=m.y)}if(y){var w=g.linePoints;b||!w?(Object(v.each)(y.states,f),y.ignore=!0):(_x(w,g.minTurnAngle),Sx(w,g.surfaceNormal,g.maxSurfaceAngle),y.setShape({points:w}),m.__hostTarget.textGuideLineConfig={anchor:new wn(w[0][0],w[0][1])})}}}function SS(t,e,n){var i=t.get("borderRadius");if(null==i)return n?{cornerRadius:0}:null;Object(v.isArray)(i)||(i=[i,i,i,i]);var r=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Object(v.map)(i,function(t){return Fn(t,r)})}}var MS=function(t){function e(e,n,i){var r=t.call(this)||this;r.z2=2;var o=new _a;return r.setTextContent(o),r.updateData(e,n,i,!0),r}return p(e,t),e.prototype.updateData=function(t,e,n,i){var r=t.hostModel,o=t.getItemModel(e),a=o.getModel("emphasis"),s=t.getItemLayout(e),l=Object(v.extend)(SS(o.getModel("itemStyle"),s,!0),s);if(isNaN(l.startAngle))this.setShape(l);else{if(i){this.setShape(l);var u=r.getShallow("animationType");r.ecModel.ssr?(Xl(this,{scaleX:0,scaleY:0},r,{dataIndex:e,isFrom:!0}),this.originX=l.cx,this.originY=l.cy):"scale"===u?(this.shape.r=s.r0,Xl(this,{shape:{r:s.r}},r,e)):null!=n?(this.setShape({startAngle:n,endAngle:n}),Xl(this,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},r,e)):(this.shape.endAngle=s.startAngle,$l(this,{shape:{endAngle:s.endAngle}},r,e))}else nu(this),$l(this,{shape:l},r,e);this.useStyle(t.getItemVisual(e,"style")),ws(this,o);var c=(s.startAngle+s.endAngle)/2,h=r.get("selectedOffset"),d=Math.cos(c)*h,f=Math.sin(c)*h,p=o.getShallow("cursor");p&&this.attr("cursor",p),this._updateLabel(r,t,e),this.ensureState("emphasis").shape=Object(v.extend)({r:s.r+(a.get("scale")&&a.get("scaleSize")||0)},SS(a.getModel("itemStyle"),s)),Object(v.extend)(this.ensureState("select"),{x:d,y:f,shape:SS(o.getModel(["select","itemStyle"]),s)}),Object(v.extend)(this.ensureState("blur"),{shape:SS(o.getModel(["blur","itemStyle"]),s)});var g=this.getTextGuideLine(),m=this.getTextContent();g&&Object(v.extend)(g.ensureState("select"),{x:d,y:f}),Object(v.extend)(m.ensureState("select"),{x:d,y:f}),ms(this,a.get("focus"),a.get("blurScope"),a.get("disabled"))}},e.prototype._updateLabel=function(t,e,n){var i=e.getItemModel(n),r=i.getModel("labelLine"),o=e.getItemVisual(n,"style"),a=o&&o.fill,s=o&&o.opacity;Pu(this,Ru(i),{labelFetcher:e.hostModel,labelDataIndex:n,inheritColor:a,defaultOpacity:s,defaultText:t.getFormattedLabel(n,"normal")||e.getName(n)});var l=this.getTextContent();this.setTextConfig({position:null,rotation:null}),l.attr({z2:10});var u=t.get(["label","position"]);if("outside"!==u&&"outer"!==u)this.removeTextGuideLine();else{var c=this.getTextGuideLine();c||(c=new Sl,this.setTextGuideLine(c)),Ix(this,kx(i),{stroke:a,opacity:Object(v.retrieve3)(r.get(["lineStyle","opacity"]),s,1)})}},e}(fl),CS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return p(e,t),e.prototype.init=function(){var t=new Kn;this._sectorGroup=t},e.prototype.render=function(t,e,n,i){var r,o=t.getData(),a=this._data,s=this.group;if(!a&&o.count()>0){for(var l=o.getItemLayout(0),u=1;isNaN(l&&l.startAngle)&&u<o.count();++u)l=o.getItemLayout(u);l&&(r=l.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===o.count()&&t.get("showEmptyCircle")){var c=new fl({shape:gS(t,n)});c.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=c,s.add(c)}o.diff(a).add(function(t){var e=new MS(o,t,r);o.setItemGraphicEl(t,e),s.add(e)}).update(function(t,e){var n=a.getItemGraphicEl(e);n.updateData(o,t,r),n.off("click"),s.add(n),o.setItemGraphicEl(t,n)}).remove(function(e){eu(a.getItemGraphicEl(e),t,e)}).execute(),_S(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,e){var n=e.getData().getItemLayout(0);if(n){var i=t[0]-n.cx,r=t[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}},e.type="pie",e}(wp);function IS(t,e,n){e=Object(v.isArray)(e)&&{coordDimensions:e}||Object(v.extend)({encodeDefine:t.getEncode()},e);var i=t.getSource(),r=ry(i,e).dimensions,o=new ny(r,t);return o.initData(i,n),o}var kS=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},t.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},t.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},t}(),TS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new kS(v.bind(this.getData,this),v.bind(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return IS(this,{coordDimensions:["value"],encodeDefaulter:v.curry(zh,this)})},e.prototype.getDataParams=function(e){var n=this.getData(),i=t.prototype.getDataParams.call(this,e),r=[];return n.each(n.mapDimension("value"),function(t){r.push(t)}),i.percent=mi(r,e,n.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},e.prototype._defaultLabelLine=function(t){Bi(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(up);var OS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return p(e,t),e.prototype.getInitialData=function(t,e){return dy(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(up),ES=function(){return function(){}}(),AS=function(t){function e(e){var n=t.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return p(e,t),e.prototype.getDefaultShape=function(){return new ES},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,e){var n,i=e.points,r=e.size,o=this.symbolProxy,a=o.shape,s=t.getContext?t.getContext():t,l=s&&r[0]<4,u=this.softClipShape;if(l)this._ctx=s;else{for(this._ctx=null,n=this._off;n<i.length;){var c=i[n++],h=i[n++];isNaN(c)||isNaN(h)||(u&&!u.contain(c,h)||(a.x=c-r[0]/2,a.y=h-r[1]/2,a.width=r[0],a.height=r[1],o.buildPath(t,a,!0)))}this.incremental&&(this._off=n,this.notClear=!0)}},e.prototype.afterBrush=function(){var t,e=this.shape,n=e.points,i=e.size,r=this._ctx,o=this.softClipShape;if(r){for(t=this._off;t<n.length;){var a=n[t++],s=n[t++];isNaN(a)||isNaN(s)||(o&&!o.contain(a,s)||r.fillRect(a-i[0]/2,s-i[1]/2,i[0],i[1]))}this.incremental&&(this._off=t,this.notClear=!0)}},e.prototype.findDataIndex=function(t,e){for(var n=this.shape,i=n.points,r=n.size,o=Math.max(r[0],4),a=Math.max(r[1],4),s=i.length/2-1;s>=0;s--){var l=2*s,u=i[l]-o/2,c=i[l+1]-a/2;if(t>=u&&e>=c&&t<=u+o&&e<=c+a)return s}return-1},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();return t=n[0],e=n[1],i.contain(t,e)?(this.hoverDataIdx=this.findDataIndex(t,e))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape,n=e.points,i=e.size,r=i[0],o=i[1],a=1/0,s=1/0,l=-1/0,u=-1/0,c=0;c<n.length;){var h=n[c++],d=n[c++];a=Math.min(h,a),l=Math.max(h,l),s=Math.min(d,s),u=Math.max(d,u)}t=this._rect=new En(a-r/2,s-o/2,l-a+r,u-s+o)}return t},e}(Uo),NS=function(){function t(){this.group=new Kn}return t.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},t.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),i=4*t.startIndex*2;e=new Float32Array(e.buffer,i,n)}t.setShape("points",e),t.reset()})},t.prototype.incrementalPrepareUpdate=function(t){this._clear()},t.prototype.incrementalUpdate=function(t,e,n){var i=this._newAdded[0],r=e.getLayout("points"),o=i&&i.shape.points;if(o&&o.length<2e4){var a=o.length,s=new Float32Array(a+r.length);s.set(o),s.set(r,a),i.endIndex=t.end,i.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=t.start,l.endIndex=t.end,l.incremental=!0,l.setShape({points:r}),this._setCommon(l,e,n)}},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new AS({cursor:"default"});return this.group.add(t),this._newAdded.push(t),t},t.prototype._setCommon=function(t,e,n){var i=e.hostModel;n=n||{};var r=e.getVisual("symbolSize");t.setShape("size",r instanceof Array?r:[r,r]),t.softClipShape=n.clipShape||null,t.symbolProxy=kg(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<4;t.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var a=e.getVisual("style"),s=a&&a.fill;s&&t.setColor(s);var l=Sa(t);l.seriesIndex=i.seriesIndex,t.on("mousemove",function(e){l.dataIndex=null;var n=t.hoverDataIdx;n>=0&&(l.dataIndex=n+(t.startIndex||0))})},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),LS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).updateData(i,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).incrementalPrepareUpdate(i),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},e.prototype.updateTransform=function(t,e,n){var i=t.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var r=P_("").reset(t,e,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get("clip",!0)?n:null},e.prototype._updateSymbolDraw=function(t,e){var n=this._symbolDraw,i=e.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new NS:new c_,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(wp),DS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(_h),jS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",tr).models[0]},e.type="cartesian2dAxis",e}(_h);v.mixin(jS,_b);var PS={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},RS=v.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},PS),zS=v.merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},PS),BS={category:RS,value:zS,time:v.merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},zS),log:v.defaults({logBase:10},zS)},FS={value:1,category:1,time:1,log:1};function GS(t,e,n,i){Object(v.each)(FS,function(r,o){var a=Object(v.merge)(Object(v.merge)({},BS[o],!0),i,!0),s=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e+"Axis."+o,n}return p(n,t),n.prototype.mergeDefaultAndTheme=function(t,e){var n=vh(this),i=n?yh(t):{},r=e.getTheme();Object(v.merge)(t,r.get(o+"Axis")),Object(v.merge)(t,this.getDefaultOption()),t.type=VS(t),n&&mh(t,i,n)},n.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=my.createByAxisModel(this))},n.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=e+"Axis."+o,n.defaultOption=a,n}(n);t.registerComponentModel(s)}),t.registerSubTypeDefaulter(e+"Axis",VS)}function VS(t){return t.type||(t.data?"category":"value")}var WS=["x","y"];function HS(t){return"interval"===t.type||"time"===t.type}var US=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=WS,e}return p(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(HS(t)&&HS(e)){var n=t.getExtent(),i=e.getExtent(),r=this.dataToPoint([n[0],i[0]]),o=this.dataToPoint([n[1],i[1]]),a=n[1]-n[0],s=i[1]-i[0];if(a&&s){var l=(o[0]-r[0])/a,u=(o[1]-r[1])/s,c=r[0]-n[0]*l,h=r[1]-i[0]*u,d=this._transform=[l,0,0,u,c,h];this._invTransform=un([],d)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.dataToPoint=function(t,e,n){n=n||[];var i=t[0],r=t[1];if(this._transform&&null!=i&&isFinite(i)&&null!=r&&isFinite(r))return G(n,t,this._transform);var o=this.getAxis("x"),a=this.getAxis("y");return n[0]=o.toGlobalCoord(o.dataToCoord(i,e)),n[1]=a.toGlobalCoord(a.dataToCoord(r,e)),n},e.prototype.clampData=function(t,e){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,r=n.getExtent(),o=i.getExtent(),a=n.parse(t[0]),s=i.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(r[0],r[1]),a),Math.max(r[0],r[1])),e[1]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),e},e.prototype.pointToData=function(t,e){var n=[];if(this._invTransform)return G(n,t,this._invTransform);var i=this.getAxis("x"),r=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(t[0]),e),n[1]=r.coordToData(r.toLocalCoord(t[1]),e),n},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1]),i=Math.min(e[0],e[1]),r=Math.max(t[0],t[1])-n,o=Math.max(e[0],e[1])-i;return new En(n,i,r,o)},e}(function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return v.map(this._dimList,function(t){return this._axes[t]},this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),v.filter(this.getAxes(),function(e){return e.scale.type===t})},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}()),YS=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,i)||this;return a.index=0,a.type=r||"value",a.position=o||"bottom",a}return p(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(qb);function JS(t,e,n){n=n||{};var i=t.coordinateSystem,r=e.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,u=r.dim,c=i.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],d={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,p="x"===u?[h[2]-f,h[3]+f]:[h[0]-f,h[1]+f];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));p[d.onZero]=Math.max(Math.min(g,p[1]),p[0])}o.position=["y"===u?p[d[l]]:h[0],"x"===u?p[d[l]]:h[3]],o.rotation=Math.PI/2*("x"===u?0:1);o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?p[d[s]]-p[d.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),v.retrieve(n.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var m=e.get(["axisLabel","rotate"]);return o.labelRotate="top"===l?-m:m,o.z2=1,o}function QS(t){return"cartesian2d"===t.get("coordinateSystem")}function ZS(t){var e={xAxisModel:null,yAxisModel:null};return v.each(e,function(n,i){var r=i.replace(/Model$/,""),o=t.getReferringComponents(r,tr).models[0];e[i]=o}),e}var $S=Math.log;function XS(t,e,n){var i=Ey.prototype,r=i.getTicks.call(n),o=i.getTicks.call(n,!0),a=r.length-1,s=i.getInterval.call(n),l=pb(t,e),u=l.extent,c=l.fixMin,h=l.fixMax;if("log"===t.type){var d=$S(t.base);u=[$S(u[0])/d,$S(u[1])/d]}t.setExtent(u[0],u[1]),t.calcNiceExtent({splitNumber:a,fixMin:c,fixMax:h});var f=i.getExtent.call(t);c&&(u[0]=f[0]),h&&(u[1]=f[1]);var p=i.getInterval.call(t),g=u[0],v=u[1];if(c&&h)p=(v-g)/a;else if(c)for(v=u[0]+p*a;v<u[1]&&isFinite(v)&&isFinite(u[1]);)p=xy(p),v=u[0]+p*a;else if(h)for(g=u[1]-p*a;g>u[0]&&isFinite(g)&&isFinite(u[0]);)p=xy(p),g=u[1]-p*a;else{t.getTicks().length-1>a&&(p=xy(p));var m=p*a;(g=di((v=Math.ceil(u[1]/p)*p)-m))<0&&u[0]>=0?(g=0,v=di(m)):v>0&&u[1]<=0&&(v=0,g=-di(m))}var y=(r[0].value-o[0].value)/s,b=(r[a].value-o[a].value)/s;i.setExtent.call(t,g+p*y,v+p*b),i.setInterval.call(t,p),(y||b)&&i.setNiceExtent.call(t,g+p,v-p)}function KS(t,e){return t.getCoordSysModel()===e}function qS(t,e,n,i){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=t[e],a=n.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)tM(o[l])&&(r=o[l]);else for(var u in o)if(o.hasOwnProperty(u)&&tM(o[u])&&!i[c(o[u])]){r=o[u];break}r&&(i[c(r)]=!0)}function c(t){return t.dim+"_"+t.index}}function tM(t){return t&&"category"!==t.type&&"time"!==t.type&&function(t){var e=t.scale.getExtent(),n=e[0],i=e[1];return!(n>0&&i>0||n<0&&i<0)}(t)}var eM=function(){function t(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=WS,this._initCartesian(t,e,n),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var n=this._axesMap;function i(t){var e,n=Object(v.keys)(t),i=n.length;if(i){for(var r=[],o=i-1;o>=0;o--){var a=t[+n[o]],s=a.model,l=a.scale;yy(l)&&s.get("alignTicks")&&null==s.get("interval")?r.push(a):(gb(l,s),yy(l)&&(e=a))}r.length&&(e||gb((e=r.pop()).scale,e.model),Object(v.each)(r,function(t){XS(t.scale,t.model,e.scale)}))}}this._updateScale(t,this.model),i(n.x),i(n.y);var r={};Object(v.each)(n.x,function(t){qS(n,"y",t,r)}),Object(v.each)(n.y,function(t){qS(n,"x",t,r)}),this.resize(this.model,e)},t.prototype.resize=function(t,e,n){var i=t.getBoxLayoutParams(),r=!n&&t.get("containLabel"),o=ph(i,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var a=this._axesList;function s(){Object(v.each)(a,function(t){var e=t.isHorizontal(),n=e?[0,o.width]:[0,o.height],i=t.inverse?1:0;t.setExtent(n[i],n[1-i]),function(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}(t,e?o.x:o.y)})}s(),r&&(Object(v.each)(a,function(t){if(!t.model.get(["axisLabel","inside"])){var e=function(t){var e=t.model,n=t.scale;if(e.get(["axisLabel","show"])&&!n.isBlank()){var i,r,o=n.getExtent();r=n instanceof ky?n.count():(i=n.getTicks()).length;var a,s,l,u,c,h,d,f,p=t.getLabelModel(),g=mb(t),v=1;r>40&&(v=Math.ceil(r/40));for(var m=0;m<r;m+=v){var y=g(i?i[m]:{value:o[0]+m},m),b=p.getTextRect(y),x=(s=b,l=p.get("rotate")||0,u=l*Math.PI/180,c=s.width,h=s.height,d=c*Math.abs(Math.cos(u))+Math.abs(h*Math.sin(u)),f=c*Math.abs(Math.sin(u))+Math.abs(h*Math.cos(u)),new En(s.x,s.y,d,f));a?a.union(x):a=x}return a}}(t);if(e){var n=t.isHorizontal()?"height":"width",i=t.model.get(["axisLabel","margin"]);o[n]-=e[n]+i,"top"===t.position?o.y+=e.height+i:"left"===t.position&&(o.x+=e.width+i)}}}),s()),Object(v.each)(this._coordsList,function(t){t.calcAffineTransform()})},t.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n)return n[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}Object(v.isObject)(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===t||r[i].getAxis("y").index===e)return r[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(t){var e,n,i=t.seriesModel,r=t.xAxisModel||i&&i.getReferringComponents("xAxis",tr).models[0],o=t.yAxisModel||i&&i.getReferringComponents("yAxis",tr).models[0],a=t.gridModel,s=this._coordsList;if(i)e=i.coordinateSystem,Object(v.indexOf)(s,e)<0&&(e=null);else if(r&&o)e=this.getCartesian(r.componentIndex,o.componentIndex);else if(r)n=this.getAxis("x",r.componentIndex);else if(o)n=this.getAxis("y",o.componentIndex);else if(a){a.coordinateSystem===this&&(e=this._coordsList[0])}return{cartesian:e,axis:n}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,n){var i=this,r=this,o={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},s={x:0,y:0};if(e.eachComponent("xAxis",l("x"),this),e.eachComponent("yAxis",l("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(e){return function(n,i){if(KS(n,t)){var l=n.get("position");"x"===e?"top"!==l&&"bottom"!==l&&(l=o.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=o.left?"right":"left"),o[l]=!0;var u=new YS(e,vb(n),[0,0],n.get("type"),l),c="category"===u.type;u.onBand=c&&n.get("boundaryGap"),u.inverse=n.get("inverse"),n.axis=u,u.model=n,u.grid=r,u.index=i,r._axesList.push(u),a[e][i]=u,s[e]++}}}this._axesMap=a,Object(v.each)(a.x,function(e,n){Object(v.each)(a.y,function(r,o){var a="x"+n+"y"+o,s=new US(a);s.master=i,s.model=t,i._coordsMap[a]=s,i._coordsList.push(s),s.addAxis(e),s.addAxis(r)})})},t.prototype._updateScale=function(t,e){function n(t,e){Object(v.each)(wb(t,e.dim),function(n){e.scale.unionExtentFromData(t,n)})}Object(v.each)(this._axesList,function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}}),t.eachSeries(function(t){if(QS(t)){var i=ZS(t),r=i.xAxisModel,o=i.yAxisModel;if(!KS(r,e)||!KS(o,e))return;var a=this.getCartesian(r.componentIndex,o.componentIndex),s=t.getData(),l=a.getAxis("x"),u=a.getAxis("y");n(s,l),n(s,u)}},this)},t.prototype.getTooltipAxes=function(t){var e=[],n=[];return Object(v.each)(this.getCartesians(),function(i){var r=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(r);Object(v.indexOf)(e,r)<0&&e.push(r),Object(v.indexOf)(n,o)<0&&n.push(o)}),{baseAxes:e,otherAxes:n}},t.create=function(e,n){var i=[];return e.eachComponent("grid",function(r,o){var a=new t(r,e,n);a.name="grid_"+o,a.resize(r,n,!0),r.coordinateSystem=a,i.push(a)}),e.eachSeries(function(t){if(QS(t)){var e=ZS(t),n=e.xAxisModel,i=e.yAxisModel,r=n.getCoordSysModel();0;var o=r.coordinateSystem;t.coordinateSystem=o.getCartesian(n.componentIndex,i.componentIndex)}}),i},t.dimensions=WS,t}(),nM=Math.PI,iM=function(){function t(t,e){this.group=new Kn,this.opt=e,this.axisModel=t,Object(v.defaults)(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Kn({x:e.position[0],y:e.position[1],rotation:e.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(t){return!!rM[t]},t.prototype.add=function(t){rM[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,n){var i,r,o=xi(e-t);return wi(o)?(r=n>0?"top":"bottom",i="center"):wi(o-nM)?(r=n>0?"bottom":"top",i="center"):(r="middle",i=o>0&&o<nM?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:i,textVerticalAlign:r}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),rM={axisLine:function(t,e,n,i){var r=e.get(["axisLine","show"]);if("auto"===r&&t.handleAutoShown&&(r=t.handleAutoShown("axisLine")),r){var o=e.axis.getExtent(),a=i.transform,s=[o[0],0],l=[o[1],0];a&&(G(s,s,a),G(l,l,a));var u=Object(v.extend)({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new kl({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});c.anid="line",n.add(c);var h=e.get(["axisLine","symbol"]);if(null!=h){var d=e.get(["axisLine","symbolSize"]);Object(v.isString)(h)&&(h=[h,h]),(Object(v.isString)(d)||Object(v.isNumber)(d))&&(d=[d,d]);var f=Og(e.get(["axisLine","symbolOffset"])||0,d),p=d[0],g=d[1];Object(v.each)([{rotate:t.rotation+Math.PI/2,offset:f[0],r:0},{rotate:t.rotation-Math.PI/2,offset:f[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(e,i){if("none"!==h[i]&&null!=h[i]){var r=kg(h[i],-p/2,-g/2,p,g,u.stroke,!0),o=e.r+e.offset;r.attr({rotation:e.rotate,x:s[0]+o*Math.cos(t.rotation),y:s[1]-o*Math.sin(t.rotation),silent:!0,z2:11}),n.add(r)}})}}},axisTickLabel:function(t,e,n,i){var r=function(t,e,n,i){var r=n.axis,o=n.getModel("axisTick"),a=o.get("show");"auto"===a&&i.handleAutoShown&&(a=i.handleAutoShown("axisTick"));if(!a||r.scale.isBlank())return;for(var s=o.getModel("lineStyle"),l=i.tickDirection*o.get("length"),u=lM(r.getTicksCoords(),e.transform,l,Object(v.defaults)(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<u.length;c++)t.add(u[c]);return u}(n,i,e,t),o=function(t,e,n,i){var r=n.axis;if(!Object(v.retrieve)(i.axisLabelShow,n.get(["axisLabel","show"]))||r.scale.isBlank())return;var o=n.getModel("axisLabel"),a=o.get("margin"),s=r.getViewLabels(),l=(Object(v.retrieve)(i.labelRotate,o.get("rotate"))||0)*nM/180,u=iM.innerTextLayout(i.rotation,l,i.labelDirection),c=n.getCategories&&n.getCategories(!0),h=[],d=iM.isLabelSilent(n),f=n.get("triggerEvent");return Object(v.each)(s,function(s,l){var p="ordinal"===r.scale.type?r.scale.getRawOrdinalNumber(s.tickValue):s.tickValue,g=s.formattedLabel,m=s.rawLabel,y=o;if(c&&c[p]){var b=c[p];Object(v.isObject)(b)&&b.textStyle&&(y=new sc(b.textStyle,o,n.ecModel))}var x=y.getTextColor()||n.get(["axisLine","lineStyle","color"]),w=r.dataToCoord(p),_=new _a({x:w,y:i.labelOffset+i.labelDirection*a,rotation:u.rotation,silent:d,z2:10+(s.level||0),style:zu(y,{text:g,align:y.getShallow("align",!0)||u.textAlign,verticalAlign:y.getShallow("verticalAlign",!0)||y.getShallow("baseline",!0)||u.textVerticalAlign,fill:Object(v.isFunction)(x)?x("category"===r.type?m:"value"===r.type?p+"":p,l):x})});if(_.anid="label_"+p,f){var S=iM.makeAxisEventDataBase(n);S.targetType="axisLabel",S.value=m,Sa(_).eventData=S}e.add(_),_.updateTransform(),h.push(_),t.add(_),_.decomposeTransform()}),h}(n,i,e,t);((function(t,e,n){if(xb(t.axis))return;var i=t.get(["axisLabel","showMinLabel"]),r=t.get(["axisLabel","showMaxLabel"]);e=e||[],n=n||[];var o=e[0],a=e[1],s=e[e.length-1],l=e[e.length-2],u=n[0],c=n[1],h=n[n.length-1],d=n[n.length-2];!1===i?(oM(o),oM(u)):aM(o,a)&&(i?(oM(a),oM(c)):(oM(o),oM(u)));!1===r?(oM(s),oM(h)):aM(l,s)&&(r?(oM(l),oM(d)):(oM(s),oM(h)))})(e,o,r),function(t,e,n,i){var r=n.axis,o=n.getModel("minorTick");if(!o.get("show")||r.scale.isBlank())return;var a=r.getMinorTicksCoords();if(!a.length)return;for(var s=o.getModel("lineStyle"),l=i*o.get("length"),u=Object(v.defaults)(s.getLineStyle(),Object(v.defaults)(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<a.length;c++)for(var h=lM(a[c],e.transform,l,u,"minorticks_"+c),d=0;d<h.length;d++)t.add(h[d])}(n,i,e,t.tickDirection),e.get(["axisLabel","hideOverlap"]))&&Ax(Tx(Object(v.map)(o,function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}})))},axisName:function(t,e,n,i){var r=Object(v.retrieve)(t.axisName,e.get("name"));if(r){var o,a,s=e.get("nameLocation"),l=t.nameDirection,u=e.getModel("nameTextStyle"),c=e.get("nameGap")||0,h=e.axis.getExtent(),d=h[0]>h[1]?-1:1,f=["start"===s?h[0]-d*c:"end"===s?h[1]+d*c:(h[0]+h[1])/2,sM(s)?t.labelOffset+l*c:0],p=e.get("nameRotate");null!=p&&(p=p*nM/180),sM(s)?o=iM.innerTextLayout(t.rotation,null!=p?p:t.rotation,l):(o=function(t,e,n,i){var r,o,a=xi(n-t),s=i[0]>i[1],l="start"===e&&!s||"start"!==e&&s;wi(a-nM/2)?(o=l?"bottom":"top",r="center"):wi(a-1.5*nM)?(o=l?"top":"bottom",r="center"):(o="middle",r=a<1.5*nM&&a>nM/2?l?"left":"right":l?"right":"left");return{rotation:a,textAlign:r,textVerticalAlign:o}}(t.rotation,s,p||0,h),null!=(a=t.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var g=u.getFont(),m=e.get("nameTruncate",!0)||{},y=m.ellipsis,b=Object(v.retrieve)(t.nameTruncateMaxWidth,m.maxWidth,a),x=new _a({x:f[0],y:f[1],rotation:o.rotation,silent:iM.isLabelSilent(e),style:zu(u,{text:r,font:g,overflow:"truncate",width:b,ellipsis:y,fill:u.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:u.get("align")||o.textAlign,verticalAlign:u.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(Eu({el:x,componentModel:e,itemName:r}),x.__fullText=r,x.anid="name",e.get("triggerEvent")){var w=iM.makeAxisEventDataBase(e);w.targetType="axisName",w.name=r,Sa(x).eventData=w}i.add(x),x.updateTransform(),n.add(x),x.decomposeTransform()}}};function oM(t){t&&(t.ignore=!0)}function aM(t,e){var n=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(n&&i){var r=nn([]);return sn(r,r,-t.rotation),n.applyTransform(on([],r,t.getLocalTransform())),i.applyTransform(on([],r,e.getLocalTransform())),n.intersect(i)}}function sM(t){return"middle"===t||"center"===t}function lM(t,e,n,i,r){for(var o=[],a=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=n,e&&(G(a,a,e),G(s,s,e));var c=new kl({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});c.anid=r+"_"+t[l].tickValue,o.push(c)}return o}var uM=iM;function cM(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,n){var i=e.getComponent("tooltip"),r=e.getComponent("axisPointer"),o=r.get("link",!0)||[],a=[];Object(v.each)(n.getCoordinateSystems(),function(n){if(n.axisPointerEnabled){var s=pM(n.model),l=t.coordSysAxesInfo[s]={};t.coordSysMap[s]=n;var u=n.model,c=u.getModel("tooltip",i);if(Object(v.each)(n.getAxes(),Object(v.curry)(p,!1,null)),n.getTooltipAxes&&i&&c.get("show")){var h="axis"===c.get("trigger"),d="cross"===c.get(["axisPointer","type"]),f=n.getTooltipAxes(c.get(["axisPointer","axis"]));(h||d)&&Object(v.each)(f.baseAxes,Object(v.curry)(p,!d||"cross",h)),d&&Object(v.each)(f.otherAxes,Object(v.curry)(p,"cross",!1))}}function p(i,s,u){var h=u.model.getModel("axisPointer",r),d=h.get("show");if(d&&("auto"!==d||i||fM(h))){null==s&&(s=h.get("triggerTooltip"));var f=(h=i?function(t,e,n,i,r,o){var a=e.getModel("axisPointer"),s={};Object(v.each)(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){s[t]=Object(v.clone)(a.get(t))}),s.snap="category"!==t.type&&!!o,"cross"===a.get("type")&&(s.type="line");var l=s.label||(s.label={});if(null==l.show&&(l.show=!1),"cross"===r){var u=a.get(["label","show"]);if(l.show=null==u||u,!o){var c=s.lineStyle=a.get("crossStyle");c&&Object(v.defaults)(l,c.textStyle)}}return t.model.getModel("axisPointer",new sc(s,n,i))}(u,c,r,e,i,s):h).get("snap"),p=pM(u.model),g=s||f||"category"===u.type,m=t.axesInfo[p]={key:p,axis:u,coordSys:n,axisPointerModel:h,triggerTooltip:s,involveSeries:g,snap:f,useHandle:fM(h),seriesModels:[],linkGroup:null};l[p]=m,t.seriesInvolved=t.seriesInvolved||g;var y=function(t,e){for(var n=e.model,i=e.dim,r=0;r<t.length;r++){var o=t[r]||{};if(hM(o[i+"AxisId"],n.id)||hM(o[i+"AxisIndex"],n.componentIndex)||hM(o[i+"AxisName"],n.name))return r}}(o,u);if(null!=y){var b=a[y]||(a[y]={axesInfo:{}});b.axesInfo[p]=m,b.mapper=o[y].mapper,m.linkGroup=b}}}})}(n,t,e),n.seriesInvolved&&function(t,e){e.eachSeries(function(e){var n=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),r=e.get(["tooltip","show"],!0);n&&"none"!==i&&!1!==i&&"item"!==i&&!1!==r&&!1!==e.get(["axisPointer","show"],!0)&&Object(v.each)(t.coordSysAxesInfo[pM(n.model)],function(t){var i=t.axis;n.getAxis(i.dim)===i&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())})})}(n,t),n}function hM(t,e){return"all"===t||Object(v.isArray)(t)&&Object(v.indexOf)(t,e)>=0||t===e}function dM(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[pM(t)]}function fM(t){return!!t.get(["handle","show"])}function pM(t){return t.type+"||"+t.id}var gM={},vM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(e,n,i,r){this.axisPointerClass&&function(t){var e=dM(t);if(e){var n=e.axisPointerModel,i=e.axis.scale,r=n.option,o=n.get("status"),a=n.get("value");null!=a&&(a=i.parse(a));var s=fM(n);null==o&&(r.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}(e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},e.prototype.updateAxisPointer=function(t,e,n,i){this._doUpdateAxisPointerClass(t,n,!1)},e.prototype.remove=function(t,e){var n=this._axisPointer;n&&n.remove(e)},e.prototype.dispose=function(e,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,i){var r=e.getAxisPointerClass(this.axisPointerClass);if(r){var o=function(t){var e=dM(t);return e&&e.axisPointerModel}(t);o?(this._axisPointer||(this._axisPointer=new r)).render(t,o,n,i):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){gM[t]=e},e.getAxisPointerClass=function(t){return t&&gM[t]},e.type="axis",e}(hp),mM=$i();function yM(t,e,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=i.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var c=s.length,h=mM(t).splitAreaColors,d=v.createHashMap(),f=0;if(h)for(var p=0;p<u.length;p++){var g=h.get(u[p].tickValue);if(null!=g){f=(g+(c-1)*p)%c;break}}var m=r.toGlobalCoord(u[0].coord),y=a.getAreaStyle();s=v.isArray(s)?s:[s];for(p=1;p<u.length;p++){var b=r.toGlobalCoord(u[p].coord),x=void 0,w=void 0,_=void 0,S=void 0;r.isHorizontal()?(x=m,w=l.y,_=b-x,S=l.height,m=x+_):(x=l.x,w=m,_=l.width,m=w+(S=b-w));var M=u[p-1].tickValue;null!=M&&d.set(M,f),e.add(new aa({anid:null!=M?"area_"+M:null,shape:{x:x,y:w,width:_,height:S},style:v.defaults({fill:s[f]},y),autoBatch:!0,silent:!0})),f=(f+1)%c}mM(t).splitAreaColors=d}}}function bM(t){mM(t).splitAreaColors=null}var xM=["axisLine","axisTickLabel","axisName"],wM=["splitArea","splitLine","minorSplitLine"],_M=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return p(e,t),e.prototype.render=function(e,n,i,r){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Kn,this.group.add(this._axisGroup),e.get("show")){var a=e.getCoordSysModel(),s=JS(a,e),l=new uM(e,v.extend({handleAutoShown:function(t){for(var n=a.coordinateSystem.getCartesians(),i=0;i<n.length;i++)if(yy(n[i].getOtherAxis(e.axis).scale))return!0;return!1}},s));v.each(xM,l.add,l),this._axisGroup.add(l.getGroup()),v.each(wM,function(t){e.get([t,"show"])&&SM[t](this,this._axisGroup,e,a)},this),r&&"changeAxisOrder"===r.type&&r.isInitSort||Su(o,this._axisGroup,e),t.prototype.render.call(this,e,n,i,r)}},e.prototype.remove=function(){bM(this)},e.type="cartesianAxis",e}(vM),SM={splitLine:function(t,e,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=v.isArray(s)?s:[s];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),c=0,h=r.getTicksCoords({tickModel:o}),d=[],f=[],p=a.getLineStyle(),g=0;g<h.length;g++){var m=r.toGlobalCoord(h[g].coord);u?(d[0]=m,d[1]=l.y,f[0]=m,f[1]=l.y+l.height):(d[0]=l.x,d[1]=m,f[0]=l.x+l.width,f[1]=m);var y=c++%s.length,b=h[g].tickValue;e.add(new kl({anid:null!=b?"line_"+h[g].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:v.defaults({stroke:s[y]},p),silent:!0}))}}},minorSplitLine:function(t,e,n,i){var r=n.axis,o=n.getModel("minorSplitLine").getModel("lineStyle"),a=i.coordinateSystem.getRect(),s=r.isHorizontal(),l=r.getMinorTicksCoords();if(l.length)for(var u=[],c=[],h=o.getLineStyle(),d=0;d<l.length;d++)for(var f=0;f<l[d].length;f++){var p=r.toGlobalCoord(l[d][f].coord);s?(u[0]=p,u[1]=a.y,c[0]=p,c[1]=a.y+a.height):(u[0]=a.x,u[1]=p,c[0]=a.x+a.width,c[1]=p),e.add(new kl({anid:"minor_line_"+l[d][f].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:c[0],y2:c[1]},style:h,silent:!0}))}},splitArea:function(t,e,n,i){yM(t,e,n,i)}},MM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.type="xAxis",e}(_M),CM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=MM.type,e}return p(e,t),e.type="yAxis",e}(_M),IM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return p(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new aa({shape:t.coordinateSystem.getRect(),style:Object(v.defaults)({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(hp),kM={offset:0};function TM(t){t.registerComponentView(IM),t.registerComponentModel(DS),t.registerCoordinateSystem("cartesian2d",eM),GS(t,"x",jS,kM),GS(t,"y",jS,kM),t.registerComponentView(MM),t.registerComponentView(CM),t.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function OM(t){t.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],i=t.coordinateSystem;if(i){var r=i.getIndicatorAxes();v.each(r,function(t,o){e.each(e.mapDimension(r[o].dim),function(t,e){n[e]=n[e]||[];var r=i.dataToPoint(t,o);n[e][o]=EM(r)?r:AM(i)})}),e.each(function(t){var r=v.find(n[t],function(t){return EM(t)})||AM(i);n[t].push(r.slice()),e.setItemLayout(t,n[t])})}})}function EM(t){return!isNaN(t[0])&&!isNaN(t[1])}function AM(t){return[t.cx,t.cy]}function NM(t){var e=t.polar;if(e){v.isArray(e)||(e=[e]);var n=[];v.each(e,function(e,i){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],v.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)}),t.polar=n}v.each(t.series,function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})}var LM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n){var i=t.coordinateSystem,r=this.group,o=t.getData(),s=this._data;function l(t,e){var n=t.getItemVisual(e,"symbol")||"circle";if("none"!==n){var i=Tg(t.getItemVisual(e,"symbolSize")),r=kg(n,-1,-1,2,2),o=t.getItemVisual(e,"symbolRotate")||0;return r.attr({style:{strokeNoScale:!0},z2:100,scaleX:i[0]/2,scaleY:i[1]/2,rotation:o*Math.PI/180||0}),r}}function u(e,n,i,r,o,s){i.removeAll();for(var u=0;u<n.length-1;u++){var c=l(r,o);c&&(c.__dimIdx=u,e[u]?(c.setPosition(e[u]),a[s?"initProps":"updateProps"](c,{x:n[u][0],y:n[u][1]},t,o)):c.setPosition(n[u]),i.add(c))}}function c(t){return v.map(t,function(t){return[i.cx,i.cy]})}o.diff(s).add(function(e){var n=o.getItemLayout(e);if(n){var i=new xl,r=new Sl,a={shape:{points:n}};i.shape.points=c(n),r.shape.points=c(n),Xl(i,a,t,e),Xl(r,a,t,e);var s=new Kn,l=new Kn;s.add(r),s.add(i),s.add(l),u(r.shape.points,n,l,o,e,!0),o.setItemGraphicEl(e,s)}}).update(function(e,n){var i=s.getItemGraphicEl(n),r=i.childAt(0),a=i.childAt(1),l=i.childAt(2),c={shape:{points:o.getItemLayout(e)}};c.shape.points&&(u(r.shape.points,c.shape.points,l,o,e,!1),nu(a),nu(r),$l(r,c,t),$l(a,c,t),o.setItemGraphicEl(e,i))}).remove(function(t){r.remove(s.getItemGraphicEl(t))}).execute(),o.eachItemGraphicEl(function(t,e){var n=o.getItemModel(e),i=t.childAt(0),a=t.childAt(1),s=t.childAt(2),l=o.getItemVisual(e,"style"),u=l.fill;r.add(t),i.useStyle(v.defaults(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:u})),ws(i,n,"lineStyle"),ws(a,n,"areaStyle");var c=n.getModel("areaStyle"),h=c.isEmpty()&&c.parentModel.isEmpty();a.ignore=h,v.each(["emphasis","select","blur"],function(t){var e=n.getModel([t,"areaStyle"]),i=e.isEmpty()&&e.parentModel.isEmpty();a.ensureState(t).ignore=i&&h}),a.useStyle(v.defaults(c.getAreaStyle(),{fill:u,opacity:.7,decal:l.decal}));var d=n.getModel("emphasis"),f=d.getModel("itemStyle").getItemStyle();s.eachChild(function(t){if(t instanceof Ko){var i=t.style;t.useStyle(v.extend({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},l))}else t.useStyle(l),t.setColor(u),t.style.strokeNoScale=!0;t.ensureState("emphasis").style=v.clone(f);var r=o.getStore().get(o.getDimensionIndex(t.__dimIdx),e);(null==r||isNaN(r))&&(r=""),Pu(t,Ru(n),{labelFetcher:o.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:r,inheritColor:u,defaultOpacity:l.opacity})}),ms(t,d.get("focus"),d.get("blurScope"),d.get("disabled"))}),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(wp),DM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return p(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new kS(v.bind(this.getData,this),v.bind(this.getRawData,this))},e.prototype.getInitialData=function(t,e){return IS(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=this.coordinateSystem.getIndicatorAxes(),o=this.getData().getName(t),a=""===o?this.name:o,s=Qf(this,t);return Ff("section",{header:a,sortBlocks:!0,blocks:v.map(r,function(e){var n=i.get(i.mapDimension(e.dim),t);return Ff("nameValue",{markerType:"subItem",markerColor:s,name:e.name,value:n,sortParam:n})})})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var e=this.getData(),n=this.coordinateSystem,i=e.getValues(v.map(n.dimensions,function(t){return e.mapDimension(t)}),t),r=0,o=i.length;r<o;r++)if(!isNaN(i[r])){var a=n.getIndicatorAxes();return n.coordToPoint(a[r].dataToCoord(i[r]),r)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(up),jM=BS.value;function PM(t,e){return v.defaults({show:e},t)}var RM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),r=this.get("axisTick"),o=this.get("axisLabel"),a=this.get("axisName"),s=this.get(["axisName","show"]),l=this.get(["axisName","formatter"]),u=this.get("axisNameGap"),c=this.get("triggerEvent"),h=v.map(this.get("indicator")||[],function(h){null!=h.max&&h.max>0&&!h.min?h.min=0:null!=h.min&&h.min<0&&!h.max&&(h.max=0);var d=a;null!=h.color&&(d=v.defaults({color:h.color},a));var f=v.merge(v.clone(h),{boundaryGap:t,splitNumber:e,scale:n,axisLine:i,axisTick:r,axisLabel:o,name:h.text,showName:s,nameLocation:"end",nameGap:u,nameTextStyle:d,triggerEvent:c},!1);if(s||(f.name=""),v.isString(l)){var p=f.name;f.name=l.replace("{value}",null!=p?p:"")}else v.isFunction(l)&&(f.name=l(f.name,f));var g=new sc(f,null,this.ecModel);return v.mixin(g,_b.prototype),g.mainType="radar",g.componentIndex=this.componentIndex,g},this);this._indicatorModels=h},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:v.merge({lineStyle:{color:"#bbb"}},jM.axisLine),axisLabel:PM(jM.axisLabel,!1),axisTick:PM(jM.axisTick,!1),splitLine:PM(jM.splitLine,!0),splitArea:PM(jM.splitArea,!0),indicator:[]},e}(_h),zM=["axisLine","axisTickLabel","axisName"],BM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes(),i=v.map(n,function(t){var n=t.model.get("showName")?t.name:"";return new uM(t.model,{axisName:n,position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});v.each(i,function(t){v.each(zM,t.add,t),this.group.add(t.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes();if(n.length){var i=t.get("shape"),r=t.getModel("splitLine"),o=t.getModel("splitArea"),a=r.getModel("lineStyle"),s=o.getModel("areaStyle"),l=r.get("show"),u=o.get("show"),c=a.get("color"),h=s.get("color"),d=v.isArray(c)?c:[c],f=v.isArray(h)?h:[h],p=[],g=[];if("circle"===i)for(var m=n[0].getTicksCoords(),y=e.cx,b=e.cy,x=0;x<m.length;x++){if(l)p[T(p,d,x)].push(new Qs({shape:{cx:y,cy:b,r:m[x].coord}}));if(u&&x<m.length-1)g[T(g,f,x)].push(new vl({shape:{cx:y,cy:b,r0:m[x].coord,r:m[x+1].coord}}))}else{var w,_=v.map(n,function(t,n){var i=t.getTicksCoords();return w=null==w?i.length-1:Math.min(i.length-1,w),v.map(i,function(t){return e.coordToPoint(t.coord,n)})}),S=[];for(x=0;x<=w;x++){for(var M=[],C=0;C<n.length;C++)M.push(_[C][x]);if(M[0]&&M.push(M[0].slice()),l)p[T(p,d,x)].push(new Sl({shape:{points:M}}));if(u&&S)g[T(g,f,x-1)].push(new xl({shape:{points:M.concat(S)}}));S=M.slice().reverse()}}var I=a.getLineStyle(),k=s.getAreaStyle();v.each(g,function(t,e){this.group.add(pu(t,{style:v.defaults({stroke:"none",fill:f[e%f.length]},k),silent:!0}))},this),v.each(p,function(t,e){this.group.add(pu(t,{style:v.defaults({fill:"none",stroke:d[e%d.length]},I),silent:!0}))},this)}function T(t,e,n){var i=n%e.length;return t[i]=t[i]||[],i}},e.type="radar",e}(hp),FM=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.type="value",r.angle=0,r.name="",r}return p(e,t),e}(qb),GM=function(){function t(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=Object(v.map)(t.getIndicatorModels(),function(t,e){var n="indicator_"+e,i=new FM(n,new Ey);return i.name=t.get("name"),i.model=t,t.axis=i,this.dimensions.push(n),i},this),this.resize(t,n)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},t.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},t.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var r,o=Math.atan2(-n,e),a=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],c=Math.abs(o-u.angle);c<a&&(r=u,s=l,a=c)}return[s,+(r&&r.coordToData(i))]},t.prototype.resize=function(t,e){var n=t.get("center"),i=e.getWidth(),r=e.getHeight(),o=Math.min(i,r)/2;this.cx=hi(n[0],i),this.cy=hi(n[1],r),this.startAngle=t.get("startAngle")*Math.PI/180;var a=t.get("radius");(Object(v.isString)(a)||Object(v.isNumber)(a))&&(a=[0,a]),this.r0=hi(a[0],o),this.r=hi(a[1],o),Object(v.each)(this._indicatorAxes,function(t,e){t.setExtent(this.r0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n},this)},t.prototype.update=function(t,e){var n=this._indicatorAxes,i=this._model;Object(v.each)(n,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(e,r){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===i){var o=e.getData();Object(v.each)(n,function(t){t.scale.unionExtentFromData(o,o.mapDimension(t.dim))})}},this);var r=i.get("splitNumber"),o=new Ey;o.setExtent(0,r),o.setInterval(1),Object(v.each)(n,function(t,e){XS(t.scale,t.model,o)})},t.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},t.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.create=function(e,n){var i=[];return e.eachComponent("radar",function(r){var o=new t(r,e,n);i.push(o),r.coordinateSystem=o}),e.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("radarIndex")||0])}),i},t.dimensions=[],t}();function VM(t){t.registerCoordinateSystem("radar",GM),t.registerComponentModel(RM),t.registerComponentView(BM),t.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(t){e.setItemVisual(t,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var WM="\0_ec_interaction_mutex";function HM(t,e){return!!UM(t)[e]}function UM(t){return t[WM]||(t[WM]={})}function YM(t,e,n,i,r){t.pointerChecker&&t.pointerChecker(i,r.originX,r.originY)&&(lt(i.event),JM(t,e,n,i,r))}function JM(t,e,n,i,r){r.isAvailableBehavior=Object(v.bind)(QM,null,n,i),t.trigger(e,r)}function QM(t,e,n){var i=n[t];return!t||i&&(!Object(v.isString)(i)||e.event[i+"Key"])}pm({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},v.noop);var ZM=function(t){function e(e){var n=t.call(this)||this;n._zr=e;var i=Object(v.bind)(n._mousedownHandler,n),r=Object(v.bind)(n._mousemoveHandler,n),o=Object(v.bind)(n._mouseupHandler,n),a=Object(v.bind)(n._mousewheelHandler,n),s=Object(v.bind)(n._pinchHandler,n);return n.enable=function(t,n){this.disable(),this._opt=Object(v.defaults)(Object(v.clone)(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",i),e.on("mousemove",r),e.on("mouseup",o)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",a),e.on("pinch",s))},n.disable=function(){e.off("mousedown",i),e.off("mousemove",r),e.off("mouseup",o),e.off("mousewheel",a),e.off("pinch",s)},n}return p(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(ut(t)||t.target&&t.target.draggable)){var e=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&QM("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!HM(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,i=this._x,r=this._y,o=e-i,a=n-r;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&lt(t.event),JM(this,"pan","moveOnMouseMove",t,{dx:o,dy:a,oldX:i,oldY:r,newX:e,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){ut(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=QM("zoomOnMouseWheel",t,this._opt),n=QM("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,r=Math.abs(i),o=t.offsetX,a=t.offsetY;if(0!==i&&(e||n)){if(e){var s=r>3?1.4:r>1?1.2:1.1;YM(this,"zoom","zoomOnMouseWheel",t,{scale:i>0?s:1/s,originX:o,originY:a,isAvailableBehavior:null})}if(n){var l=Math.abs(i);YM(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(i>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:o,originY:a,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){HM(this._zr,"globalPan")||YM(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(Y);function $M(t,e,n){var i=t.target;i.x+=e,i.y+=n,i.dirty()}function XM(t,e,n,i){var r=t.target,o=t.zoomLimit,a=t.zoom=t.zoom||1;if(a*=e,o){var s=o.min||0,l=o.max||1/0;a=Math.max(Math.min(l,a),s)}var u=a/t.zoom;t.zoom=a,r.x-=(n-r.x)*(u-1),r.y-=(i-r.y)*(u-1),r.scaleX*=u,r.scaleY*=u,r.dirty()}var KM,qM={axisPointer:1,tooltip:1,brush:1};function tC(t,e,n){var i=e.getComponentByElement(t.topTarget),r=i&&i.coordinateSystem;return i&&i!==n&&!qM.hasOwnProperty(i.mainType)&&r&&r.model!==n}function eC(t){Object(v.isString)(t)&&(t=(new DOMParser).parseFromString(t,"text/xml"));var e=t;for(9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}var nC={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},iC=Object(v.keys)(nC),rC={"alignment-baseline":"textBaseline","stop-color":"stopColor"},oC=Object(v.keys)(rC),aC=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(t,e){e=e||{};var n=eC(t);this._defsUsePending=[];var i=new Kn;this._root=i;var r=[],o=n.getAttribute("viewBox")||"",a=parseFloat(n.getAttribute("width")||e.width),s=parseFloat(n.getAttribute("height")||e.height);isNaN(a)&&(a=null),isNaN(s)&&(s=null),dC(n,i,null,!0,!1);for(var l,u,c=n.firstChild;c;)this._parseNode(c,i,r,null,!1,!1),c=c.nextSibling;if(function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i[0].style[i[1]]=t[i[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],o){var h=vC(o);h.length>=4&&(l={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(l&&null!=a&&null!=s&&(u=wC(l,{x:0,y:0,width:a,height:s}),!e.ignoreViewBox)){var d=i;(i=new Kn).add(d),d.scaleX=d.scaleY=u.scale,d.x=u.x,d.y=u.y}return e.ignoreRootClip||null==a||null==s||i.setClipPath(new aa({shape:{x:0,y:0,width:a,height:s}})),{root:i,width:a,height:s,viewBoxRect:l,viewBoxTransform:u,named:r}},t.prototype._parseNode=function(t,e,n,i,r,o){var a,s=t.nodeName.toLowerCase(),l=i;if("defs"===s&&(r=!0),"text"===s&&(o=!0),"defs"===s||"switch"===s)a=e;else{if(!r){var u=KM[s];if(u&&Object(v.hasOwn)(KM,s)){a=u.call(this,t,e);var c=t.getAttribute("name");if(c){var h={name:c,namedFrom:null,svgNodeTagLower:s,el:a};n.push(h),"g"===s&&(l=h)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:a});e.add(a)}}var d=sC[s];if(d&&Object(v.hasOwn)(sC,s)){var f=d.call(this,t),p=t.getAttribute("id");p&&(this._defs[p]=f)}}if(a&&a.isGroup)for(var g=t.firstChild;g;)1===g.nodeType?this._parseNode(g,a,n,l,r,o):3===g.nodeType&&o&&this._parseText(g,a),g=g.nextSibling},t.prototype._parseText=function(t,e){var n=new Qo({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});cC(e,n),dC(t,n,this._defsUsePending,!1,!1),function(t,e){var n=e.__selfStyle;if(n){var i=n.textBaseline,r=i;i&&"auto"!==i?"baseline"===i?r="alphabetic":"before-edge"===i||"text-before-edge"===i?r="top":"after-edge"===i||"text-after-edge"===i?r="bottom":"central"!==i&&"mathematical"!==i||(r="middle"):r="alphabetic",t.style.textBaseline=r}var o=e.__inheritedStyle;if(o){var a=o.textAlign,s=a;a&&("middle"===a&&(s="center"),t.style.textAlign=s)}}(n,e);var i=n.style,r=i.fontSize;r&&r<9&&(i.fontSize=9,n.scaleX*=r/9,n.scaleY*=r/9);var o=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=o;var a=n.getBoundingRect();return this._textX+=a.width,e.add(n),n},t.internalField=void(KM={g:function(t,e){var n=new Kn;return cC(e,n),dC(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new aa;return cC(e,n),dC(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,e){var n=new Qs;return cC(e,n),dC(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,e){var n=new kl;return cC(e,n),dC(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,e){var n=new Xs;return cC(e,n),dC(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,e){var n,i=t.getAttribute("points");i&&(n=hC(i));var r=new xl({shape:{points:n||[]},silent:!0});return cC(e,r),dC(t,r,this._defsUsePending,!1,!1),r},polyline:function(t,e){var n,i=t.getAttribute("points");i&&(n=hC(i));var r=new Sl({shape:{points:n||[]},silent:!0});return cC(e,r),dC(t,r,this._defsUsePending,!1,!1),r},image:function(t,e){var n=new Ko;return cC(e,n),dC(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",r=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(r),this._textY=parseFloat(i)+parseFloat(o);var a=new Kn;return cC(e,a),dC(t,a,this._defsUsePending,!1,!0),a},tspan:function(t,e){var n=t.getAttribute("x"),i=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var r=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",a=new Kn;return cC(e,a),dC(t,a,this._defsUsePending,!1,!0),this._textX+=parseFloat(r),this._textY+=parseFloat(o),a},path:function(t,e){var n=Hs(t.getAttribute("d")||"");return cC(e,n),dC(t,n,this._defsUsePending,!1,!1),n.silent=!0,n}}),t}(),sC={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),n=parseInt(t.getAttribute("y1")||"0",10),i=parseInt(t.getAttribute("x2")||"10",10),r=parseInt(t.getAttribute("y2")||"0",10),o=new zl(e,n,i,r);return lC(t,o),uC(t,o),o},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),n=parseInt(t.getAttribute("cy")||"0",10),i=parseInt(t.getAttribute("r")||"0",10),r=new Bl(e,n,i);return lC(t,r),uC(t,r),r}};function lC(t,e){"userSpaceOnUse"===t.getAttribute("gradientUnits")&&(e.global=!0)}function uC(t,e){for(var n=t.firstChild;n;){if(1===n.nodeType&&"stop"===n.nodeName.toLocaleLowerCase()){var i=n.getAttribute("offset"),r=void 0;r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};xC(n,o,o);var a=o.stopColor||n.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:r,color:a})}n=n.nextSibling}}function cC(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Object(v.defaults)(e.__inheritedStyle,t.__inheritedStyle))}function hC(t){for(var e=vC(t),n=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),o=parseFloat(e[i+1]);n.push([r,o])}return n}function dC(t,e,n,i,r){var o=e,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};1===t.nodeType&&(function(t,e){var n=t.getAttribute("transform");if(n){var i=[],r=null;(n=n.replace(/,/g," ")).replace(mC,function(t,e,n){return i.push(e,n),""});for(var o=i.length-1;o>0;o-=2){var a=i[o],s=i[o-1],l=vC(a);switch(r=r||[1,0,0,1,0,0],s){case"translate":an(r,r,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":ln(r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":sn(r,r,-parseFloat(l[0])*yC);break;case"skewX":var u=Math.tan(parseFloat(l[0])*yC);on(r,[1,0,u,1,0,0],r);break;case"skewY":var c=Math.tan(parseFloat(l[0])*yC);on(r,[1,c,0,1,0,0],r);break;case"matrix":r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5])}}e.setLocalTransform(r)}}(t,e),xC(t,a,s),i||function(t,e,n){for(var i=0;i<iC.length;i++){var r=iC[i],o=t.getAttribute(r);null!=o&&(e[nC[r]]=o)}for(var i=0;i<oC.length;i++){var r=oC[i],o=t.getAttribute(r);null!=o&&(n[rC[r]]=o)}}(t,a,s)),o.style=o.style||{},null!=a.fill&&(o.style.fill=pC(o,"fill",a.fill,n)),null!=a.stroke&&(o.style.stroke=pC(o,"stroke",a.stroke,n)),Object(v.each)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){null!=a[t]&&(o.style[t]=parseFloat(a[t]))}),Object(v.each)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(t){null!=a[t]&&(o.style[t]=a[t])}),r&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=Object(v.map)(vC(a.lineDash),function(t){return parseFloat(t)})),"hidden"!==a.visibility&&"collapse"!==a.visibility||(o.invisible=!0),"none"===a.display&&(o.ignore=!0)}var fC=/^url\(\s*#(.*?)\)/;function pC(t,e,n,i){var r=n&&n.match(fC);if(!r)return"none"===n&&(n=null),n;var o=Object(v.trim)(r[1]);i.push([t,e,o])}var gC=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function vC(t){return t.match(gC)||[]}var mC=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,yC=Math.PI/180;var bC=/([^\s:;]+)\s*:\s*([^:;]+)/g;function xC(t,e,n){var i,r=t.getAttribute("style");if(r)for(bC.lastIndex=0;null!=(i=bC.exec(r));){var o=i[1],a=Object(v.hasOwn)(nC,o)?nC[o]:null;a&&(e[a]=i[2]);var s=Object(v.hasOwn)(rC,o)?rC[o]:null;s&&(n[s]=i[2])}}function wC(t,e){var n=e.width/t.width,i=e.height/t.height,r=Math.min(n,i);return{scale:r,x:-(t.x+t.width/2)*r+(e.x+e.width/2),y:-(t.y+t.height/2)*r+(e.y+e.height/2)}}var _C=Object(v.createHashMap)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),SC=function(){function t(t,e){this.type="geoSVG",this._usedGraphicMap=Object(v.createHashMap)(),this._freedGraphics=[],this._mapName=t,this._parsedXML=eC(e)}return t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=function(t){var e=[],n=Object(v.createHashMap)();return Object(v.each)(t,function(t){if(null==t.namedFrom){var i=new zb(t.name,t.el);e.push(i),n.set(t.name,i)}}),{regions:e,regionsMap:n}}(t.named),n=e.regions,i=e.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(t){var e,n,i,r;try{n=(e=t&&(i=t,r={ignoreViewBox:!0,ignoreRootClip:!0},(new aC).parse(i,r))||{}).root,Object(v.assert)(null!=n)}catch(t){throw new Error("Invalid svg format\n"+t.message)}var o=new Kn;o.add(n),o.isGeoSVGGraphicRoot=!0;var a=e.width,s=e.height,l=e.viewBoxRect,u=this._boundingRect;if(!u){var c=void 0,h=void 0,d=void 0,f=void 0;if(null!=a?(c=0,d=a):l&&(c=l.x,d=l.width),null!=s?(h=0,f=s):l&&(h=l.y,f=l.height),null==c||null==h){var p=n.getBoundingRect();null==c&&(c=p.x,d=p.width),null==h&&(h=p.y,f=p.height)}u=this._boundingRect=new En(c,h,d,f)}if(l){var g=wC(l,u);n.scaleX=n.scaleY=g.scale,n.x=g.x,n.y=g.y}o.setClipPath(new aa({shape:u.plain()}));var m=[];return Object(v.each)(e.named,function(t){var e;null!=_C.get(t.svgNodeTagLower)&&(m.push(t),(e=t.el).silent=!1,e.isGroup&&e.traverse(function(t){t.silent=!1}))}),{root:o,boundingRect:u,named:m}},t.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},t.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},t}();for(var MC=[126,25],CC="南海诸岛",IC=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],kC=0;kC<IC.length;kC++)for(var TC=0;TC<IC[kC].length;TC++)IC[kC][TC][0]/=10.5,IC[kC][TC][1]/=-14,IC[kC][TC][0]+=MC[0],IC[kC][TC][1]+=MC[1];var OC={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};var EC=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var AC=function(){function t(t,e,n){var i;this.type="geoJSON",this._parsedMap=Object(v.createHashMap)(),this._mapName=t,this._specialAreas=n,this._geoJSON=(i=e,Object(v.isString)(i)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(i):new Function("return ("+i+");")():i)}return t.prototype.load=function(t,e){e=e||"name";var n=this._parsedMap.get(e);if(!n){var i=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:i,boundingRect:function(t){for(var e,n=0;n<t.length;n++){var i=t[n].getBoundingRect();(e=e||i.clone()).union(i)}return e}(i)})}var r=Object(v.createHashMap)(),o=[];return Object(v.each)(n.regions,function(e){var n=e.name;t&&Object(v.hasOwn)(t,n)&&(e=e.cloneShallow(n=t[n])),o.push(e),r.set(n,e)}),{regions:o,boundingRect:n.boundingRect||new En(0,0,0,0),regionsMap:r}},t.prototype._parseToRegions=function(t){var e,n=this._mapName,i=this._geoJSON;try{e=i?Gb(i,t):[]}catch(t){throw new Error("Invalid geoJson format\n"+t.message)}return function(t,e){if("china"===t){for(var n=0;n<e.length;n++)if(e[n].name===CC)return;e.push(new Rb(CC,v.map(IC,function(t){return{type:"polygon",exterior:t}}),MC))}}(n,e),Object(v.each)(e,function(t){var e=t.name;!function(t,e){if("china"===t){var n=OC[e.name];if(n){var i=e.getCenter();i[0]+=n[0]/10.5,i[1]+=-n[1]/14,e.setCenter(i)}}}(n,t),function(t,e){"china"===t&&"台湾"===e.name&&e.geometries.push({type:"polygon",exterior:EC[0]})}(n,t);var i=this._specialAreas&&this._specialAreas[e];i&&t.transformTo(i.left,i.top,i.width,i.height)},this),e},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}();var NC=Object(v.createHashMap)(),LC={registerMap:function(t,e,n){if(e.svg){var i=new SC(t,e.svg);NC.set(t,i)}else{var r=e.geoJson||e.geoJSON;r&&!e.features?n=e.specialAreas:r=e;i=new AC(t,r,n);NC.set(t,i)}},getGeoResource:function(t){return NC.get(t)},getMapForUser:function(t){var e=NC.get(t);return e&&"geoJSON"===e.type&&e.getMapForUser()},load:function(t,e,n){var i=NC.get(t);if(i)return i.load(e,n)}},DC=["rect","circle","line","ellipse","polygon","polyline","path"],jC=v.createHashMap(DC),PC=v.createHashMap(DC.concat(["g"])),RC=v.createHashMap(DC.concat(["g"])),zC=$i();function BC(t){var e=t.getItemStyle(),n=t.get("areaColor");return null!=n&&(e.fill=n),e}function FC(t){var e=t.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}function GC(t,e,n,i){var r=i.getModel("itemStyle"),o=i.getModel(["emphasis","itemStyle"]),a=i.getModel(["blur","itemStyle"]),s=i.getModel(["select","itemStyle"]),l=BC(r),u=BC(o),c=BC(s),h=BC(a),d=t.data;if(d){var f=d.getItemVisual(n,"style"),p=d.getItemVisual(n,"decal");t.isVisualEncodedByVisualMap&&f.fill&&(l.fill=f.fill),p&&(l.decal=iv(p,t.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=c,e.ensureState("blur").style=h,es(e)}function VC(t,e,n,i,r,o,a){var s=t.data,l=t.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),o)),c=s&&s.getItemLayout(o);if(l||u||c&&c.showLabel){var h=l?n:o,d=void 0;(!s||o>=0)&&(d=r);var f=a?{normal:{align:"center",verticalAlign:"middle"}}:null;Pu(e,Ru(i),{labelFetcher:d,labelDataIndex:h,defaultText:n},f);var p=e.getTextContent();if(p&&(zC(p).ignore=p.ignore,e.textConfig&&a)){var g=e.getBoundingRect().clone();e.textConfig.layoutRect=g,e.textConfig.position=[(a[0]-g.x)/g.width*100+"%",(a[1]-g.y)/g.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function WC(t,e,n,i,r,o){t.data?t.data.setItemGraphicEl(o,e):Sa(e).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:n,region:i&&i.option||{}}}function HC(t,e,n,i,r){t.data||Eu({el:e,componentModel:r,itemName:n,itemTooltipOption:i.get("tooltip")})}function UC(t,e,n,i,r){e.highDownSilentOnTouch=!!r.get("selectedMode");var o=i.getModel("emphasis"),a=o.get("focus");return ms(e,a,o.get("blurScope"),o.get("disabled")),t.isGeo&&function(t,e,n){var i=Sa(t);i.componentMainType=e.mainType,i.componentIndex=e.componentIndex,i.componentHighDownName=n}(e,r,n),a}function YC(t,e,n){var i,r=[];function o(){i=[]}function a(){i.length&&(r.push(i),i=[])}var s=e({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(t,e){isFinite(t)&&isFinite(e)&&i.push([t,e])},sphere:function(){}});return!n&&s.polygonStart(),v.each(t,function(t){s.lineStart();for(var e=0;e<t.length;e++)s.point(t[e][0],t[e][1]);s.lineEnd()}),!n&&s.polygonEnd(),r}var JC=function(){function t(t){var e=new Kn;this.uid=uc("ec_map_draw"),this._controller=new ZM(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new Kn),e.add(this._svgGroup=new Kn)}return t.prototype.draw=function(t,e,n,i,r){var o="geo"===t.mainType,a=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},function(e){a||e.getHostGeoModel()!==t||(a=e.getData())});var s=t.coordinateSystem,l=this._regionsGroup,u=this.group,c=s.getTransformInfo(),h=c.raw,d=c.roam;!l.childAt(0)||r?(u.x=d.x,u.y=d.y,u.scaleX=d.scaleX,u.scaleY=d.scaleY,u.dirty()):$l(u,d,t);var f=a&&a.getVisual("visualMeta")&&a.getVisual("visualMeta").length>0,p={api:n,geo:s,mapOrGeoModel:t,data:a,isVisualEncodedByVisualMap:f,isGeo:o,transformInfoRaw:h};"geoJSON"===s.resourceType?this._buildGeoJSON(p):"geoSVG"===s.resourceType&&this._buildSVG(p),this._updateController(t,e,n),this._updateMapSelectHandler(t,l,n,i)},t.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=v.createHashMap(),n=v.createHashMap(),i=this._regionsGroup,r=t.transformInfoRaw,o=t.mapOrGeoModel,a=t.data,s=t.geo.projection,l=s&&s.stream;function u(t,e){return e&&(t=e(t)),t&&[t[0]*r.scaleX+r.x,t[1]*r.scaleY+r.y]}function c(t){return{shape:{points:function(t){for(var e=[],n=!l&&s&&s.project,i=0;i<t.length;++i){var r=u(t[i],n);r&&e.push(r)}return e}(t)}}}i.removeAll(),v.each(t.geo.regions,function(r){var h=r.name,d=e.get(h),f=n.get(h)||{},p=f.dataIdx,g=f.regionModel;d||(d=e.set(h,new Kn),i.add(d),p=a?a.indexOfName(h):null,g=t.isGeo?o.getRegionModel(h):a?a.getItemModel(p):null,n.set(h,{dataIdx:p,regionModel:g}));var m=[],y=[];v.each(r.geometries,function(t){if("polygon"===t.type){var e=[t.exterior].concat(t.interiors||[]);l&&(e=YC(e,l)),v.each(e,function(t){m.push(new xl(c(t)))})}else{var n=t.points;l&&(n=YC(n,l,!0)),v.each(n,function(t){y.push(new Sl(c(t)))})}});var b=u(r.getCenter(),s&&s.project);function x(e,n){if(e.length){var i=new Pl({culling:!0,segmentIgnoreThreshold:1,shape:{paths:e}});d.add(i),GC(t,i,p,g),VC(t,i,h,g,o,p,b),n&&(FC(i),v.each(i.states,FC))}}x(m),x(y,!0)}),e.each(function(e,i){var r=n.get(i),a=r.dataIdx,s=r.regionModel;WC(t,e,i,s,o,a),HC(t,e,i,s,o),UC(t,e,i,s,o)},this)},t.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=v.createHashMap(),r=!1;v.each(this._svgGraphicRecord.named,function(e){var n=e.name,o=t.mapOrGeoModel,a=t.data,s=e.svgNodeTagLower,l=e.el,u=a?a.indexOfName(n):null,c=o.getRegionModel(n);(null!=jC.get(s)&&l instanceof Hr&&GC(t,l,u,c),l instanceof Hr&&(l.culling=!0),l.z2EmphasisLift=0,e.namedFrom)||(null!=RC.get(s)&&VC(t,l,n,c,o,u,null),WC(t,l,n,c,o,u),HC(t,l,n,c,o),null!=PC.get(s)&&("self"===UC(t,l,n,c,o)&&(r=!0),(i.get(n)||i.set(n,[])).push(l)))},this),this._enableBlurEntireSVG(r,t)},t.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var n=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(t){if(!t.isGroup){es(t);var e=t.ensureState("blur").style||{};null==e.opacity&&null!=n&&(e.opacity=n),t.ensureState("emphasis")}})}},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},t.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var n=e.coordinateSystem;if("geoJSON"===n.resourceType){var i=this._regionsGroupByName;if(i){var r=i.get(t);return r?[r]:[]}}else if("geoSVG"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},t.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},t.prototype._useSVG=function(t){var e=LC.getGeoResource(t);if(e&&"geoSVG"===e.type){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},t.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=LC.getGeoResource(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},t.prototype._updateController=function(t,e,n){var i=t.coordinateSystem,r=this._controller,o=this._controllerHost;o.zoomLimit=t.get("scaleLimit"),o.zoom=i.getZoom(),r.enable(t.get("roam")||!1);var a=t.mainType;function s(){var e={type:"geoRoam",componentType:a};return e[a+"Id"]=t.id,e}r.off("pan").on("pan",function(t){this._mouseDownFlag=!1,$M(o,t.dx,t.dy),n.dispatchAction(v.extend(s(),{dx:t.dx,dy:t.dy,animation:{duration:0}}))},this),r.off("zoom").on("zoom",function(t){this._mouseDownFlag=!1,XM(o,t.scale,t.originX,t.originY),n.dispatchAction(v.extend(s(),{zoom:t.scale,originX:t.originX,originY:t.originY,animation:{duration:0}}))},this),r.setPointerChecker(function(e,r,o){return i.containPoint([r,o])&&!tC(e,n,t)})},t.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=zC(e).ignore)})},t.prototype._updateMapSelectHandler=function(t,e,n,i){var r=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){r._mouseDownFlag=!0}),e.on("click",function(t){r._mouseDownFlag&&(r._mouseDownFlag=!1)}))},t}(),QC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var r=this.group;if(r.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&i&&"geoRoam"===i.type&&this._mapDraw.resetForLabelLayout(),i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===t.id)(o=this._mapDraw)&&r.add(o.group);else if(t.needsDrawMap){var o=this._mapDraw||new JC(n);r.add(o.group),o.draw(t,e,n,this,i),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,e,n){var i=t.originalData,r=this.group;i.each(i.mapDimension("value"),function(e,n){if(!isNaN(e)){var o=i.getItemLayout(n);if(o&&o.point){var a=o.point,s=o.offset,l=new Qs({style:{fill:t.getData().getVisual("style").fill},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:8+(s?0:Da+1)});if(!s){var u=t.mainSeries.getData(),c=i.getName(n),h=u.indexOfName(c),d=i.getItemModel(n),f=d.getModel("label"),p=u.getItemGraphicEl(h);Pu(l,Ru(d),{labelFetcher:{getFormattedLabel:function(e,n){return t.getFormattedLabel(h,n)}},defaultText:c}),l.disableLabelAnimation=!0,f.get("position")||l.setTextConfig({position:"bottom"}),p.onHoverStateChange=function(t){qa(l,t)}}r.add(l)}}})},e.type="map",e}(wp),ZC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,i=n.getRegion(e);return i&&n.dataToPoint(i.getCenter())}},n}return p(e,t),e.prototype.getInitialData=function(t){for(var e=IS(this,{coordDimensions:["value"],encodeDefaulter:v.curry(zh,this)}),n=v.createHashMap(),i=[],r=0,o=e.count();r<o;r++){var a=e.getName(r);n.set(a,!0)}var s=LC.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return v.each(s.regions,function(t){var e=t.name;n.get(e)||i.push(e)}),e.appendValues([],i),e},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},e.prototype.formatTooltip=function(t,e,n){for(var i=this.getData(),r=this.getRawValue(t),o=i.getName(t),a=this.seriesGroup,s=[],l=0;l<a.length;l++){var u=a[l].originalData.indexOfName(o),c=i.mapDimension("value");isNaN(a[l].originalData.get(c,u))||s.push(a[l].name)}return Ff("section",{header:s.join(", "),noHeader:!s.length,blocks:[Ff("nameValue",{name:o,value:r})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var e=t.icon||"roundRect",n=kg(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return n.setStyle(t.itemStyle),n.style.stroke="none",e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(up);function $C(t){var e={};t.eachSeriesByType("map",function(t){var n=t.getHostGeoModel(),i=n?"o"+n.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)}),v.each(e,function(t,e){for(var n,i,r,o=(n=v.map(t,function(t){return t.getData()}),i=t[0].get("mapValueCalculation"),r={},v.each(n,function(t){t.each(t.mapDimension("value"),function(e,n){var i="ec-"+t.getName(n);r[i]=r[i]||[],isNaN(e)||r[i].push(e)})}),n[0].map(n[0].mapDimension("value"),function(t,e){for(var o,a="ec-"+n[0].getName(e),s=0,l=1/0,u=-1/0,c=r[a].length,h=0;h<c;h++)l=Math.min(l,r[a][h]),u=Math.max(u,r[a][h]),s+=r[a][h];return o="min"===i?l:"max"===i?u:"average"===i?s/c:s,0===c?NaN:o})),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=0===a&&!t[a].getHostGeoModel(),t[a].setData(o.cloneShallow()),t[a].mainSeries=t[0]})}function XC(t){var e={};t.eachSeriesByType("map",function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!e[i]){var r={};v.each(n.seriesGroup,function(e){var n=e.coordinateSystem,i=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&i.each(i.mapDimension("value"),function(t,e){var o=i.getName(e),a=n.getRegion(o);if(a&&!isNaN(t)){var s=r[o]||0,l=n.dataToPoint(a.getCenter());r[o]=s+1,i.setItemLayout(e,{point:l,offset:s})}})});var o=n.getData();o.each(function(t){var e=o.getName(t),n=o.getItemLayout(t)||{};n.showLabel=!r[e],o.setItemLayout(t,n)}),e[i]=!0}})}var KC=G;function qC(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var tI=function(t){function e(e){var n=t.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new xn,n._rawTransformable=new xn,n.name=e,n}return p(e,t),e.prototype.setBoundingRect=function(t,e,n,i){return this._rect=new En(t,e,n,i),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,e,n,i){this._transformTo(t,e,n,i),this._viewRect=new En(t,e,n,i)},e.prototype._transformTo=function(t,e,n,i){var r=this.getBoundingRect(),o=this._rawTransformable;o.transform=r.calculateTransform(new En(t,e,n,i));var a=o.parent;o.parent=null,o.decomposeTransform(),o.parent=a,this._updateTransform()},e.prototype.setCenter=function(t){t&&(this._center=t,this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom();i=G([],i,t),n=G([],n,t),e.originX=i[0],e.originY=i[1],e.x=n[0]-i[0],e.y=n[1]-i[1],e.scaleX=e.scaleY=r,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),rn(this.transform||(this.transform=[]),e.transform||[1,0,0,1,0,0]),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],un(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,e=this._roamTransformable,n=new xn;return n.transform=e.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,e,n){var i=e?this._rawTransform:this.transform;return n=n||[],i?KC(n,t,i):x(n,t)},e.prototype.pointToData=function(t){var e=this.invTransform;return e?KC([],t,e):[t[0],t[1]]},e.prototype.convertToPixel=function(t,e,n){var i=qC(e);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var i=qC(e);return i===this?i.pointToData(n):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(xn),eI={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},nI=["lng","lat"],iI=function(t){function e(e,n,i){var r=t.call(this,e)||this;r.dimensions=nI,r.type="geo",r._nameCoordMap=v.createHashMap(),r.map=n;var o,a=i.projection,s=LC.load(n,i.nameMap,i.nameProperty),l=LC.getGeoResource(n),u=(r.resourceType=l?l.type:null,r.regions=s.regions),c=eI[l.type];if(r._regionsMap=s.regionsMap,r.regions=s.regions,r.projection=a,a)for(var h=0;h<u.length;h++){var d=u[h].getBoundingRect(a);(o=o||d.clone()).union(d)}else o=s.boundingRect;return r.setBoundingRect(o.x,o.y,o.width,o.height),r.aspectScale=a?1:v.retrieve2(i.aspectScale,c.aspectScale),r._invertLongitute=!a&&c.invertLongitute,r}return p(e,t),e.prototype._transformTo=function(t,e,n,i){var r=this.getBoundingRect(),o=this._invertLongitute;r=r.clone(),o&&(r.y=-r.y-r.height);var a=this._rawTransformable;a.transform=r.calculateTransform(new En(t,e,n,i));var s=a.parent;a.parent=null,a.decomposeTransform(),a.parent=s,o&&(a.scaleY=-a.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var e=this.regions,n=0;n<e.length;n++){var i=e[n];if("geoJSON"===i.type&&i.contain(t))return e[n]}},e.prototype.addGeoCoord=function(t,e){this._nameCoordMap.set(t,e)},e.prototype.getGeoCoord=function(t){var e=this._regionsMap.get(t);return this._nameCoordMap.get(t)||e&&e.getCenter()},e.prototype.dataToPoint=function(t,e,n){if(v.isString(t)&&(t=this.getGeoCoord(t)),t){var i=this.projection;return i&&(t=i.project(t)),t&&this.projectedToPoint(t)}},e.prototype.pointToData=function(t){var e=this.projection;return e&&(t=e.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(e){return t.prototype.pointToData.call(this,e)},e.prototype.projectedToPoint=function(e,n,i){return t.prototype.dataToPoint.call(this,e,n,i)},e.prototype.convertToPixel=function(t,e,n){var i=rI(e);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var i=rI(e);return i===this?i.pointToData(n):null},e}(tI);function rI(t){var e=t.geoModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",tr).models[0]||{}).coordinateSystem:null}v.mixin(iI,tI);var oI=iI;function aI(t,e){var n=t.get("boundingCoords");if(null!=n){var i=n[0],r=n[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])){var o=this.projection;if(o){var a=i[0],s=i[1],l=r[0],u=r[1];i=[1/0,1/0],r=[-1/0,-1/0];var c=function(t,e,n,a){for(var s=n-t,l=a-e,u=0;u<=100;u++){var c=u/100,h=o.project([t+s*c,e+l*c]);V(i,i,h),W(r,r,h)}};c(a,s,l,s),c(l,s,l,u),c(l,u,a,u),c(a,u,l,s)}this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}else 0}var h,d,f,p=this.getBoundingRect(),g=t.get("layoutCenter"),v=t.get("layoutSize"),m=e.getWidth(),y=e.getHeight(),b=p.width/p.height*this.aspectScale,x=!1;if(g&&v&&(h=[hi(g[0],m),hi(g[1],y)],d=hi(v,Math.min(m,y)),isNaN(h[0])||isNaN(h[1])||isNaN(d)||(x=!0)),x)f={},b>1?(f.width=d,f.height=d/b):(f.height=d,f.width=d*b),f.y=h[1]-f.height/2,f.x=h[0]-f.width/2;else{var w=t.getBoxLayoutParams();w.aspect=b,f=ph(w,{width:m,height:y})}this.setViewRect(f.x,f.y,f.width,f.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}var sI=new(function(){function t(){this.dimensions=nI}return t.prototype.create=function(t,e){var n=[];function i(t){return{nameProperty:t.get("nameProperty"),aspectScale:t.get("aspectScale"),projection:t.get("projection")}}t.eachComponent("geo",function(t,r){var o=t.get("map"),a=new oI(o+r,o,v.extend({nameMap:t.get("nameMap")},i(t)));a.zoomLimit=t.get("scaleLimit"),n.push(a),t.coordinateSystem=a,a.model=t,a.resize=aI,a.resize(t,e)}),t.eachSeries(function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=n[e]}});var r={};return t.eachSeriesByType("map",function(t){if(!t.getHostGeoModel()){var e=t.getMapType();r[e]=r[e]||[],r[e].push(t)}}),v.each(r,function(t,r){var o=v.map(t,function(t){return t.get("nameMap")}),a=new oI(r,r,v.extend({nameMap:v.mergeAll(o)},i(t[0])));a.zoomLimit=v.retrieve.apply(null,v.map(t,function(t){return t.get("scaleLimit")})),n.push(a),a.resize=aI,a.resize(t[0],e),v.each(t,function(t){t.coordinateSystem=a,function(t,e){v.each(e.get("geoCoord"),function(e,n){t.addGeoCoord(n,e)})}(a,t)})}),n},t.prototype.getFilledRegions=function(t,e,n,i){for(var r=(t||[]).slice(),o=v.createHashMap(),a=0;a<r.length;a++)o.set(r[a].name,r[a]);var s=LC.load(e,n,i);return v.each(s.regions,function(t){var e=t.name;!o.get(e)&&r.push({name:e})}),r},t}()),lI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.init=function(t,e,n){var i=LC.getGeoResource(t.map);if(i&&"geoJSON"===i.type){var r=t.itemStyle=t.itemStyle||{};"color"in r||(r.color="#eee")}this.mergeDefaultAndTheme(t,n),Bi(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,e=this.option;e.regions=sI.getFilledRegions(e.regions,e.map,e.nameMap,e.nameProperty);var n={};this._optionModelMap=v.reduce(e.regions||[],function(e,i){var r=i.name;return r&&(e.set(r,new sc(i,t,t.ecModel)),i.selected&&(n[r]=!0)),e},v.createHashMap()),e.selectedMap||(e.selectedMap=n)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new sc(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,e){var n=this.getRegionModel(t),i="normal"===e?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),r={name:t};return v.isFunction(i)?(r.status=e,i(r)):v.isString(i)?i.replace("{a}",null!=t?t:""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var e=this.option,n=e.selectedMode;n&&("multiple"!==n&&(e.selectedMap=null),(e.selectedMap||(e.selectedMap={}))[t]=!0)},e.prototype.unSelect=function(t){var e=this.option.selectedMap;e&&(e[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var e=this.option.selectedMap;return!(!e||!e[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(_h);function uI(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function cI(t,e,n){var i=t.getZoom(),r=t.getCenter(),o=e.zoom,a=t.projectedToPoint?t.projectedToPoint(r):t.dataToPoint(r);if(null!=e.dx&&null!=e.dy&&(a[0]-=e.dx,a[1]-=e.dy,t.setCenter(uI(t,a))),null!=o){if(n){var s=n.min||0,l=n.max||1/0;o=Math.max(Math.min(i*o,l),s)/i}t.scaleX*=o,t.scaleY*=o;var u=(e.originX-t.x)*(o-1),c=(e.originY-t.y)*(o-1);t.x-=u,t.y-=c,t.updateTransform(),t.setCenter(uI(t,a)),t.setZoom(o*i)}return{center:t.getCenter(),zoom:t.getZoom()}}var hI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.focusBlurEnabled=!0,n}return p(e,t),e.prototype.init=function(t,e){this._api=e},e.prototype.render=function(t,e,n,i){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new JC(n));var r=this._mapDraw;r.draw(t,e,n,this,i),r.group.on("click",this._handleRegionClick,this),r.group.silent=t.get("silent"),this.group.add(r.group),this.updateSelectStatus(t,e,n)},e.prototype._handleRegionClick=function(t){var e;pg(t.target,function(t){return null!=(e=Sa(t).eventData)},!0),e&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:e.name})},e.prototype.updateSelectStatus=function(t,e,n){var i=this;this._mapDraw.group.traverse(function(t){var e=Sa(t).eventData;if(e)return i._model.isSelected(e.name)?n.enterSelect(t):n.leaveSelect(t),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(hp);function dI(t,e,n){LC.registerMap(t,e,n)}function fI(t){function e(e,n){n.update="geo:updateSelectStatus",t.registerAction(n,function(t,n){var i={},r=[];return n.eachComponent({mainType:"geo",query:t},function(n){n[e](t.name);var o=n.coordinateSystem;Object(v.each)(o.regions,function(t){i[t.name]=n.isSelected(t.name)||!1});var a=[];Object(v.each)(i,function(t,e){i[e]&&a.push(e)}),r.push({geoIndex:n.componentIndex,name:a})}),{selected:i,allSelected:r,name:t.name}})}t.registerCoordinateSystem("geo",sI),t.registerComponentModel(lI),t.registerComponentView(hI),t.registerImpl("registerMap",dI),t.registerImpl("getMap",function(t){return LC.getMapForUser(t)}),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(e){var i=e.coordinateSystem;if("geo"===i.type){var r=cI(i,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom),"series"===n&&Object(v.each)(e.seriesGroup,function(t){t.setCenter(r.center),t.setZoom(r.zoom)})}})})}function pI(t,e){var n=t.isExpand?t.children:[],i=t.parentNode.children,r=t.hierNode.i?i[t.hierNode.i-1]:null;if(n.length){!function(t){var e=t.children,n=e.length,i=0,r=0;for(;--n>=0;){var o=e[n];o.hierNode.prelim+=i,o.hierNode.modifier+=i,r+=o.hierNode.change,i+=o.hierNode.shift+r}}(t);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;r?(t.hierNode.prelim=r.hierNode.prelim+e(t,r),t.hierNode.modifier=t.hierNode.prelim-o):t.hierNode.prelim=o}else r&&(t.hierNode.prelim=r.hierNode.prelim+e(t,r));t.parentNode.hierNode.defaultAncestor=function(t,e,n,i){if(e){for(var r=t,o=t,a=o.parentNode.children[0],s=e,l=r.hierNode.modifier,u=o.hierNode.modifier,c=a.hierNode.modifier,h=s.hierNode.modifier;s=yI(s),o=bI(o),s&&o;){r=yI(r),a=bI(a),r.hierNode.ancestor=t;var d=s.hierNode.prelim+h-o.hierNode.prelim-u+i(s,o);d>0&&(wI(xI(s,t,n),t,d),u+=d,l+=d),h+=s.hierNode.modifier,u+=o.hierNode.modifier,l+=r.hierNode.modifier,c+=a.hierNode.modifier}s&&!yI(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=h-l),o&&!bI(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=u-c,n=t)}return n}(t,r,t.parentNode.hierNode.defaultAncestor||i[0],e)}function gI(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function vI(t){return arguments.length?t:_I}function mI(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function yI(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function bI(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function xI(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function wI(t,e,n){var i=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=i}function _I(t,e){return t.parentNode===e.parentNode?1:2}var SI=function(){return function(){this.parentPoint=[],this.childPoints=[]}}(),MI=function(t){function e(e){return t.call(this,e)||this}return p(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new SI},e.prototype.buildPath=function(t,e){var n=e.childPoints,i=n.length,r=e.parentPoint,o=n[0],a=n[i-1];if(1===i)return t.moveTo(r[0],r[1]),void t.lineTo(o[0],o[1]);var s=e.orient,l="TB"===s||"BT"===s?0:1,u=1-l,c=hi(e.forkPosition,1),h=[];h[l]=r[l],h[u]=r[u]+(a[u]-r[u])*c,t.moveTo(r[0],r[1]),t.lineTo(h[0],h[1]),t.moveTo(o[0],o[1]),h[l]=o[l],t.lineTo(h[0],h[1]),h[l]=a[l],t.lineTo(h[0],h[1]),t.lineTo(a[0],a[1]);for(var d=1;d<i-1;d++){var f=n[d];t.moveTo(f[0],f[1]),h[l]=f[l],t.lineTo(h[0],h[1])}},e}(Uo);function CI(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)}function II(t,e,n,i,r){var o=!n,a=t.tree.getNodeByDataIndex(e),s=a.getModel(),l=a.getVisual("style").fill,u=!1===a.isExpand&&0!==a.children.length?l:"#fff",c=t.tree.root,h=a.parentNode===c?a:a.parentNode||a,d=t.getItemGraphicEl(h.dataIndex),f=h.getLayout(),p=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:f,g=a.getLayout();o?((n=new a_(t,e,null,{symbolInnerColor:u,useNameLabel:!0})).x=p.x,n.y=p.y):n.updateData(t,e,null,{symbolInnerColor:u,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=g.rawX,n.__radialRawY=g.rawY,i.add(n),t.setItemGraphicEl(e,n),n.__oldX=n.x,n.__oldY=n.y,$l(n,{x:g.x,y:g.y},r);var m=n.getSymbolPath();if("radial"===r.get("layout")){var y=c.children[0],b=y.getLayout(),x=y.children.length,w=void 0,_=void 0;if(g.x===b.x&&!0===a.isExpand){var S={x:(y.children[0].getLayout().x+y.children[x-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[x-1].getLayout().y)/2};(w=Math.atan2(S.y-b.y,S.x-b.x))<0&&(w=2*Math.PI+w),(_=S.x<b.x)&&(w-=Math.PI)}else(w=Math.atan2(g.y-b.y,g.x-b.x))<0&&(w=2*Math.PI+w),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(_=g.x<b.x)&&(w-=Math.PI):(_=g.x>b.x)||(w-=Math.PI);var M=_?"left":"right",C=s.getModel("label"),I=C.get("rotate"),k=I*(Math.PI/180),T=m.getTextContent();T&&(m.setTextConfig({position:C.get("position")||M,rotation:null==I?-w:k,origin:"center"}),T.setStyle("verticalAlign","middle"))}var O=s.get(["emphasis","focus"]),E="ancestor"===O?a.getAncestorsIndices():"descendant"===O?a.getDescendantIndices():null;E&&(Sa(n).focus=E),function(t,e,n,i,r,o,a,s){var l=e.getModel(),u=t.get("edgeShape"),c=t.get("layout"),h=t.getOrient(),d=t.get(["lineStyle","curveness"]),f=t.get("edgeForkPosition"),p=l.getModel("lineStyle").getLineStyle(),g=i.__edge;if("curve"===u)e.parentNode&&e.parentNode!==n&&(g||(g=i.__edge=new Nl({shape:EI(c,h,d,r,r)})),$l(g,{shape:EI(c,h,d,o,a)},t));else if("polyline"===u)if("orthogonal"===c){if(e!==n&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var m=e.children,y=[],b=0;b<m.length;b++){var x=m[b].getLayout();y.push([x.x,x.y])}g||(g=i.__edge=new MI({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:h,forkPosition:f}})),$l(g,{shape:{parentPoint:[a.x,a.y],childPoints:y}},t)}}else 0;g&&(g.useStyle(v.defaults({strokeNoScale:!0,fill:null},p)),ws(g,l,"lineStyle"),es(g),s.add(g))}(r,a,c,n,p,f,g,i),n.__edge&&(n.onHoverStateChange=function(e){if("blur"!==e){var i=a.parentNode&&t.getItemGraphicEl(a.parentNode.dataIndex);i&&i.hoverState===Ea||qa(n.__edge,e)}})}function kI(t,e,n,i,r){var o=TI(e.tree.root,t),a=o.source,s=o.sourceLayout,l=e.getItemGraphicEl(t.dataIndex);if(l){var u=e.getItemGraphicEl(a.dataIndex).__edge,c=l.__edge||(!1===a.isExpand||1===a.children.length?u:void 0),h=i.get("edgeShape"),d=i.get("layout"),f=i.get("orient"),p=i.get(["lineStyle","curveness"]);c&&("curve"===h?ql(c,{shape:EI(d,f,p,s,s),style:{opacity:0}},i,{cb:function(){n.remove(c)},removeOpt:r}):"polyline"===h&&"orthogonal"===i.get("layout")&&ql(c,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},i,{cb:function(){n.remove(c)},removeOpt:r}))}}function TI(t,e){for(var n,i=e.parentNode===t?e:e.parentNode||e;null==(n=i.getLayout());)i=i.parentNode===t?i:i.parentNode||i;return{source:i,sourceLayout:n}}function OI(t,e,n,i,r){var o=t.tree.getNodeByDataIndex(e),a=TI(t.tree.root,o).sourceLayout,s={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};ql(n,{x:a.x+1,y:a.y+1},r,{cb:function(){i.remove(n),t.setItemGraphicEl(e,null)},removeOpt:s}),n.fadeOut(null,{fadeLabel:!0,animation:s}),o.children.forEach(function(e){kI(e,t,i,r,s)}),kI(o,t,i,r,s)}function EI(t,e,n,i,r){var o,a,s,l,u,c,h,d;if("radial"===t){u=i.rawX,h=i.rawY,c=r.rawX,d=r.rawY;var f=mI(u,h),p=mI(u,h+(d-h)*n),g=mI(c,d+(h-d)*n),v=mI(c,d);return{x1:f.x||0,y1:f.y||0,x2:v.x||0,y2:v.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:g.x||0,cpy2:g.y||0}}return u=i.x,h=i.y,c=r.x,d=r.y,"LR"!==e&&"RL"!==e||(o=u+(c-u)*n,a=h,s=c+(u-c)*n,l=d),"TB"!==e&&"BT"!==e||(o=u,a=h+(d-h)*n,s=c,l=d+(h-d)*n),{x1:u,y1:h,x2:c,y2:d,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}var AI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._mainGroup=new Kn,n}return p(e,t),e.prototype.init=function(t,e){this._controller=new ZM(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,e,n){var i=t.getData(),r=t.layoutInfo,o=this._mainGroup;"radial"===t.get("layout")?(o.x=r.x+r.width/2,o.y=r.y+r.height/2):(o.x=r.x,o.y=r.y),this._updateViewCoordSys(t),this._updateController(t,e,n);var a=this._data;i.diff(a).add(function(e){CI(i,e)&&II(i,e,null,o,t)}).update(function(e,n){var r=a.getItemGraphicEl(n);CI(i,e)?II(i,e,r,o,t):r&&OI(a,n,r,o,t)}).remove(function(e){var n=a.getItemGraphicEl(e);n&&OI(a,e,n,o,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&i.eachItemGraphicEl(function(e,i){e.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:i})})}),this._data=i},e.prototype._updateViewCoordSys=function(t){var e=t.getData(),n=[];e.each(function(t){var i=e.getItemLayout(t);!i||isNaN(i.x)||isNaN(i.y)||n.push([+i.x,+i.y])});var i=[],r=[];qr(n,i,r);var o=this._min,a=this._max;r[0]-i[0]==0&&(i[0]=o?o[0]:i[0]-1,r[0]=a?a[0]:r[0]+1),r[1]-i[1]==0&&(i[1]=o?o[1]:i[1]-1,r[1]=a?a[1]:r[1]+1);var s=t.coordinateSystem=new tI;s.zoomLimit=t.get("scaleLimit"),s.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1]),s.setCenter(t.get("center")),s.setZoom(t.get("zoom")),this.group.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY}),this._min=i,this._max=r},e.prototype._updateController=function(t,e,n){var i=this,r=this._controller,o=this._controllerHost,a=this.group;r.setPointerChecker(function(e,i,r){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(i,r)&&!tC(e,n,t)}),r.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",function(e){$M(o,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){XM(o,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(t),n.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var e=t.getData(),n=this._getNodeGlobalScale(t);e.eachItemGraphicEl(function(t,e){t.setSymbolScale(n)})},e.prototype._getNodeGlobalScale=function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,i=e.scaleX||1;return((e.getZoom()-1)*n+1)/i},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(wp),NI=$i();function LI(t,e){if(NI(i=this).mainData===i){var n=Object(v.extend)({},NI(this).datas);n[this.dataType]=e,zI(e,n,t)}else BI(e,this.dataType,NI(this).mainData,t);var i;return e}function DI(t,e){return t.struct&&t.struct.update(),e}function jI(t,e){return Object(v.each)(NI(e).datas,function(n,i){n!==e&&BI(n.cloneShallow(),i,e,t)}),e}function PI(t){var e=NI(this).mainData;return null==t||null==e?e:NI(e).datas[t]}function RI(){var t=NI(this).mainData;return null==t?[{data:t}]:Object(v.map)(Object(v.keys)(NI(t).datas),function(e){return{type:e,data:NI(t).datas[e]}})}function zI(t,e,n){NI(t).datas={},Object(v.each)(e,function(e,i){BI(e,i,t,n)})}function BI(t,e,n,i){NI(n).datas[e]=t,NI(t).mainData=n,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=PI,t.getLinkedDataAll=RI}var FI=function(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,zI(e,n,t),Object(v.each)(n,function(n){Object(v.each)(e.TRANSFERABLE_METHODS,function(e){n.wrapMethod(e,Object(v.curry)(LI,t))})}),e.wrapMethod("cloneShallow",Object(v.curry)(jI,t)),Object(v.each)(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,Object(v.curry)(DI,t))}),Object(v.assert)(n[e.dataType]===e)},GI=function(){function t(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,e,n){v.isFunction(t)&&(n=e,e=t,t=null),t=t||{},v.isString(t)&&(t={order:t});var i,r=t.order||"preorder",o=this[t.attr||"children"];"preorder"===r&&(i=e.call(n,this));for(var a=0;!i&&a<o.length;a++)o[a].eachNode(t,e,n);"postorder"===r&&e.call(n,this)},t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].getNodeById(t);if(r)return r}},t.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].contains(t);if(r)return r}},t.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},t.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},t.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},t.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}();var VI=function(){function t(t){this.type="tree",this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n<i;n++)e[n].dataIndex=-1;for(n=0,i=t.count();n<i;n++)e[t.getRawIndex(n)].dataIndex=n},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,n,i){var r=new t(n),o=[],a=1;!function t(e,n){var i=e.value;a=Math.max(a,v.isArray(i)?i.length:1);o.push(e);var s=new GI(Yi(e.name,""),r);n?function(t,e){var n=e.children;if(t.parentNode===e)return;n.push(t),t.parentNode=e}(s,n):r.root=s;r._nodes.push(s);var l=e.children;if(l)for(var u=0;u<l.length;u++)t(l[u],s)}(e),r.root.updateDepthAndHeight(0);var s=ry(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,l=new ny(s,n);return l.initData(o),i&&i(l),FI({mainData:l,struct:r,structAttr:"tree"}),r.update(),r},t}();function WI(t,e,n){if(t&&v.indexOf(e,t.type)>=0){var i=n.getData().tree.root,r=t.targetNode;if(v.isString(r)&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=t.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}}function HI(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function UI(t,e){var n=HI(t);return v.indexOf(n,e)>=0}function YI(t,e){for(var n=[];t;){var i=t.dataIndex;n.push({name:t.name,dataIndex:i,value:e.getRawValue(i)}),t=t.parentNode}return n.reverse(),n}var JI=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return p(e,t),e.prototype.getInitialData=function(t){var e={name:t.name,children:t.data},n=t.leaves||{},i=new sc(n,this,this.ecModel),r=VI.createTree(e,this,function(t){t.wrapMethod("getItemModel",function(t,e){var n=r.getNodeByDataIndex(e);return n&&n.children.length&&n.isExpand||(t.parentModel=i),t})});var o=0;r.eachNode("preorder",function(t){t.depth>o&&(o=t.depth)});var a=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:o;return r.root.eachNode("preorder",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=a}),r.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,e,n){for(var i=this.getData().tree,r=i.root.children[0],o=i.getNodeByDataIndex(t),a=o.getValue(),s=o.name;o&&o!==r;)s=o.parentNode.name+"."+s,o=o.parentNode;return Ff("nameValue",{name:s,value:a,noValue:isNaN(a)||null==a})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=YI(i,this),n},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(up);function QI(t,e){for(var n,i=[t];n=i.pop();)if(e(n),n.isExpand){var r=n.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}function ZI(t,e){t.eachSeriesByType("tree",function(t){!function(t,e){var n=function(t,e){return ph(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=n;var i=t.get("layout"),r=0,o=0,a=null;"radial"===i?(r=2*Math.PI,o=Math.min(n.height,n.width)/2,a=vI(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(r=n.width,o=n.height,a=vI());var s=t.getData().tree.root,l=s.children[0];if(l){!function(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,i,r=[e];n=r.pop();)if(i=n.children,n.isExpand&&i.length)for(var o=i.length-1;o>=0;o--){var a=i[o];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},r.push(a)}}(s),function(t,e,n){for(var i,r=[t],o=[];i=r.pop();)if(o.push(i),i.isExpand){var a=i.children;if(a.length)for(var s=0;s<a.length;s++)r.push(a[s])}for(;i=o.pop();)e(i,n)}(l,pI,a),s.hierNode.modifier=-l.hierNode.prelim,QI(l,gI);var u=l,c=l,h=l;QI(l,function(t){var e=t.getLayout().x;e<u.getLayout().x&&(u=t),e>c.getLayout().x&&(c=t),t.depth>h.depth&&(h=t)});var d=u===c?1:a(u,c)/2,f=d-u.getLayout().x,p=0,g=0,v=0,m=0;if("radial"===i)p=r/(c.getLayout().x+d+f),g=o/(h.depth-1||1),QI(l,function(t){v=(t.getLayout().x+f)*p,m=(t.depth-1)*g;var e=mI(v,m);t.setLayout({x:e.x,y:e.y,rawX:v,rawY:m},!0)});else{var y=t.getOrient();"RL"===y||"LR"===y?(g=o/(c.getLayout().x+d+f),p=r/(h.depth-1||1),QI(l,function(t){m=(t.getLayout().x+f)*g,v="LR"===y?(t.depth-1)*p:r-(t.depth-1)*p,t.setLayout({x:v,y:m},!0)})):"TB"!==y&&"BT"!==y||(p=r/(c.getLayout().x+d+f),g=o/(h.depth-1||1),QI(l,function(t){v=(t.getLayout().x+f)*p,m="TB"===y?(t.depth-1)*g:o-(t.depth-1)*g,t.setLayout({x:v,y:m},!0)}))}}}(t,e)})}function $I(t){t.eachSeriesByType("tree",function(t){var e=t.getData();e.tree.eachNode(function(t){var n=t.getModel().getModel("itemStyle").getItemStyle(),i=e.ensureUniqueItemVisual(t.dataIndex,"style");Object(v.extend)(i,n)})})}var XI=["treemapZoomToNode","treemapRender","treemapMove"];function KI(t){var e={};t.getData().tree.eachNode(function(n){for(var i=n;i&&i.depth>1;)i=i.parentNode;var r=Zh(t.ecModel,i.name||i.dataIndex+"",e);n.setVisual("decal",r)})}var qI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventUsingHoverLayer=!0,n}return p(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};!function t(e){var n=0;v.each(e.children,function(e){t(e);var i=e.value;v.isArray(i)&&(i=i[0]),n+=i});var i=e.value;v.isArray(i)&&(i=i[0]);(null==i||isNaN(i))&&(i=n);i<0&&(i=0);v.isArray(e.value)?e.value[0]=i:e.value=i}(n);var i=t.levels||[],r=this.designatedVisualItemStyle={},o=new sc({itemStyle:r},this,e);i=t.levels=function(t,e){var n,i,r=zi(e.get("color")),o=zi(e.get(["aria","decal","decals"]));if(!r)return;t=t||[],v.each(t,function(t){var e=new sc(t),r=e.get("color"),o=e.get("decal");(e.get(["itemStyle","color"])||r&&"none"!==r)&&(n=!0),(e.get(["itemStyle","decal"])||o&&"none"!==o)&&(i=!0)});var a=t[0]||(t[0]={});n||(a.color=r.slice());!i&&o&&(a.decal=o.slice());return t}(i,e);var a=v.map(i||[],function(t){return new sc(t,o,e)},this),s=VI.createTree(n,this,function(t){t.wrapMethod("getItemModel",function(t,e){var n=s.getNodeByDataIndex(e),i=n?a[n.depth]:null;return t.parentModel=i||o,t})});return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=this.getRawValue(t);return Ff("nameValue",{name:i.getName(t),value:r})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=YI(i,this),n.treePathInfo=n.treeAncestors,n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},v.extend(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=v.createHashMap(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){KI(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(up),tk=5;function ek(t,e,n,i,r,o){var a=[[r?t:t-tk,e],[t+n,e],[t+n,e+i],[r?t:t-tk,e+i]];return!o&&a.splice(2,0,[t+n+tk,e+i/2]),!r&&a.push([t,e+i/2]),a}function nk(t,e,n){Sa(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&YI(n,e)}}var ik=function(){function t(t){this.group=new Kn,t.add(this.group)}return t.prototype.render=function(t,e,n,i){var r=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),r.get("show")&&n){var a=r.getModel("itemStyle"),s=a.getModel("textStyle"),l={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,l,s),this._renderContent(t,l,a,s,i),gh(o,l.pos,l.box)}},t.prototype._prepare=function(t,e,n){for(var i=t;i;i=i.parentNode){var r=Yi(i.getModel().get("name"),""),o=n.getTextRect(r),a=Math.max(o.width+16,e.emptyItemWidth);e.totalWidth+=a+8,e.renderList.push({node:i,text:r,width:a})}},t.prototype._renderContent=function(t,e,n,i,r){for(var o,a,s,l,u,c,h,d,f,p=0,g=e.emptyItemWidth,m=t.get(["breadcrumb","height"]),y=(o=e.pos,a=e.box,l=a.width,u=a.height,c=hi(o.left,l),h=hi(o.top,u),d=hi(o.right,l),f=hi(o.bottom,u),(isNaN(c)||isNaN(parseFloat(o.left)))&&(c=0),(isNaN(d)||isNaN(parseFloat(o.right)))&&(d=l),(isNaN(h)||isNaN(parseFloat(o.top)))&&(h=0),(isNaN(f)||isNaN(parseFloat(o.bottom)))&&(f=u),s=$c(s||0),{width:Math.max(d-c-s[1]-s[3],0),height:Math.max(f-h-s[0]-s[2],0)}),b=e.totalWidth,x=e.renderList,w=x.length-1;w>=0;w--){var _=x[w],S=_.node,M=_.width,C=_.text;b>y.width&&(b-=M-g,M=g,C=null);var I=new xl({shape:{points:ek(p,0,M,m,w===x.length-1,0===w)},style:Object(v.defaults)(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new _a({style:{text:C,fill:i.getTextColor(),font:i.getFont()}}),textConfig:{position:"inside"},z2:1e4*Da,onclick:Object(v.curry)(r,S)});I.disableLabelAnimation=!0,this.group.add(I),nk(I,t,S),p+=M+8}},t.prototype.remove=function(){this.group.removeAll()},t}(),rk=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(t,e,n,i,r){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:i,easing:r}),!0)},t.prototype.finished=function(t){return this._finishedCallback=t,this},t.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,r=this._storage.length;i<r;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},t}();var ok=Kn,ak=aa,sk="label",lk="upperLabel",uk=10*Da,ck=2*Da,hk=3*Da,dk=vr([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),fk=function(t){var e=dk(t);return e.stroke=e.fill=e.lineWidth=null,e},pk=$i();var gk=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._state="ready",n._storage={nodeGroup:[],background:[],content:[]},n}return p(e,t),e.prototype.render=function(t,e,n,i){var r=e.findComponents({mainType:"series",subType:"treemap",query:i});if(!(Object(v.indexOf)(r,t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var o=WI(i,["treemapZoomToNode","treemapRootToNode"],t),a=i&&i.type,s=t.layoutInfo,l=!this._oldTree,u=this._storage,c="treemapRootToNode"===a&&o&&u?{rootNodeGroup:u.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null,h=this._giveContainerGroup(s),d=t.get("animation"),f=this._doRender(h,t,c);!d||l||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?f.renderFinally():this._doAnimation(h,f,t,c),this._resetController(n),this._renderBreadcrumb(t,n,o)}},e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new ok,this._initEvents(e),this.group.add(e)),e.x=t.x,e.y=t.y,e},e.prototype._doRender=function(t,e,n){var i=e.getData().tree,r=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,l=[];function u(t,i,r,u){return function(t,e,n,i,r,o,a,s,l,u){if(!a)return;var c=a.getLayout(),h=t.getData(),d=a.getModel();if(h.setItemGraphicEl(a.dataIndex,null),!c||!c.isInView)return;var f=c.width,p=c.height,g=c.borderWidth,m=c.invisible,y=a.getRawIndex(),b=s&&s.getRawIndex(),x=a.viewChildren,w=c.upperHeight,_=x&&x.length,S=d.getModel("itemStyle"),M=d.getModel(["emphasis","itemStyle"]),C=d.getModel(["blur","itemStyle"]),I=d.getModel(["select","itemStyle"]),k=S.get("borderRadius")||0,T=B("nodeGroup",ok);if(!T)return;if(l.add(T),T.x=c.x||0,T.y=c.y||0,T.markRedraw(),pk(T).nodeWidth=f,pk(T).nodeHeight=p,c.isAboveViewRoot)return T;var O=B("background",ak,u,ck);O&&function(e,n,i){var r=Sa(n);if(r.dataIndex=a.dataIndex,r.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:f,height:p,r:k}),m)P(n);else{n.invisible=!1;var o=a.getVisual("style"),s=o.stroke,l=fk(S);l.fill=s;var u=dk(M);u.fill=M.get("borderColor");var c=dk(C);c.fill=C.get("borderColor");var h=dk(I);if(h.fill=I.get("borderColor"),i){var d=f-2*g;R(n,s,o.opacity,{x:g,y:0,width:d,height:w})}else n.removeTextContent();n.setStyle(l),n.ensureState("emphasis").style=u,n.ensureState("blur").style=c,n.ensureState("select").style=h,es(n)}e.add(n)}(T,O,_&&c.upperLabelHeight);var E=d.getModel("emphasis"),A=E.get("focus"),N=E.get("blurScope"),L=E.get("disabled"),D="ancestor"===A?a.getAncestorsIndices():"descendant"===A?a.getDescendantIndices():A;if(_)Ss(T)&&_s(T,!1),O&&(_s(O,!L),h.setItemGraphicEl(a.dataIndex,O),ys(O,D,N));else{var j=B("content",ak,u,hk);j&&function(e,n){var i=Sa(n);i.dataIndex=a.dataIndex,i.seriesIndex=t.seriesIndex;var r=Math.max(f-2*g,0),o=Math.max(p-2*g,0);if(n.culling=!0,n.setShape({x:g,y:g,width:r,height:o,r:k}),m)P(n);else{n.invisible=!1;var s=a.getVisual("style"),l=s.fill,u=fk(S);u.fill=l,u.decal=s.decal;var c=dk(M),h=dk(C),d=dk(I);R(n,l,s.opacity,null),n.setStyle(u),n.ensureState("emphasis").style=c,n.ensureState("blur").style=h,n.ensureState("select").style=d,es(n)}e.add(n)}(T,j),O.disableMorphing=!0,O&&Ss(O)&&_s(O,!1),_s(T,!L),h.setItemGraphicEl(a.dataIndex,T),ys(T,D,N)}return T;function P(t){!t.invisible&&o.push(t)}function R(e,n,i,r){var o=d.getModel(r?lk:sk),s=Yi(d.get("name"),null),l=o.getShallow("show");Pu(e,Ru(d,r?lk:sk),{defaultText:l?s:null,inheritColor:n,defaultOpacity:i,labelFetcher:t,labelDataIndex:a.dataIndex});var u=e.getTextContent();if(u){var h=u.style,f=Object(v.normalizeCssArray)(h.padding||0);r&&(e.setTextConfig({layoutRect:r}),u.disableLabelLayout=!0),u.beforeUpdate=function(){var t=Math.max((r?r.width:e.shape.width)-f[1]-f[3],0),n=Math.max((r?r.height:e.shape.height)-f[0]-f[2],0);h.width===t&&h.height===n||u.setStyle({width:t,height:n})},h.truncateMinChar=2,h.lineOverflow="truncate",z(h,r,c);var p=u.getState("emphasis");z(p?p.style:null,r,c)}}function z(e,n,i){var r=e?e.text:null;if(!n&&i.isLeafRoot&&null!=r){var o=t.get("drillDownIcon",!0);e.text=o?o+" "+r:r}}function B(t,o,s,l){var u=null!=b&&n[t][b],c=r[t];return u?(n[t][b]=null,function(t,e){var n=t[y]={};e instanceof ok?(n.oldX=e.x,n.oldY=e.y):n.oldShape=Object(v.extend)({},e.shape)}(c,u)):m||((u=new o)instanceof Hr&&(u.z2=function(t,e){return t*uk+e}(s,l)),function(t,e){var n=t[y]={},o=a.parentNode,s=e instanceof Kn;if(o&&(!i||"drillDown"===i.direction)){var l=0,u=0,c=r.background[o.getRawIndex()];!i&&c&&c.oldShape&&(l=c.oldShape.width,u=c.oldShape.height),s?(n.oldX=0,n.oldY=u):n.oldShape={x:l,y:u,width:0,height:0}}n.fadein=!s}(c,u)),e[t][y]=u}}(e,a,s,n,o,l,t,i,r,u)}!function t(e,n,i,r,o){r?(n=e,Object(v.each)(e,function(t,e){!t.isRemoved()&&s(e,e)})):new Nm(n,e,a,a).add(s).update(s).remove(Object(v.curry)(s,null)).execute();function a(t){return t.getId()}function s(a,s){var l=null!=a?e[a]:null,c=null!=s?n[s]:null,h=u(l,c,i,o);h&&t(l&&l.viewChildren||[],c&&c.viewChildren||[],h,r,o+1)}}(i.root?[i.root]:[],r&&r.root?[r.root]:[],t,i===r||!r,0);var c=function(t){var e={nodeGroup:[],background:[],content:[]};return t&&Object(v.each)(t,function(t,n){var i=e[n];Object(v.each)(t,function(t){t&&(i.push(t),pk(t).willDelete=!0)})}),e}(s);return this._oldTree=i,this._storage=a,{lastsForAnimation:o,willDeleteEls:c,renderFinally:function(){Object(v.each)(c,function(t){Object(v.each)(t,function(t){t.parent&&t.parent.remove(t)})}),Object(v.each)(l,function(t){t.invisible=!0,t.dirty()})}}},e.prototype._doAnimation=function(t,e,n,i){var r=n.get("animationDurationUpdate"),o=n.get("animationEasing"),a=(Object(v.isFunction)(r)?0:r)||0,s=(Object(v.isFunction)(o)?null:o)||"cubicOut",l=new rk;Object(v.each)(e.willDeleteEls,function(t,e){Object(v.each)(t,function(t,n){if(!t.invisible){var r,o=t.parent,u=pk(o);if(i&&"drillDown"===i.direction)r=o===i.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var c=0,h=0;u.willDelete||(c=u.nodeWidth/2,h=u.nodeHeight/2),r="nodeGroup"===e?{x:c,y:h,style:{opacity:0}}:{shape:{x:c,y:h,width:0,height:0},style:{opacity:0}}}r&&l.add(t,r,a,0,s)}})}),Object(v.each)(this._storage,function(t,n){Object(v.each)(t,function(t,i){var r=e.lastsForAnimation[n][i],o={};r&&(t instanceof Kn?null!=r.oldX&&(o.x=t.x,o.y=t.y,t.x=r.oldX,t.y=r.oldY):(r.oldShape&&(o.shape=Object(v.extend)({},t.shape),t.setShape(r.oldShape)),r.fadein?(t.setStyle("opacity",0),o.style={opacity:1}):1!==t.style.opacity&&(o.style={opacity:1})),l.add(t,o,a,0,s))})},this),this._state="animating",l.finished(Object(v.bind)(function(){this._state="ready",e.renderFinally()},this)).start()},e.prototype._resetController=function(t){var e=this._controller;e||((e=this._controller=new ZM(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",Object(v.bind)(this._onPan,this)),e.on("zoom",Object(v.bind)(this._onZoom,this)));var n=new En(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,i){return n.contain(e,i)})},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var n=e.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t.dx,y:n.y+t.dy,width:n.width,height:n.height}})}},e.prototype._onZoom=function(t){var e=t.originX,n=t.originY;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;var o=new En(r.x,r.y,r.width,r.height),a=this.seriesModel.layoutInfo,s=[1,0,0,1,0,0];an(s,s,[-(e-=a.x),-(n-=a.y)]),ln(s,s,[t.scale,t.scale]),an(s,s,[e,n]),o.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},e.prototype._initEvents=function(t){var e=this;t.on("click",function(t){if("ready"===e._state){var n=e.seriesModel.get("nodeClick",!0);if(n){var i=e.findTarget(t.offsetX,t.offsetY);if(i){var r=i.node;if(r.getLayout().isLeafRoot)e._rootToNode(i);else if("zoomToNode"===n)e._zoomToNode(i);else if("link"===n){var o=r.hostTree.data.getItemModel(r.dataIndex),a=o.get("link",!0),s=o.get("target",!0)||"blank";a&&lh(a,s)}}}}},this)},e.prototype._renderBreadcrumb=function(t,e,n){var i=this;n||(n=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(n={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new ik(this.group))).render(t,e,n.node,function(e){"animating"!==i._state&&(UI(t.getViewRoot(),e)?i._rootToNode({node:e}):i._zoomToNode({node:e}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,e){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(i){var r=this._storage.background[i.getRawIndex()];if(r){var o=r.transformCoordToLocal(t,e),a=r.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:i,offsetX:o[0],offsetY:o[1]}}},this),n},e.type="treemap",e}(wp),vk=v.each,mk=v.isObject,yk=-1,bk=function(){function t(e){var n=e.mappingMethod,i=e.type,r=this.option=v.clone(e);this.type=i,this.mappingMethod=n,this._normalizeData=Ok[n];var o=t.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[n],"piecewise"===n?(xk(r),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,v.each(e,function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)})}(r)):"category"===n?r.categories?function(t){var e=t.categories,n=t.categoryMap={},i=t.visual;if(vk(e,function(t,e){n[t]=e}),!v.isArray(i)){var r=[];v.isObject(i)?vk(i,function(t,e){var i=n[e];r[null!=i?i:yk]=t}):r[yk]=i,i=Tk(t,r)}for(var o=e.length-1;o>=0;o--)null==i[o]&&(delete n[e[o]],e.pop())}(r):xk(r,!0):(v.assert("linear"!==n||r.dataExtent),xk(r))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return v.bind(this._normalizeData,this)},t.listVisualTypes=function(){return v.keys(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,n){v.isObject(t)?v.each(t,e,n):e.call(n,t)},t.mapVisual=function(e,n,i){var r,o=v.isArray(e)?[]:v.isObject(e)?{}:(r=!0,null);return t.eachVisual(e,function(t,e){var a=n.call(i,t,e);r?o=a:o[e]=a}),o},t.retrieveVisuals=function(e){var n,i={};return e&&vk(t.visualHandlers,function(t,r){e.hasOwnProperty(r)&&(i[r]=e[r],n=!0)}),n?i:null},t.prepareVisualTypes=function(t){if(v.isArray(t))t=t.slice();else{if(!mk(t))return[];var e=[];vk(t,function(t,n){e.push(n)}),t=e}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},t.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,n){for(var i,r=1/0,o=0,a=e.length;o<a;o++){var s=e[o].value;if(null!=s){if(s===t||v.isString(s)&&s===t+"")return o;n&&h(s,o)}}for(o=0,a=e.length;o<a;o++){var l=e[o],u=l.interval,c=l.close;if(u){if(u[0]===-1/0){if(Ek(c[1],t,u[1]))return o}else if(u[1]===1/0){if(Ek(c[0],u[0],t))return o}else if(Ek(c[0],u[0],t)&&Ek(c[1],t,u[1]))return o;n&&h(u[0],o),n&&h(u[1],o)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i;function h(e,n){var o=Math.abs(e-t);o<r&&(r=o,i=n)}},t.visualHandlers={color:{applyVisual:Sk("color"),getColorMapper:function(){var t=this.option;return v.bind("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),Mk.call(this,t)}:function(e,n,i){var r=!!i;return!n&&(e=this._normalizeData(e)),i=de.fastLerp(e,t.parsedVisual,i),r?i:de.stringify(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return de.stringify(de.fastLerp(t,this.option.parsedVisual),"rgba")},category:Mk,piecewise:function(t,e){var n=kk.call(this,e);return null==n&&(n=de.stringify(de.fastLerp(t,this.option.parsedVisual),"rgba")),n},fixed:Ck}},colorHue:wk(function(t,e){return de.modifyHSL(t,e)}),colorSaturation:wk(function(t,e){return de.modifyHSL(t,null,e)}),colorLightness:wk(function(t,e){return de.modifyHSL(t,null,null,e)}),colorAlpha:wk(function(t,e){return de.modifyAlpha(t,e)}),decal:{applyVisual:Sk("decal"),_normalizedToVisual:{linear:null,category:Mk,piecewise:null,fixed:null}},opacity:{applyVisual:Sk("opacity"),_normalizedToVisual:Ik([0,1])},liftZ:{applyVisual:Sk("liftZ"),_normalizedToVisual:{linear:Ck,category:Ck,piecewise:Ck,fixed:Ck}},symbol:{applyVisual:function(t,e,n){n("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:_k,category:Mk,piecewise:function(t,e){var n=kk.call(this,e);return null==n&&(n=_k.call(this,t)),n},fixed:Ck}},symbolSize:{applyVisual:Sk("symbolSize"),_normalizedToVisual:Ik([0,1])}},t}();function xk(t,e){var n=t.visual,i=[];v.isObject(n)?vk(n,function(t){i.push(t)}):null!=n&&i.push(n);e||1!==i.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(i[1]=i[0]),Tk(t,i)}function wk(t){return{applyVisual:function(e,n,i){var r=this.mapValueToVisual(e);i("color",t(n("color"),r))},_normalizedToVisual:Ik([0,1])}}function _k(t){var e=this.option.visual;return e[Math.round(ci(t,[0,1],[0,e.length-1],!0))]||{}}function Sk(t){return function(e,n,i){i(t,this.mapValueToVisual(e))}}function Mk(t){var e=this.option.visual;return e[this.option.loop&&t!==yk?t%e.length:t]}function Ck(){return this.option.visual[0]}function Ik(t){return{linear:function(e){return ci(e,t,this.option.visual,!0)},category:Mk,piecewise:function(e,n){var i=kk.call(this,n);return null==i&&(i=ci(e,t,this.option.visual,!0)),i},fixed:Ck}}function kk(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var i=n[bk.findPieceIndex(t,n)];if(i&&i.visual)return i.visual[this.type]}}function Tk(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=v.map(e,function(t){return de.parse(t)})),e}var Ok={linear:function(t){return ci(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=bk.findPieceIndex(t,e,!0);if(null!=n)return ci(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?yk:e},fixed:v.noop};function Ek(t,e,n){return t?e<=n:e<n}var Ak=bk,Nk="itemStyle",Lk=$i(),Dk={seriesType:"treemap",reset:function(t){var e=t.getData().tree.root;e.isRemoved()||function t(e,n,i,r){var o=e.getModel();var a=e.getLayout();var s=e.hostTree.data;if(!a||a.invisible||!a.isInView)return;var l=o.getModel(Nk);var u=function(t,e,n){var i=Object(v.extend)({},e),r=n.designatedVisualItemStyle;return Object(v.each)(["color","colorAlpha","colorSaturation"],function(n){r[n]=e[n];var o=t.get(n);r[n]=null,null!=o&&(i[n]=o)}),i}(l,n,r);var c=s.ensureUniqueItemVisual(e.dataIndex,"style");var h=l.get("borderColor");var d=l.get("borderColorSaturation");var f;null!=d&&(f=jk(u),h=function(t,e){return null!=e?Object(de.modifyHSL)(e,null,null,t):null}(d,f));c.stroke=h;var p=e.viewChildren;if(p&&p.length){var g=function(t,e,n,i,r,o){if(!o||!o.length)return;var a=Rk(e,"color")||null!=r.color&&"none"!==r.color&&(Rk(e,"colorAlpha")||Rk(e,"colorSaturation"));if(!a)return;var s=e.get("visualMin"),l=e.get("visualMax"),u=n.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var c=e.get("colorMappingBy"),h={type:a.name,dataExtent:u,visual:a.range};"color"!==h.type||"index"!==c&&"id"!==c?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var d=new Ak(h);return Lk(d).drColorMappingBy=c,d}(0,o,a,0,u,p);Object(v.each)(p,function(e,n){if(e.depth>=i.length||e===i[e.depth]){var a=function(t,e,n,i,r,o){var a=Object(v.extend)({},e);if(r){var s=r.type,l="color"===s&&Lk(r).drColorMappingBy,u="index"===l?i:"id"===l?o.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));a[s]=r.mapValueToVisual(u)}return a}(o,u,e,n,g,r);t(e,a,i,r)}})}else f=jk(u),c.fill=f}(e,{},t.getViewRoot().getAncestors(),t)}};function jk(t){var e=Pk(t,"color");if(e){var n=Pk(t,"colorAlpha"),i=Pk(t,"colorSaturation");return i&&(e=Object(de.modifyHSL)(e,null,null,i)),n&&(e=Object(de.modifyAlpha)(e,n)),e}}function Pk(t,e){var n=t[e];if(null!=n&&"none"!==n)return n}function Rk(t,e){var n=t.get(e);return Object(v.isArray)(n)&&n.length?{name:e,range:n}:null}var zk=Math.max,Bk=Math.min,Fk=v.retrieve,Gk=v.each,Vk=["itemStyle","borderWidth"],Wk=["itemStyle","gapWidth"],Hk=["upperLabel","show"],Uk=["upperLabel","height"],Yk={seriesType:"treemap",reset:function(t,e,n,i){var r=n.getWidth(),o=n.getHeight(),a=t.option,s=ph(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=a.size||[],u=hi(Fk(s.width,l[0]),r),c=hi(Fk(s.height,l[1]),o),h=i&&i.type,d=WI(i,["treemapZoomToNode","treemapRootToNode"],t),f="treemapRender"===h||"treemapMove"===h?i.rootRect:null,p=t.getViewRoot(),g=HI(p);if("treemapMove"!==h){var m="treemapZoomToNode"===h?function(t,e,n,i,r){var o,a=(e||{}).node,s=[i,r];if(!a||a===n)return s;var l=i*r,u=l*t.option.zoomToNodeRatio;for(;o=a.parentNode;){for(var c=0,h=o.children,d=0,f=h.length;d<f;d++)c+=h[d].getValue();var p=a.getValue();if(0===p)return s;u*=c/p;var g=o.getModel(),v=g.get(Vk),m=Math.max(v,Zk(g));(u+=4*v*v+(3*v+m)*Math.pow(u,.5))>bi&&(u=bi),a=o}u<l&&(u=l);var y=Math.pow(u/l,.5);return[i*y,r*y]}(t,d,p,u,c):f?[f.width,f.height]:[u,c],y=a.sort;y&&"asc"!==y&&"desc"!==y&&(y="desc");var b={squareRatio:a.squareRatio,sort:y,leafDepth:a.leafDepth};p.hostTree.clearLayouts();var x={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};p.setLayout(x),function t(e,n,i,r){var o;var a;if(e.isRemoved())return;var s=e.getLayout();o=s.width;a=s.height;var l=e.getModel();var u=l.get(Vk);var c=l.get(Wk)/2;var h=Zk(l);var d=Math.max(u,h);var f=u-c;var p=d-c;e.setLayout({borderWidth:u,upperHeight:d,upperLabelHeight:h},!0);o=zk(o-2*f,0);a=zk(a-f-p,0);var g=o*a;var m=function(t,e,n,i,r,o){var a=t.children||[],s=i.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=i.leafDepth&&i.leafDepth<=o;if(r&&!l)return t.viewChildren=[];!function(t,e){e&&t.sort(function(t,n){var i="asc"===e?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===i?"asc"===e?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:i})}(a=v.filter(a,function(t){return!t.isRemoved()}),s);var u=function(t,e,n){for(var i=0,r=0,o=e.length;r<o;r++)i+=e[r].getValue();var a,s=t.get("visualDimension");e&&e.length?"value"===s&&n?(a=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&a.reverse()):(a=[1/0,-1/0],Gk(e,function(t){var e=t.getValue(s);e<a[0]&&(a[0]=e),e>a[1]&&(a[1]=e)})):a=[NaN,NaN];return{sum:i,dataExtent:a}}(e,a,s);if(0===u.sum)return t.viewChildren=[];if(u.sum=function(t,e,n,i,r){if(!i)return n;for(var o=t.get("visibleMin"),a=r.length,s=a,l=a-1;l>=0;l--){var u=r["asc"===i?a-l-1:l].getValue();u/n*e<o&&(s=l,n-=u)}return"asc"===i?r.splice(0,a-s):r.splice(s,a-s),n}(e,n,u.sum,s,a),0===u.sum)return t.viewChildren=[];for(var c=0,h=a.length;c<h;c++){var d=a[c].getValue()/u.sum*n;a[c].setLayout({area:d})}l&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0);return t.viewChildren=a,t.setLayout({dataExtent:u.dataExtent},!0),a}(e,l,g,n,i,r);if(!m.length)return;var y={x:f,y:p,width:o,height:a};var b=Bk(o,a);var x=1/0;var w=[];w.area=0;for(var _=0,S=m.length;_<S;){var M=m[_];w.push(M),w.area+=M.getLayout().area;var C=Jk(w,b,n.squareRatio);C<=x?(_++,x=C):(w.area-=w.pop().getLayout().area,Qk(w,b,y,c,!1),b=Bk(y.width,y.height),w.length=w.area=0,x=1/0)}w.length&&Qk(w,b,y,c,!0);if(!i){var I=l.get("childrenVisibleMin");null!=I&&g<I&&(i=!0)}for(var _=0,S=m.length;_<S;_++)t(m[_],n,i,r+1)}(p,b,!1,0),x=p.getLayout(),Gk(g,function(t,e){var n=(g[e+1]||p).getValue();t.setLayout(v.extend({dataExtent:[n,n],borderWidth:0,upperHeight:0},x))})}var w=t.getData().tree.root;w.setLayout(function(t,e,n){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!n)return i;var r=n.node,o=r.getLayout();if(!o)return i;var a=[o.width/2,o.height/2],s=r;for(;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}(s,f,d),!0),t.setLayoutInfo(s),function t(e,n,i,r,o){var a=e.getLayout();var s=i[o];var l=s&&s===e;if(s&&!l||o===i.length&&e!==r)return;e.setLayout({isInView:!0,invisible:!l&&!n.intersect(a),isAboveViewRoot:l},!0);var u=new En(n.x-a.x,n.y-a.y,n.width,n.height);Gk(e.viewChildren||[],function(e){t(e,u,i,r,o+1)})}(w,new En(-s.x,-s.y,r,o),g,p,0)}};function Jk(t,e,n){for(var i=0,r=1/0,o=0,a=void 0,s=t.length;o<s;o++)(a=t[o].getLayout().area)&&(a<r&&(r=a),a>i&&(i=a));var l=t.area*t.area,u=e*e*n;return l?zk(u*i/l,l/(u*r)):1/0}function Qk(t,e,n,i,r){var o=e===n.width?0:1,a=1-o,s=["x","y"],l=["width","height"],u=n[s[o]],c=e?t.area/e:0;(r||c>n[l[a]])&&(c=n[l[a]]);for(var h=0,d=t.length;h<d;h++){var f=t[h],p={},g=c?f.getLayout().area/c:0,v=p[l[a]]=zk(c-2*i,0),m=n[s[o]]+n[l[o]]-u,y=h===d-1||m<g?m:g,b=p[l[o]]=zk(y-2*i,0);p[s[a]]=n[s[a]]+Bk(i,v/2),p[s[o]]=u+Bk(i,b/2),u+=y,f.setLayout(p,!0)}n[s[a]]+=c,n[l[a]]-=c}function Zk(t){return t.get(Hk)?t.get(Uk):0}function $k(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getGraph().data,r=n.mapArray(n.getName);i.filterSelf(function(t){var n=i.getItemModel(t).getShallow("category");if(null!=n){Object(v.isNumber)(n)&&(n=r[n]);for(var o=0;o<e.length;o++)if(!e[o].isSelected(n))return!1}return!0})})}function Xk(t){var e={};t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getData(),r={};n.each(function(i){var o=n.getName(i);r["ec-"+o]=i;var a=n.getItemModel(i),s=a.getModel("itemStyle").getItemStyle();s.fill||(s.fill=t.getColorFromPalette(o,e)),n.setItemVisual(i,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var c=a.getShallow(l[u],!0);null!=c&&n.setItemVisual(i,l[u],c)}}),n.count()&&i.each(function(t){var e=i.getItemModel(t).getShallow("category");if(null!=e){Object(v.isString)(e)&&(e=r["ec-"+e]);var o=n.getItemVisual(e,"style"),a=i.ensureUniqueItemVisual(t,"style");Object(v.extend)(a,o);for(var s=["symbol","symbolSize","symbolKeepAspect"],l=0;l<s.length;l++)i.setItemVisual(t,s[l],n.getItemVisual(e,s[l]))}})})}function Kk(t){return t instanceof Array||(t=[t,t]),t}function qk(t){t.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),i=Kk(t.get("edgeSymbol")),r=Kk(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(t){var i=n.getItemModel(t),r=e.getEdgeByIndex(t),o=Kk(i.getShallow("symbol",!0)),a=Kk(i.getShallow("symbolSize",!0)),s=i.getModel("lineStyle").getLineStyle(),l=n.ensureUniqueItemVisual(t,"style");switch(Object(v.extend)(l,s),l.stroke){case"source":var u=r.node1.getVisual("style");l.stroke=u&&u.fill;break;case"target":u=r.node2.getVisual("style");l.stroke=u&&u.fill}o[0]&&r.setVisual("fromSymbol",o[0]),o[1]&&r.setVisual("toSymbol",o[1]),a[0]&&r.setVisual("fromSymbolSize",a[0]),a[1]&&r.setVisual("toSymbolSize",a[1])})})}var tT=function(t){return t.get("autoCurveness")||null},eT=function(t,e){var n=tT(t),i=20,r=[];if(v.isNumber(n))i=n;else if(v.isArray(n))return void(t.__curvenessList=n);e>i&&(i=e);var o=i%2?i+2:i+3;r=[];for(var a=0;a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));t.__curvenessList=r},nT=function(t,e,n){var i=[t.id,t.dataIndex].join("."),r=[e.id,e.dataIndex].join(".");return[n.uid,i,r].join("--\x3e")},iT=function(t){var e=t.split("--\x3e");return[e[0],e[2],e[1]].join("--\x3e")},rT=function(t,e){var n=nT(t.node1,t.node2,e);return e.__edgeMap[n]},oT=function(t,e){return aT(nT(t.node1,t.node2,e),e)+aT(nT(t.node2,t.node1,e),e)},aT=function(t,e){var n=e.__edgeMap;return n[t]?n[t].length:0};function sT(t,e,n,i){var r=tT(e),o=v.isArray(r);if(!r)return null;var a=rT(t,e);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===n){s=l;break}var u=oT(t,e);eT(e,u),t.lineStyle=t.lineStyle||{};var c=nT(t.node1,t.node2,e),h=e.__curvenessList,d=o?0:u%2?0:1;if(a.isForward)return h[d+s];var f=iT(c),p=aT(f,e),g=h[s+p+d];return i?o?r&&0===r[0]?(p+d)%2?g:-g:((p%2?0:1)+d)%2?g:-g:(p+d)%2?g:-g:h[s+p+d]}function lT(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),uT(n,t)}}function uT(t,e){t.eachEdge(function(t,n){var i=v.retrieve3(t.getModel().get(["lineStyle","curveness"]),-sT(t,e,n,!0),0),r=w(t.node1.getLayout()),o=w(t.node2.getLayout()),a=[r,o];+i&&a.push([(r[0]+o[0])/2-(r[1]-o[1])*i,(r[1]+o[1])/2-(o[0]-r[0])*i]),t.setLayout(a)})}function cT(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var i=t.getData(),r=[];Object(v.each)(n.dimensions,function(t){r=r.concat(i.mapDimensionsAll(t))});for(var o=0;o<i.count();o++){for(var a=[],s=!1,l=0;l<r.length;l++){var u=i.get(r[l],o);isNaN(u)||(s=!0),a.push(u)}s?i.setItemLayout(o,n.dataToPoint(a)):i.setItemLayout(o,[NaN,NaN])}uT(i.graph,t)}else e&&"none"!==e||lT(t)})}function hT(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=t.option.nodeScaleRatio,i=e.scaleX;return((e.getZoom()-1)*n+1)/i}function dT(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var fT=Math.PI,pT=[];function gT(t,e){var n=t.coordinateSystem;if(!n||"view"===n.type){var i=n.getBoundingRect(),r=t.getData(),o=r.graph,a=i.width/2+i.x,s=i.height/2+i.y,l=Math.min(i.width,i.height)/2,u=r.count();r.setLayout({cx:a,cy:s}),u&&(vT[e](t,o,r,l,a,s,u),o.eachEdge(function(e,n){var i,r=v.retrieve3(e.getModel().get(["lineStyle","curveness"]),sT(e,t,n),0),o=w(e.node1.getLayout()),l=w(e.node2.getLayout()),u=(o[0]+l[0])/2,c=(o[1]+l[1])/2;+r&&(i=[a*(r*=3)+u*(1-r),s*r+c*(1-r)]),e.setLayout([o,l,i])}))}}var vT={value:function(t,e,n,i,r,o,a){var s=0,l=n.getSum("value"),u=2*Math.PI/(l||a);e.eachNode(function(t){var e=t.getValue("value"),n=u*(l?e:1)/2;s+=n,t.setLayout([i*Math.cos(s)+r,i*Math.sin(s)+o]),s+=n})},symbolSize:function(t,e,n,i,r,o,a){var s=0;pT.length=a;var l=hT(t);e.eachNode(function(t){var e=dT(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=l;var n=Math.asin(e/2/i);isNaN(n)&&(n=fT/2),pT[t.dataIndex]=n,s+=2*n});var u=(2*fT-s)/a/2,c=0;e.eachNode(function(t){var e=u+pT[t.dataIndex];c+=e,t.setLayout([i*Math.cos(c)+r,i*Math.sin(c)+o]),c+=e})}};function mT(t){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&gT(t,"symbolSize")})}var yT=M;function bT(t){t.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},i=t.getGraph(),r=i.data,o=i.edgeData,a=t.getModel("force"),s=a.get("initLayout");t.preservedPoints?r.each(function(t){var e=r.getId(t);r.setItemLayout(t,n[e]||[NaN,NaN])}):s&&"none"!==s?"circular"===s&&gT(t,"value"):lT(t);var l=r.getDataExtent("value"),u=o.getDataExtent("value"),c=a.get("repulsion"),h=a.get("edgeLength"),d=v.isArray(c)?c:[c,c],f=v.isArray(h)?h:[h,h];f=[f[1],f[0]];var p=r.mapArray("value",function(t,e){var n=r.getItemLayout(e),i=ci(t,l,d);return isNaN(i)&&(i=(d[0]+d[1])/2),{w:i,rep:i,fixed:r.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),g=o.mapArray("value",function(e,n){var r=i.getEdgeByIndex(n),o=ci(e,u,f);isNaN(o)&&(o=(f[0]+f[1])/2);var a=r.getModel(),s=v.retrieve3(r.getModel().get(["lineStyle","curveness"]),-sT(r,t,n,!0),0);return{n1:p[r.node1.dataIndex],n2:p[r.node2.dataIndex],d:o,curveness:s,ignoreForceLayout:a.get("ignoreForceLayout")}}),m=e.getBoundingRect(),y=function(t,e,n){for(var i=t,r=e,o=n.rect,a=o.width,s=o.height,l=[o.x+a/2,o.y+s/2],u=null==n.gravity?.1:n.gravity,c=0;c<i.length;c++){var h=i[c];h.p||(h.p=b(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),h.pp=w(h.p),h.edges=null}var d,f,p=null==n.friction?.6:n.friction,g=p;return{warmUp:function(){g=.8*p},setFixed:function(t){i[t].fixed=!0},setUnfixed:function(t){i[t].fixed=!1},beforeStep:function(t){d=t},afterStep:function(t){f=t},step:function(t){d&&d(i,r);for(var e=[],n=i.length,o=0;o<r.length;o++){var a=r[o];if(!a.ignoreForceLayout){var s=a.n1;C(e,(v=a.n2).p,s.p);var c=I(e)-a.d,h=v.w/(s.w+v.w);isNaN(h)&&(h=0),D(e,e),!s.fixed&&yT(s.p,s.p,e,h*c*g),!v.fixed&&yT(v.p,v.p,e,-(1-h)*c*g)}}for(o=0;o<n;o++)(b=i[o]).fixed||(C(e,l,b.p),yT(b.p,b.p,e,u*g));for(o=0;o<n;o++){s=i[o];for(var p=o+1;p<n;p++){var v;C(e,(v=i[p]).p,s.p),0===(c=I(e))&&(_(e,Math.random()-.5,Math.random()-.5),c=1);var m=(s.rep+v.rep)/c/c;!s.fixed&&yT(s.pp,s.pp,e,m),!v.fixed&&yT(v.pp,v.pp,e,-m)}}var y=[];for(o=0;o<n;o++){var b;(b=i[o]).fixed||(C(y,b.p,b.pp),yT(b.p,b.p,y,g),x(b.pp,b.p))}var w=(g*=.992)<.01;f&&f(i,r,w),t&&t(w)}}}(p,g,{rect:m,gravity:a.get("gravity"),friction:a.get("friction")});y.beforeStep(function(t,e){for(var n=0,r=t.length;n<r;n++)t[n].fixed&&x(t[n].p,i.getNodeByIndex(n).getLayout())}),y.afterStep(function(t,e,o){for(var a=0,s=t.length;a<s;a++)t[a].fixed||i.getNodeByIndex(a).setLayout(t[a].p),n[r.getId(a)]=t[a].p;for(a=0,s=e.length;a<s;a++){var l=e[a],u=i.getEdgeByIndex(a),c=l.n1.p,h=l.n2.p,d=u.getLayout();(d=d?d.slice():[])[0]=d[0]||[],d[1]=d[1]||[],x(d[0],c),x(d[1],h),+l.curveness&&(d[2]=[(c[0]+h[0])/2-(c[1]-h[1])*l.curveness,(c[1]+h[1])/2-(h[0]-c[0])*l.curveness]),u.setLayout(d)}}),t.forceLayout=y,t.preservedPoints=n,y.step()}else t.forceLayout=null})}function xT(t,e){var n=[];return t.eachSeriesByType("graph",function(t){var i=t.get("coordinateSystem");if(!i||"view"===i){var r=t.getData(),o=[],a=[];qr(r.mapArray(function(t){var e=r.getItemModel(t);return[+e.get("x"),+e.get("y")]}),o,a),a[0]-o[0]==0&&(a[0]+=1,o[0]-=1),a[1]-o[1]==0&&(a[1]+=1,o[1]-=1);var s=(a[0]-o[0])/(a[1]-o[1]),l=function(t,e,n){return ph(Object(v.extend)(t.getBoxLayoutParams(),{aspect:n}),{width:e.getWidth(),height:e.getHeight()})}(t,e,s);isNaN(s)&&(o=[l.x,l.y],a=[l.x+l.width,l.y+l.height]);var u=a[0]-o[0],c=a[1]-o[1],h=l.width,d=l.height,f=t.coordinateSystem=new tI;f.zoomLimit=t.get("scaleLimit"),f.setBoundingRect(o[0],o[1],u,c),f.setViewRect(l.x,l.y,h,d),f.setCenter(t.get("center")),f.setZoom(t.get("zoom")),n.push(f)}}),n}var wT=kl.prototype,_T=Nl.prototype,ST=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}}();!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}p(e,t)}(ST);function MT(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var CT=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-line",n}return p(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ST},e.prototype.buildPath=function(t,e){MT(e)?wT.buildPath.call(this,t,e):_T.buildPath.call(this,t,e)},e.prototype.pointAt=function(t){return MT(this.shape)?wT.pointAt.call(this,t):_T.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var e=this.shape,n=MT(e)?[e.x2-e.x1,e.y2-e.y1]:_T.tangentAt.call(this,t);return D(n,n)},e}(Uo),IT=["fromSymbol","toSymbol"];function kT(t){return"_"+t+"Type"}function TT(t,e,n){var i=e.getItemVisual(n,t);if(i&&"none"!==i){var r=e.getItemVisual(n,t+"Size"),o=e.getItemVisual(n,t+"Rotate"),a=e.getItemVisual(n,t+"Offset"),s=e.getItemVisual(n,t+"KeepAspect"),l=Tg(r),u=Og(a||0,l),c=kg(i,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,c.name=t,c}}function OT(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}var ET=function(t){function e(e,n,i){var r=t.call(this)||this;return r._createLine(e,n,i),r}return p(e,t),e.prototype._createLine=function(t,e,n){var i=t.hostModel,r=function(t){var e=new CT({name:"line",subPixelOptimize:!0});return OT(e.shape,t),e}(t.getItemLayout(e));r.shape.percent=0,Xl(r,{shape:{percent:1}},i,e),this.add(r),Object(v.each)(IT,function(n){var i=TT(n,t,e);this.add(i),this[kT(n)]=t.getItemVisual(e,n)},this),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var i=t.hostModel,r=this.childOfName("line"),o=t.getItemLayout(e),a={shape:{}};OT(a.shape,o),$l(r,a,i,e),Object(v.each)(IT,function(n){var i=t.getItemVisual(e,n),r=kT(n);if(this[r]!==i){this.remove(this.childOfName(n));var o=TT(n,t,e);this.add(o)}this[r]=i},this),this._updateCommonStl(t,e,n)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,e,n){var i=t.hostModel,r=this.childOfName("line"),o=n&&n.emphasisLineStyle,a=n&&n.blurLineStyle,s=n&&n.selectLineStyle,l=n&&n.labelStatesModels,u=n&&n.emphasisDisabled,c=n&&n.focus,h=n&&n.blurScope;if(!n||t.hasItemOption){var d=t.getItemModel(e),f=d.getModel("emphasis");o=f.getModel("lineStyle").getLineStyle(),a=d.getModel(["blur","lineStyle"]).getLineStyle(),s=d.getModel(["select","lineStyle"]).getLineStyle(),u=f.get("disabled"),c=f.get("focus"),h=f.get("blurScope"),l=Ru(d)}var p=t.getItemVisual(e,"style"),g=p.stroke;r.useStyle(p),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=o,r.ensureState("blur").style=a,r.ensureState("select").style=s,Object(v.each)(IT,function(t){var e=this.childOfName(t);if(e){e.setColor(g),e.style.opacity=p.opacity;for(var n=0;n<Na.length;n++){var i=Na[n],o=r.getState(i);if(o){var a=o.style||{},s=e.ensureState(i),l=s.style||(s.style={});null!=a.stroke&&(l[e.__isEmptyBrush?"stroke":"fill"]=a.stroke),null!=a.opacity&&(l.opacity=a.opacity)}}e.markRedraw()}},this);var m=i.getRawValue(e);Pu(this,l,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,n){return i.getFormattedLabel(e,n,t.dataType)}},inheritColor:g||"#000",defaultOpacity:p.opacity,defaultText:(null==m?t.getName(e):isFinite(m)?di(m):m)+""});var y=this.getTextContent();if(y){var b=l.normal;y.__align=y.style.align,y.__verticalAlign=y.style.verticalAlign,y.__position=b.get("position")||"middle";var x=b.get("distance");Object(v.isArray)(x)||(x=[x,x]),y.__labelDistance=x}this.setTextConfig({position:null,local:!0,inside:!1}),ms(this,c,h,u)},e.prototype.highlight=function(){rs(this)},e.prototype.downplay=function(){os(this)},e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},e.prototype.setLinePoints=function(t){var e=this.childOfName("line");OT(e.shape,t),e.dirty()},e.prototype.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),n=this.getTextContent();if(t||e||n&&!n.ignore){for(var i=1,r=this.parent;r;)r.scaleX&&(i/=r.scaleX),r=r.parent;var o=this.childOfName("line");if(this.__dirty||o.__dirty){var a=o.shape.percent,s=o.pointAt(0),l=o.pointAt(a),u=C([],l,s);if(D(u,u),t&&(t.setPosition(s),_(t,0),t.scaleX=t.scaleY=i*a,t.markRedraw()),e&&(e.setPosition(l),_(e,1),e.scaleX=e.scaleY=i*a,e.markRedraw()),n&&!n.ignore){n.x=n.y=0,n.originX=n.originY=0;var c=void 0,h=void 0,d=n.__labelDistance,f=d[0]*i,p=d[1]*i,g=a/2,v=o.tangentAt(g),m=[v[1],-v[0]],y=o.pointAt(g);m[1]>0&&(m[0]=-m[0],m[1]=-m[1]);var b=v[0]<0?-1:1;if("start"!==n.__position&&"end"!==n.__position){var x=-Math.atan2(v[1],v[0]);l[0]<s[0]&&(x=Math.PI+x),n.rotation=x}var w=void 0;switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":w=-p,h="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":w=p,h="top";break;default:w=0,h="middle"}switch(n.__position){case"end":n.x=u[0]*f+l[0],n.y=u[1]*p+l[1],c=u[0]>.8?"left":u[0]<-.8?"right":"center",h=u[1]>.8?"top":u[1]<-.8?"bottom":"middle";break;case"start":n.x=-u[0]*f+s[0],n.y=-u[1]*p+s[1],c=u[0]>.8?"right":u[0]<-.8?"left":"center",h=u[1]>.8?"bottom":u[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":n.x=f*b+s[0],n.y=s[1]+w,c=v[0]<0?"right":"left",n.originX=-f*b,n.originY=-w;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":n.x=y[0],n.y=y[1]+w,c="center",n.originY=-w;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":n.x=-f*b+l[0],n.y=l[1]+w,c=v[0]>=0?"right":"left",n.originX=f*b,n.originY=-w}n.scaleX=n.scaleY=i,n.setStyle({verticalAlign:n.__verticalAlign||h,align:n.__align||c})}}}function _(t,e){var n=t.__specifiedRotation;if(null==n){var i=o.tangentAt(e);t.attr("rotation",(1===e?-1:1)*Math.PI/2-Math.atan2(i[1],i[0]))}else t.attr("rotation",n)}},e}(Kn);function AT(t){var e=t.hostModel,n=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:Ru(e)}}function NT(t){return isNaN(t[0])||isNaN(t[1])}function LT(t){return t&&!NT(t[0])&&!NT(t[1])}var DT=function(){function t(t){this.group=new Kn,this._LineCtor=t||ET}return t.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this.group,i=this._lineData;this._lineData=t,i||n.removeAll();var r=AT(t);t.diff(i).add(function(n){e._doAdd(t,n,r)}).update(function(n,o){e._doUpdate(i,t,o,n,r)}).remove(function(t){n.remove(i.getItemGraphicEl(t))}).execute()},t.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=AT(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e){function n(t){t.isGroup||function(t){return t.animators&&t.animators.length>0}(t)||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var i=t.start;i<t.end;i++){if(LT(e.getItemLayout(i))){var r=new this._LineCtor(e,i,this._seriesScope);r.traverse(n),this.group.add(r),e.setItemGraphicEl(i,r),this._progressiveEls.push(r)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(t){Nu(this._progressiveEls||this.group,t)},t.prototype._doAdd=function(t,e,n){if(LT(t.getItemLayout(e))){var i=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,i),this.group.add(i)}},t.prototype._doUpdate=function(t,e,n,i,r){var o=t.getItemGraphicEl(n);LT(e.getItemLayout(i))?(o?o.updateData(e,i,r):o=new this._LineCtor(e,i,r),e.setItemGraphicEl(i,o),this.group.add(o)):this.group.remove(o)},t}(),jT=[],PT=[],RT=[],zT=ie,BT=z,FT=Math.abs;function GT(t,e,n){for(var i,r=t[0],o=t[1],a=t[2],s=1/0,l=n*n,u=.1,c=.1;c<=.9;c+=.1){jT[0]=zT(r[0],o[0],a[0],c),jT[1]=zT(r[1],o[1],a[1],c),(f=FT(BT(jT,e)-l))<s&&(s=f,i=c)}for(var h=0;h<32;h++){var d=i+u;PT[0]=zT(r[0],o[0],a[0],i),PT[1]=zT(r[1],o[1],a[1],i),RT[0]=zT(r[0],o[0],a[0],d),RT[1]=zT(r[1],o[1],a[1],d);var f=BT(PT,e)-l;if(FT(f)<.01)break;var p=BT(RT,e)-l;u/=2,f<0?p>=0?i+=u:i-=u:p>=0?i-=u:i+=u}return i}function VT(t,e){var n=[],i=ae,r=[[],[],[]],o=[[],[]],a=[];e/=2,t.eachEdge(function(t,s){var l=t.getLayout(),u=t.getVisual("fromSymbol"),c=t.getVisual("toSymbol");l.__original||(l.__original=[w(l[0]),w(l[1])],l[2]&&l.__original.push(w(l[2])));var h=l.__original;if(null!=l[2]){if(x(r[0],h[0]),x(r[1],h[2]),x(r[2],h[1]),u&&"none"!==u){var d=dT(t.node1),f=GT(r,h[0],d*e);i(r[0][0],r[1][0],r[2][0],f,n),r[0][0]=n[3],r[1][0]=n[4],i(r[0][1],r[1][1],r[2][1],f,n),r[0][1]=n[3],r[1][1]=n[4]}if(c&&"none"!==c){d=dT(t.node2),f=GT(r,h[1],d*e);i(r[0][0],r[1][0],r[2][0],f,n),r[1][0]=n[1],r[2][0]=n[2],i(r[0][1],r[1][1],r[2][1],f,n),r[1][1]=n[1],r[2][1]=n[2]}x(l[0],r[0]),x(l[1],r[2]),x(l[2],r[1])}else{if(x(o[0],h[0]),x(o[1],h[1]),C(a,o[1],o[0]),D(a,a),u&&"none"!==u){d=dT(t.node1);M(o[0],o[0],a,d*e)}if(c&&"none"!==c){d=dT(t.node2);M(o[1],o[1],a,-d*e)}x(l[0],o[0]),x(l[1],o[1])}})}function WT(t){return"view"===t.type}var HT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.init=function(t,e){var n=new c_,i=new DT,r=this.group;this._controller=new ZM(e.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},e.prototype.render=function(t,e,n){var i=this,r=t.coordinateSystem;this._model=t;var o=this._symbolDraw,a=this._lineDraw,s=this.group;if(WT(r)){var l={x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY};this._firstRender?s.attr(l):$l(s,l,t)}VT(t.getGraph(),hT(t));var u=t.getData();o.updateData(u);var c=t.getEdgeData();a.updateData(c),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var h=t.forceLayout,d=t.get(["force","layoutAnimation"]);h&&this._startForceLayoutIteration(h,d),u.graph.eachNode(function(t){var e=t.dataIndex,n=t.getGraphicEl(),r=t.getModel();if(n){n.off("drag").off("dragend");var o=r.get("draggable");o&&n.on("drag",function(){h&&(h.warmUp(),!i._layouting&&i._startForceLayoutIteration(h,d),h.setFixed(e),u.setItemLayout(e,[n.x,n.y]))}).on("dragend",function(){h&&h.setUnfixed(e)}),n.setDraggable(o&&!!h),"adjacency"===r.get(["emphasis","focus"])&&(Sa(n).focus=t.getAdjacentDataIndices())}}),u.graph.eachEdge(function(t){var e=t.getGraphicEl(),n=t.getModel().get(["emphasis","focus"]);e&&"adjacency"===n&&(Sa(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})});var f="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),p=u.getLayout("cx"),g=u.getLayout("cy");u.eachItemGraphicEl(function(t,e){var n=u.getItemModel(e).get(["label","rotate"])||0,i=t.getSymbolPath();if(f){var r=u.getItemLayout(e),o=Math.atan2(r[1]-g,r[0]-p);o<0&&(o=2*Math.PI+o);var a=r[0]<p;a&&(o-=Math.PI);var s=a?"left":"right";i.setTextConfig({rotation:-o,position:s,origin:"center"});var l=i.ensureState("emphasis");v.extend(l.textConfig||(l.textConfig={}),{position:s})}else i.setTextConfig({rotation:n*=Math.PI/180})}),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,e){var n=this;!function i(){t.step(function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(i,16):i())})}()},e.prototype._updateController=function(t,e,n){var i=this,r=this._controller,o=this._controllerHost,a=this.group;r.setPointerChecker(function(e,i,r){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(i,r)&&!tC(e,n,t)}),WT(t.coordinateSystem)?(r.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",function(e){$M(o,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){XM(o,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(),VT(t.getGraph(),hT(t)),i._lineDraw.updateLayout(),n.updateLabelLayout()})):r.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,e=t.getData(),n=hT(t);e.eachItemGraphicEl(function(t,e){t&&t.setSymbolScale(n)})},e.prototype.updateLayout=function(t){VT(t.getGraph(),hT(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(wp);function UT(t){return"_EC_"+t}var YT=function(){function t(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,e){t=null==t?""+e:""+t;var n=this._nodesMap;if(!n[UT(t)]){var i=new JT(t,e);return i.hostGraph=this,this.nodes.push(i),n[UT(t)]=i,i}},t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},t.prototype.getNodeById=function(t){return this._nodesMap[UT(t)]},t.prototype.addEdge=function(t,e,n){var i=this._nodesMap,r=this._edgesMap;if(v.isNumber(t)&&(t=this.nodes[t]),v.isNumber(e)&&(e=this.nodes[e]),t instanceof JT||(t=i[UT(t)]),e instanceof JT||(e=i[UT(e)]),t&&e){var o=t.id+"-"+e.id,a=new QT(t,e,n);return a.hostGraph=this,this._directed&&(t.outEdges.push(a),e.inEdges.push(a)),t.edges.push(a),t!==e&&e.edges.push(a),this.edges.push(a),r[o]=a,a}},t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},t.prototype.getEdge=function(t,e){t instanceof JT&&(t=t.id),e instanceof JT&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},t.prototype.eachNode=function(t,e){for(var n=this.nodes,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&t.call(e,n[r],r)},t.prototype.eachEdge=function(t,e){for(var n=this.edges,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&n[r].node1.dataIndex>=0&&n[r].node2.dataIndex>=0&&t.call(e,n[r],r)},t.prototype.breadthFirstTraverse=function(t,e,n,i){if(e instanceof JT||(e=this._nodesMap[UT(e)]),e){for(var r="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(i,e,null))for(var a=[e];a.length;){var s=a.shift(),l=s[r];for(o=0;o<l.length;o++){var u=l[o],c=u.node1===s?u.node2:u.node1;if(!c.__visited){if(t.call(i,c,s))return;a.push(c),c.__visited=!0}}}}},t.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,r=0,o=n.length;r<o;r++)n[r].dataIndex=-1;for(r=0,o=t.count();r<o;r++)n[t.getRawIndex(r)].dataIndex=r;e.filterSelf(function(t){var n=i[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(r=0,o=i.length;r<o;r++)i[r].dataIndex=-1;for(r=0,o=e.count();r<o;r++)i[e.getRawIndex(r)].dataIndex=r},t.prototype.clone=function(){for(var e=new t(this._directed),n=this.nodes,i=this.edges,r=0;r<n.length;r++)e.addNode(n[r].id,n[r].dataIndex);for(r=0;r<i.length;r++){var o=i[r];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},t}(),JT=function(){function t(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},t}(),QT=function(){function t(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}return t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t}();function ZT(t,e){return{getValue:function(n){var i=this[t][e];return i.getStore().get(i.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,i)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}v.mixin(JT,ZT("hostGraph","data")),v.mixin(QT,ZT("hostGraph","edgeData"));var $T=YT;function XT(t,e,n,i,r){for(var o=new $T(i),a=0;a<t.length;a++)o.addNode(v.retrieve(t[a].id,t[a].name,a),a);var s=[],l=[],u=0;for(a=0;a<e.length;a++){var c=e[a],h=c.source,d=c.target;o.addEdge(h,d,u)&&(l.push(c),s.push(v.retrieve(Yi(c.id,null),h+" > "+d)),u++)}var f,p=n.get("coordinateSystem");if("cartesian2d"===p||"polar"===p)f=dy(t,n);else{var g=od.get(p),m=g&&g.dimensions||[];v.indexOf(m,"value")<0&&m.concat(["value"]);var y=ry(t,{coordDimensions:m,encodeDefine:n.getEncode()}).dimensions;(f=new ny(y,n)).initData(t)}var b=new ny(["value"],n);return b.initData(l,s),r&&r(f,b),FI({mainData:f,struct:o,structAttr:"graph",datas:{node:f,edge:b},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}var KT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return p(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new kS(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments),Bi(e,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,e){var n,i=t.edges||t.links||[],r=t.data||t.nodes||[],o=this;if(r&&i){tT(n=this)&&(n.__curvenessList=[],n.__edgeMap={},eT(n));var a=XT(r,i,this,!0,function(t,e){t.wrapMethod("getItemModel",function(t){var e=o._categoriesModels,n=t.getShallow("category"),i=e[n];return i&&(i.parentModel=t.parentModel,t.parentModel=i),t});var n=sc.prototype.getModel;function i(t,e){var i=n.call(this,t,e);return i.resolveParentPath=r,i}function r(t){if(t&&("label"===t[0]||"label"===t[1])){var e=t.slice();return"label"===t[0]?e[0]="edgeLabel":"label"===t[1]&&(e[1]="edgeLabel"),e}return t}e.wrapMethod("getItemModel",function(t){return t.resolveParentPath=r,t.getModel=i,t})});return v.each(a.edges,function(t){!function(t,e,n,i){if(tT(n)){var r=nT(t,e,n),o=n.__edgeMap,a=o[iT(r)];o[r]&&!a?o[r].isForward=!0:a&&o[r]&&(a.isForward=!0,o[r].isForward=!1),o[r]=o[r]||[],o[r].push(i)}}(t.node1,t.node2,this,t.dataIndex)},this),a.data}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,e,n){if("edge"===n){var i=this.getData(),r=this.getDataParams(t,n),o=i.graph.getEdgeByIndex(t),a=i.getName(o.node1.dataIndex),s=i.getName(o.node2.dataIndex),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),Ff("nameValue",{name:l.join(" > "),value:r.value,noValue:null==r.value})}return Xf({series:this,dataIndex:t,multipleSeries:e})},e.prototype._updateCategoriesData=function(){var t=v.map(this.option.categories||[],function(t){return null!=t.value?t:v.extend({value:0},t)}),e=new ny(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(up),qT={type:"graphRoam",event:"graphRoam",update:"none"};var tO=function(){return function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}}(),eO=function(t){function e(e){var n=t.call(this,e)||this;return n.type="pointer",n}return p(e,t),e.prototype.getDefaultShape=function(){return new tO},e.prototype.buildPath=function(t,e){var n=Math.cos,i=Math.sin,r=e.r,o=e.width,a=e.angle,s=e.x-n(a)*o*(o>=r/3?1:2),l=e.y-i(a)*o*(o>=r/3?1:2);a=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+n(a)*o,e.y+i(a)*o),t.lineTo(e.x+n(e.angle)*r,e.y+i(e.angle)*r),t.lineTo(e.x-n(a)*o,e.y-i(a)*o),t.lineTo(s,l)},e}(Uo);function nO(t,e){var n=null==t?"":t+"";return e&&(Object(v.isString)(e)?n=e.replace("{value}",n):Object(v.isFunction)(e)&&(n=e(t))),n}var iO=2*Math.PI,rO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n){this.group.removeAll();var i=t.get(["axisLine","lineStyle","color"]),r=function(t,e){var n=t.get("center"),i=e.getWidth(),r=e.getHeight(),o=Math.min(i,r);return{cx:hi(n[0],e.getWidth()),cy:hi(n[1],e.getHeight()),r:hi(t.get("radius"),o/2)}}(t,n);this._renderMain(t,e,n,i,r),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,e,n,i,r){for(var o=this.group,a=t.get("clockwise"),s=-t.get("startAngle")/180*Math.PI,l=-t.get("endAngle")/180*Math.PI,u=t.getModel("axisLine"),c=u.get("roundCap")?H_:fl,h=u.get("show"),d=u.getModel("lineStyle"),f=d.get("width"),p=(l-s)%iO||l===s?(l-s)%iO:iO,g=s,v=0;h&&v<i.length;v++){var m=new c({shape:{startAngle:g,endAngle:l=s+p*Math.min(Math.max(i[v][0],0),1),cx:r.cx,cy:r.cy,clockwise:a,r0:r.r-f,r:r.r},silent:!0});m.setStyle({fill:i[v][1]}),m.setStyle(d.getLineStyle(["color","width"])),o.add(m),g=l}var y=function(t){if(t<=0)return i[0][1];var e;for(e=0;e<i.length;e++)if(i[e][0]>=t&&(0===e?0:i[e-1][0])<t)return i[e][1];return i[e-1][1]};if(!a){var b=s;s=l,l=b}this._renderTicks(t,e,n,y,r,s,l,a,f),this._renderTitleAndDetail(t,e,n,y,r),this._renderAnchor(t,r),this._renderPointer(t,e,n,y,r,s,l,a,f)},e.prototype._renderTicks=function(t,e,n,i,r,o,a,s,l){for(var u,c,h=this.group,d=r.cx,f=r.cy,p=r.r,g=+t.get("min"),v=+t.get("max"),m=t.getModel("splitLine"),y=t.getModel("axisTick"),b=t.getModel("axisLabel"),x=t.get("splitNumber"),w=y.get("splitNumber"),_=hi(m.get("length"),p),S=hi(y.get("length"),p),M=o,C=(a-o)/x,I=C/w,k=m.getModel("lineStyle").getLineStyle(),T=y.getModel("lineStyle").getLineStyle(),O=m.get("distance"),E=0;E<=x;E++){if(u=Math.cos(M),c=Math.sin(M),m.get("show")){var A=new kl({shape:{x1:u*(p-(N=O?O+l:l))+d,y1:c*(p-N)+f,x2:u*(p-_-N)+d,y2:c*(p-_-N)+f},style:k,silent:!0});"auto"===k.stroke&&A.setStyle({stroke:i(E/x)}),h.add(A)}if(b.get("show")){var N=b.get("distance")+O,L=nO(di(E/x*(v-g)+g),b.get("formatter")),D=i(E/x);h.add(new _a({style:zu(b,{text:L,x:u*(p-_-N)+d,y:c*(p-_-N)+f,verticalAlign:c<-.8?"top":c>.8?"bottom":"middle",align:u<-.4?"left":u>.4?"right":"center"},{inheritColor:D}),silent:!0}))}if(y.get("show")&&E!==x){N=(N=y.get("distance"))?N+l:l;for(var j=0;j<=w;j++){u=Math.cos(M),c=Math.sin(M);var P=new kl({shape:{x1:u*(p-N)+d,y1:c*(p-N)+f,x2:u*(p-S-N)+d,y2:c*(p-S-N)+f},silent:!0,style:T});"auto"===T.stroke&&P.setStyle({stroke:i((E+j/w)/x)}),h.add(P),M+=I}M-=I}else M+=C}},e.prototype._renderPointer=function(t,e,n,i,r,o,a,s,l){var u=this.group,c=this._data,h=this._progressEls,d=[],f=t.get(["pointer","show"]),p=t.getModel("progress"),g=p.get("show"),m=t.getData(),y=m.mapDimension("value"),b=+t.get("min"),x=+t.get("max"),w=[b,x],_=[o,a];function S(e,n){var i,o=m.getItemModel(e).getModel("pointer"),a=hi(o.get("width"),r.r),s=hi(o.get("length"),r.r),l=t.get(["pointer","icon"]),u=o.get("offsetCenter"),c=hi(u[0],r.r),h=hi(u[1],r.r),d=o.get("keepAspect");return(i=l?kg(l,c-a/2,h-s,a,s,null,d):new eO({shape:{angle:-Math.PI/2,width:a,r:s,x:c,y:h}})).rotation=-(n+Math.PI/2),i.x=r.cx,i.y=r.cy,i}function M(t,e){var n=p.get("roundCap")?H_:fl,i=p.get("overlap"),a=i?p.get("width"):l/m.count(),u=i?r.r-a:r.r-(t+1)*a,c=i?r.r:r.r-t*a,h=new n({shape:{startAngle:o,endAngle:e,cx:r.cx,cy:r.cy,clockwise:s,r0:u,r:c}});return i&&(h.z2=x-m.get(y,t)%x),h}(g||f)&&(m.diff(c).add(function(e){var n=m.get(y,e);if(f){var i=S(e,o);Xl(i,{rotation:-((isNaN(+n)?_[0]:ci(n,w,_,!0))+Math.PI/2)},t),u.add(i),m.setItemGraphicEl(e,i)}if(g){var r=M(e,o),a=p.get("clip");Xl(r,{shape:{endAngle:ci(n,w,_,a)}},t),u.add(r),Ma(t.seriesIndex,m.dataType,e,r),d[e]=r}}).update(function(e,n){var i=m.get(y,e);if(f){var r=c.getItemGraphicEl(n),a=r?r.rotation:o,s=S(e,a);s.rotation=a,$l(s,{rotation:-((isNaN(+i)?_[0]:ci(i,w,_,!0))+Math.PI/2)},t),u.add(s),m.setItemGraphicEl(e,s)}if(g){var l=h[n],v=M(e,l?l.shape.endAngle:o),b=p.get("clip");$l(v,{shape:{endAngle:ci(i,w,_,b)}},t),u.add(v),Ma(t.seriesIndex,m.dataType,e,v),d[e]=v}}).execute(),m.each(function(t){var e=m.getItemModel(t),n=e.getModel("emphasis"),r=n.get("focus"),o=n.get("blurScope"),a=n.get("disabled");if(f){var s=m.getItemGraphicEl(t),l=m.getItemVisual(t,"style"),u=l.fill;if(s instanceof Ko){var c=s.style;s.useStyle(Object(v.extend)({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},l))}else s.useStyle(l),"pointer"!==s.type&&s.setColor(u);s.setStyle(e.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===s.style.fill&&s.setStyle("fill",i(ci(m.get(y,t),w,[0,1],!0))),s.z2EmphasisLift=0,ws(s,e),ms(s,r,o,a)}if(g){var h=d[t];h.useStyle(m.getItemVisual(t,"style")),h.setStyle(e.getModel(["progress","itemStyle"]).getItemStyle()),h.z2EmphasisLift=0,ws(h,e),ms(h,r,o,a)}}),this._progressEls=d)},e.prototype._renderAnchor=function(t,e){var n=t.getModel("anchor");if(n.get("show")){var i=n.get("size"),r=n.get("icon"),o=n.get("offsetCenter"),a=n.get("keepAspect"),s=kg(r,e.cx-i/2+hi(o[0],e.r),e.cy-i/2+hi(o[1],e.r),i,i,null,a);s.z2=n.get("showAbove")?1:0,s.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(s)}},e.prototype._renderTitleAndDetail=function(t,e,n,i,r){var o=this,a=t.getData(),s=a.mapDimension("value"),l=+t.get("min"),u=+t.get("max"),c=new Kn,h=[],d=[],f=t.isAnimationEnabled(),p=t.get(["pointer","showAbove"]);a.diff(this._data).add(function(t){h[t]=new _a({silent:!0}),d[t]=new _a({silent:!0})}).update(function(t,e){h[t]=o._titleEls[e],d[t]=o._detailEls[e]}).execute(),a.each(function(e){var n=a.getItemModel(e),o=a.get(s,e),g=new Kn,v=i(ci(o,[l,u],[0,1],!0)),m=n.getModel("title");if(m.get("show")){var y=m.get("offsetCenter"),b=r.cx+hi(y[0],r.r),x=r.cy+hi(y[1],r.r);(T=h[e]).attr({z2:p?0:2,style:zu(m,{x:b,y:x,text:a.getName(e),align:"center",verticalAlign:"middle"},{inheritColor:v})}),g.add(T)}var w=n.getModel("detail");if(w.get("show")){var _=w.get("offsetCenter"),S=r.cx+hi(_[0],r.r),M=r.cy+hi(_[1],r.r),C=hi(w.get("width"),r.r),I=hi(w.get("height"),r.r),k=t.get(["progress","show"])?a.getItemVisual(e,"style").fill:v,T=d[e],O=w.get("formatter");T.attr({z2:p?0:2,style:zu(w,{x:S,y:M,text:nO(o,O),width:isNaN(C)?null:C,height:isNaN(I)?null:I,align:"center",verticalAlign:"middle"},{inheritColor:k})}),Yu(T,{normal:w},o,function(t){return nO(t,O)}),f&&Ju(T,e,a,t,{getFormattedLabel:function(t,e,n,i,r,a){return nO(a?a.interpolatedValue:o,O)}}),g.add(T)}c.add(g)}),this.group.add(c),this._titleEls=h,this._detailEls=d},e.type="gauge",e}(wp),oO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="itemStyle",n}return p(e,t),e.prototype.getInitialData=function(t,e){return IS(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(up);var aO=["itemStyle","opacity"],sO=function(t){function e(e,n){var i=t.call(this)||this,r=i,o=new Sl,a=new _a;return r.setTextContent(a),i.setTextGuideLine(o),i.updateData(e,n,!0),i}return p(e,t),e.prototype.updateData=function(t,e,n){var i=t.hostModel,r=t.getItemModel(e),o=t.getItemLayout(e),a=r.getModel("emphasis"),s=r.get(aO);s=null==s?1:s,n||nu(this),this.useStyle(t.getItemVisual(e,"style")),this.style.lineJoin="round",n?(this.setShape({points:o.points}),this.style.opacity=0,Xl(this,{style:{opacity:s}},i,e)):$l(this,{style:{opacity:s},shape:{points:o.points}},i,e),ws(this,r),this._updateLabel(t,e),ms(this,a.get("focus"),a.get("blurScope"),a.get("disabled"))},e.prototype._updateLabel=function(t,e){var n=this.getTextGuideLine(),i=this.getTextContent(),r=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e).label,s=t.getItemVisual(e,"style"),l=s.fill;Pu(i,Ru(o),{labelFetcher:t.hostModel,labelDataIndex:e,defaultOpacity:s.opacity,defaultText:t.getName(e)},{normal:{align:a.textAlign,verticalAlign:a.verticalAlign}}),this.setTextConfig({local:!0,inside:!!a.inside,insideStroke:l,outsideFill:l});var u=a.linePoints;n.setShape({points:u}),this.textGuideLineConfig={anchor:u?new wn(u[0][0],u[0][1]):null},$l(i,{style:{x:a.x,y:a.y}},r,e),i.attr({rotation:a.rotation,originX:a.x,originY:a.y,z2:10}),Ix(this,kx(o),{stroke:l})},e}(xl),lO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreLabelLineUpdate=!0,n}return p(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this._data,o=this.group;i.diff(r).add(function(t){var e=new sO(i,t);i.setItemGraphicEl(t,e),o.add(e)}).update(function(t,e){var n=r.getItemGraphicEl(e);n.updateData(i,t),o.add(n),i.setItemGraphicEl(t,n)}).remove(function(e){eu(r.getItemGraphicEl(e),t,e)}).execute(),this._data=i},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(wp),uO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new kS(v.bind(this.getData,this),v.bind(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.getInitialData=function(t,e){return IS(this,{coordDimensions:["value"],encodeDefaulter:v.curry(zh,this)})},e.prototype._defaultLabelLine=function(t){Bi(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.prototype.getDataParams=function(e){var n=this.getData(),i=t.prototype.getDataParams.call(this,e),r=n.mapDimension("value"),o=n.getSum(r);return i.percent=o?+(n.get(r,e)/o*100).toFixed(2):0,i.$vars.push("percent"),i},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(up);function cO(t,e){t.eachSeriesByType("funnel",function(t){var n=t.getData(),i=n.mapDimension("value"),r=t.get("sort"),o=function(t,e){return ph(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),a=t.get("orient"),s=o.width,l=o.height,u=function(t,e){for(var n=t.mapDimension("value"),i=t.mapArray(n,function(t){return t}),r=[],o="ascending"===e,a=0,s=t.count();a<s;a++)r[a]=a;return Object(v.isFunction)(e)?r.sort(e):"none"!==e&&r.sort(function(t,e){return o?i[t]-i[e]:i[e]-i[t]}),r}(n,r),c=o.x,h=o.y,d="horizontal"===a?[hi(t.get("minSize"),l),hi(t.get("maxSize"),l)]:[hi(t.get("minSize"),s),hi(t.get("maxSize"),s)],f=n.getDataExtent(i),p=t.get("min"),g=t.get("max");null==p&&(p=Math.min(f[0],0)),null==g&&(g=f[1]);var m=t.get("funnelAlign"),y=t.get("gap"),b=(("horizontal"===a?s:l)-y*(n.count()-1))/n.count(),x=function(t,e){if("horizontal"===a){var r=ci(n.get(i,t)||0,[p,g],d,!0),o=void 0;switch(m){case"top":o=h;break;case"center":o=h+(l-r)/2;break;case"bottom":o=h+(l-r)}return[[e,o],[e,o+r]]}var u,f=ci(n.get(i,t)||0,[p,g],d,!0);switch(m){case"left":u=c;break;case"center":u=c+(s-f)/2;break;case"right":u=c+s-f}return[[u,e],[u+f,e]]};"ascending"===r&&(b=-b,y=-y,"horizontal"===a?c+=s:h+=l,u=u.reverse());for(var w=0;w<u.length;w++){var _=u[w],S=u[w+1],M=n.getItemModel(_);if("horizontal"===a){var C=M.get(["itemStyle","width"]);null==C?C=b:(C=hi(C,s),"ascending"===r&&(C=-C));var I=x(_,c),k=x(S,c+C);c+=C+y,n.setItemLayout(_,{points:I.concat(k.slice().reverse())})}else{var T=M.get(["itemStyle","height"]);null==T?T=b:(T=hi(T,l),"ascending"===r&&(T=-T));I=x(_,h),k=x(S,h+T);h+=T+y,n.setItemLayout(_,{points:I.concat(k.slice().reverse())})}}!function(t){var e=t.hostModel.get("orient");t.each(function(n){var i,r,o,a,s=t.getItemModel(n),l=s.getModel("label").get("position"),u=s.getModel("labelLine"),c=t.getItemLayout(n),h=c.points,d="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;if(d)"insideLeft"===l?(r=(h[0][0]+h[3][0])/2+5,o=(h[0][1]+h[3][1])/2,i="left"):"insideRight"===l?(r=(h[1][0]+h[2][0])/2-5,o=(h[1][1]+h[2][1])/2,i="right"):(r=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,o=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,i="center"),a=[[r,o],[r,o]];else{var f=void 0,p=void 0,g=void 0,v=void 0,m=u.get("length");"left"===l?(f=(h[3][0]+h[0][0])/2,p=(h[3][1]+h[0][1])/2,r=(g=f-m)-5,i="right"):"right"===l?(f=(h[1][0]+h[2][0])/2,p=(h[1][1]+h[2][1])/2,r=(g=f+m)+5,i="left"):"top"===l?(f=(h[3][0]+h[0][0])/2,o=(v=(p=(h[3][1]+h[0][1])/2)-m)-5,i="center"):"bottom"===l?(f=(h[1][0]+h[2][0])/2,o=(v=(p=(h[1][1]+h[2][1])/2)+m)+5,i="center"):"rightTop"===l?(f="horizontal"===e?h[3][0]:h[1][0],p="horizontal"===e?h[3][1]:h[1][1],"horizontal"===e?(o=(v=p-m)-5,i="center"):(r=(g=f+m)+5,i="top")):"rightBottom"===l?(f=h[2][0],p=h[2][1],"horizontal"===e?(o=(v=p+m)+5,i="center"):(r=(g=f+m)+5,i="bottom")):"leftTop"===l?(f=h[0][0],p="horizontal"===e?h[0][1]:h[1][1],"horizontal"===e?(o=(v=p-m)-5,i="center"):(r=(g=f-m)-5,i="right")):"leftBottom"===l?(f="horizontal"===e?h[1][0]:h[3][0],p="horizontal"===e?h[1][1]:h[2][1],"horizontal"===e?(o=(v=p+m)+5,i="center"):(r=(g=f-m)-5,i="right")):(f=(h[1][0]+h[2][0])/2,p=(h[1][1]+h[2][1])/2,"horizontal"===e?(o=(v=p+m)+5,i="center"):(r=(g=f+m)+5,i="left")),"horizontal"===e?r=g=f:o=v=p,a=[[f,p],[g,v]]}c.label={linePoints:a,x:r,y:o,verticalAlign:"middle",textAlign:i,inside:d}})}(n)})}var hO=.3;function dO(t,e,n,i){for(var r,o=[],a=0;a<n.length;a++){var s=n[a],l=t.get(t.mapDimension(s),e);r=l,("category"===i.getAxis(s).type?null==r:null==r||isNaN(r))||o.push(i.dataToPoint(l,s))}return o}function fO(t,e,n,i,r){var o=dO(t,n,i,r),a=new Sl({shape:{points:o},z2:10});return e.add(a),t.setItemGraphicEl(n,a),a}function pO(t){var e=t.get("smooth",!0);return!0===e&&(e=hO),e=Oi(e),Object(v.eqNaN)(e)&&(e=0),{smooth:e}}function gO(t,e,n,i){t.useStyle(e.getItemVisual(n,"style")),t.style.fill=null,t.setShape("smooth",i.smooth);var r=e.getItemModel(n),o=r.getModel("emphasis");ws(t,r,"lineStyle"),ms(t,o.get("focus"),o.get("blurScope"),o.get("disabled"))}var vO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._dataGroup=new Kn,n._initialized=!1,n}return p(e,t),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,e,n,i){this._progressiveEls=null;var r=this._dataGroup,o=t.getData(),a=this._data,s=t.coordinateSystem,l=s.dimensions,u=pO(t);if(o.diff(a).add(function(t){gO(fO(o,r,t,l,s),o,t,u)}).update(function(e,n){var i=a.getItemGraphicEl(n),r=dO(o,e,l,s);o.setItemGraphicEl(e,i),$l(i,{shape:{points:r}},t,e),nu(i),gO(i,o,e,u)}).remove(function(t){var e=a.getItemGraphicEl(t);r.remove(e)}).execute(),!this._initialized){this._initialized=!0;var c=function(t,e,n){var i=t.model,r=t.getRect(),o=new aa({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),a="horizontal"===i.get("layout")?"width":"height";return o.setShape(a,0),Xl(o,{shape:{width:r.width,height:r.height}},e,n),o}(s,t,function(){setTimeout(function(){r.removeClipPath()})});r.setClipPath(c)}this._data=o},e.prototype.incrementalPrepareRender=function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,e,n){for(var i=e.getData(),r=e.coordinateSystem,o=r.dimensions,a=pO(e),s=this._progressiveEls=[],l=t.start;l<t.end;l++){var u=fO(i,this._dataGroup,l,o,r);u.incremental=!0,gO(u,i,l,a),s.push(u)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(wp);function mO(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(e){var n={};return Object(v.each)(e.dimensions,function(t){var e=+t.replace("dim","");n[t]=e}),n}}var yO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return p(e,t),e.prototype.getInitialData=function(t,e){return dy(null,this,{useEncodeDefaulter:Object(v.bind)(mO,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var e=this.coordinateSystem,n=this.getData(),i=[];return e.eachActiveState(n,function(e,r){t===e&&i.push(n.getRawIndex(r))}),i},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(up),bO=["lineStyle","opacity"],xO={seriesType:"parallel",reset:function(t,e){var n=t.coordinateSystem,i={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,e){n.eachActiveState(e,function(t,n){var r=i[t];if("normal"===t&&e.hasItemOption){var o=e.getItemModel(n).get(bO,!0);null!=o&&(r=o)}e.ensureUniqueItemVisual(n,"style").opacity=r},t.start,t.end)}}}};function wO(t){!function(t){if(t.parallel)return;var e=!1;v.each(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}(t),function(t){var e=zi(t.parallelAxis);v.each(e,function(e){if(v.isObject(e)){var n=e.parallelIndex||0,i=zi(t.parallel)[n];i&&i.parallelAxisDefault&&v.merge(e,i.parallelAxisDefault,!1)}})}(t)}var _O=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},Object(v.each)(SO,function(t,e){n.getZr().on(e,this._handlers[e]=Object(v.bind)(t,this))},this)),Ip(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,e){kp(this,"_throttledDispatchExpand"),Object(v.each)(this._handlers,function(t,n){e.getZr().off(n,t)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(Object(v.extend)({type:"parallelAxisExpand"},t))},e.type="parallel",e}(hp),SO={mousedown:function(t){MO(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(MO(this,"click")&&e){var n=[t.offsetX,t.offsetY];if(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&MO(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function MO(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}var CO=_O,IO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var e=this.option;t&&v.merge(e,t,!0),this._initDimensions()},e.prototype.contains=function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},e.prototype.setAxisExpand=function(t){v.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],n=v.filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(t){return(t.get("parallelIndex")||0)===this.componentIndex},this);v.each(n,function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(_h),kO=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,i)||this;return a.type=r||"value",a.axisIndex=o,a}return p(e,t),e.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},e}(qb);function TO(t,e,n,i,r,o){t=t||0;var a=n[1]-n[0];if(null!=r&&(r=EO(r,[0,a])),null!=o&&(o=Math.max(o,null!=r?r:0)),"all"===i){var s=Math.abs(e[1]-e[0]);r=o=EO(s=EO(s,[0,a]),[r,o]),i=0}e[0]=EO(e[0],n),e[1]=EO(e[1],n);var l=OO(e,i);e[i]+=t;var u,c=r||0,h=n.slice();return l.sign<0?h[0]+=c:h[1]-=c,e[i]=EO(e[i],h),u=OO(e,i),null!=r&&(u.sign!==l.sign||u.span<r)&&(e[1-i]=e[i]+l.sign*r),u=OO(e,i),null!=o&&u.span>o&&(e[1-i]=e[i]+u.sign*o),e}function OO(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function EO(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var AO=v.each,NO=Math.min,LO=Math.max,DO=Math.floor,jO=Math.ceil,PO=di,RO=Math.PI;function zO(t,e){return NO(LO(t,e[0]),e[1])}var BO=function(){function t(t,e,n){this.type="parallel",this._axesMap=v.createHashMap(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var i=t.dimensions,r=t.parallelAxisIndex;AO(i,function(t,n){var i=r[n],o=e.getComponent("parallelAxis",i),a=this._axesMap.set(t,new kO(t,vb(o),[0,0],o.get("type"),i)),s="category"===a.type;a.onBand=s&&o.get("boundaryGap"),a.inverse=o.get("inverse"),o.axis=a,a.model=o,a.coordinateSystem=o.coordinateSystem=this},this)},t.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},t.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,r=e.pixelDimIndex,o=t[1-r],a=t[r];return o>=n&&o<=n+e.axisLength&&a>=i&&a<=i+e.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var i=n.getData();AO(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(i,i.mapDimension(t)),gb(e.scale,e.model)},this)}},this)},t.prototype.resize=function(t,e){this._rect=ph(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var t,e=this._model,n=this._rect,i=["x","y"],r=["width","height"],o=e.get("layout"),a="horizontal"===o?0:1,s=n[r[a]],l=[0,s],u=this.dimensions.length,c=zO(e.get("axisExpandWidth"),l),h=zO(e.get("axisExpandCount")||0,[0,u]),d=e.get("axisExpandable")&&u>3&&u>h&&h>1&&c>0&&s>0,f=e.get("axisExpandWindow");f?(t=zO(f[1]-f[0],l),f[1]=f[0]+t):(t=zO(c*(h-1),l),(f=[c*(e.get("axisExpandCenter")||DO(u/2))-t/2])[1]=f[0]+t);var p=(s-t)/(u-h);p<3&&(p=0);var g=[DO(PO(f[0]/c,1))+1,jO(PO(f[1]/c,1))-1],v=p/c*f[0];return{layout:o,pixelDimIndex:a,layoutBase:n[i[a]],layoutLength:s,axisBase:n[i[1-a]],axisLength:n[r[1-a]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:p,axisExpandWindow:f,axisCount:u,winInnerIndices:g,axisExpandWindow0Pos:v}},t.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),r=i.layout;e.each(function(t){var e=[0,i.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])}),AO(n,function(e,n){var o=(i.axisExpandable?function(t,e){var n,i,r=e.layoutLength,o=e.axisExpandWidth,a=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,u=s,c=!1;t<l[0]?(n=t*s,i=s):t<=l[1]?(n=e.axisExpandWindow0Pos+t*o-e.axisExpandWindow[0],u=o,c=!0):(n=r-(a-1-t)*s,i=s);return{position:n,axisNameAvailableWidth:u,axisLabelShow:c,nameTruncateMaxWidth:i}}:function(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}})(n,i),a={horizontal:{x:o.position,y:i.axisLength},vertical:{x:0,y:o.position}},s={horizontal:RO/2,vertical:0},l=[a[r].x+t.x,a[r].y+t.y],u=s[r],c=[1,0,0,1,0,0];sn(c,c,u),an(c,c,l),this._axesLayout[e]={position:l,rotation:u,transform:c,axisNameAvailableWidth:o.axisNameAvailableWidth,axisLabelShow:o.axisLabelShow,nameTruncateMaxWidth:o.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},t.prototype.getAxis=function(t){return this._axesMap.get(t)},t.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},t.prototype.eachActiveState=function(t,e,n,i){null==n&&(n=0),null==i&&(i=t.count());var r=this._axesMap,o=this.dimensions,a=[],s=[];v.each(o,function(e){a.push(t.mapDimension(e)),s.push(r.get(e).model)});for(var l=this.hasAxisBrushed(),u=n;u<i;u++){var c=void 0;if(l){c="active";for(var h=t.getValues(a,u),d=0,f=o.length;d<f;d++){if("inactive"===s[d].getActiveState(h[d])){c="inactive";break}}}else c="normal";e(c,u)}},t.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,r=t.length;i<r;i++)"normal"!==e.get(t[i]).model.getActiveState()&&(n=!0);return n},t.prototype.axisCoordToPoint=function(t,e){return xu([t,0],this._axesLayout[e].transform)},t.prototype.getAxisLayout=function(t){return v.clone(this._axesLayout[t])},t.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),r=i[1]-i[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var a,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",u=e.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),h=null!=c[0];if(u)h&&u&&s<r*c[0]?(l="jump",a=s-r*c[2]):h&&u&&s>r*(1-c[0])?(l="jump",a=s-r*(1-c[2])):(a=s-r*c[1])>=0&&(a=s-r*(1-c[1]))<=0&&(a=0),(a*=e.axisExpandWidth/u)?TO(a,i,o,"all"):l="none";else{var d=i[1]-i[0];(i=[LO(0,o[1]*s/d-d/2)])[1]=NO(o[1],i[0]+d),i[0]=i[1]-d}return{axisExpandWindow:i,behavior:l}},t}();var FO={create:function(t,e){var n=[];return t.eachComponent("parallel",function(i,r){var o=new BO(i,t,e);o.name="parallel_"+r,o.resize(i,e),i.coordinateSystem=o,o.model=i,n.push(o)}),t.eachSeries(function(t){if("parallel"===t.get("coordinateSystem")){var e=t.getReferringComponents("parallel",tr).models[0];t.coordinateSystem=e.coordinateSystem}}),n}},GO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.activeIntervals=[],n}return p(e,t),e.prototype.getAreaSelectStyle=function(){return vr([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var e=this.activeIntervals=v.clone(t);if(e)for(var n=e.length-1;n>=0;n--)fi(e[n])},e.prototype.getActiveState=function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var i=0,r=e.length;i<r;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"},e}(_h);v.mixin(GO,_b);var VO=GO,WO=!0,HO=Math.min,UO=Math.max,YO=Math.pow,JO=1e4,QO=6,ZO=6,$O={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},XO={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},KO={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},qO=0,tE=function(t){function e(e){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new Kn,n._uid="brushController_"+qO++,Object(v.each)(kE,function(t,e){this._handlers[e]=Object(v.bind)(t,this)},n),n}return p(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||function(t,e,n){UM(t)[e]=n}(e,"globalPan",this._uid),Object(v.each)(this._handlers,function(t,n){e.on(n,t)}),this._brushType=t.brushType,this._brushOption=Object(v.merge)(Object(v.clone)(KO),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;!function(t,e,n){var i=UM(t);i[e]===n&&(i[e]=null)}(t,"globalPan",this._uid),Object(v.each)(this._handlers,function(e,n){t.off(n,e)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};Object(v.each)(t,function(t){e[t.panelId]=Object(v.clone)(t)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=Object(v.map)(t,function(t){return Object(v.merge)(Object(v.clone)(KO),t,!0)});var e="\0-brush-index-",n=this._covers,i=this._covers=[],r=this,o=this._creatingCover;return new Nm(n,t,function(t,e){return a(t.__brushOption,e)},a).add(s).update(s).remove(function(t){n[t]!==o&&r.group.remove(n[t])}).execute(),this;function a(t,n){return(null!=t.id?t.id:e+n)+"-"+t.brushType}function s(e,a){var s=t[e];if(null!=a&&n[a]===o)i[e]=n[a];else{var l=i[e]=null!=a?(n[a].__brushOption=s,n[a]):nE(r,eE(r,s));oE(r,l)}}},e.prototype.unmount=function(){return this.enableBrush(!1),uE(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Y);function eE(t,e){var n=OE[e.brushType].createCover(t,e);return n.__brushOption=e,rE(n,e),t.group.add(n),n}function nE(t,e){var n=aE(e);return n.endCreating&&(n.endCreating(t,e),rE(e,e.__brushOption)),e}function iE(t,e){var n=e.__brushOption;aE(e).updateCoverShape(t,e,n.range,n)}function rE(t,e){var n=e.z;null==n&&(n=JO),t.traverse(function(t){t.z=n,t.z2=n})}function oE(t,e){aE(e).updateCommon(t,e),iE(t,e)}function aE(t){return OE[t.__brushOption.brushType]}function sE(t,e,n){var i,r=t._panels;if(!r)return WO;var o=t._transform;return Object(v.each)(r,function(t){t.isTargetByCursor(e,n,o)&&(i=t)}),i}function lE(t,e){var n=t._panels;if(!n)return WO;var i=e.__brushOption.panelId;return null!=i?n[i]:WO}function uE(t){var e=t._covers,n=e.length;return Object(v.each)(e,function(e){t.group.remove(e)},t),e.length=0,!!n}function cE(t,e){var n=Object(v.map)(t._covers,function(t){var e=t.__brushOption,n=Object(v.clone)(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}});t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function hE(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function dE(t,e,n,i){var r=new Kn;return r.add(new aa({name:"main",style:vE(n),silent:!0,draggable:!0,cursor:"move",drift:Object(v.curry)(bE,t,e,r,["n","s","w","e"]),ondragend:Object(v.curry)(cE,e,{isEnd:!0})})),Object(v.each)(i,function(n){r.add(new aa({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Object(v.curry)(bE,t,e,r,n),ondragend:Object(v.curry)(cE,e,{isEnd:!0})}))}),r}function fE(t,e,n,i){var r=i.brushStyle.lineWidth||0,o=UO(r,ZO),a=n[0][0],s=n[1][0],l=a-r/2,u=s-r/2,c=n[0][1],h=n[1][1],d=c-o+r/2,f=h-o+r/2,p=c-a,g=h-s,v=p+r,m=g+r;gE(t,e,"main",a,s,p,g),i.transformable&&(gE(t,e,"w",l,u,o,m),gE(t,e,"e",d,u,o,m),gE(t,e,"n",l,u,v,o),gE(t,e,"s",l,f,v,o),gE(t,e,"nw",l,u,o,o),gE(t,e,"ne",d,u,o,o),gE(t,e,"sw",l,f,o,o),gE(t,e,"se",d,f,o,o))}function pE(t,e){var n=e.__brushOption,i=n.transformable,r=e.childAt(0);r.useStyle(vE(n)),r.attr({silent:!i,cursor:i?"move":"default"}),Object(v.each)([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(n){var r=e.childOfName(n.join("")),o=1===n.length?yE(t,n[0]):function(t,e){var n=[yE(t,e[0]),yE(t,e[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}(t,n);r&&r.attr({silent:!i,invisible:!i,cursor:i?XO[o]+"-resize":null})})}function gE(t,e,n,i,r,o,a){var s,l,u,c,h,d=e.childOfName(n);d&&d.setShape((s=_E(t,e,[[i,r],[i+o,r+a]]),l=HO(s[0][0],s[1][0]),u=HO(s[0][1],s[1][1]),c=UO(s[0][0],s[1][0]),h=UO(s[0][1],s[1][1]),{x:l,y:u,width:c-l,height:h-u}))}function vE(t){return Object(v.defaults)({strokeNoScale:!0},t.brushStyle)}function mE(t,e,n,i){var r=[HO(t,n),HO(e,i)],o=[UO(t,n),UO(e,i)];return[[r[0],o[0]],[r[1],o[1]]]}function yE(t,e){return{left:"w",right:"e",top:"n",bottom:"s"}[wu({w:"left",e:"right",n:"top",s:"bottom"}[e],function(t){return bu(t.group)}(t))]}function bE(t,e,n,i,r,o){var a=n.__brushOption,s=t.toRectRange(a.range),l=wE(e,r,o);Object(v.each)(i,function(t){var e=$O[t];s[e[0]][e[1]]+=l[e[0]]}),a.range=t.fromRectRange(mE(s[0][0],s[1][0],s[0][1],s[1][1])),oE(e,n),cE(e,{isEnd:!1})}function xE(t,e,n,i){var r=e.__brushOption.range,o=wE(t,n,i);Object(v.each)(r,function(t){t[0]+=o[0],t[1]+=o[1]}),oE(t,e),cE(t,{isEnd:!1})}function wE(t,e,n){var i=t.group,r=i.transformCoordToLocal(e,n),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function _E(t,e,n){var i=lE(t,e);return i&&i!==WO?i.clipPath(n,t._transform):Object(v.clone)(n)}function SE(t){var e=t.event;e.preventDefault&&e.preventDefault()}function ME(t,e,n){return t.childOfName("main").contain(e,n)}function CE(t,e,n,i){var r,o=t._creatingCover,a=t._creatingPanel,s=t._brushOption;if(t._track.push(n.slice()),function(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],i=e[0],r=n[0]-i[0],o=n[1]-i[1];return YO(r*r+o*o,.5)>QO}(t)||o){if(a&&!o){"single"===s.brushMode&&uE(t);var l=Object(v.clone)(s);l.brushType=IE(l.brushType,a),l.panelId=a===WO?null:a.panelId,o=t._creatingCover=eE(t,l),t._covers.push(o)}if(o){var u=OE[IE(t._brushType,a)];o.__brushOption.range=u.getCreatingRange(_E(t,o,t._track)),i&&(nE(t,o),u.updateCommon(t,o)),iE(t,o),r={isEnd:i}}}else i&&"single"===s.brushMode&&s.removeOnClick&&sE(t,e,n)&&uE(t)&&(r={isEnd:i,removeOnClick:!0});return r}function IE(t,e){return"auto"===t?e.defaultBrushType:t}var kE={mousedown:function(t){if(this._dragging)TE(this,t);else if(!t.target||!t.target.draggable){SE(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=sE(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,i=this.group.transformCoordToLocal(e,n);if(function(t,e,n){if(t._brushType&&!function(t,e,n){var i=t._zr;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}(t,e.offsetX,e.offsetY)){var i=t._zr,r=t._covers,o=sE(t,e,n);if(!t._dragging)for(var a=0;a<r.length;a++){var s=r[a].__brushOption;if(o&&(o===WO||s.panelId===o.panelId)&&OE[s.brushType].contain(r[a],n[0],n[1]))return}o&&i.setCursorStyle("crosshair")}}(this,t,i),this._dragging){SE(t);var r=CE(this,t,i,!1);r&&cE(this,r)}},mouseup:function(t){TE(this,t)}};function TE(t,e){if(t._dragging){SE(e);var n=e.offsetX,i=e.offsetY,r=CE(t,e,t.group.transformCoordToLocal(n,i),!0);t._dragging=!1,t._track=[],t._creatingCover=null,r&&cE(t,r)}}var OE={lineX:EE(0),lineY:EE(1),rect:{createCover:function(t,e){function n(t){return t}return dE({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=hE(t);return mE(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,i){fE(t,e,n,i)},updateCommon:pE,contain:ME},polygon:{createCover:function(t,e){var n=new Kn;return n.add(new Sl({name:"main",style:vE(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new xl({name:"main",draggable:!0,drift:Object(v.curry)(xE,t,e),ondragend:Object(v.curry)(cE,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,i){e.childAt(0).setShape({points:_E(t,e,n)})},updateCommon:pE,contain:ME}};function EE(t){return{createCover:function(e,n){return dE({toRectRange:function(e){var n=[e,[0,100]];return t&&n.reverse(),n},fromRectRange:function(e){return e[t]}},e,n,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var n=hE(e);return[HO(n[0][t],n[1][t]),UO(n[0][t],n[1][t])]},updateCoverShape:function(e,n,i,r){var o,a=lE(e,n);if(a!==WO&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(t);else{var s=e._zr;o=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[i,o];t&&l.reverse(),fE(e,n,l,r)},updateCommon:pE,contain:ME}}var AE=tE;function NE(t){return t=jE(t),function(e){return Mu(e,t)}}function LE(t,e){return t=jE(t),function(n){var i=null!=e?e:n,r=i?t.width:t.height,o=i?t.x:t.y;return[o,o+(r||0)]}}function DE(t,e,n){var i=jE(t);return function(t,r){return i.contain(r[0],r[1])&&!tC(t,e,n)}}function jE(t){return En.create(t)}var PE=["axisLine","axisTickLabel","axisName"];var RE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.init=function(e,n){t.prototype.init.apply(this,arguments),(this._brushController=new AE(n.getZr())).on("brush",v.bind(this._onBrush,this))},e.prototype.render=function(t,e,n,i){if(!function(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}(t,e,i)){this.axisModel=t,this.api=n,this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new Kn,this.group.add(this._axisGroup),t.get("show")){var o=function(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}(t,e),a=o.coordinateSystem,s=t.getAreaSelectStyle(),l=s.width,u=t.axis.dim,c=a.getAxisLayout(u),h=v.extend({strokeContainThreshold:l},c),d=new uM(t,h);v.each(PE,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(h,s,t,o,l,n),Su(r,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,e,n,i,r,o){var a=n.axis.getExtent(),s=a[1]-a[0],l=Math.min(30,.1*Math.abs(s)),u=En.create({x:a[0],y:-r/2,width:s,height:r});u.x-=l,u.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:NE(u),isTargetByCursor:DE(u,o,i),getLinearBrushOtherExtent:LE(u,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(function(t){var e=t.axis;return v.map(t.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}(n))},e.prototype._onBrush=function(t){var e=t.areas,n=this.axisModel,i=n.axis,r=v.map(e,function(t){return[i.coordToData(t.range[0],!0),i.coordToData(t.range[1],!0)]});(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:r})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(hp),zE={type:"axisAreaSelect",event:"axisAreaSelected"};var BE={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function FE(t){t.registerComponentView(CO),t.registerComponentModel(IO),t.registerCoordinateSystem("parallel",FO),t.registerPreprocessor(wO),t.registerComponentModel(VO),t.registerComponentView(RE),GS(t,"parallel",VO,BE),function(t){t.registerAction(zE,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})}),t.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(e){e.setAxisExpand(t)})})}(t)}var GE=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}}(),VE=function(t){function e(e){return t.call(this,e)||this}return p(e,t),e.prototype.getDefaultShape=function(){return new GE},e.prototype.buildPath=function(t,e){var n=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),"vertical"===e.orient?(t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()},e.prototype.highlight=function(){rs(this)},e.prototype.downplay=function(){os(this)},e}(Uo);var WE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._focusAdjacencyDisabled=!1,n}return p(e,t),e.prototype.render=function(t,e,n){var i=this,r=t.getGraph(),o=this.group,a=t.layoutInfo,s=a.width,l=a.height,u=t.getData(),c=t.getData("edge"),h=t.get("orient");this._model=t,o.removeAll(),o.x=a.x,o.y=a.y,r.eachEdge(function(e){var n=new VE,i=Sa(n);i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType="edge";var r,a,u,d,f,p,g,m,y=e.getModel(),b=y.getModel("lineStyle"),x=b.get("curveness"),w=e.node1.getLayout(),_=e.node1.getModel(),S=_.get("localX"),M=_.get("localY"),C=e.node2.getLayout(),I=e.node2.getModel(),k=I.get("localX"),T=I.get("localY"),O=e.getLayout();switch(n.shape.extent=Math.max(1,O.dy),n.shape.orient=h,"vertical"===h?(r=(null!=S?S*s:w.x)+O.sy,a=(null!=M?M*l:w.y)+w.dy,u=(null!=k?k*s:C.x)+O.ty,f=r,p=a*(1-x)+(d=null!=T?T*l:C.y)*x,g=u,m=a*x+d*(1-x)):(r=(null!=S?S*s:w.x)+w.dx,a=(null!=M?M*l:w.y)+O.sy,f=r*(1-x)+(u=null!=k?k*s:C.x)*x,p=a,g=r*x+u*(1-x),m=d=(null!=T?T*l:C.y)+O.ty),n.setShape({x1:r,y1:a,x2:u,y2:d,cpx1:f,cpy1:p,cpx2:g,cpy2:m}),n.useStyle(b.getItemStyle()),n.style.fill){case"source":n.style.fill=e.node1.getVisual("color"),n.style.decal=e.node1.getVisual("style").decal;break;case"target":n.style.fill=e.node2.getVisual("color"),n.style.decal=e.node2.getVisual("style").decal;break;case"gradient":var E=e.node1.getVisual("color"),A=e.node2.getVisual("color");Object(v.isString)(E)&&Object(v.isString)(A)&&(n.style.fill=new zl(0,0,+("horizontal"===h),+("vertical"===h),[{color:E,offset:0},{color:A,offset:1}]))}var N=y.getModel("emphasis");ws(n,y,"lineStyle",function(t){return t.getItemStyle()}),o.add(n),c.setItemGraphicEl(e.dataIndex,n);var L=N.get("focus");ms(n,"adjacency"===L?e.getAdjacentDataIndices():L,N.get("blurScope"),N.get("disabled")),Sa(n).dataType="edge"}),r.eachNode(function(e){var n=e.getLayout(),i=e.getModel(),r=i.get("localX"),a=i.get("localY"),c=i.getModel("emphasis"),h=new aa({shape:{x:null!=r?r*s:n.x,y:null!=a?a*l:n.y,width:n.dx,height:n.dy},style:i.getModel("itemStyle").getItemStyle(),z2:10});Pu(h,Ru(i),{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id}),h.disableLabelAnimation=!0,h.setStyle("fill",e.getVisual("color")),h.setStyle("decal",e.getVisual("style").decal),ws(h,i),o.add(h),u.setItemGraphicEl(e.dataIndex,h),Sa(h).dataType="node";var d=c.get("focus");ms(h,"adjacency"===d?e.getAdjacentDataIndices():d,c.get("blurScope"),c.get("disabled"))}),u.eachItemGraphicEl(function(e,r){u.getItemModel(r).get("draggable")&&(e.drift=function(e,o){i._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=o,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:u.getRawIndex(r),localX:this.shape.x/s,localY:this.shape.y/l})},e.ondragend=function(){i._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor="move")}),!this._data&&t.isAnimationEnabled()&&o.setClipPath(function(t,e,n){var i=new aa({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Xl(i,{shape:{width:t.width+20}},e,n),i}(o.getBoundingRect(),t,function(){o.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(wp),HE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.getInitialData=function(t,e){var n=t.edges||t.links,i=t.data||t.nodes,r=t.levels;this.levelModels=[];for(var o=this.levelModels,a=0;a<r.length;a++)null!=r[a].depth&&r[a].depth>=0&&(o[r[a].depth]=new sc(r[a],this,e));if(i&&n)return XT(i,n,this,!0,function(t,e){t.wrapMethod("getItemModel",function(t,e){var n=t.parentModel,i=n.getData().getItemLayout(e);if(i){var r=i.depth,o=n.levelModels[r];o&&(t.parentModel=o)}return t}),e.wrapMethod("getItemModel",function(t,e){var n=t.parentModel,i=n.getGraph().getEdgeByIndex(e),r=i.node1.getLayout();if(r){var o=r.depth,a=n.levelModels[o];a&&(t.parentModel=a)}return t})}).data},e.prototype.setNodePosition=function(t,e){var n=(this.option.data||this.option.nodes)[t];n.localX=e[0],n.localY=e[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,e,n){function i(t){return isNaN(t)||null==t}if("edge"===n){var r=this.getDataParams(t,n),o=r.data,a=r.value;return Ff("nameValue",{name:o.source+" -- "+o.target,value:a,noValue:i(a)})}var s=this.getGraph().getNodeByIndex(t).getLayout().value,l=this.getDataParams(t,n).data.name;return Ff("nameValue",{name:null!=l?l+"":null,value:s,noValue:i(s)})},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(e,n){var i=t.prototype.getDataParams.call(this,e,n);if(null==i.value&&"node"===n){var r=this.getGraph().getNodeByIndex(e).getLayout().value;i.value=r}return i},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(up);function UE(t,e){t.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),i=t.get("nodeGap"),r=function(t,e){return ph(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=r;var o=r.width,a=r.height,s=t.getGraph(),l=s.nodes,u=s.edges;!function(t){v.each(t,function(t){var e=eA(t.outEdges,tA),n=eA(t.inEdges,tA),i=t.getValue()||0,r=Math.max(e,n,i);t.setLayout({value:r},!0)})}(l),function(t,e,n,i,r,o,a,s,l){(function(t,e,n,i,r,o,a){for(var s=[],l=[],u=[],c=[],h=0,d=0;d<e.length;d++)s[d]=1;for(var d=0;d<t.length;d++)l[d]=t[d].inEdges.length,0===l[d]&&u.push(t[d]);var f=-1;for(;u.length;){for(var p=0;p<u.length;p++){var g=u[p],m=g.hostGraph.data.getRawDataItem(g.dataIndex),y=null!=m.depth&&m.depth>=0;y&&m.depth>f&&(f=m.depth),g.setLayout({depth:y?m.depth:h},!0),"vertical"===o?g.setLayout({dy:n},!0):g.setLayout({dx:n},!0);for(var b=0;b<g.outEdges.length;b++){var x=g.outEdges[b],w=e.indexOf(x);s[w]=0;var _=x.node2,S=t.indexOf(_);0==--l[S]&&c.indexOf(_)<0&&c.push(_)}}++h,u=c,c=[]}for(var d=0;d<s.length;d++)if(1===s[d])throw new Error("Sankey is a DAG, the original data has cycle!");var M=f>h-1?f:h-1;a&&"left"!==a&&function(t,e,n,i){if("right"===e){for(var r=[],o=t,a=0;o.length;){for(var s=0;s<o.length;s++){var l=o[s];l.setLayout({skNodeHeight:a},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];r.indexOf(c.node1)<0&&r.push(c.node1)}}o=r,r=[],++a}v.each(t,function(t){YE(t)||t.setLayout({depth:Math.max(0,i-t.getLayout().skNodeHeight)},!0)})}else"justify"===e&&function(t,e){v.each(t,function(t){YE(t)||t.outEdges.length||t.setLayout({depth:e},!0)})}(t,i)}(t,a,0,M);!function(t,e,n){v.each(t,function(t){var i=t.getLayout().depth*e;"vertical"===n?t.setLayout({y:i},!0):t.setLayout({x:i},!0)})}(t,"vertical"===o?(r-n)/M:(i-n)/M,o)})(t,e,n,r,o,s,l),function(t,e,n,i,r,o,a){var s=function(t,e){var n=[],i="vertical"===e?"y":"x",r=rr(t,function(t){return t.getLayout()[i]});return r.keys.sort(function(t,e){return t-e}),v.each(r.keys,function(t){n.push(r.buckets.get(t))}),n}(t,a);(function(t,e,n,i,r,o){var a=1/0;v.each(t,function(t){var e=t.length,s=0;v.each(t,function(t){s+=t.getLayout().value});var l="vertical"===o?(i-(e-1)*r)/s:(n-(e-1)*r)/s;l<a&&(a=l)}),v.each(t,function(t){v.each(t,function(t,e){var n=t.getLayout().value*a;"vertical"===o?(t.setLayout({x:e},!0),t.setLayout({dx:n},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:n},!0))})}),v.each(e,function(t){var e=+t.getValue()*a;t.setLayout({dy:e},!0)})})(s,e,n,i,r,a),JE(s,r,n,i,a);for(var l=1;o>0;o--)QE(s,l*=.99,a),JE(s,r,n,i,a),nA(s,l,a),JE(s,r,n,i,a)}(t,e,o,r,i,a,s),function(t,e){var n="vertical"===e?"x":"y";v.each(t,function(t){t.outEdges.sort(function(t,e){return t.node2.getLayout()[n]-e.node2.getLayout()[n]}),t.inEdges.sort(function(t,e){return t.node1.getLayout()[n]-e.node1.getLayout()[n]})}),v.each(t,function(t){var e=0,n=0;v.each(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),v.each(t.inEdges,function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy})})}(t,s)}(l,u,n,i,o,a,0!==v.filter(l,function(t){return 0===t.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))})}function YE(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=e.depth&&e.depth>=0}function JE(t,e,n,i,r){var o="vertical"===r?"x":"y";v.each(t,function(t){var a,s,l;t.sort(function(t,e){return t.getLayout()[o]-e.getLayout()[o]});for(var u=0,c=t.length,h="vertical"===r?"dx":"dy",d=0;d<c;d++)(l=u-(s=t[d]).getLayout()[o])>0&&(a=s.getLayout()[o]+l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[o]+s.getLayout()[h]+e;if((l=u-e-("vertical"===r?i:n))>0){a=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0),u=a;for(d=c-2;d>=0;--d)(l=(s=t[d]).getLayout()[o]+s.getLayout()[h]+e-u)>0&&(a=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[o]}})}function QE(t,e,n){v.each(t.slice().reverse(),function(t){v.each(t,function(t){if(t.outEdges.length){var i=eA(t.outEdges,ZE,n)/eA(t.outEdges,tA);if(isNaN(i)){var r=t.outEdges.length;i=r?eA(t.outEdges,$E,n)/r:0}if("vertical"===n){var o=t.getLayout().x+(i-qE(t,n))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(i-qE(t,n))*e;t.setLayout({y:a},!0)}}})})}function ZE(t,e){return qE(t.node2,e)*t.getValue()}function $E(t,e){return qE(t.node2,e)}function XE(t,e){return qE(t.node1,e)*t.getValue()}function KE(t,e){return qE(t.node1,e)}function qE(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function tA(t){return t.getValue()}function eA(t,e,n){for(var i=0,r=t.length,o=-1;++o<r;){var a=+e(t[o],n);isNaN(a)||(i+=a)}return i}function nA(t,e,n){v.each(t,function(t){v.each(t,function(t){if(t.inEdges.length){var i=eA(t.inEdges,XE,n)/eA(t.inEdges,tA);if(isNaN(i)){var r=t.inEdges.length;i=r?eA(t.inEdges,KE,n)/r:0}if("vertical"===n){var o=t.getLayout().x+(i-qE(t,n))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(i-qE(t,n))*e;t.setLayout({y:a},!0)}}})})}function iA(t){t.eachSeriesByType("sankey",function(t){var e=t.getGraph().nodes;if(e.length){var n=1/0,i=-1/0;v.each(e,function(t){var e=t.getLayout().value;e<n&&(n=e),e>i&&(i=e)}),v.each(e,function(e){var r=new Ak({type:"color",mappingMethod:"linear",dataExtent:[n,i],visual:t.get("color")}).mapValueToVisual(e.getLayout().value),o=e.getModel().get(["itemStyle","color"]);null!=o?(e.setVisual("color",o),e.setVisual("style",{fill:o})):(e.setVisual("color",r),e.setVisual("style",{fill:r}))})}})}var rA=function(){function t(){}return t.prototype.getInitialData=function(t,e){var n,i,r=e.getComponent("xAxis",this.get("xAxisIndex")),o=e.getComponent("yAxis",this.get("yAxisIndex")),a=r.get("type"),s=o.get("type");"category"===a?(t.layout="horizontal",n=r.getOrdinalMeta(),i=!0):"category"===s?(t.layout="vertical",n=o.getOrdinalMeta(),i=!0):t.layout=t.layout||"horizontal";var l=["x","y"],u="horizontal"===t.layout?0:1,c=this._baseAxisDim=l[u],h=l[1-u],d=[r,o],f=d[u].get("type"),p=d[1-u].get("type"),g=t.data;if(g&&i){var m=[];v.each(g,function(t,e){var n;v.isArray(t)?(n=t.slice(),t.unshift(e)):v.isArray(t.value)?((n=v.extend({},t)).value=n.value.slice(),t.value.unshift(e)):n=t,m.push(n)}),t.data=m}var y=this.defaultValueDimensions,b=[{name:c,type:jm(f),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:jm(p),dimsDef:y.slice()}];return IS(this,{coordDimensions:b,dimensionsCount:y.length+1,encodeDefaulter:v.curry(Rh,b,this)})},t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},t}(),oA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return p(e,t),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(up);Object(v.mixin)(oA,rA,!0);var aA=oA,sA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this.group,o=this._data;this._data||r.removeAll();var a="horizontal"===t.get("layout")?1:0;i.diff(o).add(function(t){if(i.hasValue(t)){var e=cA(i.getItemLayout(t),i,t,a,!0);i.setItemGraphicEl(t,e),r.add(e)}}).update(function(t,e){var n=o.getItemGraphicEl(e);if(i.hasValue(t)){var s=i.getItemLayout(t);n?(nu(n),hA(s,n,i,t)):n=cA(s,i,t,a),r.add(n),i.setItemGraphicEl(t,n)}else r.remove(n)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&r.remove(e)}).execute(),this._data=i},e.prototype.remove=function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(t){t&&e.remove(t)})},e.type="boxplot",e}(wp),lA=function(){return function(){}}(),uA=function(t){function e(e){var n=t.call(this,e)||this;return n.type="boxplotBoxPath",n}return p(e,t),e.prototype.getDefaultShape=function(){return new lA},e.prototype.buildPath=function(t,e){var n=e.points,i=0;for(t.moveTo(n[i][0],n[i][1]),i++;i<4;i++)t.lineTo(n[i][0],n[i][1]);for(t.closePath();i<n.length;i++)t.moveTo(n[i][0],n[i][1]),i++,t.lineTo(n[i][0],n[i][1])},e}(Uo);function cA(t,e,n,i,r){var o=t.ends,a=new uA({shape:{points:r?function(t,e,n){return v.map(t,function(t){return(t=t.slice())[e]=n.initBaseline,t})}(o,i,t):o}});return hA(t,a,e,n,r),a}function hA(t,e,n,i,r){var o=n.hostModel;(0,a[r?"initProps":"updateProps"])(e,{shape:{points:t.ends}},o,i),e.useStyle(n.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=n.getItemModel(i),l=s.getModel("emphasis");ws(e,s),ms(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}var dA=sA;function fA(t,e){}var pA=v.each;function gA(t){var e=function(t){var e=[],n=[];return t.eachSeriesByType("boxplot",function(t){var i=t.getBaseAxis(),r=v.indexOf(n,i);r<0&&(r=n.length,n[r]=i,e[r]={axis:i,seriesModels:[]}),e[r].seriesModels.push(t)}),e}(t);pA(e,function(t){var e=t.seriesModels;e.length&&(!function(t){var e,n=t.axis,i=t.seriesModels,r=i.length,o=t.boxWidthList=[],a=t.boxOffsetList=[],s=[];if("category"===n.type)e=n.getBandWidth();else{var l=0;pA(i,function(t){l=Math.max(l,t.getData().count())});var u=n.getExtent();e=Math.abs(u[1]-u[0])/l}pA(i,function(t){var n=t.get("boxWidth");v.isArray(n)||(n=[n,n]),s.push([hi(n[0],e)||0,hi(n[1],e)||0])});var c=.8*e-2,h=c/r*.3,d=(c-h*(r-1))/r,f=d/2-c/2;pA(i,function(t,e){a.push(f),f+=h+d,o.push(Math.min(Math.max(d,s[e][0]),s[e][1]))})}(t),pA(e,function(e,n){!function(t,e,n){var i=t.coordinateSystem,r=t.getData(),o=n/2,a="horizontal"===t.get("layout")?0:1,s=1-a,l=["x","y"],u=r.mapDimension(l[a]),c=r.mapDimensionsAll(l[s]);if(null==u||c.length<5)return;for(var h=0;h<r.count();h++){var d=r.get(u,h),f=b(d,c[2],h),p=b(d,c[0],h),g=b(d,c[1],h),v=b(d,c[3],h),m=b(d,c[4],h),y=[];x(y,g,!1),x(y,v,!0),y.push(p,g,m,v),w(y,p),w(y,m),w(y,f),r.setItemLayout(h,{initBaseline:f[s],ends:y})}function b(t,n,o){var l,u=r.get(n,o),c=[];return c[a]=t,c[s]=u,isNaN(t)||isNaN(u)?l=[NaN,NaN]:(l=i.dataToPoint(c))[a]+=e,l}function x(t,e,n){var i=e.slice(),r=e.slice();i[a]+=o,r[a]-=o,n?t.push(i,r):t.push(r,i)}function w(t,e){var n=e.slice(),i=e.slice();n[a]-=o,i[a]+=o,t.push(n,i)}}(e,t.boxOffsetList[n],t.boxWidthList[n])}))})}var vA={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==Th){var n="";0,Di(n)}var i=function(t,e){for(var n=[],i=[],r=(e=e||{}).boundIQR,o="none"===r||0===r,a=0;a<t.length;a++){var s=fi(t[a].slice()),l=ki(s,.25),u=ki(s,.5),c=ki(s,.75),h=s[0],d=s[s.length-1],f=(null==r?1.5:r)*(c-l),p=o?h:Math.max(h,l-f),g=o?d:Math.min(d,c+f),m=e.itemNameFormatter,y=Object(v.isFunction)(m)?m({value:a}):Object(v.isString)(m)?m.replace("{value}",a+""):a+"";n.push([y,p,l,u,c,g]);for(var b=0;b<s.length;b++){var x=s[b];if(x<p||x>g){var w=[y,x];i.push(w)}}}return{boxData:n,outliers:i}}(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};var mA=["color","borderColor"],yA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,e,n){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,e,n,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},e.prototype.eachRendered=function(t){Nu(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t){var e=t.getData(),n=this._data,i=this.group,r=e.getLayout("isSimpleBox"),o=t.get("clip",!0),a=t.coordinateSystem,s=a.getArea&&a.getArea();this._data||i.removeAll(),e.diff(n).add(function(n){if(e.hasValue(n)){var a=e.getItemLayout(n);if(o&&_A(s,a))return;var l=wA(a,n,!0);Xl(l,{shape:{points:a.ends}},t,n),SA(l,e,n,r),i.add(l),e.setItemGraphicEl(n,l)}}).update(function(a,l){var u=n.getItemGraphicEl(l);if(e.hasValue(a)){var c=e.getItemLayout(a);o&&_A(s,c)?i.remove(u):(u?($l(u,{shape:{points:c.ends}},t,a),nu(u)):u=wA(c,a),SA(u,e,a,r),i.add(u),e.setItemGraphicEl(a,u))}else i.remove(u)}).remove(function(t){var e=n.getItemGraphicEl(t);e&&i.remove(e)}).execute(),this._data=e},e.prototype._renderLarge=function(t){this._clear(),IA(t,this.group);var e=t.get("clip",!0)?S_(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,e){for(var n,i=e.getData(),r=i.getLayout("isSimpleBox");null!=(n=t.next());){var o=wA(i.getItemLayout(n),n);SA(o,i,n,r),o.incremental=!0,this.group.add(o),this._progressiveEls.push(o)}},e.prototype._incrementalRenderLarge=function(t,e){IA(e,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(wp),bA=function(){return function(){}}(),xA=function(t){function e(e){var n=t.call(this,e)||this;return n.type="normalCandlestickBox",n}return p(e,t),e.prototype.getDefaultShape=function(){return new bA},e.prototype.buildPath=function(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))},e}(Uo);function wA(t,e,n){var i=t.ends;return new xA({shape:{points:n?function(t,e){return v.map(t,function(t){return(t=t.slice())[1]=e.initBaseline,t})}(i,t):i},z2:100})}function _A(t,e){for(var n=!0,i=0;i<e.ends.length;i++)if(t.contain(e.ends[i][0],e.ends[i][1])){n=!1;break}return n}function SA(t,e,n,i){var r=e.getItemModel(n);t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.__simpleBox=i,ws(t,r)}var MA=function(){return function(){}}(),CA=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeCandlestickBox",n}return p(e,t),e.prototype.getDefaultShape=function(){return new MA},e.prototype.buildPath=function(t,e){for(var n=e.points,i=0;i<n.length;)if(this.__sign===n[i++]){var r=n[i++];t.moveTo(r,n[i++]),t.lineTo(r,n[i++])}else i+=3},e}(Uo);function IA(t,e,n,i){var r=t.getData(),o=r.getLayout("largePoints"),a=new CA({shape:{points:o},__sign:1});e.add(a);var s=new CA({shape:{points:o},__sign:-1});e.add(s),kA(1,a,t,r),kA(-1,s,t,r),i&&(a.incremental=!0,s.incremental=!0),n&&n.push(a,s)}function kA(t,e,n,i){var r=n.get(["itemStyle",t>0?"borderColor":"borderColor0"])||n.get(["itemStyle",t>0?"color":"color0"]),o=n.getModel("itemStyle").getItemStyle(mA);e.useStyle(o),e.style.fill=null,e.style.stroke=r}var TA=yA,OA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return p(e,t),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,e,n){var i=e.getItemLayout(t);return i&&n.rect(i.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(up);Object(v.mixin)(OA,rA,!0);var EA=OA;function AA(t){t&&v.isArray(t.series)&&v.each(t.series,function(t){v.isObject(t)&&"k"===t.type&&(t.type="candlestick")})}var NA=["itemStyle","borderColor"],LA=["itemStyle","borderColor0"],DA=["itemStyle","color"],jA=["itemStyle","color0"],PA={seriesType:"candlestick",plan:dp(),performRawSeries:!0,reset:function(t,e){function n(t,e){return e.get(t>0?DA:jA)}function i(t,e){return e.get(t>0?NA:LA)}if(!e.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(t,e){for(var r;null!=(r=t.next());){var o=e.getItemModel(r),a=e.getItemLayout(r).sign,s=o.getItemStyle();s.fill=n(a,o),s.stroke=i(a,o)||s.fill;var l=e.ensureUniqueItemVisual(r,"style");Object(v.extend)(l,s)}}}}};function RA(t,e,n,i,r){return n>i?-1:n<i?1:e>0?t.get(r,e-1)<=i?1:-1:1}var zA={seriesType:"candlestick",plan:dp(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),i=function(t,e){var n,i=t.getBaseAxis(),r="category"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/e.count()),o=hi(Object(v.retrieve2)(t.get("barMaxWidth"),r),r),a=hi(Object(v.retrieve2)(t.get("barMinWidth"),1),r),s=t.get("barWidth");return null!=s?hi(s,r):Math.max(Math.min(r/2,o),a)}(t,n),r=0,o=1,a=["x","y"],s=n.getDimensionIndex(n.mapDimension(a[r])),l=Object(v.map)(n.mapDimensionsAll(a[o]),n.getDimensionIndex,n),u=l[0],c=l[1],h=l[2],d=l[3];if(n.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(s<0||l.length<4))return{progress:t.pipelineContext.large?function(t,n){var i,a,l=Ly(4*t.count),f=0,p=[],g=[],v=n.getStore();for(;null!=(a=t.next());){var m=v.get(s,a),y=v.get(u,a),b=v.get(c,a),x=v.get(h,a),w=v.get(d,a);isNaN(m)||isNaN(x)||isNaN(w)?(l[f++]=NaN,f+=3):(l[f++]=RA(v,a,y,b,c),p[r]=m,p[o]=x,i=e.dataToPoint(p,null,g),l[f++]=i?i[0]:NaN,l[f++]=i?i[1]:NaN,p[o]=w,i=e.dataToPoint(p,null,g),l[f++]=i?i[1]:NaN)}n.setLayout("largePoints",l)}:function(t,n){var a,l=n.getStore();for(;null!=(a=t.next());){var f=l.get(s,a),p=l.get(u,a),g=l.get(c,a),v=l.get(h,a),m=l.get(d,a),y=Math.min(p,g),b=Math.max(p,g),x=C(y,f),w=C(b,f),_=C(v,f),S=C(m,f),M=[];I(M,w,0),I(M,x,1),M.push(T(S),T(w),T(_),T(x)),n.setItemLayout(a,{sign:RA(l,a,p,g,c),initBaseline:p>g?w[o]:x[o],ends:M,brushRect:k(v,m,f)})}function C(t,n){var i=[];return i[r]=n,i[o]=t,isNaN(n)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i)}function I(t,e,n){var o=e.slice(),a=e.slice();o[r]=yu(o[r]+i/2,1,!1),a[r]=yu(a[r]-i/2,1,!0),n?t.push(o,a):t.push(a,o)}function k(t,e,n){var a=C(t,n),s=C(e,n);return a[r]-=i/2,s[r]-=i/2,{x:a[0],y:a[1],width:o?i:s[0]-a[0],height:o?s[1]-a[1]:i}}function T(t){return t[r]=yu(t[r],1),t}}}}};function BA(t,e){var n=e.rippleEffectColor||e.color;t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?n:null,fill:"fill"===e.brushType?n:null}})})}var FA=function(t){function e(e,n){var i=t.call(this)||this,r=new a_(e,n),o=new Kn;return i.add(r),i.add(o),i.updateData(e,n),i}return p(e,t),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,i=t.rippleNumber,r=this.childAt(1),o=0;o<i;o++){var a=kg(e,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-o/i*t.period+t.effectOffset;a.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(s).start(),a.animateStyle(!0).when(t.period,{opacity:0}).delay(s).start(),r.add(a)}BA(r,t)},e.prototype.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],r=0;r<i.length;r++){var o=i[r];if(e[o]!==t[o])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}BA(n,t)},e.prototype.highlight=function(){rs(this)},e.prototype.downplay=function(){os(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,e){var n=this,i=t.hostModel;this.childAt(0).updateData(t,e);var r=this.childAt(1),o=t.getItemModel(e),a=t.getItemVisual(e,"symbol"),s=Tg(t.getItemVisual(e,"symbolSize")),l=t.getItemVisual(e,"style"),u=l&&l.fill,c=o.getModel("emphasis");r.setScale(s),r.traverse(function(t){t.setStyle("fill",u)});var h=Og(t.getItemVisual(e,"symbolOffset"),s);h&&(r.x=h[0],r.y=h[1]);var d=t.getItemVisual(e,"symbolRotate");r.rotation=(d||0)*Math.PI/180||0;var f={};f.showEffectOn=i.get("showEffectOn"),f.rippleScale=o.get(["rippleEffect","scale"]),f.brushType=o.get(["rippleEffect","brushType"]),f.period=1e3*o.get(["rippleEffect","period"]),f.effectOffset=e/t.count(),f.z=i.getShallow("z")||0,f.zlevel=i.getShallow("zlevel")||0,f.symbolType=a,f.color=u,f.rippleEffectColor=o.get(["rippleEffect","color"]),f.rippleNumber=o.get(["rippleEffect","number"]),"render"===f.showEffectOn?(this._effectCfg?this.updateEffectAnimation(f):this.startEffectAnimation(f),this._effectCfg=f):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(t){"emphasis"===t?"render"!==f.showEffectOn&&n.startEffectAnimation(f):"normal"===t&&"render"!==f.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=f,ms(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(Kn),GA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.init=function(){this._symbolDraw=new c_(FA)},e.prototype.render=function(t,e,n){var i=t.getData(),r=this._symbolDraw;r.updateData(i,{clipShape:this._getClipShape(t)}),this.group.add(r.group)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get("clip",!0)?n:null},e.prototype.updateTransform=function(t,e,n){var i=t.getData();this.group.dirty();var r=P_("").reset(t,e,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=cn(e.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(wp),VA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return p(e,t),e.prototype.getInitialData=function(t,e){return dy(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(up);var WA=function(t){function e(e,n,i){var r=t.call(this)||this;return r.add(r.createLine(e,n,i)),r._updateEffectSymbol(e,n),r}return p(e,t),e.prototype.createLine=function(t,e,n){return new ET(t,e,n)},e.prototype._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel("effect"),i=n.get("symbolSize"),r=n.get("symbol");v.isArray(i)||(i=[i,i]);var o=t.getItemVisual(e,"style"),a=n.get("color")||o&&o.stroke,s=this.childAt(1);this._symbolType!==r&&(this.remove(s),(s=kg(r,-.5,-.5,1,1,a)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",a),s.setStyle(n.getItemStyle(["color"])),s.scaleX=i[0],s.scaleY=i[1],s.setColor(a),this._symbolType=r,this._symbolScale=i,this._updateEffectAnimation(t,n,e))},e.prototype._updateEffectAnimation=function(t,e,n){var i=this.childAt(1);if(i){var r=this,o=t.getItemLayout(n),a=1e3*e.get("period"),s=e.get("loop"),l=e.get("constantSpeed"),u=v.retrieve(e.get("delay"),function(e){return e/t.count()*a/3});if(i.ignore=!0,this._updateAnimationPoints(i,o),l>0&&(a=this._getLineLength(i)/l*1e3),(a!==this._period||s!==this._loop)&&(i.stopAnimation(),a>0)){var c=void 0;c=v.isFunction(u)?u(n):u,i.__t>0&&(c=-a*i.__t),i.__t=0;var h=i.animate("",s).when(a,{__t:1}).delay(c).during(function(){r._updateSymbolPosition(i)});s||h.done(function(){r.remove(i)}),h.start()}this._period=a,this._loop=s}},e.prototype._getLineLength=function(t){return P(t.__p1,t.__cp1)+P(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},e.prototype.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},e.prototype._updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,i=t.__cp1,r=t.__t,o=[t.x,t.y],a=o.slice(),s=ie,l=re;o[0]=s(e[0],i[0],n[0],r),o[1]=s(e[1],i[1],n[1],r);var u=l(e[0],i[0],n[0],r),c=l(e[1],i[1],n[1],r);t.rotation=-Math.atan2(c,u)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*P(a,o),1===r&&(o[0]=a[0]+(o[0]-a[0])/2,o[1]=a[1]+(o[1]-a[1])/2)):1===t.__lastT?t.scaleY=2*P(e,o):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=o[0],t.y=o[1]},e.prototype.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},e}(Kn),HA=function(t){function e(e,n,i){var r=t.call(this)||this;return r._createPolyline(e,n,i),r}return p(e,t),e.prototype._createPolyline=function(t,e,n){var i=t.getItemLayout(e),r=new Sl({shape:{points:i}});this.add(r),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var i=t.hostModel;$l(this.childAt(0),{shape:{points:t.getItemLayout(e)}},i,e),this._updateCommonStl(t,e,n)},e.prototype._updateCommonStl=function(t,e,n){var i=this.childAt(0),r=t.getItemModel(e),o=n&&n.emphasisLineStyle,a=n&&n.focus,s=n&&n.blurScope,l=n&&n.emphasisDisabled;if(!n||t.hasItemOption){var u=r.getModel("emphasis");o=u.getModel("lineStyle").getLineStyle(),l=u.get("disabled"),a=u.get("focus"),s=u.get("blurScope")}i.useStyle(t.getItemVisual(e,"style")),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=o,ms(this,a,s,l)},e.prototype.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},e}(Kn),UA=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return p(e,t),e.prototype.createLine=function(t,e,n){return new HA(t,e,n)},e.prototype._updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],i=0,r=1;r<e.length;r++){var o=e[r-1],a=e[r];i+=P(o,a),n.push(i)}if(0!==i){for(r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var e=t.__t,n=this._points,i=this._offsets,r=n.length;if(i){var o,a=this._lastFrame;if(e<this._lastFramePercent){for(o=Math.min(a+1,r-1);o>=0&&!(i[o]<=e);o--);o=Math.min(o,r-2)}else{for(o=a;o<r&&!(i[o]>e);o++);o=Math.min(o-1,r-2)}var s=(e-i[o])/(i[o+1]-i[o]),l=n[o],u=n[o+1];t.x=l[0]*(1-s)+s*u[0],t.y=l[1]*(1-s)+s*u[1];var c=u[0]-l[0],h=u[1]-l[1];t.rotation=-Math.atan2(h,c)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=e,t.ignore=!1}},e}(WA),YA=function(){return function(){this.polyline=!1,this.curveness=0,this.segs=[]}}(),JA=function(t){function e(e){var n=t.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return p(e,t),e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new YA},e.prototype.buildPath=function(t,e){var n,i=e.segs,r=e.curveness;if(e.polyline)for(n=this._off;n<i.length;){var o=i[n++];if(o>0){t.moveTo(i[n++],i[n++]);for(var a=1;a<o;a++)t.lineTo(i[n++],i[n++])}}else for(n=this._off;n<i.length;){var s=i[n++],l=i[n++],u=i[n++],c=i[n++];if(t.moveTo(s,l),r>0){var h=(s+u)/2-(l-c)*r,d=(l+c)/2-(u-s)*r;t.quadraticCurveTo(h,d,u,c)}else t.lineTo(u,c)}this.incremental&&(this._off=n,this.notClear=!0)},e.prototype.findDataIndex=function(t,e){var n=this.shape,i=n.segs,r=n.curveness,o=this.style.lineWidth;if(n.polyline)for(var a=0,s=0;s<i.length;){var l=i[s++];if(l>0)for(var u=i[s++],c=i[s++],h=1;h<l;h++){if(Co(u,c,d=i[s++],f=i[s++],o,t,e))return a}a++}else for(a=0,s=0;s<i.length;){u=i[s++],c=i[s++];var d=i[s++],f=i[s++];if(r>0){if(ko(u,c,(u+d)/2-(c-f)*r,(c+f)/2-(d-u)*r,d,f,o,t,e))return a}else if(Co(u,c,d,f,o,t,e))return a;a++}return-1},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();return t=n[0],e=n[1],i.contain(t,e)?(this.hoverDataIdx=this.findDataIndex(t,e))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape.segs,n=1/0,i=1/0,r=-1/0,o=-1/0,a=0;a<e.length;){var s=e[a++],l=e[a++];n=Math.min(s,n),r=Math.max(s,r),i=Math.min(l,i),o=Math.max(l,o)}t=this._rect=new En(n,i,r,o)}return t},e}(Uo),QA=function(){function t(){this.group=new Kn}return t.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],i=e.getLayout("linesPoints"),r=n&&n.shape.segs;if(r&&r.length<2e4){var o=r.length,a=new Float32Array(o+i.length);a.set(r),a.set(i,o),n.setShape({segs:a})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:i}),this._setCommon(s,e),s.__startIndex=t.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new JA({cursor:"default"});return this._newAdded.push(t),this.group.add(t),t},t.prototype._setCommon=function(t,e,n){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var r=e.getVisual("style");r&&r.stroke&&t.setStyle("stroke",r.stroke),t.setStyle("fill",null);var o=Sa(t);o.seriesIndex=i.seriesIndex,t.on("mousemove",function(e){o.dataIndex=null;var n=t.hoverDataIdx;n>0&&(o.dataIndex=n+t.__startIndex)})},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),ZA={seriesType:"lines",plan:dp(),reset:function(t){var e=t.coordinateSystem;if(e){var n=t.get("polyline"),i=t.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var s=void 0,l=r.end-r.start;if(n){for(var u=0,c=r.start;c<r.end;c++)u+=t.getLineCoordsCount(c);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var h=0,d=[];for(c=r.start;c<r.end;c++){var f=t.getLineCoords(c,a);n&&(s[h++]=f);for(var p=0;p<f;p++)d=e.dataToPoint(a[p],!1,d),s[h++]=d[0],s[h++]=d[1]}o.setLayout("linesPoints",s)}else for(c=r.start;c<r.end;c++){var g=o.getItemModel(c),v=(f=t.getLineCoords(c,a),[]);if(n)for(var m=0;m<f;m++)v.push(e.dataToPoint(a[m]));else{v[0]=e.dataToPoint(a[0]),v[1]=e.dataToPoint(a[1]);var y=g.get(["lineStyle","curveness"]);+y&&(v[2]=[(v[0][0]+v[1][0])/2-(v[0][1]-v[1][1])*y,(v[0][1]+v[1][1])/2-(v[1][0]-v[0][0])*y])}o.setItemLayout(c,v)}}}}}},$A=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this._updateLineDraw(i,t),o=t.get("zlevel"),a=t.get(["effect","trailLength"]),s=n.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a>0&&(l||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),r.updateData(i);var u=t.get("clip",!0)&&S_(t.coordinateSystem,!1,t);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var i=t.getData();this._updateLineDraw(i,t).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,e,n){var i=t.getData(),r=t.pipelineContext;if(!this._finished||r.large||r.progressiveRender)return{update:!0};var o=ZA.reset(t,e,n);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},e.prototype._updateLineDraw=function(t,e){var n=this._lineDraw,i=this._showEffect(e),r=!!e.get("polyline"),o=e.pipelineContext.large;return n&&i===this._hasEffet&&r===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new QA:new DT(r?i?UA:HA:i?WA:ET),this._hasEffet=i,this._isPolyline=r,this._isLargeDraw=o),this.group.add(n.group),n},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.type="lines",e}(wp),XA="undefined"==typeof Uint32Array?Array:Uint32Array,KA="undefined"==typeof Float64Array?Array:Float64Array;function qA(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=Object(v.map)(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),Object(v.mergeAll)([e,t[0],t[1]])}))}var tN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return p(e,t),e.prototype.init=function(e){e.data=e.data||[],qA(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(e){if(qA(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=Object(v.concatArray)(this._flatCoords,e.flatCoords),this._flatCoordsOffset=Object(v.concatArray)(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t),n=e.option instanceof Array?e.option:e.getShallow("coords");return n},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],i=this._flatCoordsOffset[2*t+1],r=0;r<i;r++)e[r]=e[r]||[],e[r][0]=this._flatCoords[n+2*r],e[r][1]=this._flatCoords[n+2*r+1];return i}var o=this._getCoordsFromItemModel(t);for(r=0;r<o.length;r++)e[r]=e[r]||[],e[r][0]=o[r][0],e[r][1]=o[r][1];return o.length},e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),Object(v.isNumber)(t[0])){for(var n=t.length,i=new XA(n),r=new KA(n),o=0,a=0,s=0,l=0;l<n;){s++;var u=t[l++];i[a++]=o+e,i[a++]=u;for(var c=0;c<u;c++){var h=t[l++],d=t[l++];r[o++]=h,r[o++]=d}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,a),flatCoords:r,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,e){var n=new ny(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],function(t,e,i,r){if(t instanceof Array)return NaN;n.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[r]:o:void 0}),n},e.prototype.formatTooltip=function(t,e,n){var i=this.getData().getItemModel(t),r=i.get("name");if(r)return r;var o=i.get("fromName"),a=i.get("toName"),s=[];return null!=o&&s.push(o),null!=a&&s.push(a),Ff("nameValue",{name:s.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),e=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&e>0?e+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(up);function eN(t){return t instanceof Array||(t=[t,t]),t}var nN={seriesType:"lines",reset:function(t){var e=eN(t.get("symbol")),n=eN(t.get("symbolSize")),i=t.getData();return i.setVisual("fromSymbol",e&&e[0]),i.setVisual("toSymbol",e&&e[1]),i.setVisual("fromSymbolSize",n&&n[0]),i.setVisual("toSymbolSize",n&&n[1]),{dataEach:i.hasItemOption?function(t,e){var n=t.getItemModel(e),i=eN(n.getShallow("symbol",!0)),r=eN(n.getShallow("symbolSize",!0));i[0]&&t.setItemVisual(e,"fromSymbol",i[0]),i[1]&&t.setItemVisual(e,"toSymbol",i[1]),r[0]&&t.setItemVisual(e,"fromSymbolSize",r[0]),r[1]&&t.setItemVisual(e,"toSymbolSize",r[1])}:null}}};var iN=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Nn.d.createCanvas();this.canvas=t}return t.prototype.update=function(t,e,n,i,r,o){var a=this._getBrush(),s=this._getGradient(r,"inRange"),l=this._getGradient(r,"outOfRange"),u=this.pointSize+this.blurSize,c=this.canvas,h=c.getContext("2d"),d=t.length;c.width=e,c.height=n;for(var f=0;f<d;++f){var p=t[f],g=p[0],v=p[1],m=i(p[2]);h.globalAlpha=m,h.drawImage(a,g-u,v-u)}if(!c.width||!c.height)return c;for(var y=h.getImageData(0,0,c.width,c.height),b=y.data,x=0,w=b.length,_=this.minOpacity,S=this.maxOpacity-_;x<w;){m=b[x+3]/256;var M=4*Math.floor(255*m);if(m>0){var C=o(m)?s:l;m>0&&(m=m*S+_),b[x++]=C[M],b[x++]=C[M+1],b[x++]=C[M+2],b[x++]=C[M+3]*m*256}else x+=4}return h.putImageData(y,0,0),c},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Nn.d.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},t.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,i=n[e]||(n[e]=new Uint8ClampedArray(1024)),r=[0,0,0,0],o=0,a=0;a<256;a++)t[e](a/255,!0,r),i[o++]=r[0],i[o++]=r[1],i[o++]=r[2],i[o++]=r[3];return i},t}();function rN(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var oN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n){var i;e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(n){n===t&&(i=e)})}),this._progressiveEls=null,this.group.removeAll();var r=t.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):rN(r)&&this._renderOnGeo(r,t,i,n)},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll()},e.prototype.incrementalRender=function(t,e,n,i){var r=e.coordinateSystem;r&&(rN(r)?this.render(e,n,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(e,i,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Nu(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,e,n,i,r){var o,a,s,l,u=t.coordinateSystem;if(M_(u,"cartesian2d")){var c=u.getAxis("x"),h=u.getAxis("y");0,o=c.getBandWidth(),a=h.getBandWidth(),s=c.scale.getExtent(),l=h.scale.getExtent()}for(var d=this.group,f=t.getData(),p=t.getModel(["emphasis","itemStyle"]).getItemStyle(),g=t.getModel(["blur","itemStyle"]).getItemStyle(),v=t.getModel(["select","itemStyle"]).getItemStyle(),m=Ru(t),y=t.getModel("emphasis"),b=y.get("focus"),x=y.get("blurScope"),w=y.get("disabled"),_=M_(u,"cartesian2d")?[f.mapDimension("x"),f.mapDimension("y"),f.mapDimension("value")]:[f.mapDimension("time"),f.mapDimension("value")],S=n;S<i;S++){var M=void 0,C=f.getItemVisual(S,"style");if(M_(u,"cartesian2d")){var I=f.get(_[0],S),k=f.get(_[1],S);if(isNaN(f.get(_[2],S))||I<s[0]||I>s[1]||k<l[0]||k>l[1])continue;var T=u.dataToPoint([I,k]);M=new aa({shape:{x:Math.floor(Math.round(T[0])-o/2),y:Math.floor(Math.round(T[1])-a/2),width:Math.ceil(o),height:Math.ceil(a)},style:C})}else{if(isNaN(f.get(_[1],S)))continue;M=new aa({z2:1,shape:u.dataToRect([f.get(_[0],S)]).contentShape,style:C})}var O=f.getItemModel(S);if(f.hasItemOption){var E=O.getModel("emphasis");p=E.getModel("itemStyle").getItemStyle(),g=O.getModel(["blur","itemStyle"]).getItemStyle(),v=O.getModel(["select","itemStyle"]).getItemStyle(),b=E.get("focus"),x=E.get("blurScope"),w=E.get("disabled"),m=Ru(O)}var A=t.getRawValue(S),N="-";A&&null!=A[2]&&(N=A[2]+""),Pu(M,m,{labelFetcher:t,labelDataIndex:S,defaultOpacity:C.opacity,defaultText:N}),M.ensureState("emphasis").style=p,M.ensureState("blur").style=g,M.ensureState("select").style=v,ms(M,b,x,w),M.incremental=r,r&&(M.states.emphasis.hoverLayer=!0),d.add(M),f.setItemGraphicEl(S,M),this._progressiveEls&&this._progressiveEls.push(M)}},e.prototype._renderOnGeo=function(t,e,n,i){var r=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,a=e.getData(),s=this._hmLayer||this._hmLayer||new iN;s.blurSize=e.get("blurSize"),s.pointSize=e.get("pointSize"),s.minOpacity=e.get("minOpacity"),s.maxOpacity=e.get("maxOpacity");var l=t.getViewRect().clone(),u=t.getRoamTransform();l.applyTransform(u);var c=Math.max(l.x,0),h=Math.max(l.y,0),d=Math.min(l.width+l.x,i.getWidth()),f=Math.min(l.height+l.y,i.getHeight()),p=d-c,g=f-h,m=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],y=a.mapArray(m,function(e,n,i){var r=t.dataToPoint([e,n]);return r[0]-=c,r[1]-=h,r.push(i),r}),b=n.getExtent(),x="visualMap.continuous"===n.type?function(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}(b,n.option.range):function(t,e,n){var i=t[1]-t[0],r=(e=v.map(e,function(e){return{interval:[(e.interval[0]-t[0])/i,(e.interval[1]-t[0])/i]}})).length,o=0;return function(t){var i;for(i=o;i<r;i++)if((a=e[i].interval)[0]<=t&&t<=a[1]){o=i;break}if(i===r)for(i=o-1;i>=0;i--){var a;if((a=e[i].interval)[0]<=t&&t<=a[1]){o=i;break}}return i>=0&&i<r&&n[i]}}(b,n.getPieceList(),n.option.selected);s.update(y,p,g,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:o.color.getColorMapper()},x);var w=new Ko({style:{width:p,height:g,x:c,y:h,image:s.canvas},silent:!0});this.group.add(w)},e.type="heatmap",e}(wp),aN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.getInitialData=function(t,e){return dy(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=od.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(up);var sN=["itemStyle","borderWidth"],lN=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],uN=new Qs;function cN(t,e,n,i){var r=t.getItemLayout(e),o=n.get("symbolRepeat"),a=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=(n.get("symbolRotate")||0)*Math.PI/180||0,u=n.get("symbolPatternSize")||2,c=n.isAnimationEnabled(),h={dataIndex:e,layout:r,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:l,animationModel:c?n:null,hoverScale:c&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};!function(t,e,n,i,r){var o,a=i.valueDim,s=t.get("symbolBoundingData"),l=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),c=1-+(n[a.wh]<=0);if(v.isArray(s)){var h=[hN(l,s[0])-u,hN(l,s[1])-u];h[1]<h[0]&&h.reverse(),o=h[c]}else o=null!=s?hN(l,s)-u:e?i.coordSysExtent[a.index][c]-u:n[a.wh];r.boundingLength=o,e&&(r.repeatCutLength=n[a.wh]);r.pxSign=o>0?1:-1}(n,o,r,i,h),function(t,e,n,i,r,o,a,s,l,u){var c,h=l.valueDim,d=l.categoryDim,f=Math.abs(n[d.wh]),p=t.getItemVisual(e,"symbolSize");c=v.isArray(p)?p.slice():null==p?["100%","100%"]:[p,p];c[d.index]=hi(c[d.index],f),c[h.index]=hi(c[h.index],i?f:Math.abs(o)),u.symbolSize=c,(u.symbolScale=[c[0]/s,c[1]/s])[h.index]*=(l.isHorizontal?-1:1)*a}(t,e,r,o,0,h.boundingLength,h.pxSign,u,i,h),function(t,e,n,i,r){var o=t.get(sN)||0;o&&(uN.attr({scaleX:e[0],scaleY:e[1],rotation:n}),uN.updateTransform(),o/=uN.getLineScale(),o*=e[i.valueDim.index]);r.valueLineWidth=o}(n,h.symbolScale,l,i,h);var d=h.symbolSize;return function(t,e,n,i,r,o,a,s,l,u,c,h){var d=c.categoryDim,f=c.valueDim,p=h.pxSign,g=Math.max(e[f.index]+s,0),m=g;if(i){var y=Math.abs(l),b=v.retrieve(t.get("symbolMargin"),"15%")+"",x=!1;b.lastIndexOf("!")===b.length-1&&(x=!0,b=b.slice(0,b.length-1));var w=hi(b,e[f.index]),_=Math.max(g+2*w,0),S=x?0:2*w,M=Ei(i),C=M?i:IN((y+S)/_),I=y-C*g;w=I/2/(x?C:Math.max(C-1,1)),_=g+2*w,S=x?0:2*w,M||"fixed"===i||(C=u?IN((Math.abs(u)+S)/_):0),m=C*_-S,h.repeatTimes=C,h.symbolMargin=w}var k=p*(m/2),T=h.pathPosition=[];T[d.index]=n[d.wh]/2,T[f.index]="start"===a?k:"end"===a?l-k:l/2,o&&(T[0]+=o[0],T[1]+=o[1]);var O=h.bundlePosition=[];O[d.index]=n[d.xy],O[f.index]=n[f.xy];var E=h.barRectShape=v.extend({},n);E[f.wh]=p*Math.max(Math.abs(n[f.wh]),Math.abs(T[f.index]+k)),E[d.wh]=n[d.wh];var A=h.clipShape={};A[d.xy]=-n[d.xy],A[d.wh]=c.ecSize[d.wh],A[f.xy]=0,A[f.wh]=n[f.wh]}(n,d,r,o,0,Og(n.get("symbolOffset"),d),s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,i,h),h}function hN(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function dN(t){var e=t.symbolPatternSize,n=kg(t.symbolType,-e/2,-e/2,e,e);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function fN(t,e,n,i){var r=t.__pictorialBundle,o=n.symbolSize,a=n.valueLineWidth,s=n.pathPosition,l=e.valueDim,u=n.repeatTimes||0,c=0,h=o[e.valueDim.index]+a+2*n.symbolMargin;for(SN(t,function(t){t.__pictorialAnimationIndex=c,t.__pictorialRepeatTimes=u,c<u?MN(t,null,p(c),n,i):MN(t,null,{scaleX:0,scaleY:0},n,i,function(){r.remove(t)}),c++});c<u;c++){var d=dN(n);d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=u,r.add(d);var f=p(c);MN(d,{x:f.x,y:f.y,scaleX:0,scaleY:0},{scaleX:f.scaleX,scaleY:f.scaleY,rotation:f.rotation},n,i)}function p(t){var e=s.slice(),i=n.pxSign,r=t;return("start"===n.symbolRepeatDirection?i>0:i<0)&&(r=u-1-t),e[l.index]=h*(r-u/2+.5)+s[l.index],{x:e[0],y:e[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function pN(t,e,n,i){var r=t.__pictorialBundle,o=t.__pictorialMainPath;o?MN(o,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,i):(o=t.__pictorialMainPath=dN(n),r.add(o),MN(o,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,i))}function gN(t,e,n){var i=v.extend({},e.barRectShape),r=t.__pictorialBarRect;r?MN(r,null,{shape:i},e,n):((r=t.__pictorialBarRect=new aa({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,t.add(r))}function vN(t,e,n,i){if(n.symbolClip){var r=t.__pictorialClipPath,o=v.extend({},n.clipShape),s=e.valueDim,l=n.animationModel,u=n.dataIndex;if(r)$l(r,{shape:o},l,u);else{o[s.wh]=0,r=new aa({shape:o}),t.__pictorialBundle.setClipPath(r),t.__pictorialClipPath=r;var c={};c[s.wh]=n.clipShape[s.wh],a[i?"updateProps":"initProps"](r,{shape:c},l,u)}}}function mN(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=yN,n.isAnimationEnabled=bN,n}function yN(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function bN(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function xN(t,e,n,i){var r=new Kn,o=new Kn;return r.add(o),r.__pictorialBundle=o,o.x=n.bundlePosition[0],o.y=n.bundlePosition[1],n.symbolRepeat?fN(r,e,n):pN(r,0,n),gN(r,n,i),vN(r,e,n,i),r.__pictorialShapeStr=_N(t,n),r.__pictorialSymbolMeta=n,r}function wN(t,e,n,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];SN(i,function(t){o.push(t)}),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),v.each(o,function(t){ql(t,{scaleX:0,scaleY:0},n,e,function(){i.parent&&i.parent.remove(i)})}),t.setItemGraphicEl(e,null)}function _N(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function SN(t,e,n){v.each(t.__pictorialBundle.children(),function(i){i!==t.__pictorialBarRect&&e.call(n,i)})}function MN(t,e,n,i,r,o){e&&t.attr(e),i.symbolClip&&!r?n&&t.attr(n):n&&a[r?"updateProps":"initProps"](t,n,i.animationModel,i.dataIndex,o)}function CN(t,e,n){var i=n.dataIndex,r=n.itemModel,o=r.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),u=r.getShallow("cursor"),c=o.get("focus"),h=o.get("blurScope"),d=o.get("scale");SN(t,function(t){if(t instanceof Ko){var e=t.style;t.useStyle(v.extend({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},n.style))}else t.useStyle(n.style);var i=t.ensureState("emphasis");i.style=a,d&&(i.scaleX=1.1*t.scaleX,i.scaleY=1.1*t.scaleY),t.ensureState("blur").style=s,t.ensureState("select").style=l,u&&(t.cursor=u),t.z2=n.z2});var f=e.valueDim.posDesc[+(n.boundingLength>0)];Pu(t.__pictorialBarRect,Ru(r),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:i_(e.seriesModel.getData(),i),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:f}),ms(t,c,h,o.get("disabled"))}function IN(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var kN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n){var i=this.group,r=t.getData(),o=this._data,a=t.coordinateSystem,s=a.getBaseAxis().isHorizontal(),l=a.master.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:a,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:lN[+s],categoryDim:lN[1-+s]};return r.diff(o).add(function(t){if(r.hasValue(t)){var e=mN(r,t),n=cN(r,t,e,u),o=xN(r,u,n);r.setItemGraphicEl(t,o),i.add(o),CN(o,u,n)}}).update(function(t,e){var n=o.getItemGraphicEl(e);if(r.hasValue(t)){var a=mN(r,t),s=cN(r,t,a,u),l=_N(r,s);n&&l!==n.__pictorialShapeStr&&(i.remove(n),r.setItemGraphicEl(t,null),n=null),n?function(t,e,n){var i=n.animationModel,r=n.dataIndex;$l(t.__pictorialBundle,{x:n.bundlePosition[0],y:n.bundlePosition[1]},i,r),n.symbolRepeat?fN(t,e,n,!0):pN(t,e,n,!0);gN(t,n,!0),vN(t,e,n,!0)}(n,u,s):n=xN(r,u,s,!0),r.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=s,i.add(n),CN(n,u,s)}else i.remove(n)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&wN(o,t,e.__pictorialSymbolMeta.animationModel,e)}).execute(),this._data=r,this.group},e.prototype.remove=function(t,e){var n=this.group,i=this._data;t.get("animation")?i&&i.eachItemGraphicEl(function(e){wN(i,Sa(e).dataIndex,t,e)}):n.removeAll()},e.type="pictorialBar",e}(wp),TN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return p(e,t),e.prototype.getInitialData=function(e){return e.stack=null,t.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=cc(G_.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(G_);var ON=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._layers=[],n}return p(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this,o=this.group,a=t.getLayerSeries(),s=i.getLayout("layoutInfo"),l=s.rect,u=s.boundaryGap;function c(t){return t.name}o.x=0,o.y=l.y+u[0];var h=[];function d(e,n,s){var l=r._layers;if("remove"!==e){for(var u,c,d=[],f=[],p=a[n].indices,g=0;g<p.length;g++){var v=i.getItemLayout(p[g]),m=v.x,y=v.y0,b=v.y;d.push(m,y),f.push(m,y+b),u=i.getItemVisual(p[g],"style")}var x=i.getItemLayout(p[0]),w=t.getModel("label").get("margin"),_=t.getModel("emphasis");if("add"===e){var S=h[n]=new Kn;c=new x_({shape:{points:d,stackedOnPoints:f,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),S.add(c),o.add(S),t.isAnimationEnabled()&&c.setClipPath(function(t,e,n){var i=new aa({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Xl(i,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,n),i}(c.getBoundingRect(),t,function(){c.removeClipPath()}))}else{S=l[s];c=S.childAt(0),o.add(S),h[n]=S,$l(c,{shape:{points:d,stackedOnPoints:f}},t),nu(c)}Pu(c,Ru(t),{labelDataIndex:p[g-1],defaultText:i.getName(p[g-1]),inheritColor:u.fill},{normal:{verticalAlign:"middle"}}),c.setTextConfig({position:null,local:!0});var M=c.getTextContent();M&&(M.x=x.x-w,M.y=x.y0+x.y/2),c.useStyle(u),i.setItemGraphicEl(n,c),ws(c,t),ms(c,_.get("focus"),_.get("blurScope"),_.get("disabled"))}else o.remove(l[n])}new Nm(this._layersSeries||[],a,c,c).add(Object(v.bind)(d,this,"add")).update(Object(v.bind)(d,this,"update")).remove(Object(v.bind)(d,this,"remove")).execute(),this._layersSeries=a,this._layers=h},e.type="themeRiver",e}(wp),EN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new kS(v.bind(this.getData,this),v.bind(this.getRawData,this))},e.prototype.fixData=function(t){var e=t.length,n={},i=[];rr(t,function(t){return n.hasOwnProperty(t[0]+"")||(n[t[0]+""]=-1),t[2]}).buckets.each(function(t,e){i.push({name:e,dataList:t})});for(var r=i.length,o=0;o<r;++o){for(var a=i[o].name,s=0;s<i[o].dataList.length;++s){var l=i[o].dataList[s][0]+"";n[l]=o}for(var l in n)n.hasOwnProperty(l)&&n[l]!==o&&(n[l]=o,t[e]=[l,0,a],e++)}return t},e.prototype.getInitialData=function(t,e){for(var n=this.getReferringComponents("singleAxis",tr).models[0].get("type"),i=v.filter(t.data,function(t){return void 0!==t[2]}),r=this.fixData(i||[]),o=[],a=this.nameMap=v.createHashMap(),s=0,l=0;l<r.length;++l)o.push(r[l][2]),a.get(r[l][2])||(a.set(r[l][2],s),s++);var u=ry(r,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:jm(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,c=new ny(u,this);return c.initData(r),c},e.prototype.getLayerSeries=function(){for(var t=this.getData(),e=t.count(),n=[],i=0;i<e;++i)n[i]=i;var r=t.mapDimension("single"),o=[];return rr(n,function(e){return t.get("name",e)}).buckets.each(function(e,n){e.sort(function(e,n){return t.get(r,e)-t.get(r,n)}),o.push({name:n,indices:e})}),o},e.prototype.getAxisTooltipData=function(t,e,n){v.isArray(t)||(t=t?[t]:[]);for(var i,r=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,l=0;l<s;++l){for(var u=Number.MAX_VALUE,c=-1,h=o[l].indices.length,d=0;d<h;++d){var f=r.get(t[0],o[l].indices[d]),p=Math.abs(f-e);p<=u&&(i=f,u=p,c=o[l].indices[d])}a.push(c)}return{dataIndices:a,nestestValue:i}},e.prototype.formatTooltip=function(t,e,n){var i=this.getData();return Ff("nameValue",{name:i.getName(t),value:i.get(i.mapDimension("value"),t)})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(up);function AN(t,e){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),n=t.coordinateSystem,i={},r=n.getRect();i.rect=r;var o=t.get("boundaryGap"),a=n.getAxis();(i.boundaryGap=o,"horizontal"===a.orient)?(o[0]=hi(o[0],r.height),o[1]=hi(o[1],r.height),NN(e,t,r.height-o[0]-o[1])):(o[0]=hi(o[0],r.width),o[1]=hi(o[1],r.width),NN(e,t,r.width-o[0]-o[1]));e.setLayout("layoutInfo",i)})}function NN(t,e,n){if(t.count())for(var i,r=e.coordinateSystem,o=e.getLayerSeries(),a=t.mapDimension("single"),s=t.mapDimension("value"),l=v.map(o,function(e){return v.map(e.indices,function(e){var n=r.dataToPoint(t.get(a,e));return n[1]=t.get(s,e),n})}),u=function(t){for(var e=t.length,n=t[0].length,i=[],r=[],o=0,a=0;a<n;++a){for(var s=0,l=0;l<e;++l)s+=t[l][a][1];s>o&&(o=s),i.push(s)}for(var u=0;u<n;++u)r[u]=(o-i[u])/2;o=0;for(var c=0;c<n;++c){var h=i[c]+r[c];h>o&&(o=h)}return{y0:r,max:o}}(l),c=u.y0,h=n/u.max,d=o.length,f=o[0].indices.length,p=0;p<f;++p){i=c[p]*h,t.setItemLayout(o[0].indices[p],{layerIndex:0,x:l[0][p][0],y0:i,y:l[0][p][1]*h});for(var g=1;g<d;++g)i+=l[g-1][p][1]*h,t.setItemLayout(o[g].indices[p],{layerIndex:g,x:l[g][p][0],y0:i,y:l[g][p][1]*h})}}var LN=2,DN=4,jN=function(t){function e(e,n,i,r){var o=t.call(this)||this;o.z2=LN,o.textConfig={inside:!0},Sa(o).seriesIndex=n.seriesIndex;var a=new _a({z2:DN,silent:e.getModel().get(["label","silent"])});return o.setTextContent(a),o.updateData(!0,e,n,i,r),o}return p(e,t),e.prototype.updateData=function(t,e,n,i,r){this.node=e,e.piece=this,n=n||this._seriesModel,i=i||this._ecModel;var o=this;Sa(o).dataIndex=e.dataIndex;var a=e.getModel(),s=a.getModel("emphasis"),l=e.getLayout(),u=v.extend({},l);u.label=null;var c=e.getVisual("style");c.lineJoin="bevel";var h=e.getVisual("decal");h&&(c.decal=iv(h,r));var d=SS(a.getModel("itemStyle"),u,!0);v.extend(u,d),v.each(Na,function(t){var e=o.ensureState(t),n=a.getModel([t,"itemStyle"]);e.style=n.getItemStyle();var i=SS(n,u);i&&(e.shape=i)}),t?(o.setShape(u),o.shape.r=l.r0,$l(o,{shape:{r:l.r}},n,e.dataIndex)):($l(o,{shape:u},n),nu(o)),o.useStyle(c),this._updateLabel(n);var f=a.getShallow("cursor");f&&o.attr("cursor",f),this._seriesModel=n||this._seriesModel,this._ecModel=i||this._ecModel;var p=s.get("focus");ms(this,"ancestor"===p?e.getAncestorsIndices():"descendant"===p?e.getDescendantIndices():p,s.get("blurScope"),s.get("disabled"))},e.prototype._updateLabel=function(t){var e=this,n=this.node.getModel(),i=n.getModel("label"),r=this.node.getLayout(),o=r.endAngle-r.startAngle,a=(r.startAngle+r.endAngle)/2,s=Math.cos(a),l=Math.sin(a),u=this,c=u.getTextContent(),h=this.node.dataIndex,d=i.get("minAngle")/180*Math.PI,f=i.get("show")&&!(null!=d&&Math.abs(o)<d);function p(t,e){var n=t.get(e);return null==n?i.get(e):n}c.ignore=!f,v.each(La,function(i){var o="normal"===i?n.getModel("label"):n.getModel([i,"label"]),d="normal"===i,f=d?c:c.ensureState(i),g=t.getFormattedLabel(h,i);d&&(g=g||e.node.name),f.style=zu(o,{},null,"normal"!==i,!0),g&&(f.style.text=g);var m=o.get("show");null==m||d||(f.ignore=!m);var y,b=p(o,"position"),x=d?u:u.states[i],w=x.style.fill;x.textConfig={outsideFill:"inherit"===o.get("color")?w:null,inside:"outside"!==b};var _=p(o,"distance")||0,S=p(o,"align");"outside"===b?(y=r.r+_,S=a>Math.PI/2?"right":"left"):S&&"center"!==S?"left"===S?(y=r.r0+_,a>Math.PI/2&&(S="right")):"right"===S&&(y=r.r-_,a>Math.PI/2&&(S="left")):(y=(r.r+r.r0)/2,S="center"),f.style.align=S,f.style.verticalAlign=p(o,"verticalAlign")||"middle",f.x=y*s+r.cx,f.y=y*l+r.cy;var M=p(o,"rotate"),C=0;"radial"===M?(C=-a)<-Math.PI/2&&(C+=Math.PI):"tangential"===M?(C=Math.PI/2-a)>Math.PI/2?C-=Math.PI:C<-Math.PI/2&&(C+=Math.PI):v.isNumber(M)&&(C=M*Math.PI/180),f.rotation=C}),c.dirtyStyle()},e}(fl),PN="sunburstRootToNode",RN="sunburstHighlight",zN="sunburstUnhighlight";var BN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n,i){var r=this;this.seriesModel=t,this.api=n,this.ecModel=e;var o=t.getData(),a=o.tree.root,s=t.getViewRoot(),l=this.group,u=t.get("renderLabelForZeroData"),c=[];s.eachNode(function(t){c.push(t)});var h=this._oldChildren||[];!function(i,r){if(0===i.length&&0===r.length)return;function s(t){return t.getId()}function c(s,c){var h=null==s?null:i[s],d=null==c?null:r[c];!function(i,r){u||!i||i.getValue()||(i=null);if(i!==a&&r!==a)if(r&&r.piece)i?(r.piece.updateData(!1,i,t,e,n),o.setItemGraphicEl(i.dataIndex,r.piece)):function(t){if(!t)return;t.piece&&(l.remove(t.piece),t.piece=null)}(r);else if(i){var s=new jN(i,t,e,n);l.add(s),o.setItemGraphicEl(i.dataIndex,s)}}(h,d)}new Nm(r,i,s,s).add(c).update(c).remove(v.curry(c,null)).execute()}(c,h),function(i,o){o.depth>0?(r.virtualPiece?r.virtualPiece.updateData(!1,i,t,e,n):(r.virtualPiece=new jN(i,t,e,n),l.add(r.virtualPiece)),o.piece.off("click"),r.virtualPiece.on("click",function(t){r._rootToNode(o.parentNode)})):r.virtualPiece&&(l.remove(r.virtualPiece),r.virtualPiece=null)}(a,s),this._initEvents(),this._oldChildren=c},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(e){var n=!1;t.seriesModel.getViewRoot().eachNode(function(i){if(!n&&i.piece&&i.piece===e.target){var r=i.getModel().get("nodeClick");if("rootToNode"===r)t._rootToNode(i);else if("link"===r){var o=i.getModel(),a=o.get("link");if(a)lh(a,o.get("target",!0)||"_blank")}n=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:PN,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,e){var n=e.getData().getItemLayout(0);if(n){var i=t[0]-n.cx,r=t[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}},e.type="sunburst",e}(wp);var FN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreStyleOnData=!0,n}return p(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};!function t(e){var n=0;v.each(e.children,function(e){t(e);var i=e.value;v.isArray(i)&&(i=i[0]),n+=i});var i=e.value;v.isArray(i)&&(i=i[0]);(null==i||isNaN(i))&&(i=n);i<0&&(i=0);v.isArray(e.value)?e.value[0]=i:e.value=i}(n);var i=this._levelModels=v.map(t.levels||[],function(t){return new sc(t,this,e)},this),r=VI.createTree(n,this,function(t){t.wrapMethod("getItemModel",function(t,e){var n=r.getNodeByDataIndex(e),o=i[n.depth];return o&&(t.parentModel=o),t})});return r.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=YI(i,this),n},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){KI(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(up),GN=Math.PI/180;function VN(t,e,n){e.eachSeriesByType(t,function(t){var e=t.get("center"),i=t.get("radius");v.isArray(i)||(i=[0,i]),v.isArray(e)||(e=[e,e]);var r=n.getWidth(),o=n.getHeight(),a=Math.min(r,o),s=hi(e[0],r),l=hi(e[1],o),u=hi(i[0],a/2),c=hi(i[1],a/2),h=-t.get("startAngle")*GN,d=t.get("minAngle")*GN,f=t.getData().tree.root,p=t.getViewRoot(),g=p.depth,m=t.get("sort");null!=m&&function t(e,n){var i=e.children||[];e.children=function(t,e){if(v.isFunction(e)){var n=v.map(t,function(t,e){var n=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return n}},index:e}});return n.sort(function(t,n){return e(t.params,n.params)}),v.map(n,function(e){return t[e.index]})}var i="asc"===e;return t.sort(function(t,e){var n=(t.getValue()-e.getValue())*(i?1:-1);return 0===n?(t.dataIndex-e.dataIndex)*(i?-1:1):n})}(i,n);i.length&&v.each(e.children,function(e){t(e,n)})}(p,m);var y=0;v.each(p.children,function(t){!isNaN(t.getValue())&&y++});var b=p.getValue(),x=Math.PI/(b||y)*2,w=p.depth>0,_=p.height-(w?-1:1),S=(c-u)/(_||1),M=t.get("clockwise"),C=t.get("stillShowZeroSum"),I=M?1:-1,k=function(e,n){if(e){var i=n;if(e!==f){var r=e.getValue(),o=0===b&&C?x:r*x;o<d&&(o=d),i=n+I*o;var c=e.depth-g-(w?-1:1),h=u+S*c,p=u+S*(c+1),m=t.getLevelModel(e);if(m){var y=m.get("r0",!0),_=m.get("r",!0),T=m.get("radius",!0);null!=T&&(y=T[0],_=T[1]),null!=y&&(h=hi(y,a/2)),null!=_&&(p=hi(_,a/2))}e.setLayout({angle:o,startAngle:n,endAngle:i,clockwise:M,cx:s,cy:l,r0:h,r:p})}if(e.children&&e.children.length){var O=0;v.each(e.children,function(t){O+=k(t,n+O)})}return i-n}};if(w){var T=u,O=u+S,E=2*Math.PI;f.setLayout({angle:E,startAngle:h,endAngle:h+E,clockwise:M,cx:s,cy:l,r0:T,r:O})}k(p,h)})}function WN(t){var e={};t.eachSeriesByType("sunburst",function(t){var n=t.getData(),i=n.tree;i.eachNode(function(r){var o=r.getModel().getModel("itemStyle").getItemStyle();o.fill||(o.fill=function(t,n,i){for(var r=t;r&&r.depth>1;)r=r.parentNode;var o=n.getColorFromPalette(r.name||r.dataIndex+"",e);return t.depth>1&&Object(v.isString)(o)&&(o=Object(de.lift)(o,(t.depth-1)/(i-1)*.5)),o}(r,t,i.root.height));var a=n.ensureUniqueItemVisual(r.dataIndex,"style");Object(v.extend)(a,o)})})}var HN={color:"fill",borderColor:"stroke"},UN={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},YN=$i(),JN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,e){return dy(null,this)},e.prototype.getDataParams=function(e,n,i){var r=t.prototype.getDataParams.call(this,e,n);return i&&(r.info=YN(i).info),r},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(up);function QN(t,e){return e=e||[0,0],v.map(["x","y"],function(n,i){var r=this.getAxis(n),o=e[i],a=t[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))},this)}function ZN(t,e){return e=e||[0,0],v.map([0,1],function(n){var i=e[n],r=t[n]/2,o=[],a=[];return o[n]=i-r,a[n]=i+r,o[1-n]=a[1-n]=e[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])},this)}function $N(t,e){var n=this.getAxis(),i=e instanceof Array?e[0]:e,r=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-r)-n.dataToCoord(i+r))}function XN(t,e){return e=e||[0,0],v.map(["Radius","Angle"],function(n,i){var r=this["get"+n+"Axis"](),o=e[i],a=t[i]/2,s="category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a));return"Angle"===n&&(s=s*Math.PI/180),s},this)}function KN(t,e,n,i){return t&&(t.legacy||!1!==t.legacy&&!n&&!i&&"tspan"!==e&&("text"===e||Object(v.hasOwn)(t,"text")))}function qN(t,e,n){var i,r,o,a=t;if("text"===e)o=a;else{o={},Object(v.hasOwn)(a,"text")&&(o.text=a.text),Object(v.hasOwn)(a,"rich")&&(o.rich=a.rich),Object(v.hasOwn)(a,"textFill")&&(o.fill=a.textFill),Object(v.hasOwn)(a,"textStroke")&&(o.stroke=a.textStroke),Object(v.hasOwn)(a,"fontFamily")&&(o.fontFamily=a.fontFamily),Object(v.hasOwn)(a,"fontSize")&&(o.fontSize=a.fontSize),Object(v.hasOwn)(a,"fontStyle")&&(o.fontStyle=a.fontStyle),Object(v.hasOwn)(a,"fontWeight")&&(o.fontWeight=a.fontWeight),r={type:"text",style:o,silent:!0},i={};var s=Object(v.hasOwn)(a,"textPosition");n?i.position=s?a.textPosition:"inside":s&&(i.position=a.textPosition),Object(v.hasOwn)(a,"textPosition")&&(i.position=a.textPosition),Object(v.hasOwn)(a,"textOffset")&&(i.offset=a.textOffset),Object(v.hasOwn)(a,"textRotation")&&(i.rotation=a.textRotation),Object(v.hasOwn)(a,"textDistance")&&(i.distance=a.textDistance)}return tL(o,t),Object(v.each)(o.rich,function(t){tL(t,t)}),{textConfig:i,textContent:r}}function tL(t,e){e&&(e.font=e.textFont||e.font,Object(v.hasOwn)(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),Object(v.hasOwn)(e,"textAlign")&&(t.align=e.textAlign),Object(v.hasOwn)(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),Object(v.hasOwn)(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),Object(v.hasOwn)(e,"textWidth")&&(t.width=e.textWidth),Object(v.hasOwn)(e,"textHeight")&&(t.height=e.textHeight),Object(v.hasOwn)(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),Object(v.hasOwn)(e,"textPadding")&&(t.padding=e.textPadding),Object(v.hasOwn)(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),Object(v.hasOwn)(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),Object(v.hasOwn)(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),Object(v.hasOwn)(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),Object(v.hasOwn)(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),Object(v.hasOwn)(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),Object(v.hasOwn)(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function eL(t,e,n){var i=t;i.textPosition=i.textPosition||n.position||"inside",null!=n.offset&&(i.textOffset=n.offset),null!=n.rotation&&(i.textRotation=n.rotation),null!=n.distance&&(i.textDistance=n.distance);var r=i.textPosition.indexOf("inside")>=0,o=t.fill||"#000";nL(i,e);var a=null==i.textFill;return r?a&&(i.textFill=n.insideFill||"#fff",!i.textStroke&&n.insideStroke&&(i.textStroke=n.insideStroke),!i.textStroke&&(i.textStroke=o),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(a&&(i.textFill=t.fill||n.outsideFill||"#000"),!i.textStroke&&n.outsideStroke&&(i.textStroke=n.outsideStroke)),i.text=e.text,i.rich=e.rich,Object(v.each)(e.rich,function(t){nL(t,t)}),i}function nL(t,e){e&&(Object(v.hasOwn)(e,"fill")&&(t.textFill=e.fill),Object(v.hasOwn)(e,"stroke")&&(t.textStroke=e.fill),Object(v.hasOwn)(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),Object(v.hasOwn)(e,"font")&&(t.font=e.font),Object(v.hasOwn)(e,"fontStyle")&&(t.fontStyle=e.fontStyle),Object(v.hasOwn)(e,"fontWeight")&&(t.fontWeight=e.fontWeight),Object(v.hasOwn)(e,"fontSize")&&(t.fontSize=e.fontSize),Object(v.hasOwn)(e,"fontFamily")&&(t.fontFamily=e.fontFamily),Object(v.hasOwn)(e,"align")&&(t.textAlign=e.align),Object(v.hasOwn)(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),Object(v.hasOwn)(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),Object(v.hasOwn)(e,"width")&&(t.textWidth=e.width),Object(v.hasOwn)(e,"height")&&(t.textHeight=e.height),Object(v.hasOwn)(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),Object(v.hasOwn)(e,"padding")&&(t.textPadding=e.padding),Object(v.hasOwn)(e,"borderColor")&&(t.textBorderColor=e.borderColor),Object(v.hasOwn)(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),Object(v.hasOwn)(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),Object(v.hasOwn)(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),Object(v.hasOwn)(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),Object(v.hasOwn)(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),Object(v.hasOwn)(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),Object(v.hasOwn)(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),Object(v.hasOwn)(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),Object(v.hasOwn)(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),Object(v.hasOwn)(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var iL={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},rL=Object(v.keys)(iL),oL=(Object(v.reduce)(yn,function(t,e){return t[e]=1,t},{}),yn.join(", "),["","style","shape","extra"]),aL=$i();function sL(t,e,n,i,r){var o=t+"Animation",a=Ql(t,i,r)||{},s=aL(e).userDuring;return a.duration>0&&(a.during=s?Object(v.bind)(pL,{el:e,userDuring:s}):null,a.setToFinal=!0,a.scope=t),Object(v.extend)(a,n[o]),a}function lL(t,e,n,i){var r=(i=i||{}).dataIndex,o=i.isInit,a=i.clearStyle,s=n.isAnimationEnabled(),l=aL(t),u=e.style;l.userDuring=e.during;var c={},h={};if(function(t,e,n){for(var i=0;i<rL.length;i++){var r=rL[i],o=iL[r],a=e[r];a&&(n[o[0]]=a[0],n[o[1]]=a[1])}for(var i=0;i<yn.length;i++){var s=yn[i];null!=e[s]&&(n[s]=e[s])}}(0,e,h),vL("shape",e,h),vL("extra",e,h),!o&&s&&(function(t,e,n){for(var i=e.transition,r=hL(i)?yn:zi(i||[]),o=0;o<r.length;o++){var a=r[o];if("style"!==a&&"shape"!==a&&"extra"!==a){var s=t[a];0,n[a]=s}}}(t,e,c),gL("shape",t,e,c),gL("extra",t,e,c),function(t,e,n,i){if(!n)return;var r,o=t.style;if(o){var a=n.transition,s=e.transition;if(a&&!hL(a)){var l=zi(a);!r&&(r=i.style={});for(var u=0;u<l.length;u++){var c=l[u],h=o[c];r[c]=h}}else if(t.getAnimationStyleProps&&(hL(s)||hL(a)||Object(v.indexOf)(s,"style")>=0)){var d=t.getAnimationStyleProps(),f=d?d.style:null;if(f){!r&&(r=i.style={});for(var p=Object(v.keys)(n),u=0;u<p.length;u++){var c=p[u];if(f[c]){var h=o[c];r[c]=h}}}}}}(t,e,u,c)),h.style=u,function(t,e,n){var i=e.style;if(!t.isGroup&&i){if(n){t.useStyle({});for(var r=t.animators,o=0;o<r.length;o++){var a=r[o];"style"===a.targetName&&a.changeTarget(t.style)}}t.setStyle(i)}e&&(e.style=null,e&&t.attr(e),e.style=i)}(t,h,a),function(t,e){Object(v.hasOwn)(e,"silent")&&(t.silent=e.silent),Object(v.hasOwn)(e,"ignore")&&(t.ignore=e.ignore),t instanceof Hr&&Object(v.hasOwn)(e,"invisible")&&(t.invisible=e.invisible);t instanceof Uo&&Object(v.hasOwn)(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}(t,e),s)if(o){var d={};Object(v.each)(oL,function(t){var n=t?e[t]:e;n&&n.enterFrom&&(t&&(d[t]=d[t]||{}),Object(v.extend)(t?d[t]:d,n.enterFrom))});var f=sL("enter",t,e,n,r);f.duration>0&&t.animateFrom(d,f)}else!function(t,e,n,i,r){if(r){var o=sL("update",t,e,i,n);o.duration>0&&t.animateFrom(r,o)}}(t,e,r||0,n,c);uL(t,e),u?t.dirty():t.markRedraw()}function uL(t,e){for(var n=aL(t).leaveToProps,i=0;i<oL.length;i++){var r=oL[i],o=r?e[r]:e;o&&o.leaveTo&&(n||(n=aL(t).leaveToProps={}),r&&(n[r]=n[r]||{}),Object(v.extend)(r?n[r]:n,o.leaveTo))}}function cL(t,e,n,i){if(t){var r=t.parent,o=aL(t).leaveToProps;if(o){var a=sL("update",t,e,n,0);a.done=function(){r.remove(t),i&&i()},t.animateTo(o,a)}else r.remove(t),i&&i()}}function hL(t){return"all"===t}var dL={},fL={setTransform:function(t,e){return dL.el[t]=e,this},getTransform:function(t){return dL.el[t]},setShape:function(t,e){var n=dL.el;return(n.shape||(n.shape={}))[t]=e,n.dirtyShape&&n.dirtyShape(),this},getShape:function(t){var e=dL.el.shape;if(e)return e[t]},setStyle:function(t,e){var n=dL.el,i=n.style;return i&&(i[t]=e,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(t){var e=dL.el.style;if(e)return e[t]},setExtra:function(t,e){return(dL.el.extra||(dL.el.extra={}))[t]=e,this},getExtra:function(t){var e=dL.el.extra;if(e)return e[t]}};function pL(){var t=this.el;if(t){var e=aL(t).userDuring,n=this.userDuring;e===n?(dL.el=t,n(fL)):this.el=this.userDuring=null}}function gL(t,e,n,i){var r=n[t];if(r){var o,a=e[t];if(a){var s=n.transition,l=r.transition;if(l)if(!o&&(o=i[t]={}),hL(l))Object(v.extend)(o,a);else for(var u=zi(l),c=0;c<u.length;c++){var h=a[f=u[c]];o[f]=h}else if(hL(s)||Object(v.indexOf)(s,t)>=0){!o&&(o=i[t]={});var d=Object(v.keys)(a);for(c=0;c<d.length;c++){var f;h=a[f=d[c]];mL(r[f],h)&&(o[f]=h)}}}}}function vL(t,e,n){var i=e[t];if(i)for(var r=n[t]={},o=Object(v.keys)(i),a=0;a<o.length;a++){var s=o[a];r[s]=we(i[s])}}function mL(t,e){return Object(v.isArrayLike)(t)?t!==e:null!=t&&isFinite(t)}var yL=$i(),bL=["percent","easing","shape","style","extra"];function xL(t){t.stopAnimation("keyframe"),t.attr(yL(t))}function wL(t,e,n){if(n.isAnimationEnabled()&&e)if(Object(v.isArray)(e))Object(v.each)(e,function(e){wL(t,e,n)});else{var i=e.keyframes,r=e.duration;if(n&&null==r){var o=Ql("enter",n,0);r=o&&o.duration}if(i&&r){var a=yL(t);Object(v.each)(oL,function(n){if(!n||t[n]){var o;i.sort(function(t,e){return t.percent-e.percent}),Object(v.each)(i,function(i){var s=t.animators,l=n?i[n]:i;if(l){var u=Object(v.keys)(l);if(n||(u=Object(v.filter)(u,function(t){return Object(v.indexOf)(bL,t)<0})),u.length){o||((o=t.animate(n,e.loop,!0)).scope="keyframe");for(var c=0;c<s.length;c++)s[c]!==o&&s[c].targetName===o.targetName&&s[c].stopTracks(u);n&&(a[n]=a[n]||{});var h=n?a[n]:a;Object(v.each)(u,function(e){h[e]=((n?t[n]:t)||{})[e]}),o.whenWithKeys(r*i.percent,l,u,i.easing)}}}),o&&o.delay(e.delay||0).duration(r).start(e.easing)}})}}}var _L="emphasis",SL="normal",ML=[SL,_L,"blur","select"],CL={normal:["itemStyle"],emphasis:[_L,"itemStyle"],blur:["blur","itemStyle"],select:["select","itemStyle"]},IL={normal:["label"],emphasis:[_L,"label"],blur:["blur","label"],select:["select","label"]},kL=["x","y"],TL="e\0\0",OL={normal:{},emphasis:{},blur:{},select:{}},EL={cartesian2d:function(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:v.bind(QN,t)}}},geo:function(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:v.bind(ZN,t)}}},singleAxis:function(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:Object(v.bind)($N,t)}}},polar:function(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:i[1],r0:i[0]},api:{coord:function(i){var r=e.dataToRadius(i[0]),o=n.dataToAngle(i[1]),a=t.coordToPoint([r,o]);return a.push(r,o*Math.PI/180),a},size:v.bind(XN,t)}}},calendar:function(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(e,n){return t.dataToPoint(e,n)}}}}};function AL(t){return t instanceof Uo}function NL(t){return t instanceof Hr}var LL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n,i){this._progressiveEls=null;var r=this._data,o=t.getData(),a=this.group,s=zL(t,o,e,n);r||a.removeAll(),o.diff(r).add(function(e){BL(n,null,e,s(e,i),t,a,o)}).remove(function(e){var n=r.getItemGraphicEl(e);cL(n,YN(n).option,t)}).update(function(e,l){var u=r.getItemGraphicEl(l);BL(n,u,e,s(e,i),t,a,o)}).execute();var l=t.get("clip",!0)?S_(t.coordinateSystem,!1,t):null;l?a.setClipPath(l):a.removeClipPath(),this._data=o},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,e,n,i,r){var o=e.getData(),a=zL(e,o,n,i),s=this._progressiveEls=[];function l(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var u=t.start;u<t.end;u++){var c=BL(null,null,u,a(u,r),e,this.group,o);c&&(c.traverse(l),s.push(c))}},e.prototype.eachRendered=function(t){Nu(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,e,n,i){var r=e.element;if(null==r||n.name===r)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===r)return!0;return!1},e.type="custom",e}(wp);function DL(t){var e,n=t.type;if("path"===n){var i=t.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=QL(i);e=hu(o,null,r,i.layout||"center"),YN(e).customPathData=o}else if("image"===n)e=new Ko({}),YN(e).customImagePath=t.style.image;else if("text"===n)e=new _a({});else if("group"===n)e=new Kn;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var a=cu(n);if(!a){var s="";0,Di(s)}e=new a}return YN(e).customGraphicType=n,e.name=t.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function jL(t,e,n,i,r,o,a){xL(e);var s=r&&r.normal.cfg;s&&e.setTextConfig(s),i&&null==i.transition&&(i.transition=kL);var l=i&&i.style;if(l){if("text"===e.type){var u=l;Object(v.hasOwn)(u,"textFill")&&(u.fill=u.textFill),Object(v.hasOwn)(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,h=AL(e)?l.decal:null;t&&h&&(h.dirty=!0,c=iv(h,t)),l.__decalPattern=c}NL(e)&&(l&&(c=l.__decalPattern)&&(l.decal=c));lL(e,i,o,{dataIndex:n,isInit:a,clearStyle:!0}),wL(e,i.keyframeAnimation,o)}function PL(t,e,n,i,r){var o=e.isGroup?null:e,a=r&&r[t].cfg;if(o){var s=o.ensureState(t);if(!1===i){var l=o.getState(t);l&&(l.style=null)}else s.style=i||null;a&&(s.textConfig=a),es(o)}}function RL(t,e,n){var i=n===SL,r=i?e:WL(e,n),o=r?r.z2:null;null!=o&&((i?t:t.ensureState(n)).z2=o||0)}function zL(t,e,n,i){var r=t.get("renderItem"),o=t.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):EL[o.type](o));for(var s,l,u=Object(v.defaults)({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(t,n){return null==n&&(n=s),e.getStore().get(e.getDimensionIndex(t||0),n)},style:function(n,i){0;null==i&&(i=s);var r=e.getItemVisual(i,"style"),o=r&&r.fill,a=r&&r.opacity,l=b(i,SL).getItemStyle();null!=o&&(l.fill=o),null!=a&&(l.opacity=a);var u={inheritColor:Object(v.isString)(o)?o:"#000"},c=x(i,SL),h=zu(c,null,u,!1,!0);h.text=c.getShallow("show")?Object(v.retrieve2)(t.getFormattedLabel(i,SL),i_(e,i)):null;var d=Bu(c,u,!1);return _(n,l),l=eL(l,h,d),n&&w(l,n),l.legacy=!0,l},ordinalRawValue:function(t,n){null==n&&(n=s),t=t||0;var i=e.getDimensionInfo(t);if(!i){var r=e.getDimensionIndex(t);return r>=0?e.getStore().get(r,n):void 0}var o=e.get(i.name,n),a=i&&i.ordinalMeta;return a?a.categories[o]:o},styleEmphasis:function(n,i){0;null==i&&(i=s);var r=b(i,_L).getItemStyle(),o=x(i,_L),a=zu(o,null,null,!0,!0);a.text=o.getShallow("show")?Object(v.retrieve3)(t.getFormattedLabel(i,_L),t.getFormattedLabel(i,SL),i_(e,i)):null;var l=Bu(o,null,!0);return _(n,r),r=eL(r,a,l),n&&w(r,n),r.legacy=!0,r},visual:function(t,n){if(null==n&&(n=s),Object(v.hasOwn)(HN,t)){var i=e.getItemVisual(n,"style");return i?i[HN[t]]:null}if(Object(v.hasOwn)(UN,t))return e.getItemVisual(n,t)},barLayout:function(t){if("cartesian2d"===o.type){var e=o.getBaseAxis();return function(t){var e=[],n=t.axis;if("category"===n.type){for(var i=n.getBandWidth(),r=0;r<t.count;r++)e.push(Object(v.defaults)({bandWidth:i,axisKey:"axis0",stackId:Dy+r},t));var o=By(e),a=[];for(r=0;r<t.count;r++){var s=o.axis0[Dy+r];s.offsetCenter=s.offset+s.width/2,a.push(s)}return a}}(Object(v.defaults)({axis:e},t))}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(t){return Hu(t,n)}},a.api||{}),c={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:a.coordSys,dataInsideLength:e.count(),encode:function(t){var e={};return Object(v.each)(t.dimensions,function(n){var i=t.getDimensionInfo(n);if(!i.isExtraCoord){var r=i.coordDim;(e[r]=e[r]||[])[i.coordDimIndex]=t.getDimensionIndex(n)}}),e}(t.getData())},h={},d={},f={},p={},g=0;g<ML.length;g++){var m=ML[g];f[m]=t.getModel(CL[m]),p[m]=t.getModel(IL[m])}function y(t){return t===s?l||(l=e.getItemModel(t)):e.getItemModel(t)}function b(t,n){return e.hasItemOption?t===s?h[n]||(h[n]=y(t).getModel(CL[n])):y(t).getModel(CL[n]):f[n]}function x(t,n){return e.hasItemOption?t===s?d[n]||(d[n]=y(t).getModel(IL[n])):y(t).getModel(IL[n]):p[n]}return function(t,n){return s=t,l=null,h={},d={},r&&r(Object(v.defaults)({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:n?n.type:null},c),u)};function w(t,e){for(var n in e)Object(v.hasOwn)(e,n)&&(t[n]=e[n])}function _(t,e){t&&(t.textFill&&(e.textFill=t.textFill),t.textPosition&&(e.textPosition=t.textPosition))}}function BL(t,e,n,i,r,o,a){if(i){var s=FL(t,e,n,i,r,o);return s&&a.setItemGraphicEl(n,s),s&&ms(s,i.focus,i.blurScope,i.emphasisDisabled),s}o.remove(e)}function FL(t,e,n,i,r,o){var a=-1,s=e;e&&GL(e,i,r)&&(a=Object(v.indexOf)(o.childrenRef(),e),e=null);var l,u,c=!e,h=e;h?h.clearStates():(h=DL(i),s&&(l=s,(u=h).copyTransform(l),NL(u)&&NL(l)&&(u.setStyle(l.style),u.z=l.z,u.z2=l.z2,u.zlevel=l.zlevel,u.invisible=l.invisible,u.ignore=l.ignore,AL(u)&&AL(l)&&u.setShape(l.shape)))),!1===i.morph?h.disableMorphing=!0:h.disableMorphing&&(h.disableMorphing=!1),OL.normal.cfg=OL.normal.conOpt=OL.emphasis.cfg=OL.emphasis.conOpt=OL.blur.cfg=OL.blur.conOpt=OL.select.cfg=OL.select.conOpt=null,OL.isLegacy=!1,function(t,e,n,i,r,o){if(t.isGroup)return;VL(n,null,o),VL(n,_L,o);var a=o.normal.conOpt,s=o.emphasis.conOpt,l=o.blur.conOpt,u=o.select.conOpt;if(null!=a||null!=s||null!=u||null!=l){var c=t.getTextContent();if(!1===a)c&&t.removeTextContent();else{a=o.normal.conOpt=a||{type:"text"},c?c.clearStates():(c=DL(a),t.setTextContent(c)),jL(null,c,e,a,null,i,r);for(var h=a&&a.style,d=0;d<ML.length;d++){var f=ML[d];if(f!==SL){var p=o[f].conOpt;PL(f,c,0,HL(a,p,f),null)}}h?c.dirty():c.markRedraw()}}}(h,n,i,r,c,OL),function(t,e,n,i,r){var o=n.clipPath;if(!1===o)t&&t.getClipPath()&&t.removeClipPath();else if(o){var a=t.getClipPath();a&&GL(a,o,i)&&(a=null),a||(a=DL(o),t.setClipPath(a)),jL(null,a,e,o,null,i,r)}}(h,n,i,r,c),jL(t,h,n,i,OL,r,c),Object(v.hasOwn)(i,"info")&&(YN(h).info=i.info);for(var d=0;d<ML.length;d++){var f=ML[d];if(f!==SL){var p=WL(i,f);PL(f,h,0,HL(i,p,f),OL)}}return function(t,e,n){if(!t.isGroup){var i=t,r=n.currentZ,o=n.currentZLevel;i.z=r,i.zlevel=o;var a=e.z2;null!=a&&(i.z2=a||0);for(var s=0;s<ML.length;s++)RL(i,e,ML[s])}}(h,i,r),"group"===i.type&&function(t,e,n,i,r){var o=i.children,a=o?o.length:0,s=i.$mergeChildren,l="byName"===s||i.diffChildrenByName,u=!1===s;if(!a&&!l&&!u)return;if(l)return c={api:t,oldChildren:e.children()||[],newChildren:o||[],dataIndex:n,seriesModel:r,group:e},void new Nm(c.oldChildren,c.newChildren,UL,UL,c).add(YL).update(YL).remove(JL).execute();var c;u&&e.removeAll();for(var h=0;h<a;h++)o[h]&&FL(t,e.childAt(h),n,o[h],r,e);for(var d=e.childCount()-1;d>=h;d--){var f=e.childAt(d);cL(f,YN(e).option,r)}}(t,h,n,i,r),a>=0?o.replaceAt(h,a):o.add(h),h}function GL(t,e,n){var i,r=YN(t),o=e.type,a=e.shape,s=e.style;return n.isUniversalTransitionEnabled()||null!=o&&o!==r.customGraphicType||"path"===o&&((i=a)&&(Object(v.hasOwn)(i,"pathData")||Object(v.hasOwn)(i,"d")))&&QL(a)!==r.customPathData||"image"===o&&Object(v.hasOwn)(s,"image")&&s.image!==r.customImagePath}function VL(t,e,n){var i=e?WL(t,e):t,r=e?HL(t,i,_L):t.style,o=t.type,a=i?i.textConfig:null,s=t.textContent,l=s?e?WL(s,e):s:null;if(r&&(n.isLegacy||KN(r,o,!!a,!!l))){n.isLegacy=!0;var u=qN(r,o,!e);!a&&u.textConfig&&(a=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var c=l;!c.type&&(c.type="text")}var h=e?n[e]:n.normal;h.cfg=a,h.conOpt=l}function WL(t,e){return e?t?t[e]:null:t}function HL(t,e,n){var i=e&&e.style;return null==i&&n===_L&&t&&(i=t.styleEmphasis),i}function UL(t,e){var n=t&&t.name;return null!=n?n:TL+e}function YL(t,e){var n=this.context,i=null!=t?n.newChildren[t]:null,r=null!=e?n.oldChildren[e]:null;FL(n.api,r,n.dataIndex,i,n.seriesModel,n.group)}function JL(t){var e=this.context,n=e.oldChildren[t];cL(n,YN(n).option,e.seriesModel)}function QL(t){return t&&(t.pathData||t.d)}var ZL=$i(),$L=v.clone,XL=v.bind;function KL(t,e,n,i){(function t(e,n){if(v.isObject(e)&&v.isObject(n)){var i=!0;return v.each(n,function(n,r){i=i&&t(e[r],n)}),!!i}return e===n})(ZL(n).lastProp,i)||(ZL(n).lastProp=i,e?$l(n,i,t):(n.stopAnimation(),n.attr(i)))}function qL(t,e){t[e.get(["label","show"])?"show":"hide"]()}function tD(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function eD(t,e,n){var i=e.get("z"),r=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=r&&(t.zlevel=r),t.silent=n)})}var nD=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,n,i){var r=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,i||this._lastValue!==r||this._lastStatus!==o){this._lastValue=r,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||"hide"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,r,t,e,n);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var c=this._moveAnimation=this.determineAnimation(t,e);if(a){var h=v.curry(KL,e,c);this.updatePointerEl(a,l,h),this.updateLabelEl(a,l,h,e)}else a=this._group=new Kn,this.createPointerEl(a,l,t,e),this.createLabelEl(a,l,t,e),n.getZr().add(a);eD(a,e,!0),this._renderHandle(r)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var n=e.get("animation"),i=t.axis,r="category"===i.type,o=e.get("snap");if(!o&&!r)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(r&&i.getBandWidth()>a)return!0;if(o){var s=dM(t).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===n},t.prototype.makeElOption=function(t,e,n,i,r){},t.prototype.createPointerEl=function(t,e,n,i){var r=e.pointer;if(r){var o=ZL(t).pointerEl=new a[r.type]($L(e.pointer));t.add(o)}},t.prototype.createLabelEl=function(t,e,n,i){if(e.label){var r=ZL(t).labelEl=new _a($L(e.label));t.add(r),qL(r,i)}},t.prototype.updatePointerEl=function(t,e,n){var i=ZL(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),n(i,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,n,i){var r=ZL(t).labelEl;r&&(r.setStyle(e.label.style),n(r,{x:e.label.x,y:e.label.y}),qL(r,i))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||"hide"===a)return r&&i.remove(r),void(this._handle=null);this._handle||(e=!0,r=this._handle=Iu(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){lt(t.event)},onmousedown:XL(this._onHandleDragMove,this,0,0),drift:XL(this._onHandleDragMove,this),ondragend:XL(this._onHandleDragEnd,this)}),i.add(r)),eD(r,n,!1),r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=o.get("size");v.isArray(s)||(s=[s,s]),r.scaleX=s[0]/2,r.scaleY=s[1]/2,Ip(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){KL(this._axisPointerModel,!e&&this._moveAnimation,this._handle,tD(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(tD(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(tD(i)),ZL(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,i=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),kp(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},t}();function iD(t){var e,n=t.get("type"),i=t.getModel(n+"Style");return"line"===n?(e=i.getLineStyle()).fill=null:"shadow"===n&&((e=i.getAreaStyle()).stroke=null),e}function rD(t,e,n,i,r){var o=oD(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),a=n.getModel("label"),s=$c(a.get("padding")||0),l=a.getFont(),u=Pn(o,l),c=r.position,h=u.width+s[1]+s[3],d=u.height+s[0]+s[2],f=r.align;"right"===f&&(c[0]-=h),"center"===f&&(c[0]-=h/2);var p=r.verticalAlign;"bottom"===p&&(c[1]-=d),"middle"===p&&(c[1]-=d/2),function(t,e,n,i){var r=i.getWidth(),o=i.getHeight();t[0]=Math.min(t[0]+e,r)-e,t[1]=Math.min(t[1]+n,o)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(c,h,d,i);var g=a.get("backgroundColor");g&&"auto"!==g||(g=e.get(["axisLine","lineStyle","color"])),t.label={x:c[0],y:c[1],style:zu(a,{text:o,font:l,fill:a.getTextColor(),padding:s,backgroundColor:g}),z2:10}}function oD(t,e,n,i,r){t=e.scale.parse(t);var o=e.scale.getLabel({value:t},{precision:r.precision}),a=r.formatter;if(a){var s={value:yb(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};v.each(i,function(t){var e=n.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,r=e&&e.getDataParams(i);r&&s.seriesData.push(r)}),v.isString(a)?o=a.replace("{value}",o):v.isFunction(a)&&(o=a(s))}return o}function aD(t,e,n){var i=[1,0,0,1,0,0];return sn(i,i,n.rotation),an(i,i,n.position),xu([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function sD(t,e,n,i,r,o){var a=uM.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get(["label","margin"]),rD(e,i,r,o,{position:aD(i.axis,t,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function lD(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}}function uD(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}function cD(t,e,n,i,r,o){return{cx:t,cy:e,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}var hD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.makeElOption=function(t,e,n,i,r){var o=n.axis,a=o.grid,s=i.get("type"),l=dD(a,o).getOtherAxis(o).getGlobalExtent(),u=o.toGlobalCoord(o.dataToCoord(e,!0));if(s&&"none"!==s){var c=iD(i),h=fD[s](o,u,l);h.style=c,t.graphicKey=h.type,t.pointer=h}sD(e,t,JS(a.model,n),n,i,r)},e.prototype.getHandleTransform=function(t,e,n){var i=JS(e.axis.grid.model,e,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);var r=aD(e.axis,t,i);return{x:r[0],y:r[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,i){var r=n.axis,o=r.grid,a=r.getGlobalExtent(!0),s=dD(o,r).getOtherAxis(r).getGlobalExtent(),l="x"===r.dim?0:1,u=[t.x,t.y];u[l]+=e[l],u[l]=Math.min(a[1],u[l]),u[l]=Math.max(a[0],u[l]);var c=(s[1]+s[0])/2,h=[c,c];h[l]=u[l];return{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}},e}(nD);function dD(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var fD={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:lD([e,n[0]],[e,n[1]],pD(t))}},shadow:function(t,e,n){var i=Math.max(1,t.getBandWidth()),r=n[1]-n[0];return{type:"Rect",shape:uD([e-i/2,n[0]],[i,r],pD(t))}}};function pD(t){return"x"===t.dim?0:1}var gD=hD,vD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(_h),mD=$i(),yD=v.each;function bD(t,e,n){if(!g.a.node){var i=e.getZr();mD(i).records||(mD(i).records={}),function(t,e){if(mD(t).initialized)return;function n(n,i){t.on(n,function(n){var r=function(t){var e={showTip:[],hideTip:[]},n=function(i){var r=e[i.type];r?r.push(i):(i.dispatchAction=n,t.dispatchAction(i))};return{dispatchAction:n,pendings:e}}(e);yD(mD(t).records,function(t){t&&i(t,n,r.dispatchAction)}),function(t,e){var n,i=t.showTip.length,r=t.hideTip.length;i?n=t.showTip[i-1]:r&&(n=t.hideTip[r-1]);n&&(n.dispatchAction=null,e.dispatchAction(n))}(r.pendings,e)})}mD(t).initialized=!0,n("click",v.curry(wD,"click")),n("mousemove",v.curry(wD,"mousemove")),n("globalout",xD)}(i,e),(mD(i).records[t]||(mD(i).records[t]={})).handler=n}}function xD(t,e,n){t.handler("leave",null,n)}function wD(t,e,n,i){e.handler(t,n,i)}function _D(t,e){if(!g.a.node){var n=e.getZr();(mD(n).records||{})[t]&&(mD(n).records[t]=null)}}var SD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n){var i=e.getComponent("tooltip"),r=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";bD("axisPointer",n,function(t,e,n){"none"!==r&&("leave"===t||r.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},e.prototype.remove=function(t,e){_D("axisPointer",e)},e.prototype.dispose=function(t,e){_D("axisPointer",e)},e.type="axisPointer",e}(hp);function MD(t,e){var n,i=[],r=t.seriesIndex;if(null==r||!(n=e.getSeriesByIndex(r)))return{point:[]};var o=n.getData(),a=Zi(o,t);if(null==a||a<0||v.isArray(a))return{point:[]};var s=o.getItemGraphicEl(a),l=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(t.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u).dim,h=u.dim,d="x"===c||"radius"===c?1:0,f=o.mapDimension(h),p=[];p[d]=o.get(f,a),p[1-d]=o.get(o.getCalculationInfo("stackResultDimension"),a),i=l.dataToPoint(p)||[]}else i=l.dataToPoint(o.getValues(v.map(l.dimensions,function(t){return o.mapDimension(t)}),a))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),i=[g.x+g.width/2,g.y+g.height/2]}return{point:i,el:s}}var CD=$i();function ID(t,e,n){var i=t.currTrigger,r=[t.x,t.y],o=t,a=t.dispatchAction||Object(v.bind)(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){AD(r)&&(r=MD({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=AD(r),u=o.axesInfo,c=s.axesInfo,h="leave"===i||AD(r),d={},f={},p={list:[],map:{}},g={showPointer:Object(v.curry)(TD,f),showTooltip:Object(v.curry)(OD,p)};Object(v.each)(s.coordSysMap,function(t,e){var n=l||t.containPoint(r);Object(v.each)(s.coordSysAxesInfo[e],function(t,e){var i=t.axis,o=function(t,e){for(var n=0;n<(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(u,t);if(!h&&n&&(!u||o)){var a=o&&o.value;null!=a||l||(a=i.pointToData(r)),null!=a&&kD(t,a,g,!1,d)}})});var m={};return Object(v.each)(c,function(t,e){var n=t.linkGroup;n&&!f[e]&&Object(v.each)(n.axesInfo,function(e,i){var r=f[i];if(e!==t&&r){var o=r.value;n.mapper&&(o=t.axis.scale.parse(n.mapper(o,ED(e),ED(t)))),m[t.key]=o}})}),Object(v.each)(m,function(t,e){kD(c[e],t,g,!0,d)}),function(t,e,n){var i=n.axesInfo=[];Object(v.each)(e,function(e,n){var r=e.axisPointerModel.option,o=t[n];o?(!e.useHandle&&(r.status="show"),r.value=o.value,r.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&&(r.status="hide"),"show"===r.status&&i.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:r.value})})}(f,c,d),function(t,e,n,i){if(AD(e)||!t.list.length)return void i({type:"hideTip"});var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}(p,r,t,a),function(t,e,n){var i=n.getZr(),r=CD(i).axisPointerLastHighlights||{},o=CD(i).axisPointerLastHighlights={};Object(v.each)(t,function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&Object(v.each)(n.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;o[e]=t})});var a=[],s=[];Object(v.each)(r,function(t,e){!o[e]&&s.push(t)}),Object(v.each)(o,function(t,e){!r[e]&&a.push(t)}),s.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:s}),a.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:a})}(c,0,n),d}}function kD(t,e,n,i,r){var o=t.axis;if(!o.scale.isBlank()&&o.containData(e))if(t.involveSeries){var a=function(t,e){var n=e.axis,i=n.dim,r=t,o=[],a=Number.MAX_VALUE,s=-1;return Object(v.each)(e.seriesModels,function(e,l){var u,c,h=e.getData().mapDimensionsAll(i);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(h,t,n);c=d.dataIndices,u=d.nestestValue}else{if(!(c=e.getData().indicesOfNearest(h[0],t,"category"===n.type?.5:null)).length)return;u=e.getData().get(h[0],c[0])}if(null!=u&&isFinite(u)){var f=t-u,p=Math.abs(f);p<=a&&((p<a||f>=0&&s<0)&&(a=p,s=f,r=u,o.length=0),Object(v.each)(c,function(t){o.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:o,snapToValue:r}}(e,t),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==r.seriesIndex&&Object(v.extend)(r,s[0]),!i&&t.snap&&o.containData(l)&&null!=l&&(e=l),n.showPointer(t,e,s),n.showTooltip(t,a,l)}else n.showPointer(t,e)}function TD(t,e,n,i){t[e.key]={value:n,payloadBatch:i}}function OD(t,e,n,i){var r=n.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(e.triggerTooltip&&r.length){var l=e.coordSys.model,u=pM(l),c=t.map[u];c||(c=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function ED(t){var e=t.axis.model,n={},i=n.axisDim=t.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=e.componentIndex,n.axisName=n[i+"AxisName"]=e.name,n.axisId=n[i+"AxisId"]=e.id,n}function AD(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function ND(t){vM.registerAxisPointerClass("CartesianAxisPointer",gD),t.registerComponentModel(vD),t.registerComponentView(SD),t.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!Object(v.isArray)(e)&&(t.axisPointer.link=[e])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=cM(t,e)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},ID)}var LD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.makeElOption=function(t,e,n,i,r){var o=n.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var a=o.polar,s=a.getOtherAxis(o).getExtent(),l=o.dataToCoord(e),u=i.get("type");if(u&&"none"!==u){var c=iD(i),h=DD[u](o,a,l,s);h.style=c,t.graphicKey=h.type,t.pointer=h}rD(t,n,i,r,function(t,e,n,i,r){var o=e.axis,a=o.dataToCoord(t),s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,u,c,h=i.getRadiusAxis().getExtent();if("radius"===o.dim){var d=[1,0,0,1,0,0];sn(d,d,s),an(d,d,[i.cx,i.cy]),l=xu([a,-r],d);var f=e.getModel("axisLabel").get("rotate")||0,p=uM.innerTextLayout(s,f*Math.PI/180,-1);u=p.textAlign,c=p.textVerticalAlign}else{var g=h[1];l=i.coordToPoint([g+r,a]);var v=i.cx,m=i.cy;u=Math.abs(l[0]-v)/g<.3?"center":l[0]>v?"left":"right",c=Math.abs(l[1]-m)/g<.3?"middle":l[1]>m?"top":"bottom"}return{position:l,align:u,verticalAlign:c}}(e,n,0,a,i.get(["label","margin"])))},e}(nD);var DD={line:function(t,e,n,i){return"angle"===t.dim?{type:"Line",shape:lD(e.coordToPoint([i[0],n]),e.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,i){var r=Math.max(1,t.getBandWidth()),o=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:cD(e.cx,e.cy,i[0],i[1],(-n-r/2)*o,(r/2-n)*o)}:{type:"Sector",shape:cD(e.cx,e.cy,n-r/2,n+r/2,0,2*Math.PI)}}},jD=LD,PD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.findAxisModel=function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(_h),RD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",tr).models[0]},e.type="polarAxis",e}(_h);v.mixin(RD,_b);var zD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.type="angleAxis",e}(RD),BD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.type="radiusAxis",e}(RD),FD=function(t){function e(e,n){return t.call(this,"radius",e,n)||this}return p(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e}(qb);FD.prototype.dataToRadius=qb.prototype.dataToCoord,FD.prototype.radiusToData=qb.prototype.coordToData;var GD=FD,VD=$i(),WD=function(t){function e(e,n){return t.call(this,"angle",e,n||[0,360])||this}return p(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this.getLabelModel(),e=this.scale,n=e.getExtent(),i=e.count();if(n[1]-n[0]<1)return 0;var r=n[0],o=this.dataToCoord(r+1)-this.dataToCoord(r),a=Math.abs(o),s=Pn(null==r?"":r+"",t.getFont(),"center","top"),l=Math.max(s.height,7)/a;isNaN(l)&&(l=1/0);var u=Math.max(0,Math.floor(l)),c=VD(this.model),h=c.lastAutoInterval,d=c.lastTickCount;return null!=h&&null!=d&&Math.abs(h-u)<=1&&Math.abs(d-i)<=1&&h>u?u=h:(c.lastTickCount=i,c.lastAutoInterval=u),u},e}(qb);WD.prototype.dataToAngle=qb.prototype.dataToCoord,WD.prototype.angleToData=qb.prototype.coordToData;var HD=WD,UD=["radius","angle"];function YD(t){var e=t.seriesModel,n=t.polarModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}var JD=function(){function t(t){this.dimensions=UD,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new GD,this._angleAxis=new HD,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},t.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},t.prototype.getAxis=function(t){return this["_"+t+"Axis"]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},t.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},t.prototype.pointToData=function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},t.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),r=i.getExtent(),o=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);i.inverse?o=a-360:a=o+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var l=Math.atan2(-n,e)/Math.PI*180,u=l<o?1:-1;l<o||l>a;)l+=360*u;return[s,l]},t.prototype.coordToPoint=function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]},t.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var n=t.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-n[0]*i,endAngle:-n[1]*i,clockwise:t.inverse,contain:function(t,e){var n=t-this.cx,i=e-this.cy,r=n*n+i*i-1e-4,o=this.r,a=this.r0;return r<=o*o&&r>=a*a}}},t.prototype.convertToPixel=function(t,e,n){return YD(e)===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){return YD(e)===this?this.pointToData(n):null},t}();function QD(t,e){var n=this,i=n.getAngleAxis(),r=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===n){var e=t.getData();v.each(wb(e,"radius"),function(t){r.scale.unionExtentFromData(e,t)}),v.each(wb(e,"angle"),function(t){i.scale.unionExtentFromData(e,t)})}}),gb(i.scale,i.model),gb(r.scale,r.model),"category"===i.type&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function ZD(t,e){if(t.type=e.get("type"),t.scale=vb(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),function(t){return"angleAxis"===t.mainType}(e)){t.inverse=t.inverse!==e.get("clockwise");var n=e.get("startAngle");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}var $D={dimensions:UD,create:function(t,e){var n=[];return t.eachComponent("polar",function(t,i){var r=new JD(i+"");r.update=QD;var o=r.getRadiusAxis(),a=r.getAngleAxis(),s=t.findAxisModel("radiusAxis"),l=t.findAxisModel("angleAxis");ZD(o,s),ZD(a,l),function(t,e,n){var i=e.get("center"),r=n.getWidth(),o=n.getHeight();t.cx=hi(i[0],r),t.cy=hi(i[1],o);var a=t.getRadiusAxis(),s=Math.min(r,o)/2,l=e.get("radius");null==l?l=[0,"100%"]:v.isArray(l)||(l=[0,l]);var u=[hi(l[0],s),hi(l[1],s)];a.inverse?a.setExtent(u[1],u[0]):a.setExtent(u[0],u[1])}(r,t,e),n.push(r),t.coordinateSystem=r,r.model=t}),t.eachSeries(function(t){if("polar"===t.get("coordinateSystem")){var e=t.getReferringComponents("polar",tr).models[0];0,t.coordinateSystem=e.coordinateSystem}}),n}},XD=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function KD(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var i=t.coordToPoint([e[0],n]),r=t.coordToPoint([e[1],n]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function qD(t){return t.getRadiusAxis().inverse?0:1}function tj(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}var ej=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return p(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,i=n.polar,r=i.getRadiusAxis().getExtent(),o=n.getTicksCoords(),a=n.getMinorTicksCoords(),s=v.map(n.getViewLabels(),function(t){t=v.clone(t);var e=n.scale,i="ordinal"===e.type?e.getRawOrdinalNumber(t.tickValue):t.tickValue;return t.coord=n.dataToCoord(i),t});tj(s),tj(o),v.each(XD,function(e){!t.get([e,"show"])||n.scale.isBlank()&&"axisLine"!==e||nj[e](this.group,t,i,o,a,r,s)},this)}},e.type="angleAxis",e}(vM),nj={axisLine:function(t,e,n,i,r,o){var a,s=e.getModel(["axisLine","lineStyle"]),l=qD(n),u=l?0:1;(a=0===o[u]?new Qs({shape:{cx:n.cx,cy:n.cy,r:o[l]},style:s.getLineStyle(),z2:1,silent:!0}):new vl({shape:{cx:n.cx,cy:n.cy,r:o[l],r0:o[u]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,t.add(a)},axisTick:function(t,e,n,i,r,o){var a=e.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[qD(n)],u=v.map(i,function(t){return new kl({shape:KD(n,[l,l+s],t.coord)})});t.add(pu(u,{style:v.defaults(a.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,n,i,r,o){if(r.length){for(var a=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=o[qD(n)],c=[],h=0;h<r.length;h++)for(var d=0;d<r[h].length;d++)c.push(new kl({shape:KD(n,[u,u+l],r[h][d].coord)}));t.add(pu(c,{style:v.defaults(s.getModel("lineStyle").getLineStyle(),v.defaults(a.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,n,i,r,o,a){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");v.each(a,function(i,r){var a=l,h=i.tickValue,d=o[qD(n)],f=n.coordToPoint([d+u,i.coord]),p=n.cx,g=n.cy,m=Math.abs(f[0]-p)/d<.3?"center":f[0]>p?"left":"right",y=Math.abs(f[1]-g)/d<.3?"middle":f[1]>g?"top":"bottom";if(s&&s[h]){var b=s[h];v.isObject(b)&&b.textStyle&&(a=new sc(b.textStyle,l,l.ecModel))}var x=new _a({silent:uM.isLabelSilent(e),style:zu(a,{x:f[0],y:f[1],fill:a.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:i.formattedLabel,align:m,verticalAlign:y})});if(t.add(x),c){var w=uM.makeAxisEventDataBase(e);w.targetType="axisLabel",w.value=i.rawLabel,Sa(x).eventData=w}},this)},splitLine:function(t,e,n,i,r,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=0;c<i.length;c++){var h=l++%s.length;u[h]=u[h]||[],u[h].push(new kl({shape:KD(n,o,i[c].coord)}))}for(c=0;c<u.length;c++)t.add(pu(u[c],{style:v.defaults({stroke:s[c%s.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,n,i,r,o){if(r.length){for(var a=e.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<r.length;l++)for(var u=0;u<r[l].length;u++)s.push(new kl({shape:KD(n,o,r[l][u].coord)}));t.add(pu(s,{style:a.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,n,i,r,o){if(i.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=Math.PI/180,h=-i[0].coord*c,d=Math.min(o[0],o[1]),f=Math.max(o[0],o[1]),p=e.get("clockwise"),g=1,m=i.length;g<=m;g++){var y=g===m?i[0].coord:i[g].coord,b=l++%s.length;u[b]=u[b]||[],u[b].push(new fl({shape:{cx:n.cx,cy:n.cy,r0:d,r:f,startAngle:h,endAngle:-y*c,clockwise:p},silent:!0})),h=-y*c}for(g=0;g<u.length;g++)t.add(pu(u[g],{style:v.defaults({fill:s[g%s.length]},a.getAreaStyle()),silent:!0}))}}},ij=ej,rj=["axisLine","axisTickLabel","axisName"],oj=["splitLine","splitArea","minorSplitLine"],aj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return p(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var n=this._axisGroup,i=this._axisGroup=new Kn;this.group.add(i);var r=t.axis,o=r.polar,a=o.getAngleAxis(),s=r.getTicksCoords(),l=r.getMinorTicksCoords(),u=a.getExtent()[0],c=r.getExtent(),h=function(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(o,t,u),d=new uM(t,h);v.each(rj,d.add,d),i.add(d.getGroup()),Su(n,i,t),v.each(oj,function(e){t.get([e,"show"])&&!r.scale.isBlank()&&sj[e](this.group,t,o,u,c,s,l)},this)}},e.type="radiusAxis",e}(vM),sj={splitLine:function(t,e,n,i,r,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=0;c<o.length;c++){var h=l++%s.length;u[h]=u[h]||[],u[h].push(new Qs({shape:{cx:n.cx,cy:n.cy,r:o[c].coord}}))}for(c=0;c<u.length;c++)t.add(pu(u[c],{style:v.defaults({stroke:s[c%s.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,n,i,r,o,a){if(a.length){for(var s=e.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var c=0;c<a[u].length;c++)l.push(new Qs({shape:{cx:n.cx,cy:n.cy,r:a[u][c].coord}}));t.add(pu(l,{style:v.defaults({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(t,e,n,i,r,o){if(o.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=o[0].coord,h=1;h<o.length;h++){var d=l++%s.length;u[d]=u[d]||[],u[d].push(new fl({shape:{cx:n.cx,cy:n.cy,r0:c,r:o[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=o[h].coord}for(h=0;h<u.length;h++)t.add(pu(u[h],{style:v.defaults({fill:s[h%s.length]},a.getAreaStyle()),silent:!0}))}}};var lj=aj;function uj(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function cj(t,e){return e.dim+t.model.componentIndex}var hj=function(t,e,n){var i={},r=function(t){var e={};v.each(t,function(t,n){var i=t.getData(),r=t.coordinateSystem,o=r.getBaseAxis(),a=cj(r,o),s=o.getExtent(),l="category"===o.type?o.getBandWidth():Math.abs(s[1]-s[0])/i.count(),u=e[a]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},c=u.stacks;e[a]=u;var h=uj(t);c[h]||u.autoWidthCount++,c[h]=c[h]||{width:0,maxWidth:0};var d=hi(t.get("barWidth"),l),f=hi(t.get("barMaxWidth"),l),p=t.get("barGap"),g=t.get("barCategoryGap");d&&!c[h].width&&(d=Math.min(u.remainedWidth,d),c[h].width=d,u.remainedWidth-=d),f&&(c[h].maxWidth=f),null!=p&&(u.gap=p),null!=g&&(u.categoryGap=g)});var n={};return v.each(e,function(t,e){n[e]={};var i=t.stacks,r=t.bandWidth,o=hi(t.categoryGap,r),a=hi(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,u=(s-o)/(l+(l-1)*a);u=Math.max(u,0),v.each(i,function(t,e){var n=t.maxWidth;n&&n<u&&(n=Math.min(n,s),t.width&&(n=Math.min(n,t.width)),s-=n,t.width=n,l--)}),u=(s-o)/(l+(l-1)*a),u=Math.max(u,0);var c,h=0;v.each(i,function(t,e){t.width||(t.width=u),c=t,h+=t.width*(1+a)}),c&&(h-=c.width*a);var d=-h/2;v.each(i,function(t,i){n[e][i]=n[e][i]||{offset:d,width:t.width},d+=t.width*(1+a)})}),n}(v.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,o=n.getBaseAxis(),a=cj(n,o),s=uj(t),l=r[a][s],u=l.offset,c=l.width,h=n.getOtherAxis(o),d=t.coordinateSystem.cx,f=t.coordinateSystem.cy,p=t.get("barMinHeight")||0,g=t.get("barMinAngle")||0;i[s]=i[s]||[];for(var v=e.mapDimension(h.dim),m=e.mapDimension(o.dim),y=cy(e,v),b="radius"!==o.dim||!t.get("roundCap",!0),x=h.dataToCoord(0),w=0,_=e.count();w<_;w++){var S=e.get(v,w),M=e.get(m,w),C=S>=0?"p":"n",I=x;y&&(i[s][M]||(i[s][M]={p:x,n:x}),I=i[s][M][C]);var k=void 0,T=void 0,O=void 0,E=void 0;if("radius"===h.dim){var A=h.dataToCoord(S)-x,N=o.dataToCoord(M);Math.abs(A)<p&&(A=(A<0?-1:1)*p),k=I,T=I+A,E=(O=N-u)-c,y&&(i[s][M][C]=T)}else{var L=h.dataToCoord(S,b)-x,D=o.dataToCoord(M);Math.abs(L)<g&&(L=(L<0?-1:1)*g),T=(k=D+u)+c,O=I,E=I+L,y&&(i[s][M][C]=E)}e.setItemLayout(w,{cx:d,cy:f,r0:k,r:T,startAngle:-O*Math.PI/180,endAngle:-E*Math.PI/180,clockwise:O>=E})}}})},dj={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},fj={splitNumber:5},pj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.type="polar",e}(hp);function gj(t,e){e=e||{};var n=t.coordinateSystem,i=t.axis,r={},o=i.position,a=i.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=["vertical"===a?u.vertical[o]:l[0],"horizontal"===a?u.horizontal[o]:l[3]];r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a];r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],t.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),v.retrieve(e.labelInside,t.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var c=e.rotate;return null==c&&(c=t.get(["axisLabel","rotate"])),r.labelRotation="top"===o?-c:c,r.z2=1,r}var vj=["axisLine","axisTickLabel","axisName"],mj=["splitArea","splitLine"],yj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="SingleAxisPointer",n}return p(e,t),e.prototype.render=function(e,n,i,r){var o=this.group;o.removeAll();var a=this._axisGroup;this._axisGroup=new Kn;var s=gj(e),l=new uM(e,s);v.each(vj,l.add,l),o.add(this._axisGroup),o.add(l.getGroup()),v.each(mj,function(t){e.get([t,"show"])&&bj[t](this,this.group,this._axisGroup,e)},this),Su(a,this._axisGroup,e),t.prototype.render.call(this,e,n,i,r)},e.prototype.remove=function(){bM(this)},e.type="singleAxis",e}(vM),bj={splitLine:function(t,e,n,i){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),c=[],h=0,d=r.getTicksCoords({tickModel:o}),f=[],p=[],g=0;g<d.length;++g){var m=r.toGlobalCoord(d[g].coord);u?(f[0]=m,f[1]=l.y,p[0]=m,p[1]=l.y+l.height):(f[0]=l.x,f[1]=m,p[0]=l.x+l.width,p[1]=m);var y=h++%s.length;c[y]=c[y]||[],c[y].push(new kl({subPixelOptimize:!0,shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},silent:!0}))}var b=a.getLineStyle(["color"]);for(g=0;g<c.length;++g)e.add(pu(c[g],{style:v.defaults({stroke:s[g%s.length]},b),silent:!0}))}},splitArea:function(t,e,n,i){yM(t,n,i,i)}},xj=yj,wj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(_h);Object(v.mixin)(wj,_b.prototype);var _j=wj,Sj=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,i)||this;return a.type=r||"value",a.position=o||"bottom",a}return p(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.pointToData=function(t,e){return this.coordinateSystem.pointToData(t)[0]},e}(qb),Mj=["single"];function Cj(t){var e=t.seriesModel,n=t.singleAxisModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}var Ij=function(){function t(t,e,n){this.type="single",this.dimension="single",this.dimensions=Mj,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var i=this.dimension,r=new Sj(i,vb(t),[0,0],t.get("type"),t.get("position")),o="category"===r.type;r.onBand=o&&t.get("boundaryGap"),r.inverse=t.get("inverse"),r.orient=t.get("orient"),t.axis=r,r.model=t,r.coordinateSystem=this,this._axis=r},t.prototype.update=function(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData();Object(v.each)(e.mapDimensionsAll(this.dimension),function(t){this._axis.scale.unionExtentFromData(e,t)},this),gb(this._axis.scale,this._axis.model)}},this)},t.prototype.resize=function(t,e){this._rect=ph({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],r=e.reverse?1:0;e.setExtent(i[r],i[1-r]),this._updateAxisTransform(e,n?t.x:t.y)},t.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),i=n[0]+n[1],r=t.isHorizontal();t.toGlobalCoord=r?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord=r?function(t){return t-e}:function(t){return i-t+e}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},t.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},t.prototype.dataToPoint=function(t){var e=this.getAxis(),n=this.getRect(),i=[],r="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),i[r]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-r]=0===r?n.y+n.height/2:n.x+n.width/2,i},t.prototype.convertToPixel=function(t,e,n){return Cj(e)===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){return Cj(e)===this?this.pointToData(n):null},t}();var kj={create:function(t,e){var n=[];return t.eachComponent("singleAxis",function(i,r){var o=new Ij(i,t,e);o.name="single_"+r,o.resize(i,e),i.coordinateSystem=o,n.push(o)}),t.eachSeries(function(t){if("singleAxis"===t.get("coordinateSystem")){var e=t.getReferringComponents("singleAxis",tr).models[0];t.coordinateSystem=e&&e.coordinateSystem}}),n},dimensions:Mj},Tj=["x","y"],Oj=["width","height"],Ej=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.makeElOption=function(t,e,n,i,r){var o=n.axis,a=o.coordinateSystem,s=Lj(a,1-Nj(o)),l=a.dataToPoint(e)[0],u=i.get("type");if(u&&"none"!==u){var c=iD(i),h=Aj[u](o,l,s);h.style=c,t.graphicKey=h.type,t.pointer=h}sD(e,t,gj(n),n,i,r)},e.prototype.getHandleTransform=function(t,e,n){var i=gj(e,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);var r=aD(e.axis,t,i);return{x:r[0],y:r[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,i){var r=n.axis,o=r.coordinateSystem,a=Nj(r),s=Lj(o,a),l=[t.x,t.y];l[a]+=e[a],l[a]=Math.min(s[1],l[a]),l[a]=Math.max(s[0],l[a]);var u=Lj(o,1-a),c=(u[1]+u[0])/2,h=[c,c];return h[a]=l[a],{x:l[0],y:l[1],rotation:t.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},e}(nD),Aj={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:lD([e,n[0]],[e,n[1]],Nj(t))}},shadow:function(t,e,n){var i=t.getBandWidth(),r=n[1]-n[0];return{type:"Rect",shape:uD([e-i/2,n[0]],[i,r],Nj(t))}}};function Nj(t){return t.isHorizontal()?0:1}function Lj(t,e){var n=t.getRect();return[n[Tj[e]],n[Tj[e]]+n[Oj[e]]]}var Dj=Ej,jj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.type="single",e}(hp);function Pj(t,e){var n,i=t.cellSize;1===(n=v.isArray(i)?i:t.cellSize=[i,i]).length&&(n[1]=n[0]);var r=v.map([0,1],function(t){return function(t,e){return null!=t[hh[e][0]]||null!=t[hh[e][1]]&&null!=t[hh[e][2]]}(e,t)&&(n[t]="auto"),null!=n[t]&&"auto"!==n[t]});mh(t,e,{type:"box",ignoreSize:r})}var Rj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.init=function(e,n,i){var r=yh(e);t.prototype.init.apply(this,arguments),Pj(e,r)},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),Pj(this.option,e)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(_h),zj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n){var i=this.group;i.removeAll();var r=t.coordinateSystem,o=r.getRangeInfo(),a=r.getOrient(),s=e.getLocaleModel();this._renderDayRect(t,o,i),this._renderLines(t,o,a,i),this._renderYearText(t,o,a,i),this._renderMonthText(t,s,a,i),this._renderWeekText(t,s,o,a,i)},e.prototype._renderDayRect=function(t,e,n){for(var i=t.coordinateSystem,r=t.getModel("itemStyle").getItemStyle(),o=i.getCellWidth(),a=i.getCellHeight(),s=e.start.time;s<=e.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],!1).tl,u=new aa({shape:{x:l[0],y:l[1],width:o,height:a},cursor:"default",style:r});n.add(u)}},e.prototype._renderLines=function(t,e,n,i){var r=this,o=t.coordinateSystem,a=t.getModel(["splitLine","lineStyle"]).getLineStyle(),s=t.get(["splitLine","show"]),l=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=e.start,c=0;u.time<=e.end.time;c++){d(u.formatedDate),0===c&&(u=o.getDateInfo(e.start.y+"-"+e.start.m));var h=u.date;h.setMonth(h.getMonth()+1),u=o.getDateInfo(h)}function d(e){r._firstDayOfMonth.push(o.getDateInfo(e)),r._firstDayPoints.push(o.dataToRect([e],!1).tl);var l=r._getLinePointsOfOneWeek(t,e,n);r._tlpoints.push(l[0]),r._blpoints.push(l[l.length-1]),s&&r._drawSplitline(l,a,i)}d(o.getNextNDay(e.end.time,1).formatedDate),s&&this._drawSplitline(r._getEdgesPoints(r._tlpoints,l,n),a,i),s&&this._drawSplitline(r._getEdgesPoints(r._blpoints,l,n),a,i)},e.prototype._getEdgesPoints=function(t,e,n){var i=[t[0].slice(),t[t.length-1].slice()],r="horizontal"===n?0:1;return i[0][r]=i[0][r]-e/2,i[1][r]=i[1][r]+e/2,i},e.prototype._drawSplitline=function(t,e,n){var i=new Sl({z2:20,shape:{points:t},style:e});n.add(i)},e.prototype._getLinePointsOfOneWeek=function(t,e,n){for(var i=t.coordinateSystem,r=i.getDateInfo(e),o=[],a=0;a<7;a++){var s=i.getNextNDay(r.time,a),l=i.dataToRect([s.time],!1);o[2*s.day]=l.tl,o[2*s.day+1]=l["horizontal"===n?"bl":"tr"]}return o},e.prototype._formatterLabel=function(t,e){return Object(v.isString)(t)&&t?(n=t,i=e,v.each(i,function(t,e){n=n.replace("{"+e+"}",r?qc(t):t)}),n):Object(v.isFunction)(t)?t(e):e.nameMap;var n,i,r},e.prototype._yearTextPositionControl=function(t,e,n,i,r){var o=e[0],a=e[1],s=["center","bottom"];"bottom"===i?(a+=r,s=["center","top"]):"left"===i?o-=r:"right"===i?(o+=r,s=["center","top"]):a-=r;var l=0;return"left"!==i&&"right"!==i||(l=Math.PI/2),{rotation:l,x:o,y:a,style:{align:s[0],verticalAlign:s[1]}}},e.prototype._renderYearText=function(t,e,n,i){var r=t.getModel("yearLabel");if(r.get("show")){var o=r.get("margin"),a=r.get("position");a||(a="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,u=(s[0][1]+s[1][1])/2,c="horizontal"===n?0:1,h={top:[l,s[c][1]],bottom:[l,s[1-c][1]],left:[s[1-c][0],u],right:[s[c][0],u]},d=e.start.y;+e.end.y>+e.start.y&&(d=d+"-"+e.end.y);var f=r.get("formatter"),p={start:e.start.y,end:e.end.y,nameMap:d},g=this._formatterLabel(f,p),v=new _a({z2:30,style:zu(r,{text:g})});v.attr(this._yearTextPositionControl(v,h[a],n,a,o)),i.add(v)}},e.prototype._monthTextPositionControl=function(t,e,n,i,r){var o="left",a="top",s=t[0],l=t[1];return"horizontal"===n?(l+=r,e&&(o="center"),"start"===i&&(a="bottom")):(s+=r,e&&(a="middle"),"start"===i&&(o="right")),{x:s,y:l,align:o,verticalAlign:a}},e.prototype._renderMonthText=function(t,e,n,i){var r=t.getModel("monthLabel");if(r.get("show")){var o=r.get("nameMap"),a=r.get("margin"),s=r.get("position"),l=r.get("align"),u=[this._tlpoints,this._blpoints];o&&!Object(v.isString)(o)||(o&&(e=yc(o)||e),o=e.get(["time","monthAbbr"])||[]);var c="start"===s?0:1,h="horizontal"===n?0:1;a="start"===s?-a:a;for(var d="center"===l,f=0;f<u[c].length-1;f++){var p=u[c][f].slice(),g=this._firstDayOfMonth[f];if(d){var m=this._firstDayPoints[f];p[h]=(m[h]+u[0][f+1][h])/2}var y=r.get("formatter"),b=o[+g.m-1],x={yyyy:g.y,yy:(g.y+"").slice(2),MM:g.m,M:+g.m,nameMap:b},w=this._formatterLabel(y,x),_=new _a({z2:30,style:Object(v.extend)(zu(r,{text:w}),this._monthTextPositionControl(p,d,n,s,a))});i.add(_)}}},e.prototype._weekTextPositionControl=function(t,e,n,i,r){var o="center",a="middle",s=t[0],l=t[1],u="start"===n;return"horizontal"===e?(s=s+i+(u?1:-1)*r[0]/2,o=u?"right":"left"):(l=l+i+(u?1:-1)*r[1]/2,a=u?"bottom":"top"),{x:s,y:l,align:o,verticalAlign:a}},e.prototype._renderWeekText=function(t,e,n,i,r){var o=t.getModel("dayLabel");if(o.get("show")){var a=t.coordinateSystem,s=o.get("position"),l=o.get("nameMap"),u=o.get("margin"),c=a.getFirstDayOfWeek();if(!l||Object(v.isString)(l))l&&(e=yc(l)||e),l=e.get(["time","dayOfWeekShort"])||Object(v.map)(e.get(["time","dayOfWeekAbbr"]),function(t){return t[0]});var h=a.getNextNDay(n.end.time,7-n.lweek).time,d=[a.getCellWidth(),a.getCellHeight()];u=hi(u,Math.min(d[1],d[0])),"start"===s&&(h=a.getNextNDay(n.start.time,-(7+n.fweek)).time,u=-u);for(var f=0;f<7;f++){var p,g=a.getNextNDay(h,f),m=a.dataToRect([g.time],!1).center;p=Math.abs((f+c)%7);var y=new _a({z2:30,style:Object(v.extend)(zu(o,{text:l[p]}),this._weekTextPositionControl(m,i,s,u,d))});r.add(y)}}},e.type="calendar",e}(hp);function Bj(t){var e=t.calendarModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem:null}var Fj=function(){function t(e,n,i){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(t){var e=(t=Si(t)).getFullYear(),n=t.getMonth()+1,i=n<10?"0"+n:""+n,r=t.getDate(),o=r<10?"0"+r:""+r,a=t.getDay();return{y:e+"",m:i,d:o,day:a=Math.abs((a+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+i+"-"+o,date:t}},t.prototype.getNextNDay=function(t,e){return 0===(e=e||0)?this.getDateInfo(t):((t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t))},t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],r=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),a="horizontal"===this._orient?[n,7]:[7,n];v.each([0,1],function(t){u(r,t)&&(o[i[t]]=r[t]*a[t])});var s={width:e.getWidth(),height:e.getHeight()},l=this._rect=ph(o,s);function u(t,e){return null!=t[e]&&"auto"!==t[e]}v.each([0,1],function(t){u(r,t)||(r[t]=l[i[t]]/a[t])}),this._sw=r[0],this._sh=r[1]},t.prototype.dataToPoint=function(t,e){v.isArray(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),i=this._rangeInfo,r=n.formatedDate;if(e&&!(n.time>=i.start.time&&n.time<i.end.time+864e5))return[NaN,NaN];var o=n.day,a=this._getRangeInfo([i.start.time,r]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},t.prototype.dataToRect=function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,i):this._getDateByWeeksAndDay(e,n-1,i)},t.prototype.convertToPixel=function(t,e,n){var i=Bj(e);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){var i=Bj(e);return i===this?i.pointToData(n):null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(v.isArray(e)&&1===e.length&&(e=e[0]),v.isArray(e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),r=i.date;r.setMonth(r.getMonth()+1);var o=this.getNextNDay(r,-1);t=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t},t.prototype._getRangeInfo=function(t){var e,n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];n[0].time>n[1].time&&(e=!0,n.reverse());var i=Math.floor(n[1].time/864e5)-Math.floor(n[0].time/864e5)+1,r=new Date(n[0].time),o=r.getDate(),a=n[1].date.getDate();r.setDate(o+i-1);var s=r.getDate();if(s!==a)for(var l=r.getTime()-n[1].time>0?1:-1;(s=r.getDate())!==a&&(r.getTime()-n[1].time)*l>0;)i-=l,r.setDate(s-l);var u=Math.floor((i+n[0].day+6)/7),c=e?1-u:u-1;return e&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:i,weeks:u,nthWeek:c,fweek:n[0].day,lweek:n[1].day}},t.prototype._getDateByWeeksAndDay=function(t,e,n){var i=this._getRangeInfo(n);if(t>i.weeks||0===t&&e<i.fweek||t===i.weeks&&e>i.lweek)return null;var r=7*(t-1)-i.fweek+e,o=new Date(i.start.time);return o.setDate(+i.start.d+r),this.getDateInfo(o)},t.create=function(e,n){var i=[];return e.eachComponent("calendar",function(r){var o=new t(r,e,n);i.push(o),r.coordinateSystem=o}),e.eachSeries(function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("calendarIndex")||0])}),i},t.dimensions=["time","value"],t}();function Gj(t,e){var n;return v.each(e,function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)}),n}var Vj=["transition","enterFrom","leaveTo"],Wj=Vj.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Hj(t,e,n){if(n&&(!t[n]&&e[n]&&(t[n]={}),t=t[n],e=e[n]),t&&e)for(var i=n?Vj:Wj,r=0;r<i.length;r++){var o=i[r];null==t[o]&&null!=e[o]&&(t[o]=e[o])}}var Uj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventAutoZ=!0,n}return p(e,t),e.prototype.mergeOption=function(e,n){var i=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,e,n),this.option.elements=i},e.prototype.optionUpdated=function(t,e){var n=this.option,i=(e?n:t).elements,r=n.elements=e?[]:n.elements,o=[];this._flatten(i,o,null);var a=Wi(r,o,"normalMerge"),s=this._elOptionsToUpdate=[];v.each(a,function(t,e){var n=t.newOption;n&&(s.push(n),function(t,e){var n=t.existing;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:n&&(e.parentId=n.parentId)}e.parentOption=null}(t,n),function(t,e,n){var i=v.extend({},n),r=t[e],o=n.$action||"merge";"merge"===o?r?(v.merge(r,i,!0),mh(r,i,{ignoreSize:!0}),bh(n,r),Hj(n,r),Hj(n,r,"shape"),Hj(n,r,"style"),Hj(n,r,"extra"),n.clipPath=r.clipPath):t[e]=i:"replace"===o?t[e]=i:"remove"===o&&r&&(t[e]=null)}(r,e,n),function(t,e){if(t&&(t.hv=e.hv=[Gj(e,["left","right"]),Gj(e,["top","bottom"])],"group"===t.type)){var n=t,i=e;null==n.width&&(n.width=i.width=0),null==n.height&&(n.height=i.height=0)}}(r[e],n))},this),n.elements=v.filter(r,function(t){return t&&delete t.$action,null!=t})},e.prototype._flatten=function(t,e,n){v.each(t,function(t){if(t){n&&(t.parentOption=n),e.push(t);var i=t.children;"group"===t.type&&i&&this._flatten(i,e,t),delete t.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(_h),Yj={path:null,compoundPath:null,group:Kn,image:Ko,text:_a},Jj=$i(),Qj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.init=function(){this._elMap=v.createHashMap()},e.prototype.render=function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,i=this.group,r=t.get("z"),o=t.get("zlevel");v.each(e,function(e){var a=Yi(e.id,null),s=null!=a?n.get(a):null,l=Yi(e.parentId,null),u=null!=l?n.get(l):i,c=e.type,h=e.style;"text"===c&&h&&e.hv&&e.hv[1]&&(h.textVerticalAlign=h.textBaseline=h.verticalAlign=h.align=null);var d=e.textContent,f=e.textConfig;if(h&&KN(h,c,!!f,!!d)){var p=qN(h,c,!0);!f&&p.textConfig&&(f=e.textConfig=p.textConfig),!d&&p.textContent&&(d=p.textContent)}var g=function(t){return t=v.extend({},t),v.each(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(ch),function(e){delete t[e]}),t}(e);var m=e.$action||"merge",y="merge"===m,b="replace"===m;if(y){var x=s;(k=!s)?x=$j(a,u,e.type,n):(x&&(Jj(x).isNew=!1),xL(x)),x&&(lL(x,g,t,{isInit:k}),Kj(x,e,r,o))}else if(b){Xj(s,e,n,t);var w=$j(a,u,e.type,n);w&&(lL(w,g,t,{isInit:!0}),Kj(w,e,r,o))}else"remove"===m&&(uL(s,e),Xj(s,e,n,t));var _=n.get(a);if(_&&d)if(y){var S=_.getTextContent();S?S.attr(d):_.setTextContent(new _a(d))}else b&&_.setTextContent(new _a(d));if(_){var M=e.clipPath;if(M){var C=M.type,I=void 0,k=!1;if(y){var T=_.getClipPath();I=(k=!T||Jj(T).type!==C)?Zj(C):T}else b&&(k=!0,I=Zj(C));_.setClipPath(I),lL(I,M,t,{isInit:k}),wL(I,M.keyframeAnimation,t)}var O=Jj(_);_.setTextConfig(f),O.option=e,function(t,e,n){var i=Sa(t).eventData;t.silent||t.ignore||i||(i=Sa(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name});i&&(i.info=n.info)}(_,t,e),Eu({el:_,componentModel:t,itemName:_.name,itemTooltipOption:e.tooltip}),wL(_,e.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,e){for(var n=t.option.elements,i=this.group,r=this._elMap,o=e.getWidth(),a=e.getHeight(),s=["x","y"],l=0;l<n.length;l++){if((p=null!=(f=Yi((d=n[l]).id,null))?r.get(f):null)&&p.isGroup){var u=(g=p.parent)===i,c=Jj(p),h=Jj(g);c.width=hi(c.option.width,u?o:h.width)||0,c.height=hi(c.option.height,u?a:h.height)||0}}for(l=n.length-1;l>=0;l--){var d,f,p;if(p=null!=(f=Yi((d=n[l]).id,null))?r.get(f):null){var g=p.parent,m=(h=Jj(g),{}),y=gh(p,d,g===i?{width:o,height:a}:{width:h.width,height:h.height},null,{hv:d.hv,boundingMode:d.bounding},m);if(!Jj(p).isNew&&y){for(var b=d.transition,x={},w=0;w<s.length;w++){var _=s[w],S=m[_];b&&(hL(b)||v.indexOf(b,_)>=0)?x[_]=S:p[_]=S}$l(p,x,t,0)}else p.attr(m)}}},e.prototype._clear=function(){var t=this,e=this._elMap;e.each(function(n){Xj(n,Jj(n).option,e,t._lastGraphicModel)}),this._elMap=v.createHashMap()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(hp);function Zj(t){var e=v.hasOwn(Yj,t)?Yj[t]:cu(t);var n=new e({});return Jj(n).type=t,n}function $j(t,e,n,i){var r=Zj(n);return e.add(r),i.set(t,r),Jj(r).id=t,Jj(r).isNew=!0,r}function Xj(t,e,n,i){t&&t.parent&&("group"===t.type&&t.traverse(function(t){Xj(t,e,n,i)}),cL(t,e,i),n.removeKey(Jj(t).id))}function Kj(t,e,n,i){if(!t.isGroup){var r=t;r.z=v.retrieve2(e.z,n||0),r.zlevel=v.retrieve2(e.zlevel,i||0);var o=e.z2;null!=o&&(r.z2=o||0)}v.each(v.keys(e),function(n){var i=e[n];0===n.indexOf("on")&&v.isFunction(i)&&(t[n]=i)}),t.draggable=e.draggable,null!=e.name&&(t.name=e.name),null!=e.id&&(t.id=e.id)}var qj=["x","y","radius","angle","single"],tP=["cartesian2d","polar","singleAxis"];function eP(t){return t+"Axis"}function nP(t,e){var n,i=Object(v.createHashMap)(),r=[],o=Object(v.createHashMap)();t.eachComponent({mainType:"dataZoom",query:e},function(t){o.get(t.uid)||s(t)});do{n=!1,t.eachComponent("dataZoom",a)}while(n);function a(t){!o.get(t.uid)&&function(t){var e=!1;return t.eachTargetAxis(function(t,n){var r=i.get(t);r&&r[n]&&(e=!0)}),e}(t)&&(s(t),n=!0)}function s(t){o.set(t.uid,!0),r.push(t),t.eachTargetAxis(function(t,e){(i.get(t)||i.set(t,[]))[e]=!0})}return r}function iP(t){var e=t.ecModel,n={infoList:[],infoMap:Object(v.createHashMap)()};return t.eachTargetAxis(function(t,i){var r=e.getComponent(eP(t),i);if(r){var o=r.getCoordSysModel();if(o){var a=o.uid,s=n.infoMap.get(a);s||(s={model:o,axisModels:[]},n.infoList.push(s),n.infoMap.set(a,s)),s.axisModels.push(r)}}}),n}var rP=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}();function oP(t){var e={};return Object(v.each)(["start","end","startValue","endValue","throttle"],function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}var aP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return p(e,t),e.prototype.init=function(t,e,n){var i=oP(t);this.settledOption=i,this.mergeDefaultAndTheme(t,n),this._doInit(i)},e.prototype.mergeOption=function(t){var e=oP(t);Object(v.merge)(this.option,t,!0),Object(v.merge)(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var n=this.settledOption;Object(v.each)([["start","startValue"],["end","endValue"]],function(t,i){"value"===this._rangePropMode[i]&&(e[t[0]]=n[t[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=Object(v.createHashMap)();this._fillSpecifiedTargetAxis(e)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each(function(t){t.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return Object(v.each)(qj,function(n){var i=this.getReferringComponents(eP(n),er);if(i.specified){e=!0;var r=new rP;Object(v.each)(i.models,function(t){r.add(t.componentIndex)}),t.set(n,r)}},this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var n=this.ecModel,i=!0;if(i){var r="vertical"===e?"y":"x";o(n.findComponents({mainType:r+"Axis"}),r)}i&&o(n.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}}),"single");function o(e,n){var r=e[0];if(r){var o=new rP;if(o.add(r.componentIndex),t.set(n,o),i=!1,"x"===n||"y"===n){var a=r.getReferringComponents("grid",tr).models[0];a&&Object(v.each)(e,function(t){r.componentIndex!==t.componentIndex&&a===t.getReferringComponents("grid",tr).models[0]&&o.add(t.componentIndex)})}}}i&&Object(v.each)(qj,function(e){if(i){var r=n.findComponents({mainType:eP(e),filter:function(t){return"category"===t.get("type",!0)}});if(r[0]){var o=new rP;o.add(r[0].componentIndex),t.set(e,o),i=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(e){!t&&(t=e)},this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,n=this.get("rangeMode");Object(v.each)([["start","startValue"],["end","endValue"]],function(i,r){var o=null!=t[i[0]],a=null!=t[i[1]];o&&!a?e[r]="percent":!o&&a?e[r]="value":n?e[r]=n[r]:o&&(e[r]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(e,n){null==t&&(t=this.ecModel.getComponent(eP(e),n))},this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each(function(n,i){Object(v.each)(n.indexList,function(n){t.call(e,i,n)})})},e.prototype.getAxisProxy=function(t,e){var n=this.getAxisModel(t,e);if(n)return n.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(eP(t),e)},e.prototype.setRawRange=function(t){var e=this.option,n=this.settledOption;Object(v.each)([["start","startValue"],["end","endValue"]],function(i){null==t[i[0]]&&null==t[i[1]]||(e[i[0]]=n[i[0]]=t[i[0]],e[i[1]]=n[i[1]]=t[i[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;Object(v.each)(["start","startValue","end","endValue"],function(n){e[n]=t[n]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var r=n[i],o=this._targetAxisInfoMap.get(r),a=0;a<o.indexList.length;a++){var s=this.getAxisProxy(r,o.indexList[a]);if(s.hostedBy(this))return s;e||(e=s)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(_h),sP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.type="dataZoom.select",e}(aP),lP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n,i){this.dataZoomModel=t,this.ecModel=e,this.api=n},e.type="dataZoom",e}(hp),uP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.type="dataZoom.select",e}(lP),cP=v.each,hP=fi;var dP=function(){function t(t,e,n,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=n}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(function(t){var e=t.get("coordinateSystem");return Object(v.indexOf)(tP,e)>=0}(e)){var n=eP(this._dimName),i=e.getReferringComponents(n,tr).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}},this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return v.clone(this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,i=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[],s=[];cP(["start","end"],function(l,u){var c=t[l],h=t[l+"Value"];"percent"===r[u]?(null==c&&(c=o[u]),h=i.parse(ci(c,o,n))):(e=!0,c=ci(h=null==h?n[u]:i.parse(h),n,o)),s[u]=h,a[u]=c}),hP(s),hP(a);var l=this._minMaxSpan;function u(t,e,n,r,o){var a=o?"Span":"ValueSpan";TO(0,t,n,"all",l["min"+a],l["max"+a]);for(var s=0;s<2;s++)e[s]=ci(t[s],n,r,!0),o&&(e[s]=i.parse(e[s]))}return e?u(s,a,n,o,!1):u(a,s,o,n,!0),{valueWindow:s,percentWindow:a}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,n){var i=[1/0,-1/0];cP(n,function(t){!function(t,e,n){e&&v.each(wb(e,n),function(n){var i=e.getApproximateExtent(n);i[0]<t[0]&&(t[0]=i[0]),i[1]>t[1]&&(t[1]=i[1])})}(i,t.getData(),e)});var r=t.getAxisModel(),o=db(r.axis.scale,r,i).calculate();return[o.min,o.max]}(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),r=t.get("filterMode"),o=this._valueWindow;"none"!==r&&cP(i,function(t){var e=t.getData(),i=e.mapDimensionsAll(n);if(i.length){if("weakFilter"===r){var a=e.getStore(),s=v.map(i,function(t){return e.getDimensionIndex(t)},e);e.filterSelf(function(t){for(var e,n,r,l=0;l<i.length;l++){var u=a.get(s[l],t),c=!isNaN(u),h=u<o[0],d=u>o[1];if(c&&!h&&!d)return!0;c&&(r=!0),h&&(e=!0),d&&(n=!0)}return r&&e&&n})}else cP(i,function(n){if("empty"===r)t.setData(e=e.map(n,function(t){return function(t){return t>=o[0]&&t<=o[1]}(t)?t:NaN}));else{var i={};i[n]=o,e.selectRange(i)}});cP(i,function(t){e.setApproximateExtent(o,t)})}})}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;cP(["min","max"],function(i){var r=e.get(i+"Span"),o=e.get(i+"ValueSpan");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?r=ci(n[0]+o,n,[0,100],!0):null!=r&&(o=ci(r,[0,100],n,!0)-n[0]),t[i+"Span"]=r,t[i+"ValueSpan"]=o},this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var i=vi(n,[0,500]);i=Math.min(i,20);var r=t.axis.scale.rawExtentInfo;0!==e[0]&&r.setDeterminedMinMax("min",+n[0].toFixed(i)),100!==e[1]&&r.setDeterminedMinMax("max",+n[1].toFixed(i)),r.freeze()}},t}(),fP={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(i,r){var o=t.getComponent(eP(i),r);e(i,r,o,n)})})}e(function(t,e,n,i){n.__dzAxisProxy=null});var n=[];e(function(e,i,r,o){r.__dzAxisProxy||(r.__dzAxisProxy=new dP(e,i,o,t),n.push(r.__dzAxisProxy))});var i=Object(v.createHashMap)();return Object(v.each)(n,function(t){Object(v.each)(t.getTargetSeriesModels(),function(t){i.set(t.uid,t)})}),i},overallReset:function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(e,n){t.getAxisProxy(e,n).reset(t)}),t.eachTargetAxis(function(n,i){t.getAxisProxy(n,i).filterData(t,e)})}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy();if(e){var n=e.getDataPercentWindow(),i=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}})}};var pP=!1;function gP(t){pP||(pP=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,fP),function(t){t.registerAction("dataZoom",function(t,e){var n=nP(e,t);Object(v.each)(n,function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}(t),t.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function vP(t){t.registerComponentModel(sP),t.registerComponentView(uP),gP(t)}var mP=function(){return function(){}}(),yP={};function bP(t,e){yP[t]=e}function xP(t){return yP[t]}var wP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;v.each(this.option.feature,function(t,n){var i=xP(n);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(e)),v.merge(t,i.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(_h);function _P(t,e){var n=$c(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),t=new aa({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}var SP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.render=function(t,e,n,i){var r=this.group;if(r.removeAll(),t.get("show")){var o=+t.get("itemSize"),a=t.get("feature")||{},s=this._features||(this._features={}),l=[];v.each(a,function(t,e){l.push(e)}),new Nm(this._featureNames||[],l).add(u).update(u).remove(v.curry(u,null)).execute(),this._featureNames=l,function(t,e,n){var i=e.getBoxLayoutParams(),r=e.get("padding"),o={width:n.getWidth(),height:n.getHeight()},a=ph(i,o,r);fh(e.get("orient"),t,e.get("itemGap"),a.width,a.height),gh(t,i,o,r)}(r,t,n),r.add(_P(r.getBoundingRect(),t)),r.eachChild(function(t){var e=t.__title,i=t.ensureState("emphasis"),a=i.textConfig||(i.textConfig={}),s=t.getTextContent(),l=s&&s.states.emphasis;if(l&&!v.isFunction(l)&&e){var u=l.style||(l.style={}),c=Pn(e,_a.makeFont(u)),h=t.x+r.x,d=!1;t.y+r.y+o+c.height>n.getHeight()&&(a.position="top",d=!0);var f=d?-5-c.height:o+8;h+c.width/2>n.getWidth()?(a.position=["100%",f],u.align="right"):h-c.width/2<0&&(a.position=[0,f],u.align="left")}})}function u(u,c){var h,d=l[u],f=l[c],p=a[d],g=new sc(p,t,t.ecModel);if(i&&null!=i.newTitle&&i.featureName===d&&(p.title=i.newTitle),d&&!f){if(function(t){return 0===t.indexOf("my")}(d))h={onclick:g.option.onclick,featureName:d};else{var m=xP(d);if(!m)return;h=new m}s[d]=h}else if(!(h=s[f]))return;h.uid=uc("toolbox-feature"),h.model=g,h.ecModel=e,h.api=n;var y=h instanceof mP;d||!f?!g.get("show")||y&&h.unusable?y&&h.remove&&h.remove(e,n):(!function(i,a,s){var l,u,c=i.getModel("iconStyle"),h=i.getModel(["emphasis","iconStyle"]),d=a instanceof mP&&a.getIcons?a.getIcons():i.get("icon"),f=i.get("title")||{};v.isString(d)?(l={})[s]=d:l=d;v.isString(f)?(u={})[s]=f:u=f;var p=i.iconPaths={};v.each(l,function(s,l){var d=Iu(s,{},{x:-o/2,y:-o/2,width:o,height:o});d.setStyle(c.getItemStyle());var f=d.ensureState("emphasis");f.style=h.getItemStyle();var g=new _a({style:{text:u[l],align:h.get("textAlign"),borderRadius:h.get("textBorderRadius"),padding:h.get("textPadding"),fill:null},ignore:!0});d.setTextContent(g),Eu({el:d,componentModel:t,itemName:l,formatterParamsExtra:{title:u[l]}}),d.__title=u[l],d.on("mouseover",function(){var e=h.getItemStyle(),n="vertical"===t.get("orient")?null==t.get("right")?"right":"left":null==t.get("bottom")?"bottom":"top";g.setStyle({fill:h.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:h.get("textBackgroundColor")}),d.setTextConfig({position:h.get("textPosition")||n}),g.ignore=!t.get("showTitle"),rs(this)}).on("mouseout",function(){"emphasis"!==i.get(["iconStatus",l])&&os(this),g.hide()}),("emphasis"===i.get(["iconStatus",l])?rs:os)(d),r.add(d),d.on("click",v.bind(a.onclick,a,e,n,l)),p[l]=d})}(g,h,d),g.setIconStatus=function(t,e){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,i[t]&&("emphasis"===e?rs:os)(i[t])},h instanceof mP&&h.render&&h.render(g,e,n,i)):y&&h.dispose&&h.dispose(e,n)}},e.prototype.updateView=function(t,e,n,i){v.each(this._features,function(t){t instanceof mP&&t.updateView&&t.updateView(t.model,e,n,i)})},e.prototype.remove=function(t,e){v.each(this._features,function(n){n instanceof mP&&n.remove&&n.remove(t,e)}),this.group.removeAll()},e.prototype.dispose=function(t,e){v.each(this._features,function(n){n instanceof mP&&n.dispose&&n.dispose(t,e)})},e.type="toolbox",e}(hp),MP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.onclick=function(t,e){var n=this.model,i=n.get("name")||t.get("title.0.text")||"echarts",r="svg"===e.getZr().painter.getType(),o=r?"svg":n.get("type",!0)||"png",a=e.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),s=g.a.browser;if(Object(v.isFunction)(MouseEvent)&&(s.newEdge||!s.ie&&!s.edge)){var l=document.createElement("a");l.download=i+"."+o,l.target="_blank",l.href=a;var u=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});l.dispatchEvent(u)}else if(window.navigator.msSaveOrOpenBlob||r){var c=a.split(","),h=c[0].indexOf("base64")>-1,d=r?decodeURIComponent(c[1]):c[1];h&&(d=window.atob(d));var f=i+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var p=d.length,m=new Uint8Array(p);p--;)m[p]=d.charCodeAt(p);var y=new Blob([m]);window.navigator.msSaveOrOpenBlob(y,f)}else{var b=document.createElement("iframe");document.body.appendChild(b);var x=b.contentWindow,w=x.document;w.open("image/svg+xml","replace"),w.write(d),w.close(),x.focus(),w.execCommand("SaveAs",!0,f),document.body.removeChild(b)}}else{var _=n.get("lang"),S='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(_&&_[0]||"")+'" /></body>',M=window.open();M.document.write(S),M.document.title=i}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},e}(mP),CP=[["line","bar"],["stack"]],IP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return v.each(t.get("type"),function(t){e[t]&&(n[t]=e[t])}),n},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,e,n){var i=this.model,r=i.get(["seriesIndex",n]);if(kP[n]){var o,a={series:[]};v.each(CP,function(t){v.indexOf(t,n)>=0&&v.each(t,function(t){i.setIconStatus(t,"normal")})}),i.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},function(t){var e=t.subType,r=t.id,o=kP[n](e,r,t,i);o&&(v.defaults(o,t.option),a.series.push(o));var s=t.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===n||"bar"===n)){var l=s.getAxesByScale("ordinal")[0];if(l){var u=l.dim+"Axis",c=t.getReferringComponents(u,tr).models[0].componentIndex;a[u]=a[u]||[];for(var h=0;h<=c;h++)a[u][c]=a[u][c]||{};a[u][c].boundaryGap="bar"===n}}});var s=n;"stack"===n&&(o=v.merge({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),"emphasis"!==i.get(["iconStatus",n])&&(s="tiled")),e.dispatchAction({type:"changeMagicType",currentType:s,newOption:a,newTitle:o,featureName:"magicType"})}},e}(mP),kP={line:function(t,e,n,i){if("bar"===t)return v.merge({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(t,e,n,i){if("line"===t)return v.merge({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(t,e,n,i){var r="__ec_magicType_stack__"===n.get("stack");if("line"===t||"bar"===t)return i.setIconStatus("stack",r?"normal":"emphasis"),v.merge({id:e,stack:r?"":"__ec_magicType_stack__"},i.get(["option","stack"])||{},!0)}};pm({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)});var TP=IP,OP=new Array(60).join("-"),EP="\t";function AP(t){var e,n,i,r=function(t){var e={},n=[],i=[];return t.eachRawSeries(function(t){var r=t.coordinateSystem;if(!r||"cartesian2d"!==r.type&&"polar"!==r.type)n.push(t);else{var o=r.getBaseAxis();if("category"===o.type){var a=o.dim+"_"+o.index;e[a]||(e[a]={categoryAxis:o,valueAxis:r.getOtherAxis(o),series:[]},i.push({axisDim:o.dim,axisIndex:o.index})),e[a].series.push(t)}else n.push(t)}}),{seriesGroupByCategoryAxis:e,other:n,meta:i}}(t);return{value:v.filter([(n=r.seriesGroupByCategoryAxis,i=[],v.each(n,function(t,e){var n=t.categoryAxis,r=t.valueAxis.dim,o=[" "].concat(v.map(t.series,function(t){return t.name})),a=[n.model.getCategories()];v.each(t.series,function(t){var e=t.getRawData();a.push(t.getRawData().mapArray(e.mapDimension(r),function(t){return t}))});for(var s=[o.join(EP)],l=0;l<a[0].length;l++){for(var u=[],c=0;c<a.length;c++)u.push(a[c][l]);s.push(u.join(EP))}i.push(s.join("\n"))}),i.join("\n\n"+OP+"\n\n")),(e=r.other,v.map(e,function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,function(){for(var t=arguments.length,r=arguments[t-1],o=e.getName(r),a=0;a<t-1;a++)i[a]=arguments[a];n.push((o?o+EP:"")+i.join(EP))}),n.join("\n")}).join("\n\n"+OP+"\n\n"))],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+OP+"\n\n"),meta:r.meta}}function NP(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var LP=new RegExp("["+EP+"]+","g");function DP(t,e){var n=t.split(new RegExp("\n*"+OP+"\n*","g")),i={series:[]};return v.each(n,function(t,n){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf(EP)>=0)return!0}(t)){var r=function(t){for(var e=t.split(/\n+/g),n=NP(e.shift()).split(LP),i=[],r=v.map(n,function(t){return{name:t,data:[]}}),o=0;o<e.length;o++){var a=NP(e[o]).split(LP);i.push(a.shift());for(var s=0;s<a.length;s++)r[s]&&(r[s].data[o]=a[s])}return{series:r,categories:i}}(t),o=e[n],a=o.axisDim+"Axis";o&&(i[a]=i[a]||[],i[a][o.axisIndex]={data:r.categories},i.series=i.series.concat(r.series))}else{r=function(t){for(var e=t.split(/\n+/g),n=NP(e.shift()),i=[],r=0;r<e.length;r++){var o=NP(e[r]);if(o){var a=o.split(LP),s="",l=void 0,u=!1;isNaN(a[0])?(u=!0,s=a[0],a=a.slice(1),i[r]={name:s,value:[]},l=i[r].value):l=i[r]=[];for(var c=0;c<a.length;c++)l.push(+a[c]);1===l.length&&(u?i[r].value=l[0]:i[r]=l[0])}}return{name:n,data:i}}(t);i.series.push(r)}}),i}var jP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.onclick=function(t,e){var n=e.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var r=document.createElement("div");r.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",r.style.backgroundColor=i.get("backgroundColor")||"#fff";var o=document.createElement("h4"),a=i.get("lang")||[];o.innerHTML=a[0]||i.get("title"),o.style.cssText="margin: 10px 20px;",o.style.color=i.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="display:block;width:100%;overflow:auto;";var u=i.get("optionToContent"),c=i.get("contentToOption"),h=AP(t);if(v.isFunction(u)){var d=u(e.getOption());v.isString(d)?s.innerHTML=d:v.isDom(d)&&s.appendChild(d)}else s.appendChild(l),l.readOnly=i.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=i.get("textColor"),l.style.borderColor=i.get("textareaBorderColor"),l.style.backgroundColor=i.get("textareaColor"),l.value=h.value;var f=h.meta,p=document.createElement("div");p.style.cssText="position:absolute;bottom:0;left:0;right:0;";var g="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",m=document.createElement("div"),y=document.createElement("div");g+=";background-color:"+i.get("buttonColor"),g+=";color:"+i.get("buttonTextColor");var b=this;function x(){n.removeChild(r),b._dom=null}st(m,"click",x),st(y,"click",function(){if(null==c&&null!=u||null!=c&&null==u)x();else{var t;try{t=v.isFunction(c)?c(s,e.getOption()):DP(l.value,f)}catch(t){throw x(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),x()}}),m.innerHTML=a[1],y.innerHTML=a[2],y.style.cssText=g,m.style.cssText=g,!i.get("readOnly")&&p.appendChild(y),p.appendChild(m),r.appendChild(o),r.appendChild(s),r.appendChild(p),s.style.height=n.clientHeight-80+"px",n.appendChild(r),this._dom=r},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(mP);pm({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var n=[];v.each(t.newOption.series,function(t){var i=e.getSeriesByName(t.name)[0];if(i){var r=i.get("data");n.push({name:t.name,data:function(t,e){return v.map(t,function(t,n){var i=e&&e[n];if(v.isObject(i)&&!v.isArray(i)){v.isObject(t)&&!v.isArray(t)||(t={value:t});var r=null!=i.name&&null==t.name;return t=v.defaults(t,i),r&&delete t.name,t}return t})}(t.data,r)})}else n.push(v.extend({type:"scatter"},t))}),e.mergeOption(v.defaults({series:n},t.newOption))});var PP=jP,RP=v.each,zP=$i();function BP(t){var e=zP(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var FP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.onclick=function(t,e){!function(t){zP(t).snapshots=null}(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},e}(mP);pm({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var GP=FP,VP=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],WP=function(){function t(t,e,n){var i=this;this._targetInfoList=[];var r=UP(e,t);Object(v.each)(YP,function(t,e){(!n||!n.include||Object(v.indexOf)(n.include,e)>=0)&&t(r,i._targetInfoList)})}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var i=ZP[t.brushType](0,n,e);t.__rangeOffset={offset:XP[t.brushType](i.values,t.range,[1,1]),xyMinMax:i.xyMinMax}}}),t},t.prototype.matchOutputRanges=function(t,e,n){Object(v.each)(t,function(t){var i=this.findTargetInfo(t,e);i&&!0!==i&&Object(v.each)(i.coordSyses,function(i){var r=ZP[t.brushType](1,i,t.range,!0);n(t,r.values,i,e)})},this)},t.prototype.setInputRanges=function(t,e){Object(v.each)(t,function(t){var n,i,r,o,a,s=this.findTargetInfo(t,e);if(t.range=t.range||[],s&&!0!==s){t.panelId=s.panelId;var l=ZP[t.brushType](0,s.coordSys,t.coordRange),u=t.__rangeOffset;t.range=u?XP[t.brushType](l.values,u.offset,(n=l.xyMinMax,i=u.xyMinMax,r=qP(n),o=qP(i),a=[r[0]/o[0],r[1]/o[1]],isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a)):l.values}},this)},t.prototype.makePanelOpts=function(t,e){return Object(v.map)(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:NE(i),isTargetByCursor:DE(i,t,n.coordSysModel),getLinearBrushOtherExtent:LE(i)}})},t.prototype.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return!0===i||i&&Object(v.indexOf)(i.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=UP(e,t),r=0;r<n.length;r++){var o=n[r],a=t.panelId;if(a){if(o.panelId===a)return o}else for(var s=0;s<JP.length;s++)if(JP[s](i,o))return o}return!0},t}();function HP(t){return t[0]>t[1]&&t.reverse(),t}function UP(t,e){return Ki(t,e,{includeMainTypes:VP})}var YP={grid:function(t,e){var n=t.xAxisModels,i=t.yAxisModels,r=t.gridModels,o=Object(v.createHashMap)(),a={},s={};(n||i||r)&&(Object(v.each)(n,function(t){var e=t.axis.grid.model;o.set(e.id,e),a[e.id]=!0}),Object(v.each)(i,function(t){var e=t.axis.grid.model;o.set(e.id,e),s[e.id]=!0}),Object(v.each)(r,function(t){o.set(t.id,t),a[t.id]=!0,s[t.id]=!0}),o.each(function(t){var r=t.coordinateSystem,o=[];Object(v.each)(r.getCartesians(),function(t,e){(Object(v.indexOf)(n,t.getAxis("x").model)>=0||Object(v.indexOf)(i,t.getAxis("y").model)>=0)&&o.push(t)}),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:o[0],coordSyses:o,getPanelRect:QP.grid,xAxisDeclared:a[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,e){Object(v.each)(t.geoModels,function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:QP.geo})})}},JP=[function(t,e){var n=t.xAxisModel,i=t.yAxisModel,r=t.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],QP={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(bu(t)),e}},ZP={lineX:Object(v.curry)($P,0),lineY:Object(v.curry)($P,1),rect:function(t,e,n,i){var r=t?e.pointToData([n[0][0],n[1][0]],i):e.dataToPoint([n[0][0],n[1][0]],i),o=t?e.pointToData([n[0][1],n[1][1]],i):e.dataToPoint([n[0][1],n[1][1]],i),a=[HP([r[0],o[0]]),HP([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(t,e,n,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:Object(v.map)(n,function(n){var o=t?e.pointToData(n,i):e.dataToPoint(n,i);return r[0][0]=Math.min(r[0][0],o[0]),r[1][0]=Math.min(r[1][0],o[1]),r[0][1]=Math.max(r[0][1],o[0]),r[1][1]=Math.max(r[1][1],o[1]),o}),xyMinMax:r}}};function $P(t,e,n,i){var r=n.getAxis(["x","y"][t]),o=HP(Object(v.map)([0,1],function(t){return e?r.coordToData(r.toLocalCoord(i[t]),!0):r.toGlobalCoord(r.dataToCoord(i[t]))})),a=[];return a[t]=o,a[1-t]=[NaN,NaN],{values:o,xyMinMax:a}}var XP={lineX:Object(v.curry)(KP,0),lineY:Object(v.curry)(KP,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return Object(v.map)(t,function(t,i){return[t[0]-n[0]*e[i][0],t[1]-n[1]*e[i][1]]})}};function KP(t,e,n,i){return[e[0]-i[t]*n[0],e[1]-i[t]*n[1]]}function qP(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var tR,eR,nR=WP,iR=v.each,rR=Ri+"toolbox-dataZoom_",oR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.render=function(t,e,n,i){this._brushController||(this._brushController=new AE(n.getZr()),this._brushController.on("brush",v.bind(this._onBrush,this)).mount()),function(t,e,n,i,r){var o=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(o="dataZoomSelect"===i.key&&i.dataZoomSelectActive);n._isZoomActive=o,t.setIconStatus("zoom",o?"emphasis":"normal");var a=new nR(sR(t),e,{include:["grid"]}).makePanelOpts(r,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"});n._brushController.setPanels(a).enableBrush(!(!o||!a.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}(t,e,this,i,n),function(t,e){t.setIconStatus("back",function(t){return BP(t).length}(e)>1?"emphasis":"normal")}(t,e)},e.prototype.onclick=function(t,e,n){aR[n].call(this)},e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var n={},i=this.ecModel;this._brushController.updateCovers([]),new nR(sR(this.model),i,{include:["grid"]}).matchOutputRanges(e,i,function(t,e,n){if("cartesian2d"===n.type){var i=t.brushType;"rect"===i?(r("x",n,e[0]),r("y",n,e[1])):r({lineX:"x",lineY:"y"}[i],n,e)}}),function(t,e){var n=BP(t);RP(e,function(e,i){for(var r=n.length-1;r>=0&&!n[r][i];r--);if(r<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var a=o.getPercentRange();n[0][i]={dataZoomId:i,start:a[0],end:a[1]}}}}),n.push(e)}(i,n),this._dispatchZoomAction(n)}function r(t,e,r){var o=e.getAxis(t),a=o.model,s=function(t,e,n){var i;return n.eachComponent({mainType:"dataZoom",subType:"select"},function(n){n.getAxisModel(t,e.componentIndex)&&(i=n)}),i}(t,a,i),l=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==l.minValueSpan&&null==l.maxValueSpan||(r=TO(0,r.slice(),o.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:r[0],endValue:r[1]})}},e.prototype._dispatchZoomAction=function(t){var e=[];iR(t,function(t,n){e.push(v.clone(t))}),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(mP),aR={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(function(t){var e=BP(t),n=e[e.length-1];e.length>1&&e.pop();var i={};return RP(n,function(t,n){for(var r=e.length-1;r>=0;r--)if(t=e[r][n]){i[n]=t;break}}),i}(this.ecModel))}};function sR(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}tR="dataZoom",eR=function(t){var e=t.getComponent("toolbox",0),n=["feature","dataZoom"];if(e&&null!=e.get(n)){var i=e.getModel(n),r=[],o=Ki(t,sR(i));return iR(o.xAxisModels,function(t){return a(t,"xAxis","xAxisIndex")}),iR(o.yAxisModels,function(t){return a(t,"yAxis","yAxisIndex")}),r}function a(t,e,n){var o=t.componentIndex,a={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:rR+e+o};a[n]=o,r.push(a)}},Object(v.assert)(null==Vh.get(tR)&&eR),Vh.set(tR,eR);var lR=oR;var uR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(_h);function cR(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function hR(t){if(g.a.domSupported)for(var e=document.documentElement.style,n=0,i=t.length;n<i;n++)if(t[n]in e)return t[n]}var dR=hR(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function fR(t,e){if(!t)return e;e=Zc(e,!0);var n=t.indexOf(e);return(t=-1===n?e:"-"+t.slice(0,n)+"-"+e).toLowerCase()}var pR=fR(hR(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),gR=fR(dR,"transform"),vR="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(g.a.transform3dSupported?"will-change:transform;":"");function mR(t,e,n){var i=t.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!g.a.transformSupported)return n?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=g.a.transform3dSupported,a="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return n?"top:0;left:0;"+gR+":"+a+";":[["top",0],["left",0],[dR,a]]}function yR(t,e,n){var i=[],r=t.get("transitionDuration"),o=t.get("backgroundColor"),a=t.get("shadowBlur"),s=t.get("shadowColor"),l=t.get("shadowOffsetX"),u=t.get("shadowOffsetY"),c=t.getModel("textStyle"),h=Zf(t,"html"),d=l+"px "+u+"px "+a+"px "+s;return i.push("box-shadow:"+d),e&&r&&i.push(function(t,e){var n=" "+t/2+"s cubic-bezier(0.23,1,0.32,1)",i="opacity"+n+",visibility"+n;return e||(n=" "+t+"s cubic-bezier(0.23,1,0.32,1)",i+=g.a.transformSupported?","+gR+n:",left"+n+",top"+n),pR+":"+i}(r,n)),o&&i.push("background-color:"+o),Object(v.each)(["width","color","radius"],function(e){var n="border-"+e,r=Zc(n),o=t.get(r);null!=o&&i.push(n+":"+o+("color"===e?"":"px"))}),i.push(function(t){var e=[],n=t.get("fontSize"),i=t.getTextColor();i&&e.push("color:"+i),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px");var r=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return r&&o&&e.push("text-shadow:"+a+"px "+s+"px "+o+"px "+r),Object(v.each)(["decoration","align"],function(n){var i=t.get(n);i&&e.push("text-"+n+":"+i)}),e.join(";")}(c)),null!=h&&i.push("padding:"+$c(h).join("px ")+"px"),i.join(";")+";"}function bR(t,e,n,i,r){var o=e&&e.painter;if(n){var a=o&&o.getViewportRoot();a&&function(t,e,n,i,r){K(X,e,i,r,!0)&&K(t,n,X[0],X[1])}(t,a,document.body,i,r)}else{t[0]=i,t[1]=r;var s=o&&o.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var xR=function(){function t(t,e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,g.a.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var r=this._zr=e.getZr(),o=this._appendToBody=n&&n.appendToBody;bR(this._styleCoord,r,o,e.getWidth()/2,e.getHeight()/2),o?document.body.appendChild(i):t.appendChild(i),this._container=t;var a=this;i.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},i.onmousemove=function(t){if(t=t||window.event,!a._enterable){var e=r.handler;at(r.painter.getViewportRoot(),t,!0),e.dispatch("mousemove",t)}},i.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return t.prototype.update=function(t){var e,n,i,r=this._container,o=(n="position",(i=(e=r).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?n?i[n]:i:null),a=r.style;"absolute"!==a.position&&"absolute"!==o&&(a.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,r=this._styleCoord;n.innerHTML?i.cssText=vR+yR(t,!this._firstShow,this._longHide)+mR(r[0],r[1],!0)+"border-color:"+sh(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,n,i,r){var o=this.el;if(null!=t){var a="";if(Object(v.isString)(r)&&"item"===n.get("trigger")&&!cR(n)&&(a=function(t,e,n){if(!Object(v.isString)(n)||"inside"===n)return"";var i=t.get("backgroundColor"),r=t.get("borderWidth");e=sh(e);var o,a,s=o="left"===(o=n)?"right":"right"===o?"left":"top"===o?"bottom":"top",l=Math.max(1.5*Math.round(r),6),u="",c=gR+":";Object(v.indexOf)(["left","right"],s)>-1?(u+="top:50%",c+="translateY(-50%) rotate("+(a="left"===s?-225:-45)+"deg)"):(u+="left:50%",c+="translateX(-50%) rotate("+(a="top"===s?225:45)+"deg)");var h=a*Math.PI/180,d=l+r,f=d*Math.abs(Math.cos(h))+d*Math.abs(Math.sin(h)),p=e+" solid "+r+"px;";return'<div style="'+["position:absolute;width:"+l+"px;height:"+l+"px;",(u+=";"+s+":-"+Math.round(100*((f-Math.SQRT2*r)/2+Math.SQRT2*r-(f-d)/2))/100+"px")+";"+c+";","border-bottom:"+p,"border-right:"+p,"background-color:"+i+";"].join("")+'"></div>'}(n,i,r)),Object(v.isString)(t))o.innerHTML=t+a;else if(t){o.innerHTML="",Object(v.isArray)(t)||(t=[t]);for(var s=0;s<t.length;s++)Object(v.isDom)(t[s])&&t[s].parentNode!==o&&o.appendChild(t[s]);if(a&&o.childNodes.length){var l=document.createElement("div");l.innerHTML=a,o.appendChild(l)}}}else o.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var n=this._styleCoord;if(bR(n,this._zr,this._appendToBody,t,e),null!=n[0]&&null!=n[1]){var i=this.el.style,r=mR(n[0],n[1]);Object(v.each)(r,function(t){i[t[0]]=t[1]})}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",g.a.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Object(v.bind)(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}();function wR(t){return Math.max(0,t)}function _R(t){var e=wR(t.shadowBlur||0),n=wR(t.shadowOffsetX||0),i=wR(t.shadowOffsetY||0);return{left:wR(e-n),right:wR(e+n),top:wR(e-i),bottom:wR(e+i)}}function SR(t,e,n,i){t[0]=n,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var MR=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),SR(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,n,i,r){var o=this;v.isObject(t)&&Di(""),this.el&&this._zr.remove(this.el);var a=n.getModel("textStyle");this.el=new _a({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:a.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:Zf(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),v.each(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(t){o.el.style[t]=n.get(t)}),v.each(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(t){o.el.style[t]=a.get(t)||0}),this._zr.add(this.el);var s=this;this.el.on("mouseover",function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0}),this.el.on("mouseout",function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1})},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=_R(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},t.prototype.moveTo=function(t,e){var n=this.el;if(n){var i=this._styleCoord;SR(i,this._zr,t,e),t=i[0],e=i[1];var r=n.style,o=wR(r.borderWidth||0),a=_R(r);n.x=t+o+a.left,n.y=e+o+a.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(v.bind(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}(),CR=new aa({shape:{x:-1,y:-1,width:2,height:2}});function IR(t,e,n){var i,r=e.ecModel;n?(i=new sc(n,r,r),i=new sc(e.option,i,r)):i=e;for(var o=t.length-1;o>=0;o--){var a=t[o];a&&(a instanceof sc&&(a=a.get("tooltip",!0)),Object(v.isString)(a)&&(a={formatter:a}),a&&(i=new sc(a,i,r)))}return i}function kR(t,e){return t.dispatchAction||Object(v.bind)(e.dispatchAction,e)}function TR(t){return"center"===t||"middle"===t}var OR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.init=function(t,e){if(!g.a.node&&e.getDom()){var n,i=t.getComponent("tooltip"),r=this._renderMode="auto"===(n=i.get("renderMode"))?g.a.domSupported?"html":"richText":n||"html";this._tooltipContent="richText"===r?new MR(e):new xR(e.getDom(),e,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(t,e,n){if(!g.a.node&&n.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._alwaysShowContent=t.get("alwaysShowContent");var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?Ip(this,"_updatePosition",50,"fixRate"):kp(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");bD("itemTooltip",this._api,Object(v.bind)(function(e,n,i){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,i):"leave"===e&&this._hide(i))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&i.manuallyShowTip(t,e,n,{x:i._lastX,y:i._lastY,dataByCoordSys:i._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,e,n,i){if(i.from!==this.uid&&!g.a.node&&n.getDom()){var r=kR(i,n);this._ticket="";var o=i.dataByCoordSys,a=function(t,e,n){var i=qi(t).queryOptionMap,r=i.keys()[0];if(!r||"series"===r)return;var o,a=nr(e,r,i.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(!a)return;if(n.getViewOfComponentModel(a).group.traverse(function(e){var n=Sa(e).tooltipConfig;if(n&&n.name===t.name)return o=e,!0}),o)return{componentMainType:r,componentIndex:a.componentIndex,el:o}}(i,e,n);if(a){var s=a.el.getBoundingRect().clone();s.applyTransform(a.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:a.el,position:i.position,positionDefault:"bottom"},r)}else if(i.tooltip&&null!=i.x&&null!=i.y){var l=CR;l.x=i.x,l.y=i.y,l.update(),Sa(l).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:l},r)}else if(o)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:o,tooltipOption:i.tooltipOption},r);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,i))return;var u=MD(i,e),c=u.point[0],h=u.point[1];null!=c&&null!=h&&this._tryShow({offsetX:c,offsetY:h,target:u.el,position:i.position,positionDefault:"bottom"},r)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},r))}},e.prototype.manuallyHideTip=function(t,e,n,i){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(kR(i,n))},e.prototype._manuallyAxisShowTip=function(t,e,n,i){var r=i.seriesIndex,o=i.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=a){var s=e.getSeriesByIndex(r);if(s)if("axis"===IR([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:i.position}),!0}},e.prototype._tryShow=function(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var i=t.dataByCoordSys;if(i&&i.length)this._showAxisTooltip(i,t);else if(n){var r,o;this._lastDataByCoordSys=null,pg(n,function(t){return null!=Sa(t).dataIndex?(r=t,!0):null!=Sa(t).tooltipConfig?(o=t,!0):void 0},!0),r?this._showSeriesItemTooltip(t,r,e):o?this._showComponentItemTooltip(t,o,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var n=t.get("showDelay");e=Object(v.bind)(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},e.prototype._showAxisTooltip=function(t,e){var n=this._ecModel,i=this._tooltipModel,r=[e.offsetX,e.offsetY],o=IR([e.tooltipOption],i),a=this._renderMode,s=[],l=Ff("section",{blocks:[],noHeader:!0}),u=[],c=new $f;Object(v.each)(t,function(t){Object(v.each)(t.dataByAxis,function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),r=t.value;if(e&&null!=r){var o=oD(r,e.axis,n,t.seriesDataIndices,t.valueLabelOpt),h=Ff("section",{header:o,noHeader:!Object(v.trim)(o),sortBlocks:!0,blocks:[]});l.blocks.push(h),Object(v.each)(t.seriesDataIndices,function(l){var d=n.getSeriesByIndex(l.seriesIndex),f=l.dataIndexInside,p=d.getDataParams(f);if(!(p.dataIndex<0)){p.axisDim=t.axisDim,p.axisIndex=t.axisIndex,p.axisType=t.axisType,p.axisId=t.axisId,p.axisValue=yb(e.axis,{value:r}),p.axisValueLabel=o,p.marker=c.makeTooltipMarker("item",sh(p.color),a);var g=nf(d.formatTooltip(f,!0,null)),m=g.frag;if(m){var y=IR([d],i).get("valueFormatter");h.blocks.push(y?Object(v.extend)({valueFormatter:y},m):m)}g.text&&u.push(g.text),s.push(p)}})}})}),l.blocks.reverse(),u.reverse();var h=e.position,d=o.get("order"),f=Uf(l,c,a,d,n.get("useUTC"),o.get("textStyle"));f&&u.unshift(f);var p="richText"===a?"\n\n":"<br/>",g=u.join(p);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(t,s)?this._updatePosition(o,h,r[0],r[1],this._tooltipContent,s):this._showTooltipContent(o,g,s,Math.random()+"",r[0],r[1],h,null,c)})},e.prototype._showSeriesItemTooltip=function(t,e,n){var i=this._ecModel,r=Sa(e),o=r.seriesIndex,a=i.getSeriesByIndex(o),s=r.dataModel||a,l=r.dataIndex,u=r.dataType,c=s.getData(u),h=this._renderMode,d=t.positionDefault,f=IR([c.getItemModel(l),s,a&&(a.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),p=f.get("trigger");if(null==p||"item"===p){var g=s.getDataParams(l,u),m=new $f;g.marker=m.makeTooltipMarker("item",sh(g.color),h);var y=nf(s.formatTooltip(l,!1,u)),b=f.get("order"),x=f.get("valueFormatter"),w=y.frag,_=w?Uf(x?Object(v.extend)({valueFormatter:x},w):w,m,h,b,i.get("useUTC"),f.get("textStyle")):y.text,S="item_"+s.name+"_"+l;this._showOrMove(f,function(){this._showTooltipContent(f,_,g,S,t.offsetX,t.offsetY,t.position,t.target,m)}),n({type:"showTip",dataIndexInside:l,dataIndex:c.getRawIndex(l),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,n){var i=Sa(e),r=i.tooltipConfig.option||{};if(Object(v.isString)(r)){r={content:r,formatter:r}}var o=[r],a=this._ecModel.getComponent(i.componentMainType,i.componentIndex);a&&o.push(a),o.push({formatter:r.content});var s=t.positionDefault,l=IR(o,this._tooltipModel,s?{position:s}:null),u=l.get("content"),c=Math.random()+"",h=new $f;this._showOrMove(l,function(){var n=Object(v.clone)(l.get("formatterParams")||{});this._showTooltipContent(l,u,n,c,t.offsetX,t.offsetY,t.position,e,h)}),n({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,n,i,r,o,a,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent,c=t.get("formatter");a=a||t.get("position");var h=e,d=this._getNearestPoint([r,o],n,t.get("trigger"),t.get("borderColor")).color;if(c)if(Object(v.isString)(c)){var f=t.ecModel.get("useUTC"),p=Object(v.isArray)(n)?n[0]:n;h=c,p&&p.axisType&&p.axisType.indexOf("time")>=0&&(h=Ec(p.axisValue,h,f)),h=ih(h,n,!0)}else if(Object(v.isFunction)(c)){var g=Object(v.bind)(function(e,i){e===this._ticket&&(u.setContent(i,l,t,d,a),this._updatePosition(t,a,r,o,u,n,s))},this);this._ticket=i,h=c(n,i,g)}else h=c;u.setContent(h,l,t,d,a),u.show(t,d),this._updatePosition(t,a,r,o,u,n,s)}},e.prototype._getNearestPoint=function(t,e,n,i){return"axis"===n||Object(v.isArray)(e)?{color:i||("html"===this._renderMode?"#fff":"none")}:Object(v.isArray)(e)?void 0:{color:i||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,n,i,r,o,a){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var u=r.getSize(),c=t.get("align"),h=t.get("verticalAlign"),d=a&&a.getBoundingRect().clone();if(a&&d.applyTransform(a.transform),Object(v.isFunction)(e)&&(e=e([n,i],o,r.el,d,{viewSize:[s,l],contentSize:u.slice()})),Object(v.isArray)(e))n=hi(e[0],s),i=hi(e[1],l);else if(Object(v.isObject)(e)){var f=e;f.width=u[0],f.height=u[1];var p=ph(f,{width:s,height:l});n=p.x,i=p.y,c=null,h=null}else if(Object(v.isString)(e)&&a){var g=function(t,e,n,i){var r=n[0],o=n[1],a=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,u=e.width,c=e.height;switch(t){case"inside":s=e.x+u/2-r/2,l=e.y+c/2-o/2;break;case"top":s=e.x+u/2-r/2,l=e.y-o-a;break;case"bottom":s=e.x+u/2-r/2,l=e.y+c+a;break;case"left":s=e.x-r-a,l=e.y+c/2-o/2;break;case"right":s=e.x+u+a,l=e.y+c/2-o/2}return[s,l]}(e,d,u,t.get("borderWidth"));n=g[0],i=g[1]}else{g=function(t,e,n,i,r,o,a){var s=n.getSize(),l=s[0],u=s[1];null!=o&&(t+l+o+2>i?t-=l+o:t+=o);null!=a&&(e+u+a>r?e-=u+a:e+=a);return[t,e]}(n,i,r,s,l,c?null:20,h?null:20);n=g[0],i=g[1]}if(c&&(n-=TR(c)?u[0]/2:"right"===c?u[0]:0),h&&(i-=TR(h)?u[1]/2:"bottom"===h?u[1]:0),cR(t)){g=function(t,e,n,i,r){var o=n.getSize(),a=o[0],s=o[1];return t=Math.min(t+a,i)-a,e=Math.min(e+s,r)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(n,i,r,s,l);n=g[0],i=g[1]}r.moveTo(n,i)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var n=this._lastDataByCoordSys,i=this._cbParamsList,r=!!n&&n.length===t.length;return r&&Object(v.each)(n,function(n,o){var a=n.dataByAxis||[],s=(t[o]||{}).dataByAxis||[];(r=r&&a.length===s.length)&&Object(v.each)(a,function(t,n){var o=s[n]||{},a=t.seriesDataIndices||[],l=o.seriesDataIndices||[];(r=r&&t.value===o.value&&t.axisType===o.axisType&&t.axisId===o.axisId&&a.length===l.length)&&Object(v.each)(a,function(t,e){var n=l[e];r=r&&t.seriesIndex===n.seriesIndex&&t.dataIndex===n.dataIndex}),i&&Object(v.each)(t.seriesDataIndices,function(t){var n=t.seriesIndex,o=e[n],a=i[n];o&&a&&a.data!==o.data&&(r=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=e,!!r},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){!g.a.node&&e.getDom()&&(kp(this,"_updatePosition"),this._tooltipContent.dispose(),_D("itemTooltip",e))},e.type="tooltip",e}(hp);var ER=["rect","polygon","keep","clear"];function AR(t,e){var n=zi(t?t.brush:[]);if(n.length){var i=[];v.each(n,function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(i=i.concat(e))});var r=t&&t.toolbox;v.isArray(r)&&(r=r[0]),r||(r={feature:{}},t.toolbox=[r]);var o,a,s=r.feature||(r.feature={}),l=s.brush||(s.brush={}),u=l.type||(l.type=[]);u.push.apply(u,i),o=u,a={},v.each(o,function(t){a[t]=1}),o.length=0,v.each(a,function(t,e){o.push(e)}),e&&!u.length&&u.push.apply(u,ER)}}var NR=v.each;function LR(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function DR(t,e,n){var i={};return NR(e,function(e){var r,o=i[e]=((r=function(){}).prototype.__hidden=r.prototype,new r);NR(t[e],function(t,i){if(Ak.isValidType(i)){var r={type:i,visual:t};n&&n(r,e),o[i]=new Ak(r),"opacity"===i&&((r=v.clone(r)).type="colorAlpha",o.__hidden.__alphaForOpacity=new Ak(r))}})}),i}function jR(t,e,n){var i;v.each(n,function(t){e.hasOwnProperty(t)&&LR(e[t])&&(i=!0)}),i&&v.each(n,function(n){e.hasOwnProperty(n)&&LR(e[n])?t[n]=v.clone(e[n]):delete t[n]})}var PR={lineX:RR(0),lineY:RR(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&Eb(n.range,t[0],t[1])},rect:function(t,e,n){var i=n.range;if(!t||i.length<=1)return!1;var r=t.x,o=t.y,a=t.width,s=t.height,l=i[0];return!!(Eb(i,r,o)||Eb(i,r+a,o)||Eb(i,r,o+s)||Eb(i,r+a,o+s)||En.create(t).contain(l[0],l[1])||ku(r,o,r+a,o,i)||ku(r,o,r,o+s,i)||ku(r+a,o,r+a,o+s,i)||ku(r,o+s,r+a,o+s,i))||void 0}}};function RR(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,i){if(e){var r=i.range;return zR(e[t],r)}},rect:function(i,r,o){if(i){var a=o.range,s=[i[e[t]],i[e[t]]+i[n[t]]];return s[1]<s[0]&&s.reverse(),zR(s[0],a)||zR(s[1],a)||zR(a[0],s)||zR(a[1],s)}}}}function zR(t,e){return e[0]<=t&&t<=e[1]}var BR=["inBrush","outOfBrush"],FR="__ecBrushSelect",GR="__ecInBrushSelectEvent";function VR(t){t.eachComponent({mainType:"brush"},function(e){(e.brushTargetManager=new nR(e.option,t)).setInputRanges(e.areas,t)})}function WR(t,e,n){var i,r,o=[];t.eachComponent({mainType:"brush"},function(t){n&&"takeGlobalCursor"===n.type&&t.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})}),VR(t),t.eachComponent({mainType:"brush"},function(e,n){var a={brushId:e.id,brushIndex:n,brushName:e.name,areas:v.clone(e.areas),selected:[]};o.push(a);var s=e.option,l=s.brushLink,u=[],c=[],h=[],d=!1;n||(i=s.throttleType,r=s.throttleDelay);var f=v.map(e.areas,function(t){var e=YR[t.brushType],n=v.defaults({boundingRect:e?e(t):void 0},t);return n.selectors=function(t){var e=t.brushType,n={point:function(i){return PR[e].point(i,n,t)},rect:function(i){return PR[e].rect(i,n,t)}};return n}(n),n}),p=DR(e.option,BR,function(t){t.mappingMethod="fixed"});function g(t){return"all"===l||!!u[t]}function m(t){return!!t.length}v.isArray(l)&&v.each(l,function(t){u[t]=1}),t.eachSeries(function(n,i){var r=h[i]=[];"parallel"===n.subType?function(t,e){var n=t.coordinateSystem;d=d||n.hasAxisBrushed(),g(e)&&n.eachActiveState(t.getData(),function(t,e){"active"===t&&(c[e]=1)})}(n,i):function(n,i,r){if(!n.brushSelector||function(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(v.isArray(n)?v.indexOf(n,e)<0:e!==n)}(e,i))return;if(v.each(f,function(i){e.brushTargetManager.controlSeries(i,n,t)&&r.push(i),d=d||m(r)}),g(i)&&m(r)){var o=n.getData();o.each(function(t){UR(n,r,o,t)&&(c[t]=1)})}}(n,i,r)}),t.eachSeries(function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};a.selected.push(n);var i=h[e],r=t.getData(),o=g(e)?function(t){return c[t]?(n.dataIndex.push(r.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(e){return UR(t,i,r,e)?(n.dataIndex.push(r.getRawIndex(e)),"inBrush"):"outOfBrush"};(g(e)?d:m(i))&&function(t,e,n,i,r,o){var a,s={};function l(t){return ug(n,a,t)}function u(t,e){hg(n,a,t,e)}function c(t,c){a=null==o?t:c;var h=n.getRawDataItem(a);if(!h||!1!==h.visualMap)for(var d=i.call(r,t),f=e[d],p=s[d],g=0,v=p.length;g<v;g++){var m=p[g];f[m]&&f[m].applyVisual(t,l,u)}}v.each(t,function(t){var n=Ak.prepareVisualTypes(e[t]);s[t]=n}),null==o?n.each(c):n.each([o],c)}(BR,p,r,o)})}),function(t,e,n,i,r){if(!r)return;var o=t.getZr();if(o[GR])return;o[FR]||(o[FR]=HR);Ip(o,FR,n,e)(t,i)}(e,i,r,o,n)}function HR(t,e){if(!t.isDisposed()){var n=t.getZr();n[GR]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[GR]=!1}}function UR(t,e,n,i){for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t.brushSelector(i,n,a.selectors,a))return!0}}var YR={rect:function(t){return JR(t.range)},polygon:function(t){for(var e,n=t.range,i=0,r=n.length;i<r;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=n[i];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&JR(e)}};function JR(t){return new En(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var QR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new AE(e.getZr())).on("brush",v.bind(this._onBrush,this)).mount()},e.prototype.render=function(t,e,n,i){this.model=t,this._updateController(t,e,n,i)},e.prototype.updateTransform=function(t,e,n,i){VR(e),this._updateController(t,e,n,i)},e.prototype.updateVisual=function(t,e,n,i){this.updateTransform(t,e,n,i)},e.prototype.updateView=function(t,e,n,i){this._updateController(t,e,n,i)},e.prototype._updateController=function(t,e,n,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var e=this.model.id,n=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:e,areas:v.clone(n),$from:e}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:e,areas:v.clone(n),$from:e})},e.type="brush",e}(hp);function ZR(t,e){return v.merge({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new sc(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var $R=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.areas=[],n.brushOption={},n}return p(e,t),e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&jR(n,t,["inBrush","outOfBrush"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:"#ddd"},i.hasOwnProperty("liftZ")||(i.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=v.map(t,function(t){return ZR(this.option,t)},this))},e.prototype.setBrushOption=function(t){this.brushOption=ZR(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(_h),XR=["rect","polygon","lineX","lineY","keep","clear"],KR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.render=function(t,e,n){var i,r,o;e.eachComponent({mainType:"brush"},function(t){i=t.brushType,r=t.brushOption.brushMode||"single",o=o||!!t.areas.length}),this._brushType=i,this._brushMode=r,v.each(t.get("type",!0),function(e){t.setIconStatus(e,("keep"===e?"multiple"===r:"clear"===e?o:e===i)?"emphasis":"normal")})},e.prototype.updateView=function(t,e,n){this.render(t,e,n)},e.prototype.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return v.each(t.get("type",!0),function(t){e[t]&&(n[t]=e[t])}),n},e.prototype.onclick=function(t,e,n){var i=this._brushType,r=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},e.getDefaultOption=function(t){return{show:!0,type:XR.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},e}(mP);var qR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return p(e,t),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(_h),tz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.render=function(t,e,n){if(this.group.removeAll(),t.get("show")){var i=this.group,r=t.getModel("textStyle"),o=t.getModel("subtextStyle"),a=t.get("textAlign"),s=v.retrieve2(t.get("textBaseline"),t.get("textVerticalAlign")),l=new _a({style:zu(r,{text:t.get("text"),fill:r.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),c=t.get("subtext"),h=new _a({style:zu(o,{text:c,fill:o.getTextColor(),y:u.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),f=t.get("sublink"),p=t.get("triggerEvent",!0);l.silent=!d&&!p,h.silent=!f&&!p,d&&l.on("click",function(){lh(d,"_"+t.get("target"))}),f&&h.on("click",function(){lh(f,"_"+t.get("subtarget"))}),Sa(l).eventData=Sa(h).eventData=p?{componentType:"title",componentIndex:t.componentIndex}:null,i.add(l),c&&i.add(h);var g=i.getBoundingRect(),m=t.getBoxLayoutParams();m.width=g.width,m.height=g.height;var y=ph(m,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));a||("middle"===(a=t.get("left")||t.get("right"))&&(a="center"),"right"===a?y.x+=y.width:"center"===a&&(y.x+=y.width/2)),s||("center"===(s=t.get("top")||t.get("bottom"))&&(s="middle"),"bottom"===s?y.y+=y.height:"middle"===s&&(y.y+=y.height/2),s=s||"top"),i.x=y.x,i.y=y.y,i.markRedraw();var b={align:a,verticalAlign:s};l.setStyle(b),h.setStyle(b),g=i.getBoundingRect();var x=y.margin,w=t.getItemStyle(["color","opacity"]);w.fill=t.get("backgroundColor");var _=new aa({shape:{x:g.x-x[3],y:g.y-x[0],width:g.width+x[1]+x[3],height:g.height+x[0]+x[2],r:t.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});i.add(_)}},e.type="title",e}(hp);var ez=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode="box",n}return p(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._initData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t,e=this.option,n=e.data||[],i=e.axisType,r=this._names=[];"category"===i?(t=[],Object(v.each)(n,function(e,n){var i,o=Yi(Gi(e),"");Object(v.isObject)(e)?(i=Object(v.clone)(e)).value=n:i=n,t.push(i),r.push(o)})):t=n;var o={category:"ordinal",time:"time",value:"number"}[i]||"number";(this._data=new ny([{name:"value",type:o}],this)).initData(t,r)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(_h),nz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.type="timeline.slider",e.defaultOption=cc(ez.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(ez);Object(v.mixin)(nz,ef.prototype);var iz=nz,rz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.type="timeline",e}(hp),oz=function(t){function e(e,n,i,r){var o=t.call(this,e,n,i)||this;return o.type=r||"value",o}return p(e,t),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(qb),az=Math.PI,sz=$i();function lz(t,e,n,i,r,o){var a=e.get("color");r?(r.setColor(a),n.add(r),o&&o.onUpdate(r)):((r=kg(t.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),n.add(r),o&&o.onCreate(r));var s=e.getItemStyle(["color"]);r.setStyle(s),i=Object(v.merge)({rectHover:!0,z2:100},i,!0);var l=Tg(t.get("symbolSize"));i.scaleX=l[0]/2,i.scaleY=l[1]/2;var u=Og(t.get("symbolOffset"),l);u&&(i.x=(i.x||0)+u[0],i.y=(i.y||0)+u[1]);var c=t.get("symbolRotate");return i.rotation=(c||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function uz(t,e,n,i,r,o){if(!t.dragging){var a=r.getModel("checkpointStyle"),s=i.dataToCoord(r.getData().get("value",n));if(o||!a.get("animation",!0))t.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}var cz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.init=function(t,e){this.api=e},e.prototype.render=function(t,e,n){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var i=this._layout(t,n),r=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),a=this._axis=this._createAxis(i,t);t.formatTooltip=function(t){return Ff("nameValue",{noName:!0,value:a.scale.getLabel({value:t})})},Object(v.each)(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](i,r,a,t)},this),this._renderAxisLabel(i,o,a,t),this._position(i,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,e){var n,i,r,o,a=t.get(["label","position"]),s=t.get("orient"),l=function(t,e){return ph(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}(t,e),u={horizontal:"center",vertical:(n=null==a||"auto"===a?"horizontal"===s?l.y+l.height/2<e.getHeight()/2?"-":"+":l.x+l.width/2<e.getWidth()/2?"+":"-":Object(v.isString)(a)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[s][a]:a)>=0||"+"===n?"left":"right"},c={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:az/2},d="vertical"===s?l.height:l.width,f=t.getModel("controlStyle"),p=f.get("show",!0),g=p?f.get("itemSize"):0,m=p?f.get("itemGap"):0,y=g+m,b=t.get(["label","rotate"])||0;b=b*az/180;var x=f.get("position",!0),w=p&&f.get("showPlayBtn",!0),_=p&&f.get("showPrevBtn",!0),S=p&&f.get("showNextBtn",!0),M=0,C=d;"left"===x||"bottom"===x?(w&&(i=[0,0],M+=y),_&&(r=[M,0],M+=y),S&&(o=[C-g,0],C-=y)):(w&&(i=[C-g,0],C-=y),_&&(r=[0,0],M+=y),S&&(o=[C-g,0],C-=y));var I=[M,C];return t.get("inverse")&&I.reverse(),{viewRect:l,mainLength:d,orient:s,rotation:h[s],labelRotation:b,labelPosOpt:n,labelAlign:t.get(["label","align"])||u[s],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||c[s],playPosition:i,prevBtnPosition:r,nextBtnPosition:o,axisExtent:I,controlSize:g,controlGap:m}},e.prototype._position=function(t,e){var n=this._mainGroup,i=this._labelGroup,r=t.viewRect;if("vertical"===t.orient){var o=[1,0,0,1,0,0],a=r.x,s=r.y+r.height;an(o,o,[-a,-s]),sn(o,o,-az/2),an(o,o,[a,s]),(r=r.clone()).applyTransform(o)}var l=m(r),u=m(n.getBoundingRect()),c=m(i.getBoundingRect()),h=[n.x,n.y],d=[i.x,i.y];d[0]=h[0]=l[0][0];var f,p=t.labelPosOpt;null==p||Object(v.isString)(p)?(y(h,u,l,1,f="+"===p?0:1),y(d,c,l,1,1-f)):(y(h,u,l,1,f=p>=0?0:1),d[1]=h[1]+p);function g(t){t.originX=l[0][0]-t.x,t.originY=l[1][0]-t.y}function m(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function y(t,e,n,i,r){t[i]+=n[i][r]-e[i][r]}n.setPosition(h),i.setPosition(d),n.rotation=i.rotation=t.rotation,g(n),g(i)},e.prototype._createAxis=function(t,e){var n=e.getData(),i=e.get("axisType"),r=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new ky({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new Xy({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new Ey}}(e,i);r.getTicks=function(){return n.mapArray(["value"],function(t){return{value:t}})};var o=n.getDataExtent("value");r.setExtent(o[0],o[1]),r.calcNiceTicks();var a=new oz("value",r,t.axisExtent,i);return a.model=e,a},e.prototype._createGroup=function(t){var e=this[t]=new Kn;return this.group.add(e),e},e.prototype._renderAxisLine=function(t,e,n,i){var r=n.getExtent();if(i.get(["lineStyle","show"])){var o=new kl({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:Object(v.extend)({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});e.add(o);var a=this._progressLine=new kl({shape:{x1:r[0],x2:this._currentPointer?this._currentPointer.x:r[0],y1:0,y2:0},style:Object(v.defaults)({lineCap:"round",lineWidth:o.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});e.add(a)}},e.prototype._renderAxisTick=function(t,e,n,i){var r=this,o=i.getData(),a=n.scale.getTicks();this._tickSymbols=[],Object(v.each)(a,function(t){var a=n.dataToCoord(t.value),s=o.getItemModel(t.value),l=s.getModel("itemStyle"),u=s.getModel(["emphasis","itemStyle"]),c=s.getModel(["progress","itemStyle"]),h={x:a,y:0,onclick:Object(v.bind)(r._changeTimeline,r,t.value)},d=lz(s,l,e,h);d.ensureState("emphasis").style=u.getItemStyle(),d.ensureState("progress").style=c.getItemStyle(),vs(d);var f=Sa(d);s.get("tooltip")?(f.dataIndex=t.value,f.dataModel=i):f.dataIndex=f.dataModel=null,r._tickSymbols.push(d)})},e.prototype._renderAxisLabel=function(t,e,n,i){var r=this;if(n.getLabelModel().get("show")){var o=i.getData(),a=n.getViewLabels();this._tickLabels=[],Object(v.each)(a,function(i){var a=i.tickValue,s=o.getItemModel(a),l=s.getModel("label"),u=s.getModel(["emphasis","label"]),c=s.getModel(["progress","label"]),h=n.dataToCoord(i.tickValue),d=new _a({x:h,y:0,rotation:t.labelRotation-t.rotation,onclick:Object(v.bind)(r._changeTimeline,r,a),silent:!1,style:zu(l,{text:i.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});d.ensureState("emphasis").style=zu(u),d.ensureState("progress").style=zu(c),e.add(d),vs(d),sz(d).dataIndex=a,r._tickLabels.push(d)})}},e.prototype._renderControl=function(t,e,n,i){var r=t.controlSize,o=t.rotation,a=i.getModel("controlStyle").getItemStyle(),s=i.getModel(["emphasis","controlStyle"]).getItemStyle(),l=i.getPlayState(),u=i.get("inverse",!0);function c(t,n,l,u){if(t){var c=Fn(Object(v.retrieve2)(i.get(["controlStyle",n+"BtnSize"]),r),r),h=function(t,e,n,i){var r=i.style,o=Iu(t.get(["controlStyle",e]),i||{},new En(n[0],n[1],n[2],n[3]));r&&o.setStyle(r);return o}(i,n+"Icon",[0,-c/2,c,c],{x:t[0],y:t[1],originX:r/2,originY:0,rotation:u?-o:0,rectHover:!0,style:a,onclick:l});h.ensureState("emphasis").style=s,e.add(h),vs(h)}}c(t.nextBtnPosition,"next",Object(v.bind)(this._changeTimeline,this,u?"-":"+")),c(t.prevBtnPosition,"prev",Object(v.bind)(this._changeTimeline,this,u?"+":"-")),c(t.playPosition,l?"stop":"play",Object(v.bind)(this._handlePlayClick,this,!l),!0)},e.prototype._renderCurrentPointer=function(t,e,n,i){var r=i.getData(),o=i.getCurrentIndex(),a=r.getItemModel(o).getModel("checkpointStyle"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=Object(v.bind)(s._handlePointerDrag,s),t.ondragend=Object(v.bind)(s._handlePointerDragend,s),uz(t,s._progressLine,o,n,i,!0)},onUpdate:function(t){uz(t,s._progressLine,o,n,i)}};this._currentPointer=lz(a,a,this._mainGroup,{},this._currentPointer,l)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,e){var n=this._toAxisCoord(t)[0],i=fi(this._axis.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.x=n,this._currentPointer.markRedraw(),this._progressLine.shape.x2=n,this._progressLine.dirty();var r=this._findNearestTick(n),o=this.model;(e||r!==o.getCurrentIndex()&&o.get("realtime"))&&this._changeTimeline(r)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){return xu(t,this._mainGroup.getLocalTransform(),!0)},e.prototype._findNearestTick=function(t){var e,n=this.model.getData(),i=1/0,r=this._axis;return n.each(["value"],function(n,o){var a=r.dataToCoord(n),s=Math.abs(a-t);s<i&&(i=s,e=o)}),e},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),e=this._tickSymbols,n=this._tickLabels;if(e)for(var i=0;i<e.length;i++)e&&e[i]&&e[i].toggleState("progress",i<t);if(n)for(i=0;i<n.length;i++)n&&n[i]&&n[i].toggleState("progress",sz(n[i]).dataIndex<=t)},e.type="timeline.slider",e}(rz);function hz(t){var e=t&&t.timeline;v.isArray(e)||(e=e?[e]:[]),v.each(e,function(t){t&&function(t){var e=t.type,n={number:"value",time:"time"};n[e]&&(t.axisType=n[e],delete t.type);if(dz(t),fz(t,"controlPosition")){var i=t.controlStyle||(t.controlStyle={});fz(i,"position")||(i.position=t.controlPosition),"none"!==i.position||fz(i,"show")||(i.show=!1,delete i.position),delete t.controlPosition}v.each(t.data||[],function(t){v.isObject(t)&&!v.isArray(t)&&(!fz(t,"value")&&fz(t,"name")&&(t.value=t.name),dz(t))})}(t)})}function dz(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),i=t.label||t.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};v.each(i,function(t,e){o[e]||fz(r,e)||(r[e]=t)}),n.label&&!fz(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function fz(t,e){return t.hasOwnProperty(e)}function pz(t,e){if(!t)return!1;for(var n=Object(v.isArray)(t)?t:[t],i=0;i<n.length;i++)if(n[i]&&n[i][e])return!0;return!1}function gz(t){Bi(t,"label",["show"])}var vz=$i(),mz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.createdBySelf=!1,n}return p(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._mergeOption(t,n,!1,!0)},e.prototype.isAnimationEnabled=function(){if(g.a.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,!1,!1)},e.prototype._mergeOption=function(t,e,n,i){var r=this.mainType;n||e.eachSeries(function(t){var n=t.get(this.mainType,!0),o=vz(t)[r];n&&n.data?(o?o._mergeOption(n,e,!0):(i&&gz(n),v.each(n.data,function(t){t instanceof Array?(gz(t[0]),gz(t[1])):gz(t)}),o=this.createMarkerModelFromSeries(n,this,e),v.extend(o,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),o.__hostSeries=t),vz(t)[r]=o):vz(t)[r]=null},this)},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=this.getRawValue(t),o=i.getName(t);return Ff("section",{header:this.name,blocks:[Ff("nameValue",{name:o,value:r,noName:!o,noValue:null==r})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,e){return vz(t)[e]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(_h);v.mixin(mz,ef.prototype);var yz=mz,bz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(yz);function xz(t,e,n,i,r,o){var a=[],s=cy(e,i)?e.getCalculationInfo("stackResultDimension"):i,l=Iz(e,s,t),u=e.indicesOfNearest(s,l)[0];a[r]=e.get(n,u),a[o]=e.get(s,u);var c=e.get(i,u),h=pi(e.get(i,u));return(h=Math.min(h,20))>=0&&(a[o]=+a[o].toFixed(h)),[a,c]}var wz={min:Object(v.curry)(xz,"min"),max:Object(v.curry)(xz,"max"),average:Object(v.curry)(xz,"average"),median:Object(v.curry)(xz,"median")};function _z(t,e){var n=t.getData(),i=t.coordinateSystem;if(e&&!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!Object(v.isArray)(e.coord)&&i){var r=i.dimensions,o=Sz(e,n,i,t);if((e=Object(v.clone)(e)).type&&wz[e.type]&&o.baseAxis&&o.valueAxis){var a=Object(v.indexOf)(r,o.baseAxis.dim),s=Object(v.indexOf)(r,o.valueAxis.dim),l=wz[e.type](n,o.baseDataDim,o.valueDataDim,a,s);e.coord=l[0],e.value=l[1]}else{for(var u=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],c=0;c<2;c++)wz[u[c]]&&(u[c]=Iz(n,n.mapDimension(r[c]),u[c]));e.coord=u}}return e}function Sz(t,e,n,i){var r={};return null!=t.valueIndex||null!=t.valueDim?(r.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,r.valueAxis=n.getAxis(function(t,e){var n=t.getData().getDimensionInfo(e);return n&&n.coordDim}(i,r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function Mz(t,e){return!(t&&t.containData&&e.coord&&!function(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}(e))||t.containData(e.coord)}function Cz(t,e){return t?function(t,n,i,r){return sf(r<2?t.coord&&t.coord[r]:t.value,e[r])}:function(t,n,i,r){return sf(t.value,e[r])}}function Iz(t,e,n){if("average"===n){var i=0,r=0;return t.each(e,function(t,e){isNaN(t)||(i+=t,r++)}),i/r}return"median"===n?t.getMedian(e):t.getDataExtent(e)["max"===n?1:0]}var kz=$i(),Tz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.init=function(){this.markerGroupMap=Object(v.createHashMap)()},e.prototype.render=function(t,e,n){var i=this,r=this.markerGroupMap;r.each(function(t){kz(t).keep=!1}),e.eachSeries(function(t){var r=yz.getMarkerModelFromSeries(t,i.type);r&&i.renderSeries(t,r,e,n)}),r.each(function(t){!kz(t).keep&&i.group.remove(t.group)})},e.prototype.markKeep=function(t){kz(t).keep=!0},e.prototype.blurSeries=function(t){var e=this;Object(v.each)(t,function(t){var n=yz.getMarkerModelFromSeries(t,e.type);n&&n.getData().eachItemGraphicEl(function(t){t&&as(t)})})},e.type="marker",e}(hp);function Oz(t,e,n){var i=e.coordinateSystem;t.each(function(r){var o,a=t.getItemModel(r),s=hi(a.get("x"),n.getWidth()),l=hi(a.get("y"),n.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)o=e.getMarkerPosition(t.getValues(t.dimensions,r));else if(i){var u=t.get(i.dimensions[0],r),c=t.get(i.dimensions[1],r);o=i.dataToPoint([u,c])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),t.setItemLayout(r,o)})}var Ez=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries(function(t){var e=yz.getMarkerModelFromSeries(t,"markPoint");e&&(Oz(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout())},this)},e.prototype.renderSeries=function(t,e,n,i){var r=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new c_),u=function(t,e,n){var i;i=t?Object(v.map)(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return Object(v.extend)(Object(v.extend)({},n),{name:t,ordinalMeta:null})}):[{name:"value",type:"float"}];var r=new ny(i,n),o=Object(v.map)(n.get("data"),Object(v.curry)(_z,e));t&&(o=Object(v.filter)(o,Object(v.curry)(Mz,t)));var a=Cz(!!t,i);return r.initData(o,null,a),r}(r,t,e);e.setData(u),Oz(e.getData(),t,i),u.each(function(t){var n=u.getItemModel(t),i=n.getShallow("symbol"),r=n.getShallow("symbolSize"),o=n.getShallow("symbolRotate"),s=n.getShallow("symbolOffset"),l=n.getShallow("symbolKeepAspect");if(Object(v.isFunction)(i)||Object(v.isFunction)(r)||Object(v.isFunction)(o)||Object(v.isFunction)(s)){var c=e.getRawValue(t),h=e.getDataParams(t);Object(v.isFunction)(i)&&(i=i(c,h)),Object(v.isFunction)(r)&&(r=r(c,h)),Object(v.isFunction)(o)&&(o=o(c,h)),Object(v.isFunction)(s)&&(s=s(c,h))}var d=n.getModel("itemStyle").getItemStyle(),f=cg(a,"color");d.fill||(d.fill=f),u.setItemVisual(t,{symbol:i,symbolSize:r,symbolRotate:o,symbolOffset:s,symbolKeepAspect:l,style:d})}),l.updateData(u),this.group.add(l.group),u.eachItemGraphicEl(function(t){t.traverse(function(t){Sa(t).dataModel=e})}),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markPoint",e}(Tz);var Az=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(yz),Nz=$i(),Lz=function(t,e,n,i){var r,o=t.getData();if(Object(v.isArray)(i))r=i;else{var a=i.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=i.xAxis||null!=i.yAxis){var s=void 0,l=void 0;if(null!=i.yAxis||null!=i.xAxis)s=e.getAxis(null!=i.yAxis?"y":"x"),l=Object(v.retrieve)(i.yAxis,i.xAxis);else{var u=Sz(i,o,e,t);s=u.valueAxis,l=Iz(o,hy(o,u.valueDataDim),a)}var c="x"===s.dim?0:1,h=1-c,d=Object(v.clone)(i),f={coord:[]};d.type=null,d.coord=[],d.coord[h]=-1/0,f.coord[h]=1/0;var p=n.get("precision");p>=0&&Object(v.isNumber)(l)&&(l=+l.toFixed(Math.min(p,20))),d.coord[c]=f.coord[c]=l,r=[d,f,{type:a,valueIndex:i.valueIndex,value:l}]}else r=[]}var g=[_z(t,r[0]),_z(t,r[1]),Object(v.extend)({},r[2])];return g[2].type=g[2].type||null,Object(v.merge)(g[2],g[0]),Object(v.merge)(g[2],g[1]),g};function Dz(t){return!isNaN(t)&&!isFinite(t)}function jz(t,e,n,i){var r=1-t,o=i.dimensions[t];return Dz(e[r])&&Dz(n[r])&&e[t]===n[t]&&i.getAxis(o).containData(e[t])}function Pz(t,e){if("cartesian2d"===t.type){var n=e[0].coord,i=e[1].coord;if(n&&i&&(jz(1,n,i,t)||jz(0,n,i,t)))return!0}return Mz(t,e[0])&&Mz(t,e[1])}function Rz(t,e,n,i,r){var o,a=i.coordinateSystem,s=t.getItemModel(e),l=hi(s.get("x"),r.getWidth()),u=hi(s.get("y"),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(t.getValues(t.dimensions,e));else{var c=a.dimensions,h=t.get(c[0],e),d=t.get(c[1],e);o=a.dataToPoint([h,d])}if(M_(a,"cartesian2d")){var f=a.getAxis("x"),p=a.getAxis("y");c=a.dimensions;Dz(t.get(c[0],e))?o[0]=f.toGlobalCoord(f.getExtent()[n?0:1]):Dz(t.get(c[1],e))&&(o[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];t.setItemLayout(e,o)}var zz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries(function(t){var e=yz.getMarkerModelFromSeries(t,"markLine");if(e){var i=e.getData(),r=Nz(e).from,o=Nz(e).to;r.each(function(e){Rz(r,e,!0,t,n),Rz(o,e,!1,t,n)}),i.each(function(t){i.setItemLayout(t,[r.getItemLayout(t),o.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,e,n,i){var r=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new DT);this.group.add(l.group);var u=function(t,e,n){var i;i=t?Object(v.map)(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return Object(v.extend)(Object(v.extend)({},n),{name:t,ordinalMeta:null})}):[{name:"value",type:"float"}];var r=new ny(i,n),o=new ny(i,n),a=new ny([],n),s=Object(v.map)(n.get("data"),Object(v.curry)(Lz,e,t,n));t&&(s=Object(v.filter)(s,Object(v.curry)(Pz,t)));var l=Cz(!!t,i);return r.initData(Object(v.map)(s,function(t){return t[0]}),null,l),o.initData(Object(v.map)(s,function(t){return t[1]}),null,l),a.initData(Object(v.map)(s,function(t){return t[2]})),a.hasItemOption=!0,{from:r,to:o,line:a}}(r,t,e),c=u.from,h=u.to,d=u.line;Nz(e).from=c,Nz(e).to=h,e.setData(d);var f=e.get("symbol"),p=e.get("symbolSize"),g=e.get("symbolRotate"),m=e.get("symbolOffset");function y(e,n,r){var o=e.getItemModel(n);Rz(e,n,r,t,i);var s=o.getModel("itemStyle").getItemStyle();null==s.fill&&(s.fill=cg(a,"color")),e.setItemVisual(n,{symbolKeepAspect:o.get("symbolKeepAspect"),symbolOffset:Object(v.retrieve2)(o.get("symbolOffset",!0),m[r?0:1]),symbolRotate:Object(v.retrieve2)(o.get("symbolRotate",!0),g[r?0:1]),symbolSize:Object(v.retrieve2)(o.get("symbolSize"),p[r?0:1]),symbol:Object(v.retrieve2)(o.get("symbol",!0),f[r?0:1]),style:s})}Object(v.isArray)(f)||(f=[f,f]),Object(v.isArray)(p)||(p=[p,p]),Object(v.isArray)(g)||(g=[g,g]),Object(v.isArray)(m)||(m=[m,m]),u.from.each(function(t){y(c,t,!0),y(h,t,!1)}),d.each(function(t){var e=d.getItemModel(t).getModel("lineStyle").getLineStyle();d.setItemLayout(t,[c.getItemLayout(t),h.getItemLayout(t)]),null==e.stroke&&(e.stroke=c.getItemVisual(t,"style").fill),d.setItemVisual(t,{fromSymbolKeepAspect:c.getItemVisual(t,"symbolKeepAspect"),fromSymbolOffset:c.getItemVisual(t,"symbolOffset"),fromSymbolRotate:c.getItemVisual(t,"symbolRotate"),fromSymbolSize:c.getItemVisual(t,"symbolSize"),fromSymbol:c.getItemVisual(t,"symbol"),toSymbolKeepAspect:h.getItemVisual(t,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(t,"symbolOffset"),toSymbolRotate:h.getItemVisual(t,"symbolRotate"),toSymbolSize:h.getItemVisual(t,"symbolSize"),toSymbol:h.getItemVisual(t,"symbol"),style:e})}),l.updateData(d),u.line.eachItemGraphicEl(function(t,n){t.traverse(function(t){Sa(t).dataModel=e})}),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markLine",e}(Tz);var Bz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(yz),Fz=$i(),Gz=function(t,e,n,i){var r=_z(t,i[0]),o=_z(t,i[1]),a=r.coord,s=o.coord;a[0]=Object(v.retrieve)(a[0],-1/0),a[1]=Object(v.retrieve)(a[1],-1/0),s[0]=Object(v.retrieve)(s[0],1/0),s[1]=Object(v.retrieve)(s[1],1/0);var l=Object(v.mergeAll)([{},r,o]);return l.coord=[r.coord,o.coord],l.x0=r.x,l.y0=r.y,l.x1=o.x,l.y1=o.y,l};function Vz(t){return!isNaN(t)&&!isFinite(t)}function Wz(t,e,n,i){var r=1-t;return Vz(e[r])&&Vz(n[r])}function Hz(t,e){var n=e.coord[0],i=e.coord[1];return!!(M_(t,"cartesian2d")&&n&&i&&(Wz(1,n,i)||Wz(0,n,i)))||(Mz(t,{coord:n,x:e.x0,y:e.y0})||Mz(t,{coord:i,x:e.x1,y:e.y1}))}function Uz(t,e,n,i,r){var o,a=i.coordinateSystem,s=t.getItemModel(e),l=hi(s.get(n[0]),r.getWidth()),u=hi(s.get(n[1]),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(t.getValues(n,e));else{var c=[f=t.get(n[0],e),p=t.get(n[1],e)];a.clampData&&a.clampData(c,c),o=a.dataToPoint(c,!0)}if(M_(a,"cartesian2d")){var h=a.getAxis("x"),d=a.getAxis("y"),f=t.get(n[0],e),p=t.get(n[1],e);Vz(f)?o[0]=h.toGlobalCoord(h.getExtent()["x0"===n[0]?0:1]):Vz(p)&&(o[1]=d.toGlobalCoord(d.getExtent()["y0"===n[1]?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];return o}var Yz=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];var Jz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries(function(t){var e=yz.getMarkerModelFromSeries(t,"markArea");if(e){var i=e.getData();i.each(function(e){var r=Object(v.map)(Yz,function(r){return Uz(i,e,r,t,n)});i.setItemLayout(e,r),i.getItemGraphicEl(e).setShape("points",r)})}},this)},e.prototype.renderSeries=function(t,e,n,i){var r=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,{group:new Kn});this.group.add(l.group),this.markKeep(l);var u=function(t,e,n){var i,r;if(t){var o=Object(v.map)(t&&t.dimensions,function(t){var n=e.getData(),i=n.getDimensionInfo(n.mapDimension(t))||{};return Object(v.extend)(Object(v.extend)({},i),{name:t,ordinalMeta:null})});r=Object(v.map)(["x0","y0","x1","y1"],function(t,e){return{name:t,type:o[e%2].type}}),i=new ny(r,n)}else i=new ny(r=[{name:"value",type:"float"}],n);var a=Object(v.map)(n.get("data"),Object(v.curry)(Gz,e,t,n));t&&(a=Object(v.filter)(a,Object(v.curry)(Hz,t)));var s=t?function(t,e,n,i){var o=t.coord[Math.floor(i/2)][i%2];return sf(o,r[i])}:function(t,e,n,i){return sf(t.value,r[i])};return i.initData(a,null,s),i.hasItemOption=!0,i}(r,t,e);e.setData(u),u.each(function(e){var n=Object(v.map)(Yz,function(n){return Uz(u,e,n,t,i)}),o=r.getAxis("x").scale,s=r.getAxis("y").scale,l=o.getExtent(),c=s.getExtent(),h=[o.parse(u.get("x0",e)),o.parse(u.get("x1",e))],d=[s.parse(u.get("y0",e)),s.parse(u.get("y1",e))];fi(h),fi(d);var f=!!(l[0]>h[1]||l[1]<h[0]||c[0]>d[1]||c[1]<d[0]);u.setItemLayout(e,{points:n,allClipped:f});var p=u.getItemModel(e).getModel("itemStyle").getItemStyle(),g=cg(a,"color");p.fill||(p.fill=g,Object(v.isString)(p.fill)&&(p.fill=de.modifyAlpha(p.fill,.4))),p.stroke||(p.stroke=g),u.setItemVisual(e,"style",p)}),u.diff(Fz(l).data).add(function(t){var e=u.getItemLayout(t);if(!e.allClipped){var n=new xl({shape:{points:e.points}});u.setItemGraphicEl(t,n),l.group.add(n)}}).update(function(t,n){var i=Fz(l).data.getItemGraphicEl(n),r=u.getItemLayout(t);r.allClipped?i&&l.group.remove(i):(i?$l(i,{shape:{points:r.points}},e,t):i=new xl({shape:{points:r.points}}),u.setItemGraphicEl(t,i),l.group.add(i))}).remove(function(t){var e=Fz(l).data.getItemGraphicEl(t);l.group.remove(e)}).execute(),u.eachItemGraphicEl(function(t,n){var i=u.getItemModel(n),r=u.getItemVisual(n,"style");t.useStyle(u.getItemVisual(n,"style")),Pu(t,Ru(i),{labelFetcher:e,labelDataIndex:n,defaultText:u.getName(n)||"",inheritColor:Object(v.isString)(r.fill)?de.modifyAlpha(r.fill,1):"#000"}),ws(t,i),ms(t,null,null,i.get(["emphasis","disabled"])),Sa(t).dataModel=e}),Fz(l).data=u,l.group.silent=e.get("silent")||t.get("silent")},e.type="markArea",e}(Tz);var Qz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return p(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,n=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),v.isArray(e)&&v.each(e,function(t,i){v.isString(t)&&(t={type:t}),e[i]=v.merge(t,function(t,e){return"all"===e?{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(n,t.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],n=[];t.eachRawSeries(function(i){var r,o=i.name;if(n.push(o),i.legendVisualProvider){var a=i.legendVisualProvider.getAllNames();t.isSeriesFiltered(i)||(n=n.concat(a)),a.length?e=e.concat(a):r=!0}else r=!0;r&&Ji(i)&&e.push(i.name)}),this._availableNames=n;var i=this.get("data")||e,r=v.map(i,function(t){return(v.isString(t)||v.isNumber(t))&&(t={name:t}),new sc(t,this,this.ecModel)},this);this._data=r},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var n=this._data;v.each(n,function(t){e[t.get("name")]=!1})}e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;v.each(t,function(t){e[t.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;v.each(t,function(t){var n=t.get("name",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]})},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&v.indexOf(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(_h),Zz=v.curry,$z=v.each,Xz=Kn;function Kz(t,e,n,i){eB(t,e,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),tB(t,e,n,i)}function qz(t){for(var e,n=t.getZr().storage.getDisplayList(),i=0,r=n.length;i<r&&!(e=n[i].states.emphasis);)i++;return e&&e.hoverLayer}function tB(t,e,n,i){qz(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function eB(t,e,n,i){qz(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}var nB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return p(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new Xz),this.group.add(this._selectorGroup=new Xz),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var r=t.get("align"),o=t.get("orient");r&&"auto"!==r||(r="right"===t.get("left")&&"vertical"===o?"right":"left");var a=t.get("selector",!0),s=t.get("selectorPosition",!0);!a||s&&"auto"!==s||(s="horizontal"===o?"end":"start"),this.renderInner(r,t,e,n,a,o,s);var l=t.getBoxLayoutParams(),u={width:n.getWidth(),height:n.getHeight()},c=t.get("padding"),h=ph(l,u,c),d=this.layoutInner(t,r,h,i,a,s),f=ph(v.defaults({width:d.width,height:d.height},l),u,c);this.group.x=f.x-d.x,this.group.y=f.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=_P(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,n,i,r,o,a){var s=this.getContentGroup(),l=v.createHashMap(),u=e.get("selectedMode"),c=[];n.eachRawSeries(function(t){!t.get("legendHoverLink")&&c.push(t.id)}),$z(e.getData(),function(r,o){var a=r.get("name");if(!this.newlineDisabled&&(""===a||"\n"===a)){var h=new Xz;return h.newline=!0,void s.add(h)}var d=n.getSeriesByName(a)[0];if(!l.get(a)){if(d){var f=d.getData(),p=f.getVisual("legendLineStyle")||{},g=f.getVisual("legendIcon"),m=f.getVisual("style");this._createItem(d,a,o,r,e,t,p,m,g,u).on("click",Zz(Kz,a,null,i,c)).on("mouseover",Zz(tB,d.name,null,i,c)).on("mouseout",Zz(eB,d.name,null,i,c)),l.set(a,!0)}else n.eachRawSeries(function(n){if(!l.get(a)&&n.legendVisualProvider){var s=n.legendVisualProvider;if(!s.containName(a))return;var h=s.indexOfName(a),d=s.getItemVisual(h,"style"),f=s.getItemVisual(h,"legendIcon"),p=Object(de.parse)(d.fill);p&&0===p[3]&&(p[3]=.2,d=v.extend(v.extend({},d),{fill:Object(de.stringify)(p,"rgba")})),this._createItem(n,a,o,r,e,t,{},d,f,u).on("click",Zz(Kz,null,a,i,c)).on("mouseover",Zz(tB,null,a,i,c)).on("mouseout",Zz(eB,null,a,i,c)),l.set(a,!0)}},this);0}},this),r&&this._createSelector(r,e,i,o,a)},e.prototype._createSelector=function(t,e,n,i,r){var o=this.getSelectorGroup();$z(t,function(t){var i=t.type,r=new _a({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});o.add(r),Pu(r,{normal:e.getModel("selectorLabel"),emphasis:e.getModel(["emphasis","selectorLabel"])},{defaultText:t.title}),vs(r)})},e.prototype._createItem=function(t,e,n,i,r,o,a,s,l,u){var c=t.visualDrawType,h=r.get("itemWidth"),d=r.get("itemHeight"),f=r.isSelected(e),p=i.get("symbolRotate"),g=i.get("symbolKeepAspect"),m=i.get("icon"),y=function(t,e,n,i,r,o){function a(t,e){"auto"===t.lineWidth&&(t.lineWidth=e.lineWidth>0?2:0),$z(t,function(n,i){"inherit"===t[i]&&(t[i]=e[i])})}var s=e.getModel("itemStyle").getItemStyle(),l=0===t.lastIndexOf("empty",0)?"fill":"stroke";s.decal=i.decal,"inherit"===s.fill&&(s.fill=i[r]);"inherit"===s.stroke&&(s.stroke=i[l]);"inherit"===s.opacity&&(s.opacity=("fill"===r?i:n).opacity);a(s,i);var u=e.getModel("lineStyle"),c=u.getLineStyle();if(a(c,n),"auto"===s.fill&&(s.fill=i.fill),"auto"===s.stroke&&(s.stroke=i.fill),"auto"===c.stroke&&(c.stroke=i.fill),!o){var h=e.get("inactiveBorderWidth"),d=s[l];s.lineWidth="auto"===h?i.lineWidth>0&&d?2:0:s.lineWidth,s.fill=e.get("inactiveColor"),s.stroke=e.get("inactiveBorderColor"),c.stroke=u.get("inactiveColor"),c.lineWidth=u.get("inactiveWidth")}return{itemStyle:s,lineStyle:c}}(l=m||l||"roundRect",i,a,s,c,f),b=new Xz,x=i.getModel("textStyle");if(!v.isFunction(t.getLegendIcon)||m&&"inherit"!==m){var w="inherit"===m&&t.getData().getVisual("symbol")?"inherit"===p?t.getData().getVisual("symbolRotate"):p:0;b.add(function(t){var e=t.icon||"roundRect",n=kg(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);n.setStyle(t.itemStyle),n.rotation=(t.iconRotate||0)*Math.PI/180,n.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2);return n}({itemWidth:h,itemHeight:d,icon:l,iconRotate:w,itemStyle:y.itemStyle,lineStyle:y.lineStyle,symbolKeepAspect:g}))}else b.add(t.getLegendIcon({itemWidth:h,itemHeight:d,icon:l,iconRotate:p,itemStyle:y.itemStyle,lineStyle:y.lineStyle,symbolKeepAspect:g}));var _="left"===o?h+5:-5,S=o,M=r.get("formatter"),C=e;v.isString(M)&&M?C=M.replace("{name}",null!=e?e:""):v.isFunction(M)&&(C=M(e));var I=i.get("inactiveColor");b.add(new _a({style:zu(x,{text:C,x:_,y:d/2,fill:f?x.getTextColor():I,align:S,verticalAlign:"middle"})}));var k=new aa({shape:b.getBoundingRect(),invisible:!0}),T=i.getModel("tooltip");return T.get("show")&&Eu({el:k,componentModel:r,itemName:e,itemTooltipOption:T.option}),b.add(k),b.eachChild(function(t){t.silent=!0}),k.silent=!u,this.getContentGroup().add(b),vs(b),b.__legendDataIndex=n,b},e.prototype.layoutInner=function(t,e,n,i,r,o){var a=this.getContentGroup(),s=this.getSelectorGroup();fh(t.get("orient"),a,t.get("itemGap"),n.width,n.height);var l=a.getBoundingRect(),u=[-l.x,-l.y];if(s.markRedraw(),a.markRedraw(),r){fh("horizontal",s,t.get("selectorItemGap",!0));var c=s.getBoundingRect(),h=[-c.x,-c.y],d=t.get("selectorButtonGap",!0),f=t.getOrient().index,p=0===f?"width":"height",g=0===f?"height":"width",v=0===f?"y":"x";"end"===o?h[f]+=l[p]+d:u[f]+=c[p]+d,h[1-f]+=l[g]/2-c[g]/2,s.x=h[0],s.y=h[1],a.x=u[0],a.y=u[1];var m={x:0,y:0};return m[p]=l[p]+d+c[p],m[g]=Math.max(l[g],c[g]),m[v]=Math.min(0,c[v]+h[1-f]),m}return a.x=u[0],a.y=u[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(hp);function iB(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}function rB(t,e,n){var i,r={},o="toggleSelected"===t;return n.eachComponent("legend",function(n){o&&null!=i?n[i?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),i=n.isSelected(e.name));var a=n.getData();Object(v.each)(a,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=n.isSelected(e);r.hasOwnProperty(e)?r[e]=r[e]&&i:r[e]=i}})}),"allSelect"===t||"inverseSelect"===t?{selected:r}:{name:e.name,selected:r}}function oB(t){t.registerComponentModel(Qz),t.registerComponentView(nB),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,iB),t.registerSubTypeDefaulter("legend",function(){return"plain"}),function(t){t.registerAction("legendToggleSelect","legendselectchanged",Object(v.curry)(rB,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Object(v.curry)(rB,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Object(v.curry)(rB,"inverseSelect")),t.registerAction("legendSelect","legendselected",Object(v.curry)(rB,"select")),t.registerAction("legendUnSelect","legendunselected",Object(v.curry)(rB,"unSelect"))}(t)}function aB(t,e,n){var i=[1,1];i[t.getOrient().index]=0,mh(e,n,{type:"box",ignoreSize:!!i})}var sB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,n,i){var r=yh(e);t.prototype.init.call(this,e,n,i),aB(this,e,r)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),aB(this,this.option,e)},e.type="legend.scroll",e.defaultOption=cc(Qz.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(Qz),lB=Kn,uB=["width","height"],cB=["x","y"],hB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return p(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new lB),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new lB)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,n,i,r,o,a,s){var l=this;t.prototype.renderInner.call(this,e,n,i,r,o,a,s);var u=this._controllerGroup,c=n.get("pageIconSize",!0),h=v.isArray(c)?c:[c,c];f("pagePrev",0);var d=n.getModel("pageTextStyle");function f(t,e){var i=t+"DataIndex",o=Iu(n.get("pageIcons",!0)[n.getOrient().name][e],{onclick:v.bind(l._pageGo,l,i,n,r)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});o.name=t,u.add(o)}u.add(new _a({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),f("pageNext",1)},e.prototype.layoutInner=function(t,e,n,i,r,o){var a=this.getSelectorGroup(),s=t.getOrient().index,l=uB[s],u=cB[s],c=uB[1-s],h=cB[1-s];r&&fh("horizontal",a,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),f=a.getBoundingRect(),p=[-f.x,-f.y],g=v.clone(n);r&&(g[l]=n[l]-f[l]-d);var m=this._layoutContentAndController(t,i,g,s,l,c,h,u);if(r){if("end"===o)p[s]+=m[l]+d;else{var y=f[l]+d;p[s]-=y,m[u]-=y}m[l]+=f[l]+d,p[1-s]+=m[h]+m[c]/2-f[c]/2,m[c]=Math.max(m[c],f[c]),m[h]=Math.min(m[h],f[h]+p[1-s]),a.x=p[0],a.y=p[1],a.markRedraw()}return m},e.prototype._layoutContentAndController=function(t,e,n,i,r,o,a,s){var l=this.getContentGroup(),u=this._containerGroup,c=this._controllerGroup;fh(t.get("orient"),l,t.get("itemGap"),i?n.width:null,i?null:n.height),fh("horizontal",c,t.get("pageButtonItemGap",!0));var h=l.getBoundingRect(),d=c.getBoundingRect(),f=this._showController=h[r]>n[r],p=[-h.x,-h.y];e||(p[i]=l[s]);var g=[0,0],m=[-d.x,-d.y],y=v.retrieve2(t.get("pageButtonGap",!0),t.get("itemGap",!0));f&&("end"===t.get("pageButtonPosition",!0)?m[i]+=n[r]-d[r]:g[i]+=d[r]+y);m[1-i]+=h[o]/2-d[o]/2,l.setPosition(p),u.setPosition(g),c.setPosition(m);var b={x:0,y:0};if(b[r]=f?n[r]:h[r],b[o]=Math.max(h[o],d[o]),b[a]=Math.min(0,d[a]+m[1-i]),u.__rectSize=n[r],f){var x={x:0,y:0};x[r]=Math.max(n[r]-d[r]-y,0),x[o]=b[o],u.setClipPath(new aa({shape:x})),u.__rectSize=x[r]}else c.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(t);return null!=w.pageIndex&&$l(l,{x:w.contentPosition[0],y:w.contentPosition[1]},f?t:null),this._updatePageInfoView(t,w),b},e.prototype._pageGo=function(t,e,n){var i=this._getPageInfo(e)[t];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var n=this._controllerGroup;v.each(["pagePrev","pageNext"],function(i){var r=null!=e[i+"DataIndex"],o=n.childOfName(i);o&&(o.setStyle("fill",r?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),o.cursor=r?"pointer":"default")});var i=n.childOfName("pageText"),r=t.get("pageFormatter"),o=e.pageIndex,a=null!=o?o+1:0,s=e.pageCount;i&&r&&i.setStyle("text",v.isString(r)?r.replace("{current}",null==a?"":a+"").replace("{total}",null==s?"":s+""):r({current:a,total:s}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,r=t.getOrient().index,o=uB[r],a=cB[r],s=this._findTargetItemIndex(e),l=n.children(),u=l[s],c=l.length,h=c?1:0,d={contentPosition:[n.x,n.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return d;var f=y(u);d.contentPosition[r]=-f.s;for(var p=s+1,g=f,v=f,m=null;p<=c;++p)(!(m=y(l[p]))&&v.e>g.s+i||m&&!b(m,g.s))&&(g=v.i>g.i?v:m)&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=g.i),++d.pageCount),v=m;for(p=s-1,g=f,v=f,m=null;p>=-1;--p)(m=y(l[p]))&&b(v,m.s)||!(g.i<v.i)||(v=g,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=m;return d;function y(t){if(t){var e=t.getBoundingRect(),n=e[a]+t[a];return{s:n,e:n+e[o],i:t.__legendDataIndex}}}function b(t,e){return t.e>=e&&t.s<=e+i}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(i,r){var o=i.__legendDataIndex;null==n&&null!=o&&(n=r),o===t&&(e=r)}),null!=e?e:n):0;var e,n},e.type="legend.scroll",e}(nB);function dB(t){Om(oB),t.registerComponentModel(sB),t.registerComponentView(hB),function(t){t.registerAction("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(n)})})}(t)}var fB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.type="dataZoom.inside",e.defaultOption=cc(aP.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(aP),pB=$i();function gB(t,e){if(e){t.removeKey(e.model.uid);var n=e.controller;n&&n.dispose()}}function vB(t,e){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function mB(t,e,n,i){return t.coordinateSystem.containPoint([n,i])}function yB(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,function(t,e){var n=pB(e),i=n.coordSysRecordMap||(n.coordSysRecordMap=Object(v.createHashMap)());i.each(function(t){t.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(t){var n=iP(t);Object(v.each)(n.infoList,function(n){var r=n.model.uid,o=i.get(r)||i.set(r,function(t,e){var n={model:e,containsPoint:Object(v.curry)(mB,e),dispatchAction:Object(v.curry)(vB,t),dataZoomInfoMap:null,controller:null},i=n.controller=new ZM(t.getZr());return Object(v.each)(["pan","zoom","scrollMove"],function(t){i.on(t,function(e){var i=[];n.dataZoomInfoMap.each(function(r){if(e.isAvailableBehavior(r.model.option)){var o=(r.getRange||{})[t],a=o&&o(r.dzReferCoordSysInfo,n.model.mainType,n.controller,e);!r.model.get("disabled",!0)&&a&&i.push({dataZoomId:r.model.id,start:a[0],end:a[1]})}}),i.length&&n.dispatchAction(i)})}),n}(e,n.model));(o.dataZoomInfoMap||(o.dataZoomInfoMap=Object(v.createHashMap)())).set(t.uid,{dzReferCoordSysInfo:n,model:t,getRange:null})})}),i.each(function(t){var e,n=t.controller,r=t.dataZoomInfoMap;if(r){var o=r.keys()[0];null!=o&&(e=r.get(o))}if(e){var a=function(t){var e,n={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return t.each(function(t){var r=t.model,o=!r.get("disabled",!0)&&(!r.get("zoomLock",!0)||"move");n["type_"+o]>n["type_"+e]&&(e=o),i=i&&r.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}(r);n.enable(a.controlType,a.opt),n.setPointerChecker(t.containsPoint),Ip(t,"dispatchAction",e.model.get("throttle",!0),"fixRate")}else gB(i,t)})})}var bB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return p(e,t),e.prototype.render=function(e,n,i){t.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),function(t,e,n){pB(t).coordSysRecordMap.each(function(t){var i=t.dataZoomInfoMap.get(e.uid);i&&(i.getRange=n)})}(i,e,{pan:Object(v.bind)(xB.pan,this),zoom:Object(v.bind)(xB.zoom,this),scrollMove:Object(v.bind)(xB.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){!function(t,e){for(var n=pB(t).coordSysRecordMap,i=n.keys(),r=0;r<i.length;r++){var o=i[r],a=n.get(o),s=a.dataZoomInfoMap;if(s){var l=e.uid;s.get(l)&&(s.removeKey(l),s.keys().length||gB(n,a))}}}(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(lP),xB={zoom:function(t,e,n,i){var r=this.range,o=r.slice(),a=t.axisModels[0];if(a){var s=_B[e](null,[i.originX,i.originY],a,n,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/i.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return TO(0,o,[0,100],0,c.minSpan,c.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:wB(function(t,e,n,i,r,o){var a=_B[i]([o.oldX,o.oldY],[o.newX,o.newY],e,r,n);return a.signal*(t[1]-t[0])*a.pixel/a.pixelLength}),scrollMove:wB(function(t,e,n,i,r,o){return _B[i]([0,0],[o.scrollDelta,o.scrollDelta],e,r,n).signal*(t[1]-t[0])*o.scrollDelta})};function wB(t){return function(e,n,i,r){var o=this.range,a=o.slice(),s=e.axisModels[0];if(s)return TO(t(a,s,e,n,i,r),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var _B={grid:function(t,e,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem.getRect();return t=t||[0,0],"x"===o.dim?(a.pixel=e[0]-t[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(t,e,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(a.pixel=e[0]-t[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?-1:1),a},singleAxis:function(t,e,n,i,r){var o=n.axis,a=r.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===o.orient?(s.pixel=e[0]-t[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}},SB=bB;function MB(t){gP(t),t.registerComponentModel(fB),t.registerComponentView(SB),yB(t)}var CB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=cc(aP.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(aP),IB=aa,kB="horizontal",TB=5,OB=["line","bar","candlestick","scatter"],EB={easing:"cubicOut",duration:100,delay:0};function AB(t){return"vertical"===t?"ns-resize":"ew-resize"}var NB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._displayables={},n}return p(e,t),e.prototype.init=function(t,e){this.api=e,this._onBrush=Object(v.bind)(this._onBrush,this),this._onBrushEnd=Object(v.bind)(this._onBrushEnd,this)},e.prototype.render=function(e,n,i,r){if(t.prototype.render.apply(this,arguments),Ip(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();r&&"dataZoom"===r.type&&r.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){kp(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new Kn;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,n=t.get("brushSelect")?7:0,i=this._findCoordRect(),r={width:e.getWidth(),height:e.getHeight()},o=this._orient===kB?{right:r.width-i.x-i.width,top:r.height-30-7-n,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},a=yh(t.option);Object(v.each)(["right","top","width","height"],function(t){"ph"===a[t]&&(a[t]=o[t])});var s=ph(a,r);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],"vertical"===this._orient&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,e=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get("inverse"),o=this._displayables.sliderGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==kB||r?n===kB&&r?{scaleY:a?1:-1,scaleX:-1}:"vertical"!==n||r?{scaleY:a?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:a?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:a?1:-1,scaleX:1});var s=t.getBoundingRect([o]);t.x=e.x-s.x,t.y=e.y-s.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.sliderGroup,i=t.get("brushSelect");n.add(new IB({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var r=new IB({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:Object(v.bind)(this._onClickPanel,this)}),o=this.api.getZr();i?(r.on("mousedown",this._onBrushStart,this),r.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),n.add(r)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e=this._size,n=this._shadowSize||[],i=t.series,r=i.getRawData(),o=i.getShadowDim?i.getShadowDim():t.otherDim;if(null!=o){var a=this._shadowPolygonPts,s=this._shadowPolylinePts;if(r!==this._shadowData||o!==this._shadowDim||e[0]!==n[0]||e[1]!==n[1]){var l=r.getDataExtent(o),u=.3*(l[1]-l[0]);l=[l[0]-u,l[1]+u];var c,h=[0,e[1]],d=[0,e[0]],f=[[e[0],0],[0,0]],p=[],g=d[1]/(r.count()-1),v=0,m=Math.round(r.count()/e[0]);r.each([o],function(t,e){if(m>0&&e%m)v+=g;else{var n=null==t||isNaN(t)||""===t,i=n?0:ci(t,l,h,!0);n&&!c&&e?(f.push([f[f.length-1][0],0]),p.push([p[p.length-1][0],0])):!n&&c&&(f.push([v,0]),p.push([v,0])),f.push([v,i]),p.push([v,i]),v+=g,c=n}}),a=this._shadowPolygonPts=f,s=this._shadowPolylinePts=p}this._shadowData=r,this._shadowDim=o,this._shadowSize=[e[0],e[1]];for(var y=this.dataZoomModel,b=0;b<3;b++){var x=w(1===b);this._displayables.sliderGroup.add(x),this._displayables.dataShadowSegs.push(x)}}}function w(t){var e=y.getModel(t?"selectedDataBackground":"dataBackground"),n=new Kn,i=new xl({shape:{points:a},segmentIgnoreThreshold:1,style:e.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),r=new Sl({shape:{points:s},segmentIgnoreThreshold:1,style:e.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(i),n.add(r),n}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,i=this.ecModel;return t.eachTargetAxis(function(r,o){var a=t.getAxisProxy(r,o).getTargetSeriesModels();Object(v.each)(a,function(t){if(!(n||!0!==e&&Object(v.indexOf)(OB,t.get("type"))<0)){var a,s=i.getComponent(eP(r),o).axis,l={x:"y",y:"x",radius:"angle",angle:"radius"}[r],u=t.coordinateSystem;null!=l&&u.getOtherAxis&&(a=u.getOtherAxis(s).inverse),l=t.getData().mapDimension(l),n={thisAxis:s,series:t,thisDim:r,otherDim:l,otherAxisInverse:a}}},this)},this),n}},e.prototype._renderHandle=function(){var t=this.group,e=this._displayables,n=e.handles=[null,null],i=e.handleLabels=[null,null],r=this._displayables.sliderGroup,o=this._size,a=this.dataZoomModel,s=this.api,l=a.get("borderRadius")||0,u=a.get("brushSelect"),c=e.filler=new IB({silent:u,style:{fill:a.get("fillerColor")},textConfig:{position:"inside"}});r.add(c),r.add(new IB({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:l},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),Object(v.each)([0,1],function(e){var o=a.get("handleIcon");!Mg[o]&&o.indexOf("path://")<0&&o.indexOf("image://")<0&&(o="path://"+o);var s=kg(o,-1,0,2,2,null,!0);s.attr({cursor:AB(this._orient),draggable:!0,drift:Object(v.bind)(this._onDragMove,this,e),ondragend:Object(v.bind)(this._onDragEnd,this),onmouseover:Object(v.bind)(this._showDataInfo,this,!0),onmouseout:Object(v.bind)(this._showDataInfo,this,!1),z2:5});var l=s.getBoundingRect(),u=a.get("handleSize");this._handleHeight=hi(u,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,s.setStyle(a.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),vs(s);var c=a.get("handleColor");null!=c&&(s.style.fill=c),r.add(n[e]=s);var h=a.getModel("textStyle");t.add(i[e]=new _a({silent:!0,invisible:!0,style:zu(h,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:h.getTextColor(),font:h.getFont()}),z2:10}))},this);var h=c;if(u){var d=hi(a.get("moveHandleSize"),o[1]),f=e.moveHandle=new aa({style:a.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:d}}),p=.8*d,g=e.moveHandleIcon=kg(a.get("moveHandleIcon"),-p/2,-p/2,p,p,"#fff",!0);g.silent=!0,g.y=o[1]+d/2-.5,f.ensureState("emphasis").style=a.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(o[1]/2,Math.max(d,10));(h=e.moveZone=new aa({invisible:!0,shape:{y:o[1]-m,height:d+m}})).on("mouseover",function(){s.enterEmphasis(f)}).on("mouseout",function(){s.leaveEmphasis(f)}),r.add(f),r.add(g),r.add(h)}h.attr({draggable:!0,cursor:AB(this._orient),drift:Object(v.bind)(this._onDragMove,this,"all"),ondragstart:Object(v.bind)(this._showDataInfo,this,!0),ondragend:Object(v.bind)(this._onDragEnd,this),onmouseover:Object(v.bind)(this._showDataInfo,this,!0),onmouseout:Object(v.bind)(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[ci(t[0],[0,100],e,!0),ci(t[1],[0,100],e,!0)]},e.prototype._updateInterval=function(t,e){var n=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];TO(e,i,r,n.get("zoomLock")?"all":t,null!=o.minSpan?ci(o.minSpan,a,r,!0):null,null!=o.maxSpan?ci(o.maxSpan,a,r,!0):null);var s=this._range,l=this._range=fi([ci(i[0],r,a,!0),ci(i[1],r,a,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},e.prototype._updateView=function(t){var e=this._displayables,n=this._handleEnds,i=fi(n.slice()),r=this._size;Object(v.each)([0,1],function(t){var i=e.handles[t],o=this._handleHeight;i.attr({scaleX:o/2,scaleY:o/2,x:n[t]+(t?-1:1),y:r[1]/2-o/2})},this),e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:r[1]});var o={x:i[0],width:i[1]-i[0]};e.moveHandle&&(e.moveHandle.setShape(o),e.moveZone.setShape(o),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr("x",o.x+o.width/2));for(var a=e.dataShadowSegs,s=[0,i[0],i[1],r[0]],l=0;l<a.length;l++){var u=a[l],c=u.getClipPath();c||(c=new aa,u.setClipPath(c)),c.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:r[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,n=this._displayables,i=n.handleLabels,r=this._orient,o=["",""];if(e.get("showDetail")){var a=e.findRepresentativeAxisProxy();if(a){var s=a.getAxisModel().axis,l=this._range,u=t?a.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:a.getDataValueWindow();o=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var c=fi(this._handleEnds.slice());function h(t){var e=bu(n.handles[t].parent,this.group),a=wu(0===t?"right":"left",e),s=this._handleWidth/2+TB,l=xu([c[t]+(0===t?-s:s),this._size[1]/2],e);i[t].setStyle({x:l[0],y:l[1],verticalAlign:r===kB?"middle":a,align:r===kB?a:"center",text:o[t]})}h.call(this,0),h.call(this,1)},e.prototype._formatLabel=function(t,e){var n=this.dataZoomModel,i=n.get("labelFormatter"),r=n.get("labelPrecision");null!=r&&"auto"!==r||(r=e.getPixelPrecision());var o=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(r,20));return Object(v.isFunction)(i)?i(t,o):Object(v.isString)(i)?i.replace("{value}",o):o},e.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables,n=e.handleLabels;n[0].attr("invisible",!t),n[1].attr("invisible",!t),e.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)},e.prototype._onDragMove=function(t,e,n,i){this._dragging=!0,lt(i.event);var r=xu([e,n],this._displayables.sliderGroup.getLocalTransform(),!0),o=this._updateInterval(t,r[0]),a=this.dataZoomModel.get("realtime");this._updateView(!a),o&&a&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var e=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var i=this._handleEnds,r=(i[0]+i[1])/2,o=this._updateInterval("all",n[0]-r);this._updateView(),o&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var e=t.offsetX,n=t.offsetY;this._brushStart=new wn(e,n),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,e){e.attr("ignore",!0);var n=e.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(n.width)<5)){var i=this._getViewExtent(),r=[0,100];this._range=fi([ci(n.x,i,r,!0),ci(n.x+n.width,i,r,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(lt(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,e){var n=this._displayables,i=this.dataZoomModel,r=n.brushRect;r||(r=n.brushRect=new IB({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(r)),r.attr("ignore",!1);var o=this._brushStart,a=this._displayables.sliderGroup,s=a.transformCoordToLocal(t,e),l=a.transformCoordToLocal(o.x,o.y),u=this._size;s[0]=Math.max(Math.min(u[0],s[0]),0),r.setShape({x:l[0],y:0,width:s[0]-l[0],height:u[1]})},e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?EB:null,start:e[0],end:e[1]})},e.prototype._findCoordRect=function(){var t,e=iP(this.dataZoomModel).infoList;if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}if(!t){var i=this.api.getWidth(),r=this.api.getHeight();t={x:.2*i,y:.2*r,width:.6*i,height:.6*r}}return t},e.type="dataZoom.slider",e}(lP);function LB(t){t.registerComponentModel(CB),t.registerComponentView(NB),gP(t)}var DB={get:function(t,e,n){var i=v.clone((jB[t]||{})[e]);return n&&v.isArray(i)?i[i.length-1]:i}},jB={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},PB=DB,RB=Ak.mapVisual,zB=Ak.eachVisual,BB=v.isArray,FB=v.each,GB=fi,VB=ci,WB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return p(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&jR(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=v.bind(t,this),this.controllerVisuals=DR(this.option.controller,e,t),this.targetVisuals=DR(this.option.target,e,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries(function(t,n){e.push(n)}):e=zi(t),e},e.prototype.eachTargetSeries=function(t,e){v.each(this.getTargetSeriesIndices(),function(n){var i=this.ecModel.getSeriesByIndex(n);i&&t.call(e,i)},this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries(function(n){n===t&&(e=!0)}),e},e.prototype.formatValueText=function(t,e,n){var i,r=this.option,o=r.precision,a=this.dataBound,s=r.formatter;n=n||["<",">"],v.isArray(t)&&(t=t.slice(),i=!0);var l=e?t:i?[u(t[0]),u(t[1])]:u(t);return v.isString(s)?s.replace("{value}",i?l[0]:l).replace("{value2}",i?l[1]:l):v.isFunction(s)?i?s(t[0],t[1]):s(t):i?t[0]===a[0]?n[0]+" "+l[1]:t[1]===a[1]?n[1]+" "+l[0]:l[0]+" - "+l[1]:l;function u(t){return t===a[0]?"min":t===a[1]?"max":(+t).toFixed(Math.min(o,20))}},e.prototype.resetExtent=function(){var t=this.option,e=GB([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(null!=e)return t.getDimensionIndex(e);for(var n=t.dimensions,i=n.length-1;i>=0;i--){var r=n[i],o=t.getDimensionInfo(r);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,n={inRange:e.inRange,outOfRange:e.outOfRange},i=e.target||(e.target={}),r=e.controller||(e.controller={});v.merge(i,n),v.merge(r,n);var o=this.isCategory();function a(n){BB(e.color)&&!n.inRange&&(n.inRange={color:e.color.slice().reverse()}),n.inRange=n.inRange||{color:t.get("gradientColor")}}a.call(this,i),a.call(this,r),function(t,e,n){var i=t[e],r=t[n];i&&!r&&(r=t[n]={},FB(i,function(t,e){if(Ak.isValidType(e)){var n=PB.get(e,"inactive",o);null!=n&&(r[e]=n,"color"!==e||r.hasOwnProperty("opacity")||r.hasOwnProperty("colorAlpha")||(r.opacity=[0,0]))}}))}.call(this,i,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,i=this.get("inactiveColor"),r=this.getItemSymbol()||"roundRect";FB(this.stateList,function(a){var s=this.itemSize,l=t[a];l||(l=t[a]={color:o?i:[i]}),null==l.symbol&&(l.symbol=e&&v.clone(e)||(o?r:[r])),null==l.symbolSize&&(l.symbolSize=n&&v.clone(n)||(o?s[0]:[s[0],s[0]])),l.symbol=RB(l.symbol,function(t){return"none"===t?r:t});var u=l.symbolSize;if(null!=u){var c=-1/0;zB(u,function(t){t>c&&(c=t)}),l.symbolSize=RB(u,function(t){return VB(t,[0,c],[0,s[0]],!0)})}},this)}.call(this,r)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(_h),HB=[20,140];function UB(t,e,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,r=n[0],o=[],a=0;a<=200&&r<n[1];a++)o.push(r),r+=i;return o.push(n[1]),o}var YB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=HB[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=HB[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):v.isArray(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),v.each(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=fi((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries(function(n){var i=[],r=n.getData();r.each(this.getDataDimensionIndex(r),function(e,n){t[0]<=e&&e<=t[1]&&i.push(n)},this),e.push({seriesId:n.id,dataIndex:i})},this),e},e.prototype.getVisualMeta=function(t){var e=UB(this,"outOfRange",this.getExtent()),n=UB(this,"inRange",this.option.range.slice()),i=[];function r(e,n){i.push({value:e,color:t(e,n)})}for(var o=0,a=0,s=n.length,l=e.length;a<l&&(!n.length||e[a]<=n[0]);a++)e[a]<n[o]&&r(e[a],"outOfRange");for(var u=1;o<s;o++,u=0)u&&i.length&&r(n[o],"outOfRange"),r(n[o],"inRange");for(u=1;a<l;a++)(!n.length||n[n.length-1]<e[a])&&(u&&(i.length&&r(i[i.length-1].value,"outOfRange"),u=0),r(e[a],"outOfRange"));var c=i.length;return{stops:i,outerColors:[c?i[0].color:"transparent",c?i[c-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=cc(WB.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(WB),JB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return p(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,n,i){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,e,n,i):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,n=$c(e.get("padding")||0),i=t.getBoundingRect();t.add(new aa({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,e,n){var i=(n=n||{}).forceState,r=this.visualMapModel,o={};if("color"===e){var a=r.get("contentColor");o.color=a}function s(t){return o[t]}function l(t,e){o[t]=e}var u=r.controllerVisuals[i||r.getValueState(t)],c=Ak.prepareVisualTypes(u);return v.each(c,function(i){var r=u[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",r=u.__alphaForOpacity),Ak.dependsOn(i,e)&&r&&r.applyVisual(t,s,l)}),o[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,n=this.api;gh(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},e.prototype.doRender=function(t,e,n,i){},e.type="visualMap",e}(hp),QB=[["left","right","width"],["top","bottom","height"]];function ZB(t,e,n){var i=t.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var o={width:e.getWidth(),height:e.getHeight()},a="horizontal"===i.orient?1:0,s=QB[a],l=[0,null,10],u={},c=0;c<3;c++)u[QB[1-a][c]]=l[c],u[s[c]]=2===c?n[0]:i[s[c]];var h=[["x","width",3],["y","height",0]][a],d=ph(u,o,i.padding);return s[(d.margin[h[2]]||0)+d[h[0]]+.5*d[h[1]]<.5*o[h[1]]?0:1]}function $B(t,e){return v.each(t||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),t}var XB=ci,KB=v.each,qB=Math.min,tF=Math.max,eF=12;function nF(t,e,n,i){return new xl({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){lt(t.event)},ondragend:i})}function iF(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function rF(t){return"vertical"===t?"ns-resize":"ew-resize"}var oF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return p(e,t),e.prototype.doRender=function(t,e,n,i){this._api=n,i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,n){if(e){var i=e[1-n];i=null!=i?i+"":"";var r=this.visualMapModel,o=r.get("textGap"),a=r.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),u=this._applyTransform(0===n?"bottom":"top",s),c=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new _a({style:{x:l[0],y:l[1],verticalAlign:"horizontal"===c?"middle":u,align:"horizontal"===c?u:"center",text:i,font:h.getFont(),fill:h.getTextColor()}}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,n=this._shapes,i=e.itemSize,r=this._orient,o=this._useHandle,a=ZB(e,this.api,i),s=n.mainGroup=this._createBarGroup(a),l=new Kn;s.add(l),l.add(n.outOfRange=nF()),l.add(n.inRange=nF(null,o?rF(this._orient):null,v.bind(this._dragHandle,this,"all",!1),v.bind(this._dragHandle,this,"all",!0))),l.setClipPath(new aa({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var u=e.textStyleModel.getTextRect("国"),c=tF(u.width,u.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(e,s,0,i,c,r),this._createHandle(e,s,1,i,c,r)),this._createIndicator(e,s,i,c,r),t.add(s)},e.prototype._createHandle=function(t,e,n,i,r,o){var a=v.bind(this._dragHandle,this,n,!1),s=v.bind(this._dragHandle,this,n,!0),l=Fn(t.get("handleSize"),i[0]),u=kg(t.get("handleIcon"),-l/2,-l/2,l,l,null,!0),c=rF(this._orient);u.attr({cursor:c,draggable:!0,drift:a,ondragend:s,onmousemove:function(t){lt(t.event)}}),u.x=i[0]/2,u.useStyle(t.getModel("handleStyle").getItemStyle()),u.setStyle({strokeNoScale:!0,strokeFirst:!0}),u.style.lineWidth*=2,u.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),_s(u,!0),e.add(u);var h=this.visualMapModel.textStyleModel,d=new _a({cursor:c,draggable:!0,drift:a,onmousemove:function(t){lt(t.event)},ondragend:s,style:{x:0,y:0,text:"",font:h.getFont(),fill:h.getTextColor()}});d.ensureState("blur").style={opacity:.1},d.stateTransition={duration:200},this.group.add(d);var f=[l,0],p=this._shapes;p.handleThumbs[n]=u,p.handleLabelPoints[n]=f,p.handleLabels[n]=d},e.prototype._createIndicator=function(t,e,n,i,r){var o=Fn(t.get("indicatorSize"),n[0]),a=kg(t.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);a.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var s=t.getModel("indicatorStyle").getItemStyle();if(a instanceof Ko){var l=a.style;a.useStyle(v.extend({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},s))}else a.useStyle(s);e.add(a);var u=this.visualMapModel.textStyleModel,c=new _a({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:u.getFont(),fill:u.getTextColor()}});this.group.add(c);var h=[("horizontal"===r?i/2:6)+n[0]/2,0],d=this._shapes;d.indicator=a,d.indicatorLabel=c,d.indicatorLabelPoint=h,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,n,i){if(this._useHandle){if(this._dragging=!e,!e){var r=this._applyTransform([n,i],this._shapes.mainGroup,!0);this._updateInterval(t,r[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():iF(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),i=[0,t.itemSize[1]];this._handleEnds=[XB(e[0],n,i,!0),XB(e[1],n,i,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];TO(e,i,r,t,0);var o=n.getExtent();this._dataInterval=[XB(i[0],r,o,!0),XB(i[1],r,o,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,n=e.getExtent(),i=this._shapes,r=[0,e.itemSize[1]],o=t?r:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,r,"outOfRange");i.inRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),i.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(o,a)},e.prototype._createBarVisual=function(t,e,n,i){var r={forceState:i,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,r),a=[this.getControllerVisual(t[0],"symbolSize",r),this.getControllerVisual(t[1],"symbolSize",r)],s=this._createBarPoints(n,a);return{barColor:new zl(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var n=[],i=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var r=1;r<100;r++){var o=t[0]+i*r;if(o>t[1])break;n.push({color:this.getControllerVisual(o,"color",e),offset:r/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},e.prototype._createBarPoints=function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new Kn("horizontal"!==e||n?"horizontal"===e&&n?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==e||n?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,o=n.handleLabels,a=i.itemSize,s=i.getExtent();KB([0,1],function(l){var u=r[l];u.setStyle("fill",e.handlesColor[l]),u.y=t[l];var c=XB(t[l],[0,a[1]],s,!0),h=this.getControllerVisual(c,"symbolSize");u.scaleX=u.scaleY=h/a[0],u.x=a[0]-h/2;var d=xu(n.handleLabelPoints[l],bu(u,this.group));o[l].setStyle({x:d[0],y:d[1],text:i.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,e,n,i){var r=this.visualMapModel,o=r.getExtent(),a=r.itemSize,s=[0,a[1]],l=this._shapes,u=l.indicator;if(u){u.attr("invisible",!1);var c=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),h=this.getControllerVisual(t,"symbolSize"),d=XB(t,o,s,!0),f=a[0]-h/2,p={x:u.x,y:u.y};u.y=d,u.x=f;var g=xu(l.indicatorLabelPoint,bu(u,this.group)),v=l.indicatorLabel;v.attr("invisible",!1);var m=this._applyTransform("left",l.mainGroup),y="horizontal"===this._orient;v.setStyle({text:(n||"")+r.formatValueText(e),verticalAlign:y?m:"middle",align:y?"center":m});var b={x:f,y:d,style:{fill:c}},x={style:{x:g[0],y:g[1]}};if(r.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var w={duration:100,easing:"cubicInOut",additive:!0};u.x=p.x,u.y=p.y,u.animateTo(b,w),v.animateTo(x,w)}else u.attr(b),v.attr(x);this._firstShowIndicator=!1;var _=this._shapes.handleLabels;if(_)for(var S=0;S<_.length;S++)this._api.enterBlur(_[S])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,i=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);i[1]=qB(tF(0,i[1]),n[1]),t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var r=[0,i[1]],o=n.getExtent();t=qB(tF(r[0],t),r[1]);var a=function(t,e,n){var i=eF/2,r=t.get("hoverLinkDataSize");r&&(i=XB(r,e,n,!0)/2);return i}(n,o,r),s=[t-a,t+a],l=XB(t,r,o,!0),u=[XB(s[0],r,o,!0),XB(s[1],r,o,!0)];s[0]<r[0]&&(u[0]=-1/0),s[1]>r[1]&&(u[1]=1/0),e&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",a):u[1]===1/0?this._showIndicator(l,u[0],"> ",a):this._showIndicator(l,l,"≈ ",a));var c=this._hoverLinkDataIndices,h=[];(e||iF(n))&&(h=this._hoverLinkDataIndices=n.findTargetDataIndices(u));var d=function(t,e){var n={},i={};return r(t||[],n),r(e||[],i,n),[o(n),o(i)];function r(t,e,n){for(var i=0,r=t.length;i<r;i++){var o=Yi(t[i].seriesId,null);if(null==o)return;for(var a=zi(t[i].dataIndex),s=n&&n[o],l=0,u=a.length;l<u;l++){var c=a[l];s&&s[c]?s[c]=null:(e[o]||(e[o]={}))[c]=1}}}function o(t,e){var n=[];for(var i in t)if(t.hasOwnProperty(i)&&null!=t[i])if(e)n.push(+i);else{var r=o(t[i],!0);r.length&&n.push({seriesId:i,dataIndex:r})}return n}}(c,h);this._dispatchHighDown("downplay",$B(d[0],n)),this._dispatchHighDown("highlight",$B(d[1],n))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e=t.target,n=this.visualMapModel;if(e&&null!=Sa(e).dataIndex){var i=Sa(e),r=this.ecModel.getSeriesByIndex(i.seriesIndex);if(n.isTargetSeries(r)){var o=r.getData(i.dataType),a=o.getStore().get(n.getDataDimensionIndex(o),i.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var e=this._shapes.handleLabels;if(e)for(var n=0;n<e.length;n++)this._api.leaveBlur(e[n])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",$B(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,e,n,i){var r=bu(e,i?null:this.group);return v.isArray(t)?xu(t,r,n):wu(t,r,n)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(JB),aF={type:"selectDataRange",event:"dataRangeSelected",update:"update"},sF=function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})},lF=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",function(e){var i,r,o,a,s,l=t.pipelineContext;!e.isTargetSeries(t)||l&&l.large||n.push((i=e.stateList,r=e.targetVisuals,o=v.bind(e.getValueState,e),a=e.getDataDimensionIndex(t.getData()),s={},v.each(i,function(t){var e=Ak.prepareVisualTypes(r[t]);s[t]=e}),{progress:function(t,e){var n,i;function l(t){return ug(e,i,t)}function u(t,n){hg(e,i,t,n)}null!=a&&(n=e.getDimensionIndex(a));for(var c=e.getStore();null!=(i=t.next());){var h=e.getRawDataItem(i);if(!h||!1!==h.visualMap)for(var d=null!=a?c.get(n,i):i,f=o(d),p=r[f],g=s[f],v=0,m=g.length;v<m;v++){var y=g[v];p[y]&&p[y].applyVisual(d,l,u)}}}}))}),n}},{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),i=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var r=e.getVisualMeta(v.bind(uF,null,t,e))||{stops:[],outerColors:[]},o=e.getDataDimensionIndex(n);o>=0&&(r.dimension=o,i.push(r))}}),t.getData().setVisual("visualMeta",i)}}];function uF(t,e,n,i){for(var r=e.targetVisuals[i],o=Ak.prepareVisualTypes(r),a={color:cg(t.getData(),"color")},s=0,l=o.length;s<l;s++){var u=o[s],c=r["opacity"===u?"__alphaForOpacity":u];c&&c.applyVisual(n,h,d)}return a.color;function h(t){return a[t]}function d(t,e){a[t]=e}}var cF=v.each;function hF(t){var e=t&&t.visualMap;v.isArray(e)||(e=e?[e]:[]),cF(e,function(t){if(t){dF(t,"splitList")&&!dF(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&v.isArray(e)&&cF(e,function(t){v.isObject(t)&&(dF(t,"start")&&!dF(t,"min")&&(t.min=t.start),dF(t,"end")&&!dF(t,"max")&&(t.max=t.end))})}})}function dF(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var fF=!1;function pF(t){fF||(fF=!0,t.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),t.registerAction(aF,sF),Object(v.each)(lF,function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)}),t.registerPreprocessor(hF))}function gF(t){t.registerComponentModel(YB),t.registerComponentView(oF),pF(t)}var vF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._pieceList=[],n}return p(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],mF[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var r=this.option.categories;this.resetVisual(function(t,e){"categories"===i?(t.mappingMethod="category",t.categories=v.clone(r)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=v.map(this._pieceList,function(t){return t=v.clone(t),"inRange"!==e&&(t.visual=null),t}))})},e.prototype.completeVisualOption=function(){var e=this.option,n={},i=Ak.listVisualTypes(),r=this.isCategory();function o(t,e,n){return t&&t[e]&&t[e].hasOwnProperty(n)}v.each(e.pieces,function(t){v.each(i,function(e){t.hasOwnProperty(e)&&(n[e]=1)})}),v.each(n,function(t,n){var i=!1;v.each(this.stateList,function(t){i=i||o(e,t,n)||o(e.target,t,n)},this),!i&&v.each(this.stateList,function(t){(e[t]||(e[t]={}))[n]=PB.get(n,"inRange"===t?"active":"inactive",r)})},this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var n=this.option,i=this._pieceList,r=(e?n:t).selected||{};if(n.selected=r,v.each(i,function(t,e){var n=this.getSelectedMapKey(t);r.hasOwnProperty(n)||(r[n]=!0)},this),"single"===n.selectedMode){var o=!1;v.each(i,function(t,e){var n=this.getSelectedMapKey(t);r[n]&&(o?r[n]=!1:o=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=v.clone(t)},e.prototype.getValueState=function(t){var e=Ak.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[],n=this._pieceList;return this.eachTargetSeries(function(i){var r=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(e,i){Ak.findPieceIndex(e,n)===t&&r.push(i)},this),e.push({seriesId:i.id,dataIndex:r})},this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],n=["",""],i=this,r=this._pieceList.slice();if(r.length){var o=r[0].interval[0];o!==-1/0&&r.unshift({interval:[-1/0,o]}),(o=r[r.length-1].interval[1])!==1/0&&r.push({interval:[o,1/0]})}else r.push({interval:[-1/0,1/0]});var a=-1/0;return v.each(r,function(t){var e=t.interval;e&&(e[0]>a&&s([a,e[0]],"outOfRange"),s(e.slice()),a=e[1])},this),{stops:e,outerColors:n}}function s(r,o){var a=i.getRepresentValue({interval:r});o||(o=i.getValueState(a));var s=t(a,o);r[0]===-1/0?n[0]=s:r[1]===1/0?n[1]=s:e.push({value:r[0],color:s},{value:r[1],color:s})}},e.type="visualMap.piecewise",e.defaultOption=cc(WB.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(WB),mF={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(n)!==o&&n<5;)n++;e.precision=n,o=+o.toFixed(n),e.minOpen&&t.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,s=i[0];a<r;s+=o,a++){var l=a===r-1?i[1]:s+o;t.push({interval:[s,l],close:[1,1]})}e.maxOpen&&t.push({interval:[i[1],1/0],close:[0,0]}),Ti(t),v.each(t,function(t,e){t.index=e,t.text=this.formatValueText(t.interval)},this)},categories:function(t){var e=this.option;v.each(e.categories,function(e){t.push({text:this.formatValueText(e,!0),value:e})},this),yF(e,t)},pieces:function(t){var e=this.option;v.each(e.pieces,function(e,n){v.isObject(e)||(e={value:e});var i={text:"",index:n};if(null!=e.label&&(i.text=e.label),e.hasOwnProperty("value")){var r=i.value=e.value;i.interval=[r,r],i.close=[1,1]}else{for(var o=i.interval=[],a=i.close=[0,0],s=[1,0,1],l=[-1/0,1/0],u=[],c=0;c<2;c++){for(var h=[["gte","gt","min"],["lte","lt","max"]][c],d=0;d<3&&null==o[c];d++)o[c]=e[h[d]],a[c]=s[d],u[c]=2===d;null==o[c]&&(o[c]=l[c])}u[0]&&o[1]===1/0&&(a[0]=0),u[1]&&o[0]===-1/0&&(a[1]=0),o[0]===o[1]&&a[0]&&a[1]&&(i.value=o[0])}i.visual=Ak.retrieveVisuals(e),t.push(i)},this),yF(e,t),Ti(t),v.each(t,function(t){var e=t.close,n=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)},this)}};function yF(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var bF=vF,xF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return p(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),i=e.textStyleModel,r=i.getFont(),o=i.getTextColor(),a=this._getItemAlign(),s=e.itemSize,l=this._getViewData(),u=l.endsText,c=v.retrieve(e.get("showLabel",!0),!u);u&&this._renderEndsText(t,u[0],s,c,a),v.each(l.viewPieceList,function(i){var l=i.piece,u=new Kn;u.onclick=v.bind(this._onItemClick,this,l),this._enableHoverLink(u,i.indexInModelPieceList);var h=e.getRepresentValue(l);if(this._createItemSymbol(u,h,[0,0,s[0],s[1]]),c){var d=this.visualMapModel.getValueState(h);u.add(new _a({style:{x:"right"===a?-n:s[0]+n,y:s[1]/2,text:l.text,verticalAlign:"middle",align:a,font:r,fill:o,opacity:"outOfRange"===d?.5:1}}))}t.add(u)},this),u&&this._renderEndsText(t,u[1],s,c,a),fh(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var n=this;t.on("mouseover",function(){return i("highlight")}).on("mouseout",function(){return i("downplay")});var i=function(t){var i=n.visualMapModel;i.option.hoverLink&&n.api.dispatchAction({type:t,batch:$B(i.findTargetDataIndices(e),i)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return ZB(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},e.prototype._renderEndsText=function(t,e,n,i,r){if(e){var o=new Kn,a=this.visualMapModel.textStyleModel;o.add(new _a({style:{x:i?"right"===r?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:i?r:"center",text:e,font:a.getFont(),fill:a.getTextColor()}})),t.add(o)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=v.map(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),n=t.get("text"),i=t.get("orient"),r=t.get("inverse");return("horizontal"===i?r:!r)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},e.prototype._createItemSymbol=function(t,e,n){t.add(kg(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},e.prototype._onItemClick=function(t){var e=this.visualMapModel,n=e.option,i=v.clone(n.selected),r=e.getSelectedMapKey(t);"single"===n.selectedMode?(i[r]=!0,v.each(i,function(t,e){i[e]=e===r})):i[r]=!i[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})},e.type="visualMap.piecewise",e}(JB);function wF(t){t.registerComponentModel(bF),t.registerComponentView(xF),pF(t)}var _F={label:{enabled:!0},decal:{show:!1}},SF=$i(),MF={};function CF(t,e){var n=t.getModel("aria");if(n.get("enabled")){var i=v.clone(_F);v.merge(i.label,t.getLocaleModel().get("aria"),!1),v.merge(n.option,i,!1),function(){if(n.getModel("decal").get("show")){var e=v.createHashMap();t.eachSeries(function(t){if(!t.isColorBySeries()){var n=e.get(t.type);n||(n={},e.set(t.type,n)),SF(t).scope=n}}),t.eachRawSeries(function(e){if(!t.isSeriesFiltered(e))if(v.isFunction(e.enableAriaDecal))e.enableAriaDecal();else{var n=e.getData();if(e.isColorBySeries()){var i=Zh(e.ecModel,e.name,MF,t.getSeriesCount()),r=n.getVisual("decal");n.setVisual("decal",u(r,i))}else{var o=e.getRawData(),a={},s=SF(e).scope;n.each(function(t){var e=n.getRawIndex(t);a[e]=t});var l=o.count();o.each(function(t){var i=a[t],r=o.getName(t)||t+"",c=Zh(e.ecModel,r,s,l),h=n.getItemVisual(i,"decal");n.setItemVisual(i,"decal",u(h,c))})}}function u(t,e){var n=t?v.extend(v.extend({},e),t):e;return n.dirty=!0,n}})}}(),function(){var i=t.getLocaleModel().get("aria"),o=n.getModel("label");if(o.option=v.defaults(o.option,i),!o.get("enabled"))return;var a=e.getZr().dom;if(o.get("description"))return void a.setAttribute("aria-label",o.get("description"));var s,l=t.getSeriesCount(),u=o.get(["data","maxCount"])||10,c=o.get(["series","maxCount"])||10,h=Math.min(l,c);if(l<1)return;var d=function(){var e=t.get("title");e&&e.length&&(e=e[0]);return e&&e.text}();if(d){var f=o.get(["general","withTitle"]);s=r(f,{title:d})}else s=o.get(["general","withoutTitle"]);var p=[],g=l>1?o.get(["series","multiple","prefix"]):o.get(["series","single","prefix"]);s+=r(g,{seriesCount:l}),t.eachSeries(function(e,n){if(n<h){var i=void 0,a=e.get("name"),s=a?"withName":"withoutName";i=r(i=l>1?o.get(["series","multiple",s]):o.get(["series","single",s]),{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:(w=e.subType,t.getLocaleModel().get(["series","typeNames"])[w]||"自定义图")});var c=e.getData();if(c.count()>u){var d=o.get(["data","partialData"]);i+=r(d,{displayCnt:u})}else i+=o.get(["data","allData"]);for(var f=o.get(["data","separator","middle"]),g=o.get(["data","separator","end"]),v=[],m=0;m<c.count();m++)if(m<u){var y=c.getName(m),b=c.getValues(m),x=o.get(["data",y?"withName":"withoutName"]);v.push(r(x,{name:y,value:b.join(f)}))}i+=v.join(f)+g,p.push(i)}var w});var m=o.getModel(["series","multiple","separator"]),y=m.get("middle"),b=m.get("end");s+=p.join(y)+b,a.setAttribute("aria-label",s)}()}function r(t,e){if(!v.isString(t))return t;var n=t;return v.each(e,function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),n}}function IF(t){if(t&&t.aria){var e=t.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},v.each(["description","general","series","data"],function(t){null!=e[t]&&(e.label[t]=e[t])})}}var kF={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},TF=function(){function t(t){if(null==(this._condVal=Object(v.isString)(t)?new RegExp(t):Object(v.isRegExp)(t)?t:null)){var e="";0,Di(e)}}return t.prototype.evaluate=function(t){var e=typeof t;return Object(v.isString)(e)?this._condVal.test(t):!!Object(v.isNumber)(e)&&this._condVal.test(t+"")},t}(),OF=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),EF=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},t}(),AF=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},t}(),NF=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),LF=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),n=t?this.valueParser(e):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(t?n:e))return!1;return!0},t}();function DF(t,e){if(!0===t||!1===t){var n=new OF;return n.value=t,n}var i="";return PF(t)||Di(i),t.and?jF("and",t,e):t.or?jF("or",t,e):t.not?function(t,e){var n=t.not,i="";0;PF(n)||Di(i);var r=new NF;r.child=DF(n,e),r.child||Di(i);return r}(t,e):function(t,e){for(var n="",i=e.prepareGetValue(t),r=[],o=Object(v.keys)(t),a=t.parser,s=a?uf(a):null,l=0;l<o.length;l++){var u=o[l];if("parser"!==u&&!e.valueGetterAttrMap.get(u)){var c=Object(v.hasOwn)(kF,u)?kF[u]:u,h=t[u],d=s?s(h):h,f=pf(c,d)||"reg"===c&&new TF(d);f||Di(n),r.push(f)}}r.length||Di(n);var p=new LF;return p.valueGetterParam=i,p.valueParser=s,p.getValue=e.getValue,p.subCondList=r,p}(t,e)}function jF(t,e,n){var i=e[t],r="";Object(v.isArray)(i)||Di(r),i.length||Di(r);var o="and"===t?new EF:new AF;return o.children=Object(v.map)(i,function(t){return DF(t,n)}),o.children.length||Di(r),o}function PF(t){return Object(v.isObject)(t)&&!Object(v.isArrayLike)(t)}var RF=function(){function t(t,e){this._cond=DF(t,e)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();var zF={type:"echarts:filter",transform:function(t){for(var e,n,i,r=t.upstream,o=(n=t.config,i={valueGetterAttrMap:Object(v.createHashMap)({dimension:!0}),prepareGetValue:function(t){var e="",n=t.dimension;Object(v.hasOwn)(t,"dimension")||Di(e);var i=r.getDimensionInfo(n);return i||Di(e),{dimIdx:i.index}},getValue:function(t){return r.retrieveValueFromItem(e,t.dimIdx)}},new RF(n,i)),a=[],s=0,l=r.count();s<l;s++)e=r.getRawDataItem(s),o.evaluate()&&a.push(e);return{data:a}}};var BF={type:"echarts:sort",transform:function(t){var e=t.upstream,n="",i=zi(t.config);i.length||Di(n);var r=[];Object(v.each)(i,function(t){var i=t.dimension,o=t.order,a=t.parser,s=t.incomparable;if(null==i&&Di(n),"asc"!==o&&"desc"!==o&&Di(n),s&&"min"!==s&&"max"!==s){var l="";0,Di(l)}if("asc"!==o&&"desc"!==o){var u="";0,Di(u)}var c=e.getDimensionInfo(i);c||Di(n);var h=a?uf(a):null;a&&!h&&Di(n),r.push({dimIdx:c.index,parser:h,comparator:new df(o,s)})});var o=e.sourceFormat;o!==Th&&o!==Oh&&Di(n);for(var a=[],s=0,l=e.count();s<l;s++)a.push(e.getRawDataItem(s));return a.sort(function(t,n){for(var i=0;i<r.length;i++){var o=r[i],a=e.retrieveValueFromItem(t,o.dimIdx),s=e.retrieveValueFromItem(n,o.dimIdx);o.parser&&(a=o.parser(a),s=o.parser(s));var l=o.comparator.evaluate(a,s);if(0!==l)return l}return 0}),{data:a}}};var FF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return p(e,t),e.prototype.init=function(e,n,i){t.prototype.init.call(this,e,n,i),this._sourceManager=new Nf(this),Lf(this)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),Lf(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Lh},e}(_h),GF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return p(e,t),e.type="dataset",e}(hp);var VF=Mo.CMD;function WF(t,e){return Math.abs(t-e)<1e-5}function HF(t){var e,n,i,r,o,a=t.data,s=t.len(),l=[],u=0,c=0,h=0,d=0;function f(t,n){e&&e.length>2&&l.push(e),e=[t,n]}function p(t,n,i,r){WF(t,i)&&WF(n,r)||e.push(t,n,i,r,i,r)}function g(t,n,i,r,o,a){var s=Math.abs(n-t),l=4*Math.tan(s/4)/3,u=n<t?-1:1,c=Math.cos(t),h=Math.sin(t),d=Math.cos(n),f=Math.sin(n),p=c*o+i,g=h*a+r,v=d*o+i,m=f*a+r,y=o*l*u,b=a*l*u;e.push(p-y*h,g+b*c,v+y*f,m-b*d,v,m)}for(var v=0;v<s;){var m=a[v++],y=1===v;switch(y&&(h=u=a[v],d=c=a[v+1],m!==VF.L&&m!==VF.C&&m!==VF.Q||(e=[h,d])),m){case VF.M:u=h=a[v++],c=d=a[v++],f(h,d);break;case VF.L:p(u,c,n=a[v++],i=a[v++]),u=n,c=i;break;case VF.C:e.push(a[v++],a[v++],a[v++],a[v++],u=a[v++],c=a[v++]);break;case VF.Q:n=a[v++],i=a[v++],r=a[v++],o=a[v++],e.push(u+2/3*(n-u),c+2/3*(i-c),r+2/3*(n-r),o+2/3*(i-o),r,o),u=r,c=o;break;case VF.A:var b=a[v++],x=a[v++],w=a[v++],_=a[v++],S=a[v++],M=a[v++]+S;v+=1;var C=!a[v++];n=Math.cos(S)*w+b,i=Math.sin(S)*_+x,y?f(h=n,d=i):p(u,c,n,i),u=Math.cos(M)*w+b,c=Math.sin(M)*_+x;for(var I=(C?-1:1)*Math.PI/2,k=S;C?k>M:k<M;k+=I){g(k,C?Math.max(k+I,M):Math.min(k+I,M),b,x,w,_)}break;case VF.R:h=u=a[v++],d=c=a[v++],n=h+a[v++],i=d+a[v++],f(n,d),p(n,d,n,i),p(n,i,h,i),p(h,i,h,d),p(h,d,n,d);break;case VF.Z:e&&p(u,c,h,d),u=h,c=d}}return e&&e.length>2&&l.push(e),l}function UF(t,e,n,i,r,o,a,s,l,u){if(WF(t,n)&&WF(e,i)&&WF(r,a)&&WF(o,s))l.push(a,s);else{var c=2/u,h=c*c,d=a-t,f=s-e,p=Math.sqrt(d*d+f*f);d/=p,f/=p;var g=n-t,v=i-e,m=r-a,y=o-s,b=g*g+v*v,x=m*m+y*y;if(b<h&&x<h)l.push(a,s);else{var w=d*g+f*v,_=-d*m-f*y;if(b-w*w<h&&w>=0&&x-_*_<h&&_>=0)l.push(a,s);else{var S=[],M=[];te(t,n,r,a,.5,S),te(e,i,o,s,.5,M),UF(S[0],M[0],S[1],M[1],S[2],M[2],S[3],M[3],l,u),UF(S[4],M[4],S[5],M[5],S[6],M[6],S[7],M[7],l,u)}}}}function YF(t,e,n){var i=t[e],r=t[1-e],o=Math.abs(i/r),a=Math.ceil(Math.sqrt(o*n)),s=Math.floor(n/a);0===s&&(s=1,a=n);for(var l=[],u=0;u<a;u++)l.push(s);var c=n-a*s;if(c>0)for(u=0;u<c;u++)l[u%a]+=1;return l}function JF(t,e,n){for(var i=t.r0,r=t.r,o=t.startAngle,a=t.endAngle,s=Math.abs(a-o),l=s*r,u=r-i,c=l>Math.abs(u),h=YF([l,u],c?0:1,e),d=(c?s:u)/h.length,f=0;f<h.length;f++)for(var p=(c?u:s)/h[f],g=0;g<h[f];g++){var v={};c?(v.startAngle=o+d*f,v.endAngle=o+d*(f+1),v.r0=i+p*g,v.r=i+p*(g+1)):(v.startAngle=o+p*g,v.endAngle=o+p*(g+1),v.r0=i+d*f,v.r=i+d*(f+1)),v.clockwise=t.clockwise,v.cx=t.cx,v.cy=t.cy,n.push(v)}}function QF(t,e,n,i){return t*i-n*e}function ZF(t,e,n,i,r,o,a,s){var l=n-t,u=i-e,c=a-r,h=s-o,d=QF(c,h,l,u);if(Math.abs(d)<1e-6)return null;var f=QF(t-r,e-o,c,h)/d;return f<0||f>1?null:new wn(f*l+t,f*u+e)}function $F(t,e,n){var i=new wn;wn.sub(i,n,e),i.normalize();var r=new wn;return wn.sub(r,t,e),r.dot(i)}function XF(t,e){var n=t[t.length-1];n&&n[0]===e[0]&&n[1]===e[1]||t.push(e)}function KF(t){var e=t.points,n=[],i=[];qr(e,n,i);var r=new En(n[0],n[1],i[0]-n[0],i[1]-n[1]),o=r.width,a=r.height,s=r.x,l=r.y,u=new wn,c=new wn;return o>a?(u.x=c.x=s+o/2,u.y=l,c.y=l+a):(u.y=c.y=l+a/2,u.x=s,c.x=s+o),function(t,e,n){for(var i=t.length,r=[],o=0;o<i;o++){var a=t[o],s=t[(o+1)%i],l=ZF(a[0],a[1],s[0],s[1],e.x,e.y,n.x,n.y);l&&r.push({projPt:$F(l,e,n),pt:l,idx:o})}if(r.length<2)return[{points:t},{points:t}];r.sort(function(t,e){return t.projPt-e.projPt});var u=r[0],c=r[r.length-1];if(c.idx<u.idx){var h=u;u=c,c=h}var d=[u.pt.x,u.pt.y],f=[c.pt.x,c.pt.y],p=[d],g=[f];for(o=u.idx+1;o<=c.idx;o++)XF(p,t[o].slice());for(XF(p,f),XF(p,d),o=c.idx+1;o<=u.idx+i;o++)XF(g,t[o%i].slice());return XF(g,d),XF(g,f),[{points:p},{points:g}]}(e,u,c)}function qF(t,e,n,i){if(1===n)i.push(e);else{var r=Math.floor(n/2),o=t(e);qF(t,o[0],r,i),qF(t,o[1],n-r,i)}return i}function tG(t,e){var n,i=[],r=t.shape;switch(t.type){case"rect":!function(t,e,n){for(var i=t.width,r=t.height,o=i>r,a=YF([i,r],o?0:1,e),s=o?"width":"height",l=o?"height":"width",u=o?"x":"y",c=o?"y":"x",h=t[s]/a.length,d=0;d<a.length;d++)for(var f=t[l]/a[d],p=0;p<a[d];p++){var g={};g[u]=d*h,g[c]=p*f,g[s]=h,g[l]=f,g.x+=t.x,g.y+=t.y,n.push(g)}}(r,e,i),n=aa;break;case"sector":JF(r,e,i),n=fl;break;case"circle":JF({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},e,i),n=fl;break;default:var o=t.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=Object(v.map)(function(t,e){var n=HF(t),i=[];e=e||1;for(var r=0;r<n.length;r++){var o=n[r],a=[],s=o[0],l=o[1];a.push(s,l);for(var u=2;u<o.length;){var c=o[u++],h=o[u++],d=o[u++],f=o[u++],p=o[u++],g=o[u++];UF(s,l,c,h,d,f,p,g,a,e),s=p,l=g}i.push(a)}return i}(t.getUpdatedPathProxy(),a),function(t){return function(t){for(var e=[],n=0;n<t.length;)e.push([t[n++],t[n++]]);return e}(t)}),l=s.length;if(0===l)qF(KF,{points:s[0]},e,i);else if(l===e)for(var u=0;u<l;u++)i.push({points:s[u]});else{var c=0,h=Object(v.map)(s,function(t){var e=[],n=[];qr(t,e,n);var i=(n[1]-e[1])*(n[0]-e[0]);return c+=i,{poly:t,area:i}});h.sort(function(t,e){return e.area-t.area});var d=e;for(u=0;u<l;u++){var f=h[u];if(d<=0)break;var p=u===l-1?d:Math.ceil(f.area/c*e);p<0||(qF(KF,{points:f.poly},p,i),d-=p)}}n=xl}if(!n)return function(t,e){for(var n=[],i=0;i<e;i++)n.push(Us(t));return n}(t,e);var g,m,y=[];for(u=0;u<i.length;u++){var b=new n;b.setShape(i[u]),g=t,(m=b).setStyle(g.style),m.z=g.z,m.z2=g.z2,m.zlevel=g.zlevel,y.push(b)}return y}function eG(t,e){var n=t.length,i=e.length;if(n===i)return[t,e];for(var r=[],o=[],a=n<i?t:e,s=Math.min(n,i),l=Math.abs(i-n)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,h=[a[0],a[1]],d=l,f=2;f<s;){var p=a[f-2],g=a[f-1],v=a[f++],m=a[f++],y=a[f++],b=a[f++],x=a[f++],w=a[f++];if(d<=0)h.push(v,m,y,b,x,w);else{for(var _=Math.min(d,c-1)+1,S=1;S<=_;S++){var M=S/_;te(p,v,y,x,M,r),te(g,m,b,w,M,o),p=r[3],g=o[3],h.push(r[1],o[1],r[2],o[2],p,g),v=r[5],m=o[5],y=r[6],b=o[6]}d-=_-1}}return a===t?[h,e]:[t,h]}function nG(t,e){for(var n=t.length,i=t[n-2],r=t[n-1],o=[],a=0;a<e.length;)o[a++]=i,o[a++]=r;return o}function iG(t){for(var e=0,n=0,i=0,r=t.length,o=0,a=r-2;o<r;a=o,o+=2){var s=t[a],l=t[a+1],u=t[o],c=t[o+1],h=s*c-u*l;e+=h,n+=(s+u)*h,i+=(l+c)*h}return 0===e?[t[0]||0,t[1]||0]:[n/e/3,i/e/3,e]}function rG(t,e,n,i){for(var r=(t.length-2)/6,o=1/0,a=0,s=t.length,l=s-2,u=0;u<r;u++){for(var c=6*u,h=0,d=0;d<s;d+=2){var f=0===d?c:(c+d-2)%l+2,p=t[f]-n[0],g=t[f+1]-n[1],v=e[d]-i[0]-p,m=e[d+1]-i[1]-g;h+=v*v+m*m}h<o&&(o=h,a=u)}return a}function oG(t){for(var e=[],n=t.length,i=0;i<n;i+=2)e[i]=t[n-i-2],e[i+1]=t[n-i-1];return e}function aG(t){return t.__isCombineMorphing}var sG="__mOriginal_";function lG(t,e,n){var i=sG+e,r=t[i]||t[e];t[i]||(t[i]=t[e]);var o=n.replace,a=n.after,s=n.before;t[e]=function(){var t,e=arguments;return s&&s.apply(this,e),t=o?o.apply(this,e):r.apply(this,e),a&&a.apply(this,e),t}}function uG(t,e){var n=sG+e;t[n]&&(t[e]=t[n],t[n]=null)}function cG(t,e){for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;){var o=i[r],a=i[r+1];i[r++]=e[0]*o+e[2]*a+e[4],i[r++]=e[1]*o+e[3]*a+e[5]}}function hG(t,e){var n=t.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),r=function(t,e){for(var n,i,r,o=[],a=[],s=0;s<Math.max(t.length,e.length);s++){var l=t[s],u=e[s],c=void 0,h=void 0;l?u?(i=c=(n=eG(l,u))[0],r=h=n[1]):(h=nG(r||l,l),c=l):(c=nG(i||u,u),h=u),o.push(c),a.push(h)}return[o,a]}(HF(n),HF(i)),o=r[0],a=r[1],s=t.getComputedTransform(),l=e.getComputedTransform();s&&cG(o,s),l&&cG(a,l),lG(e,"updateTransform",{replace:function(){this.transform=null}}),e.transform=null;var u=function(t,e,n,i){for(var r,o=[],a=0;a<t.length;a++){var s=t[a],l=e[a],u=iG(s),c=iG(l);null==r&&(r=u[2]<0!=c[2]<0);var h=[],d=[],f=0,p=1/0,g=[],v=s.length;r&&(s=oG(s));for(var m=6*rG(s,l,u,c),y=v-2,b=0;b<y;b+=2){var x=(m+b)%y+2;h[b+2]=s[x]-u[0],h[b+3]=s[x+1]-u[1]}if(h[0]=s[m]-u[0],h[1]=s[m+1]-u[1],n>0)for(var w=i/n,_=-i/2;_<=i/2;_+=w){var S=Math.sin(_),M=Math.cos(_),C=0;for(b=0;b<s.length;b+=2){var I=h[b],k=h[b+1],T=l[b]-c[0],O=l[b+1]-c[1],E=T*M-O*S,A=T*S+O*M;g[b]=E,g[b+1]=A;var N=E-I,L=A-k;C+=N*N+L*L}if(C<p){p=C,f=_;for(var D=0;D<g.length;D++)d[D]=g[D]}}else for(var j=0;j<v;j+=2)d[j]=l[j]-c[0],d[j+1]=l[j+1]-c[1];o.push({from:h,to:d,fromCp:u,toCp:c,rotation:-f})}return o}(o,a,10,Math.PI),c=[];lG(e,"buildPath",{replace:function(t){for(var n=e.__morphT,i=1-n,r=[],o=0;o<u.length;o++){var a=u[o],s=a.from,l=a.to,h=a.rotation*n,d=a.fromCp,f=a.toCp,p=Math.sin(h),g=Math.cos(h);F(r,d,f,n);for(var v=0;v<s.length;v+=2){var m=s[v],y=s[v+1],b=m*i+(S=l[v])*n,x=y*i+(M=l[v+1])*n;c[v]=b*g-x*p+r[0],c[v+1]=b*p+x*g+r[1]}var w=c[0],_=c[1];t.moveTo(w,_);for(v=2;v<s.length;){var S=c[v++],M=c[v++],C=c[v++],I=c[v++],k=c[v++],T=c[v++];w===S&&_===M&&C===k&&I===T?t.lineTo(k,T):t.bezierCurveTo(S,M,C,I,k,T),w=k,_=T}}}})}function dG(t,e,n){if(!t||!e)return e;var i=n.done,r=n.during;return hG(t,e),e.__morphT=0,e.animateTo({__morphT:1},Object(v.defaults)({during:function(t){e.dirtyShape(),r&&r(t)},done:function(){uG(e,"buildPath"),uG(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape(),i&&i()}},n)),e}function fG(t){var e=1/0,n=1/0,i=-1/0,r=-1/0,o=Object(v.map)(t,function(t){var o=t.getBoundingRect(),a=t.getComputedTransform(),s=o.x+o.width/2+(a?a[4]:0),l=o.y+o.height/2+(a?a[5]:0);return e=Math.min(s,e),n=Math.min(l,n),i=Math.max(s,i),r=Math.max(l,r),[s,l]});return Object(v.map)(o,function(o,a){return{cp:o,z:function(t,e,n,i,r,o){t=r===n?0:Math.round(32767*(t-n)/(r-n)),e=o===i?0:Math.round(32767*(e-i)/(o-i));for(var a,s=0,l=32768;l>0;l/=2){var u=0,c=0;(t&l)>0&&(u=1),(e&l)>0&&(c=1),s+=l*l*(3*u^c),0===c&&(1===u&&(t=l-1-t,e=l-1-e),a=t,t=e,e=a)}return s}(o[0],o[1],e,n,i,r),path:t[a]}}).sort(function(t,e){return t.z-e.z}).map(function(t){return t.path})}function pG(t){return tG(t.path,t.count)}function gG(t){return Object(v.isArray)(t[0])}function vG(t,e){for(var n=[],i=t.length,r=0;r<i;r++)n.push({one:t[r],many:[]});for(r=0;r<e.length;r++){var o=e[r].length,a=void 0;for(a=0;a<o;a++)n[a%i].many.push(e[r][a])}var s=0;for(r=i-1;r>=0;r--)if(!n[r].many.length){var l=n[s].many;if(l.length<=1){if(!s)return n;s=0}o=l.length;var u=Math.ceil(o/2);n[r].many=l.slice(u,o),n[s].many=l.slice(0,u),s++}return n}var mG={clone:function(t){for(var e=[],n=1-Math.pow(1-t.path.style.opacity,1/t.count),i=0;i<t.count;i++){var r=Us(t.path);r.setStyle("opacity",n),e.push(r)}return e},split:null};function yG(t,e,n,i,r,o){if(t.length&&e.length){var a=Ql("update",i,r);if(a&&a.duration>0){var s,l,u=i.getModel("universalTransition").get("delay"),c=Object.assign({setToFinal:!0},a);gG(t)&&(s=t,l=e),gG(e)&&(s=e,l=t);for(var h=s?s===t:t.length>e.length,d=s?vG(l,s):vG(h?e:t,[h?t:e]),f=0,p=0;p<d.length;p++)f+=d[p].many.length;var g=0;for(p=0;p<d.length;p++)m(d[p],h,g,f),g+=d[p].many.length}}function m(t,e,i,r,a){var s=t.many,l=t.one;if(1!==s.length||a)for(var h=Object(v.defaults)({dividePath:mG[n],individualDelay:u&&function(t,e,n,o){return u(t+i,r)}},c),d=e?function(t,e,n){var i=[];!function t(e){for(var n=0;n<e.length;n++){var r=e[n];aG(r)?t(r.childrenRef()):r instanceof Uo&&i.push(r)}}(t);var r=i.length;if(!r)return{fromIndividuals:[],toIndividuals:[],count:0};var o=(n.dividePath||pG)({path:e,count:r});if(o.length!==r)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};i=fG(i),o=fG(o);for(var a=n.done,s=n.during,l=n.individualDelay,u=new xn,c=0;c<r;c++){var h=i[c],d=o[c];d.parent=e,d.copyTransform(u),l||hG(h,d)}function f(t){for(var e=0;e<o.length;e++)o[e].addSelfToZr(t)}function p(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,uG(e,"addSelfToZr"),uG(e,"removeSelfFromZr")}e.__isCombineMorphing=!0,e.childrenRef=function(){return o},lG(e,"addSelfToZr",{after:function(t){f(t)}}),lG(e,"removeSelfFromZr",{after:function(t){for(var e=0;e<o.length;e++)o[e].removeSelfFromZr(t)}});var g=o.length;if(l){var m=g,y=function(){0==--m&&(p(),a&&a())};for(c=0;c<g;c++){var b=l?Object(v.defaults)({delay:(n.delay||0)+l(c,g,i[c],o[c]),done:y},n):n;dG(i[c],o[c],b)}}else e.__morphT=0,e.animateTo({__morphT:1},Object(v.defaults)({during:function(t){for(var n=0;n<g;n++){var i=o[n];i.__morphT=e.__morphT,i.dirtyShape()}s&&s(t)},done:function(){p();for(var e=0;e<t.length;e++)uG(t[e],"updateTransform");a&&a()}},n));return e.__zr&&f(e.__zr),{fromIndividuals:i,toIndividuals:o,count:g}}(s,l,h):function(t,e,n){var i=e.length,r=[],o=n.dividePath||pG;if(aG(t)){!function t(e){for(var n=0;n<e.length;n++){var i=e[n];aG(i)?t(i.childrenRef()):i instanceof Uo&&r.push(i)}}(t.childrenRef());var a=r.length;if(a<i)for(var s=0,l=a;l<i;l++)r.push(Us(r[s++%a]));r.length=i}else{r=o({path:t,count:i});var u=t.getComputedTransform();for(l=0;l<r.length;l++)r[l].setLocalTransform(u);if(r.length!==i)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}r=fG(r),e=fG(e);var c=n.individualDelay;for(l=0;l<i;l++){var h=c?Object(v.defaults)({delay:(n.delay||0)+c(l,i,r[l],e[l])},n):n;dG(r[l],e[l],h)}return{fromIndividuals:r,toIndividuals:e,count:e.length}}(l,s,h),f=d.fromIndividuals,p=d.toIndividuals,g=f.length,y=0;y<g;y++){b=u?Object(v.defaults)({delay:u(y,g)},c):c;o(f[y],p[y],e?s[y]:t.one,e?t.one:s[y],b)}else{var b,x=e?s[0]:l,w=e?l:s[0];if(aG(x))m({many:[x],one:w},!0,i,r,!0);else dG(x,w,b=u?Object(v.defaults)({delay:u(i,r)},c):c),o(x,w,x,w,b)}}}function bG(t){if(!t)return[];if(Object(v.isArray)(t)){for(var e=[],n=0;n<t.length;n++)e.push(bG(t[n]));return e}var i=[];return t.traverse(function(t){t instanceof Uo&&!t.disableMorphing&&!t.invisible&&!t.ignore&&i.push(t)}),i}var xG=1e4,wG=$i();function _G(t){var e=[];return Object(v.each)(t,function(t){var n=t.data;if(!(n.count()>xG))for(var i=n.getIndices(),r=function(t){for(var e=t.dimensions,n=0;n<e.length;n++){var i=t.getDimensionInfo(e[n]);if(i&&0===i.otherDims.itemGroupId)return e[n]}}(n),o=0;o<i.length;o++)e.push({data:n,dim:t.dim||r,divide:t.divide,dataIndex:o})}),e}function SG(t,e,n){t.traverse(function(t){t instanceof Uo&&Xl(t,{style:{opacity:0}},e,{dataIndex:n,isFrom:!0})})}function MG(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function CG(t){t.stopAnimation(),t.isGroup&&t.traverse(function(t){t.stopAnimation()})}function IG(t,e,n){var i=Ql("update",n,e);i&&t.traverse(function(t){if(t instanceof Hr){var e=Jl(t).oldStyle;e&&t.animateFrom({style:e},i)}})}function kG(t,e,n){var i=_G(t),r=_G(e);function o(t,e,n,i,r){(n||t)&&e.animateFrom({style:n&&n!==t?Object(v.extend)(Object(v.extend)({},n.style),t.style):t.style},r)}function a(t){for(var e=0;e<t.length;e++)if(t[e].dim)return t[e].dim}var s=a(i),l=a(r),u=!1;function c(t,e){return function(n){var i=n.data,r=n.dataIndex;if(e)return i.getId(r);var o=i.hostModel&&i.hostModel.get("dataGroupId"),a=t?s||l:l||s,u=a&&i.getDimensionInfo(a),c=u&&u.ordinalMeta;if(u){var h=i.get(u.name,r);return c&&c.categories[h]||h+""}var d=i.getRawDataItem(r);return d&&d.groupId?d.groupId+"":o||i.getId(r)}}var h=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++){var r=t[i],o=e[i];if(r.data.getId(r.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}(i,r),d={};if(!h)for(var f=0;f<r.length;f++){var p=r[f],g=p.data.getItemGraphicEl(p.dataIndex);g&&(d[g.id]=!0)}function m(t,e){var n=i[e],a=r[t],s=a.data.hostModel,l=n.data.getItemGraphicEl(n.dataIndex),c=a.data.getItemGraphicEl(a.dataIndex);l!==c?l&&d[l.id]||c&&(CG(c),l?(CG(l),MG(l),u=!0,yG(bG(l),bG(c),a.divide,s,t,o)):SG(c,s,t)):c&&IG(c,a.dataIndex,s)}new Nm(i,r,c(!0,h),c(!1,h),null,"multiple").update(m).updateManyToOne(function(t,e){var n=r[t],a=n.data,s=a.hostModel,l=a.getItemGraphicEl(n.dataIndex),c=Object(v.filter)(Object(v.map)(e,function(t){return i[t].data.getItemGraphicEl(i[t].dataIndex)}),function(t){return t&&t!==l&&!d[t.id]});l&&(CG(l),c.length?(Object(v.each)(c,function(t){CG(t),MG(t)}),u=!0,yG(bG(c),bG(l),n.divide,s,t,o)):SG(l,s,n.dataIndex))}).updateOneToMany(function(t,e){var n=i[e],a=n.data.getItemGraphicEl(n.dataIndex);if(!a||!d[a.id]){var s=Object(v.filter)(Object(v.map)(t,function(t){return r[t].data.getItemGraphicEl(r[t].dataIndex)}),function(t){return t&&t!==a}),l=r[t[0]].data.hostModel;s.length&&(Object(v.each)(s,function(t){return CG(t)}),a?(CG(a),MG(a),u=!0,yG(bG(a),bG(s),n.divide,l,t[0],o)):Object(v.each)(s,function(e){return SG(e,l,t[0])}))}}).updateManyToMany(function(t,e){new Nm(e,t,function(t){return i[t].data.getId(i[t].dataIndex)},function(t){return r[t].data.getId(r[t].dataIndex)}).update(function(n,i){m(t[n],e[i])}).execute()}).execute(),u&&Object(v.each)(e,function(t){var e=t.data.hostModel,i=e&&n.getViewOfSeriesModel(e),r=Ql("update",e,0);i&&e.isAnimationEnabled()&&r&&r.duration>0&&i.group.traverse(function(t){t instanceof Uo&&!t.animators.length&&t.animateFrom({style:{opacity:0}},r)})})}function TG(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function OG(t){return Object(v.isArray)(t)?t.sort().join(","):t}function EG(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function AG(t,e){var n=Object(v.createHashMap)(),i=Object(v.createHashMap)(),r=Object(v.createHashMap)();return Object(v.each)(t.oldSeries,function(e,n){var o=t.oldData[n],a=TG(e),s=OG(a);i.set(s,o),Object(v.isArray)(a)&&Object(v.each)(a,function(t){r.set(t,{data:o,key:s})})}),Object(v.each)(e.updatedSeries,function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var e=t.getData(),o=TG(t),a=OG(o),s=i.get(a);if(s)n.set(a,{oldSeries:[{divide:EG(s),data:s}],newSeries:[{divide:EG(e),data:e}]});else if(Object(v.isArray)(o)){0;var l=[];Object(v.each)(o,function(t){var e=i.get(t);e&&l.push({divide:EG(e),data:e})}),l.length&&n.set(a,{oldSeries:l,newSeries:[{data:e,divide:EG(e)}]})}else{var u=r.get(o);if(u){var c=n.get(u.key);c||(c={oldSeries:[{data:u.data,divide:EG(u.data)}],newSeries:[]},n.set(u.key,c)),c.newSeries.push({data:e,divide:EG(e)})}}}}),n}function NG(t,e){for(var n=0;n<t.length;n++){if(null!=e.seriesIndex&&e.seriesIndex===t[n].seriesIndex||null!=e.seriesId&&e.seriesId===t[n].id)return n}}n.d(e,"version",function(){return"5.3.0"}),n.d(e,"dependencies",function(){return uv}),n.d(e,"PRIORITY",function(){return fv}),n.d(e,"init",function(){return em}),n.d(e,"connect",function(){return nm}),n.d(e,"disConnect",function(){return im}),n.d(e,"disconnect",function(){return rm}),n.d(e,"dispose",function(){return om}),n.d(e,"getInstanceByDom",function(){return am}),n.d(e,"getInstanceById",function(){return sm}),n.d(e,"registerTheme",function(){return lm}),n.d(e,"registerPreprocessor",function(){return um}),n.d(e,"registerProcessor",function(){return cm}),n.d(e,"registerPostInit",function(){return hm}),n.d(e,"registerPostUpdate",function(){return dm}),n.d(e,"registerUpdateLifecycle",function(){return fm}),n.d(e,"registerAction",function(){return pm}),n.d(e,"registerCoordinateSystem",function(){return gm}),n.d(e,"getCoordinateSystemDimensions",function(){return vm}),n.d(e,"registerLocale",function(){return mc}),n.d(e,"registerLayout",function(){return mm}),n.d(e,"registerVisual",function(){return ym}),n.d(e,"registerLoading",function(){return wm}),n.d(e,"setCanvasCreator",function(){return _m}),n.d(e,"registerMap",function(){return Sm}),n.d(e,"getMap",function(){return Mm}),n.d(e,"registerTransform",function(){return Cm}),n.d(e,"dataTool",function(){return Im}),n.d(e,"zrender",function(){return o}),n.d(e,"matrix",function(){return r}),n.d(e,"vector",function(){return i}),n.d(e,"zrUtil",function(){return v}),n.d(e,"color",function(){return de}),n.d(e,"throttle",function(){return Cp}),n.d(e,"helper",function(){return s}),n.d(e,"use",function(){return Om}),n.d(e,"setPlatformAPI",function(){return Nn.e}),n.d(e,"parseGeoJSON",function(){return Gb}),n.d(e,"parseGeoJson",function(){return Gb}),n.d(e,"number",function(){return l}),n.d(e,"time",function(){return u}),n.d(e,"graphic",function(){return c}),n.d(e,"format",function(){return h}),n.d(e,"util",function(){return d}),n.d(e,"env",function(){return g.a}),n.d(e,"List",function(){return ny}),n.d(e,"Model",function(){return sc}),n.d(e,"Axis",function(){return qb}),n.d(e,"ComponentModel",function(){return _h}),n.d(e,"ComponentView",function(){return hp}),n.d(e,"SeriesModel",function(){return up}),n.d(e,"ChartView",function(){return wp}),n.d(e,"innerDrawElementOnCanvas",function(){return Kg}),n.d(e,"extendComponentModel",function(){return tx}),n.d(e,"extendComponentView",function(){return ex}),n.d(e,"extendSeriesModel",function(){return nx}),n.d(e,"extendChartView",function(){return ix}),Om([function(t){t.registerPainter("canvas",e_)}]),Om([function(t){t.registerPainter("svg",Xw)}]),Om([function(t){t.registerChartView(j_),t.registerSeriesModel(n_),t.registerLayout(P_("line",!0)),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,B_("line"))},function(t){t.registerChartView(hS),t.registerSeriesModel(V_),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,v.curry(Fy,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Gy("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,B_("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(e){t.sortInfo&&e.axis.setCategorySortInfo(t.sortInfo)})})},function(t){t.registerChartView(CS),t.registerSeriesModel(TS),dg("pie",t.registerAction),t.registerLayout(Object(v.curry)(vS,"pie")),t.registerProcessor(mS("pie")),t.registerProcessor({seriesType:"pie",reset:function(t,e){var n=t.getData();n.filterSelf(function(t){var e=n.mapDimension("value"),i=n.get(e,t);return!(Object(v.isNumber)(i)&&!isNaN(i)&&i<0)})}})},function(t){Om(TM),t.registerSeriesModel(OS),t.registerChartView(LS),t.registerLayout(P_("scatter"))},function(t){Om(VM),t.registerChartView(LM),t.registerSeriesModel(DM),t.registerLayout(OM),t.registerProcessor(mS("radar")),t.registerPreprocessor(NM)},function(t){Om(fI),t.registerChartView(QC),t.registerSeriesModel(ZC),t.registerLayout(XC),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,$C),dg("map",t.registerAction)},function(t){t.registerChartView(AI),t.registerSeriesModel(JI),t.registerLayout(ZI),t.registerVisual($I),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var n=t.dataIndex,i=e.getData().tree.getNodeByDataIndex(n);i.isExpand=!i.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var n=cI(e.coordinateSystem,t);e.setCenter&&e.setCenter(n.center),e.setZoom&&e.setZoom(n.zoom)})})}(t)},function(t){t.registerSeriesModel(qI),t.registerChartView(gk),t.registerVisual(Dk),t.registerLayout(Yk),function(t){for(var e=0;e<XI.length;e++)t.registerAction({type:XI[e],update:"updateView"},v.noop);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},function(e,n){var i=WI(t,["treemapZoomToNode","treemapRootToNode"],e);if(i){var r=e.getViewRoot();r&&(t.direction=UI(r,i.node)?"rollUp":"drillDown"),e.resetViewRoot(i.node)}})})}(t)},function(t){t.registerChartView(HT),t.registerSeriesModel(KT),t.registerProcessor($k),t.registerVisual(Xk),t.registerVisual(qk),t.registerLayout(cT),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,mT),t.registerLayout(bT),t.registerCoordinateSystem("graphView",{dimensions:tI.dimensions,create:xT}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},v.noop),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},v.noop),t.registerAction(qT,function(t,e){e.eachComponent({mainType:"series",query:t},function(e){var n=cI(e.coordinateSystem,t);e.setCenter&&e.setCenter(n.center),e.setZoom&&e.setZoom(n.zoom)})})},function(t){t.registerChartView(rO),t.registerSeriesModel(oO)},function(t){t.registerChartView(lO),t.registerSeriesModel(uO),t.registerLayout(cO),t.registerProcessor(mS("funnel"))},function(t){Om(FE),t.registerChartView(vO),t.registerSeriesModel(yO),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,xO)},function(t){t.registerChartView(WE),t.registerSeriesModel(HE),t.registerLayout(UE),t.registerVisual(iA),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function(t){t.registerSeriesModel(aA),t.registerChartView(dA),t.registerVisual(fA),t.registerLayout(gA),t.registerTransform(vA)},function(t){t.registerChartView(TA),t.registerSeriesModel(EA),t.registerPreprocessor(AA),t.registerVisual(PA),t.registerLayout(zA)},function(t){t.registerChartView(GA),t.registerSeriesModel(VA),t.registerLayout(P_("effectScatter"))},function(t){t.registerChartView($A),t.registerSeriesModel(tN),t.registerLayout(ZA),t.registerVisual(nN)},function(t){t.registerChartView(oN),t.registerSeriesModel(aN)},function(t){t.registerChartView(kN),t.registerSeriesModel(TN),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,Object(v.curry)(Fy,"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Gy("pictorialBar"))},function(t){t.registerChartView(ON),t.registerSeriesModel(EN),t.registerLayout(AN),t.registerProcessor(mS("themeRiver"))},function(t){t.registerChartView(BN),t.registerSeriesModel(FN),t.registerLayout(Object(v.curry)(VN,"sunburst")),t.registerProcessor(Object(v.curry)(mS,"sunburst")),t.registerVisual(WN),function(t){t.registerAction({type:PN,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e,n){var i=WI(t,[PN],e);if(i){var r=e.getViewRoot();r&&(t.direction=UI(r,i.node)?"rollUp":"drillDown"),e.resetViewRoot(i.node)}})}),t.registerAction({type:RN,update:"none"},function(t,e,n){t=Object(v.extend)({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e){var n=WI(t,[RN],e);n&&(t.dataIndex=n.node.dataIndex)}),n.dispatchAction(Object(v.extend)(t,{type:"highlight"}))}),t.registerAction({type:zN,update:"updateView"},function(t,e,n){t=Object(v.extend)({},t),n.dispatchAction(Object(v.extend)(t,{type:"downplay"}))})}(t)},function(t){t.registerChartView(LL),t.registerSeriesModel(JN)}]),Om(function(t){Om(TM),Om(ND)}),Om(function(t){Om(ND),vM.registerAxisPointerClass("PolarAxisPointer",jD),t.registerCoordinateSystem("polar",$D),t.registerComponentModel(PD),t.registerComponentView(pj),GS(t,"angle",zD,dj),GS(t,"radius",BD,fj),t.registerComponentView(ij),t.registerComponentView(lj),t.registerLayout(Object(v.curry)(hj,"bar"))}),Om(fI),Om(function(t){Om(ND),vM.registerAxisPointerClass("SingleAxisPointer",Dj),t.registerComponentView(jj),t.registerComponentView(xj),t.registerComponentModel(_j),GS(t,"single",_j,_j.defaultOption),t.registerCoordinateSystem("single",kj)}),Om(FE),Om(function(t){t.registerComponentModel(Rj),t.registerComponentView(zj),t.registerCoordinateSystem("calendar",Fj)}),Om(function(t){t.registerComponentModel(Uj),t.registerComponentView(Qj),t.registerPreprocessor(function(t){var e=t.graphic;Object(v.isArray)(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}),Om(function(t){t.registerComponentModel(wP),t.registerComponentView(SP),bP("saveAsImage",MP),bP("magicType",TP),bP("dataView",PP),bP("dataZoom",lR),bP("restore",GP),Om(vP)}),Om(function(t){Om(ND),t.registerComponentModel(uR),t.registerComponentView(OR),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},v.noop),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},v.noop)}),Om(ND),Om(function(t){t.registerComponentView(QR),t.registerComponentModel($R),t.registerPreprocessor(AR),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,WR),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(e){e.setAreas(t.areas)})}),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},v.noop),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},v.noop),bP("brush",KR)}),Om(function(t){t.registerComponentModel(qR),t.registerComponentView(tz)}),Om(function(t){t.registerComponentModel(iz),t.registerComponentView(cz),t.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,n){var i=e.getComponent("timeline");return i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),Object(v.defaults)({currentIndex:i.option.currentIndex},t)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)})}(t),t.registerPreprocessor(hz)}),Om(function(t){t.registerComponentModel(bz),t.registerComponentView(Ez),t.registerPreprocessor(function(t){pz(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),Om(function(t){t.registerComponentModel(Az),t.registerComponentView(zz),t.registerPreprocessor(function(t){pz(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),Om(function(t){t.registerComponentModel(Bz),t.registerComponentView(Jz),t.registerPreprocessor(function(t){pz(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),Om(function(t){Om(oB),Om(dB)}),Om(function(t){Om(MB),Om(LB)}),Om(MB),Om(LB),Om(function(t){Om(gF),Om(wF)}),Om(gF),Om(wF),Om(function(t){t.registerPreprocessor(IF),t.registerVisual(t.PRIORITY.VISUAL.ARIA,CF)}),Om(function(t){t.registerTransform(zF),t.registerTransform(BF)}),Om(function(t){t.registerComponentModel(FF),t.registerComponentView(GF)}),Om(function(t){t.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){Object(v.each)(zi(n.seriesTransition),function(t){Object(v.each)(zi(t.to),function(t){for(var e=n.updatedSeries,i=0;i<e.length;i++)(null!=t.seriesIndex&&t.seriesIndex===e[i].seriesIndex||null!=t.seriesId&&t.seriesId===e[i].id)&&(e[i][tp]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(t,e,n){var i=wG(e);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var r=n.seriesTransition;if(r)Object(v.each)(zi(r),function(t){!function(t,e,n,i){var r=[],o=[];Object(v.each)(zi(t.from),function(t){var n=NG(e.oldSeries,t);n>=0&&r.push({data:e.oldData[n],divide:EG(e.oldData[n]),dim:t.dimension})}),Object(v.each)(zi(t.to),function(t){var e=NG(n.updatedSeries,t);if(e>=0){var i=n.updatedSeries[e].getData();o.push({data:i,divide:EG(i),dim:t.dimension})}}),r.length>0&&o.length>0&&kG(r,o,i)}(t,i,n,e)});else{var o=AG(i,n);Object(v.each)(o.keys(),function(t){var n=o.get(t);kG(n.oldSeries,n.newSeries,e)})}Object(v.each)(n.updatedSeries,function(t){t[tp]&&(t[tp]=!1)})}for(var a=t.getSeries(),s=i.oldSeries=[],l=i.oldData=[],u=0;u<a.length;u++){var c=a[u].getData();c.count()<xG&&(s.push(a[u]),l.push(c))}})}),Om(Gx)},Xc4G:function(t,e,n){var i=n("lktj"),r=n("1kS7"),o=n("NpIQ");t.exports=function(t){var e=i(t),n=r.f;if(n)for(var a,s=n(t),l=o.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},XmWM:function(t,e,n){"use strict";var i=n("KCLY"),r=n("cGG2"),o=n("fuGk"),a=n("xLtR"),s=n("dIwP"),l=n("qRfI");function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"==typeof t&&(t=r.merge({url:arguments[0]},arguments[1])),(t=r.merge(i,this.defaults,{method:"get"},t)).method=t.method.toLowerCase(),t.baseURL&&!s(t.url)&&(t.url=l(t.baseURL,t.url));var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},r.forEach(["delete","get","head","options"],function(t){u.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}}),r.forEach(["post","put","patch"],function(t){u.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=u},XneE:function(t,e){},Xw57:function(t,e,n){t.exports=n("8CPJ")},"Y/tY":function(t,e,n){var i=n("72Lu"),r={};for(var o in i)i.hasOwnProperty(o)&&(r[i[o]]=o);var a=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var l=a[s].channels,u=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:l}),Object.defineProperty(a[s],"labels",{value:u})}a.rgb.hsl=function(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;return s===a?e=0:i===s?e=(r-o)/l:r===s?e=2+(o-i)/l:o===s&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s===a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]},a.rgb.hsv=function(t){var e,n,i,r,o,a=t[0]/255,s=t[1]/255,l=t[2]/255,u=Math.max(a,s,l),c=u-Math.min(a,s,l),h=function(t){return(u-t)/6/c+.5};return 0===c?r=o=0:(o=c/u,e=h(a),n=h(s),i=h(l),a===u?r=i-n:s===u?r=1/3+e-i:l===u&&(r=2/3+n-e),r<0?r+=1:r>1&&(r-=1)),[360*r,100*o,100*u]},a.rgb.hwb=function(t){var e=t[0],n=t[1],i=t[2];return[a.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(n,i))),100*(i=1-1/255*Math.max(e,Math.max(n,i)))]},a.rgb.cmyk=function(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-r)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]},a.rgb.keyword=function(t){var e=r[t];if(e)return e;var n,o,a,s=1/0;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l],c=(o=t,a=u,Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));c<s&&(s=c,n=l)}return n},a.keyword.rgb=function(t){return i[t]},a.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),n=e[0],i=e[1],r=e[2];return i/=100,r/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.hsl.rgb=function(t){var e,n,i,r,o,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0===s)return[o=255*l,o,o];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var u=0;u<3;u++)(i=a+1/3*-(u-1))<0&&i++,i>1&&i--,o=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[u]=255*o;return r},a.hsl.hsv=function(t){var e=t[0],n=t[1]/100,i=t[2]/100,r=n,o=Math.max(i,.01);return n*=(i*=2)<=1?i:2-i,r*=o<=1?o:2-o,[e,100*(0===i?2*r/(o+r):2*n/(i+n)),100*((i+n)/2)]},a.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,r=Math.floor(e)%6,o=e-Math.floor(e),a=255*i*(1-n),s=255*i*(1-n*o),l=255*i*(1-n*(1-o));switch(i*=255,r){case 0:return[i,l,a];case 1:return[s,i,a];case 2:return[a,i,l];case 3:return[a,s,i];case 4:return[l,a,i];case 5:return[i,a,s]}},a.hsv.hsl=function(t){var e,n,i,r=t[0],o=t[1]/100,a=t[2]/100,s=Math.max(a,.01);return i=(2-o)*a,n=o*s,[r,100*(n=(n/=(e=(2-o)*s)<=1?e:2-e)||0),100*(i/=2)]},a.hwb.rgb=function(t){var e,n,i,r,o,a,s,l=t[0]/360,u=t[1]/100,c=t[2]/100,h=u+c;switch(h>1&&(u/=h,c/=h),n=1-c,i=6*l-(e=Math.floor(6*l)),0!=(1&e)&&(i=1-i),r=u+i*(n-u),e){default:case 6:case 0:o=n,a=r,s=u;break;case 1:o=r,a=n,s=u;break;case 2:o=u,a=n,s=r;break;case 3:o=u,a=r,s=n;break;case 4:o=r,a=u,s=n;break;case 5:o=n,a=u,s=r}return[255*o,255*a,255*s]},a.cmyk.rgb=function(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]},a.xyz.rgb=function(t){var e,n,i,r=t[0]/100,o=t[1]/100,a=t[2]/100;return n=-.9689*r+1.8758*o+.0415*a,i=.0557*r+-.204*o+1.057*a,e=(e=3.2406*r+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]},a.xyz.lab=function(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.lab.xyz=function(t){var e,n,i,r=t[0],o=t[1],a=t[2];e=o/500+(n=(r+16)/116),i=n-a/200;var s=Math.pow(n,3),l=Math.pow(e,3),u=Math.pow(i,3);return n=s>.008856?s:(n-16/116)/7.787,e=l>.008856?l:(e-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,[e*=95.047,n*=100,i*=108.883]},a.lab.lch=function(t){var e,n=t[0],i=t[1],r=t[2];return(e=360*Math.atan2(r,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+r*r),e]},a.lch.lab=function(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]},a.rgb.ansi16=function(t){var e=t[0],n=t[1],i=t[2],r=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(0===(r=Math.round(r/50)))return 30;var o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===r&&(o+=60),o},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],n=t[1],i=t[2];return e===n&&n===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},a.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map(function(t){return t+t}).join(""));var i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},a.rgb.hcg=function(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.max(Math.max(i,r),o),s=Math.min(Math.min(i,r),o),l=a-s;return e=l<1?s/(1-l):0,n=l<=0?0:a===i?(r-o)/l%6:a===r?2+(o-i)/l:4+(i-r)/l+4,n/=6,[360*(n%=1),100*l,100*e]},a.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,i=1,r=0;return(i=n<.5?2*e*n:2*e*(1-n))<1&&(r=(n-.5*i)/(1-i)),[t[0],100*i,100*r]},a.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,i=e*n,r=0;return i<1&&(r=(n-i)/(1-i)),[t[0],100*i,100*r]},a.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100;if(0===n)return[255*i,255*i,255*i];var r,o=[0,0,0],a=e%1*6,s=a%1,l=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=l,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=l,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=l}return r=(1-n)*i,[255*(n*o[0]+r),255*(n*o[1]+r),255*(n*o[2]+r)]},a.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),i=0;return n>0&&(i=e/n),[t[0],100*i,100*n]},a.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],100*i,100*n]},a.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},a.hwb.hcg=function(t){var e=t[1]/100,n=1-t[2]/100,i=n-e,r=0;return i<1&&(r=(n-i)/(1-i)),[t[0],100*i,100*r]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},Y1ED:function(t,e,n){"use strict";var i=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.a=i},Y4K9:function(t,e,n){var i=n("ZFR3");t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},YIuZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Symbol.for("INJECTION");function r(t,e,n,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return r&&!Reflect.hasMetadata(i,this,e)&&Reflect.defineMetadata(i,n(),this,e),Reflect.hasMetadata(i,this,e)?Reflect.getMetadata(i,this,e):n()},set:function(t){Reflect.defineMetadata(i,t,this,e)}})}e.makePropertyInjectDecorator=function(t,e){return function(n){return function(i,o){r(i,o,function(){return t.get(n)},e)}}},e.makePropertyInjectNamedDecorator=function(t,e){return function(n,i){return function(o,a){r(o,a,function(){return t.getNamed(n,i)},e)}}},e.makePropertyInjectTaggedDecorator=function(t,e){return function(n,i,o){return function(a,s){r(a,s,function(){return t.getTagged(n,i,o)},e)}}},e.makePropertyMultiInjectDecorator=function(t,e){return function(n){return function(i,o){r(i,o,function(){return t.getAll(n)},e)}}}},YNzw:function(t,e,n){"use strict";var i=function(){return function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}}(),r=new(function(){return function(){this.browser=new i,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window}}());"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(r.wxa=!0,r.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?r.worker=!0:"undefined"==typeof navigator?(r.node=!0,r.svgSupported=!0):function(t,e){var n=e.browser,i=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);i&&(n.firefox=!0,n.version=i[1]);r&&(n.ie=!0,n.version=r[1]);o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18);a&&(n.weChat=!0);e.svgSupported="undefined"!=typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported="undefined"!=typeof document;var s=document.documentElement.style;e.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}(navigator.userAgent,r),e.a=r},"YPq+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=r,e.clone=function(t){var e=new i.a(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=o,e.fromValues=function(t,e,n){var r=new i.a(3);return r[0]=t,r[1]=e,r[2]=n,r},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=a,e.multiply=s,e.divide=l,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t},e.distance=u,e.squaredDistance=c,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=function(t,e){var n=e[0],i=e[1],r=e[2],o=n*n+i*i+r*r;o>0&&(o=1/Math.sqrt(o));return t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t},e.dot=d,e.cross=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=r*l-o*s,t[1]=o*a-i*l,t[2]=i*s-r*a,t},e.lerp=function(t,e,n,i){var r=e[0],o=e[1],a=e[2];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t},e.hermite=function(t,e,n,i,r,o){var a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,u=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*l+i[0]*u+r[0]*c,t[1]=e[1]*s+n[1]*l+i[1]*u+r[1]*c,t[2]=e[2]*s+n[2]*l+i[2]*u+r[2]*c,t},e.bezier=function(t,e,n,i,r,o){var a=1-o,s=a*a,l=o*o,u=s*a,c=3*o*s,h=3*l*a,d=l*o;return t[0]=e[0]*u+n[0]*c+i[0]*h+r[0]*d,t[1]=e[1]*u+n[1]*c+i[1]*h+r[1]*d,t[2]=e[2]*u+n[2]*c+i[2]*h+r[2]*d,t},e.random=function(t,e){e=e||1;var n=2*i.c()*Math.PI,r=2*i.c()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t},e.transformMat4=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[3]*i+n[7]*r+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/a,t[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/a,t[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/a,t},e.transformMat3=function(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t},e.transformQuat=function(t,e,n){var i=n[0],r=n[1],o=n[2],a=n[3],s=e[0],l=e[1],u=e[2],c=r*u-o*l,h=o*s-i*u,d=i*l-r*s,f=r*d-o*h,p=o*c-i*d,g=i*h-r*c,v=2*a;return c*=v,h*=v,d*=v,f*=2,p*=2,g*=2,t[0]=s+c+f,t[1]=l+h+p,t[2]=u+d+g,t},e.rotateX=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.angle=function(t,e){var n=t[0],i=t[1],r=t[2],o=e[0],a=e[1],s=e[2],l=Math.sqrt(n*n+i*i+r*r),u=Math.sqrt(o*o+a*a+s*s),c=l*u,h=c&&d(t,e)/c;return Math.acos(Math.min(Math.max(h,-1),1))},e.zero=function(t){return t[0]=0,t[1]=0,t[2]=0,t},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var n=t[0],r=t[1],o=t[2],a=e[0],s=e[1],l=e[2];return Math.abs(n-a)<=i.b*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=i.b*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-l)<=i.b*Math.max(1,Math.abs(o),Math.abs(l))},n.d(e,"sub",function(){return p}),n.d(e,"mul",function(){return g}),n.d(e,"div",function(){return v}),n.d(e,"dist",function(){return m}),n.d(e,"sqrDist",function(){return y}),n.d(e,"len",function(){return b}),n.d(e,"sqrLen",function(){return x}),n.d(e,"forEach",function(){return w});var i=n("NVY2");function r(){var t=new i.a(3);return i.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=t[0],n=t[1],i=t[2];return Math.hypot(e,n,i)}function a(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function s(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function l(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function u(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.hypot(n,i,r)}function c(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}function h(t){var e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}var f,p=a,g=s,v=l,m=u,y=c,b=o,x=h,w=(f=r(),function(t,e,n,i,r,o){var a,s;for(e||(e=3),n||(n=0),s=i?Math.min(i*e+n,t.length):t.length,a=n;a<s;a+=e)f[0]=t[a],f[1]=t[a+1],f[2]=t[a+2],r(f,f,o),t[a]=f[0],t[a+1]=f[1],t[a+2]=f[2];return t})},"YVy+":function(t,e,n){"use strict";n.d(e,"AST_TOKEN_TYPES",function(){return d}),n.d(e,"STORAGE_CLASS",function(){return p}),n.d(e,"Target",function(){return g}),n.d(e,"DefineValuePlaceholder",function(){return m});var i=n("I8yv"),r=(n.n(i),n("J4xG"),n("r5WB"),n("Fy54"),n("dKvI"),n("lVcC"),n("91Mb"),n("2bAU"),n("bhPb"),n("dFgT"),n("+hGC"),n("3DKf"),n("qFrC"),n("7UVn"),n("+ex3"),n("dGpI")),o=n("Klor"),a=n("AXrc"),s=n("gTUD"),l=n("D5sP"),u=(n("/vIy"),n("LGJY"));n.d(e,"AABB",function(){return u.a}),n.d(e,"Frustum",function(){return u.b});var c=n("IFwh");n.o(c,"gl")&&n.d(e,"gl",function(){return c.gl});var h=n("cTC2");n.n(h);n.o(h,"gl")&&n.d(e,"gl",function(){return h.gl});var d,f,p,g,v=n("zxr4");n.n(v);n.o(v,"gl")&&n.d(e,"gl",function(){return v.gl}),n.o(c,"gl")&&n.d(e,"gl",function(){return c.gl}),n.d(e,"createWorldContainer",function(){return a.a}),n.d(e,"createEntity",function(){return r.b}),n.d(e,"IDENTIFIER",function(){return o.a}),n.d(e,"isSafari",function(){return l.a}),n.d(e,"generateAABBFromVertices",function(){return s.a}),function(t){t.Void="Void",t.Boolean="Boolean",t.Float="Float",t.Uint32="Uint32",t.Int32="Int32",t.Vector="Vector",t.Vector2Float="vec2<f32>",t.Vector3Float="vec3<f32>",t.Vector4Float="vec4<f32>",t.Vector2Boolean="vec2<bool>",t.Vector3Boolean="vec3<bool>",t.Vector4Boolean="vec4<bool>",t.Vector2Uint="vec2<u32>",t.Vector3Uint="vec3<u32>",t.Vector4Uint="vec4<u32>",t.Vector2Int="vec2<i32>",t.Vector3Int="vec3<i32>",t.Vector4Int="vec4<i32>",t.Matrix="Matrix",t.Matrix3x3Float="mat3x3<f32>",t.Matrix4x4Float="mat4x4<i32>",t.Struct="Struct",t.FloatArray="Float[]",t.Vector4FloatArray="vec4<f32>[]"}(d||(d={})),function(t){t.Program="Program",t.Identifier="Identifier",t.VariableDeclaration="VariableDeclaration",t.BlockStatement="BlockStatement",t.ReturnStatement="ReturnStatement",t.FunctionDeclaration="FunctionDeclaration",t.VariableDeclarator="VariableDeclarator",t.AssignmentExpression="AssignmentExpression",t.LogicalExpression="LogicalExpression",t.BinaryExpression="BinaryExpression",t.ArrayExpression="ArrayExpression",t.UnaryExpression="UnaryExpression",t.UpdateExpression="UpdateExpression",t.FunctionExpression="FunctionExpression",t.MemberExpression="MemberExpression",t.ConditionalExpression="ConditionalExpression",t.ExpressionStatement="ExpressionStatement",t.CallExpression="CallExpression",t.NumThreadStatement="NumThreadStatement",t.StorageStatement="StorageStatement",t.DoWhileStatement="DoWhileStatement",t.WhileStatement="WhileStatement",t.ForStatement="ForStatement",t.BreakStatement="BreakStatement",t.ContinueStatement="ContinueStatement",t.IfStatement="IfStatement",t.ImportedFunctionStatement="ImportedFunctionStatement"}(f||(f={})),function(t){t.Input="Input",t.Output="Output",t.Uniform="Uniform",t.Workgroup="Workgroup",t.UniformConstant="UniformConstant",t.Image="Image",t.StorageBuffer="StorageBuffer",t.Private="Private",t.Function="Function"}(p||(p={})),function(t){t.GLSL100="GLSL100",t.GLSL450="GLSL450",t.WGSL="WGSL"}(g||(g={}));var m="__DefineValuePlaceholder__"},YlLA:function(t,e){t.exports=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t}},Yobk:function(t,e,n){var i=n("77Pl"),r=n("qio6"),o=n("xnc9"),a=n("ax3d")("IE_PROTO"),s=function(){},l=function(){var t,e=n("ON07")("iframe"),i=o.length;for(e.style.display="none",n("RPLV").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[o[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:r(n,e)}},YrBu:function(t,e,n){var i;!function(r){var o=/^\s+/,a=/\s+$/,s=0,l=r.round,u=r.min,c=r.max,h=r.random;function d(t,e){if(t=t||"",e=e||{},t instanceof d)return t;if(!(this instanceof d))return new d(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,i=null,s=null,l=null,h=!1,d=!1;"string"==typeof t&&(t=function(t){t=t.replace(o,"").replace(a,"").toLowerCase();var e,n=!1;if(E[t])t=E[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=W.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=W.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=W.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=W.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=W.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=W.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=W.hex8.exec(t))return{r:j(e[1]),g:j(e[2]),b:j(e[3]),a:B(e[4]),format:n?"name":"hex8"};if(e=W.hex6.exec(t))return{r:j(e[1]),g:j(e[2]),b:j(e[3]),format:n?"name":"hex"};if(e=W.hex4.exec(t))return{r:j(e[1]+""+e[1]),g:j(e[2]+""+e[2]),b:j(e[3]+""+e[3]),a:B(e[4]+""+e[4]),format:n?"name":"hex8"};if(e=W.hex3.exec(t))return{r:j(e[1]+""+e[1]),g:j(e[2]+""+e[2]),b:j(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==typeof t&&(H(t.r)&&H(t.g)&&H(t.b)?(f=t.r,p=t.g,g=t.b,e={r:255*L(f,255),g:255*L(p,255),b:255*L(g,255)},h=!0,d="%"===String(t.r).substr(-1)?"prgb":"rgb"):H(t.h)&&H(t.s)&&H(t.v)?(i=R(t.s),s=R(t.v),e=function(t,e,n){t=6*L(t,360),e=L(e,100),n=L(n,100);var i=r.floor(t),o=t-i,a=n*(1-e),s=n*(1-o*e),l=n*(1-(1-o)*e),u=i%6;return{r:255*[n,s,a,a,l,n][u],g:255*[l,n,n,s,a,a][u],b:255*[a,a,l,n,n,s][u]}}(t.h,i,s),h=!0,d="hsv"):H(t.h)&&H(t.s)&&H(t.l)&&(i=R(t.s),l=R(t.l),e=function(t,e,n){var i,r,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=L(t,360),e=L(e,100),n=L(n,100),0===e)i=r=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=a(l,s,t+1/3),r=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*i,g:255*r,b:255*o}}(t.h,i,l),h=!0,d="hsl"),t.hasOwnProperty("a")&&(n=t.a));var f,p,g;return n=N(n),{ok:h,format:t.format||d,r:u(255,c(e.r,0)),g:u(255,c(e.g,0)),b:u(255,c(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function f(t,e,n){t=L(t,255),e=L(e,255),n=L(n,255);var i,r,o=c(t,e,n),a=u(t,e,n),s=(o+a)/2;if(o==a)i=r=0;else{var l=o-a;switch(r=s>.5?l/(2-o-a):l/(o+a),o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,l:s}}function p(t,e,n){t=L(t,255),e=L(e,255),n=L(n,255);var i,r,o=c(t,e,n),a=u(t,e,n),s=o,l=o-a;if(r=0===o?0:l/o,o==a)i=0;else{switch(o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,v:s}}function g(t,e,n,i){var r=[P(l(t).toString(16)),P(l(e).toString(16)),P(l(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function v(t,e,n,i){return[P(z(i)),P(l(t).toString(16)),P(l(e).toString(16)),P(l(n).toString(16))].join("")}function m(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.s-=e/100,n.s=D(n.s),d(n)}function y(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.s+=e/100,n.s=D(n.s),d(n)}function b(t){return d(t).desaturate(100)}function x(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.l+=e/100,n.l=D(n.l),d(n)}function w(t,e){e=0===e?0:e||10;var n=d(t).toRgb();return n.r=c(0,u(255,n.r-l(-e/100*255))),n.g=c(0,u(255,n.g-l(-e/100*255))),n.b=c(0,u(255,n.b-l(-e/100*255))),d(n)}function _(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.l-=e/100,n.l=D(n.l),d(n)}function S(t,e){var n=d(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,d(n)}function M(t){var e=d(t).toHsl();return e.h=(e.h+180)%360,d(e)}function C(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+120)%360,s:e.s,l:e.l}),d({h:(n+240)%360,s:e.s,l:e.l})]}function I(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+90)%360,s:e.s,l:e.l}),d({h:(n+180)%360,s:e.s,l:e.l}),d({h:(n+270)%360,s:e.s,l:e.l})]}function k(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+72)%360,s:e.s,l:e.l}),d({h:(n+216)%360,s:e.s,l:e.l})]}function T(t,e,n){e=e||6,n=n||30;var i=d(t).toHsl(),r=360/n,o=[d(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(d(i));return o}function O(t,e){e=e||6;for(var n=d(t).toHsv(),i=n.h,r=n.s,o=n.v,a=[],s=1/e;e--;)a.push(d({h:i,s:r,v:o})),o=(o+s)%1;return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,i=this.toRgb();return t=i.r/255,e=i.g/255,n=i.b/255,.2126*(t<=.03928?t/12.92:r.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:r.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:r.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=N(t),this._roundA=l(100*this._a)/100,this},toHsv:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=p(this._r,this._g,this._b),e=l(360*t.h),n=l(100*t.s),i=l(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=f(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=f(this._r,this._g,this._b),e=l(360*t.h),n=l(100*t.s),i=l(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,i,r){var o=[P(l(t).toString(16)),P(l(e).toString(16)),P(l(n).toString(16)),P(z(i))];if(r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*L(this._r,255))+"%",g:l(100*L(this._g,255))+"%",b:l(100*L(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*L(this._r,255))+"%, "+l(100*L(this._g,255))+"%, "+l(100*L(this._b,255))+"%)":"rgba("+l(100*L(this._r,255))+"%, "+l(100*L(this._g,255))+"%, "+l(100*L(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(A[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+v(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var r=d(t);n="#"+v(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(M,arguments)},monochromatic:function(){return this._applyCombination(O,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(I,arguments)}},d.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:R(t[i]));t=n}return d(t,e)},d.equals=function(t,e){return!(!t||!e)&&d(t).toRgbString()==d(e).toRgbString()},d.random=function(){return d.fromRatio({r:h(),g:h(),b:h()})},d.mix=function(t,e,n){n=0===n?0:n||50;var i=d(t).toRgb(),r=d(e).toRgb(),o=n/100;return d({r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a})},d.readability=function(t,e){var n=d(t),i=d(e);return(r.max(n.getLuminance(),i.getLuminance())+.05)/(r.min(n.getLuminance(),i.getLuminance())+.05)},d.isReadable=function(t,e,n){var i,r,o=d.readability(t,e);switch(r=!1,(i=function(t){var e,n;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==n&&"large"!==n&&(n="small");return{level:e,size:n}}(n)).level+i.size){case"AAsmall":case"AAAlarge":r=o>=4.5;break;case"AAlarge":r=o>=3;break;case"AAAsmall":r=o>=7}return r},d.mostReadable=function(t,e,n){var i,r,o,a,s=null,l=0;r=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var u=0;u<e.length;u++)(i=d.readability(t,e[u]))>l&&(l=i,s=d(e[u]));return d.isReadable(t,s,{level:o,size:a})||!r?s:(n.includeFallbackColors=!1,d.mostReadable(t,["#fff","#000"],n))};var E=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=d.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(E);function N(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function L(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=u(e,c(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),r.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function D(t){return u(1,c(0,t))}function j(t){return parseInt(t,16)}function P(t){return 1==t.length?"0"+t:""+t}function R(t){return t<=1&&(t=100*t+"%"),t}function z(t){return r.round(255*parseFloat(t)).toString(16)}function B(t){return j(t)/255}var F,G,V,W=(G="[\\s|\\(]+("+(F="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",V="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",{CSS_UNIT:new RegExp(F),rgb:new RegExp("rgb"+G),rgba:new RegExp("rgba"+V),hsl:new RegExp("hsl"+G),hsla:new RegExp("hsla"+V),hsv:new RegExp("hsv"+G),hsva:new RegExp("hsva"+V),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function H(t){return!!W.CSS_UNIT.exec(t)}void 0!==t&&t.exports?t.exports=d:void 0===(i=function(){return d}.call(e,n,e,t))||(t.exports=i)}(Math)},YulH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=e.getServiceIdentifierAsString=e.typeConstraint=e.namedConstraint=e.taggedConstraint=e.traverseAncerstors=e.decorate=e.id=e.MetadataReader=e.postConstruct=e.targetName=e.multiInject=e.unmanaged=e.optional=e.LazyServiceIdentifer=e.inject=e.named=e.tagged=e.injectable=e.ContainerModule=e.AsyncContainerModule=e.TargetTypeEnum=e.BindingTypeEnum=e.BindingScopeEnum=e.Container=e.METADATA_KEY=void 0;var i=n("cEWm");e.METADATA_KEY=i;var r=n("P8qx");Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return r.Container}});var o=n("3gih");Object.defineProperty(e,"BindingScopeEnum",{enumerable:!0,get:function(){return o.BindingScopeEnum}}),Object.defineProperty(e,"BindingTypeEnum",{enumerable:!0,get:function(){return o.BindingTypeEnum}}),Object.defineProperty(e,"TargetTypeEnum",{enumerable:!0,get:function(){return o.TargetTypeEnum}});var a=n("GGoO");Object.defineProperty(e,"AsyncContainerModule",{enumerable:!0,get:function(){return a.AsyncContainerModule}}),Object.defineProperty(e,"ContainerModule",{enumerable:!0,get:function(){return a.ContainerModule}});var s=n("sMhi");Object.defineProperty(e,"injectable",{enumerable:!0,get:function(){return s.injectable}});var l=n("McWr");Object.defineProperty(e,"tagged",{enumerable:!0,get:function(){return l.tagged}});var u=n("9MEr");Object.defineProperty(e,"named",{enumerable:!0,get:function(){return u.named}});var c=n("dv2D");Object.defineProperty(e,"inject",{enumerable:!0,get:function(){return c.inject}}),Object.defineProperty(e,"LazyServiceIdentifer",{enumerable:!0,get:function(){return c.LazyServiceIdentifer}});var h=n("j/J7");Object.defineProperty(e,"optional",{enumerable:!0,get:function(){return h.optional}});var d=n("IP1c");Object.defineProperty(e,"unmanaged",{enumerable:!0,get:function(){return d.unmanaged}});var f=n("zxJY");Object.defineProperty(e,"multiInject",{enumerable:!0,get:function(){return f.multiInject}});var p=n("W3MN");Object.defineProperty(e,"targetName",{enumerable:!0,get:function(){return p.targetName}});var g=n("lT16");Object.defineProperty(e,"postConstruct",{enumerable:!0,get:function(){return g.postConstruct}});var v=n("OEIs");Object.defineProperty(e,"MetadataReader",{enumerable:!0,get:function(){return v.MetadataReader}});var m=n("fwdJ");Object.defineProperty(e,"id",{enumerable:!0,get:function(){return m.id}});var y=n("xu9d");Object.defineProperty(e,"decorate",{enumerable:!0,get:function(){return y.decorate}});var b=n("E4Rs");Object.defineProperty(e,"traverseAncerstors",{enumerable:!0,get:function(){return b.traverseAncerstors}}),Object.defineProperty(e,"taggedConstraint",{enumerable:!0,get:function(){return b.taggedConstraint}}),Object.defineProperty(e,"namedConstraint",{enumerable:!0,get:function(){return b.namedConstraint}}),Object.defineProperty(e,"typeConstraint",{enumerable:!0,get:function(){return b.typeConstraint}});var x=n("ETa/");Object.defineProperty(e,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return x.getServiceIdentifierAsString}});var w=n("G9cL");Object.defineProperty(e,"multiBindToService",{enumerable:!0,get:function(){return w.multiBindToService}})},Z60a:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},ZFR3:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i},t.exports.__esModule=!0,t.exports.default=t.exports},ZanO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Request=void 0;var i=n("fwdJ"),r=function(){function t(t,e,n,r,o){this.id=i.id(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(r)?r:[r],this.requestScope=null===n?new Map:null}return t.prototype.addChildRequest=function(e,n,i){var r=new t(e,this.parentContext,this,n,i);return this.childRequests.push(r),r},t}();e.Request=r},Zkj8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerSnapshot=void 0;var i=function(){function t(){}return t.of=function(e,n){var i=new t;return i.bindings=e,i.middleware=n,i},t}();e.ContainerSnapshot=i},Zzip:function(t,e,n){t.exports={default:n("/n6Q"),__esModule:!0}},a3KO:function(t,e){t.exports=1e-6},ax3d:function(t,e,n){var i=n("e8AB")("keys"),r=n("3Eo+");t.exports=function(t){return i[t]||(i[t]=r(t))}},bMbF:function(t,e,n){var i=n("72Lu"),r=n("on7W"),o=Object.hasOwnProperty,a={};for(var s in i)o.call(i,s)&&(a[i[s]]=s);var l=t.exports={to:{},get:{}};function u(t,e,n){return Math.min(Math.max(e,t),n)}function c(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}l.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=l.get.hsl(t),n="hsl";break;case"hwb":e=l.get.hwb(t),n="hwb";break;default:e=l.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},l.get.rgb=function(t){if(!t)return null;var e,n,r,a=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=e[2],e=e[1],n=0;n<3;n++){var s=2*n;a[n]=parseInt(e.slice(s,s+2),16)}r&&(a[3]=parseInt(r,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(r=(e=e[1])[3],n=0;n<3;n++)a[n]=parseInt(e[n]+e[n],16);r&&(a[3]=parseInt(r+r,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(e[n+1],0);e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:o.call(i,e[1])?((a=i[e[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}for(n=0;n<3;n++)a[n]=u(a[n],0,255);return a[3]=u(a[3],0,1),a},l.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},l.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},l.to.hex=function(){var t=r(arguments);return"#"+c(t[0])+c(t[1])+c(t[2])+(t[3]<1?c(Math.round(255*t[3])):"")},l.to.rgb=function(){var t=r(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},l.to.rgb.percent=function(){var t=r(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),i=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+i+"%)":"rgba("+e+"%, "+n+"%, "+i+"%, "+t[3]+")"},l.to.hsl=function(){var t=r(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},l.to.hwb=function(){var t=r(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},l.to.keyword=function(t){return a[t.slice(0,3)]}},bOdI:function(t,e,n){"use strict";e.__esModule=!0;var i,r=n("C4MV"),o=(i=r)&&i.__esModule?i:{default:i};e.default=function(t,e,n){return e in t?(0,o.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},bRrM:function(t,e,n){"use strict";var i=n("7KvD"),r=n("FeBl"),o=n("evD5"),a=n("+E39"),s=n("dSzd")("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:i[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},bhPb:function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i=n("Z60a"),r=n.n(i),o=n("M1I4"),a=n.n(o),s=n("j/rp"),l=n.n(s),u=n("T/v0"),c=n.n(u),h=n("tNLN"),d=n.n(h),f=n("J4xG"),p=n("wb0v");function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=d()(t);if(e){var r=d()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return c()(this,n)}}var v=function(t){l()(n,t);var e=g(n);function n(t){var i;return r()(this,n),(i=e.call(this,t)).material=void 0,i.geometry=void 0,i.aabb=new p.a,i.aabbDirty=!0,i.model=void 0,i.visible=!0,i.children=[],Object.assign(a()(i),t),i}return n}(f.a)},brd9:function(t,e,n){var i=n("9pbC");t.exports={Graph:i.Graph,json:n("yqJ/"),alg:n("E+h2"),version:i.version}},cEWm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NON_CUSTOM_TAG_KEYS=e.POST_CONSTRUCT=e.DESIGN_PARAM_TYPES=e.PARAM_TYPES=e.TAGGED_PROP=e.TAGGED=e.MULTI_INJECT_TAG=e.INJECT_TAG=e.OPTIONAL_TAG=e.UNMANAGED_TAG=e.NAME_TAG=e.NAMED_TAG=void 0,e.NAMED_TAG="named",e.NAME_TAG="name",e.UNMANAGED_TAG="unmanaged",e.OPTIONAL_TAG="optional",e.INJECT_TAG="inject",e.MULTI_INJECT_TAG="multi_inject",e.TAGGED="inversify:tagged",e.TAGGED_PROP="inversify:tagged_props",e.PARAM_TYPES="inversify:paramtypes",e.DESIGN_PARAM_TYPES="design:paramtypes",e.POST_CONSTRUCT="post_construct",e.NON_CUSTOM_TAG_KEYS=[e.INJECT_TAG,e.MULTI_INJECT_TAG,e.NAME_TAG,e.UNMANAGED_TAG,e.NAMED_TAG,e.OPTIONAL_TAG]},cGG2:function(t,e,n){"use strict";var i=n("JP+z"),r=n("Re3r"),o=Object.prototype.toString;function a(t){return"[object Array]"===o.call(t)}function s(t){return null!==t&&"object"==typeof t}function l(t){return"[object Function]"===o.call(t)}function u(t,e){if(null!==t&&void 0!==t)if("object"==typeof t||a(t)||(t=[t]),a(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:r,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:l,isStream:function(t){return s(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,r=arguments.length;i<r;i++)u(arguments[i],n);return e},extend:function(t,e,n){return u(e,function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},cHVU:function(t,e,n){var i=n("QGUm"),r=n("O11n"),o=n("2jKd");t.exports=function(t,e){var n,a=new r,s={},l=new o;function u(t){var i=t.v===n?t.w:t.v,r=l.priority(i);if(void 0!==r){var o=e(t);o<r&&(s[i]=n,l.decrease(i,o))}}if(0===t.nodeCount())return a;i.each(t.nodes(),function(t){l.add(t,Number.POSITIVE_INFINITY),a.setNode(t)}),l.decrease(t.nodes()[0],0);var c=!1;for(;l.size()>0;){if(n=l.removeMin(),i.has(s,n))a.setEdge(n,s[n]);else{if(c)throw new Error("Input graph is not connected: "+t);c=!0}t.nodeEdges(n).forEach(u)}return a}},cOOB:function(t,e,n){"use strict";e.a=function(){if(!i){var t=document.createElement("canvas");t.width=1,t.height=1,i=t.getContext("2d")}return i};var i=null},cTC2:function(t,e){},cWxy:function(t,e,n){"use strict";var i=n("dVOP");function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},cXIJ:function(t,e){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}},t.exports.__esModule=!0,t.exports.default=t.exports},crlp:function(t,e,n){var i=n("7KvD"),r=n("FeBl"),o=n("O4g8"),a=n("Kh4W"),s=n("evD5").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},dAFD:function(t,e,n){"use strict";e.a=function(t,e){var n=e[1],r=e[2],s=Object(i.m)(Object(i.o)(e[3]),2*Math.PI),l=e[4],u=e[5],c=t[0],h=t[1],d=e[6],f=e[7],p=Math.cos(s)*(c-d)/2+Math.sin(s)*(h-f)/2,g=-1*Math.sin(s)*(c-d)/2+Math.cos(s)*(h-f)/2,v=p*p/(n*n)+g*g/(r*r);v>1&&(n*=Math.sqrt(v),r*=Math.sqrt(v));var m=n*n*(g*g)+r*r*(p*p),y=m?Math.sqrt((n*n*(r*r)-m)/m):1;l===u&&(y*=-1);isNaN(y)&&(y=0);var b=r?y*n*g/r:0,x=n?y*-r*p/n:0,w=(c+d)/2+Math.cos(s)*b-Math.sin(s)*x,_=(h+f)/2+Math.sin(s)*b+Math.cos(s)*x,S=[(p-b)/n,(g-x)/r],M=[(-1*p-b)/n,(-1*g-x)/r],C=a([1,0],S),I=a(S,M);o(S,M)<=-1&&(I=Math.PI);o(S,M)>=1&&(I=0);0===u&&I>0&&(I-=2*Math.PI);1===u&&I<0&&(I+=2*Math.PI);return{cx:w,cy:_,rx:Object(i.j)(t,[d,f])?0:n,ry:Object(i.j)(t,[d,f])?0:r,startAngle:C,endAngle:C+I,xRotation:s,arcFlag:l,sweepFlag:u}};var i=n("PDVq");function r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e){return r(t)*r(e)?(t[0]*e[0]+t[1]*e[1])/(r(t)*r(e)):1}function a(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(o(t,e))}},dFgT:function(t,e,n){"use strict";n.d(e,"a",function(){return P});var i,r,o,a,s,l,u,c,h,d,f,p,g,v=n("En79"),m=n.n(v),y=n("7hDC"),b=n.n(y),x=n("dYct"),w=n.n(x),_=n("Z60a"),S=n.n(_),M=n("C9uT"),C=n.n(M),I=n("jb0h"),k=n.n(I),T=n("X6mv"),O=(n.n(T),n("lVvd")),E=n("YulH"),A=(n.n(E),n("Klor")),N=n("vLi+"),L=n("HuxX");function D(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var P=(i=Object(E.injectable)(),r=Object(E.inject)(A.a.MeshComponentManager),o=Object(E.inject)(A.a.CullableComponentManager),a=Object(E.inject)(A.a.GeometryComponentManager),s=Object(E.inject)(A.a.HierarchyComponentManager),l=Object(E.inject)(A.a.TransformComponentManager),i((c=function(){function t(){S()(this,t),w()(this,"mesh",h,this),w()(this,"cullable",d,this),w()(this,"geometry",f,this),w()(this,"hierarchy",p,this),w()(this,"transform",g,this),this.planes=void 0}return C()(t,[{key:"setFrustumPlanes",value:function(t){this.planes=t}},{key:"execute",value:function(){var t=b()(m.a.mark(function t(e){var n,i,r,o,a,s,l,u,c,h,d,f,p,g,v,y,b,x,w,_,S;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=D(e);try{for(n.s();!(i=n.n()).done;){r=i.value,o=r.getScene(),a=r.getCamera(),s=D(o.getEntities());try{for(s.s();!(l=s.n()).done;)u=l.value,(c=this.mesh.getComponentByEntity(u))&&(h=this.hierarchy.getComponentByEntity(u),d=this.cullable.getComponentByEntity(u),f=c.geometry,p=this.transform.getComponentByEntity(u),f&&f.aabb&&p&&c.aabbDirty&&(g=p.worldTransform,v=f.aabb,y=v.center,b=v.halfExtents,x=O.e.transformMat4(O.e.create(),y,g),w=Object(L.b)(g,O.a.create()),_=O.e.transformMat3(O.e.create(),b,w),c.aabb.update(x,_),c.aabbDirty=!1),d&&f&&(S=this.cullable.getComponentByEntity((null===h||void 0===h?void 0:h.parentID)||-1),d.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(c.aabb,(null===S||void 0===S?void 0:S.visibilityPlaneMask)||N.b.INDETERMINATE,this.planes||a.getFrustum().planes),d.visible=d.visibilityPlaneMask!==N.b.OUTSIDE))}catch(t){s.e(t)}finally{s.f()}}}catch(t){n.e(t)}finally{n.f()}case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(t,e,n){if(e===N.b.OUTSIDE||e===N.b.INSIDE)return e;for(var i=N.b.INSIDE,r=0,o=n.length;r<o;++r){var a=r<31?1<<r:0;if(!(r<31&&0==(e&a))){var s=n[r],l=s.normal,u=s.distance;if(O.e.dot(l,t.getNegativeFarPoint(n[r]))+u>0)return N.b.OUTSIDE;O.e.dot(l,t.getPositiveFarPoint(n[r]))+u>0&&(i|=a)}}return i}}]),t}(),h=k()(c.prototype,"mesh",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=k()(c.prototype,"cullable",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=k()(c.prototype,"geometry",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=k()(c.prototype,"hierarchy",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k()(c.prototype,"transform",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c))||u)},dGpI:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),e.b=function(){return r++};var i=-1,r=1},dIwP:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},dKvI:function(t,e,n){"use strict";n.d(e,"a",function(){return k});var i,r,o,a,s,l,u,c=n("En79"),h=n.n(c),d=n("7hDC"),f=n.n(d),p=n("dYct"),g=n.n(p),v=n("Z60a"),m=n.n(v),y=n("C9uT"),b=n.n(y),x=n("jb0h"),w=n.n(x),_=n("X6mv"),S=(n.n(_),n("YulH")),M=(n.n(S),n("YVy+")),C=n("Klor"),I=n("hVtj"),k=(i=Object(S.injectable)(),r=Object(S.inject)(C.a.GeometryComponentManager),o=Object(S.inject)(C.a.RenderEngine),i((s=function(){function t(){m()(this,t),g()(this,"geometry",l,this),g()(this,"engine",u,this)}return b()(t,[{key:"execute",value:function(){var t=f()(h.a.mark(function t(){var e=this;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.geometry.forEach(function(t,n){n.dirty&&(n.attributes.forEach(function(t){if(t.dirty&&t.data){var n;if(t.buffer)null===(n=t.buffer)||void 0===n||n.subData({data:t.data,offset:0});else t.buffer=e.engine.createBuffer({data:t.data,type:I.a.FLOAT});t.dirty=!1}}),n.indices&&(n.indicesBuffer?n.indicesBuffer.subData({data:n.indices,offset:0}):n.indicesBuffer=e.engine.createElements({data:n.indices,count:n.indices.length,type:I.a.UNSIGNED_INT,usage:I.a.STATIC_DRAW})),n.dirty=!1)});case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.geometry.forEach(function(t,e){e.indicesBuffer&&e.indicesBuffer.destroy(),e.attributes.forEach(function(t){t.buffer&&t.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vertexCount:3}).vertexCount,e=Object(M.createEntity)();return this.geometry.create(e,{vertexCount:t})}},{key:"createInstancedBufferGeometry",value:function(t){var e=t.maxInstancedCount,n=t.vertexCount,i=Object(M.createEntity)();return this.geometry.create(i,{maxInstancedCount:e,vertexCount:n})}}]),t}(),l=w()(s.prototype,"geometry",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=w()(s.prototype,"engine",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=s))||a)},dNDb:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},dSzd:function(t,e,n){var i=n("e8AB")("wks"),r=n("3Eo+"),o=n("7KvD").Symbol,a="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=i},dVOP:function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},dY0y:function(t,e,n){var i=n("dSzd")("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},t(o)}catch(t){}return n}},dYct:function(t,e){t.exports=function(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})},t.exports.__esModule=!0,t.exports.default=t.exports},dkdY:function(t,e){function n(e,i){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,i)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},dv2D:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inject=e.LazyServiceIdentifer=void 0;var i=n("tuOO"),r=n("cEWm"),o=n("gNUp"),a=n("xu9d"),s=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();e.LazyServiceIdentifer=s,e.inject=function(t){return function(e,n,s){if(void 0===t)throw new Error(i.UNDEFINED_INJECT_ANNOTATION(e.name));var l=new o.Metadata(r.INJECT_TAG,t);"number"==typeof s?a.tagParameter(e,n,s,l):a.tagProperty(e,n,l)}}},e6n0:function(t,e,n){var i=n("evD5").f,r=n("D2L2"),o=n("dSzd")("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},e8AB:function(t,e,n){var i=n("FeBl"),r=n("7KvD"),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("O4g8")?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},eHJv:function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},eMM2:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i,r=n("Z60a"),o=n.n(r),a=n("C9uT"),s=n.n(a),l=n("YulH"),u=(n.n(l),Object(l.injectable)()(i=function(){function t(){o()(this,t),this.config=void 0}return s()(t,[{key:"get",value:function(){return this.config}},{key:"set",value:function(t){this.config=t}}]),t}())||i)},edjc:function(t,e,n){"use strict";(function(t){e.p=function(t){var e;if(t&&"transparent"!==t){if("string"==typeof t&&t.indexOf("rgba")>-1){var n=Object(r.parse)(t);n&&(t="rgb("+n[0]+","+n[1]+","+n[2]+")",e=n[3])}}else t="none";return{color:t,opacity:null==e?1:e}},e.j=function(t){return t<s&&t>-s},e.q=u,e.e=function(t){return"matrix("+l(t[0])+","+l(t[1])+","+l(t[2])+","+l(t[3])+","+u(t[4])+","+u(t[5])+")"},n.d(e,"a",function(){return c}),e.b=function(t,e,n){"top"===n?t+=e/2:"bottom"===n&&(t-=e/2);return t},e.i=function(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)},e.h=function(t){var e=t.style,n=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")},e.l=h,e.n=function(t){return h(t)||function(t){return t&&!!t.svgElement}(t)},e.m=function(t){return"linear"===t.type},e.o=function(t){return"radial"===t.type},e.k=function(t){return t&&("linear"===t.type||"radial"===t.type)},e.d=function(t){return"url(#"+t+")"},e.f=function(t){var e=t.getGlobalScale(),n=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)},e.g=function(t){var e=t.x||0,n=t.y||0,r=(t.rotation||0)*i.RADIAN_TO_DEGREE,o=Object(i.retrieve2)(t.scaleX,1),s=Object(i.retrieve2)(t.scaleY,1),l=t.skewX||0,u=t.skewY||0,c=[];(e||n)&&c.push("translate("+e+"px,"+n+"px)");r&&c.push("rotate("+r+")");1===o&&1===s||c.push("scale("+o+","+s+")");(l||u)&&c.push("skew("+a(l*i.RADIAN_TO_DEGREE)+"deg, "+a(u*i.RADIAN_TO_DEGREE)+"deg)");return c.join(" ")},n.d(e,"c",function(){return d});var i=n("/gxq"),r=n("DRaW"),o=n("YNzw"),a=Math.round;var s=1e-4;function l(t){return a(1e3*t)/1e3}function u(t){return a(1e4*t)/1e4}var c={left:"start",right:"end",center:"middle",middle:"middle"};function h(t){return t&&!!t.image}var d=o.a.hasGlobalWindow&&Object(i.isFunction)(window.btoa)?function(t){return window.btoa(unescape(t))}:void 0!==t?function(e){return t.from(e).toString("base64")}:function(t){return null}}).call(e,n("EuP9").Buffer)},esuD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n("vVQx"))&&i.__esModule?i:{default:i};var o=function(){function t(){this.linkedList=new r.default}return t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},t.prototype.enqueue=function(t){this.linkedList.append(t)},t.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toString=function(t){return this.linkedList.toString(t)},t}();e.default=o},evD5:function(t,e,n){var i=n("77Pl"),r=n("SfB7"),o=n("MmMw"),a=Object.defineProperty;e.f=n("+E39")?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},f3pQ:function(t,e,n){"use strict";(function(t){e.a=function(e){if(e)return f(e);if("undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product)return new s;if("undefined"!=typeof navigator)return f(navigator.userAgent);return void 0!==t&&t.version?new r(t.version.slice(1)):null};var n=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},i=function(){return function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"}}(),r=function(){return function(e){this.version=e,this.type="node",this.name="node",this.os=t.platform}}(),o=function(){return function(t,e,n,i){this.name=t,this.version=e,this.os=n,this.bot=i,this.type="bot-device"}}(),a=function(){return function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}}(),s=function(){return function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}}(),l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,u=3,c=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],h=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function d(t){return""!==t&&c.reduce(function(e,n){var i=n[0],r=n[1];if(e)return e;var o=r.exec(t);return!!o&&[i,o]},!1)}function f(t){var e=d(t);if(!e)return null;var r=e[0],s=e[1];if("searchbot"===r)return new a;var c=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);c?c.length<u&&(c=n(n([],c,!0),function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(u-c.length),!0)):c=[];var f=c.join("."),p=function(t){for(var e=0,n=h.length;e<n;e++){var i=h[e],r=i[0],o=i[1],a=o.exec(t);if(a)return r}return null}(t),g=l.exec(t);return g&&g[1]?new o(r,f,p,g[1]):new i(r,f,p)}}).call(e,n("W2nU"))},f4mV:function(t,e,n){"use strict";var i=n("fKPv"),r=n.n(i),o=n("Z60a"),a=n.n(o),s=n("C9uT"),l=n.n(s),u=n("YulH");var c,h=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function d(t){var e={};return{content:t=t.replace(h,function(t,n,i){var r=i.split(":"),o=r[0].trim(),a="";switch(r.length>1&&(a=r[1].trim()),n){case"bool":a="true"===a;break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a=a?a.replace("[","").replace("]","").split(",").reduce(function(t,e){return t.push(Number(e.trim())),t},[]):new Array(function(t){var e=0;switch(t){case"vec2":case"ivec2":e=2;break;case"vec3":case"ivec3":e=3;break;case"vec4":case"ivec4":case"mat2":e=4;break;case"mat3":e=9;break;case"mat4":e=16}return e}(n)).fill(0)}return e[o]=a,"uniform ".concat(n," ").concat(o,";\n")}),uniforms:e}}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}n.d(e,"a",function(){return m});var g=/precision\s+(high|low|medium)p\s+float/,v=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,m=Object(u.injectable)()(c=function(){function t(){a()(this,t),this.moduleCache={},this.rawContentCache={}}return l()(t,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:"attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  // compares only in highlight stage\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}",fs:"varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color) {\n  bool selected = bool(v_PickingResult.a);\n\n  if (selected) {\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(resultRGB, color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  return filterPickingColor(filterHighlightColor(color));\n}\n"}),this.registerModule("sdf2d",{vs:"",fs:"/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}"})}},{key:"registerModule",value:function(t,e){if(!this.rawContentCache[t]){var n=e.vs,i=void 0===n?"":n,r=e.fs,o=void 0===r?"":r,a=e.uniforms,s=d(i),l=s.content,u=s.uniforms,c=d(o),h=c.content,f=c.uniforms;this.rawContentCache[t]={fs:h,uniforms:p(p(p({},u),f),a),vs:l}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(t){var e=this;if(this.moduleCache[t])return this.moduleCache[t];var n,i=this.rawContentCache[t].vs||"",r=this.rawContentCache[t].fs||"",o=this.processModule(i,[],"vs"),a=o.content,s=o.includeList,l=this.processModule(r,[],"fs"),u=l.content,c=l.includeList,h=u,d=(n=s.concat(c).concat(t),n.filter(function(t,e,n){return n.indexOf(t)===e})).reduce(function(t,n){return p(p({},t),e.rawContentCache[n].uniforms)},{});return g.test(u)||(h="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n"+u),this.moduleCache[t]={fs:h.trim(),uniforms:d,vs:a.trim()},this.moduleCache[t]}},{key:"processModule",value:function(t,e,n){var i=this;return{content:t.replace(v,function(t,r){var o=r.split(" ")[0].replace(/"/g,"");if(e.indexOf(o)>-1)return"";var a=i.rawContentCache[o][n];return e.push(o),i.processModule(a||"",e,n).content}),includeList:e}}}]),t}())||c},fJUb:function(t,e,n){var i=n("77Pl"),r=n("EqjI"),o=n("qARP");t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},fKPv:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},fPyR:function(t,e){},fWKP:function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t}},fWfb:function(t,e,n){"use strict";var i=n("7KvD"),r=n("D2L2"),o=n("+E39"),a=n("kM2E"),s=n("880/"),l=n("06OY").KEY,u=n("S82l"),c=n("e8AB"),h=n("e6n0"),d=n("3Eo+"),f=n("dSzd"),p=n("Kh4W"),g=n("crlp"),v=n("Xc4G"),m=n("7UMu"),y=n("77Pl"),b=n("EqjI"),x=n("sB3e"),w=n("TcQ7"),_=n("MmMw"),S=n("X8DO"),M=n("Yobk"),C=n("Rrel"),I=n("LKZe"),k=n("1kS7"),T=n("evD5"),O=n("lktj"),E=I.f,A=T.f,N=C.f,L=i.Symbol,D=i.JSON,j=D&&D.stringify,P=f("_hidden"),R=f("toPrimitive"),z={}.propertyIsEnumerable,B=c("symbol-registry"),F=c("symbols"),G=c("op-symbols"),V=Object.prototype,W="function"==typeof L&&!!k.f,H=i.QObject,U=!H||!H.prototype||!H.prototype.findChild,Y=o&&u(function(){return 7!=M(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=E(V,e);i&&delete V[e],A(t,e,n),i&&t!==V&&A(V,e,i)}:A,J=function(t){var e=F[t]=M(L.prototype);return e._k=t,e},Q=W&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},Z=function(t,e,n){return t===V&&Z(G,e,n),y(t),e=_(e,!0),y(n),r(F,e)?(n.enumerable?(r(t,P)&&t[P][e]&&(t[P][e]=!1),n=M(n,{enumerable:S(0,!1)})):(r(t,P)||A(t,P,S(1,{})),t[P][e]=!0),Y(t,e,n)):A(t,e,n)},$=function(t,e){y(t);for(var n,i=v(e=w(e)),r=0,o=i.length;o>r;)Z(t,n=i[r++],e[n]);return t},X=function(t){var e=z.call(this,t=_(t,!0));return!(this===V&&r(F,t)&&!r(G,t))&&(!(e||!r(this,t)||!r(F,t)||r(this,P)&&this[P][t])||e)},K=function(t,e){if(t=w(t),e=_(e,!0),t!==V||!r(F,e)||r(G,e)){var n=E(t,e);return!n||!r(F,e)||r(t,P)&&t[P][e]||(n.enumerable=!0),n}},q=function(t){for(var e,n=N(w(t)),i=[],o=0;n.length>o;)r(F,e=n[o++])||e==P||e==l||i.push(e);return i},tt=function(t){for(var e,n=t===V,i=N(n?G:w(t)),o=[],a=0;i.length>a;)!r(F,e=i[a++])||n&&!r(V,e)||o.push(F[e]);return o};W||(s((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===V&&e.call(G,n),r(this,P)&&r(this[P],t)&&(this[P][t]=!1),Y(this,t,S(1,n))};return o&&U&&Y(V,t,{configurable:!0,set:e}),J(t)}).prototype,"toString",function(){return this._k}),I.f=K,T.f=Z,n("n0T6").f=C.f=q,n("NpIQ").f=X,k.f=tt,o&&!n("O4g8")&&s(V,"propertyIsEnumerable",X,!0),p.f=function(t){return J(f(t))}),a(a.G+a.W+a.F*!W,{Symbol:L});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)f(et[nt++]);for(var it=O(f.store),rt=0;it.length>rt;)g(it[rt++]);a(a.S+a.F*!W,"Symbol",{for:function(t){return r(B,t+="")?B[t]:B[t]=L(t)},keyFor:function(t){if(!Q(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!W,"Object",{create:function(t,e){return void 0===e?M(t):$(M(t),e)},defineProperty:Z,defineProperties:$,getOwnPropertyDescriptor:K,getOwnPropertyNames:q,getOwnPropertySymbols:tt});var ot=u(function(){k.f(1)});a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return k.f(x(t))}}),D&&a(a.S+a.F*(!W||u(function(){var t=L();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(b(e)||void 0!==t)&&!Q(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Q(e))return e}),i[1]=e,j.apply(D,i)}}),L.prototype[R]||n("hJx8")(L.prototype,R,L.prototype.valueOf),h(L,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},fkB2:function(t,e,n){var i=n("UuGF"),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},fuGk:function(t,e,n){"use strict";var i=n("cGG2");function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},fwdJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.id=void 0;var i=0;e.id=function(){return i++}},fzH7:function(t,e,n){"use strict";var i=n("TToO"),r=n("vfXu"),o=n("IzBs"),a=n("BuFP"),s=n("MdiT"),l=n("SVAo"),u=o.a.transform,c=["zIndex","capture","visible","type"],h=["repeat"];var d=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var i=n.getDefaultAttrs();return Object(r.l)(i,e.attrs),n.attrs=i,n.initAttrs(i),n.initAnimate(),n}return Object(i.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0],o=e[1];if(!i)return this.attrs;if(Object(r.h)(i)){for(var a in i)this.setAttr(a,i[a]);return this.afterAttrsChange(i),this}return 2===e.length?(this.setAttr(i,o),this.afterAttrsChange(((t={})[i]=o,t)),this):this.attrs[i]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Object(a.j)(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr("matrix")},e.prototype.setMatrix=function(t){this.attr("matrix",t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?Object(s.b)(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?Object(s.b)(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?Object(s.c)(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=Object(s.a)(e);if(n)return Object(s.c)(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var i=this.getShapeBase()[Object(r.o)(t.type)];i&&(n=new i({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};Object(r.a)(e,function(t,i){Object(r.b)(e[i])?n[i]=function(t){for(var e=[],n=0;n<t.length;n++)Object(r.b)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[i]):n[i]=e[i]});var i=new(0,this.constructor)({attrs:n});return Object(r.a)(c,function(e){i.set(e,t.get(e))}),i},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var i=this.get("animations")||[];n.timer||n.initTimer();var o,a,s,l,u,c=t[0],d=t[1],f=t[2],p=void 0===f?"easeLinear":f,g=t[3],v=void 0===g?r.m:g,m=t[4],y=void 0===m?0:m;Object(r.d)(c)?(o=c,c={}):Object(r.h)(c)&&c.onFrame&&(o=c.onFrame,a=c.repeat),Object(r.h)(d)?(d=(u=d).duration,p=u.easing||"easeLinear",y=u.delay||0,a=u.repeat||a||!1,v=u.callback||r.m,s=u.pauseCallback||r.m,l=u.resumeCallback||r.m):(Object(r.f)(v)&&(y=v,v=null),Object(r.d)(p)?(v=p,p="easeLinear"):p=p||"easeLinear");var b=function(t,e){var n={},i=e.attr();return Object(r.a)(t,function(t,e){-1!==h.indexOf(e)||Object(r.c)(i[e],t)||(n[e]=t)}),n}(c,this),x={fromAttrs:function(t,e){var n={},i=e.attrs;for(var r in t)n[r]=i[r];return n}(b,this),toAttrs:b,duration:d,easing:p,repeat:a,callback:v,pauseCallback:s,resumeCallback:l,delay:y,startTime:n.getTime(),id:Object(r.n)(),onFrame:o,pathFormatted:!1};i.length>0?i=function(t,e){if(e.onFrame)return t;var n=e.startTime,i=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return Object(r.a)(t,function(t){n+i<t.startTime+t.delay+t.duration&&o>t.delay&&Object(r.a)(e.toAttrs,function(e,n){a.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])})}),t}(i,x):n.addAnimator(this),i.push(x),this.set("animations",i),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");Object(r.a)(n,function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()}),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return Object(r.a)(e,function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return Object(r.a)(e,function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,i=this,o=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var s=function(t){var s=o[t],u=s.get("name");if(u){if((s.isGroup()||s.isCanvas&&s.isCanvas())&&n&&Object(a.g)(s,n))return"break";Object(r.b)(u)?Object(r.a)(u,function(t){i.emitDelegateEvent(s,t,e)}):l.emitDelegateEvent(s,u,e)}},l=this,u=0;u<o.length;u++){if("break"===s(u))break}},e.prototype.emitDelegateEvent=function(t,e,n){var i=this.getEvents(),r=e+":"+n.type;(i[r]||i["*"])&&(n.name=r,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(r,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),i=u(n,[["t",t,e]]);return this.setMatrix(i),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,i=this.attr("y")||0;return this.translate(t-n,e-i),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),i=u(n,[["s",t,e||t]]);return this.setMatrix(i),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=u(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,i=e.y,r=this.getMatrix(),o=u(r,[["t",-n,-i],["r",t],["t",n,i]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var i=this.getMatrix(),r=u(i,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(r),this},e}(l.a);e.a=d},gBsL:function(t,e){t.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},gJt3:function(t,e){t.exports=function(t,e,n){return t[0]=e,t[1]=n,t}},gNUp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var i=n("cEWm"),r=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===i.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();e.Metadata=r},gTUD:function(t,e,n){"use strict";e.a=function(t){for(var e=new r.a,n=i.e.fromValues(t[0],t[1],t[2]),o=i.e.fromValues(t[0],t[1],t[2]),a=3;a<t.length;){var s=t[a++],l=t[a++],u=t[a++];s<n[0]&&(n[0]=s),l<n[1]&&(n[1]=l),u<n[2]&&(n[2]=u),s>o[0]&&(o[0]=s),l>o[1]&&(o[1]=l),u>o[2]&&(o[2]=u)}return e.setMinMax(n,o),e};var i=n("lVvd"),r=n("wb0v")},ggGI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Plan=void 0;var i=function(){return function(t,e){this.parentContext=t,this.rootRequest=e}}();e.Plan=i},ghwr:function(t,e,n){"use strict";n("o2t7"),n("i6H2");var i=n("H7FV");n.d(e,"Canvas",function(){return i.a});n("iaRc")},gosJ:function(t,e,n){"use strict";e.a=function(t,e){var n=e.attr();for(var o in n){var a=n[o],s=l[o]?l[o]:o;"matrix"===s&&a?t.transform(a[0],a[1],a[3],a[4],a[6],a[7]):"lineDash"===s&&t.setLineDash?Object(i.c)(a)&&t.setLineDash(a):("strokeStyle"===s||"fillStyle"===s?a=Object(r.b)(t,e,a):"globalAlpha"===s&&(a*=t.globalAlpha),t[s]=a)}},e.d=function(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];r.cfg.visible?r.draw(t,n):r.skipDraw()}},e.b=function(t,e,n){var r=t.get("refreshElements");Object(i.b)(r,function(e){if(e!==t)for(var n=e.cfg.parent;n&&n!==t&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent}),r[0]===t?u(e,n):function t(e,n){for(var i=0;i<e.length;i++){var r=e[i];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&u(r.cfg.children,n);else if(r.cfg.refresh)r.isGroup()&&t(r.cfg.children,n);else{var o=c(r,n);r.cfg.refresh=o,o&&r.isGroup()&&t(r.cfg.children,n)}}}(e,n)},e.c=function t(e){for(var n=0;n<e.length;n++){var i=e[n];i.cfg.hasChanged=!1,i.isGroup()&&!i.destroyed&&t(i.cfg.children)}},e.e=function(t,e,n,i){var r=n.path,a=n.startArrow,l=n.endArrow;if(!r)return;var u=[0,0],c=[0,0],h={dx:0,dy:0};e.beginPath();for(var d=0;d<r.length;d++){var f=r[d],p=f[0];if(0===d&&a&&a.d){var g=t.getStartTangent();h=s.c(g[0][0],g[0][1],g[1][0],g[1][1],a.d)}else if(d===r.length-2&&"Z"===r[d+1][0]&&l&&l.d){var v=r[d+1];if("Z"===v[0]){var g=t.getEndTangent();h=s.c(g[0][0],g[0][1],g[1][0],g[1][1],l.d)}}else if(d===r.length-1&&l&&l.d&&"Z"!==r[0]){var g=t.getEndTangent();h=s.c(g[0][0],g[0][1],g[1][0],g[1][1],l.d)}var m=h.dx,y=h.dy;switch(p){case"M":e.moveTo(f[1]-m,f[2]-y),c=[f[1],f[2]];break;case"L":e.lineTo(f[1]-m,f[2]-y);break;case"Q":e.quadraticCurveTo(f[1],f[2],f[3]-m,f[4]-y);break;case"C":e.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-m,f[6]-y);break;case"A":var b=void 0;i?(b=i[d])||(b=Object(o.a)(u,f),i[d]=b):b=Object(o.a)(u,f);var x=b.cx,w=b.cy,_=b.rx,S=b.ry,M=b.startAngle,C=b.endAngle,I=b.xRotation,k=b.sweepFlag;if(e.ellipse)e.ellipse(x,w,_,S,I,M,C,1-k);else{var T=_>S?_:S,O=_>S?1:_/S,E=_>S?S/_:1;e.translate(x,w),e.rotate(I),e.scale(O,E),e.arc(0,0,T,M,C,1-k),e.scale(1/O,1/E),e.rotate(-I),e.translate(-x,-w)}break;case"Z":e.closePath()}if("Z"===p)u=c;else{var A=f.length;u=[f[A-2],f[A-1]]}}},e.h=function(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))},e.f=function(t){if(!t.length)return null;var e=[],n=[],r=[],o=[];return Object(i.b)(t,function(t){var i=function(t){var e;if(t.destroyed)e=t._cacheCanvasBBox;else{var n=t.get("cacheCanvasBBox"),i=n&&!(!n.width||!n.height),r=t.getCanvasBBox(),o=r&&!(!r.width||!r.height);i&&o?e=Object(a.l)(n,r):i?e=n:o&&(e=r)}return e}(t);i&&(e.push(i.minX),n.push(i.minY),r.push(i.maxX),o.push(i.maxY))}),{minX:Object(i.h)(e),minY:Object(i.h)(n),maxX:Object(i.g)(r),maxY:Object(i.g)(o)}},e.g=function(t,e){if(!t||!e)return null;if(!Object(a.f)(t,e))return null;return{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}};var i=n("hV/g"),r=n("4KIz"),o=n("dAFD"),a=n("PDVq"),s=n("+ymx"),l={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function u(t,e){for(var n=0;n<t.length;n++){var i=t[n];i.cfg.refresh=!0,i.isGroup()&&u(i.get("children"),e)}}function c(t,e){var n=t.cfg.cacheCanvasBBox;return t.cfg.isInView&&n&&Object(a.f)(n,e)}},h65t:function(t,e,n){var i=n("UuGF"),r=n("52gC");t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),l=i(n),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},"h8/j":function(t,e,n){var i=n("7Mv9"),r=n("gJt3"),o=n("wYL2"),a=n("4ZXS"),s=n("njfc"),l=[0,0];t.exports.computeMiter=function(t,e,n,a,u){return i(t,n,a),o(t,t),r(e,-t[1],t[0]),r(l,-n[1],n[0]),u/s(e,l)},t.exports.normal=function(t,e){return r(t,-e[1],e[0]),t},t.exports.direction=function(t,e,n){return a(t,e,n),o(t,t),t}},hJx8:function(t,e,n){var i=n("evD5"),r=n("X8DO");t.exports=n("+E39")?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},"hV/S":function(t,e){t.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}},"hV/g":function(t,e,n){"use strict";var i=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},r=function(t,e){return!!i(t)&&t.indexOf(e)>-1},o=function(t,e){if(!i(t))return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];e(o,r)&&n.push(o)}return n},a=function(t,e){return void 0===e&&(e=[]),o(t,function(t){return!r(e,t)})},s={}.toString,l=function(t,e){return s.call(t)==="[object "+e+"]"},u=function(t){return l(t,"Function")},c=function(t){return null===t||void 0===t},h=function(t){return Array.isArray?Array.isArray(t):l(t,"Array")},d=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var f=function(t,e){if(t)if(h(t))for(var n=0,i=t.length;n<i&&!1!==e(t[n],n);n++);else if(d(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break},p=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return f(t,function(n,i){u(t)&&"prototype"===i||e.push(i)}),e};var g=function(t,e){var n=p(e),i=n.length;if(c(t))return!i;for(var r=0;r<i;r+=1){var o=n[r];if(e[o]!==t[o]||!(o in t))return!1}return!0},v=function(t){return"object"==typeof t&&null!==t},m=function(t){if(!v(t)||!l(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var y=function(t,e){if(!h(t))return null;var n;if(u(e)&&(n=e),m(e)&&(n=function(t){return g(t,e)}),n)for(var i=0;i<t.length;i+=1)if(n(t[i]))return t[i];return null};var b=function(t,e,n){void 0===n&&(n=0);for(var i=n;i<t.length;i++)if(e(t[i],i))return i;return-1},x=function(t,e){for(var n=null,i=0;i<t.length;i++){var r=t[i][e];if(!c(r)){n=h(r)?r[0]:r;break}}return n},w=function(t){if(!h(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},_=function(t,e){if(void 0===e&&(e=[]),h(t))for(var n=0;n<t.length;n+=1)_(t[n],e);else e.push(t);return e},S=_,M=function(t){if(h(t))return t.reduce(function(t,e){return Math.max(t,e)},t[0])},C=function(t){if(h(t))return t.reduce(function(t,e){return Math.min(t,e)},t[0])},I=function(t){var e=t.filter(function(t){return!isNaN(t)});if(!e.length)return{min:0,max:0};if(h(t[0])){for(var n=[],i=0;i<t.length;i++)n=n.concat(t[i]);e=n}var r=M(e);return{min:C(e),max:r}},k=Array.prototype,T=k.splice,O=k.indexOf,E=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++)for(var r=e[i],o=-1;(o=O.call(t,r))>-1;)T.call(t,o,1);return t},A=Array.prototype.splice,N=function(t,e){if(!i(t))return[];for(var n=t?e.length:0,r=n-1;n--;){var o=void 0,a=e[n];n!==r&&a===o||(o=a,A.call(t,a,1))}return t},L=function(t,e,n){if(!h(t)&&!m(t))return t;var i=n;return f(t,function(t,n){i=e(i,t,n)}),i},D=function(t,e){var n=[];if(!i(t))return n;for(var r=-1,o=[],a=t.length;++r<a;){var s=t[r];e(s,r,t)&&(n.push(s),o.push(r))}return N(t,o),n},j=function(t){return l(t,"String")};var P=function(t,e){var n;if(u(e))n=function(t,n){return e(t)-e(n)};else{var i=[];j(e)?i.push(e):h(e)&&(i=e),n=function(t,e){for(var n=0;n<i.length;n+=1){var r=i[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0}}return t.sort(n),t};function R(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var o=t[i];e.has(o)||(n.push(o),e.set(o,!0))}return n}var z=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return R([].concat.apply([],t))},B=function(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r][e];if(!c(o)){h(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];i[s]||(n.push(s),i[s]=!0)}}}return n};function F(t){if(i(t))return t[0]}function G(t){if(i(t)){return t[t.length-1]}}var V=function(t,e){return!(!h(t)&&!j(t))&&t[0]===e};var W=function(t,e){return!(!h(t)&&!j(t))&&t[t.length-1]===e},H=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},U=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},Y=Object.prototype.hasOwnProperty;var J=function(t,e){if(!e||!h(t))return{};for(var n,i={},r=u(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=r(a),Y.call(i,n)?i[n].push(a):i[n]=[a]}return i};function Q(t,e){if(!e)return{0:t};if(!u(e)){var n=h(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",i=0,r=n.length;i<r;i++)e+=t[n[i]]&&t[n[i]].toString();return e}}return J(t,e)}var Z=function(t,e){if(!e)return[t];var n=Q(t,e),i=[];for(var r in n)i.push(n[r]);return i};var $=function(t,e){return t["_wrap_"+e]};var X=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n},K={};var q=function(t){var e=K[t];if(!e){for(var n=t.toString(16),i=n.length;i<6;i++)n="0"+n;e="#"+n,K[t]=e}return e};var tt=function(t){var e=0,n=0,i=0,r=0;return h(t)?1===t.length?e=n=i=r=t[0]:2===t.length?(e=i=t[0],n=r=t[1]):3===t.length?(e=t[0],n=r=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],r=t[3]):e=n=i=r=t,{r1:e,r2:n,r3:i,r4:r}},et=function(t,e,n){return t<e?e:t>n?n:t},nt=function(t,e){var n=e.toString(),i=n.indexOf(".");if(-1===i)return Math.round(t);var r=n.substr(i+1).length;return r>20&&(r=20),parseFloat(t.toFixed(r))},it=function(t){return l(t,"Number")},rt=function(t){return it(t)&&t%1!=0},ot=function(t){return it(t)&&t%2==0},at=Number.isInteger?Number.isInteger:function(t){return it(t)&&t%1==0},st=function(t){return it(t)&&t<0},lt=1e-5;function ut(t,e,n){return void 0===n&&(n=lt),Math.abs(t-e)<n}var ct=function(t){return it(t)&&t%2!=0},ht=function(t){return it(t)&&t>0},dt=function(t,e){if(h(t)){for(var n,i=-1/0,r=0;r<t.length;r++){var o=t[r],a=u(e)?e(o):o[e];a>i&&(n=o,i=a)}return n}},ft=function(t,e){if(h(t)){for(var n,i=1/0,r=0;r<t.length;r++){var o=t[r],a=u(e)?e(o):o[e];a<i&&(n=o,i=a)}return n}},pt=function(t,e){return(t%e+e)%e},gt=180/Math.PI,vt=function(t){return gt*t},mt=parseInt,yt=Math.PI/180,bt=function(t){return yt*t},xt=f,wt=function(t,e){return t.hasOwnProperty(e)},_t=wt,St=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return f(t,function(n,i){u(t)&&"prototype"===i||e.push(n)}),e},Mt=function(t,e){return r(St(t),e)},Ct=function(t){return c(t)?"":t.toString()},It=function(t){return Ct(t).toLowerCase()},kt=function(t){var e=Ct(t);return e.charAt(0).toLowerCase()+e.substring(1)};var Tt=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]}):t},Ot=function(t){return Ct(t).toUpperCase()},Et=function(t){var e=Ct(t);return e.charAt(0).toUpperCase()+e.substring(1)},At={}.toString,Nt=function(t){return At.call(t).replace(/^\[object /,"").replace(/]$/,"")},Lt=function(t){return l(t,"Arguments")},Dt=function(t){return l(t,"Boolean")},jt=function(t){return l(t,"Date")},Pt=function(t){return l(t,"Error")},Rt=function(t){return it(t)&&isFinite(t)},zt=function(t){return null===t},Bt=Object.prototype,Ft=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Bt)},Gt=function(t){return l(t,"RegExp")},Vt=function(t){return void 0===t},Wt=function(t){return t instanceof Element||t instanceof HTMLDocument};function Ht(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Ut(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Yt(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Jt(t,e,n,i){return e&&Yt(t,e),n&&Yt(t,n),i&&Yt(t,i),t}var Qt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],i=1;i<t.length;i++){var r=t[i];u(r)&&(r=r.prototype),Jt(n.prototype,r)}},Zt=function(t){if("object"!=typeof t||null===t)return t;var e;if(h(t)){e=[];for(var n=0,i=t.length;n<i;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=Zt(t[n]):e[n]=t[n]}else for(var r in e={},t)"object"==typeof t[r]&&null!=t[r]?e[r]=Zt(t[r]):e[r]=t[r];return e},$t=Zt;var Xt=function(t,e,n){var i;return function(){var r=this,o=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(r,o)},e),a&&t.apply(r,o)}},Kt=function(t,e){if(!u(t))throw new TypeError("Expected a function");var n=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,i);return a.set(o,s),s};return n.cache=new Map,n},qt=5;function te(t,e,n,i){for(var r in n=n||0,i=i||qt,e)if(e.hasOwnProperty(r)){var o=e[r];null!==o&&m(o)?(m(t[r])||(t[r]={}),n<i?te(t[r],o,n+1,i):t[r]=e[r]):h(o)?(t[r]=[],t[r]=t[r].concat(o)):void 0!==o&&(t[r]=o)}}var ee=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)te(t,e[i]);return t},ne=function(t,e,n,i){u(e)||(n=e,e=t,t=function(){});var r=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var i=new n;return i.constructor=e,i},o=r(e.prototype,t);return t.prototype=Jt(o,t.prototype),t.superclass=r(e.prototype,e),Jt(o,n),Jt(t,i),t},ie=function(t,e){if(!i(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,o=0;o<t.length;o++)if(t[o]===e){r=o;break}return r},re=Object.prototype.hasOwnProperty;var oe=function(t){if(c(t))return!0;if(i(t))return!t.length;var e=Nt(t);if("Map"===e||"Set"===e)return!t.size;if(Ft(t))return!Object.keys(t).length;for(var n in t)if(re.call(t,n))return!1;return!0},ae=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(j(t)||j(e))return!1;if(i(t)||i(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length&&(n=ae(t[r],e[r]));r++);return n}if(v(t)||v(e)){var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(n=!0,r=0;r<o.length&&(n=ae(t[o[r]],e[o[r]]));r++);return n}return!1},se=ae,le=function(t,e,n){return u(n)?!!n(t,e):se(t,e)},ue=function(t,e){if(!i(t))return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(e(o,r))}return n},ce=function(t){return t},he=function(t,e){void 0===e&&(e=ce);var n={};return d(t)&&!c(t)&&Object.keys(t).forEach(function(i){n[i]=e(t[i],i)}),n},de=function(t,e,n){for(var i=0,r=j(e)?e.split("."):e;t&&i<r.length;)t=t[r[i++]];return void 0===t||i<r.length?n:t},fe=function(t,e,n){var i=t,r=j(e)?e.split("."):e;return r.forEach(function(t,e){e<r.length-1?(d(i[t])||(i[t]=it(r[e+1])?[]:{}),i=i[t]):i[t]=n}),t},pe=Object.prototype.hasOwnProperty,ge=function(t,e){if(null===t||!m(t))return{};var n={};return f(e,function(e){pe.call(t,e)&&(n[e]=t[e])}),n},ve=function(t,e){return L(t,function(t,n,i){return e.includes(i)||(t[i]=n),t},{})},me=function(t,e,n){var i,r,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),i=null,a=t.apply(r,o),i||(r=o=null)},u=function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return r=this,o=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),s=u,a=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(i),s=0,i=r=o=null},u},ye=function(t){return i(t)?Array.prototype.slice.call(t):[]},be={},xe=function(t){return be[t=t||"g"]?be[t]+=1:be[t]=1,t+be[t]},we=function(){},_e=function(t){return t};function Se(t){return c(t)?0:i(t)?t.length:Object.keys(t).length}var Me,Ce=n("TToO"),Ie=Kt(function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,r=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return Me||(Me=document.createElement("canvas").getContext("2d")),Me.font=[o,a,r,n+"px",i].join(" "),Me.measureText(j(t)?t:"").width},function(t,e){return void 0===e&&(e={}),Object(Ce.__spreadArrays)([t],St(e)).join("")}),ke=function(t,e,n,i){void 0===i&&(i="...");var r,o,a=Ie(i,n),s=j(t)?t:Ct(t),l=e,u=[];if(Ie(t,n)<=e)return t;for(;r=s.substr(0,16),!((o=Ie(r,n))+a>l&&o>l);)if(u.push(r),l-=o,!(s=s.substr(16)))return u.join("");for(;r=s.substr(0,1),!((o=Ie(r,n))+a>l);)if(u.push(r),l-=o,!(s=s.substr(1)))return u.join("");return""+u.join("")+i},Te=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}();n.d(e,!1,function(){return r}),n.d(e,!1,function(){return r}),n.d(e,!1,function(){return a}),n.d(e,!1,function(){return y}),n.d(e,!1,function(){return b}),n.d(e,!1,function(){return x}),n.d(e,!1,function(){return w}),n.d(e,!1,function(){return S}),n.d(e,!1,function(){return I}),n.d(e,!1,function(){return E}),n.d(e,!1,function(){return N}),n.d(e,!1,function(){return L}),n.d(e,!1,function(){return D}),n.d(e,!1,function(){return P}),n.d(e,!1,function(){return z}),n.d(e,!1,function(){return R}),n.d(e,!1,function(){return B}),n.d(e,!1,function(){return F}),n.d(e,!1,function(){return G}),n.d(e,!1,function(){return V}),n.d(e,!1,function(){return W}),n.d(e,!1,function(){return o}),n.d(e,!1,function(){return H}),n.d(e,!1,function(){return U}),n.d(e,!1,function(){return Z}),n.d(e,!1,function(){return J}),n.d(e,!1,function(){return Q}),n.d(e,!1,function(){return $}),n.d(e,!1,function(){return X}),n.d(e,!1,function(){return q}),n.d(e,!1,function(){return tt}),n.d(e,!1,function(){return et}),n.d(e,!1,function(){return nt}),n.d(e,!1,function(){return rt}),n.d(e,!1,function(){return ot}),n.d(e,!1,function(){return at}),n.d(e,!1,function(){return st}),n.d(e,!1,function(){return ut}),n.d(e,!1,function(){return ct}),n.d(e,!1,function(){return ht}),n.d(e,"g",function(){return M}),n.d(e,!1,function(){return dt}),n.d(e,"h",function(){return C}),n.d(e,!1,function(){return ft}),n.d(e,"i",function(){return pt}),n.d(e,!1,function(){return vt}),n.d(e,!1,function(){return mt}),n.d(e,"k",function(){return bt}),n.d(e,!1,function(){return xt}),n.d(e,!1,function(){return wt}),n.d(e,!1,function(){return _t}),n.d(e,!1,function(){return Mt}),n.d(e,!1,function(){return p}),n.d(e,!1,function(){return g}),n.d(e,!1,function(){return St}),n.d(e,!1,function(){return It}),n.d(e,!1,function(){return kt}),n.d(e,!1,function(){return Tt}),n.d(e,!1,function(){return Ot}),n.d(e,!1,function(){return Et}),n.d(e,!1,function(){return Nt}),n.d(e,!1,function(){return Lt}),n.d(e,"c",function(){return h}),n.d(e,!1,function(){return i}),n.d(e,!1,function(){return Dt}),n.d(e,!1,function(){return jt}),n.d(e,!1,function(){return Pt}),n.d(e,"d",function(){return u}),n.d(e,!1,function(){return Rt}),n.d(e,"e",function(){return c}),n.d(e,!1,function(){return zt}),n.d(e,!1,function(){return it}),n.d(e,!1,function(){return d}),n.d(e,!1,function(){return v}),n.d(e,!1,function(){return m}),n.d(e,!1,function(){return Ft}),n.d(e,!1,function(){return Gt}),n.d(e,"f",function(){return j}),n.d(e,!1,function(){return l}),n.d(e,!1,function(){return Vt}),n.d(e,!1,function(){return Wt}),n.d(e,"j",function(){return Ht}),n.d(e,"a",function(){return Ut}),n.d(e,!1,function(){return Qt}),n.d(e,!1,function(){return $t}),n.d(e,!1,function(){return Xt}),n.d(e,!1,function(){return Kt}),n.d(e,!1,function(){return ee}),n.d(e,"b",function(){return f}),n.d(e,!1,function(){return ne}),n.d(e,!1,function(){return ie}),n.d(e,!1,function(){return oe}),n.d(e,!1,function(){return se}),n.d(e,!1,function(){return le}),n.d(e,!1,function(){return ue}),n.d(e,!1,function(){return he}),n.d(e,!1,function(){return Jt}),n.d(e,!1,function(){return Jt}),n.d(e,!1,function(){return de}),n.d(e,!1,function(){return fe}),n.d(e,!1,function(){return ge}),n.d(e,!1,function(){return ve}),n.d(e,!1,function(){return me}),n.d(e,!1,function(){return ye}),n.d(e,!1,function(){return Ct}),n.d(e,!1,function(){return xe}),n.d(e,!1,function(){return we}),n.d(e,!1,function(){return _e}),n.d(e,!1,function(){return Se}),n.d(e,!1,function(){return Ie}),n.d(e,!1,function(){return ke}),n.d(e,!1,function(){return Te})},hVtj:function(t,e,n){"use strict";var i;n.d(e,"a",function(){return i}),function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.MAX_EXT=32776]="MAX_EXT",t[t.MIN_EXT=32775]="MIN_EXT",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.CULL_FACE=2884]="CULL_FACE",t[t.BLEND=3042]="BLEND",t[t.DITHER=3024]="DITHER",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.TEXTURE1=33985]="TEXTURE1",t[t.TEXTURE2=33986]="TEXTURE2",t[t.TEXTURE3=33987]="TEXTURE3",t[t.TEXTURE4=33988]="TEXTURE4",t[t.TEXTURE5=33989]="TEXTURE5",t[t.TEXTURE6=33990]="TEXTURE6",t[t.TEXTURE7=33991]="TEXTURE7",t[t.TEXTURE8=33992]="TEXTURE8",t[t.TEXTURE9=33993]="TEXTURE9",t[t.TEXTURE10=33994]="TEXTURE10",t[t.TEXTURE11=33995]="TEXTURE11",t[t.TEXTURE12=33996]="TEXTURE12",t[t.TEXTURE13=33997]="TEXTURE13",t[t.TEXTURE14=33998]="TEXTURE14",t[t.TEXTURE15=33999]="TEXTURE15",t[t.TEXTURE16=34e3]="TEXTURE16",t[t.TEXTURE17=34001]="TEXTURE17",t[t.TEXTURE18=34002]="TEXTURE18",t[t.TEXTURE19=34003]="TEXTURE19",t[t.TEXTURE20=34004]="TEXTURE20",t[t.TEXTURE21=34005]="TEXTURE21",t[t.TEXTURE22=34006]="TEXTURE22",t[t.TEXTURE23=34007]="TEXTURE23",t[t.TEXTURE24=34008]="TEXTURE24",t[t.TEXTURE25=34009]="TEXTURE25",t[t.TEXTURE26=34010]="TEXTURE26",t[t.TEXTURE27=34011]="TEXTURE27",t[t.TEXTURE28=34012]="TEXTURE28",t[t.TEXTURE29=34013]="TEXTURE29",t[t.TEXTURE30=34014]="TEXTURE30",t[t.TEXTURE31=34015]="TEXTURE31",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t[t.COPY_SRC=1]="COPY_SRC",t[t.COPY_DST=2]="COPY_DST",t[t.SAMPLED=4]="SAMPLED",t[t.STORAGE=8]="STORAGE",t[t.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"}(i||(i={}))},i63B:function(t,e,n){var i=n("QGUm"),r=n("xuDd");t.exports=function(t){return i.filter(r(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})}},i6H2:function(t,e,n){"use strict";var i=n("TnYd"),r=n("CpEa"),o=(n.n(r),n("1YJU")),a=(n.n(o),n("Y1ED"));n.d(e,"Event",function(){return a.a});n("SVAo");var s=n("t3gJ");n.d(e,"AbstractCanvas",function(){return s.a});var l=n("yJKB");n.d(e,"AbstractGroup",function(){return l.a});var u=n("JL8M");n.d(e,"AbstractShape",function(){return u.a}),n.d(e,"PathUtil",function(){return i});var c=n("MTK1");n.d(e,"getBBoxMethod",function(){return c.a});var h=n("Tb0P");n.d(e,"getTextHeight",function(){return h.b}),n.d(e,"assembleFont",function(){return h.a});var d=n("BuFP");n.d(e,"isAllowCapture",function(){return d.b});var f=n("MdiT");n.d(e,"multiplyVec2",function(){return f.c}),n.d(e,"invert",function(){return f.a});var p=n("cOOB");n.d(e,"getOffScreenContext",function(){return p.a})},iUbK:function(t,e,n){var i=n("7KvD").navigator;t.exports=i&&i.userAgent||""},iaRc:function(t,e,n){"use strict";var i=n("TToO"),r=n("i6H2"),o=n("PzsT"),a=n("o2t7"),s=n("qNZ/"),l=n("IpCj"),u=n("85Et"),c=n("8ALn"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=Object(c.b)("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n?n.appendChild(t):(n=e.createDom(),e.set("el",n),n.appendChild(t))}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.createPath(i,e)}},e.prototype.onCanvasChange=function(t){Object(s.b)(this,t)},e.prototype.getShapeBase=function(){return a},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),Object(l.a)(this,t),this.createPath(t),e.length&&Object(s.a)(t,e))},e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(o.a)(e||n,function(t,e){u.b[e]&&i.setAttribute(u.b[e],t)}),Object(l.c)(this)},e}(r.AbstractGroup);e.a=h},"j/J7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=void 0;var i=n("cEWm"),r=n("gNUp"),o=n("xu9d");e.optional=function(){return function(t,e,n){var a=new r.Metadata(i.OPTIONAL_TAG,!0);"number"==typeof n?o.tagParameter(t,e,n,a):o.tagProperty(t,e,a)}}},"j/rp":function(t,e,n){var i=n("dkdY");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},"jKW+":function(t,e,n){"use strict";var i=n("kM2E"),r=n("qARP"),o=n("dNDb");i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},jb0h:function(t,e){t.exports=function(t,e,n,i,r){var o={};return Object.keys(i).forEach(function(t){o[t]=i[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o},t.exports.__esModule=!0,t.exports.default=t.exports},jfVK:function(t,e){t.exports=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}},k26h:function(t,e){},kAgk:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},kM2E:function(t,e,n){var i=n("7KvD"),r=n("FeBl"),o=n("+ZMJ"),a=n("hJx8"),s=n("D2L2"),l=function(t,e,n){var u,c,h,d=t&l.F,f=t&l.G,p=t&l.S,g=t&l.P,v=t&l.B,m=t&l.W,y=f?r:r[e]||(r[e]={}),b=y.prototype,x=f?i:p?i[e]:(i[e]||{}).prototype;for(u in f&&(n=e),n)(c=!d&&x&&void 0!==x[u])&&s(y,u)||(h=c?x[u]:n[u],y[u]=f&&"function"!=typeof x[u]?n[u]:v&&c?o(h,i):m&&x[u]==h?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):g&&"function"==typeof h?o(Function.call,h):h,g&&((y.virtual||(y.virtual={}))[u]=h,t&l.R&&b&&!b[u]&&a(b,u,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},kU13:function(t,e){t.exports=function(t,e){var n=new Float32Array(2);return n[0]=t,n[1]=e,n}},knuC:function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},kr8a:function(t,e,n){var i=n("TiMF");t.exports=function(t,e){return i(t,e,"post")}},kxFB:function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},"l8+k":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return e?o(t):r(t)},e.detectStrongConnectComponents=e.detectConnectedComponents=void 0;var i=n("lSAc"),r=function(t){for(var e=t.nodes,n=void 0===e?[]:e,r=t.edges,o=void 0===r?[]:r,a=[],s={},l=[],u=function t(e){l.push(e),s[e.id]=!0;for(var r=(0,i.getNeighbors)(e.id,o),a=function(e){var i=r[e];if(!s[i]){var o=n.filter(function(t){return t.id===i});o.length>0&&t(o[0])}},u=0;u<r.length;++u)a(u)},c=0;c<n.length;c++){var h=n[c];if(!s[h.id]){u(h);for(var d=[];l.length>0;)d.push(l.pop());a.push(d)}}return a};e.detectConnectedComponents=r;var o=function(t){for(var e=t.nodes,n=void 0===e?[]:e,r=t.edges,o=void 0===r?[]:r,a=[],s={},l={},u={},c=[],h=0,d=function t(e){l[e.id]=h,u[e.id]=h,h+=1,a.push(e),s[e.id]=!0;for(var r=(0,i.getNeighbors)(e.id,o,"target").filter(function(t){return n.map(function(t){return t.id}).indexOf(t)>-1}),d=function(i){var o=r[i];if(l[o]||0===l[o])s[o]&&(u[e.id]=Math.min(u[e.id],l[o]));else{var a=n.filter(function(t){return t.id===o});a.length>0&&t(a[0]),u[e.id]=Math.min(u[e.id],u[o])}},f=0;f<r.length;f++)d(f);if(u[e.id]===l[e.id]){for(var p=[];a.length>0;){var g=a.pop();if(s[g.id]=!1,p.push(g),g===e)break}p.length>0&&c.push(p)}},f=0,p=n;f<p.length;f++){var g=p[f];l[g.id]||0===l[g.id]||d(g)}return c};e.detectStrongConnectComponents=o},lOnJ:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},lSAc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueId=e.getOutEdgesNodeId=e.getNeighbors=e.getEdgesByNodeId=void 0;e.getNeighbors=function(t,e,n){void 0===e&&(e=[]);var i=e.filter(function(e){return e.source===t||e.target===t});if("target"===n)return i.filter(function(e){return e.source===t}).map(function(t){return t.target});if("source"===n)return i.filter(function(e){return e.target===t}).map(function(t){return t.source});return i.map(function(e){return e.source===t?e.target:e.source})};e.getOutEdgesNodeId=function(t,e){return e.filter(function(e){return e.source===t})};e.getEdgesByNodeId=function(t,e){return e.filter(function(e){return e.source===t||e.target===t})};e.uniqueId=function(t){void 0===t&&(t=0);var e="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(t,"-").concat(e).concat(n)}},lT16:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postConstruct=void 0;var i=n("tuOO"),r=n("cEWm"),o=n("gNUp");e.postConstruct=function(){return function(t,e,n){var a=new o.Metadata(r.POST_CONSTRUCT,e);if(Reflect.hasOwnMetadata(r.POST_CONSTRUCT,t.constructor))throw new Error(i.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(r.POST_CONSTRUCT,a,t.constructor)}}},lVcC:function(t,e,n){"use strict";n.d(e,"a",function(){return w});var i=n("fKPv"),r=n.n(i),o=n("Z60a"),a=n.n(o),s=n("C9uT"),l=n.n(s),u=n("M1I4"),c=n.n(u),h=n("j/rp"),d=n.n(h),f=n("T/v0"),p=n.n(f),g=n("tNLN"),v=n.n(g),m=n("YVy+");function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=v()(t);if(e){var r=v()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var w=function(t){d()(n,t);var e=x(n);function n(t){var i;return a()(this,n),(i=e.call(this,t)).vertexShaderGLSL=void 0,i.fragmentShaderGLSL=void 0,i.defines={},i.dirty=!0,i.uniforms=[],i.cull={enable:!0,face:m.gl.BACK},i.depth={enable:!0},i.blend=void 0,i.entity=void 0,i.type=void 0,Object.assign(c()(i),t),i}return l()(n,[{key:"setDefines",value:function(t){return this.defines=b(b({},this.defines),t),this}},{key:"setCull",value:function(t){return this.cull=t,this}},{key:"setDepth",value:function(t){return this.depth=t,this}},{key:"setBlend",value:function(t){return this.blend=t,this}},{key:"setUniform",value:function(t,e){var n=this;if("string"!=typeof t)return Object.keys(t).forEach(function(e){return n.setUniform(e,t[e])}),this;var i=this.uniforms.find(function(e){return e.name===t});return i?(i.dirty=!0,i.data=e):this.uniforms.push({name:t,dirty:!0,data:e}),this.dirty=!0,this}}]),n}(n("J4xG").a)},lVvd:function(t,e,n){"use strict";var i={};n.d(i,"create",function(){return h}),n.d(i,"clone",function(){return d}),n.d(i,"copy",function(){return f}),n.d(i,"identity",function(){return p}),n.d(i,"fromValues",function(){return g}),n.d(i,"set",function(){return v}),n.d(i,"transpose",function(){return m}),n.d(i,"invert",function(){return y}),n.d(i,"adjoint",function(){return b}),n.d(i,"determinant",function(){return x}),n.d(i,"multiply",function(){return w}),n.d(i,"rotate",function(){return _}),n.d(i,"scale",function(){return S}),n.d(i,"fromRotation",function(){return M}),n.d(i,"fromScaling",function(){return C}),n.d(i,"str",function(){return I}),n.d(i,"frob",function(){return k}),n.d(i,"LDU",function(){return T}),n.d(i,"add",function(){return O}),n.d(i,"subtract",function(){return E}),n.d(i,"exactEquals",function(){return A}),n.d(i,"equals",function(){return N}),n.d(i,"multiplyScalar",function(){return L}),n.d(i,"multiplyScalarAndAdd",function(){return D}),n.d(i,"mul",function(){return j}),n.d(i,"sub",function(){return P});var r={};n.d(r,"create",function(){return R}),n.d(r,"clone",function(){return z}),n.d(r,"copy",function(){return B}),n.d(r,"identity",function(){return F}),n.d(r,"fromValues",function(){return G}),n.d(r,"set",function(){return V}),n.d(r,"invert",function(){return W}),n.d(r,"determinant",function(){return H}),n.d(r,"multiply",function(){return U}),n.d(r,"rotate",function(){return Y}),n.d(r,"scale",function(){return J}),n.d(r,"translate",function(){return Q}),n.d(r,"fromRotation",function(){return Z}),n.d(r,"fromScaling",function(){return $}),n.d(r,"fromTranslation",function(){return X}),n.d(r,"str",function(){return K}),n.d(r,"frob",function(){return q}),n.d(r,"add",function(){return tt}),n.d(r,"subtract",function(){return et}),n.d(r,"multiplyScalar",function(){return nt}),n.d(r,"multiplyScalarAndAdd",function(){return it}),n.d(r,"exactEquals",function(){return rt}),n.d(r,"equals",function(){return ot}),n.d(r,"mul",function(){return at}),n.d(r,"sub",function(){return st});var o={};n.d(o,"create",function(){return lt}),n.d(o,"fromMat4",function(){return ut}),n.d(o,"clone",function(){return ct}),n.d(o,"copy",function(){return ht}),n.d(o,"fromValues",function(){return dt}),n.d(o,"set",function(){return ft}),n.d(o,"identity",function(){return pt}),n.d(o,"transpose",function(){return gt}),n.d(o,"invert",function(){return vt}),n.d(o,"adjoint",function(){return mt}),n.d(o,"determinant",function(){return yt}),n.d(o,"multiply",function(){return bt}),n.d(o,"translate",function(){return xt}),n.d(o,"rotate",function(){return wt}),n.d(o,"scale",function(){return _t}),n.d(o,"fromTranslation",function(){return St}),n.d(o,"fromRotation",function(){return Mt}),n.d(o,"fromScaling",function(){return Ct}),n.d(o,"fromMat2d",function(){return It}),n.d(o,"fromQuat",function(){return kt}),n.d(o,"normalFromMat4",function(){return Tt}),n.d(o,"projection",function(){return Ot}),n.d(o,"str",function(){return Et}),n.d(o,"frob",function(){return At}),n.d(o,"add",function(){return Nt}),n.d(o,"subtract",function(){return Lt}),n.d(o,"multiplyScalar",function(){return Dt}),n.d(o,"multiplyScalarAndAdd",function(){return jt}),n.d(o,"exactEquals",function(){return Pt}),n.d(o,"equals",function(){return Rt}),n.d(o,"mul",function(){return zt}),n.d(o,"sub",function(){return Bt});var a={};n.d(a,"create",function(){return Ft}),n.d(a,"clone",function(){return Gt}),n.d(a,"copy",function(){return Vt}),n.d(a,"fromValues",function(){return Wt}),n.d(a,"set",function(){return Ht}),n.d(a,"identity",function(){return Ut}),n.d(a,"transpose",function(){return Yt}),n.d(a,"invert",function(){return Jt}),n.d(a,"adjoint",function(){return Qt}),n.d(a,"determinant",function(){return Zt}),n.d(a,"multiply",function(){return $t}),n.d(a,"translate",function(){return Xt}),n.d(a,"scale",function(){return Kt}),n.d(a,"rotate",function(){return qt}),n.d(a,"rotateX",function(){return te}),n.d(a,"rotateY",function(){return ee}),n.d(a,"rotateZ",function(){return ne}),n.d(a,"fromTranslation",function(){return ie}),n.d(a,"fromScaling",function(){return re}),n.d(a,"fromRotation",function(){return oe}),n.d(a,"fromXRotation",function(){return ae}),n.d(a,"fromYRotation",function(){return se}),n.d(a,"fromZRotation",function(){return le}),n.d(a,"fromRotationTranslation",function(){return ue}),n.d(a,"fromQuat2",function(){return ce}),n.d(a,"getTranslation",function(){return he}),n.d(a,"getScaling",function(){return de}),n.d(a,"getRotation",function(){return fe}),n.d(a,"fromRotationTranslationScale",function(){return pe}),n.d(a,"fromRotationTranslationScaleOrigin",function(){return ge}),n.d(a,"fromQuat",function(){return ve}),n.d(a,"frustum",function(){return me}),n.d(a,"perspectiveNO",function(){return ye}),n.d(a,"perspective",function(){return be}),n.d(a,"perspectiveZO",function(){return xe}),n.d(a,"perspectiveFromFieldOfView",function(){return we}),n.d(a,"orthoNO",function(){return _e}),n.d(a,"ortho",function(){return Se}),n.d(a,"orthoZO",function(){return Me}),n.d(a,"lookAt",function(){return Ce}),n.d(a,"targetTo",function(){return Ie}),n.d(a,"str",function(){return ke}),n.d(a,"frob",function(){return Te}),n.d(a,"add",function(){return Oe}),n.d(a,"subtract",function(){return Ee}),n.d(a,"multiplyScalar",function(){return Ae}),n.d(a,"multiplyScalarAndAdd",function(){return Ne}),n.d(a,"exactEquals",function(){return Le}),n.d(a,"equals",function(){return De}),n.d(a,"mul",function(){return je}),n.d(a,"sub",function(){return Pe});var s={};n.d(s,"create",function(){return ze}),n.d(s,"clone",function(){return Be}),n.d(s,"fromValues",function(){return Fe}),n.d(s,"copy",function(){return Ge}),n.d(s,"set",function(){return Ve}),n.d(s,"add",function(){return We}),n.d(s,"subtract",function(){return He}),n.d(s,"multiply",function(){return Ue}),n.d(s,"divide",function(){return Ye}),n.d(s,"ceil",function(){return Je}),n.d(s,"floor",function(){return Qe}),n.d(s,"min",function(){return Ze}),n.d(s,"max",function(){return $e}),n.d(s,"round",function(){return Xe}),n.d(s,"scale",function(){return Ke}),n.d(s,"scaleAndAdd",function(){return qe}),n.d(s,"distance",function(){return tn}),n.d(s,"squaredDistance",function(){return en}),n.d(s,"length",function(){return nn}),n.d(s,"squaredLength",function(){return rn}),n.d(s,"negate",function(){return on}),n.d(s,"inverse",function(){return an}),n.d(s,"normalize",function(){return sn}),n.d(s,"dot",function(){return ln}),n.d(s,"cross",function(){return un}),n.d(s,"lerp",function(){return cn}),n.d(s,"random",function(){return hn}),n.d(s,"transformMat4",function(){return dn}),n.d(s,"transformQuat",function(){return fn}),n.d(s,"zero",function(){return pn}),n.d(s,"str",function(){return gn}),n.d(s,"exactEquals",function(){return vn}),n.d(s,"equals",function(){return mn}),n.d(s,"sub",function(){return bn}),n.d(s,"mul",function(){return xn}),n.d(s,"div",function(){return wn}),n.d(s,"dist",function(){return _n}),n.d(s,"sqrDist",function(){return Sn}),n.d(s,"len",function(){return Mn}),n.d(s,"sqrLen",function(){return Cn}),n.d(s,"forEach",function(){return In});var l={};n.d(l,"create",function(){return kn}),n.d(l,"identity",function(){return Tn}),n.d(l,"setAxisAngle",function(){return On}),n.d(l,"getAxisAngle",function(){return En}),n.d(l,"getAngle",function(){return An}),n.d(l,"multiply",function(){return Nn}),n.d(l,"rotateX",function(){return Ln}),n.d(l,"rotateY",function(){return Dn}),n.d(l,"rotateZ",function(){return jn}),n.d(l,"calculateW",function(){return Pn}),n.d(l,"exp",function(){return Rn}),n.d(l,"ln",function(){return zn}),n.d(l,"pow",function(){return Bn}),n.d(l,"slerp",function(){return Fn}),n.d(l,"random",function(){return Gn}),n.d(l,"invert",function(){return Vn}),n.d(l,"conjugate",function(){return Wn}),n.d(l,"fromMat3",function(){return Hn}),n.d(l,"fromEuler",function(){return Un}),n.d(l,"str",function(){return Yn}),n.d(l,"clone",function(){return qn}),n.d(l,"fromValues",function(){return ti}),n.d(l,"copy",function(){return ei}),n.d(l,"set",function(){return ni}),n.d(l,"add",function(){return ii}),n.d(l,"mul",function(){return ri}),n.d(l,"scale",function(){return oi}),n.d(l,"dot",function(){return ai}),n.d(l,"lerp",function(){return si}),n.d(l,"length",function(){return li}),n.d(l,"len",function(){return ui}),n.d(l,"squaredLength",function(){return ci}),n.d(l,"sqrLen",function(){return hi}),n.d(l,"normalize",function(){return di}),n.d(l,"exactEquals",function(){return fi}),n.d(l,"equals",function(){return pi}),n.d(l,"rotationTo",function(){return gi}),n.d(l,"sqlerp",function(){return vi}),n.d(l,"setAxes",function(){return mi});var u={};n.d(u,"create",function(){return yi}),n.d(u,"clone",function(){return bi}),n.d(u,"fromValues",function(){return xi}),n.d(u,"fromRotationTranslationValues",function(){return wi}),n.d(u,"fromRotationTranslation",function(){return _i}),n.d(u,"fromTranslation",function(){return Si}),n.d(u,"fromRotation",function(){return Mi}),n.d(u,"fromMat4",function(){return Ci}),n.d(u,"copy",function(){return Ii}),n.d(u,"identity",function(){return ki}),n.d(u,"set",function(){return Ti}),n.d(u,"getReal",function(){return Oi}),n.d(u,"getDual",function(){return Ei}),n.d(u,"setReal",function(){return Ai}),n.d(u,"setDual",function(){return Ni}),n.d(u,"getTranslation",function(){return Li}),n.d(u,"translate",function(){return Di}),n.d(u,"rotateX",function(){return ji}),n.d(u,"rotateY",function(){return Pi}),n.d(u,"rotateZ",function(){return Ri}),n.d(u,"rotateByQuatAppend",function(){return zi}),n.d(u,"rotateByQuatPrepend",function(){return Bi}),n.d(u,"rotateAroundAxis",function(){return Fi}),n.d(u,"add",function(){return Gi}),n.d(u,"multiply",function(){return Vi}),n.d(u,"mul",function(){return Wi}),n.d(u,"scale",function(){return Hi}),n.d(u,"dot",function(){return Ui}),n.d(u,"lerp",function(){return Yi}),n.d(u,"invert",function(){return Ji}),n.d(u,"conjugate",function(){return Qi}),n.d(u,"length",function(){return Zi}),n.d(u,"len",function(){return $i}),n.d(u,"squaredLength",function(){return Xi}),n.d(u,"sqrLen",function(){return Ki}),n.d(u,"normalize",function(){return qi}),n.d(u,"str",function(){return tr}),n.d(u,"exactEquals",function(){return er}),n.d(u,"equals",function(){return nr});var c=n("NVY2");function h(){var t=new c.a(4);return c.a!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function d(t){var e=new c.a(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function f(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function p(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function g(t,e,n,i){var r=new c.a(4);return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}function v(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function m(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function y(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n*o-r*i;return a?(a=1/a,t[0]=o*a,t[1]=-i*a,t[2]=-r*a,t[3]=n*a,t):null}function b(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function x(t){return t[0]*t[3]-t[2]*t[1]}function w(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=i*s+o*l,t[1]=r*s+a*l,t[2]=i*u+o*c,t[3]=r*u+a*c,t}function _(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=i*l+o*s,t[1]=r*l+a*s,t[2]=i*-s+o*l,t[3]=r*-s+a*l,t}function S(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=n[0],l=n[1];return t[0]=i*s,t[1]=r*s,t[2]=o*l,t[3]=a*l,t}function M(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=-n,t[3]=i,t}function C(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function I(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function k(t){return Math.hypot(t[0],t[1],t[2],t[3])}function T(t,e,n,i){return t[2]=i[2]/i[0],n[0]=i[0],n[1]=i[1],n[3]=i[3]-t[2]*n[1],[t,e,n]}function O(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function E(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function A(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function N(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=e[0],s=e[1],l=e[2],u=e[3];return Math.abs(n-a)<=c.b*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=c.b*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-l)<=c.b*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-u)<=c.b*Math.max(1,Math.abs(o),Math.abs(u))}function L(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function D(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t}var j=w,P=E;function R(){var t=new c.a(6);return c.a!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function z(t){var e=new c.a(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function B(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function F(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function G(t,e,n,i,r,o){var a=new c.a(6);return a[0]=t,a[1]=e,a[2]=n,a[3]=i,a[4]=r,a[5]=o,a}function V(t,e,n,i,r,o,a){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t}function W(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=n*o-i*r;return l?(l=1/l,t[0]=o*l,t[1]=-i*l,t[2]=-r*l,t[3]=n*l,t[4]=(r*s-o*a)*l,t[5]=(i*a-n*s)*l,t):null}function H(t){return t[0]*t[3]-t[1]*t[2]}function U(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1],h=n[2],d=n[3],f=n[4],p=n[5];return t[0]=i*u+o*c,t[1]=r*u+a*c,t[2]=i*h+o*d,t[3]=r*h+a*d,t[4]=i*f+o*p+s,t[5]=r*f+a*p+l,t}function Y(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=Math.sin(n),c=Math.cos(n);return t[0]=i*c+o*u,t[1]=r*c+a*u,t[2]=i*-u+o*c,t[3]=r*-u+a*c,t[4]=s,t[5]=l,t}function J(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1];return t[0]=i*u,t[1]=r*u,t[2]=o*c,t[3]=a*c,t[4]=s,t[5]=l,t}function Q(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=i*u+o*c+s,t[5]=r*u+a*c+l,t}function Z(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=-n,t[3]=i,t[4]=0,t[5]=0,t}function $(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function X(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function K(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function q(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function tt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function et(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function nt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function it(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t[4]=e[4]+n[4]*i,t[5]=e[5]+n[5]*i,t}function rt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function ot(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=e[0],u=e[1],h=e[2],d=e[3],f=e[4],p=e[5];return Math.abs(n-l)<=c.b*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-u)<=c.b*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(r-h)<=c.b*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(o-d)<=c.b*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-f)<=c.b*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(s-p)<=c.b*Math.max(1,Math.abs(s),Math.abs(p))}var at=U,st=et;function lt(){var t=new c.a(9);return c.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function ut(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function ct(t){var e=new c.a(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function ht(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function dt(t,e,n,i,r,o,a,s,l){var u=new c.a(9);return u[0]=t,u[1]=e,u[2]=n,u[3]=i,u[4]=r,u[5]=o,u[6]=a,u[7]=s,u[8]=l,u}function ft(t,e,n,i,r,o,a,s,l,u){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t}function pt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function gt(t,e){if(t===e){var n=e[1],i=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function vt(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=c*a-s*u,d=-c*o+s*l,f=u*o-a*l,p=n*h+i*d+r*f;return p?(p=1/p,t[0]=h*p,t[1]=(-c*i+r*u)*p,t[2]=(s*i-r*a)*p,t[3]=d*p,t[4]=(c*n-r*l)*p,t[5]=(-s*n+r*o)*p,t[6]=f*p,t[7]=(-u*n+i*l)*p,t[8]=(a*n-i*o)*p,t):null}function mt(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t[0]=a*c-s*u,t[1]=r*u-i*c,t[2]=i*s-r*a,t[3]=s*l-o*c,t[4]=n*c-r*l,t[5]=r*o-n*s,t[6]=o*u-a*l,t[7]=i*l-n*u,t[8]=n*a-i*o,t}function yt(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*(u*o-a*l)+n*(-u*r+a*s)+i*(l*r-o*s)}function bt(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=n[0],f=n[1],p=n[2],g=n[3],v=n[4],m=n[5],y=n[6],b=n[7],x=n[8];return t[0]=d*i+f*a+p*u,t[1]=d*r+f*s+p*c,t[2]=d*o+f*l+p*h,t[3]=g*i+v*a+m*u,t[4]=g*r+v*s+m*c,t[5]=g*o+v*l+m*h,t[6]=y*i+b*a+x*u,t[7]=y*r+b*s+x*c,t[8]=y*o+b*l+x*h,t}function xt(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=n[0],f=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=d*i+f*a+u,t[7]=d*r+f*s+c,t[8]=d*o+f*l+h,t}function wt(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=Math.sin(n),f=Math.cos(n);return t[0]=f*i+d*a,t[1]=f*r+d*s,t[2]=f*o+d*l,t[3]=f*a-d*i,t[4]=f*s-d*r,t[5]=f*l-d*o,t[6]=u,t[7]=c,t[8]=h,t}function _t(t,e,n){var i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function St(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Mt(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ct(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function It(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function kt(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,s=i+i,l=r+r,u=n*a,c=i*a,h=i*s,d=r*a,f=r*s,p=r*l,g=o*a,v=o*s,m=o*l;return t[0]=1-h-p,t[3]=c-m,t[6]=d+v,t[1]=c+m,t[4]=1-u-p,t[7]=f-g,t[2]=d-v,t[5]=f+g,t[8]=1-u-h,t}function Tt(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],g=e[13],v=e[14],m=e[15],y=n*s-i*a,b=n*l-r*a,x=n*u-o*a,w=i*l-r*s,_=i*u-o*s,S=r*u-o*l,M=c*g-h*p,C=c*v-d*p,I=c*m-f*p,k=h*v-d*g,T=h*m-f*g,O=d*m-f*v,E=y*O-b*T+x*k+w*I-_*C+S*M;return E?(E=1/E,t[0]=(s*O-l*T+u*k)*E,t[1]=(l*I-a*O-u*C)*E,t[2]=(a*T-s*I+u*M)*E,t[3]=(r*T-i*O-o*k)*E,t[4]=(n*O-r*I+o*C)*E,t[5]=(i*I-n*T-o*M)*E,t[6]=(g*S-v*_+m*w)*E,t[7]=(v*x-p*S-m*b)*E,t[8]=(p*_-g*x+m*y)*E,t):null}function Ot(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Et(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function At(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Nt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function Lt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Dt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function jt(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t[4]=e[4]+n[4]*i,t[5]=e[5]+n[5]*i,t[6]=e[6]+n[6]*i,t[7]=e[7]+n[7]*i,t[8]=e[8]+n[8]*i,t}function Pt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Rt(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],h=t[8],d=e[0],f=e[1],p=e[2],g=e[3],v=e[4],m=e[5],y=e[6],b=e[7],x=e[8];return Math.abs(n-d)<=c.b*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-f)<=c.b*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(r-p)<=c.b*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(o-g)<=c.b*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(a-v)<=c.b*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-m)<=c.b*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(l-y)<=c.b*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(u-b)<=c.b*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(h-x)<=c.b*Math.max(1,Math.abs(h),Math.abs(x))}var zt=bt,Bt=Lt;function Ft(){var t=new c.a(16);return c.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Gt(t){var e=new c.a(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Vt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Wt(t,e,n,i,r,o,a,s,l,u,h,d,f,p,g,v){var m=new c.a(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=i,m[4]=r,m[5]=o,m[6]=a,m[7]=s,m[8]=l,m[9]=u,m[10]=h,m[11]=d,m[12]=f,m[13]=p,m[14]=g,m[15]=v,m}function Ht(t,e,n,i,r,o,a,s,l,u,c,h,d,f,p,g,v){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t[9]=c,t[10]=h,t[11]=d,t[12]=f,t[13]=p,t[14]=g,t[15]=v,t}function Ut(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Yt(t,e){if(t===e){var n=e[1],i=e[2],r=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=o,t[11]=e[14],t[12]=r,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Jt(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],g=e[13],v=e[14],m=e[15],y=n*s-i*a,b=n*l-r*a,x=n*u-o*a,w=i*l-r*s,_=i*u-o*s,S=r*u-o*l,M=c*g-h*p,C=c*v-d*p,I=c*m-f*p,k=h*v-d*g,T=h*m-f*g,O=d*m-f*v,E=y*O-b*T+x*k+w*I-_*C+S*M;return E?(E=1/E,t[0]=(s*O-l*T+u*k)*E,t[1]=(r*T-i*O-o*k)*E,t[2]=(g*S-v*_+m*w)*E,t[3]=(d*_-h*S-f*w)*E,t[4]=(l*I-a*O-u*C)*E,t[5]=(n*O-r*I+o*C)*E,t[6]=(v*x-p*S-m*b)*E,t[7]=(c*S-d*x+f*b)*E,t[8]=(a*T-s*I+u*M)*E,t[9]=(i*I-n*T-o*M)*E,t[10]=(p*_-g*x+m*y)*E,t[11]=(h*x-c*_-f*y)*E,t[12]=(s*C-a*k-l*M)*E,t[13]=(n*k-i*C+r*M)*E,t[14]=(g*b-p*w-v*y)*E,t[15]=(c*w-h*b+d*y)*E,t):null}function Qt(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],g=e[13],v=e[14],m=e[15];return t[0]=s*(d*m-f*v)-h*(l*m-u*v)+g*(l*f-u*d),t[1]=-(i*(d*m-f*v)-h*(r*m-o*v)+g*(r*f-o*d)),t[2]=i*(l*m-u*v)-s*(r*m-o*v)+g*(r*u-o*l),t[3]=-(i*(l*f-u*d)-s*(r*f-o*d)+h*(r*u-o*l)),t[4]=-(a*(d*m-f*v)-c*(l*m-u*v)+p*(l*f-u*d)),t[5]=n*(d*m-f*v)-c*(r*m-o*v)+p*(r*f-o*d),t[6]=-(n*(l*m-u*v)-a*(r*m-o*v)+p*(r*u-o*l)),t[7]=n*(l*f-u*d)-a*(r*f-o*d)+c*(r*u-o*l),t[8]=a*(h*m-f*g)-c*(s*m-u*g)+p*(s*f-u*h),t[9]=-(n*(h*m-f*g)-c*(i*m-o*g)+p*(i*f-o*h)),t[10]=n*(s*m-u*g)-a*(i*m-o*g)+p*(i*u-o*s),t[11]=-(n*(s*f-u*h)-a*(i*f-o*h)+c*(i*u-o*s)),t[12]=-(a*(h*v-d*g)-c*(s*v-l*g)+p*(s*d-l*h)),t[13]=n*(h*v-d*g)-c*(i*v-r*g)+p*(i*d-r*h),t[14]=-(n*(s*v-l*g)-a*(i*v-r*g)+p*(i*l-r*s)),t[15]=n*(s*d-l*h)-a*(i*d-r*h)+c*(i*l-r*s),t}function Zt(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11],f=t[12],p=t[13],g=t[14],v=t[15];return(e*a-n*o)*(h*v-d*g)-(e*s-i*o)*(c*v-d*p)+(e*l-r*o)*(c*g-h*p)+(n*s-i*a)*(u*v-d*f)-(n*l-r*a)*(u*g-h*f)+(i*l-r*s)*(u*p-c*f)}function $t(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=e[9],f=e[10],p=e[11],g=e[12],v=e[13],m=e[14],y=e[15],b=n[0],x=n[1],w=n[2],_=n[3];return t[0]=b*i+x*s+w*h+_*g,t[1]=b*r+x*l+w*d+_*v,t[2]=b*o+x*u+w*f+_*m,t[3]=b*a+x*c+w*p+_*y,b=n[4],x=n[5],w=n[6],_=n[7],t[4]=b*i+x*s+w*h+_*g,t[5]=b*r+x*l+w*d+_*v,t[6]=b*o+x*u+w*f+_*m,t[7]=b*a+x*c+w*p+_*y,b=n[8],x=n[9],w=n[10],_=n[11],t[8]=b*i+x*s+w*h+_*g,t[9]=b*r+x*l+w*d+_*v,t[10]=b*o+x*u+w*f+_*m,t[11]=b*a+x*c+w*p+_*y,b=n[12],x=n[13],w=n[14],_=n[15],t[12]=b*i+x*s+w*h+_*g,t[13]=b*r+x*l+w*d+_*v,t[14]=b*o+x*u+w*f+_*m,t[15]=b*a+x*c+w*p+_*y,t}function Xt(t,e,n){var i,r,o,a,s,l,u,c,h,d,f,p,g=n[0],v=n[1],m=n[2];return e===t?(t[12]=e[0]*g+e[4]*v+e[8]*m+e[12],t[13]=e[1]*g+e[5]*v+e[9]*m+e[13],t[14]=e[2]*g+e[6]*v+e[10]*m+e[14],t[15]=e[3]*g+e[7]*v+e[11]*m+e[15]):(i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=e[9],f=e[10],p=e[11],t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=d,t[10]=f,t[11]=p,t[12]=i*g+s*v+h*m+e[12],t[13]=r*g+l*v+d*m+e[13],t[14]=o*g+u*v+f*m+e[14],t[15]=a*g+c*v+p*m+e[15]),t}function Kt(t,e,n){var i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function qt(t,e,n,i){var r,o,a,s,l,u,h,d,f,p,g,v,m,y,b,x,w,_,S,M,C,I,k,T,O=i[0],E=i[1],A=i[2],N=Math.hypot(O,E,A);return N<c.b?null:(O*=N=1/N,E*=N,A*=N,r=Math.sin(n),a=1-(o=Math.cos(n)),s=e[0],l=e[1],u=e[2],h=e[3],d=e[4],f=e[5],p=e[6],g=e[7],v=e[8],m=e[9],y=e[10],b=e[11],x=O*O*a+o,w=E*O*a+A*r,_=A*O*a-E*r,S=O*E*a-A*r,M=E*E*a+o,C=A*E*a+O*r,I=O*A*a+E*r,k=E*A*a-O*r,T=A*A*a+o,t[0]=s*x+d*w+v*_,t[1]=l*x+f*w+m*_,t[2]=u*x+p*w+y*_,t[3]=h*x+g*w+b*_,t[4]=s*S+d*M+v*C,t[5]=l*S+f*M+m*C,t[6]=u*S+p*M+y*C,t[7]=h*S+g*M+b*C,t[8]=s*I+d*k+v*T,t[9]=l*I+f*k+m*T,t[10]=u*I+p*k+y*T,t[11]=h*I+g*k+b*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function te(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+u*i,t[5]=a*r+c*i,t[6]=s*r+h*i,t[7]=l*r+d*i,t[8]=u*r-o*i,t[9]=c*r-a*i,t[10]=h*r-s*i,t[11]=d*r-l*i,t}function ee(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],h=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r-u*i,t[1]=a*r-c*i,t[2]=s*r-h*i,t[3]=l*r-d*i,t[8]=o*i+u*r,t[9]=a*i+c*r,t[10]=s*i+h*r,t[11]=l*i+d*r,t}function ne(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],h=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+u*i,t[1]=a*r+c*i,t[2]=s*r+h*i,t[3]=l*r+d*i,t[4]=u*r-o*i,t[5]=c*r-a*i,t[6]=h*r-s*i,t[7]=d*r-l*i,t}function ie(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function re(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function oe(t,e,n){var i,r,o,a=n[0],s=n[1],l=n[2],u=Math.hypot(a,s,l);return u<c.b?null:(a*=u=1/u,s*=u,l*=u,i=Math.sin(e),o=1-(r=Math.cos(e)),t[0]=a*a*o+r,t[1]=s*a*o+l*i,t[2]=l*a*o-s*i,t[3]=0,t[4]=a*s*o-l*i,t[5]=s*s*o+r,t[6]=l*s*o+a*i,t[7]=0,t[8]=a*l*o+s*i,t[9]=s*l*o-a*i,t[10]=l*l*o+r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function ae(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function se(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function le(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ue(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=i+i,l=r+r,u=o+o,c=i*s,h=i*l,d=i*u,f=r*l,p=r*u,g=o*u,v=a*s,m=a*l,y=a*u;return t[0]=1-(f+g),t[1]=h+y,t[2]=d-m,t[3]=0,t[4]=h-y,t[5]=1-(c+g),t[6]=p+v,t[7]=0,t[8]=d+m,t[9]=p-v,t[10]=1-(c+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ce(t,e){var n=new c.a(3),i=-e[0],r=-e[1],o=-e[2],a=e[3],s=e[4],l=e[5],u=e[6],h=e[7],d=i*i+r*r+o*o+a*a;return d>0?(n[0]=2*(s*a+h*i+l*o-u*r)/d,n[1]=2*(l*a+h*r+u*i-s*o)/d,n[2]=2*(u*a+h*o+s*r-l*i)/d):(n[0]=2*(s*a+h*i+l*o-u*r),n[1]=2*(l*a+h*r+u*i-s*o),n[2]=2*(u*a+h*o+s*r-l*i)),ue(t,e,n),t}function he(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function de(t,e){var n=e[0],i=e[1],r=e[2],o=e[4],a=e[5],s=e[6],l=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(n,i,r),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(l,u,c),t}function fe(t,e){var n=new c.a(3);de(n,e);var i=1/n[0],r=1/n[1],o=1/n[2],a=e[0]*i,s=e[1]*r,l=e[2]*o,u=e[4]*i,h=e[5]*r,d=e[6]*o,f=e[8]*i,p=e[9]*r,g=e[10]*o,v=a+h+g,m=0;return v>0?(m=2*Math.sqrt(v+1),t[3]=.25*m,t[0]=(d-p)/m,t[1]=(f-l)/m,t[2]=(s-u)/m):a>h&&a>g?(m=2*Math.sqrt(1+a-h-g),t[3]=(d-p)/m,t[0]=.25*m,t[1]=(s+u)/m,t[2]=(f+l)/m):h>g?(m=2*Math.sqrt(1+h-a-g),t[3]=(f-l)/m,t[0]=(s+u)/m,t[1]=.25*m,t[2]=(d+p)/m):(m=2*Math.sqrt(1+g-a-h),t[3]=(s-u)/m,t[0]=(f+l)/m,t[1]=(d+p)/m,t[2]=.25*m),t}function pe(t,e,n,i){var r=e[0],o=e[1],a=e[2],s=e[3],l=r+r,u=o+o,c=a+a,h=r*l,d=r*u,f=r*c,p=o*u,g=o*c,v=a*c,m=s*l,y=s*u,b=s*c,x=i[0],w=i[1],_=i[2];return t[0]=(1-(p+v))*x,t[1]=(d+b)*x,t[2]=(f-y)*x,t[3]=0,t[4]=(d-b)*w,t[5]=(1-(h+v))*w,t[6]=(g+m)*w,t[7]=0,t[8]=(f+y)*_,t[9]=(g-m)*_,t[10]=(1-(h+p))*_,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ge(t,e,n,i,r){var o=e[0],a=e[1],s=e[2],l=e[3],u=o+o,c=a+a,h=s+s,d=o*u,f=o*c,p=o*h,g=a*c,v=a*h,m=s*h,y=l*u,b=l*c,x=l*h,w=i[0],_=i[1],S=i[2],M=r[0],C=r[1],I=r[2],k=(1-(g+m))*w,T=(f+x)*w,O=(p-b)*w,E=(f-x)*_,A=(1-(d+m))*_,N=(v+y)*_,L=(p+b)*S,D=(v-y)*S,j=(1-(d+g))*S;return t[0]=k,t[1]=T,t[2]=O,t[3]=0,t[4]=E,t[5]=A,t[6]=N,t[7]=0,t[8]=L,t[9]=D,t[10]=j,t[11]=0,t[12]=n[0]+M-(k*M+E*C+L*I),t[13]=n[1]+C-(T*M+A*C+D*I),t[14]=n[2]+I-(O*M+N*C+j*I),t[15]=1,t}function ve(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,s=i+i,l=r+r,u=n*a,c=i*a,h=i*s,d=r*a,f=r*s,p=r*l,g=o*a,v=o*s,m=o*l;return t[0]=1-h-p,t[1]=c+m,t[2]=d-v,t[3]=0,t[4]=c-m,t[5]=1-u-p,t[6]=f+g,t[7]=0,t[8]=d+v,t[9]=f-g,t[10]=1-u-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function me(t,e,n,i,r,o,a){var s=1/(n-e),l=1/(r-i),u=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(r+i)*l,t[10]=(a+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*u,t[15]=0,t}function ye(t,e,n,i,r){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(o=1/(i-r),t[10]=(r+i)*o,t[14]=2*r*i*o):(t[10]=-1,t[14]=-2*i),t}var be=ye;function xe(t,e,n,i,r){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(o=1/(i-r),t[10]=r*o,t[14]=r*i*o):(t[10]=-1,t[14]=-i),t}function we(t,e,n,i){var r=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(r+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(a-s)*l*.5,t[9]=(r-o)*u*.5,t[10]=i/(n-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*n/(n-i),t[15]=0,t}function _e(t,e,n,i,r,o,a){var s=1/(e-n),l=1/(i-r),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(r+i)*l,t[14]=(a+o)*u,t[15]=1,t}var Se=_e;function Me(t,e,n,i,r,o,a){var s=1/(e-n),l=1/(i-r),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=u,t[11]=0,t[12]=(e+n)*s,t[13]=(r+i)*l,t[14]=o*u,t[15]=1,t}function Ce(t,e,n,i){var r,o,a,s,l,u,h,d,f,p,g=e[0],v=e[1],m=e[2],y=i[0],b=i[1],x=i[2],w=n[0],_=n[1],S=n[2];return Math.abs(g-w)<c.b&&Math.abs(v-_)<c.b&&Math.abs(m-S)<c.b?Ut(t):(h=g-w,d=v-_,f=m-S,r=b*(f*=p=1/Math.hypot(h,d,f))-x*(d*=p),o=x*(h*=p)-y*f,a=y*d-b*h,(p=Math.hypot(r,o,a))?(r*=p=1/p,o*=p,a*=p):(r=0,o=0,a=0),s=d*a-f*o,l=f*r-h*a,u=h*o-d*r,(p=Math.hypot(s,l,u))?(s*=p=1/p,l*=p,u*=p):(s=0,l=0,u=0),t[0]=r,t[1]=s,t[2]=h,t[3]=0,t[4]=o,t[5]=l,t[6]=d,t[7]=0,t[8]=a,t[9]=u,t[10]=f,t[11]=0,t[12]=-(r*g+o*v+a*m),t[13]=-(s*g+l*v+u*m),t[14]=-(h*g+d*v+f*m),t[15]=1,t)}function Ie(t,e,n,i){var r=e[0],o=e[1],a=e[2],s=i[0],l=i[1],u=i[2],c=r-n[0],h=o-n[1],d=a-n[2],f=c*c+h*h+d*d;f>0&&(c*=f=1/Math.sqrt(f),h*=f,d*=f);var p=l*d-u*h,g=u*c-s*d,v=s*h-l*c;return(f=p*p+g*g+v*v)>0&&(p*=f=1/Math.sqrt(f),g*=f,v*=f),t[0]=p,t[1]=g,t[2]=v,t[3]=0,t[4]=h*v-d*g,t[5]=d*p-c*v,t[6]=c*g-h*p,t[7]=0,t[8]=c,t[9]=h,t[10]=d,t[11]=0,t[12]=r,t[13]=o,t[14]=a,t[15]=1,t}function ke(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Te(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Oe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Ee(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Ae(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Ne(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t[4]=e[4]+n[4]*i,t[5]=e[5]+n[5]*i,t[6]=e[6]+n[6]*i,t[7]=e[7]+n[7]*i,t[8]=e[8]+n[8]*i,t[9]=e[9]+n[9]*i,t[10]=e[10]+n[10]*i,t[11]=e[11]+n[11]*i,t[12]=e[12]+n[12]*i,t[13]=e[13]+n[13]*i,t[14]=e[14]+n[14]*i,t[15]=e[15]+n[15]*i,t}function Le(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function De(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],h=t[8],d=t[9],f=t[10],p=t[11],g=t[12],v=t[13],m=t[14],y=t[15],b=e[0],x=e[1],w=e[2],_=e[3],S=e[4],M=e[5],C=e[6],I=e[7],k=e[8],T=e[9],O=e[10],E=e[11],A=e[12],N=e[13],L=e[14],D=e[15];return Math.abs(n-b)<=c.b*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-x)<=c.b*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(r-w)<=c.b*Math.max(1,Math.abs(r),Math.abs(w))&&Math.abs(o-_)<=c.b*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(a-S)<=c.b*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(s-M)<=c.b*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(l-C)<=c.b*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(u-I)<=c.b*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(h-k)<=c.b*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(d-T)<=c.b*Math.max(1,Math.abs(d),Math.abs(T))&&Math.abs(f-O)<=c.b*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(p-E)<=c.b*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(g-A)<=c.b*Math.max(1,Math.abs(g),Math.abs(A))&&Math.abs(v-N)<=c.b*Math.max(1,Math.abs(v),Math.abs(N))&&Math.abs(m-L)<=c.b*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(y-D)<=c.b*Math.max(1,Math.abs(y),Math.abs(D))}var je=$t,Pe=Ee,Re=n("YPq+");function ze(){var t=new c.a(4);return c.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Be(t){var e=new c.a(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Fe(t,e,n,i){var r=new c.a(4);return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}function Ge(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Ve(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function We(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function He(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function Ue(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function Ye(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function Je(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Qe(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Ze(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function $e(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function Xe(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Ke(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function qe(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t}function tn(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return Math.hypot(n,i,r,o)}function en(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return n*n+i*i+r*r+o*o}function nn(t){var e=t[0],n=t[1],i=t[2],r=t[3];return Math.hypot(e,n,i,r)}function rn(t){var e=t[0],n=t[1],i=t[2],r=t[3];return e*e+n*n+i*i+r*r}function on(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function an(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function sn(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n*n+i*i+r*r+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=i*a,t[2]=r*a,t[3]=o*a,t}function ln(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function un(t,e,n,i){var r=n[0]*i[1]-n[1]*i[0],o=n[0]*i[2]-n[2]*i[0],a=n[0]*i[3]-n[3]*i[0],s=n[1]*i[2]-n[2]*i[1],l=n[1]*i[3]-n[3]*i[1],u=n[2]*i[3]-n[3]*i[2],c=e[0],h=e[1],d=e[2],f=e[3];return t[0]=h*u-d*l+f*s,t[1]=-c*u+d*a-f*o,t[2]=c*l-h*a+f*r,t[3]=-c*s+h*o-d*r,t}function cn(t,e,n,i){var r=e[0],o=e[1],a=e[2],s=e[3];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t[3]=s+i*(n[3]-s),t}function hn(t,e){var n,i,r,o,a,s;e=e||1;do{a=(n=2*c.c()-1)*n+(i=2*c.c()-1)*i}while(a>=1);do{s=(r=2*c.c()-1)*r+(o=2*c.c()-1)*o}while(s>=1);var l=Math.sqrt((1-a)/s);return t[0]=e*n,t[1]=e*i,t[2]=e*r*l,t[3]=e*o*l,t}function dn(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3];return t[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*a,t[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*a,t[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*a,t[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*a,t}function fn(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*i+s*o-l*r,h=u*r+l*i-a*o,d=u*o+a*r-s*i,f=-a*i-s*r-l*o;return t[0]=c*u+f*-a+h*-l-d*-s,t[1]=h*u+f*-s+d*-a-c*-l,t[2]=d*u+f*-l+c*-s-h*-a,t[3]=e[3],t}function pn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function gn(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function vn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function mn(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=e[0],s=e[1],l=e[2],u=e[3];return Math.abs(n-a)<=c.b*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=c.b*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-l)<=c.b*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-u)<=c.b*Math.max(1,Math.abs(o),Math.abs(u))}var yn,bn=He,xn=Ue,wn=Ye,_n=tn,Sn=en,Mn=nn,Cn=rn,In=(yn=ze(),function(t,e,n,i,r,o){var a,s;for(e||(e=4),n||(n=0),s=i?Math.min(i*e+n,t.length):t.length,a=n;a<s;a+=e)yn[0]=t[a],yn[1]=t[a+1],yn[2]=t[a+2],yn[3]=t[a+3],r(yn,yn,o),t[a]=yn[0],t[a+1]=yn[1],t[a+2]=yn[2],t[a+3]=yn[3];return t});function kn(){var t=new c.a(4);return c.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Tn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function On(t,e,n){n*=.5;var i=Math.sin(n);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(n),t}function En(t,e){var n=2*Math.acos(e[3]),i=Math.sin(n/2);return i>c.b?(t[0]=e[0]/i,t[1]=e[1]/i,t[2]=e[2]/i):(t[0]=1,t[1]=0,t[2]=0),n}function An(t,e){var n=ai(t,e);return Math.acos(2*n*n-1)}function Nn(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=i*c+a*s+r*u-o*l,t[1]=r*c+a*l+o*s-i*u,t[2]=o*c+a*u+i*l-r*s,t[3]=a*c-i*s-r*l-o*u,t}function Ln(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=i*l+a*s,t[1]=r*l+o*s,t[2]=o*l-r*s,t[3]=a*l-i*s,t}function Dn(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=i*l-o*s,t[1]=r*l+a*s,t[2]=o*l+i*s,t[3]=a*l-r*s,t}function jn(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=i*l+r*s,t[1]=r*l-i*s,t[2]=o*l+a*s,t[3]=a*l-o*s,t}function Pn(t,e){var n=e[0],i=e[1],r=e[2];return t[0]=n,t[1]=i,t[2]=r,t[3]=Math.sqrt(Math.abs(1-n*n-i*i-r*r)),t}function Rn(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=Math.sqrt(n*n+i*i+r*r),s=Math.exp(o),l=a>0?s*Math.sin(a)/a:0;return t[0]=n*l,t[1]=i*l,t[2]=r*l,t[3]=s*Math.cos(a),t}function zn(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=Math.sqrt(n*n+i*i+r*r),s=a>0?Math.atan2(a,o)/a:0;return t[0]=n*s,t[1]=i*s,t[2]=r*s,t[3]=.5*Math.log(n*n+i*i+r*r+o*o),t}function Bn(t,e,n){return zn(t,e),oi(t,t,n),Rn(t,t),t}function Fn(t,e,n,i){var r,o,a,s,l,u=e[0],h=e[1],d=e[2],f=e[3],p=n[0],g=n[1],v=n[2],m=n[3];return(o=u*p+h*g+d*v+f*m)<0&&(o=-o,p=-p,g=-g,v=-v,m=-m),1-o>c.b?(r=Math.acos(o),a=Math.sin(r),s=Math.sin((1-i)*r)/a,l=Math.sin(i*r)/a):(s=1-i,l=i),t[0]=s*u+l*p,t[1]=s*h+l*g,t[2]=s*d+l*v,t[3]=s*f+l*m,t}function Gn(t){var e=c.c(),n=c.c(),i=c.c(),r=Math.sqrt(1-e),o=Math.sqrt(e);return t[0]=r*Math.sin(2*Math.PI*n),t[1]=r*Math.cos(2*Math.PI*n),t[2]=o*Math.sin(2*Math.PI*i),t[3]=o*Math.cos(2*Math.PI*i),t}function Vn(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n*n+i*i+r*r+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-i*s,t[2]=-r*s,t[3]=o*s,t}function Wn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Hn(t,e){var n,i=e[0]+e[4]+e[8];if(i>0)n=Math.sqrt(i+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var o=(r+1)%3,a=(r+2)%3;n=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*a+a]+1),t[r]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+r]+e[3*r+o])*n,t[a]=(e[3*a+r]+e[3*r+a])*n}return t}function Un(t,e,n,i){var r=.5*Math.PI/180;e*=r,n*=r,i*=r;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),l=Math.cos(n),u=Math.sin(i),c=Math.cos(i);return t[0]=o*l*c-a*s*u,t[1]=a*s*c+o*l*u,t[2]=a*l*u-o*s*c,t[3]=a*l*c+o*s*u,t}function Yn(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Jn,Qn,Zn,$n,Xn,Kn,qn=Be,ti=Fe,ei=Ge,ni=Ve,ii=We,ri=Nn,oi=Ke,ai=ln,si=cn,li=nn,ui=li,ci=rn,hi=ci,di=sn,fi=vn,pi=mn,gi=(Jn=Re.create(),Qn=Re.fromValues(1,0,0),Zn=Re.fromValues(0,1,0),function(t,e,n){var i=Re.dot(e,n);return i<-.999999?(Re.cross(Jn,Qn,e),Re.len(Jn)<1e-6&&Re.cross(Jn,Zn,e),Re.normalize(Jn,Jn),On(t,Jn,Math.PI),t):i>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(Re.cross(Jn,e,n),t[0]=Jn[0],t[1]=Jn[1],t[2]=Jn[2],t[3]=1+i,di(t,t))}),vi=($n=kn(),Xn=kn(),function(t,e,n,i,r,o){return Fn($n,e,r,o),Fn(Xn,n,i,o),Fn(t,$n,Xn,2*o*(1-o)),t}),mi=(Kn=lt(),function(t,e,n,i){return Kn[0]=n[0],Kn[3]=n[1],Kn[6]=n[2],Kn[1]=i[0],Kn[4]=i[1],Kn[7]=i[2],Kn[2]=-e[0],Kn[5]=-e[1],Kn[8]=-e[2],di(t,Hn(t,Kn))});function yi(){var t=new c.a(8);return c.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function bi(t){var e=new c.a(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function xi(t,e,n,i,r,o,a,s){var l=new c.a(8);return l[0]=t,l[1]=e,l[2]=n,l[3]=i,l[4]=r,l[5]=o,l[6]=a,l[7]=s,l}function wi(t,e,n,i,r,o,a){var s=new c.a(8);s[0]=t,s[1]=e,s[2]=n,s[3]=i;var l=.5*r,u=.5*o,h=.5*a;return s[4]=l*i+u*n-h*e,s[5]=u*i+h*t-l*n,s[6]=h*i+l*e-u*t,s[7]=-l*t-u*e-h*n,s}function _i(t,e,n){var i=.5*n[0],r=.5*n[1],o=.5*n[2],a=e[0],s=e[1],l=e[2],u=e[3];return t[0]=a,t[1]=s,t[2]=l,t[3]=u,t[4]=i*u+r*l-o*s,t[5]=r*u+o*a-i*l,t[6]=o*u+i*s-r*a,t[7]=-i*a-r*s-o*l,t}function Si(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function Mi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Ci(t,e){var n=kn();fe(n,e);var i=new c.a(3);return he(i,e),_i(t,n,i),t}function Ii(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function ki(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Ti(t,e,n,i,r,o,a,s,l){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t}var Oi=ei;function Ei(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var Ai=ei;function Ni(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function Li(t,e){var n=e[4],i=e[5],r=e[6],o=e[7],a=-e[0],s=-e[1],l=-e[2],u=e[3];return t[0]=2*(n*u+o*a+i*l-r*s),t[1]=2*(i*u+o*s+r*a-n*l),t[2]=2*(r*u+o*l+n*s-i*a),t}function Di(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=.5*n[0],l=.5*n[1],u=.5*n[2],c=e[4],h=e[5],d=e[6],f=e[7];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=a*s+r*u-o*l+c,t[5]=a*l+o*s-i*u+h,t[6]=a*u+i*l-r*s+d,t[7]=-i*s-r*l-o*u+f,t}function ji(t,e,n){var i=-e[0],r=-e[1],o=-e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=s*a+c*i+l*o-u*r,d=l*a+c*r+u*i-s*o,f=u*a+c*o+s*r-l*i,p=c*a-s*i-l*r-u*o;return Ln(t,e,n),i=t[0],r=t[1],o=t[2],a=t[3],t[4]=h*a+p*i+d*o-f*r,t[5]=d*a+p*r+f*i-h*o,t[6]=f*a+p*o+h*r-d*i,t[7]=p*a-h*i-d*r-f*o,t}function Pi(t,e,n){var i=-e[0],r=-e[1],o=-e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=s*a+c*i+l*o-u*r,d=l*a+c*r+u*i-s*o,f=u*a+c*o+s*r-l*i,p=c*a-s*i-l*r-u*o;return Dn(t,e,n),i=t[0],r=t[1],o=t[2],a=t[3],t[4]=h*a+p*i+d*o-f*r,t[5]=d*a+p*r+f*i-h*o,t[6]=f*a+p*o+h*r-d*i,t[7]=p*a-h*i-d*r-f*o,t}function Ri(t,e,n){var i=-e[0],r=-e[1],o=-e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=s*a+c*i+l*o-u*r,d=l*a+c*r+u*i-s*o,f=u*a+c*o+s*r-l*i,p=c*a-s*i-l*r-u*o;return jn(t,e,n),i=t[0],r=t[1],o=t[2],a=t[3],t[4]=h*a+p*i+d*o-f*r,t[5]=d*a+p*r+f*i-h*o,t[6]=f*a+p*o+h*r-d*i,t[7]=p*a-h*i-d*r-f*o,t}function zi(t,e,n){var i=n[0],r=n[1],o=n[2],a=n[3],s=e[0],l=e[1],u=e[2],c=e[3];return t[0]=s*a+c*i+l*o-u*r,t[1]=l*a+c*r+u*i-s*o,t[2]=u*a+c*o+s*r-l*i,t[3]=c*a-s*i-l*r-u*o,s=e[4],l=e[5],u=e[6],c=e[7],t[4]=s*a+c*i+l*o-u*r,t[5]=l*a+c*r+u*i-s*o,t[6]=u*a+c*o+s*r-l*i,t[7]=c*a-s*i-l*r-u*o,t}function Bi(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=i*c+a*s+r*u-o*l,t[1]=r*c+a*l+o*s-i*u,t[2]=o*c+a*u+i*l-r*s,t[3]=a*c-i*s-r*l-o*u,s=n[4],l=n[5],u=n[6],c=n[7],t[4]=i*c+a*s+r*u-o*l,t[5]=r*c+a*l+o*s-i*u,t[6]=o*c+a*u+i*l-r*s,t[7]=a*c-i*s-r*l-o*u,t}function Fi(t,e,n,i){if(Math.abs(i)<c.b)return Ii(t,e);var r=Math.hypot(n[0],n[1],n[2]);i*=.5;var o=Math.sin(i),a=o*n[0]/r,s=o*n[1]/r,l=o*n[2]/r,u=Math.cos(i),h=e[0],d=e[1],f=e[2],p=e[3];t[0]=h*u+p*a+d*l-f*s,t[1]=d*u+p*s+f*a-h*l,t[2]=f*u+p*l+h*s-d*a,t[3]=p*u-h*a-d*s-f*l;var g=e[4],v=e[5],m=e[6],y=e[7];return t[4]=g*u+y*a+v*l-m*s,t[5]=v*u+y*s+m*a-g*l,t[6]=m*u+y*l+g*s-v*a,t[7]=y*u-g*a-v*s-m*l,t}function Gi(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function Vi(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=n[4],l=n[5],u=n[6],c=n[7],h=e[4],d=e[5],f=e[6],p=e[7],g=n[0],v=n[1],m=n[2],y=n[3];return t[0]=i*y+a*g+r*m-o*v,t[1]=r*y+a*v+o*g-i*m,t[2]=o*y+a*m+i*v-r*g,t[3]=a*y-i*g-r*v-o*m,t[4]=i*c+a*s+r*u-o*l+h*y+p*g+d*m-f*v,t[5]=r*c+a*l+o*s-i*u+d*y+p*v+f*g-h*m,t[6]=o*c+a*u+i*l-r*s+f*y+p*m+h*v-d*g,t[7]=a*c-i*s-r*l-o*u+p*y-h*g-d*v-f*m,t}var Wi=Vi;function Hi(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}var Ui=ai;function Yi(t,e,n,i){var r=1-i;return Ui(e,n)<0&&(i=-i),t[0]=e[0]*r+n[0]*i,t[1]=e[1]*r+n[1]*i,t[2]=e[2]*r+n[2]*i,t[3]=e[3]*r+n[3]*i,t[4]=e[4]*r+n[4]*i,t[5]=e[5]*r+n[5]*i,t[6]=e[6]*r+n[6]*i,t[7]=e[7]*r+n[7]*i,t}function Ji(t,e){var n=Xi(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function Qi(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var Zi=li,$i=Zi,Xi=ci,Ki=Xi;function qi(t,e){var n=Xi(e);if(n>0){n=Math.sqrt(n);var i=e[0]/n,r=e[1]/n,o=e[2]/n,a=e[3]/n,s=e[4],l=e[5],u=e[6],c=e[7],h=i*s+r*l+o*u+a*c;t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=(s-i*h)/n,t[5]=(l-r*h)/n,t[6]=(u-o*h)/n,t[7]=(c-a*h)/n}return t}function tr(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function er(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function nr(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],h=e[0],d=e[1],f=e[2],p=e[3],g=e[4],v=e[5],m=e[6],y=e[7];return Math.abs(n-h)<=c.b*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-d)<=c.b*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(r-f)<=c.b*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(o-p)<=c.b*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=c.b*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=c.b*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(l-m)<=c.b*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(u-y)<=c.b*Math.max(1,Math.abs(u),Math.abs(y))}var ir=n("SEFl");n.d(e,!1,function(){return c}),n.d(e,!1,function(){return i}),n.d(e,!1,function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return l}),n.d(e,!1,function(){return u}),n.d(e,"d",function(){return ir}),n.d(e,"e",function(){return Re}),n.d(e,"f",function(){return s})},lWfR:function(t,e,n){t.exports=n("hV/S")},lktj:function(t,e,n){var i=n("Ibhu"),r=n("xnc9");t.exports=Object.keys||function(t){return i(t,r)}},lljM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n("Jsh2"))&&i.__esModule?i:{default:i},o=n("lSAc");var a=function(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===i&&(i=1e3);var a=t.nodes,s=void 0===a?[]:a,l=t.edges,u=void 0===l?[]:l,c={},h={};s.forEach(function(t,e){var n=(0,o.uniqueId)();t.clusterId=n,c[n]={id:n,nodes:[t]},h[t.id]={node:t,idx:e}});var d=[],f={};(0,r.default)(t,e).forEach(function(t,e){var n=0,i=s[e].id;f[i]={},t.forEach(function(t,e){if(t){n+=t;var r=s[e].id;f[i][r]=t}}),d.push(n)});for(var p=0,g=function(){var t=!1;if(s.forEach(function(e){var n={};Object.keys(f[e.id]).forEach(function(t){var i=f[e.id][t],r=h[t].node.clusterId;n[r]||(n[r]=0),n[r]+=i});var i=-1/0,r=[];if(Object.keys(n).forEach(function(t){i<n[t]?(i=n[t],r=[t]):i===n[t]&&r.push(t)}),1!==r.length||r[0]!==e.clusterId){var o=r.indexOf(e.clusterId);if(o>=0&&r.splice(o,1),r&&r.length){t=!0;var a=c[e.clusterId],s=a.nodes.indexOf(e);a.nodes.splice(s,1);var l=Math.floor(Math.random()*r.length),u=c[r[l]];u.nodes.push(e),e.clusterId=u.id}}}),!t)return"break";p++};p<i&&"break"!==g(););Object.keys(c).forEach(function(t){var e=c[t];e.nodes&&e.nodes.length||delete c[t]});var v=[],m={};u.forEach(function(t){var e=t.source,i=t.target,r=t[n]||1,o=h[e].node.clusterId,a=h[i].node.clusterId,s="".concat(o,"---").concat(a);if(m[s])m[s].weight+=r,m[s].count++;else{var l={source:o,target:a,weight:r,count:1};m[s]=l,v.push(l)}});var y=[];return Object.keys(c).forEach(function(t){y.push(c[t])}),{clusters:y,clusterEdges:v}};e.default=a},mClu:function(t,e,n){var i=n("kM2E");i(i.S+i.F*!n("+E39"),"Object",{defineProperty:n("evD5").f})},msXi:function(t,e,n){var i=n("77Pl");t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},mtWM:function(t,e,n){t.exports=n("tIFN")},mvHQ:function(t,e,n){t.exports={default:n("qkKv"),__esModule:!0}},mzs6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lookup=void 0;var i=n("tuOO"),r=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,e){if(null===t||void 0===t)throw new Error(i.NULL_ARGUMENT);if(null===e||void 0===e)throw new Error(i.NULL_ARGUMENT);var n=this._map.get(t);void 0!==n?(n.push(e),this._map.set(t,n)):this._map.set(t,[e])},t.prototype.get=function(t){if(null===t||void 0===t)throw new Error(i.NULL_ARGUMENT);var e=this._map.get(t);if(void 0!==e)return e;throw new Error(i.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null===t||void 0===t)throw new Error(i.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(i.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(t){var e=this;this._map.forEach(function(n,i){var r=n.filter(function(e){return!t(e)});r.length>0?e._map.set(i,r):e._map.delete(i)})},t.prototype.hasKey=function(t){if(null===t||void 0===t)throw new Error(i.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(t,n){t.forEach(function(t){return e.add(n,t.clone())})}),e},t.prototype.traverse=function(t){this._map.forEach(function(e,n){t(n,e)})},t}();e.Lookup=r},n0T6:function(t,e,n){var i=n("Ibhu"),r=n("xnc9").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},ncSy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("5eO5"),r=function(){function t(t){this.arr=t}return t.prototype.getArr=function(){return this.arr||[]},t.prototype.add=function(e){var n,i=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(i);if(!(null===i||void 0===i?void 0:i.length))return new t(this.arr);if(this.arr.length===i.length){var r=[];for(var o in this.arr)r[o]=this.arr[o]+i[o];return new t(r)}},t.prototype.subtract=function(e){var n,i=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(i);if(!(null===i||void 0===i?void 0:i.length))return new t(this.arr);if(this.arr.length===i.length){var r=[];for(var o in this.arr)r[o]=this.arr[o]-i[o];return new t(r)}},t.prototype.avg=function(e){var n=[];if(0!==e)for(var i in this.arr)n[i]=this.arr[i]/e;return new t(n)},t.prototype.negate=function(){var e=[];for(var n in this.arr)e[n]=-this.arr[n];return new t(e)},t.prototype.squareEuclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var i=0;for(var r in this.arr)i+=Math.pow(this.arr[r]-t.arr[r],2);return i}},t.prototype.euclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var i=0;for(var r in this.arr)i+=Math.pow(this.arr[r]-t.arr[r],2);return Math.sqrt(i)}console.error("The two vectors are unequal in length.")},t.prototype.normalize=function(){var e=[],n=(0,i.clone)(this.arr);n.sort(function(t,e){return t-e});var r=n[n.length-1],o=n[0];for(var a in this.arr)e[a]=(this.arr[a]-o)/(r-o);return new t(e)},t.prototype.norm2=function(){var t;if(!(null===(t=this.arr)||void 0===t?void 0:t.length))return 0;var e=0;for(var n in this.arr)e+=Math.pow(this.arr[n],2);return Math.sqrt(e)},t.prototype.dot=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var i=0;for(var r in this.arr)i+=this.arr[r]*t.arr[r];return i}console.error("The two vectors are unequal in length.")},t.prototype.equal=function(t){var e,n=t.arr;if((null===(e=this.arr)||void 0===e?void 0:e.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var i in this.arr)if(this.arr[i]!==n[i])return!1;return!0},t}();e.default=r},njfc:function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]}},"o/zv":function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return e=n(i(e.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var o=e.isAbsolute(t),a="/"===r(t,-1);return(t=n(i(t.split("/"),function(t){return!!t}),!o).join("/"))||o||(t="."),t&&a&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var r=i(t.split("/")),o=i(n.split("/")),a=Math.min(r.length,o.length),s=a,l=0;l<a;l++)if(r[l]!==o[l]){s=l;break}var u=[];for(l=s;l<r.length;l++)u.push("..");return(u=u.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,i=-1,r=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":t.slice(0,i)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,i=-1,r=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!r){n=e+1;break}}else-1===i&&(r=!1,i=e+1);return-1===i?"":t.slice(n,i)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,i=-1,r=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===i&&(r=!1,i=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!r){n=a+1;break}}return-1===e||-1===i||0===o||1===o&&e===i-1&&e===n+1?"":t.slice(e,i)};var r="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(e,n("W2nU"))},o2t7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};n.d(i,"Base",function(){return h}),n.d(i,"Circle",function(){return f}),n.d(i,"Dom",function(){return p}),n.d(i,"Ellipse",function(){return g}),n.d(i,"Image",function(){return v}),n.d(i,"Line",function(){return y}),n.d(i,"Marker",function(){return w}),n.d(i,"Path",function(){return _}),n.d(i,"Polygon",function(){return S}),n.d(i,"Polyline",function(){return M}),n.d(i,"Rect",function(){return C}),n.d(i,"Text",function(){return E});var r=n("TToO"),o=n("i6H2"),a=n("IpCj"),s=n("8ALn"),l=n("qNZ/"),u=n("85Et"),c=n("iaRc"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.draw(i,e)}},e.prototype.getShapeBase=function(){return i},e.prototype.getGroupBase=function(){return c.a},e.prototype.onCanvasChange=function(t){Object(l.b)(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=Object(o.getBBoxMethod)(this.get("type"));n&&(e=n(this))}if(e){var i=e.x,r=e.y,a=e.width,s=e.height,l=this.getHitLineWidth(),u=l/2,c=i-u,h=r-u;return{x:c,y:h,minX:c,minY:h,maxX:i+a+u,maxY:r+s+u,width:a+l,height:s+l}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},e.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Object(s.a)(this),Object(a.a)(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),i=n.fill,r=n.fillStyle,o=n.stroke,a=n.strokeStyle,s=n.fillOpacity,l=n.strokeOpacity,c=n.lineWidth,h=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",i):"fillStyle"in n&&this._setColor(t,"fill",r):this._setColor(t,"fill",i||r),s&&h.setAttribute(u.b.fillOpacity,s)),this.canStroke&&c>0&&(e?"stroke"in n?this._setColor(t,"stroke",o):"strokeStyle"in n&&this._setColor(t,"stroke",a):this._setColor(t,"stroke",o||a),l&&h.setAttribute(u.b.strokeOpacity,l),c&&h.setAttribute(u.b.lineWidth,c))},e.prototype._setColor=function(t,e,n){var i=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(r=t.find("gradient",n))||(r=t.addGradient(n)),i.setAttribute(u.b[e],"url(#"+r+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var r;(r=t.find("pattern",n))||(r=t.addPattern(n)),i.setAttribute(u.b[e],"url(#"+r+")")}else i.setAttribute(u.b[e],n);else i.setAttribute(u.b[e],"none")},e.prototype.shadow=function(t,e){var n=this.attr(),i=e||n,r=i.shadowOffsetX,o=i.shadowOffsetY,s=i.shadowBlur,l=i.shadowColor;(r||o||s||l)&&Object(a.b)(this,t)},e.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&Object(a.c)(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var n=this.get("el"),i=this.get("canvas").get("el").getBoundingClientRect(),r=t+i.left,o=e+i.top,a=document.elementFromPoint(r,o);return!(!a||!a.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},e}(o.AbstractShape),d=n("PzsT"),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(d.a)(e||n,function(t,e){"x"===e||"y"===e?i.setAttribute("c"+e,t):u.b[e]&&i.setAttribute(u.b[e],t)})},e}(h),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return Object(r.__extends)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");if(Object(d.a)(e||n,function(t,e){u.b[e]&&i.setAttribute(u.b[e],t)}),"function"==typeof n.html){var r=n.html.call(this,n);if(r instanceof Element||r instanceof HTMLDocument){for(var o=i.childNodes,a=o.length-1;a>=0;a--)i.removeChild(o[a]);i.appendChild(r)}else i.innerHTML=r}else i.innerHTML=n.html},e}(h),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(d.a)(e||n,function(t,e){"x"===e||"y"===e?i.setAttribute("c"+e,t):u.b[e]&&i.setAttribute(u.b[e],t)})},e}(h),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var n=this,i=this.attr(),r=this.get("el");Object(d.a)(e||i,function(t,e){"img"===e?n._setImage(i.img):u.b[e]&&r.setAttribute(u.b[e],t)})},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if(Object(d.f)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&Object(d.f)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var i=document.createElement("canvas");i.setAttribute("width",""+t.width),i.setAttribute("height",""+t.height),i.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",i.toDataURL())}},e}(h),m=n("6zlC"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(d.a)(e||n,function(e,r){if("startArrow"===r||"endArrow"===r)if(e){var o=Object(d.e)(e)?t.addArrow(n,u.b[r]):t.getDefaultArrow(n,u.b[r]);i.setAttribute(u.b[r],"url(#"+o+")")}else i.removeAttribute(u.b[r]);else u.b[r]&&i.setAttribute(u.b[r],e)})},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,i=t.x2,r=t.y2;return m.c.length(e,n,i,r)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,i=e.y1,r=e.x2,o=e.y2;return m.c.pointAt(n,i,r,o,t)},e}(h),b={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+i],["L",t,e-i],["L",t+n,e+i],["z"]]},triangleDown:function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-i],["L",t+n,e-i],["L",t,e+i],["Z"]]}},x={get:function(t){return b[t]},register:function(t,e){b[t]=e},remove:function(t){delete b[t]},getAll:function(){return b}},w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return Object(r.__extends)(e,t),e.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return Object(d.b)(t)?t.map(function(t){return t.join(" ")}).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),n=e.x,i=e.y,r=e.r||e.radius,o=e.symbol||"circle";return(t=Object(d.c)(o)?o:x.get(o))?t(n,i,r):(console.warn(t+" symbol is not exist."),null)},e.symbolsFactory=x,e}(h),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this,i=this.attr(),r=this.get("el");Object(d.a)(e||i,function(e,o){if("path"===o&&Object(d.b)(e))r.setAttribute("d",n._formatPath(e));else if("startArrow"===o||"endArrow"===o)if(e){var a=Object(d.e)(e)?t.addArrow(i,u.b[o]):t.getDefaultArrow(i,u.b[o]);r.setAttribute(u.b[o],"url(#"+a+")")}else r.removeAttribute(u.b[o]);else u.b[o]&&r.setAttribute(u.b[o],e)})},e.prototype._formatPath=function(t){var e=t.map(function(t){return t.join(" ")}).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength();if(0===n)return null;var i=e?e.getPointAtLength(t*n):null;return i?{x:i.x,y:i.y}:null},e}(h),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return Object(r.__extends)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(d.a)(e||n,function(t,e){"points"===e&&Object(d.b)(t)&&t.length>=2?i.setAttribute("points",t.map(function(t){return t[0]+","+t[1]}).join(" ")):u.b[e]&&i.setAttribute(u.b[e],t)})},e}(h),M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(d.a)(e||n,function(t,e){"points"===e&&Object(d.b)(t)&&t.length>=2?i.setAttribute("points",t.map(function(t){return t[0]+","+t[1]}).join(" ")):u.b[e]&&i.setAttribute(u.b[e],t)})},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(d.d)(e)?(this.set("totalLength",m.d.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,i=this.attr().points,r=this.get("tCache");return r||(this._setTcache(),r=this.get("tCache")),Object(d.a)(r,function(i,r){t>=i[0]&&t<=i[1]&&(e=(t-i[0])/(i[1]-i[0]),n=r)}),m.c.pointAt(i[n][0],i[n][1],i[n+1][0],i[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,i,r=0,o=[];Object(d.a)(t,function(a,s){t[s+1]&&((n=[])[0]=r/e,i=m.c.length(a[0],a[1],t[s+1][0],t[s+1][1]),r+=i,n[1]=r/e,o.push(n))}),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(h);var C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var n=this,i=this.attr(),r=this.get("el"),o=!1,a=["x","y","width","height","radius"];Object(d.a)(e||i,function(t,e){-1===a.indexOf(e)||o?-1===a.indexOf(e)&&u.b[e]&&r.setAttribute(u.b[e],t):(r.setAttribute("d",n._assembleRect(i)),o=!0)})},e.prototype._assembleRect=function(t){var e=t.x,n=t.y,i=t.width,r=t.height,o=t.radius;if(!o)return"M "+e+","+n+" l "+i+",0 l 0,"+r+" l"+-i+" 0 z";var a=function(t){var e=0,n=0,i=0,r=0;return Object(d.b)(t)?1===t.length?e=n=i=r=t[0]:2===t.length?(e=i=t[0],n=r=t[1]):3===t.length?(e=t[0],n=r=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],r=t[3]):e=n=i=r=t,{r1:e,r2:n,r3:i,r4:r}}(o);return Object(d.b)(o)?1===o.length?a.r1=a.r2=a.r3=a.r4=o[0]:2===o.length?(a.r1=a.r3=o[0],a.r2=a.r4=o[1]):3===o.length?(a.r1=o[0],a.r2=a.r4=o[1],a.r3=o[2]):(a.r1=o[0],a.r2=o[1],a.r3=o[2],a.r4=o[3]):a.r1=a.r2=a.r3=a.r4=o,[["M "+(e+a.r1)+","+n],["l "+(i-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(r-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+-a.r3+","+a.r3],["l "+(a.r3+a.r4-i)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+-a.r4+","+-a.r4],["l 0,"+(a.r4+a.r1-r)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+-a.r1],["z"]].join(" ")},e}(h),I=n("f3pQ"),k={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},T={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},O={left:"left",start:"left",center:"middle",right:"end",end:"end"},E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var n=this,i=this.attr(),r=this.get("el");this._setFont(),Object(d.a)(e||i,function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?Object(a.c)(n):u.b[e]&&r.setAttribute(u.b[e],t)}),r.setAttribute("paint-order","stroke"),r.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,i=e.textAlign,r=Object(I.a)();r&&"firefox"===r.name?t.setAttribute("dominant-baseline",T[n]||"alphabetic"):t.setAttribute("alignment-baseline",k[n]||"baseline"),t.setAttribute("text-anchor",O[i]||"left")},e.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),i=n.x,r=n.textBaseline,o=void 0===r?"bottom":r;if(t)if(~t.indexOf("\n")){var a=t.split("\n"),s=a.length-1,l="";Object(d.a)(a,function(t,e){0===e?"alphabetic"===o?l+='<tspan x="'+i+'" dy="'+-s+'em">'+t+"</tspan>":"top"===o?l+='<tspan x="'+i+'" dy="0.9em">'+t+"</tspan>":"middle"===o?l+='<tspan x="'+i+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===o?l+='<tspan x="'+i+'" dy="-'+(s+.3)+'em">'+t+"</tspan>":"hanging"===o&&(l+='<tspan x="'+i+'" dy="'+(-(s-1)-.3)+'em">'+t+"</tspan>"):l+='<tspan x="'+i+'" dy="1em">'+t+"</tspan>"}),e.innerHTML=l}else e.innerHTML=t;else e.innerHTML=""},e}(h);n.d(e,"Base",function(){return h}),n.d(e,"Circle",function(){return f}),n.d(e,"Dom",function(){return p}),n.d(e,"Ellipse",function(){return g}),n.d(e,"Image",function(){return v}),n.d(e,"Line",function(){return y}),n.d(e,"Marker",function(){return w}),n.d(e,"Path",function(){return _}),n.d(e,"Polygon",function(){return S}),n.d(e,"Polyline",function(){return M}),n.d(e,"Rect",function(){return C}),n.d(e,"Text",function(){return E})},oEtn:function(t,e,n){"use strict";var i=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0),this},t.prototype.emit=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this._events[t]||[],o=this._events["*"]||[],a=function(i){for(var r=i.length,o=0;o<r;o++)if(i[o]){var a=i[o],s=a.callback;a.once&&(i.splice(o,1),0===i.length&&delete e._events[t],r--,o--),s.apply(e,n)}};a(r),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],i=n.length,r=0;r<i;r++)n[r].callback===e&&(n.splice(r,1),i--,r--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();e.a=i},oJlt:function(t,e,n){"use strict";var i=n("cGG2");t.exports=function(t){var e,n,r,o={};return t?(i.forEach(t.split("\n"),function(t){r=t.indexOf(":"),e=i.trim(t.substr(0,r)).toLowerCase(),n=i.trim(t.substr(r+1)),e&&(o[e]=o[e]?o[e]+", "+n:n)}),o):o}},on7W:function(t,e,n){"use strict";var i=n("eHJv"),r=Array.prototype.concat,o=Array.prototype.slice,a=t.exports=function(t){for(var e=[],n=0,a=t.length;n<a;n++){var s=t[n];i(s)?e=r.call(e,o.call(s)):e.push(s)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},otDv:function(t,e,n){t.exports=n("KKYF")},p1b6:function(t,e,n){"use strict";var i=n("cGG2");t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},pBtG:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},pFYg:function(t,e,n){"use strict";e.__esModule=!0;var i=a(n("Zzip")),r=a(n("5QVw")),o="function"==typeof r.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof r.default&&"symbol"===o(i.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":o(t)}},pwgQ:function(t,e,n){var i=n("ZFR3");t.exports=function(t){if(Array.isArray(t))return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},pxG4:function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},qARP:function(t,e,n){"use strict";var i=n("lOnJ");t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}(t)}},qFrC:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("Z60a"),r=n.n(i),o=n("M1I4"),a=n.n(o),s=n("j/rp"),l=n.n(s),u=n("T/v0"),c=n.n(u),h=n("tNLN"),d=n.n(h);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=d()(t);if(e){var r=d()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return c()(this,n)}}var p=function(t){l()(n,t);var e=f(n);function n(t){var i;return r()(this,n),(i=e.call(this,t)).parentID=void 0,Object.assign(a()(i),t),i}return n}(n("J4xG").a)},"qNZ/":function(t,e,n){"use strict";e.a=function(t,e){e.forEach(function(e){e.draw(t)})},e.b=function(t,e){var n=t.get("canvas");if(n&&n.get("autoDraw")){var o=n.get("context"),a=t.getParent(),s=a?a.getChildren():[n],l=t.get("el");if("remove"===e){var u=t.get("isClipShape");if(u){var c=l&&l.parentNode,h=c&&c.parentNode;c&&h&&h.removeChild(c)}else l&&l.parentNode&&l.parentNode.removeChild(l)}else if("show"===e)l.setAttribute("visibility","visible");else if("hide"===e)l.setAttribute("visibility","hidden");else if("zIndex"===e)Object(r.c)(l,s.indexOf(t));else if("sort"===e){var d=t.get("children");d&&d.length&&Object(r.d)(t,function(t,e){return d.indexOf(t)-d.indexOf(e)?1:0})}else"clear"===e?l&&(l.innerHTML=""):"matrix"===e?Object(i.c)(t):"clip"===e?Object(i.a)(t,o):"attr"===e||"add"===e&&t.draw(o)}};var i=n("IpCj"),r=n("8ALn")},qRfI:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},qio6:function(t,e,n){var i=n("evD5"),r=n("77Pl"),o=n("lktj");t.exports=n("+E39")?Object.defineProperties:function(t,e){r(t);for(var n,a=o(e),s=a.length,l=0;s>l;)i.f(t,n=a[l++],e[n]);return t}},qkKv:function(t,e,n){var i=n("FeBl"),r=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},ql3I:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("YIuZ");e.default=function(t,e){return void 0===e&&(e=!0),{lazyInject:i.makePropertyInjectDecorator(t,e),lazyInjectNamed:i.makePropertyInjectNamedDecorator(t,e),lazyInjectTagged:i.makePropertyInjectTaggedDecorator(t,e),lazyMultiInject:i.makePropertyMultiInjectDecorator(t,e)}}},qwqD:function(t,e,n){"use strict";const i=n("7+uW").default.prototype.$isServer,r=!i&&document.addEventListener?function(t,e,n,i=!1){t&&e&&n&&t.addEventListener(e,n,i)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)};e.b=r;const o=!i&&document.removeEventListener?function(t,e,n,i=!1){t&&e&&t.removeEventListener(e,n,i)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)};e.a=o},r2qF:function(t,e,n){t.exports=n("4ZXS")},r5WB:function(t,e,n){"use strict";var i=n("NM/j"),r=n.n(i),o=n("En79"),a=n.n(o),s=n("7hDC"),l=n.n(s),u=n("dYct"),c=n.n(u),h=n("Z60a"),d=n.n(h),f=n("C9uT"),p=n.n(f),g=n("jb0h"),v=n.n(g),m=(n("X6mv"),n("YulH")),y=n("Klor"),b=function(){function t(){d()(this,t),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return p()(t,[{key:"read",value:function(t){return this.reads.find(function(e){return e.index===t.index})||this.reads.push(t),t}},{key:"sample",value:function(t){return this.read(t),t}},{key:"write",value:function(t,e){if(this.writes.find(function(t){return t.index===e.index}))return e;var n=t.getResourceNode(e);n.resource.version++,n.resource.imported&&(this.hasSideEffect=!0);var i=t.createResourceNode(n.resource);return t.getResourceNode(i).writer=this,this.writes.push(i),i}}]),t}(),x=n("j/rp"),w=n.n(x),_=n("T/v0"),S=n.n(_),M=n("tNLN"),C=n.n(M);function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=C()(t);if(e){var r=C()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S()(this,n)}}var k,T,O,E,A,N=function(t){w()(n,t);var e=I(n);function n(){var t;d()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).version=0,t.refs=0,t.name=void 0,t.imported=void 0,t.priority=void 0,t.discardStart=!0,t.discardEnd=!1,t.descriptor=void 0,t.resource=void 0,t}return p()(n,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),n}(function t(){d()(this,t),this.first=void 0,this.last=void 0});function L(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n.d(e,"a",function(){return j});var j=(k=Object(m.injectable)(),T=Object(m.inject)(y.a.RenderEngine),k((E=function(){function t(){d()(this,t),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],c()(this,"engine",A,this)}return p()(t,[{key:"execute",value:function(){var t=l()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.compile(),t.next=3,this.executePassNodes(e);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(t){t.tearDown&&t.tearDown()}),this.reset()}},{key:"addPass",value:function(t,e,n,i){var r=new function t(){d()(this,t),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0};r.execute=n,i&&(r.tearDown=i),r.name=t;var o=new b;return o.name=t,this.passNodes.push(o),this.frameGraphPasses.push(r),e(this,o,r),r}},{key:"getPass",value:function(t){return this.frameGraphPasses.find(function(e){return e.name===t})}},{key:"compile",value:function(){var t,e=this,n=L(this.passNodes);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.refCount=i.writes.length+(i.hasSideEffect?1:0),i.reads.forEach(function(t){e.resourceNodes[t.index].readerCount++})}}catch(t){n.e(t)}finally{n.f()}var r,o=[],a=L(this.resourceNodes);try{for(a.s();!(r=a.n()).done;){var s=r.value;0===s.readerCount&&o.push(s)}}catch(t){a.e(t)}finally{a.f()}for(;o.length;){var l=o.pop(),u=l&&l.writer;if(u&&0==--u.refCount){var c,h=L(u.reads);try{for(h.s();!(c=h.n()).done;){var d=c.value,f=this.resourceNodes[d.index];0==--f.readerCount&&o.push(f)}}catch(t){h.e(t)}finally{h.f()}}}this.resourceNodes.forEach(function(t){t.resource.refs+=t.readerCount});var p,g=L(this.passNodes);try{for(g.s();!(p=g.n()).done;){var v=p.value;if(v.refCount){var m,y=L(v.reads);try{for(y.s();!(m=y.n()).done;){var b=m.value,x=this.resourceNodes[b.index].resource;x.first=x.first?x.first:v,x.last=v}}catch(t){y.e(t)}finally{y.f()}var w,_=L(v.writes);try{for(_.s();!(w=_.n()).done;){var S=w.value,M=this.resourceNodes[S.index].resource;M.first=M.first?M.first:v,M.last=v}}catch(t){_.e(t)}finally{_.f()}}}}catch(t){g.e(t)}finally{g.f()}for(var C=0;C<2;C++){var I,k=L(this.resourceNodes);try{for(k.s();!(I=k.n()).done;){var T=I.value.resource;if(T.priority===C&&T.refs){var O=T.first,E=T.last;O&&E&&(O.devirtualize.push(T),E.destroy.push(T))}}}catch(t){k.e(t)}finally{k.f()}}}},{key:"executePassNodes",value:function(){var t=l()(a.a.mark(function t(e){var n,i,o,s,l,u,c,h,d,f,p,g,v;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=L(this.passNodes.entries()),t.prev=1,n.s();case 3:if((i=n.n()).done){t.next=18;break}if(o=r()(i.value,2),s=o[0],!(l=o[1]).refCount){t.next=16;break}u=L(l.devirtualize);try{for(u.s();!(c=u.n()).done;)c.value.preExecuteDevirtualize(this.engine)}catch(t){u.e(t)}finally{u.f()}h=L(l.destroy);try{for(h.s();!(d=h.n()).done;)d.value.preExecuteDestroy(this.engine)}catch(t){h.e(t)}finally{h.f()}return t.next=12,this.frameGraphPasses[s].execute(this,this.frameGraphPasses[s],e);case 12:f=L(l.devirtualize);try{for(f.s();!(p=f.n()).done;)p.value.postExecuteDevirtualize(this.engine)}catch(t){f.e(t)}finally{f.f()}g=L(l.destroy);try{for(g.s();!(v=g.n()).done;)v.value.postExecuteDestroy(this.engine)}catch(t){g.e(t)}finally{g.f()}case 16:t.next=3;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),n.e(t.t0);case 23:return t.prev=23,n.f(),t.finish(23);case 26:this.reset();case 27:case"end":return t.stop()}},t,this,[[1,20,23,26]])}));return function(e){return t.apply(this,arguments)}}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(t){return this.resourceNodes[t.index]}},{key:"createResourceNode",value:function(t){var e=new function t(){d()(this,t),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0};e.resource=t,e.version=t.version,this.resourceNodes.push(e);var n=new function t(){d()(this,t),this.index=void 0};return n.index=this.resourceNodes.length-1,n}},{key:"createTexture",value:function(t,e,n){var i=new N;return i.name=e,i.descriptor=n,this.createResourceNode(i)}},{key:"createRenderTarget",value:function(t,e,n){var i=new N;return i.name=e,i.descriptor=n,this.createResourceNode(i)}},{key:"present",value:function(t){this.addPass("Present",function(e,n){n.read(t),n.hasSideEffect=!0},l()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)})))}}]),t}(),A=v()(E.prototype,"engine",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=E))||O)},reIy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=n("LsnM"),o=(i=n("Wb5I"))&&i.__esModule?i:{default:i};var a=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise(function(n,i){var a=new o.default;a.postMessage({_algorithmType:t,data:e}),a.onmessage=function(t){var e=t.data,o=e.data,s=e._algorithmType;r.MESSAGE.SUCCESS===s?n(o):i(),a.terminate()}})}};e.default=a},rjj0:function(t,e,n){var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r=n("tTVk"),o={},a=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,u=!1,c=function(){},h=null,d="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t){for(var e=0;e<t.length;e++){var n=t[e],i=o[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(v(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(v(n.parts[r]));o[n.id]={id:n.id,refs:1,parts:a}}}}function g(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function v(t){var e,n,i=document.querySelector("style["+d+'~="'+t.id+'"]');if(i){if(u)return c;i.parentNode.removeChild(i)}if(f){var r=l++;i=s||(s=g()),e=b.bind(null,i,r,!1),n=b.bind(null,i,r,!0)}else i=g(),e=function(t,e){var n=e.css,i=e.media,r=e.sourceMap;i&&t.setAttribute("media",i);h.ssrId&&t.setAttribute(d,e.id);r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}t.exports=function(t,e,n,i){u=n,h=i||{};var a=r(t,e);return p(a),function(e){for(var n=[],i=0;i<a.length;i++){var s=a[i];(l=o[s.id]).refs--,n.push(l)}e?p(a=r(t,e)):a=[];for(i=0;i<n.length;i++){var l;if(0===(l=n[i]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete o[l.id]}}}};var m,y=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function b(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},rvzb:function(t,e,n){t.exports=n("SZG6")},rzQm:function(t,e,n){var i=n("pwgQ"),r=n("uJO0"),o=n("Y4K9"),a=n("kAgk");t.exports=function(t){return i(t)||r(t)||o(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},sB3e:function(t,e,n){var i=n("52gC");t.exports=function(t){return Object(i(t))}},sMhi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectable=void 0;var i=n("tuOO"),r=n("cEWm");e.injectable=function(){return function(t){if(Reflect.hasOwnMetadata(r.PARAM_TYPES,t))throw new Error(i.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(r.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(r.PARAM_TYPES,e,t),t}}},sOR5:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},sUu7:function(t,e,n){"use strict";n.d(e,"a",function(){return bt});
/**
  * vee-validate v2.2.15
  * (c) 2019 Abdelrahman Awad
  * @license MIT
  */
var i=function(t){return N(["text","password","search","email","tel","url","textarea","number"],t.type)},r=function(t){return N(["radio","checkbox"],t.type)},o=function(t,e){return t.getAttribute("data-vv-"+e)},a=function(t){return"isNaN"in Number?Number.isNaN(t):"number"==typeof t&&t!=t},s=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.every(function(t){return null===t||void 0===t})},l=function(t,e){if(t instanceof RegExp&&e instanceof RegExp)return l(t.source,e.source)&&l(t.flags,e.flags);if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!l(t[n],e[n]))return!1;return!0}return v(t)&&v(e)?Object.keys(t).every(function(n){return l(t[n],e[n])})&&Object.keys(e).every(function(n){return l(t[n],e[n])}):!(!a(t)||!a(e))||t===e},u=function(t){return s(t)?null:"FORM"===t.tagName?t:s(t.form)?s(t.parentNode)?null:u(t.parentNode):t.form},c=function(t,e,n){if(void 0===n&&(n=void 0),!t||!e)return n;var i=e;return t.split(".").every(function(t){return t in i?(i=i[t],!0):(i=n,!1)}),i},h=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n={cancelled:!1}),0===e?t:function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];clearTimeout(i),(i=setTimeout(function(){i=null,n.cancelled||t.apply(void 0,r)},e))||t.apply(void 0,r)};var i},d=function(t,e){return e?t?("string"==typeof e&&(e=f(e)),_({},e,f(t))):f(e):f(t)},f=function(t){return t?v(t)?Object.keys(t).reduce(function(e,n){var i=[];return i=!0===t[n]?[]:Array.isArray(t[n])?t[n]:v(t[n])?t[n]:[t[n]],!1!==t[n]&&(e[n]=i),e},{}):"string"!=typeof t?(p("rules must be either a string or an object."),{}):t.split("|").reduce(function(t,e){var n=function(t){var e=[],n=t.split(":")[0];return N(t,":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}}(e);return n.name?(t[n.name]=n.params,t):t},{}):{}},p=function(t){console.warn("[vee-validate] "+t)},g=function(t){return new Error("[vee-validate] "+t)},v=function(t){return null!==t&&t&&"object"==typeof t&&!Array.isArray(t)},m=function(t){return"function"==typeof t},y=function(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},b=function(t,e,n){if(t&&e){if(!Array.isArray(e))return n?function(t,e){t.classList?t.classList.add(e):y(t,e)||(t.className+=" "+e)}(t,e):void function(t,e){if(t.classList)t.classList.remove(e);else if(y(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}(t,e);e.forEach(function(e){return b(t,e,n)})}},x=function(t){if(m(Array.from))return Array.from(t);for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e},w=function(t){if(Array.isArray(t))return[].concat(t);var e=x(t);return L(e)?[t]:e},_=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(m(Object.assign))return Object.assign.apply(Object,[t].concat(e));if(null==t)throw new TypeError("Cannot convert undefined or null to object");var i=Object(t);return e.forEach(function(t){null!=t&&Object.keys(t).forEach(function(e){i[e]=t[e]})}),i},S=0,M="{id}",C=function(t,e){for(var n=Array.isArray(t)?t:x(t),i=0;i<n.length;i++)if(e(n[i]))return i;return-1},I=function(t,e){var n=Array.isArray(t)?t:x(t),i=C(n,e);return-1===i?void 0:n[i]},k=function(t){if(!t)return!1;var e=t.componentOptions.tag;return/^(keep-alive|transition|transition-group)$/.test(e)},T=function(t){if("number"==typeof t)return t;if("string"==typeof t)return parseInt(t);var e={};for(var n in t)e[n]=parseInt(t[n]);return e},O=function(t,e){return v(t)&&v(e)?(Object.keys(e).forEach(function(n){var i,r;if(v(e[n]))return t[n]||_(t,((i={})[n]={},i)),void O(t[n],e[n]);_(t,((r={})[n]=e[n],r))}),t):t},E=function(t,e){if(t.required&&(e=d("required",e)),i(t))return"email"===t.type&&(e=d("email"+(t.multiple?":multiple":""),e)),t.pattern&&(e=d({regex:t.pattern},e)),t.maxLength>=0&&t.maxLength<524288&&(e=d("max:"+t.maxLength,e)),t.minLength>0&&(e=d("min:"+t.minLength,e)),"number"===t.type&&(e=d("decimal",e),""!==t.min&&(e=d("min_value:"+t.min,e)),""!==t.max&&(e=d("max_value:"+t.max,e))),e;if(function(t){return N(["date","week","month","datetime-local","time"],t.type)}(t)){var n=t.step&&Number(t.step)<60?"HH:mm:ss":"HH:mm";if("date"===t.type)return d("date_format:yyyy-MM-dd",e);if("datetime-local"===t.type)return d("date_format:yyyy-MM-ddT"+n,e);if("month"===t.type)return d("date_format:yyyy-MM",e);if("week"===t.type)return d("date_format:yyyy-[W]WW",e);if("time"===t.type)return d("date_format:"+n,e)}return e},A=function(t){return m(Object.values)?Object.values(t):Object.keys(t).map(function(e){return t[e]})},N=function(t,e){return-1!==t.indexOf(e)},L=function(t){return Array.isArray(t)&&0===t.length},D=function(t,e,n){Object.defineProperty(t,e,{configurable:!1,writable:!0,value:n})},j="en",P=function(t){void 0===t&&(t={}),this.container={},this.merge(t)},R={locale:{configurable:!0}};R.locale.get=function(){return j},R.locale.set=function(t){j=t||"en"},P.prototype.hasLocale=function(t){return!!this.container[t]},P.prototype.setDateFormat=function(t,e){this.container[t]||(this.container[t]={}),this.container[t].dateFormat=e},P.prototype.getDateFormat=function(t){return this.container[t]&&this.container[t].dateFormat?this.container[t].dateFormat:null},P.prototype.getMessage=function(t,e,n){var i=null;return i=this.hasMessage(t,e)?this.container[t].messages[e]:this._getDefaultMessage(t),m(i)?i.apply(void 0,n):i},P.prototype.getFieldMessage=function(t,e,n,i){if(!this.hasLocale(t))return this.getMessage(t,n,i);var r=this.container[t].custom&&this.container[t].custom[e];if(!r||!r[n])return this.getMessage(t,n,i);var o=r[n];return m(o)?o.apply(void 0,i):o},P.prototype._getDefaultMessage=function(t){return this.hasMessage(t,"_default")?this.container[t].messages._default:this.container.en.messages._default},P.prototype.getAttribute=function(t,e,n){return void 0===n&&(n=""),this.hasAttribute(t,e)?this.container[t].attributes[e]:n},P.prototype.hasMessage=function(t,e){return!!(this.hasLocale(t)&&this.container[t].messages&&this.container[t].messages[e])},P.prototype.hasAttribute=function(t,e){return!!(this.hasLocale(t)&&this.container[t].attributes&&this.container[t].attributes[e])},P.prototype.merge=function(t){O(this.container,t)},P.prototype.setMessage=function(t,e,n){this.hasLocale(t)||(this.container[t]={messages:{},attributes:{}}),this.container[t].messages||(this.container[t].messages={}),this.container[t].messages[e]=n},P.prototype.setAttribute=function(t,e,n){this.hasLocale(t)||(this.container[t]={messages:{},attributes:{}}),this.container[t].attributes[e]=n},Object.defineProperties(P.prototype,R);var z={default:new P({en:{messages:{},attributes:{},custom:{}}})},B="default",F=function(){};F._checkDriverName=function(t){if(!t)throw g("you must provide a name to the dictionary driver")},F.setDriver=function(t,e){void 0===e&&(e=null),this._checkDriverName(t),e&&(z[t]=e),B=t},F.getDriver=function(){return z[B]};var G=function t(e,n){void 0===e&&(e=null),void 0===n&&(n=null),this.vmId=n||null,this.items=e&&e instanceof t?e.items:[]};G.prototype["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=function(){var t=this,e=0;return{next:function(){return{value:t.items[e++],done:e>t.items.length}}}},G.prototype.add=function(t){var e;(e=this.items).push.apply(e,this._normalizeError(t))},G.prototype._normalizeError=function(t){var e=this;return Array.isArray(t)?t.map(function(t){return t.scope=s(t.scope)?null:t.scope,t.vmId=s(t.vmId)?e.vmId||null:t.vmId,t}):(t.scope=s(t.scope)?null:t.scope,t.vmId=s(t.vmId)?this.vmId||null:t.vmId,[t])},G.prototype.regenerate=function(){this.items.forEach(function(t){t.msg=m(t.regenerate)?t.regenerate():t.msg})},G.prototype.update=function(t,e){var n=I(this.items,function(e){return e.id===t});if(n){var i=this.items.indexOf(n);this.items.splice(i,1),n.scope=e.scope,this.items.push(n)}},G.prototype.all=function(t){var e=this;return this.items.filter(function(n){var i=!0,r=!0;return s(t)||(i=n.scope===t),s(e.vmId)||(r=n.vmId===e.vmId),r&&i}).map(function(t){return t.msg})},G.prototype.any=function(t){var e=this;return!!this.items.filter(function(n){var i=!0,r=!0;return s(t)||(i=n.scope===t),s(e.vmId)||(r=n.vmId===e.vmId),r&&i}).length},G.prototype.clear=function(t){var e=this,n=s(this.vmId)?function(){return!0}:function(t){return t.vmId===e.vmId},i=function(e){return e.scope===t};0===arguments.length?i=function(){return!0}:s(t)&&(t=null);for(var r=0;r<this.items.length;++r)n(this.items[r])&&i(this.items[r])&&(this.items.splice(r,1),--r)},G.prototype.collect=function(t,e,n){var i=this;void 0===n&&(n=!0);var r=!s(t)&&!t.includes("*"),o=function(t){var e=t.reduce(function(t,e){return s(i.vmId)||e.vmId===i.vmId?(t[e.field]||(t[e.field]=[]),t[e.field].push(n?e.msg:e),t):t},{});return r?A(e)[0]||[]:e};if(s(t))return o(this.items);var a=s(e)?String(t):e+"."+t,l=this._makeCandidateFilters(a),u=l.isPrimary,c=l.isAlt,h=this.items.reduce(function(t,e){return u(e)&&t.primary.push(e),c(e)&&t.alt.push(e),t},{primary:[],alt:[]});return o(h=h.primary.length?h.primary:h.alt)},G.prototype.count=function(){var t=this;return this.vmId?this.items.filter(function(e){return e.vmId===t.vmId}).length:this.items.length},G.prototype.firstById=function(t){var e=I(this.items,function(e){return e.id===t});return e?e.msg:void 0},G.prototype.first=function(t,e){void 0===e&&(e=null);var n=s(e)?t:e+"."+t,i=this._match(n);return i&&i.msg},G.prototype.firstRule=function(t,e){var n=this.collect(t,e,!1);return n.length&&n[0].rule||void 0},G.prototype.has=function(t,e){return void 0===e&&(e=null),!!this.first(t,e)},G.prototype.firstByRule=function(t,e,n){void 0===n&&(n=null);var i=this.collect(t,n,!1).filter(function(t){return t.rule===e})[0];return i&&i.msg||void 0},G.prototype.firstNot=function(t,e,n){void 0===e&&(e="required"),void 0===n&&(n=null);var i=this.collect(t,n,!1).filter(function(t){return t.rule!==e})[0];return i&&i.msg||void 0},G.prototype.removeById=function(t){var e=function(e){return e.id===t};Array.isArray(t)&&(e=function(e){return-1!==t.indexOf(e.id)});for(var n=0;n<this.items.length;++n)e(this.items[n])&&(this.items.splice(n,1),--n)},G.prototype.remove=function(t,e,n){if(!s(t))for(var i,r=s(e)?String(t):e+"."+t,o=this._makeCandidateFilters(r),a=o.isPrimary,l=o.isAlt,u=function(t){return a(t)||l(t)},c=0;c<this.items.length;++c)i=this.items[c],(s(n)?u(i):u(i)&&i.vmId===n)&&(this.items.splice(c,1),--c)},G.prototype._makeCandidateFilters=function(t){var e=this,n=function(){return!0},i=function(){return!0},r=function(){return!0},o=function(){return!0},a=function(t){var e=null;if(N(t,":")&&(e=t.split(":").pop(),t=t.replace(":"+e,"")),"#"===t[0])return{id:t.slice(1),rule:e,name:null,scope:null};var n=null,i=t;if(N(t,".")){var r=t.split(".");n=r[0],i=r.slice(1).join(".")}return{id:null,scope:n,name:i,rule:e}}(t),l=a.id,u=a.rule,c=a.scope,h=a.name;if(u&&(n=function(t){return t.rule===u}),l)return{isPrimary:function(t){return n(t)&&function(t){return l===t.id}},isAlt:function(){return!1}};i=s(c)?function(t){return s(t.scope)}:function(t){return t.scope===c},s(h)||"*"===h||(r=function(t){return t.field===h}),s(this.vmId)||(o=function(t){return t.vmId===e.vmId});return{isPrimary:function(t){return o(t)&&r(t)&&n(t)&&i(t)},isAlt:function(t){return o(t)&&n(t)&&t.field===c+"."+h}}},G.prototype._match=function(t){if(!s(t)){var e=this._makeCandidateFilters(t),n=e.isPrimary,i=e.isAlt;return this.items.reduce(function(t,e,r,o){var a=r===o.length-1;return t.primary?a?t.primary:t:(n(e)&&(t.primary=e),i(e)&&(t.alt=e),a?t.primary||t.alt:t)},{})}};var V=_({},{locale:"en",delay:0,errorBagName:"errors",dictionary:null,fieldsBagName:"fields",classes:!1,classNames:null,events:"input",inject:!0,fastExit:!0,aria:!0,validity:!1,mode:"aggressive",useConstraintAttrs:!0,i18n:null,i18nRootKey:"validation"}),W=function(t){var e=c("$options.$_veeValidate",t,{});return _({},V,e)},H=function(){return V},U=function(t){V=_({},V,t)};function Y(t){return t.data?t.data.model?t.data.model:!!t.data.directives&&I(t.data.directives,function(t){return"model"===t.name}):null}function J(t){return Y(t)?[t]:function(t){return Array.isArray(t)?t:Array.isArray(t.children)?t.children:t.componentOptions&&Array.isArray(t.componentOptions.children)?t.componentOptions.children:[]}(t).reduce(function(t,e){var n=J(e);return n.length&&t.push.apply(t,n),t},[])}function Q(t){return t.componentOptions?t.componentOptions.Ctor.options.model:null}function Z(t,e,n){if(m(t[e])){var i=t[e];t[e]=[i]}s(t[e])&&(t[e]=[]),t[e].push(n)}function $(t,e,n){t.componentOptions?function(t,e,n){t.componentOptions.listeners||(t.componentOptions.listeners={}),Z(t.componentOptions.listeners,e,n)}(t,e,n):function(t,e,n){s(t.data.on)&&(t.data.on={}),Z(t.data.on,e,n)}(t,e,n)}function X(t,e){return t.componentOptions?(Q(t)||{event:"input"}).event:e&&e.modifiers&&e.modifiers.lazy||"select"===t.tag?"change":t.data.attrs&&i({type:t.data.attrs.type||"text"})?"input":"change"}function K(t,e){return Array.isArray(e)&&e[0]?e[0]:e||t()}var q=function(){};q.generate=function(t,e,n){var i=q.resolveModel(e,n),r=W(n.context);return{name:q.resolveName(t,n),el:t,listen:!e.modifiers.disable,bails:!!e.modifiers.bails||!0!==e.modifiers.continues&&void 0,scope:q.resolveScope(t,e,n),vm:n.context,expression:e.value,component:n.componentInstance,classes:r.classes,classNames:r.classNames,getter:q.resolveGetter(t,n,i),events:q.resolveEvents(t,n)||r.events,model:i,delay:q.resolveDelay(t,n,r),rules:q.resolveRules(t,e,n),immediate:!!e.modifiers.initial||!!e.modifiers.immediate,persist:!!e.modifiers.persist,validity:r.validity&&!n.componentInstance,aria:r.aria&&!n.componentInstance,initialValue:q.resolveInitialValue(n)}},q.getCtorConfig=function(t){return t.componentInstance?c("componentInstance.$options.$_veeValidate",t):null},q.resolveRules=function(t,e,n){var i="";if(e.value||e&&e.expression||(i=o(t,"rules")),e.value&&N(["string","object"],typeof e.value.rules)?i=e.value.rules:e.value&&(i=e.value),n.componentInstance)return i;var r=f(i);return H().useConstraintAttrs?_({},E(t,{}),r):r},q.resolveInitialValue=function(t){var e=t.data.model||I(t.data.directives,function(t){return"model"===t.name});return e&&e.value},q.resolveDelay=function(t,e,n){var i=o(t,"delay"),r=n&&"delay"in n?n.delay:0;return!i&&e.componentInstance&&e.componentInstance.$attrs&&(i=e.componentInstance.$attrs["data-vv-delay"]),v(r)?(s(i)||(r.input=i),T(r)):T(i||r)},q.resolveEvents=function(t,e){var n=o(t,"validate-on");if(!n&&e.componentInstance&&e.componentInstance.$attrs&&(n=e.componentInstance.$attrs["data-vv-validate-on"]),!n&&e.componentInstance){var i=q.getCtorConfig(e);n=i&&i.events}if(!n&&H().events&&(n=H().events),n&&e.componentInstance&&N(n,"input")){var r=(e.componentInstance.$options.model||{event:"input"}).event;if(!r)return n;n=n.replace("input",r)}return n},q.resolveScope=function(t,e,n){void 0===n&&(n={});var i=null;return n.componentInstance&&s(i)&&(i=n.componentInstance.$attrs&&n.componentInstance.$attrs["data-vv-scope"]),s(i)?function(t){var e=o(t,"scope");if(s(e)){var n=u(t);n&&(e=o(n,"scope"))}return s(e)?null:e}(t):i},q.resolveModel=function(t,e){if(t.arg)return{expression:t.arg};var n=Y(e);if(!n)return null;var i,r,o,a,s=!/[^\w.$]/.test(n.expression)&&(i=n.expression,r=e.context,o=r,a=null,i.split(".").reduce(function(t,e){return null==o||"object"!=typeof o?t&&!1:e in o?(o=o[e],a=null===a?e:a+"."+e,t&&!0):t&&!1},!0)),l=!(!n.modifiers||!n.modifiers.lazy);return s?{expression:n.expression,lazy:l}:{expression:null,lazy:l}},q.resolveName=function(t,e){var n=o(t,"name");if(!n&&!e.componentInstance)return t.name;if(!n&&e.componentInstance&&e.componentInstance.$attrs&&(n=e.componentInstance.$attrs["data-vv-name"]||e.componentInstance.$attrs.name),!n&&e.componentInstance){var i=q.getCtorConfig(e);return i&&m(i.name)?i.name.bind(e.componentInstance)():e.componentInstance.name}return n},q.resolveGetter=function(t,e,n){if(n&&n.expression)return function(){return c(n.expression,e.context)};if(e.componentInstance){var i=o(t,"value-path")||e.componentInstance.$attrs&&e.componentInstance.$attrs["data-vv-value-path"];if(i)return function(){return c(i,e.componentInstance)};var r=q.getCtorConfig(e);if(r&&m(r.value)){var a=r.value.bind(e.componentInstance);return function(){return a()}}var s=(e.componentInstance.$options.model||{prop:"value"}).prop;return function(){return e.componentInstance[s]}}switch(t.type){case"checkbox":return function(){var e=document.querySelectorAll('input[name="'+t.name+'"]');if((e=x(e).filter(function(t){return t.checked})).length)return e.map(function(t){return t.value})};case"radio":return function(){var e=document.querySelectorAll('input[name="'+t.name+'"]'),n=I(e,function(t){return t.checked});return n&&n.value};case"file":return function(e){return x(t.files)};case"select-multiple":return function(){return x(t.options).filter(function(t){return t.selected}).map(function(t){return t.value})};default:return function(){return t&&t.value}}};var tt={},et=function(){},nt={rules:{configurable:!0}};et.add=function(t,e){var n=e.validate,i=e.options,r=e.paramNames;tt[t]={validate:n,options:i,paramNames:r}},nt.rules.get=function(){return tt},et.has=function(t){return!!tt[t]},et.isImmediate=function(t){return!(!tt[t]||!tt[t].options.immediate)},et.isRequireRule=function(t){return!(!tt[t]||!tt[t].options.computesRequired)},et.isTargetRule=function(t){return!(!tt[t]||!tt[t].options.hasTarget)},et.remove=function(t){delete tt[t]},et.getParamNames=function(t){return tt[t]&&tt[t].paramNames},et.getOptions=function(t){return tt[t]&&tt[t].options},et.getValidatorMethod=function(t){return tt[t]?tt[t].validate:null},Object.defineProperties(et,nt);var it=function(t){return"undefined"!=typeof Event&&m(Event)&&t instanceof Event||t&&t.srcElement},rt=function(t){return t?"string"==typeof t?t.split("|"):t:[]},ot=!0,at=function(t,e,n){t.addEventListener(e,n,!!ot&&{passive:!0})},st={targetOf:null,immediate:!1,persist:!1,scope:null,listen:!0,name:null,rules:{},vm:null,classes:!1,validity:!0,aria:!0,events:"input|blur",delay:0,classNames:{touched:"touched",untouched:"untouched",valid:"valid",invalid:"invalid",pristine:"pristine",dirty:"dirty"}},lt=function(t){void 0===t&&(t={}),this.id=(S>=9999&&(S=0,M=M.replace("{id}","_{id}")),S++,M.replace("{id}",String(S))),this.el=t.el,this.updated=!1,this.vmId=t.vmId,D(this,"dependencies",[]),D(this,"watchers",[]),D(this,"events",[]),this.delay=0,this.rules={},this.forceRequired=!1,this._cacheId(t),this.classNames=_({},st.classNames),t=_({},st,t),this._delay=s(t.delay)?0:t.delay,this.validity=t.validity,this.aria=t.aria,this.flags=t.flags||{untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:null,invalid:null,validated:!1,pending:!1,required:!1,changed:!1},D(this,"vm",t.vm),D(this,"componentInstance",t.component),this.ctorConfig=this.componentInstance?c("$options.$_veeValidate",this.componentInstance):void 0,this.update(t),this.initialValue=this.value,this.updated=!1},ut={validator:{configurable:!0},isRequired:{configurable:!0},isDisabled:{configurable:!0},alias:{configurable:!0},value:{configurable:!0},bails:{configurable:!0},rejectsFalse:{configurable:!0}};ut.validator.get=function(){return this.vm&&this.vm.$validator?this.vm.$validator:{validate:function(){return Promise.resolve(!0)}}},ut.isRequired.get=function(){return!!this.rules.required||this.forceRequired},ut.isDisabled.get=function(){return!(!this.el||!this.el.disabled)},ut.alias.get=function(){if(this._alias)return this._alias;var t=null;return this.ctorConfig&&this.ctorConfig.alias&&(t=m(this.ctorConfig.alias)?this.ctorConfig.alias.call(this.componentInstance):this.ctorConfig.alias),!t&&this.el&&(t=o(this.el,"as")),!t&&this.componentInstance?this.componentInstance.$attrs&&this.componentInstance.$attrs["data-vv-as"]:t},ut.value.get=function(){if(m(this.getter))return this.getter()},ut.bails.get=function(){return this._bails},ut.rejectsFalse.get=function(){return this.componentInstance&&this.ctorConfig?!!this.ctorConfig.rejectsFalse:!!this.el&&"checkbox"===this.el.type},lt.prototype.matches=function(t){var e=this;return!t||(t.id?this.id===t.id:!!(s(t.vmId)?function(){return!0}:function(t){return t===e.vmId})(t.vmId)&&(void 0===t.name&&void 0===t.scope||(void 0===t.scope?this.name===t.name:void 0===t.name?this.scope===t.scope:t.name===this.name&&t.scope===this.scope)))},lt.prototype._cacheId=function(t){this.el&&!t.targetOf&&(this.el._veeValidateId=this.id)},lt.prototype.waitFor=function(t){this._waitingFor=t},lt.prototype.isWaitingFor=function(t){return this._waitingFor===t},lt.prototype.update=function(t){var e,n,i,r=this;if(this.targetOf=t.targetOf||null,this.immediate=t.immediate||this.immediate||!1,this.persist=t.persist||this.persist||!1,!s(t.scope)&&t.scope!==this.scope&&m(this.validator.update)&&this.validator.update(this.id,{scope:t.scope}),this.scope=s(t.scope)?s(this.scope)?null:this.scope:t.scope,this.name=(s(t.name)?t.name:String(t.name))||this.name||null,this.rules=void 0!==t.rules?f(t.rules):this.rules,this._bails=void 0!==t.bails?t.bails:this._bails,this.model=t.model||this.model,this.listen=void 0!==t.listen?t.listen:this.listen,this.classes=!(!t.classes&&!this.classes)&&!this.componentInstance,this.classNames=v(t.classNames)?O(this.classNames,t.classNames):this.classNames,this.getter=m(t.getter)?t.getter:this.getter,this._alias=t.alias||this._alias,this.events=t.events?rt(t.events):this.events,this.delay=(e=this.events,n=t.delay||this.delay,i=this._delay,"number"==typeof n?e.reduce(function(t,e){return t[e]=n,t},{}):e.reduce(function(t,e){return"object"==typeof n&&e in n?(t[e]=n[e],t):"number"==typeof i?(t[e]=i,t):(t[e]=i&&i[e]||0,t)},{})),this.updateDependencies(),this.addActionListeners(),void 0!==t.rules&&(this.flags.required=this.isRequired),0===Object.keys(t.rules||{}).length&&this.updated){var o=this.flags.validated;this.validator.validate("#"+this.id).then(function(){r.flags.validated=o})}this.flags.validated&&void 0!==t.rules&&this.updated&&this.validator.validate("#"+this.id),this.updated=!0,this.addValueListeners(),this.el&&(this.updateClasses(),this.updateAriaAttrs())},lt.prototype.reset=function(){var t=this;this._cancellationToken&&(this._cancellationToken.cancelled=!0,delete this._cancellationToken);var e={untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:null,invalid:null,validated:!1,pending:!1,required:!1,changed:!1};Object.keys(this.flags).filter(function(t){return"required"!==t}).forEach(function(n){t.flags[n]=e[n]}),this.initialValue=this.value,this.flags.changed=!1,this.addValueListeners(),this.addActionListeners(),this.updateClasses(!0),this.updateAriaAttrs(),this.updateCustomValidity()},lt.prototype.setFlags=function(t){var e=this,n={pristine:"dirty",dirty:"pristine",valid:"invalid",invalid:"valid",touched:"untouched",untouched:"touched"};Object.keys(t).forEach(function(i){e.flags[i]=t[i],n[i]&&void 0===t[n[i]]&&(e.flags[n[i]]=!t[i])}),void 0===t.untouched&&void 0===t.touched&&void 0===t.dirty&&void 0===t.pristine||this.addActionListeners(),this.updateClasses(),this.updateAriaAttrs(),this.updateCustomValidity()},lt.prototype.updateDependencies=function(){var t=this;this.dependencies.forEach(function(t){return t.field.destroy()}),this.dependencies=[];var e=Object.keys(this.rules).reduce(function(e,n){return et.isTargetRule(n)&&e.push({selector:t.rules[n][0],name:n}),e},[]);e.length&&this.vm&&this.vm.$el&&e.forEach(function(e){var n=e.selector,i=e.name,r=t.vm.$refs[n],o=Array.isArray(r)?r[0]:r;if(o){var a={vm:t.vm,classes:t.classes,classNames:t.classNames,delay:t.delay,scope:t.scope,events:t.events.join("|"),immediate:t.immediate,targetOf:t.id};m(o.$watch)?(a.component=o,a.el=o.$el,a.getter=q.resolveGetter(o.$el,o.$vnode)):(a.el=o,a.getter=q.resolveGetter(o,{})),t.dependencies.push({name:i,field:new lt(a)})}})},lt.prototype.unwatch=function(t){if(void 0===t&&(t=null),!t)return this.watchers.forEach(function(t){return t.unwatch()}),void(this.watchers=[]);this.watchers.filter(function(e){return t.test(e.tag)}).forEach(function(t){return t.unwatch()}),this.watchers=this.watchers.filter(function(e){return!t.test(e.tag)})},lt.prototype.updateClasses=function(t){var e=this;if(void 0===t&&(t=!1),this.classes&&!this.isDisabled){var n=function(n){b(n,e.classNames.dirty,e.flags.dirty),b(n,e.classNames.pristine,e.flags.pristine),b(n,e.classNames.touched,e.flags.touched),b(n,e.classNames.untouched,e.flags.untouched),t&&(b(n,e.classNames.valid,!1),b(n,e.classNames.invalid,!1)),!s(e.flags.valid)&&e.flags.validated&&b(n,e.classNames.valid,e.flags.valid),!s(e.flags.invalid)&&e.flags.validated&&b(n,e.classNames.invalid,e.flags.invalid)};if(r(this.el)){var i=document.querySelectorAll('input[name="'+this.el.name+'"]');x(i).forEach(n)}else n(this.el)}},lt.prototype.addActionListeners=function(){var t=this;if(this.unwatch(/class/),this.el){var e=function(){t.flags.touched=!0,t.flags.untouched=!1,t.classes&&(b(t.el,t.classNames.touched,!0),b(t.el,t.classNames.untouched,!1)),t.unwatch(/^class_blur$/)},n=i(this.el)?"input":"change",o=function(){t.flags.dirty=!0,t.flags.pristine=!1,t.classes&&(b(t.el,t.classNames.pristine,!1),b(t.el,t.classNames.dirty,!0)),t.unwatch(/^class_input$/)};if(this.componentInstance&&m(this.componentInstance.$once))return this.componentInstance.$once("input",o),this.componentInstance.$once("blur",e),this.watchers.push({tag:"class_input",unwatch:function(){t.componentInstance.$off("input",o)}}),void this.watchers.push({tag:"class_blur",unwatch:function(){t.componentInstance.$off("blur",e)}});if(this.el){at(this.el,n,o);var a=r(this.el)?"change":"blur";at(this.el,a,e),this.watchers.push({tag:"class_input",unwatch:function(){t.el.removeEventListener(n,o)}}),this.watchers.push({tag:"class_blur",unwatch:function(){t.el.removeEventListener(a,e)}})}}},lt.prototype.checkValueChanged=function(){return(null!==this.initialValue||""!==this.value||!i(this.el))&&this.value!==this.initialValue},lt.prototype._determineInputEvent=function(){return this.componentInstance?this.componentInstance.$options.model&&this.componentInstance.$options.model.event||"input":this.model&&this.model.lazy?"change":i(this.el)?"input":"change"},lt.prototype._determineEventList=function(t){var e=this;return!this.events.length||this.componentInstance||i(this.el)?[].concat(this.events).map(function(t){return"input"===t&&e.model&&e.model.lazy?"change":t}):this.events.map(function(e){return"input"===e?t:e})},lt.prototype.addValueListeners=function(){var t=this;if(this.unwatch(/^input_.+/),this.listen&&this.el){var e={cancelled:!1},n=this.targetOf?function(){var e=t.validator._resolveField("#"+t.targetOf);e&&e.flags.validated&&t.validator.validate("#"+t.targetOf)}:function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];(0===n.length||it(n[0]))&&(n[0]=t.value),t.flags.pending=!0,t._cancellationToken=e,t.validator.validate("#"+t.id,n[0])},i=this._determineInputEvent(),r=this._determineEventList(i);if(N(r,i)){var o=null,a=null,s=!1;if(this.model&&this.model.expression&&(o=this.vm,a=this.model.expression,s=!0),!a&&this.componentInstance&&this.componentInstance.$options.model&&(o=this.componentInstance,a=this.componentInstance.$options.model.prop||"value"),o&&a){var l=h(n,this.delay[i],e),u=o.$watch(a,l);this.watchers.push({tag:"input_model",unwatch:function(){t.vm.$nextTick(function(){u()})}}),s&&(r=r.filter(function(t){return t!==i}))}}r.forEach(function(i){var r=h(n,t.delay[i],e);t._addComponentEventListener(i,r),t._addHTMLEventListener(i,r)})}},lt.prototype._addComponentEventListener=function(t,e){var n=this;this.componentInstance&&(this.componentInstance.$on(t,e),this.watchers.push({tag:"input_vue",unwatch:function(){n.componentInstance.$off(t,e)}}))},lt.prototype._addHTMLEventListener=function(t,e){var n=this;if(this.el&&!this.componentInstance){var i=function(i){at(i,t,e),n.watchers.push({tag:"input_native",unwatch:function(){i.removeEventListener(t,e)}})};if(i(this.el),r(this.el)){var o=document.querySelectorAll('input[name="'+this.el.name+'"]');x(o).forEach(function(t){t._veeValidateId&&t!==n.el||i(t)})}}},lt.prototype.updateAriaAttrs=function(){var t=this;if(this.aria&&this.el&&m(this.el.setAttribute)){var e=function(e){e.setAttribute("aria-required",t.isRequired?"true":"false"),e.setAttribute("aria-invalid",t.flags.invalid?"true":"false")};if(r(this.el)){var n=document.querySelectorAll('input[name="'+this.el.name+'"]');x(n).forEach(e)}else e(this.el)}},lt.prototype.updateCustomValidity=function(){this.validity&&this.el&&m(this.el.setCustomValidity)&&this.validator.errors&&this.el.setCustomValidity(this.flags.valid?"":this.validator.errors.firstById(this.id)||"")},lt.prototype.destroy=function(){this._cancellationToken&&(this._cancellationToken.cancelled=!0),this.unwatch(),this.dependencies.forEach(function(t){return t.field.destroy()}),this.dependencies=[]},Object.defineProperties(lt.prototype,ut);var ct=function(t){void 0===t&&(t=[]),this.items=t||[],this.itemsById=this.items.reduce(function(t,e){return t[e.id]=e,t},{})},ht={length:{configurable:!0}};ct.prototype["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=function(){var t=this,e=0;return{next:function(){return{value:t.items[e++],done:e>t.items.length}}}},ht.length.get=function(){return this.items.length},ct.prototype.find=function(t){return I(this.items,function(e){return e.matches(t)})},ct.prototype.findById=function(t){return this.itemsById[t]||null},ct.prototype.filter=function(t){return Array.isArray(t)?this.items.filter(function(e){return t.some(function(t){return e.matches(t)})}):this.items.filter(function(e){return e.matches(t)})},ct.prototype.map=function(t){return this.items.map(t)},ct.prototype.remove=function(t){var e=null;if(!(e=t instanceof lt?t:this.find(t)))return null;var n=this.items.indexOf(e);return this.items.splice(n,1),delete this.itemsById[e.id],e},ct.prototype.push=function(t){if(!(t instanceof lt))throw g("FieldBag only accepts instances of Field that has an id defined.");if(!t.id)throw g("Field id must be defined.");if(this.findById(t.id))throw g("Field with id "+t.id+" is already added.");this.items.push(t),this.itemsById[t.id]=t},Object.defineProperties(ct.prototype,ht);var dt=function(t,e){this.id=e._uid,this._base=t,this._paused=!1,this.errors=new G(t.errors,this.id)},ft={flags:{configurable:!0},rules:{configurable:!0},fields:{configurable:!0},dictionary:{configurable:!0},locale:{configurable:!0}};ft.flags.get=function(){var t=this;return this._base.fields.items.filter(function(e){return e.vmId===t.id}).reduce(function(t,e){return e.scope&&(t["$"+e.scope]||(t["$"+e.scope]={}),t["$"+e.scope][e.name]=e.flags),t[e.name]=e.flags,t},{})},ft.rules.get=function(){return this._base.rules},ft.fields.get=function(){return new ct(this._base.fields.filter({vmId:this.id}))},ft.dictionary.get=function(){return this._base.dictionary},ft.locale.get=function(){return this._base.locale},ft.locale.set=function(t){this._base.locale=t},dt.prototype.localize=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];return(t=this._base).localize.apply(t,e)},dt.prototype.update=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];return(t=this._base).update.apply(t,e)},dt.prototype.attach=function(t){var e=_({},t,{vmId:this.id});return this._base.attach(e)},dt.prototype.pause=function(){this._paused=!0},dt.prototype.resume=function(){this._paused=!1},dt.prototype.remove=function(t){return this._base.remove(t)},dt.prototype.detach=function(t,e){return this._base.detach(t,e,this.id)},dt.prototype.extend=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];return(t=this._base).extend.apply(t,e)},dt.prototype.validate=function(t,e,n){return void 0===n&&(n={}),this._paused?Promise.resolve(!0):this._base.validate(t,e,_({},{vmId:this.id},n||{}))},dt.prototype.verify=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];return(t=this._base).verify.apply(t,e)},dt.prototype.validateAll=function(t,e){return void 0===e&&(e={}),this._paused?Promise.resolve(!0):this._base.validateAll(t,_({},{vmId:this.id},e||{}))},dt.prototype.validateScopes=function(t){return void 0===t&&(t={}),this._paused?Promise.resolve(!0):this._base.validateScopes(_({},{vmId:this.id},t||{}))},dt.prototype.destroy=function(){delete this.id,delete this._base},dt.prototype.reset=function(t){return this._base.reset(Object.assign({},t||{},{vmId:this.id}))},dt.prototype.flag=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];return(t=this._base).flag.apply(t,e.concat([this.id]))},dt.prototype._resolveField=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];return(t=this._base)._resolveField.apply(t,e)},Object.defineProperties(dt.prototype,ft);var pt=null,gt=function(){return pt},vt={provide:function(){return this.$validator&&!k(this.$vnode)?{$validator:this.$validator}:{}},beforeCreate:function(){if(!k(this.$vnode)&&!1!==this.$options.$__veeInject){this.$parent||U(this.$options.$_veeValidate||{});var t=W(this);(!this.$parent||this.$options.$_veeValidate&&/new/.test(this.$options.$_veeValidate.validator))&&(this.$validator=new dt(gt(),this));var e,n=(e=this.$options.inject,!(!v(e)||!e.$validator));if(this.$validator||!t.inject||n||(this.$validator=new dt(gt(),this)),n||this.$validator){if(!n&&this.$validator)this.$options._base.util.defineReactive(this.$validator,"errors",this.$validator.errors);this.$options.computed||(this.$options.computed={}),this.$options.computed[t.errorBagName||"errors"]=function(){return this.$validator.errors},this.$options.computed[t.fieldsBagName||"fields"]=function(){return this.$validator.fields.items.reduce(function(t,e){return e.scope?(t["$"+e.scope]||(t["$"+e.scope]={}),t["$"+e.scope][e.name]=e.flags,t):(t[e.name]=e.flags,t)},{})}}}},beforeDestroy:function(){this.$validator&&this._uid===this.$validator.id&&this.$validator.errors.clear()}};function mt(t,e){return e&&e.$validator?e.$validator.fields.findById(t._veeValidateId):null}var yt={bind:function(t,e,n){var i=n.context.$validator;if(i){var r=q.generate(t,e,n);i.attach(r)}},inserted:function(t,e,n){var i=mt(t,n.context),r=q.resolveScope(t,e,n);i&&r!==i.scope&&(i.update({scope:r}),i.updated=!1)},update:function(t,e,n){var i=mt(t,n.context);if(!(!i||i.updated&&l(e.value,e.oldValue))){var r=q.resolveScope(t,e,n),o=q.resolveRules(t,e,n);i.update({scope:r,rules:o})}},unbind:function(t,e,n){var i=n.context,r=mt(t,i);r&&i.$validator.detach(r)}},bt=function(t,e,n){void 0===e&&(e={fastExit:!0}),void 0===n&&(n=null),this.errors=new G,this.fields=new ct,this._createFields(t),this.paused=!1,this.fastExit=!!s(e&&e.fastExit)||e.fastExit,this.$vee=n||{_vm:{$nextTick:function(t){return m(t)?t():Promise.resolve()},$emit:function(){},$off:function(){}}}},xt={rules:{configurable:!0},dictionary:{configurable:!0},flags:{configurable:!0},locale:{configurable:!0}},wt={rules:{configurable:!0},dictionary:{configurable:!0},locale:{configurable:!0}};wt.rules.get=function(){return et.rules},xt.rules.get=function(){return et.rules},xt.dictionary.get=function(){return F.getDriver()},wt.dictionary.get=function(){return F.getDriver()},xt.flags.get=function(){return this.fields.items.reduce(function(t,e){var n;return e.scope?(t["$"+e.scope]=((n={})[e.name]=e.flags,n),t):(t[e.name]=e.flags,t)},{})},xt.locale.get=function(){return bt.locale},xt.locale.set=function(t){bt.locale=t},wt.locale.get=function(){return F.getDriver().locale},wt.locale.set=function(t){var e=t!==F.getDriver().locale;F.getDriver().locale=t,e&&bt.$vee&&bt.$vee._vm&&bt.$vee._vm.$emit("localeChanged")},bt.create=function(t,e){return new bt(t,e)},bt.extend=function(t,e,n){void 0===n&&(n={}),bt._guardExtend(t,e);var i=e.options||{};bt._merge(t,{validator:e,paramNames:n&&n.paramNames||e.paramNames,options:_({hasTarget:!1,immediate:!0},i,n||{})})},bt.remove=function(t){et.remove(t)},bt.prototype.localize=function(t,e){bt.localize(t,e)},bt.localize=function(t,e){var n;if(v(t))F.getDriver().merge(t);else{if(e){var i=t||e.name;e=_({},e),F.getDriver().merge(((n={})[i]=e,n))}t&&(bt.locale=t)}},bt.prototype.attach=function(t){var e=this,n={name:t.name,scope:t.scope,persist:!0},i=t.persist?this.fields.find(n):null;i&&(t.flags=i.flags,i.destroy(),this.fields.remove(i));var r=t.initialValue,o=new lt(t);return this.fields.push(o),o.immediate?this.$vee._vm.$nextTick(function(){return e.validate("#"+o.id,r||o.value,{vmId:t.vmId})}):this._validate(o,r||o.value,{initial:!0}).then(function(t){o.flags.valid=t.valid,o.flags.invalid=!t.valid}),o},bt.prototype.flag=function(t,e,n){void 0===n&&(n=null);var i=this._resolveField(t,void 0,n);i&&e&&i.setFlags(e)},bt.prototype.detach=function(t,e,n){var i=m(t.destroy)?t:this._resolveField(t,e,n);i&&(i.persist||(i.destroy(),this.errors.remove(i.name,i.scope,i.vmId),this.fields.remove(i)))},bt.prototype.extend=function(t,e,n){void 0===n&&(n={}),bt.extend(t,e,n)},bt.prototype.reset=function(t){var e=this;return this.$vee._vm.$nextTick().then(function(){return e.$vee._vm.$nextTick()}).then(function(){e.fields.filter(t).forEach(function(n){n.waitFor(null),n.reset(),e.errors.remove(n.name,n.scope,t&&t.vmId)})})},bt.prototype.update=function(t,e){var n=e.scope;this._resolveField("#"+t)&&this.errors.update(t,{scope:n})},bt.prototype.remove=function(t){bt.remove(t)},bt.prototype.validate=function(t,e,n){var i=this;void 0===n&&(n={});var r=n.silent,o=n.vmId;if(this.paused)return Promise.resolve(!0);if(s(t))return this.validateScopes({silent:r,vmId:o});if("*"===t)return this.validateAll(void 0,{silent:r,vmId:o});if(/^(.+)\.\*$/.test(t)){var a=t.match(/^(.+)\.\*$/)[1];return this.validateAll(a)}var l=this._resolveField(t);if(!l)return this._handleFieldNotFound(t);r||(l.flags.pending=!0),void 0===e&&(e=l.value);var u=this._validate(l,e);return l.waitFor(u),u.then(function(t){return!r&&l.isWaitingFor(u)&&(l.waitFor(null),i._handleValidationResults([t],o)),t.valid})},bt.prototype.pause=function(){return this.paused=!0,this},bt.prototype.resume=function(){return this.paused=!1,this},bt.prototype.validateAll=function(t,e){var n=this;void 0===e&&(e={});var i=e.silent,r=e.vmId;if(this.paused)return Promise.resolve(!0);var o=null,a=!1;return"string"==typeof t?o={scope:t,vmId:r}:v(t)?(o=Object.keys(t).map(function(t){return{name:t,vmId:r,scope:null}}),a=!0):o=Array.isArray(t)?t.map(function(t){return"object"==typeof t?Object.assign({vmId:r},t):{name:t,vmId:r}}):{scope:null,vmId:r},Promise.all(this.fields.filter(o).map(function(e){return n._validate(e,a?t[e.name]:e.value)})).then(function(t){return i||n._handleValidationResults(t,r),t.every(function(t){return t.valid})})},bt.prototype.validateScopes=function(t){var e=this;void 0===t&&(t={});var n=t.silent,i=t.vmId;return this.paused?Promise.resolve(!0):Promise.all(this.fields.filter({vmId:i}).map(function(t){return e._validate(t,t.value)})).then(function(t){return n||e._handleValidationResults(t,i),t.every(function(t){return t.valid})})},bt.prototype.verify=function(t,e,n){void 0===n&&(n={});var i={name:n&&n.name||"{field}",rules:f(e),bails:c("bails",n,!0),forceRequired:!1,get isRequired(){return!!this.rules.required||this.forceRequired}},r=Object.keys(i.rules).filter(et.isTargetRule);return r.length&&n&&v(n.values)&&(i.dependencies=r.map(function(t){var e=i.rules[t][0];return{name:t,field:{value:n.values[e]}}})),this._validate(i,t).then(function(t){var e=[],n={};return t.errors.forEach(function(t){e.push(t.msg),n[t.rule]=t.msg}),{valid:t.valid,errors:e,failedRules:n}})},bt.prototype.destroy=function(){this.$vee._vm.$off("localeChanged")},bt.prototype._createFields=function(t){var e=this;t&&Object.keys(t).forEach(function(n){var i=_({},{name:n,rules:t[n]});e.attach(i)})},bt.prototype._getDateFormat=function(t){var e=null;return t.date_format&&Array.isArray(t.date_format)&&(e=t.date_format[0]),e||F.getDriver().getDateFormat(this.locale)},bt.prototype._formatErrorMessage=function(t,e,n,i){void 0===n&&(n={}),void 0===i&&(i=null);var r=this._getFieldDisplayName(t),o=this._getLocalizedParams(e,i);return F.getDriver().getFieldMessage(this.locale,t.name,e.name,[r,o,n])},bt.prototype._convertParamObjectToArray=function(t,e){if(Array.isArray(t))return t;var n=et.getParamNames(e);return n&&v(t)?n.reduce(function(e,n){return n in t&&e.push(t[n]),e},[]):t},bt.prototype._getLocalizedParams=function(t,e){void 0===e&&(e=null);var n=this._convertParamObjectToArray(t.params,t.name);return t.options.hasTarget&&n&&n[0]?[e||F.getDriver().getAttribute(this.locale,n[0],n[0])].concat(n.slice(1)):n},bt.prototype._getFieldDisplayName=function(t){return t.alias||F.getDriver().getAttribute(this.locale,t.name,t.name)},bt.prototype._convertParamArrayToObj=function(t,e){var n=et.getParamNames(e);if(!n)return t;if(v(t)){if(n.some(function(e){return-1!==Object.keys(t).indexOf(e)}))return t;t=[t]}return t.reduce(function(t,e,i){return t[n[i]]=e,t},{})},bt.prototype._test=function(t,e,n){var i=this,r=et.getValidatorMethod(n.name),o=Array.isArray(n.params)?x(n.params):n.params;o||(o=[]);var a=null;if(!r||"function"!=typeof r)return Promise.reject(g("No such validator '"+n.name+"' exists."));if(n.options.hasTarget&&t.dependencies){var s=I(t.dependencies,function(t){return t.name===n.name});s&&(a=s.field.alias,o=[s.field.value].concat(o.slice(1)))}else"required"===n.name&&t.rejectsFalse&&(o=o.length?o:[!0]);if(n.options.isDate){var l=this._getDateFormat(t.rules);"date_format"!==n.name&&o.push(l)}var u=r(e,this._convertParamArrayToObj(o,n.name));return m(u.then)?u.then(function(e){var r=!0,o={};return Array.isArray(e)?r=e.every(function(t){return v(t)?t.valid:t}):(r=v(e)?e.valid:e,o=e.data),{valid:r,data:u.data,errors:r?[]:[i._createFieldError(t,n,o,a)]}}):(v(u)||(u={valid:u,data:{}}),{valid:u.valid,data:u.data,errors:u.valid?[]:[this._createFieldError(t,n,u.data,a)]})},bt._merge=function(t,e){var n=e.validator,i=e.options,r=e.paramNames,o=m(n)?n:n.validate;n.getMessage&&F.getDriver().setMessage(bt.locale,t,n.getMessage),et.add(t,{validate:o,options:i,paramNames:r})},bt._guardExtend=function(t,e){if(!m(e)&&!m(e.validate))throw g("Extension Error: The validator '"+t+"' must be a function or have a 'validate' method.")},bt.prototype._createFieldError=function(t,e,n,i){var r=this;return{id:t.id,vmId:t.vmId,field:t.name,msg:this._formatErrorMessage(t,e,n,i),rule:e.name,scope:t.scope,regenerate:function(){return r._formatErrorMessage(t,e,n,i)}}},bt.prototype._resolveField=function(t,e,n){if("#"===t[0])return this.fields.findById(t.slice(1));if(!s(e))return this.fields.find({name:t,scope:e,vmId:n});if(N(t,".")){var i=t.split("."),r=i[0],o=i.slice(1),a=this.fields.find({name:o.join("."),scope:r,vmId:n});if(a)return a}return this.fields.find({name:t,scope:null,vmId:n})},bt.prototype._handleFieldNotFound=function(t,e){var n=s(e)?t:(s(e)?"":e+".")+t;return Promise.reject(g('Validating a non-existent field: "'+n+'". Use "attach()" first.'))},bt.prototype._handleValidationResults=function(t,e){var n=this,i=t.map(function(t){return{id:t.id}});this.errors.removeById(i.map(function(t){return t.id})),t.forEach(function(t){n.errors.remove(t.field,t.scope,e)});var r=t.reduce(function(t,e){return t.push.apply(t,e.errors),t},[]);this.errors.add(r),this.fields.filter(i).forEach(function(e){var n=I(t,function(t){return t.id===e.id});e.setFlags({pending:!1,valid:n.valid,validated:!0})})},bt.prototype._shouldSkip=function(t,e){return!1!==t.bails&&(!(!t.isDisabled||!H().useConstraintAttrs)||!t.isRequired&&(s(e)||""===e||L(e)))},bt.prototype._shouldBail=function(t){return void 0!==t.bails?t.bails:this.fastExit},bt.prototype._validate=function(t,e,n){var i=this;void 0===n&&(n={});var r=n.initial,o=Object.keys(t.rules).filter(et.isRequireRule);if(t.forceRequired=!1,o.forEach(function(n){var r=et.getOptions(n),o=i._test(t,e,{name:n,params:t.rules[n],options:r});if(m(o.then))throw g("Require rules cannot be async");if(!v(o))throw g("Require rules has to return an object (see docs)");!0===o.data.required&&(t.forceRequired=!0)}),this._shouldSkip(t,e))return Promise.resolve({valid:!0,id:t.id,field:t.name,scope:t.scope,errors:[]});var a=[],s=[],l=!1;return m(t.checkValueChanged)&&(t.flags.changed=t.checkValueChanged()),Object.keys(t.rules).filter(function(t){return!r||!et.has(t)||et.isImmediate(t)}).some(function(n){var r=et.getOptions(n),o=i._test(t,e,{name:n,params:t.rules[n],options:r});return m(o.then)?a.push(o):!o.valid&&i._shouldBail(t)?(s.push.apply(s,o.errors),l=!0):a.push(new Promise(function(t){return t(o)})),l}),l?Promise.resolve({valid:!1,errors:s,id:t.id,field:t.name,scope:t.scope}):Promise.all(a).then(function(e){return e.reduce(function(t,e){var n;return e.valid||(n=t.errors).push.apply(n,e.errors),t.valid=t.valid&&e.valid,t},{valid:!0,errors:s,id:t.id,field:t.name,scope:t.scope})})},Object.defineProperties(bt.prototype,xt),Object.defineProperties(bt,wt);var _t=function(t){return v(t)?Object.keys(t).reduce(function(e,n){return e[n]=_t(t[n]),e},{}):m(t)?t("{0}",["{1}","{2}","{3}"]):t},St=function(t,e){this.i18n=t,this.rootKey=e},Mt={locale:{configurable:!0}};Mt.locale.get=function(){return this.i18n.locale},Mt.locale.set=function(t){p("Cannot set locale from the validator when using vue-i18n, use i18n.locale setter instead")},St.prototype.getDateFormat=function(t){return this.i18n.getDateTimeFormat(t||this.locale)},St.prototype.setDateFormat=function(t,e){this.i18n.setDateTimeFormat(t||this.locale,e)},St.prototype.getMessage=function(t,e,n){var i=this.rootKey+".messages."+e,r=n;return Array.isArray(n)&&(r=[].concat.apply([],n)),this.i18n.te(i)?this.i18n.t(i,r):this.i18n.te(i,this.i18n.fallbackLocale)?this.i18n.t(i,this.i18n.fallbackLocale,r):this.i18n.t(this.rootKey+".messages._default",r)},St.prototype.getAttribute=function(t,e,n){void 0===n&&(n="");var i=this.rootKey+".attributes."+e;return this.i18n.te(i)?this.i18n.t(i):n},St.prototype.getFieldMessage=function(t,e,n,i){var r=this.rootKey+".custom."+e+"."+n;return this.i18n.te(r)?this.i18n.t(r,i):this.getMessage(t,n,i)},St.prototype.merge=function(t){var e=this;Object.keys(t).forEach(function(n){var i,r=O({},c(n+"."+e.rootKey,e.i18n.messages,{})),o=O(r,function(t){var e={};return t.messages&&(e.messages=_t(t.messages)),t.custom&&(e.custom=_t(t.custom)),t.attributes&&(e.attributes=t.attributes),s(t.dateFormat)||(e.dateFormat=t.dateFormat),e}(t[n]));e.i18n.mergeLocaleMessage(n,((i={})[e.rootKey]=o,i)),o.dateFormat&&e.i18n.setDateTimeFormat(n,o.dateFormat)})},St.prototype.setMessage=function(t,e,n){var i,r;this.merge(((r={})[t]={messages:(i={},i[e]=n,i)},r))},St.prototype.setAttribute=function(t,e,n){var i,r;this.merge(((r={})[t]={attributes:(i={},i[e]=n,i)},r))},Object.defineProperties(St.prototype,Mt);var Ct,It,kt,Tt={aggressive:function(){return{on:["input"]}},eager:function(t){return t.errors.length?{on:["input"]}:{on:["change","blur"]}},passive:function(){return{on:[]}},lazy:function(){return{on:["change"]}}},Ot=function(t,e){var n;this.configure(t),kt=this,e&&(Ct=e),this._validator=(n=new bt(null,{fastExit:t&&t.fastExit},this),pt=n,n),this._initVM(this.config),this._initI18n(this.config)},Et={i18nDriver:{configurable:!0},config:{configurable:!0}},At={i18nDriver:{configurable:!0},config:{configurable:!0}};Ot.setI18nDriver=function(t,e){F.setDriver(t,e)},Ot.configure=function(t){U(t)},Ot.setMode=function(t,e){if(U({mode:t}),e){if(!m(e))throw new Error("A mode implementation must be a function");Tt[t]=e}},Ot.use=function(t,e){return void 0===e&&(e={}),m(t)?kt?void t({Validator:bt,ErrorBag:G,Rules:bt.rules},e):(It||(It=[]),void It.push({plugin:t,options:e})):p("The plugin must be a callable function")},Ot.install=function(t,e){Ct&&t===Ct||(Ct=t,kt=new Ot(e),bt.$vee=kt,function(){try{var t=Object.defineProperty({},"passive",{get:function(){ot=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(t){ot=!1}}(),Ct.mixin(vt),Ct.directive("validate",yt),It&&(It.forEach(function(t){var e=t.plugin,n=t.options;Ot.use(e,n)}),It=null))},Et.i18nDriver.get=function(){return F.getDriver()},At.i18nDriver.get=function(){return F.getDriver()},Et.config.get=function(){return H()},At.config.get=function(){return H()},Ot.prototype._initVM=function(t){var e=this;this._vm=new Ct({data:function(){return{errors:e._validator.errors,fields:e._validator.fields}}})},Ot.prototype._initI18n=function(t){var e=this,n=t.dictionary,i=t.i18n,r=t.i18nRootKey,o=t.locale,a=function(){n&&e.i18nDriver.merge(n),e._validator.errors.regenerate()};i?(Ot.setI18nDriver("i18n",new St(i,r)),i._vm.$watch("locale",a)):"undefined"!=typeof window&&this._vm.$on("localeChanged",a),n&&this.i18nDriver.merge(n),o&&!i&&this._validator.localize(o)},Ot.prototype.configure=function(t){U(t)},Object.defineProperties(Ot.prototype,Et),Object.defineProperties(Ot,At),Ot.mixin=vt,Ot.directive=yt,Ot.Validator=bt,Ot.ErrorBag=G;var Nt,Lt={name:"en",messages:{_default:function(t){return"The "+t+" value is not valid"},after:function(t,e){var n=e[0];return"The "+t+" must be after "+(e[1]?"or equal to ":"")+n},alpha:function(t){return"The "+t+" field may only contain alphabetic characters"},alpha_dash:function(t){return"The "+t+" field may contain alpha-numeric characters as well as dashes and underscores"},alpha_num:function(t){return"The "+t+" field may only contain alpha-numeric characters"},alpha_spaces:function(t){return"The "+t+" field may only contain alphabetic characters as well as spaces"},before:function(t,e){var n=e[0];return"The "+t+" must be before "+(e[1]?"or equal to ":"")+n},between:function(t,e){return"The "+t+" field must be between "+e[0]+" and "+e[1]},confirmed:function(t){return"The "+t+" confirmation does not match"},credit_card:function(t){return"The "+t+" field is invalid"},date_between:function(t,e){return"The "+t+" must be between "+e[0]+" and "+e[1]},date_format:function(t,e){return"The "+t+" must be in the format "+e[0]},decimal:function(t,e){void 0===e&&(e=[]);var n=e[0];return void 0===n&&(n="*"),"The "+t+" field must be numeric and may contain"+(n&&"*"!==n?" "+n:"")+" decimal points"},digits:function(t,e){return"The "+t+" field must be numeric and contains exactly "+e[0]+" digits"},dimensions:function(t,e){return"The "+t+" field must be "+e[0]+" pixels by "+e[1]+" pixels"},email:function(t){return"The "+t+" field must be a valid email"},excluded:function(t){return"The "+t+" field must be a valid value"},ext:function(t){return"The "+t+" field must be a valid file"},image:function(t){return"The "+t+" field must be an image"},included:function(t){return"The "+t+" field must be a valid value"},integer:function(t){return"The "+t+" field must be an integer"},ip:function(t){return"The "+t+" field must be a valid ip address"},ip_or_fqdn:function(t){return"The "+t+" field must be a valid ip address or FQDN"},length:function(t,e){var n=e[0],i=e[1];return i?"The "+t+" length must be between "+n+" and "+i:"The "+t+" length must be "+n},max:function(t,e){return"The "+t+" field may not be greater than "+e[0]+" characters"},max_value:function(t,e){return"The "+t+" field must be "+e[0]+" or less"},mimes:function(t){return"The "+t+" field must have a valid file type"},min:function(t,e){return"The "+t+" field must be at least "+e[0]+" characters"},min_value:function(t,e){return"The "+t+" field must be "+e[0]+" or more"},numeric:function(t){return"The "+t+" field may only contain numeric characters"},regex:function(t){return"The "+t+" field format is invalid"},required:function(t){return"The "+t+" field is required"},required_if:function(t,e){return"The "+t+" field is required when the "+e[0]+" field has this value"},size:function(t,e){return"The "+t+" size must be less than "+function(t){var e=0==(t=1024*Number(t))?0:Math.floor(Math.log(t)/Math.log(1024));return 1*(t/Math.pow(1024,e)).toFixed(2)+" "+["Byte","KB","MB","GB","TB","PB","EB","ZB","YB"][e]}(e[0])},url:function(t){return"The "+t+" field is not a valid URL"}},attributes:{}};function Dt(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}"undefined"!=typeof VeeValidate&&VeeValidate.Validator.localize(((Nt={})[Lt.name]=Lt,Nt));var jt=6e4;function Pt(t){var e=new Date(t.getTime()),n=e.getTimezoneOffset();e.setSeconds(0,0);var i=e.getTime()%jt;return n*jt+i}var Rt=36e5,zt=6e4,Bt=2,Ft={dateTimeDelimeter:/[T ]/,plainTime:/:/,timeZoneDelimeter:/[Z ]/i,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-])(\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Gt(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===t)return new Date(NaN);var n=e||{},i=null==n.additionalDigits?Bt:Dt(n.additionalDigits);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))return new Date(t.getTime());if("number"==typeof t||"[object Number]"===Object.prototype.toString.call(t))return new Date(t);if("string"!=typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var r=function(t){var e,n={},i=t.split(Ft.dateTimeDelimeter);Ft.plainTime.test(i[0])?(n.date=null,e=i[0]):(n.date=i[0],e=i[1],Ft.timeZoneDelimeter.test(n.date)&&(n.date=t.split(Ft.timeZoneDelimeter)[0],e=t.substr(n.date.length,t.length)));if(e){var r=Ft.timezone.exec(e);r?(n.time=e.replace(r[1],""),n.timezone=r[1]):n.time=e}return n}(t),o=function(t,e){var n,i=Ft.YYY[e],r=Ft.YYYYY[e];if(n=Ft.YYYY.exec(t)||r.exec(t)){var o=n[1];return{year:parseInt(o,10),restDateString:t.slice(o.length)}}if(n=Ft.YY.exec(t)||i.exec(t)){var a=n[1];return{year:100*parseInt(a,10),restDateString:t.slice(a.length)}}return{year:null}}(r.date,i),a=o.year,s=function(t,e){if(null===e)return null;var n,i,r,o;if(0===t.length)return(i=new Date(0)).setUTCFullYear(e),i;if(n=Ft.MM.exec(t))return i=new Date(0),r=parseInt(n[1],10)-1,Yt(e,r)?(i.setUTCFullYear(e,r),i):new Date(NaN);if(n=Ft.DDD.exec(t)){i=new Date(0);var a=parseInt(n[1],10);return function(t,e){if(e<1)return!1;var n=Ut(t);if(n&&e>366)return!1;if(!n&&e>365)return!1;return!0}(e,a)?(i.setUTCFullYear(e,0,a),i):new Date(NaN)}if(n=Ft.MMDD.exec(t)){i=new Date(0),r=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return Yt(e,r,s)?(i.setUTCFullYear(e,r,s),i):new Date(NaN)}if(n=Ft.Www.exec(t))return o=parseInt(n[1],10)-1,Jt(e,o)?Vt(e,o):new Date(NaN);if(n=Ft.WwwD.exec(t)){o=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return Jt(e,o,l)?Vt(e,o,l):new Date(NaN)}return null}(o.restDateString,a);if(isNaN(s))return new Date(NaN);if(s){var l,u=s.getTime(),c=0;if(r.time&&(c=function(t){var e,n,i;if(e=Ft.HH.exec(t))return Qt(n=parseFloat(e[1].replace(",",".")))?n%24*Rt:NaN;if(e=Ft.HHMM.exec(t))return n=parseInt(e[1],10),i=parseFloat(e[2].replace(",",".")),Qt(n,i)?n%24*Rt+i*zt:NaN;if(e=Ft.HHMMSS.exec(t)){n=parseInt(e[1],10),i=parseInt(e[2],10);var r=parseFloat(e[3].replace(",","."));return Qt(n,i,r)?n%24*Rt+i*zt+1e3*r:NaN}return null}(r.time),isNaN(c)))return new Date(NaN);if(r.timezone){if(l=function(t){var e,n,i;if(e=Ft.timezoneZ.exec(t))return 0;if(e=Ft.timezoneHH.exec(t))return i=parseInt(e[2],10),Zt()?(n=i*Rt,"+"===e[1]?-n:n):NaN;if(e=Ft.timezoneHHMM.exec(t)){i=parseInt(e[2],10);var r=parseInt(e[3],10);return Zt(i,r)?(n=i*Rt+r*zt,"+"===e[1]?-n:n):NaN}return 0}(r.timezone),isNaN(l))return new Date(NaN)}else l=Pt(new Date(u+c)),l=Pt(new Date(u+c+l));return new Date(u+c+l)}return new Date(NaN)}function Vt(t,e,n){e=e||0,n=n||0;var i=new Date(0);i.setUTCFullYear(t,0,4);var r=7*e+n+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+r),i}var Wt=[31,28,31,30,31,30,31,31,30,31,30,31],Ht=[31,29,31,30,31,30,31,31,30,31,30,31];function Ut(t){return t%400==0||t%4==0&&t%100!=0}function Yt(t,e,n){if(e<0||e>11)return!1;if(null!=n){if(n<1)return!1;var i=Ut(t);if(i&&n>Ht[e])return!1;if(!i&&n>Wt[e])return!1}return!0}function Jt(t,e,n){return!(e<0||e>52)&&(null==n||!(n<0||n>6))}function Qt(t,e,n){return(null==t||!(t<0||t>=25))&&((null==e||!(e<0||e>=60))&&(null==n||!(n<0||n>=60)))}function Zt(t,e){return null==e||!(e<0||e>59)}function $t(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Gt(t,e);return!isNaN(n)}var Xt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Kt(t){return function(e){var n=e||{},i=n.width?String(n.width):t.defaultWidth;return t.formats[i]||t.formats[t.defaultWidth]}}var qt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function te(t){return function(e,n){var i=n||{},r=i.width?String(i.width):t.defaultWidth;return("formatting"===(i.context?String(i.context):"standalone")&&t.formattingValues?t.formattingValues[r]||t.formattingValues[t.defaultFormattingWidth]:t.values[r]||t.values[t.defaultWidth])[t.argumentCallback?t.argumentCallback(e):e]}}function ee(t){return function(e,n){var i=String(e),r=n||{},o=r.width,a=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],s=i.match(a);if(!s)return null;var l,u=s[0],c=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth];return l="[object Array]"===Object.prototype.toString.call(c)?c.findIndex(function(t){return t.test(i)}):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}(c,function(t){return t.test(i)}),l=t.valueCallback?t.valueCallback(l):l,{value:l=r.valueCallback?r.valueCallback(l):l,rest:i.slice(u.length)}}}var ne,ie={formatDistance:function(t,e,n){var i;return n=n||{},i="string"==typeof Xt[t]?Xt[t]:1===e?Xt[t].one:Xt[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+i:i+" ago":i},formatLong:{date:Kt({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Kt({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Kt({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},formatRelative:function(t,e,n,i){return qt[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:te({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:te({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:te({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:te({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:te({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaulFormattingWidth:"wide"})},match:{ordinalNumber:(ne={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n=String(t),i=e||{},r=n.match(ne.matchPattern);if(!r)return null;var o=r[0],a=n.match(ne.parsePattern);if(!a)return null;var s=ne.valueCallback?ne.valueCallback(a[0]):a[0];return{value:s=i.valueCallback?i.valueCallback(s):s,rest:n.slice(o.length)}}),era:ee({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ee({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ee({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ee({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ee({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},re=864e5;function oe(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Gt(t,e),i=n.getUTCDay(),r=(i<1?7:0)+i-1;return n.setUTCDate(n.getUTCDate()-r),n.setUTCHours(0,0,0,0),n}function ae(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Gt(t,e),i=n.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(i+1,0,4),r.setUTCHours(0,0,0,0);var o=oe(r,e),a=new Date(0);a.setUTCFullYear(i,0,4),a.setUTCHours(0,0,0,0);var s=oe(a,e);return n.getTime()>=o.getTime()?i+1:n.getTime()>=s.getTime()?i:i-1}var se=6048e5;function le(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Gt(t,e),i=oe(n,e).getTime()-function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=ae(t,e),i=new Date(0);return i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0),oe(i,e)}(n,e).getTime();return Math.round(i/se)+1}function ue(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},i=n.locale,r=i&&i.options&&i.options.weekStartsOn,o=null==r?0:Dt(r),a=null==n.weekStartsOn?o:Dt(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Gt(t,n),l=s.getUTCDay(),u=(l<a?7:0)+l-a;return s.setUTCDate(s.getUTCDate()-u),s.setUTCHours(0,0,0,0),s}function ce(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Gt(t,e),i=n.getUTCFullYear(),r=e||{},o=r.locale,a=o&&o.options&&o.options.firstWeekContainsDate,s=null==a?1:Dt(a),l=null==r.firstWeekContainsDate?s:Dt(r.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(i+1,0,l),u.setUTCHours(0,0,0,0);var c=ue(u,e),h=new Date(0);h.setUTCFullYear(i,0,l),h.setUTCHours(0,0,0,0);var d=ue(h,e);return n.getTime()>=c.getTime()?i+1:n.getTime()>=d.getTime()?i:i-1}var he=6048e5;function de(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Gt(t,e),i=ue(n,e).getTime()-function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},i=n.locale,r=i&&i.options&&i.options.firstWeekContainsDate,o=null==r?1:Dt(r),a=null==n.firstWeekContainsDate?o:Dt(n.firstWeekContainsDate),s=ce(t,e),l=new Date(0);return l.setUTCFullYear(s,0,a),l.setUTCHours(0,0,0,0),ue(l,e)}(n,e).getTime();return Math.round(i/he)+1}var fe="midnight",pe="noon",ge="morning",ve="afternoon",me="evening",ye="night",be={G:function(t,e,n){var i=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n,i){var r=t.getUTCFullYear(),o=r>0?r:1-r;return"yy"===e?xe(o%100,2):"yo"===e?n.ordinalNumber(o,{unit:"year"}):xe(o,e.length)},Y:function(t,e,n,i){var r=ce(t,i),o=r>0?r:1-r;return"YY"===e?xe(o%100,2):"Yo"===e?n.ordinalNumber(o,{unit:"year"}):xe(o,e.length)},R:function(t,e,n,i){return xe(ae(t,i),e.length)},u:function(t,e,n,i){return xe(t.getUTCFullYear(),e.length)},Q:function(t,e,n,i){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return xe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n,i){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return xe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n,i){var r=t.getUTCMonth();switch(e){case"M":return String(r+1);case"MM":return xe(r+1,2);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n,i){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return xe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){var r=de(t,i);return"wo"===e?n.ordinalNumber(r,{unit:"week"}):xe(r,e.length)},I:function(t,e,n,i){var r=le(t,i);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):xe(r,e.length)},d:function(t,e,n,i){var r=t.getUTCDate();return"do"===e?n.ordinalNumber(r,{unit:"date"}):xe(r,e.length)},D:function(t,e,n,i){var r=function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Gt(t,e),i=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var r=i-n.getTime();return Math.floor(r/re)+1}(t,i);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):xe(r,e.length)},E:function(t,e,n,i){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){var r=t.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return xe(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){var r=t.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return xe(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n,i){var r=t.getUTCDay(),o=0===r?7:r;switch(e){case"i":return String(o);case"ii":return xe(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var i=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){var i,r=t.getUTCHours();switch(i=12===r?pe:0===r?fe:r/12>=1?"pm":"am",e){case"b":case"bb":case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){var i,r=t.getUTCHours();switch(i=r>=17?me:r>=12?ve:r>=4?ge:ye,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n,i){var r=t.getUTCHours()%12;return 0===r&&(r=12),"ho"===e?n.ordinalNumber(r,{unit:"hour"}):xe(r,e.length)},H:function(t,e,n,i){var r=t.getUTCHours();return"Ho"===e?n.ordinalNumber(r,{unit:"hour"}):xe(r,e.length)},K:function(t,e,n,i){var r=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):xe(r,e.length)},k:function(t,e,n,i){var r=t.getUTCHours();return 0===r&&(r=24),"ko"===e?n.ordinalNumber(r,{unit:"hour"}):xe(r,e.length)},m:function(t,e,n,i){var r=t.getUTCMinutes();return"mo"===e?n.ordinalNumber(r,{unit:"minute"}):xe(r,e.length)},s:function(t,e,n,i){var r=t.getUTCSeconds();return"so"===e?n.ordinalNumber(r,{unit:"second"}):xe(r,e.length)},S:function(t,e,n,i){var r=e.length,o=t.getUTCMilliseconds();return xe(Math.floor(o*Math.pow(10,r-3)),r)},X:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();if(0===r)return"Z";switch(e){case"X":return _e(r);case"XXXX":case"XX":return we(r);case"XXXXX":case"XXX":default:return we(r,":")}},x:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();switch(e){case"x":return _e(r);case"xxxx":case"xx":return we(r);case"xxxxx":case"xxx":default:return we(r,":")}},O:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Se(r,":");case"OOOO":default:return"GMT"+we(r,":")}},z:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Se(r,":");case"zzzz":default:return"GMT"+we(r,":")}},t:function(t,e,n,i){var r=i._originalDate||t;return xe(Math.floor(r.getTime()/1e3),e.length)},T:function(t,e,n,i){return xe((i._originalDate||t).getTime(),e.length)}};function xe(t,e){for(var n=t<0?"-":"",i=Math.abs(t).toString();i.length<e;)i="0"+i;return n+i}function we(t,e){var n=e||"",i=t>0?"-":"+",r=Math.abs(t);return i+xe(Math.floor(r/60),2)+n+xe(r%60,2)}function _e(t,e){return t%60==0?(t>0?"-":"+")+xe(Math.abs(t)/60,2):we(t,e)}function Se(t,e){var n=t>0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),o=i%60;if(0===o)return n+String(r);var a=e||"";return n+String(r)+a+xe(o,2)}function Me(t,e,n){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function Ce(t,e,n){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}var Ie={p:Ce,P:function(t,e,n){var i,r=t.match(/(P+)(p+)?/),o=r[1],a=r[2];if(!a)return Me(t,e);switch(o){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"})}return i.replace("{{date}}",Me(o,e)).replace("{{time}}",Ce(a,e))}};function ke(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=Gt(t,n).getTime(),r=Dt(e);return new Date(i+r)}(t,-Dt(e),n)}var Te=["D","DD","YY","YYYY"];function Oe(t){return-1!==Te.indexOf(t)}function Ee(t){throw new RangeError("`options.awareOfUnicodeTokens` must be set to `true` to use `"+t+"` token; see: https://git.io/fxCyr")}var Ae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Le=/^'(.*?)'?$/,De=/''/g;function je(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=String(e),r=n||{},o=r.locale||ie,a=o.options&&o.options.firstWeekContainsDate,s=null==a?1:Dt(a),l=null==r.firstWeekContainsDate?s:Dt(r.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=o.options&&o.options.weekStartsOn,c=null==u?0:Dt(u),h=null==r.weekStartsOn?c:Dt(r.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var d=Gt(t,r);if(!$t(d,r))return"Invalid Date";var f=ke(d,Pt(d),r),p={firstWeekContainsDate:l,weekStartsOn:h,locale:o,_originalDate:d};return i.match(Ne).map(function(t){var e=t[0];return"p"===e||"P"===e?(0,Ie[e])(t,o.formatLong,p):t}).join("").match(Ae).map(function(t){if("''"===t)return"'";var e=t[0];if("'"===e)return t.match(Le)[1].replace(De,"'");var n=be[e];return n?(!r.awareOfUnicodeTokens&&Oe(t)&&Ee(t),n(f,t,o.localize,p)):t}).join("")}function Pe(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=Gt(t,n),r=Gt(e,n);return i.getTime()>r.getTime()}function Re(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=Gt(t,n),r=Gt(e,n);return i.getTime()<r.getTime()}function ze(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=Gt(t,n),r=Gt(e,n);return i.getTime()===r.getTime()}function Be(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=n||{},r=i.locale,o=r&&r.options&&r.options.weekStartsOn,a=null==o?0:Dt(o),s=null==i.weekStartsOn?a:Dt(i.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=Gt(t,n),u=Dt(e),c=l.getUTCDay(),h=((u%7+7)%7<s?7:0)+u-c;return l.setUTCDate(l.getUTCDate()+h),l}var Fe=36e5,Ge=6e4,Ve=1e3,We={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},He=/^([+-])(\d{2})(\d{2})?|Z/,Ue=/^([+-])(\d{2})(\d{2})|Z/,Ye=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Je=/^([+-])(\d{2}):(\d{2})|Z/,Qe=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Ze(t,e,n){var i=e.match(t);if(!i)return null;var r=parseInt(i[0],10);return{value:n?n(r):r,rest:e.slice(i[0].length)}}function $e(t,e){var n=e.match(t);if(!n)return null;if("Z"===n[0])return{value:0,rest:e.slice(1)};var i="+"===n[1]?1:-1,r=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:i*(r*Fe+o*Ge+a*Ve),rest:e.slice(n[0].length)}}function Xe(t,e){return Ze(We.anyDigitsSigned,t,e)}function Ke(t,e,n){switch(t){case 1:return Ze(We.singleDigit,e,n);case 2:return Ze(We.twoDigits,e,n);case 3:return Ze(We.threeDigits,e,n);case 4:return Ze(We.fourDigits,e,n);default:return Ze(new RegExp("^\\d{1,"+t+"}"),e,n)}}function qe(t,e,n){switch(t){case 1:return Ze(We.singleDigitSigned,e,n);case 2:return Ze(We.twoDigitsSigned,e,n);case 3:return Ze(We.threeDigitsSigned,e,n);case 4:return Ze(We.fourDigitsSigned,e,n);default:return Ze(new RegExp("^-?\\d{1,"+t+"}"),e,n)}}function tn(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function en(t,e){var n,i=e>0,r=i?e:1-e;if(r<=50)n=t||100;else{var o=r+50;n=t+100*Math.floor(o/100)-(t>=o%100?100:0)}return i?n:1-n}var nn=[31,28,31,30,31,30,31,31,30,31,30,31],rn=[31,29,31,30,31,30,31,31,30,31,30,31];function on(t){return t%400==0||t%4==0&&t%100!=0}var an={G:{priority:140,parse:function(t,e,n,i){switch(e){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});case"GGGG":default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}},set:function(t,e,n){return t.setUTCFullYear(1===e?10:-9,0,1),t.setUTCHours(0,0,0,0),t}},y:{priority:130,parse:function(t,e,n,i){var r=function(t){return{year:t,isTwoDigitYear:"yy"===e}};switch(e){case"y":return Ke(4,t,r);case"yo":return n.ordinalNumber(t,{unit:"year",valueCallback:r});default:return Ke(e.length,t,r)}},validate:function(t,e,n){return e.isTwoDigitYear||e.year>0},set:function(t,e,n){var i=ce(t,n);if(e.isTwoDigitYear){var r=en(e.year,i);return t.setUTCFullYear(r,0,1),t.setUTCHours(0,0,0,0),t}var o=i>0?e.year:1-e.year;return t.setUTCFullYear(o,0,1),t.setUTCHours(0,0,0,0),t}},Y:{priority:130,parse:function(t,e,n,i){var r=function(t){return{year:t,isTwoDigitYear:"YY"===e}};switch(e){case"Y":return Ke(4,t,r);case"Yo":return n.ordinalNumber(t,{unit:"year",valueCallback:r});default:return Ke(e.length,t,r)}},validate:function(t,e,n){return e.isTwoDigitYear||e.year>0},set:function(t,e,n){var i=t.getUTCFullYear();if(e.isTwoDigitYear){var r=en(e.year,i);return t.setUTCFullYear(r,0,n.firstWeekContainsDate),t.setUTCHours(0,0,0,0),ue(t,n)}var o=i>0?e.year:1-e.year;return t.setUTCFullYear(o,0,n.firstWeekContainsDate),t.setUTCHours(0,0,0,0),ue(t,n)}},R:{priority:130,parse:function(t,e,n,i){return qe("R"===e?4:e.length,t)},set:function(t,e,n){var i=new Date(0);return i.setUTCFullYear(e,0,4),i.setUTCHours(0,0,0,0),oe(i)}},u:{priority:130,parse:function(t,e,n,i){return qe("u"===e?4:e.length,t)},set:function(t,e,n){return t.setUTCFullYear(e,0,1),t.setUTCHours(0,0,0,0),t}},Q:{priority:120,parse:function(t,e,n,i){switch(e){case"Q":case"QQ":return Ke(e.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=1&&e<=4},set:function(t,e,n){return t.setUTCMonth(3*(e-1),1),t.setUTCHours(0,0,0,0),t}},q:{priority:120,parse:function(t,e,n,i){switch(e){case"q":case"qq":return Ke(e.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=1&&e<=4},set:function(t,e,n){return t.setUTCMonth(3*(e-1),1),t.setUTCHours(0,0,0,0),t}},M:{priority:110,parse:function(t,e,n,i){var r=function(t){return t-1};switch(e){case"M":return Ze(We.month,t,r);case"MM":return Ke(2,t,r);case"Mo":return n.ordinalNumber(t,{unit:"month",valueCallback:r});case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n){return t.setUTCMonth(e,1),t.setUTCHours(0,0,0,0),t}},L:{priority:110,parse:function(t,e,n,i){var r=function(t){return t-1};switch(e){case"L":return Ze(We.month,t,r);case"LL":return Ke(2,t,r);case"Lo":return n.ordinalNumber(t,{unit:"month",valueCallback:r});case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n){return t.setUTCMonth(e,1),t.setUTCHours(0,0,0,0),t}},w:{priority:100,parse:function(t,e,n,i){switch(e){case"w":return Ze(We.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return Ke(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=53},set:function(t,e,n){return ue(function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=Gt(t,n),r=Dt(e),o=de(i,n)-r;return i.setUTCDate(i.getUTCDate()-7*o),i}(t,e,n),n)}},I:{priority:100,parse:function(t,e,n,i){switch(e){case"I":return Ze(We.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return Ke(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=53},set:function(t,e,n){return oe(function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=Gt(t,n),r=Dt(e),o=le(i,n)-r;return i.setUTCDate(i.getUTCDate()-7*o),i}(t,e,n),n)}},d:{priority:90,parse:function(t,e,n,i){switch(e){case"d":return Ze(We.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return Ke(e.length,t)}},validate:function(t,e,n){var i=on(t.getUTCFullYear()),r=t.getUTCMonth();return i?e>=1&&e<=rn[r]:e>=1&&e<=nn[r]},set:function(t,e,n){return t.setUTCDate(e),t.setUTCHours(0,0,0,0),t}},D:{priority:90,parse:function(t,e,n,i){switch(e){case"D":case"DD":return Ze(We.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return Ke(e.length,t)}},validate:function(t,e,n){return on(t.getUTCFullYear())?e>=1&&e<=366:e>=1&&e<=365},set:function(t,e,n){return t.setUTCMonth(0,e),t.setUTCHours(0,0,0,0),t}},E:{priority:90,parse:function(t,e,n,i){switch(e){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n){return(t=Be(t,e,n)).setUTCHours(0,0,0,0),t}},e:{priority:90,parse:function(t,e,n,i){var r=function(t){var e=7*Math.floor((t-1)/7);return(t+i.weekStartsOn+6)%7+e};switch(e){case"e":case"ee":return Ke(e.length,t,r);case"eo":return n.ordinalNumber(t,{unit:"day",valueCallback:r});case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n){return(t=Be(t,e,n)).setUTCHours(0,0,0,0),t}},c:{priority:90,parse:function(t,e,n,i){var r=function(t){var e=7*Math.floor((t-1)/7);return(t+i.weekStartsOn+6)%7+e};switch(e){case"c":case"cc":return Ke(e.length,t,r);case"co":return n.ordinalNumber(t,{unit:"day",valueCallback:r});case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n){return(t=Be(t,e,n)).setUTCHours(0,0,0,0),t}},i:{priority:90,parse:function(t,e,n,i){var r=function(t){return 0===t?7:t};switch(e){case"i":case"ii":return Ke(e.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return n.day(t,{width:"abbreviated",context:"formatting",valueCallback:r})||n.day(t,{width:"short",context:"formatting",valueCallback:r})||n.day(t,{width:"narrow",context:"formatting",valueCallback:r});case"iiiii":return n.day(t,{width:"narrow",context:"formatting",valueCallback:r});case"iiiiii":return n.day(t,{width:"short",context:"formatting",valueCallback:r})||n.day(t,{width:"narrow",context:"formatting",valueCallback:r});case"iiii":default:return n.day(t,{width:"wide",context:"formatting",valueCallback:r})||n.day(t,{width:"abbreviated",context:"formatting",valueCallback:r})||n.day(t,{width:"short",context:"formatting",valueCallback:r})||n.day(t,{width:"narrow",context:"formatting",valueCallback:r})}},validate:function(t,e,n){return e>=1&&e<=7},set:function(t,e,n){return(t=function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=Dt(e);i%7==0&&(i-=7);var r=Gt(t,n),o=r.getUTCDay(),a=((i%7+7)%7<1?7:0)+i-o;return r.setUTCDate(r.getUTCDate()+a),r}(t,e,n)).setUTCHours(0,0,0,0),t}},a:{priority:80,parse:function(t,e,n,i){switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n){return t.setUTCHours(tn(e),0,0,0),t}},b:{priority:80,parse:function(t,e,n,i){switch(e){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n){return t.setUTCHours(tn(e),0,0,0),t}},B:{priority:80,parse:function(t,e,n,i){switch(e){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n){return t.setUTCHours(tn(e),0,0,0),t}},h:{priority:70,parse:function(t,e,n,i){switch(e){case"h":return Ze(We.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return Ke(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=12},set:function(t,e,n){var i=t.getUTCHours()>=12;return i&&e<12?t.setUTCHours(e+12,0,0,0):i||12!==e?t.setUTCHours(e,0,0,0):t.setUTCHours(0,0,0,0),t}},H:{priority:70,parse:function(t,e,n,i){switch(e){case"H":return Ze(We.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return Ke(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=23},set:function(t,e,n){return t.setUTCHours(e,0,0,0),t}},K:{priority:70,parse:function(t,e,n,i){switch(e){case"K":return Ze(We.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return Ke(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n){return t.getUTCHours()>=12&&e<12?t.setUTCHours(e+12,0,0,0):t.setUTCHours(e,0,0,0),t}},k:{priority:70,parse:function(t,e,n,i){switch(e){case"k":return Ze(We.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return Ke(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=24},set:function(t,e,n){var i=e<=24?e%24:e;return t.setUTCHours(i,0,0,0),t}},m:{priority:60,parse:function(t,e,n,i){switch(e){case"m":return Ze(We.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return Ke(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=59},set:function(t,e,n){return t.setUTCMinutes(e,0,0),t}},s:{priority:50,parse:function(t,e,n,i){switch(e){case"s":return Ze(We.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return Ke(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=59},set:function(t,e,n){return t.setUTCSeconds(e,0),t}},S:{priority:40,parse:function(t,e,n,i){return Ke(e.length,t,function(t){return Math.floor(t*Math.pow(10,3-e.length))})},set:function(t,e,n){return t.setUTCMilliseconds(e),t}},X:{priority:20,parse:function(t,e,n,i){switch(e){case"X":return $e(He,t);case"XX":return $e(Ue,t);case"XXXX":return $e(Ye,t);case"XXXXX":return $e(Qe,t);case"XXX":default:return $e(Je,t)}},set:function(t,e,n){return new Date(t.getTime()-e)}},x:{priority:20,parse:function(t,e,n,i){switch(e){case"x":return $e(He,t);case"xx":return $e(Ue,t);case"xxxx":return $e(Ye,t);case"xxxxx":return $e(Qe,t);case"xxx":default:return $e(Je,t)}},set:function(t,e,n){return new Date(t.getTime()-e)}},t:{priority:10,parse:function(t,e,n,i){return Xe(t)},set:function(t,e,n){return new Date(1e3*e)}},T:{priority:10,parse:function(t,e,n,i){return Xe(t)},set:function(t,e,n){return new Date(e)}}},sn=20,ln=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,un=/^'(.*?)'?$/,cn=/''/g,hn=/\S/;function dn(t){var e=new Date(0);return e.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),e.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),e}function fn(t,e){if("string"!=typeof t)return $t(t)?t:null;var n=function(t,e,n,i){if(arguments.length<3)throw new TypeError("3 arguments required, but only "+arguments.length+" present");var r=String(t),o=String(e),a=i||{},s=a.locale||ie;if(!s.match)throw new RangeError("locale must contain match property");var l=s.options&&s.options.firstWeekContainsDate,u=null==l?1:Dt(l),c=null==a.firstWeekContainsDate?u:Dt(a.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=s.options&&s.options.weekStartsOn,d=null==h?0:Dt(h),f=null==a.weekStartsOn?d:Dt(a.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===o)return""===r?Gt(n,a):new Date(NaN);var p,g={firstWeekContainsDate:c,weekStartsOn:f,locale:s},v=[{priority:sn,set:dn,index:0}],m=o.match(ln);for(p=0;p<m.length;p++){var y=m[p];!a.awareOfUnicodeTokens&&Oe(y)&&Ee(y);var b=y[0],x=an[b];if(x){var w=x.parse(r,y,s.match,g);if(!w)return new Date(NaN);v.push({priority:x.priority,set:x.set,validate:x.validate,value:w.value,index:v.length}),r=w.rest}else{if("''"===y?y="'":"'"===b&&(y=y.match(un)[1].replace(cn,"'")),0!==r.indexOf(y))return new Date(NaN);r=r.slice(y.length)}}if(r.length>0&&hn.test(r))return new Date(NaN);var _=v.map(function(t){return t.priority}).sort(function(t,e){return e-t}).filter(function(t,e,n){return n.indexOf(t)===e}).map(function(t){return v.filter(function(e){return e.priority===t}).reverse()}).map(function(t){return t[0]}),S=Gt(n,a);if(isNaN(S))return new Date(NaN);var M=ke(S,Pt(S));for(p=0;p<_.length;p++){var C=_[p];if(C.validate&&!C.validate(M,C.value,g))return new Date(NaN);M=C.set(M,C.value,g)}return M}(t,e,new Date);return $t(n)&&je(n,e)===t?n:null}var pn={validate:function(t,e){void 0===e&&(e={});var n=e.targetValue,i=e.inclusion;void 0===i&&(i=!1);var r=e.format;return void 0===r&&(r=i,i=!1),t=fn(t,r),n=fn(n,r),!(!t||!n)&&(Pe(t,n)||i&&ze(t,n))},options:{hasTarget:!0,isDate:!0},paramNames:["targetValue","inclusion","format"]},gn={en:/^[A-Z]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[A-ZÆØÅ]*$/i,de:/^[A-ZÄÖÜß]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ]*$/i,fa:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی]*$/,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[A-Z\xC0-\xFF]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ]*$/i,nl:/^[A-ZÉËÏÓÖÜ]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[А-ЯЁ]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[A-ZČĆŽŠĐ]*$/i,sv:/^[A-ZÅÄÖ]*$/i,tr:/^[A-ZÇĞİıÖŞÜ]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[A-ZÇƏĞİıÖŞÜ]*$/i},vn={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fa:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی\s]*$/,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i},mn={en:/^[0-9A-Z]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[0-9A-ZÆØÅ]$/i,de:/^[0-9A-ZÄÖÜß]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ]*$/i,fa:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی]*$/,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[0-9A-Z\xC0-\xFF]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[0-9А-ЯЁ]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[0-9A-ZČĆŽŠĐ]*$/i,sv:/^[0-9A-ZÅÄÖ]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ]*$/i},yn={en:/^[0-9A-Z_-]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ_-]*$/i,da:/^[0-9A-ZÆØÅ_-]*$/i,de:/^[0-9A-ZÄÖÜß_-]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ_-]*$/i,fa:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی_-]*$/,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ_-]*$/i,it:/^[0-9A-Z\xC0-\xFF_-]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ_-]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ_-]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ_-]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ_-]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ_-]*$/i,ru:/^[0-9А-ЯЁ_-]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ_-]*$/i,sr:/^[0-9A-ZČĆŽŠĐ_-]*$/i,sv:/^[0-9A-ZÅÄÖ_-]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ_-]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ_-]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ_-]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ_-]*$/i},bn=function(t,e){void 0===e&&(e={});var n=e.locale;return Array.isArray(t)?t.every(function(t){return bn(t,[n])}):n?(gn[n]||gn.en).test(t):Object.keys(gn).some(function(e){return gn[e].test(t)})},xn={validate:bn,paramNames:["locale"]},wn=function(t,e){void 0===e&&(e={});var n=e.locale;return Array.isArray(t)?t.every(function(t){return wn(t,[n])}):n?(yn[n]||yn.en).test(t):Object.keys(yn).some(function(e){return yn[e].test(t)})},_n={validate:wn,paramNames:["locale"]},Sn=function(t,e){void 0===e&&(e={});var n=e.locale;return Array.isArray(t)?t.every(function(t){return Sn(t,[n])}):n?(mn[n]||mn.en).test(t):Object.keys(mn).some(function(e){return mn[e].test(t)})},Mn={validate:Sn,paramNames:["locale"]},Cn=function(t,e){void 0===e&&(e={});var n=e.locale;return Array.isArray(t)?t.every(function(t){return Cn(t,[n])}):n?(vn[n]||vn.en).test(t):Object.keys(vn).some(function(e){return vn[e].test(t)})},In={validate:Cn,paramNames:["locale"]},kn={validate:function(t,e){void 0===e&&(e={});var n=e.targetValue,i=e.inclusion;void 0===i&&(i=!1);var r=e.format;return void 0===r&&(r=i,i=!1),t=fn(t,r),n=fn(n,r),!(!t||!n)&&(Re(t,n)||i&&ze(t,n))},options:{hasTarget:!0,isDate:!0},paramNames:["targetValue","inclusion","format"]},Tn=function(t,e){void 0===e&&(e={});var n=e.min,i=e.max;return Array.isArray(t)?t.every(function(t){return Tn(t,{min:n,max:i})}):Number(n)<=t&&Number(i)>=t},On={validate:Tn,paramNames:["min","max"]},En={validate:function(t,e){var n=e.targetValue;return String(t)===String(n)},options:{hasTarget:!0},paramNames:["targetValue"]};function An(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Nn(t,e){return t(e={exports:{}},e.exports),e.exports}var Ln=Nn(function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!("string"==typeof t||t instanceof String)){var e;throw e=null===t?"null":"object"===(e=n(t))&&t.constructor&&t.constructor.hasOwnProperty("name")?t.constructor.name:"a ".concat(e),new TypeError("Expected string but received ".concat(e,"."))}},t.exports=e.default,t.exports.default=e.default});An(Ln);var Dn=An(Nn(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,i.default)(t);var e=t.replace(/[- ]+/g,"");if(!r.test(e))return!1;for(var n,o,a,s=0,l=e.length-1;l>=0;l--)n=e.substring(l,l+1),o=parseInt(n,10),s+=a&&(o*=2)>=10?o%10+1:o,a=!a;return!(s%10!=0||!e)};var n,i=(n=Ln)&&n.__esModule?n:{default:n};var r=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|6[27][0-9]{14})$/;t.exports=e.default,t.exports.default=e.default})),jn={validate:function(t){return Dn(String(t))}},Pn={validate:function(t,e){void 0===e&&(e={});var n=e.min,i=e.max,r=e.inclusivity;void 0===r&&(r="()");var o=e.format;void 0===o&&(o=r,r="()");var a=fn(String(n),o),s=fn(String(i),o),l=fn(String(t),o);return!!(a&&s&&l)&&("()"===r?Pe(l,a)&&Re(l,s):"(]"===r?Pe(l,a)&&(ze(l,s)||Re(l,s)):"[)"===r?Re(l,s)&&(ze(l,a)||Pe(l,a)):ze(l,s)||ze(l,a)||Re(l,s)&&Pe(l,a))},options:{isDate:!0},paramNames:["min","max","inclusivity","format"]},Rn={validate:function(t,e){return!!fn(t,e.format)},options:{isDate:!0},paramNames:["format"]},zn=function(t,e){void 0===e&&(e={});var n=e.decimals;void 0===n&&(n="*");var i=e.separator;if(void 0===i&&(i="."),s(t)||""===t)return!1;if(Array.isArray(t))return t.every(function(t){return zn(t,{decimals:n,separator:i})});if(0===Number(n))return/^-?\d*$/.test(t);if(!new RegExp("^[-+]?\\d*(\\"+i+"\\d"+("*"===n?"+":"{1,"+n+"}")+")?([eE]{1}[-]?\\d+)?$").test(t))return!1;var r=parseFloat(t);return r==r},Bn={validate:zn,paramNames:["decimals","separator"]},Fn=function(t,e){var n=e[0];if(Array.isArray(t))return t.every(function(t){return Fn(t,[n])});var i=String(t);return/^[0-9]*$/.test(i)&&i.length===Number(n)},Gn={validate:Fn},Vn=/\.(jpg|svg|jpeg|png|bmp|gif)$/i,Wn={validate:function(t,e){var n=e[0],i=e[1],r=w(t).filter(function(t){return Vn.test(t.name)});return 0!==r.length&&Promise.all(r.map(function(t){return function(t,e,n){var i=window.URL||window.webkitURL;return new Promise(function(r){var o=new Image;o.onerror=function(){return r({valid:!1})},o.onload=function(){return r({valid:o.width===Number(e)&&o.height===Number(n)})},o.src=i.createObjectURL(t)})}(t,n,i)}))}},Hn=Nn(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t},t.exports=e.default,t.exports.default=e.default});An(Hn);var Un=Nn(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,o;(0,i.default)(t),"object"===r(e)?(n=e.min||0,o=e.max):(n=arguments[1],o=arguments[2]);var a=encodeURI(t).split(/%..|./).length-1;return a>=n&&(void 0===o||a<=o)};var n,i=(n=Ln)&&n.__esModule?n:{default:n};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=e.default,t.exports.default=e.default});An(Un);var Yn=Nn(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,n.default)(t),(e=(0,i.default)(e,o)).allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1));for(var r=t.split("."),a=0;a<r.length;a++)if(r[a].length>63)return!1;if(e.require_tld){var s=r.pop();if(!r.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(s))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(s))return!1}for(var l,u=0;u<r.length;u++){if(l=r[u],e.allow_underscores&&(l=l.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(l))return!1;if(/[\uff01-\uff5e]/.test(l))return!1;if("-"===l[0]||"-"===l[l.length-1])return!1}return!0};var n=r(Ln),i=r(Hn);function r(t){return t&&t.__esModule?t:{default:t}}var o={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};t.exports=e.default,t.exports.default=e.default}),Jn=An(Yn),Qn=Nn(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,i.default)(e);n=String(n);if(!n)return t(e,4)||t(e,6);if("4"===n){if(!r.test(e))return!1;var a=e.split(".").sort(function(t,e){return t-e});return a[3]<=255}if("6"===n){var s=e.split(":"),l=!1,u=t(s[s.length-1],4),c=u?7:8;if(s.length>c)return!1;if("::"===e)return!0;"::"===e.substr(0,2)?(s.shift(),s.shift(),l=!0):"::"===e.substr(e.length-2)&&(s.pop(),s.pop(),l=!0);for(var h=0;h<s.length;++h)if(""===s[h]&&h>0&&h<s.length-1){if(l)return!1;l=!0}else if(u&&h===s.length-1);else if(!o.test(s[h]))return!1;return l?s.length>=1:s.length===c}return!1};var n,i=(n=Ln)&&n.__esModule?n:{default:n};var r=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,o=/^[0-9A-F]{1,4}$/i;t.exports=e.default,t.exports.default=e.default}),Zn=An(Qn),$n=An(Nn(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,n.default)(t),(e=(0,i.default)(e,l)).require_display_name||e.allow_display_name){var s=t.match(u);if(s)t=s[1];else if(e.require_display_name)return!1}var g=t.split("@"),v=g.pop(),m=g.join("@"),y=v.toLowerCase();if(e.domain_specific_validation&&("gmail.com"===y||"googlemail.com"===y)){var b=(m=m.toLowerCase()).split("+")[0];if(!(0,r.default)(b.replace(".",""),{min:6,max:30}))return!1;for(var x=b.split("."),w=0;w<x.length;w++)if(!h.test(x[w]))return!1}if(!(0,r.default)(m,{max:64})||!(0,r.default)(v,{max:254}))return!1;if(!(0,o.default)(v,{require_tld:e.require_tld})){if(!e.allow_ip_domain)return!1;if(!(0,a.default)(v)){if(!v.startsWith("[")||!v.endsWith("]"))return!1;var _=v.substr(1,v.length-2);if(0===_.length||!(0,a.default)(_))return!1}}if('"'===m[0])return m=m.slice(1,m.length-1),e.allow_utf8_local_part?p.test(m):d.test(m);for(var S=e.allow_utf8_local_part?f:c,M=m.split("."),C=0;C<M.length;C++)if(!S.test(M[C]))return!1;return!0};var n=s(Ln),i=s(Hn),r=s(Un),o=s(Yn),a=s(Qn);function s(t){return t&&t.__esModule?t:{default:t}}var l={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},u=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\,\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,c=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,h=/^[a-z\d]+$/,d=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,p=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;t.exports=e.default,t.exports.default=e.default}));var Xn={validate:function(t,e){void 0===e&&(e={});var n=e.multiple;void 0===n&&(n=!1);var i=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&-1===e.indexOf(i)&&(n[i]=t[i]);return n}(e,["multiple"]);n&&!Array.isArray(t)&&(t=String(t).split(",").map(function(t){return t.trim()}));var r=_({},i);return Array.isArray(t)?t.every(function(t){return $n(String(t),r)}):$n(String(t),r)}},Kn=function(t,e){return Array.isArray(t)?t.every(function(t){return Kn(t,e)}):x(e).some(function(e){return e==t})},qn={validate:Kn},ti={validate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return!Kn.apply(void 0,t)}},ei={validate:function(t,e){var n=new RegExp(".("+e.join("|")+")$","i");return w(t).every(function(t){return n.test(t.name)})}},ni={validate:function(t){return(Array.isArray(t)?t:[t]).every(function(t){return/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(t.name)})}},ii={validate:function(t){return Array.isArray(t)?t.every(function(t){return/^-?[0-9]+$/.test(String(t))}):/^-?[0-9]+$/.test(String(t))}},ri={validate:function(t,e){void 0===e&&(e={});var n=e.version;return void 0===n&&(n=4),s(t)&&(t=""),Array.isArray(t)?t.every(function(t){return Zn(t,n)}):Zn(t,n)},paramNames:["version"]},oi={validate:function(t){return s(t)&&(t=""),Array.isArray(t)?t.every(function(t){return Zn(t,"")||Jn(t)}):Zn(t,"")||Jn(t)}},ai={validate:function(t,e){return void 0===e&&(e=[]),t===e[0]}},si={validate:function(t,e){return void 0===e&&(e=[]),t!==e[0]}},li={validate:function(t,e){var n=e[0],i=e[1];return void 0===i&&(i=void 0),!s(t)&&(n=Number(n),"number"==typeof t&&(t=String(t)),t.length||(t=x(t)),function(t,e,n){return void 0===n?t.length===e:(n=Number(n),t.length>=e&&t.length<=n)}(t,n,i))}},ui=function(t,e){var n=e[0];return s(t)?n>=0:Array.isArray(t)?t.every(function(t){return ui(t,[n])}):String(t).length<=n},ci={validate:ui},hi=function(t,e){var n=e[0];return!s(t)&&""!==t&&(Array.isArray(t)?t.length>0&&t.every(function(t){return hi(t,[n])}):Number(t)<=n)},di={validate:hi},fi={validate:function(t,e){var n=new RegExp(e.join("|").replace("*",".+")+"$","i");return w(t).every(function(t){return n.test(t.type)})}},pi=function(t,e){var n=e[0];return!s(t)&&(Array.isArray(t)?t.every(function(t){return pi(t,[n])}):String(t).length>=n)},gi={validate:pi},vi=function(t,e){var n=e[0];return!s(t)&&""!==t&&(Array.isArray(t)?t.length>0&&t.every(function(t){return vi(t,[n])}):Number(t)>=n)},mi={validate:vi},yi=/^[٠١٢٣٤٥٦٧٨٩]+$/,bi=/^[0-9]+$/,xi={validate:function(t){var e=function(t){var e=String(t);return bi.test(e)||yi.test(e)};return Array.isArray(t)?t.every(e):e(t)}},wi=function(t,e){var n=e.expression;return"string"==typeof n&&(n=new RegExp(n)),Array.isArray(t)?t.every(function(t){return wi(t,{expression:n})}):n.test(String(t))},_i={validate:wi,paramNames:["expression"]},Si={validate:function(t,e){void 0===e&&(e=[]);var n=e[0];return void 0===n&&(n=!1),!(s(t)||L(t)||!1===t&&n||!String(t).trim().length)}},Mi={validate:function(t,e){void 0===e&&(e=[]);var n=e[0],i=e.slice(1).includes(String(n).trim());if(!i)return{valid:!0,data:{required:i}};var r=L(t)||[!1,null,void 0].includes(t);return{valid:!(r=r||!String(t).trim().length),data:{required:i}}},options:{hasTarget:!0,computesRequired:!0}},Ci={validate:function(t,e){var n=e[0];if(isNaN(n))return!1;var i=1024*Number(n);return w(t).every(function(t){return t.size<=i})}},Ii=An(Nn(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,n.default)(t),!t||t.length>=2083||/[\s<>]/.test(t))return!1;if(0===t.indexOf("mailto:"))return!1;var a,c,h,d,f,p,g,v;if(e=(0,o.default)(e,s),g=t.split("#"),t=g.shift(),g=t.split("?"),t=g.shift(),(g=t.split("://")).length>1){if(a=g.shift().toLowerCase(),e.require_valid_protocol&&-1===e.protocols.indexOf(a))return!1}else{if(e.require_protocol)return!1;if("//"===t.substr(0,2)){if(!e.allow_protocol_relative_urls)return!1;g[0]=t.substr(2)}}if(""===(t=g.join("://")))return!1;if(g=t.split("/"),""===(t=g.shift())&&!e.require_host)return!0;if((g=t.split("@")).length>1){if(e.disallow_auth)return!1;if((c=g.shift()).indexOf(":")>=0&&c.split(":").length>2)return!1}d=g.join("@"),p=null,v=null;var m=d.match(l);m?(h="",v=m[1],p=m[2]||null):(g=d.split(":"),h=g.shift(),g.length&&(p=g.join(":")));if(null!==p&&(f=parseInt(p,10),!/^[0-9]+$/.test(p)||f<=0||f>65535))return!1;if(!((0,r.default)(h)||(0,i.default)(h,e)||v&&(0,r.default)(v,6)))return!1;if(h=h||v,e.host_whitelist&&!u(h,e.host_whitelist))return!1;if(e.host_blacklist&&u(h,e.host_blacklist))return!1;return!0};var n=a(Ln),i=a(Yn),r=a(Qn),o=a(Hn);function a(t){return t&&t.__esModule?t:{default:t}}var s={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},l=/^\[([^\]]+)\](?::([0-9]+))?$/;function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(t===i||(r=i,"[object RegExp]"===Object.prototype.toString.call(r)&&i.test(t)))return!0}var r;return!1}t.exports=e.default,t.exports.default=e.default})),ki={validate:function(t,e){void 0===e&&(e={}),s(t)&&(t="");var n=_({},e);return Array.isArray(t)?t.every(function(t){return Ii(t,n)}):Ii(t,n)}},Ti=Object.freeze({after:pn,alpha_dash:_n,alpha_num:Mn,alpha_spaces:In,alpha:xn,before:kn,between:On,confirmed:En,credit_card:jn,date_between:Pn,date_format:Rn,decimal:Bn,digits:Gn,dimensions:Wn,email:Xn,ext:ei,image:ni,included:qn,integer:ii,length:li,ip:ri,ip_or_fqdn:oi,is_not:si,is:ai,max:ci,max_value:di,mimes:fi,min:gi,min_value:mi,excluded:ti,numeric:xi,regex:_i,required:Si,required_if:Mi,size:Ci,url:ki}),Oi=function(t,e){var n={pristine:function(t,e){return t&&e},dirty:function(t,e){return t||e},touched:function(t,e){return t||e},untouched:function(t,e){return t&&e},valid:function(t,e){return t&&e},invalid:function(t,e){return t||e},pending:function(t,e){return t||e},required:function(t,e){return t||e},validated:function(t,e){return t&&e}};return Object.keys(n).reduce(function(i,r){return i[r]=n[r](t[r],e[r]),i},{})},Ei=function(t,e){return void 0===e&&(e=!0),Object.keys(t).reduce(function(n,i){if(!n)return n=_({},t[i]);var r=0===i.indexOf("$");return e&&r?Oi(Ei(t[i]),n):!e&&r?n:n=Oi(n,t[i])},null)},Ai=null,Ni=0,Li={$__veeInject:!1,inject:{$_veeObserver:{from:"$_veeObserver",default:function(){return this.$vnode.context.$_veeObserver||(this.$vnode.context.$_veeObserver={refs:{},subscribe:function(t){this.refs[t.vid]=t},unsubscribe:function(t){delete this.refs[t.vid]}}),this.$vnode.context.$_veeObserver}}},props:{vid:{type:[String,Number],default:function(){return"_vee_"+ ++Ni}},name:{type:String,default:null},mode:{type:[String,Function],default:function(){return H().mode}},events:{type:Array,validate:function(){return!0},default:function(){var t=H().events;return"string"==typeof t?t.split("|"):t}},rules:{type:[Object,String],default:null},immediate:{type:Boolean,default:!1},persist:{type:Boolean,default:!1},bails:{type:Boolean,default:function(){return H().fastExit}},debounce:{type:Number,default:function(){return H().delay||0}},tag:{type:String,default:"span"},slim:{type:Boolean,default:!1}},watch:{rules:{deep:!0,handler:function(t,e){this._needsValidation=!l(t,e)}}},data:function(){return{messages:[],value:void 0,initialized:!1,initialValue:void 0,flags:{untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:null,invalid:null,validated:!1,pending:!1,required:!1,changed:!1},failedRules:{},forceRequired:!1,isDeactivated:!1,id:null}},computed:{isValid:function(){return this.flags.valid},fieldDeps:function(){var t=this,e=f(this.rules);return Object.keys(e).filter(et.isTargetRule).map(function(n){var i=e[n][0];return function t(e,n,i){void 0===i&&(i=!0);var r=e.$_veeObserver.refs;e._veeWatchers||(e._veeWatchers={});if(!r[n]&&i)return e.$once("hook:mounted",function(){t(e,n,!1)});!m(e._veeWatchers[n])&&r[n]&&(e._veeWatchers[n]=r[n].$watch("value",function(){e.flags.validated&&(e._needsValidation=!0,e.validate())}))}(t,i),i})},normalizedEvents:function(){var t=this,e=ji(this).on;return rt(e||this.events||[]).map(function(e){return"input"===e?t._inputEventName:e})},isRequired:function(){var t=f(this.rules),e=this.forceRequired,n=t.required||e;return this.flags.required=n,n},classes:function(){var t=this,e=H().classNames;return Object.keys(this.flags).reduce(function(n,i){var r=e&&e[i]||i;return s(t.flags[i])?n:(r&&(n[r]=t.flags[i]),n)},{})}},render:function(t){var e=this;this.registerField();var n=Di(this),i=this.$scopedSlots.default;if(!m(i))return t(this.tag,this.$slots.default);var r=i(n);return J(r).forEach(function(t){(function(t){var e=Y(t);this._inputEventName=this._inputEventName||X(t,e),Pi.call(this,e);var n=Ri(this),i=n.onInput,r=n.onBlur,o=n.onValidate;$(t,this._inputEventName,i),$(t,"blur",r),this.normalizedEvents.forEach(function(e){$(t,e,o)}),this.initialized=!0}).call(e,t)}),this.slim?K(t,r):t(this.tag,r)},beforeDestroy:function(){this.$_veeObserver.unsubscribe(this)},activated:function(){this.$_veeObserver.subscribe(this),this.isDeactivated=!1},deactivated:function(){this.$_veeObserver.unsubscribe(this),this.isDeactivated=!0},methods:{setFlags:function(t){var e=this;Object.keys(t).forEach(function(n){e.flags[n]=t[n]})},syncValue:function(t){var e=function(t){if(it(t))return"file"===t.target.type?x(t.target.files):t.target.value;return t}(t);this.value=e,this.flags.changed=this.initialValue!==e},reset:function(){this.messages=[],this._pendingValidation=null,this.initialValue=this.value;var t={untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:null,invalid:null,validated:!1,pending:!1,required:!1,changed:!1};this.setFlags(t)},validate:function(){for(var t=this,e=[],n=arguments.length;n--;)e[n]=arguments[n];return e.length>0&&this.syncValue(e[0]),this.validateSilent().then(function(e){return t.applyResult(e),e})},validateSilent:function(){var t,e,n=this;return this.setFlags({pending:!0}),Ai.verify(this.value,this.rules,{name:this.name,values:(t=this,e=t.$_veeObserver.refs,t.fieldDeps.reduce(function(t,n){return e[n]?(t[n]=e[n].value,t):t},{})),bails:this.bails}).then(function(t){return n.setFlags({pending:!1}),n.isRequired||n.setFlags({valid:t.valid,invalid:!t.valid}),t})},applyResult:function(t){var e=t.errors,n=t.failedRules;this.messages=e,this.failedRules=_({},n),this.setFlags({valid:!e.length,changed:this.value!==this.initialValue,invalid:!!e.length,validated:!0})},registerField:function(){Ai||(Ai=gt()||new bt(null,{fastExit:H().fastExit})),function(t){s(t.id)&&t.id===t.vid&&(t.id=Ni,Ni++);var e=t.id,n=t.vid;if(t.isDeactivated||e===n&&t.$_veeObserver.refs[e])return;e!==n&&t.$_veeObserver.refs[e]===t&&t.$_veeObserver.unsubscribe({vid:e});t.$_veeObserver.subscribe(t),t.id=n}(this)}}};function Di(t){return{errors:t.messages,flags:t.flags,classes:t.classes,valid:t.isValid,failedRules:t.failedRules,reset:function(){return t.reset()},validate:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return t.validate.apply(t,e)},aria:{"aria-invalid":t.flags.invalid?"true":"false","aria-required":t.isRequired?"true":"false"}}}function ji(t){return(m(t.mode)?t.mode:Tt[t.mode])({errors:t.messages,value:t.value,flags:t.flags})}function Pi(t){this.initialized||(this.initialValue=t.value);var e=function(t,e){return!(t._ignoreImmediate||!t.immediate)||t.value!==e.value||!!t._needsValidation||!t.initialized&&void 0===e.value}(this,t);this._needsValidation=!1,this.value=t.value,this._ignoreImmediate=!0,e&&this.validateSilent().then(this.immediate||this.flags.validated?this.applyResult:function(t){return t})}function Ri(t){var e=t.$veeHandler,n=ji(t);return e&&t.$veeDebounce===t.debounce||(e=h(function(){t.$nextTick(function(){var e=t.validateSilent();t._pendingValidation=e,e.then(function(n){e===t._pendingValidation&&(t.applyResult(n),t._pendingValidation=null)})})},n.debounce||t.debounce),t.$veeHandler=e,t.$veeDebounce=t.debounce),{onInput:function(e){t.syncValue(e),t.setFlags({dirty:!0,pristine:!1})},onBlur:function(){t.setFlags({touched:!0,untouched:!1})},onValidate:e}}var zi={pristine:"every",dirty:"some",touched:"some",untouched:"every",valid:"every",invalid:"some",pending:"some",validated:"every"};var Bi=0,Fi={name:"ValidationObserver",provide:function(){return{$_veeObserver:this}},inject:{$_veeObserver:{from:"$_veeObserver",default:function(){return this.$vnode.context.$_veeObserver?this.$vnode.context.$_veeObserver:null}}},props:{tag:{type:String,default:"span"},slim:{type:Boolean,default:!1}},data:function(){return{vid:"obs_"+Bi++,refs:{},observers:[],persistedStore:{}}},computed:{ctx:function(){var t=this,e={errors:{},validate:function(e){var n=t.validate(e);return{then:function(t){return n.then(function(e){return e&&m(t)?Promise.resolve(t()):Promise.resolve(e)})}}},reset:function(){return t.reset()}};return A(this.refs).concat(Object.keys(this.persistedStore).map(function(e){return{vid:e,flags:t.persistedStore[e].flags,messages:t.persistedStore[e].errors}}),this.observers).reduce(function(t,e){return Object.keys(zi).forEach(function(n){var i,r,o=e.flags||e.ctx;n in t?t[n]=(i=t[n],r=o[n],[i,r][zi[n]](function(t){return t})):t[n]=o[n]}),t.errors[e.vid]=e.messages||A(e.ctx.errors).reduce(function(t,e){return t.concat(e)},[]),t},e)}},created:function(){this.$_veeObserver&&this.$_veeObserver.subscribe(this,"observer")},activated:function(){this.$_veeObserver&&this.$_veeObserver.subscribe(this,"observer")},deactivated:function(){this.$_veeObserver&&this.$_veeObserver.unsubscribe(this,"observer")},beforeDestroy:function(){this.$_veeObserver&&this.$_veeObserver.unsubscribe(this,"observer")},render:function(t){var e=this.$slots.default||this.$scopedSlots.default||[];return m(e)&&(e=e(this.ctx)),this.slim?K(t,e):t(this.tag,{on:this.$listeners,attrs:this.$attrs},e)},methods:{subscribe:function(t,e){var n;void 0===e&&(e="provider"),"observer"!==e?(this.refs=Object.assign({},this.refs,((n={})[t.vid]=t,n)),t.persist&&this.persistedStore[t.vid]&&this.restoreProviderState(t)):this.observers.push(t)},unsubscribe:function(t,e){var n=t.vid;void 0===e&&(e="provider"),"provider"===e&&this.removeProvider(n);var i=C(this.observers,function(t){return t.vid===n});-1!==i&&this.observers.splice(i,1)},validate:function(t){void 0===t&&(t={silent:!1});var e=t.silent;return Promise.all(A(this.refs).map(function(t){return t[e?"validateSilent":"validate"]().then(function(t){return t.valid})}).concat(this.observers.map(function(t){return t.validate({silent:e})}))).then(function(t){return t.every(function(t){return t})})},reset:function(){var t=this;return Object.keys(this.persistedStore).forEach(function(e){t.$delete(t.persistedStore,e)}),A(this.refs).concat(this.observers).forEach(function(t){return t.reset()})},restoreProviderState:function(t){var e=this.persistedStore[t.vid];t.setFlags(e.flags),t.applyResult(e),this.$delete(this.persistedStore,t.vid)},removeProvider:function(t){var e,n=this.refs[t];n&&n.persist&&(this.persistedStore=_({},this.persistedStore,((e={})[t]={flags:n.flags,errors:n.messages,failedRules:n.failedRules},e))),this.$delete(this.refs,t)}}};Object.keys(Ti).forEach(function(t){bt.extend(t,Ti[t].validate,_({},Ti[t].options,{paramNames:Ti[t].paramNames}))}),bt.localize({en:Lt});Ot.version="2.2.15",Ot.mapFields=function(t){if(!t)return function(){return Ei(this.$validator.flags)};var e=function(t){return Array.isArray(t)?t.reduce(function(t,e){return N(e,".")?t[e.split(".")[1]]=e:t[e]=e,t},{}):t}(t);return Object.keys(e).reduce(function(t,n){var i=e[n];return t[n]=function(){if(this.$validator.flags[i])return this.$validator.flags[i];if("*"===e[n])return Ei(this.$validator.flags,!1);if(i.indexOf(".")<=0)return{};var t=i.split("."),r=t[0],o=t.slice(1);return r=this.$validator.flags["$"+r],"*"===(o=o.join("."))&&r?Ei(r):r&&r[o]?r[o]:{}},t},{})},Ot.ValidationProvider=Li,Ot.ValidationObserver=Fi,Ot.withValidation=function(t,e){void 0===e&&(e=null);var n=m(t)?t.options:t;n.$__veeInject=!1;var i={name:(n.name||"AnonymousHoc")+"WithValidation",props:_({},Li.props),data:Li.data,computed:_({},Li.computed),methods:_({},Li.methods),$__veeInject:!1,beforeDestroy:Li.beforeDestroy,inject:Li.inject};e||(e=function(t){return t});var r=n.model&&n.model.event||"input";return i.render=function(t){var i;this.registerField();var o=Di(this),a=_({},this.$listeners),s=Y(this.$vnode);this._inputEventName=this._inputEventName||X(this.$vnode,s),Pi.call(this,s);var l=Ri(this),u=l.onInput,c=l.onBlur,h=l.onValidate;Z(a,r,u),Z(a,"blur",c),this.normalizedEvents.forEach(function(t,e){Z(a,t,h)});var d,f,p=(Q(this.$vnode)||{prop:"value"}).prop,g=_({},this.$attrs,((i={})[p]=s.value,i),e(o));return t(n,{attrs:this.$attrs,props:g,on:a},(d=this.$slots,f=this.$vnode.context,Object.keys(d).reduce(function(t,e){return d[e].forEach(function(t){t.context||(d[e].context=f,t.data||(t.data={}),t.data.slot=e)}),t.concat(d[e])},[])))},i},e.b=Ot},spEF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenSyntax=void 0;var i=n("xk4U"),r=n("E4Rs"),o=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new i.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=r.namedConstraint(t),new i.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new i.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=r.taggedConstraint(t)(e),new i.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return r.typeConstraint(t)(e.parentRequest)},new i.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return r.namedConstraint(t)(e.parentRequest)},new i.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(n){return r.taggedConstraint(t)(e)(n.parentRequest)},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return r.traverseAncerstors(e,r.typeConstraint(t))},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return!r.traverseAncerstors(e,r.typeConstraint(t))},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return r.traverseAncerstors(e,r.namedConstraint(t))},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return!r.traverseAncerstors(e,r.namedConstraint(t))},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(n){return r.traverseAncerstors(n,r.taggedConstraint(t)(e))},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(n){return!r.traverseAncerstors(n,r.taggedConstraint(t)(e))},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return r.traverseAncerstors(e,t)},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return!r.traverseAncerstors(e,t)},new i.BindingOnSyntax(this._binding)},t}();e.BindingWhenSyntax=o},t3gJ:function(t,e,n){"use strict";var i={};n.d(i,"easeLinear",function(){return c}),n.d(i,"easeQuad",function(){return f}),n.d(i,"easeQuadIn",function(){return h}),n.d(i,"easeQuadOut",function(){return d}),n.d(i,"easeQuadInOut",function(){return f}),n.d(i,"easeCubic",function(){return v}),n.d(i,"easeCubicIn",function(){return p}),n.d(i,"easeCubicOut",function(){return g}),n.d(i,"easeCubicInOut",function(){return v}),n.d(i,"easePoly",function(){return b}),n.d(i,"easePolyIn",function(){return m}),n.d(i,"easePolyOut",function(){return y}),n.d(i,"easePolyInOut",function(){return b}),n.d(i,"easeSin",function(){return M}),n.d(i,"easeSinIn",function(){return _}),n.d(i,"easeSinOut",function(){return S}),n.d(i,"easeSinInOut",function(){return M}),n.d(i,"easeExp",function(){return T}),n.d(i,"easeExpIn",function(){return I}),n.d(i,"easeExpOut",function(){return k}),n.d(i,"easeExpInOut",function(){return T}),n.d(i,"easeCircle",function(){return A}),n.d(i,"easeCircleIn",function(){return O}),n.d(i,"easeCircleOut",function(){return E}),n.d(i,"easeCircleInOut",function(){return A}),n.d(i,"easeBounce",function(){return W}),n.d(i,"easeBounceIn",function(){return V}),n.d(i,"easeBounceOut",function(){return W}),n.d(i,"easeBounceInOut",function(){return H}),n.d(i,"easeBack",function(){return J}),n.d(i,"easeBackIn",function(){return U}),n.d(i,"easeBackOut",function(){return Y}),n.d(i,"easeBackInOut",function(){return J}),n.d(i,"easeElastic",function(){return $}),n.d(i,"easeElasticIn",function(){return Z}),n.d(i,"easeElasticOut",function(){return $}),n.d(i,"easeElasticInOut",function(){return X});var r=n("TToO"),o=n("f3pQ"),a=n("JwB+"),s=n("BuFP"),l=n("vfXu"),u=n("9fCz");function c(t){return+t}function h(t){return t*t}function d(t){return t*(2-t)}function f(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function p(t){return t*t*t}function g(t){return--t*t*t+1}function v(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var m=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),y=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),b=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),x=Math.PI,w=x/2;function _(t){return 1==+t?1:1-Math.cos(t*w)}function S(t){return Math.sin(t*w)}function M(t){return(1-Math.cos(x*t))/2}function C(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function I(t){return C(1-+t)}function k(t){return 1-C(t)}function T(t){return((t*=2)<=1?C(1-t):2-C(t-1))/2}function O(t){return 1-Math.sqrt(1-t*t)}function E(t){return Math.sqrt(1- --t*t)}function A(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var N=4/11,L=6/11,D=8/11,j=.75,P=9/11,R=10/11,z=.9375,B=21/22,F=63/64,G=1/N/N;function V(t){return 1-W(1-t)}function W(t){return(t=+t)<N?G*t*t:t<D?G*(t-=L)*t+j:t<R?G*(t-=P)*t+z:G*(t-=B)*t+F}function H(t){return((t*=2)<=1?1-W(1-t):W(t-1)+1)/2}var U=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),Y=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),J=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Q=2*Math.PI,Z=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Q);function r(t){return e*C(- --t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*Q)},r.period=function(n){return t(e,n)},r}(1,.3),$=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Q);function r(t){return 1-e*C(t=+t)*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*Q)},r.period=function(n){return t(e,n)},r}(1,.3),X=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Q);function r(t){return((t=2*t-1)<0?e*C(-t)*Math.sin((i-t)/n):2-e*C(t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*Q)},r.period=function(n){return t(e,n)},r}(1,.3),K=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function q(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function tt(){}var et="\\s*([+-]?\\d+)\\s*",nt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",it="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rt=/^#([0-9a-f]{3,8})$/,ot=new RegExp("^rgb\\("+[et,et,et]+"\\)$"),at=new RegExp("^rgb\\("+[it,it,it]+"\\)$"),st=new RegExp("^rgba\\("+[et,et,et,nt]+"\\)$"),lt=new RegExp("^rgba\\("+[it,it,it,nt]+"\\)$"),ut=new RegExp("^hsl\\("+[nt,it,it]+"\\)$"),ct=new RegExp("^hsla\\("+[nt,it,it,nt]+"\\)$"),ht={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function dt(){return this.rgb().formatHex()}function ft(){return this.rgb().formatRgb()}function pt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=rt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?gt(e):3===n?new bt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?vt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?vt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ot.exec(t))?new bt(e[1],e[2],e[3],1):(e=at.exec(t))?new bt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=st.exec(t))?vt(e[1],e[2],e[3],e[4]):(e=lt.exec(t))?vt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ut.exec(t))?St(e[1],e[2]/100,e[3]/100,1):(e=ct.exec(t))?St(e[1],e[2]/100,e[3]/100,e[4]):ht.hasOwnProperty(t)?gt(ht[t]):"transparent"===t?new bt(NaN,NaN,NaN,0):null}function gt(t){return new bt(t>>16&255,t>>8&255,255&t,1)}function vt(t,e,n,i){return i<=0&&(t=e=n=NaN),new bt(t,e,n,i)}function mt(t){return t instanceof tt||(t=pt(t)),t?new bt((t=t.rgb()).r,t.g,t.b,t.opacity):new bt}function yt(t,e,n,i){return 1===arguments.length?mt(t):new bt(t,e,n,null==i?1:i)}function bt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function xt(){return"#"+_t(this.r)+_t(this.g)+_t(this.b)}function wt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function _t(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function St(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new It(t,e,n,i)}function Mt(t){if(t instanceof It)return new It(t.h,t.s,t.l,t.opacity);if(t instanceof tt||(t=pt(t)),!t)return new It;if(t instanceof It)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new It(a,s,l,t.opacity)}function Ct(t,e,n,i){return 1===arguments.length?Mt(t):new It(t,e,n,null==i?1:i)}function It(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function kt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}K(tt,pt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:dt,formatHex:dt,formatHsl:function(){return Mt(this).formatHsl()},formatRgb:ft,toString:ft}),K(bt,yt,q(tt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new bt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new bt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xt,formatHex:xt,formatRgb:wt,toString:wt})),K(It,Ct,q(tt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new It(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new It(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new bt(kt(t>=240?t-240:t+120,r,i),kt(t,r,i),kt(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Tt=Math.PI/180,Ot=180/Math.PI,Et=.96422,At=1,Nt=.82521,Lt=4/29,Dt=6/29,jt=3*Dt*Dt,Pt=Dt*Dt*Dt;function Rt(t){if(t instanceof Bt)return new Bt(t.l,t.a,t.b,t.opacity);if(t instanceof Yt)return Jt(t);t instanceof bt||(t=mt(t));var e,n,i=Wt(t.r),r=Wt(t.g),o=Wt(t.b),a=Ft((.2225045*i+.7168786*r+.0606169*o)/At);return i===r&&r===o?e=n=a:(e=Ft((.4360747*i+.3850649*r+.1430804*o)/Et),n=Ft((.0139322*i+.0971045*r+.7141733*o)/Nt)),new Bt(116*a-16,500*(e-a),200*(a-n),t.opacity)}function zt(t,e,n,i){return 1===arguments.length?Rt(t):new Bt(t,e,n,null==i?1:i)}function Bt(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Ft(t){return t>Pt?Math.pow(t,1/3):t/jt+Lt}function Gt(t){return t>Dt?t*t*t:jt*(t-Lt)}function Vt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Wt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ht(t){if(t instanceof Yt)return new Yt(t.h,t.c,t.l,t.opacity);if(t instanceof Bt||(t=Rt(t)),0===t.a&&0===t.b)return new Yt(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ot;return new Yt(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ut(t,e,n,i){return 1===arguments.length?Ht(t):new Yt(t,e,n,null==i?1:i)}function Yt(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Jt(t){if(isNaN(t.h))return new Bt(t.l,0,0,t.opacity);var e=t.h*Tt;return new Bt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}K(Bt,zt,q(tt,{brighter:function(t){return new Bt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Bt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new bt(Vt(3.1338561*(e=Et*Gt(e))-1.6168667*(t=At*Gt(t))-.4906146*(n=Nt*Gt(n))),Vt(-.9787684*e+1.9161415*t+.033454*n),Vt(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),K(Yt,Ut,q(tt,{brighter:function(t){return new Yt(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Yt(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Jt(this).rgb()}}));var Qt=-.14861,Zt=1.78277,$t=-.29227,Xt=-.90649,Kt=1.97294,qt=Kt*Xt,te=Kt*Zt,ee=Zt*$t-Xt*Qt;function ne(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof ie)return new ie(t.h,t.s,t.l,t.opacity);t instanceof bt||(t=mt(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(ee*i+qt*e-te*n)/(ee+qt-te),o=i-r,a=(Kt*(n-r)-$t*o)/Xt,s=Math.sqrt(a*a+o*o)/(Kt*r*(1-r)),l=s?Math.atan2(a,o)*Ot-120:NaN;return new ie(l<0?l+360:l,s,r,t.opacity)}(t):new ie(t,e,n,null==i?1:i)}function ie(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function re(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}K(ie,ne,q(tt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ie(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ie(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Tt,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new bt(255*(e+n*(Qt*i+Zt*r)),255*(e+n*($t*i+Xt*r)),255*(e+n*(Kt*i)),this.opacity)}}));var oe=function(t){return function(){return t}};function ae(t,e){return function(n){return t+n*e}}function se(t,e){var n=e-t;return n?ae(t,n>180||n<-180?n-360*Math.round(n/360):n):oe(isNaN(t)?e:t)}function le(t){return 1==(t=+t)?ue:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):oe(isNaN(e)?n:e)}}function ue(t,e){var n=e-t;return n?ae(t,n):oe(isNaN(t)?e:t)}var ce=function t(e){var n=le(e);function i(t,e){var i=n((t=yt(t)).r,(e=yt(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=ue(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function he(t){return function(e){var n,i,r=e.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=yt(e[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=t(o),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=a(t),i.b=s(t),i+""}}}he(function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],a=i>0?t[i-1]:2*r-o,s=i<e-1?t[i+2]:2*o-r;return re((n-i/e)*e,a,r,o,s)}}),he(function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],a=t[(i+1)%e],s=t[(i+2)%e];return re((n-i/e)*e,r,o,a,s)}});var de=function(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}};function fe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var pe=function(t,e){return(fe(e)?de:ge)(t,e)};function ge(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=Se(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}var ve=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},me=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ye=new RegExp(me.source,"g");var be,xe,we,_e,Se=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?oe(e):("number"===i?ve:"string"===i?(n=pt(e))?(e=n,ce):function(t,e){var n,i,r,o=me.lastIndex=ye.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=me.exec(t))&&(i=ye.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:ve(n,i)})),o=ye.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}:e instanceof pt?ce:e instanceof Date?function(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}:fe(e)?de:Array.isArray(e)?ge:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Se(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}:ve)(t,e)},Me=180/Math.PI,Ce={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ie=function(t,e,n,i,r,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Me,skewX:Math.atan(l)*Me,scaleX:a,scaleY:s}};function ke(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,i,r,o,a,s){if(t!==r||i!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:ve(t,r)},{i:l-2,x:ve(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:ve(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:ve(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,a.skewX,s,l),function(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:ve(t,n)},{i:s-2,x:ve(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,i=l.length;++n<i;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}ke(function(t){return"none"===t?Ce:(be||(be=document.createElement("DIV"),xe=document.documentElement,we=document.defaultView),be.style.transform=t,t=we.getComputedStyle(xe.appendChild(be),null).getPropertyValue("transform"),xe.removeChild(be),t=t.slice(7,-1).split(","),Ie(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),ke(function(t){return null==t?Ce:(_e||(_e=document.createElementNS("http://www.w3.org/2000/svg","g")),_e.setAttribute("transform",t),(t=_e.transform.baseVal.consolidate())?(t=t.matrix,Ie(t.a,t.b,t.c,t.d,t.e,t.f)):Ce)},", ",")",")"),Math.SQRT2;function Te(t){return function(e,n){var i=t((e=Ct(e)).h,(n=Ct(n)).h),r=ue(e.s,n.s),o=ue(e.l,n.l),a=ue(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=a(t),e+""}}}Te(se),Te(ue);function Oe(t){return function(e,n){var i=t((e=Ut(e)).h,(n=Ut(n)).h),r=ue(e.c,n.c),o=ue(e.l,n.l),a=ue(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=a(t),e+""}}}Oe(se),Oe(ue);function Ee(t){return function e(n){function i(e,i){var r=t((e=ne(e)).h,(i=ne(i)).h),o=ue(e.s,i.s),a=ue(e.l,i.l),s=ue(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,i.gamma=e,i}(1)}Ee(se),Ee(ue);var Ae=n("TnYd"),Ne=function(t){return["fill","stroke","fillStyle","strokeStyle"].includes(t)},Le=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)},De=[1,0,0,0,1,0,0,0,1];function je(t,e,n){var r,o=e.startTime;if(n<o+e.delay||e._paused)return!1;var a=e.duration,s=e.easing;if(n=n-o-e.delay,e.repeat)r=n%a/a,r=i[s](r);else{if(!((r=n/a)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=i[s](r)}if(e.onFrame){var u=e.onFrame(r);t.attr(u)}else!function(t,e,n){var i={},r=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a;for(var s in o)if(!Object(l.c)(r[s],o[s]))if("path"===s){var u=o[s],c=r[s];u.length>c.length?(u=Ae.parsePathString(o[s]),c=Ae.parsePathString(r[s]),c=Ae.fillPathByDiff(c,u),c=Ae.formatPath(c,u),e.fromAttrs.path=c,e.toAttrs.path=u):e.pathFormatted||(u=Ae.parsePathString(o[s]),c=Ae.parsePathString(r[s]),c=Ae.formatPath(c,u),e.fromAttrs.path=c,e.toAttrs.path=u,e.pathFormatted=!0),i[s]=[];for(var h=0;h<u.length;h++){for(var d=u[h],f=c[h],p=[],g=0;g<d.length;g++)Object(l.f)(d[g])&&f&&Object(l.f)(f[g])?(a=Se(f[g],d[g]),p.push(a(n))):p.push(d[g]);i[s].push(p)}}else if("matrix"===s){var v=pe(r[s]||De,o[s]||De)(n);i[s]=v}else Ne(s)&&Le(o[s])?i[s]=o[s]:Object(l.d)(o[s])||(a=Se(r[s],o[s]),i[s]=a(n));t.attr(i)}}(t,e,r);return!1}var Pe=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,i=this;this.timer=u.a(function(r){if(i.current=r,i.animators.length>0){for(var o=i.animators.length-1;o>=0;o--)if((t=i.animators[o]).destroyed)i.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get("animations")).length-1;a>=0;a--)n=e[a],je(t,n,r)&&(e.splice(a,1),!1,n.callback&&n.callback());0===e.length&&i.removeAnimator(o)}i.canvas.get("autoDraw")||i.canvas.draw()}})},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach(function(e){e.stopAnimate(t)}),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),Re=n("Y1ED"),ze=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Be(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function Fe(t,e,n){if(n.bubbles){var i=void 0,r=!1;if("mouseenter"===e?(i=n.fromShape,r=!0):"mouseleave"===e&&(r=!0,i=n.toShape),t.isCanvas()&&r)return;if(i&&Object(s.g)(t,i))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var Ge=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");Object(s.a)(ze,function(n){e.addEventListener(n,t._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");Object(s.a)(ze,function(n){e.removeEventListener(n,t._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,i,r,o){var a=new Re.a(t,e);return a.fromShape=r,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(i),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),i=e.getPointByEvent(t);return{x:i.x,y:i.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),i=this._getShape(n,e),r=this["_on"+t],o=!1;if(r)r.call(this,n,i,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,i),i&&this._emitEvent(t,e,n,i,null,i),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,i,null,null)}if(o||(this.currentShape=i),i&&!i.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=i.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,i){var r=this.canvas.get("el");n!==i&&(n&&(this._emitEvent("mouseout",t,e,n,n,i),this._emitEvent("mouseleave",t,e,n,n,i),i&&!i.get("destroyed")||(r.style.cursor=this.canvas.get("cursor"))),i&&(this._emitEvent("mouseover",t,e,i,n,i),this._emitEvent("mouseenter",t,e,i,n,i)))},t.prototype._emitDragoverEvents=function(t,e,n,i,r){i?(i!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,i),this._emitEvent("dragenter",t,e,i,n,i)),r||this._emitEvent("dragover",t,e,i)):n&&this._emitEvent("dragleave",t,e,n,n,i),r&&this._emitEvent("dragover",t,e,i)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var i=this._getShape(e,n);i!==t&&this._emitMouseoverEvents(n,e,t,i),this.currentShape=i},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var i=this.draggingShape;this.dragging?(i&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,i),this._afterDrag(i,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var i=this.currentShape;this._emitDragoverEvents(n,t,i,e,!0)},t.prototype._onmousemove=function(t,e,n){var i=this.canvas,r=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,r,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,l=n.timeStamp-this.mousedownTimeStamp,u=a.clientX-t.clientX,c=a.clientY-t.clientY;l>120||u*u+c*c>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&i.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,i,r,o){var a=this._getEventObj(t,e,n,i,r,o);if(i){a.shape=i,Be(i,t,a);for(var s=i.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||Fe(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{Be(this.canvas,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),Ve=Object(o.a)(),We=Ve&&"firefox"===Ve.name,He=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return Object(r.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");Object(s.h)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new Ge({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new Pe(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");s.c&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");s.c&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(We&&!Object(s.e)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Object(s.e)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,i=e.y;return this.getPointByClient(n,i)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(a.a);e.a=He},t8qj:function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t}},t8x9:function(t,e,n){var i=n("77Pl"),r=n("lOnJ"),o=n("dSzd")("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||void 0==(n=i(a)[o])?e:r(n)}},tIFN:function(t,e,n){"use strict";var i=n("cGG2"),r=n("JP+z"),o=n("XmWM"),a=n("KCLY");function s(t){var e=new o(t),n=r(o.prototype.request,e);return i.extend(n,o.prototype,e),i.extend(n,e),n}var l=s(a);l.Axios=o,l.create=function(t){return s(i.merge(a,t))},l.Cancel=n("dVOP"),l.CancelToken=n("cWxy"),l.isCancel=n("pBtG"),l.all=function(t){return Promise.all(t)},l.spread=n("pxG4"),t.exports=l,t.exports.default=l},tNLN:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},tTVk:function(t,e){t.exports=function(t,e){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=o[0],s={id:t+":"+r,css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}},tZ0v:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("5eO5"),r=n("BIhM"),o=function(){function t(t,e,n,i,o){this.fromNode=t,this.toNode=e,this.nodeEdgeNodeLabel={nodeLabel1:n||r.VACANT_NODE_LABEL,edgeLabel:i||r.VACANT_EDGE_LABEL,nodeLabel2:o||r.VACANT_NODE_LABEL}}return t.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t}(),a=function(){function t(){this.rmpath=[],this.dfsEdgeList=[]}return t.prototype.equalTo=function(t){var e=this.dfsEdgeList.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(this.dfsEdgeList[n]!==t[n])return!1;return!0},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t.prototype.pushBack=function(t,e,n,i,r){return this.dfsEdgeList.push(new o(t,e,n,i,r)),this.dfsEdgeList},t.prototype.toGraph=function(t,e){void 0===t&&(t=r.VACANT_GRAPH_ID),void 0===e&&(e=!1);var n=new r.Graph(t,!0,e);return this.dfsEdgeList.forEach(function(t){var e=t.fromNode,i=t.toNode,o=t.nodeEdgeNodeLabel,a=o.nodeLabel1,s=o.edgeLabel,l=o.nodeLabel2;a!==r.VACANT_NODE_LABEL&&n.addNode(e,a),l!==r.VACANT_NODE_LABEL&&n.addNode(i,l),a!==r.VACANT_NODE_LABEL&&l!==a&&n.addEdge(void 0,e,i,s)}),n},t.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,e=this.dfsEdgeList.length-1;e>=0;e--){var n=this.dfsEdgeList[e],i=n.fromNode,r=n.toNode;i<r&&(void 0===t||r===t)&&(this.rmpath.push(e),t=i)}return this.rmpath},t.prototype.getNodeNum=function(){var t={};return this.dfsEdgeList.forEach(function(e){t[e.fromNode]||(t[e.fromNode]=!0),t[e.toNode]||(t[e.toNode]=!0)}),Object.keys(t).length},t}(),s=function(){function t(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],t){for(;t;){var e=t.edge;this.edges.push(e),this.nodesUsed[e.from]=1,this.nodesUsed[e.to]=1,this.edgesUsed[e.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}return t.prototype.hasNode=function(t){return 1===this.nodesUsed[t.id]},t.prototype.hasEdge=function(t){return 1===this.edgesUsed[t.id]},t}(),l=function(){function t(t){var e=t.graphs,n=t.minSupport,i=void 0===n?2:n,r=t.minNodeNum,o=void 0===r?1:r,s=t.maxNodeNum,l=void 0===s?4:s,u=t.top,c=void 0===u?10:u,h=t.directed,d=void 0!==h&&h,f=t.verbose,p=void 0!==f&&f;this.graphs=e,this.dfsCode=new a,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=i,this.top=c,this.directed=d,this.counter=0,this.maxNodeNum=l,this.minNodeNum=o,this.verbose=p,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return t.prototype.findForwardRootEdges=function(t,e){var n=this,i=[],r=t.nodeMap;return e.edges.forEach(function(t){(n.directed||e.label<=r[t.to].label)&&i.push(t)}),i},t.prototype.findBackwardEdge=function(t,e,n,i){if(!this.directed&&e===n)return null;for(var r=t.nodeMap,o=r[n.to].edges,a=o.length,s=0;s<a;s++){var l=o[s];if(!i.hasEdge(l)&&l.to===e.from)if(this.directed){if(r[e.from].label<r[n.to].label||r[e.from].label===r[n.to].label&&e.label<=l.label)return l}else if(e.label<l.label||e.label===l.label&&r[e.to].label<=r[n.to].label)return l}return null},t.prototype.findForwardPureEdges=function(t,e,n,i){for(var r=[],o=e.to,a=t.nodeMap[o].edges,s=a.length,l=0;l<s;l++){var u=a[l],c=t.nodeMap[u.to];n<=c.label&&!i.hasNode(c)&&r.push(u)}return r},t.prototype.findForwardRmpathEdges=function(t,e,n,i){for(var r=[],o=t.nodeMap,a=o[e.to].label,s=o[e.from].edges,l=s.length,u=0;u<l;u++){var c=s[u],h=o[c.to].label;e.to===c.to||n>h||i.hasNode(o[c.to])||(e.label<c.label||e.label===c.label&&a<=h)&&r.push(c)}return r},t.prototype.getSupport=function(t){var e={};return t.forEach(function(t){e[t.graphId]||(e[t.graphId]=!0)}),Object.keys(e).length},t.prototype.findMinLabel=function(t){var e=void 0;return Object.keys(t).forEach(function(n){var i=t[n],r=i.nodeLabel1,o=i.edgeLabel,a=i.nodeLabel2;e?(r<e.nodeLabel1||r===e.nodeLabel1&&o<e.edgeLabel||r===e.nodeLabel1&&o===e.edgeLabel&&a<e.nodeLabel2)&&(e={nodeLabel1:r,edgeLabel:o,nodeLabel2:a}):e={nodeLabel1:r,edgeLabel:o,nodeLabel2:a}}),e},t.prototype.isMin=function(){var t=this,e=this.dfsCode;if(this.verbose&&console.log("isMin checking",e),1===e.dfsEdgeList.length)return!0;var n=this.directed,i=e.toGraph(r.VACANT_GRAPH_ID,n),l=i.nodeMap,u=new a,c={};i.nodes.forEach(function(e){t.findForwardRootEdges(i,e).forEach(function(t){var n=l[t.to],r="".concat(e.label,"-").concat(t.label,"-").concat(n.label);c[r]||(c[r]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:n.label});var o={graphId:i.id,edge:t,preNode:null};c[r].projected.push(o)})});var h=this.findMinLabel(c);if(h){u.dfsEdgeList.push(new o(0,1,h.nodeLabel1,h.edgeLabel,h.nodeLabel2));var d="".concat(h.nodeLabel1,"-").concat(h.edgeLabel,"-").concat(h.nodeLabel2);return function a(c){for(var h=u.buildRmpath(),d=u.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,f=u.dfsEdgeList[h[0]].toNode,p={},g=!1,v=0,m=n?-1:0,y=function(e){if(g)return"break";c.forEach(function(n){var r=new s(n),o=t.findBackwardEdge(i,r.edges[h[e]],r.edges[h[0]],r);o&&(p[o.label]||(p[o.label]={projected:[],edgeLabel:o.label}),p[o.label].projected.push({graphId:i.id,edge:p,preNode:n}),v=u.dfsEdgeList[h[e]].fromNode,g=!0)})},b=h.length-1;b>m&&"break"!==y(b);b--);if(g){var x=t.findMinLabel(p);u.dfsEdgeList.push(new o(f,v,r.VACANT_NODE_LABEL,x.edgeLabel,r.VACANT_NODE_LABEL));var w=u.dfsEdgeList.length-1;return t.dfsCode.dfsEdgeList[w]===u.dfsEdgeList[w]&&a(p[x.edgeLabel].projected)}var _={};g=!1;var S=0;c.forEach(function(e){var n=new s(e),r=t.findForwardPureEdges(i,n.edges[h[0]],d,n);r.length>0&&(g=!0,S=f,r.forEach(function(t){var n="".concat(t.label,"-").concat(l[t.to].label);_[n]||(_[n]={projected:[],edgeLabel:t.label,nodeLabel2:l[t.to].label}),_[n].projected.push({graphId:i.id,edge:t,preNode:e})}))});var M=h.length,C=function(e){if(g)return"break";var n=h[e];c.forEach(function(e){var r=new s(e),o=t.findForwardRmpathEdges(i,r.edges[n],d,r);o.length>0&&(g=!0,S=u.dfsEdgeList[n].fromNode,o.forEach(function(t){var n="".concat(t.label,"-").concat(l[t.to].label);_[n]||(_[n]={projected:[],edgeLabel:t.label,nodeLabel2:l[t.to].label}),_[n].projected.push({graphId:i.id,edge:t,preNode:e})}))})};for(b=0;b<M&&"break"!==C(b);b++);if(!g)return!0;var I=t.findMinLabel(_);u.dfsEdgeList.push(new o(S,f+1,r.VACANT_NODE_LABEL,I.edgeLabel,I.nodeLabel2));var k=u.dfsEdgeList.length-1;return e.dfsEdgeList[k]===u.dfsEdgeList[k]&&a(_["".concat(I.edgeLabel,"-").concat(I.nodeLabel2)].projected)}(c[d].projected)}},t.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var t=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,i.clone)(t))}},t.prototype.subGraphMining=function(t){var e=this;if(!(this.getSupport(t)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),i=this.dfsCode.buildRmpath(),a=this.dfsCode.dfsEdgeList[i[0]].toNode,l=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,u={},c={};t.forEach(function(t){for(var r=e.graphs[t.graphId],o=r.nodeMap,h=new s(t),d=i.length-1;d>=0;d--){var f=e.findBackwardEdge(r,h.edges[i[d]],h.edges[i[0]],h);if(f){var p="".concat(e.dfsCode.dfsEdgeList[i[d]].fromNode,"-").concat(f.label);c[p]||(c[p]={projected:[],toNodeId:e.dfsCode.dfsEdgeList[i[d]].fromNode,edgeLabel:f.label}),c[p].projected.push({graphId:t.graphId,edge:f,preNode:t})}}if(!(n>=e.maxNodeNum)){e.findForwardPureEdges(r,h.edges[i[0]],l,h).forEach(function(e){var n="".concat(a,"-").concat(e.label,"-").concat(o[e.to].label);u[n]||(u[n]={projected:[],fromNodeId:a,edgeLabel:e.label,nodeLabel2:o[e.to].label}),u[n].projected.push({graphId:t.graphId,edge:e,preNode:t})});var g=function(n){e.findForwardRmpathEdges(r,h.edges[i[n]],l,h).forEach(function(r){var a="".concat(e.dfsCode.dfsEdgeList[i[n]].fromNode,"-").concat(r.label,"-").concat(o[r.to].label);u[a]||(u[a]={projected:[],fromNodeId:e.dfsCode.dfsEdgeList[i[n]].fromNode,edgeLabel:r.label,nodeLabel2:o[r.to].label}),u[a].projected.push({graphId:t.graphId,edge:r,preNode:t})})};for(d=0;d<i.length;d++)g(d)}}),Object.keys(c).forEach(function(t){var n=c[t],i=n.toNodeId,r=n.edgeLabel;e.dfsCode.dfsEdgeList.push(new o(a,i,"-1",r,"-1")),e.subGraphMining(c[t].projected),e.dfsCode.dfsEdgeList.pop()}),Object.keys(u).forEach(function(t){var n=u[t],i=n.fromNodeId,s=n.edgeLabel,l=n.nodeLabel2;e.dfsCode.dfsEdgeList.push(new o(i,a+1,r.VACANT_NODE_LABEL,s,l)),e.subGraphMining(u[t].projected),e.dfsCode.dfsEdgeList.pop()})}},t.prototype.generate1EdgeFrequentSubGraphs=function(){var t=this.graphs,e=this.directed,n=this.minSupport,i=this.frequentSize1Subgraphs,r={},o={},a={},s={};return Object.keys(t).forEach(function(n){var i=t[n],l=i.nodeMap;i.nodes.forEach(function(t,i){var u=t.label,c="".concat(n,"-").concat(u);if(!a[c]){var h=r[u]||0;h++,r[u]=h}a[c]={graphKey:n,label:u},t.edges.forEach(function(t){var i=u,r=l[t.to].label;if(!e&&i>r){var a=r;r=i,i=a}var c=t.label,h="".concat(n,"-").concat(i,"-").concat(c,"-").concat(r),d="".concat(i,"-").concat(c,"-").concat(r);if(!o[d]){var f=o[d]||0;f++,o[d]=f}s[h]={graphId:n,nodeLabel1:i,edgeLabel:c,nodeLabel2:r}})})}),Object.keys(r).forEach(function(t){if(!(r[t]<n)){var e={nodes:[],edges:[]};e.nodes.push({id:"0",label:t}),i.push(e)}}),i},t.prototype.run=function(){var t=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var e=this.graphs,n=(this.directed,{});Object.keys(e).forEach(function(i){var r=e[i],o=r.nodeMap;r.nodes.forEach(function(e){t.findForwardRootEdges(r,e).forEach(function(t){var r=o[t.to],a="".concat(e.label,"-").concat(t.label,"-").concat(r.label);n[a]||(n[a]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:r.label});var s={graphId:i,edge:t,preNode:null};n[a].projected.push(s)})})}),Object.keys(n).forEach(function(e){var i=n[e],r=i.projected,a=i.nodeLabel1,s=i.edgeLabel,l=i.nodeLabel2;t.dfsCode.dfsEdgeList.push(new o(0,1,a,s,l)),t.subGraphMining(r),t.dfsCode.dfsEdgeList.pop()})}},t}(),u=function(t){var e=t.graphs,n=t.directed,i=void 0!==n&&n,o=t.nodeLabelProp,a=void 0===o?"cluster":o,s=t.edgeLabelProp,u=void 0===s?"cluster":s,c=function(t,e,n,i){var o={};return Object.keys(t).forEach(function(a,s){var l=t[a],u=new r.Graph(s,!0,e),c={};l.nodes.forEach(function(t,e){u.addNode(e,t[n]),c[t.id]=e}),l.edges.forEach(function(t,e){var n=c[t.source],r=c[t.target];u.addEdge(-1,n,r,t[i])}),u&&u.getNodeNum()&&(o[u.id]=u)}),o}(e,i,a,u),h=t.minSupport,d=t.maxNodeNum,f=t.minNodeNum,p=t.verbose,g=t.top,v=new l({graphs:c,minSupport:h,maxNodeNum:d,minNodeNum:f,top:g,verbose:p,directed:i});return v.run(),function(t,e,n){var i=[];return t.forEach(function(t){var r={nodes:[],edges:[]};t.nodes.forEach(function(t){var n;r.nodes.push(((n={id:"".concat(t.id)})[e]=t.label,n))}),t.edges.forEach(function(t){var e;r.edges.push(((e={source:"".concat(t.from),target:"".concat(t.to)})[n]=t.label,e))}),i.push(r)}),i}(v.frequentSubgraphs,a,u)};e.default=u},thJu:function(t,e,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,o=String(t),a="",s=0,l=i;o.charAt(0|s)||(l="=",s%1);a+=l.charAt(63&e>>8-s%1*8)){if((n=o.charCodeAt(s+=.75))>255)throw new r;e=e<<8|n}return a}},tuOO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STACK_OVERFLOW=e.CIRCULAR_DEPENDENCY_IN_FACTORY=e.POST_CONSTRUCT_ERROR=e.MULTIPLE_POST_CONSTRUCT_METHODS=e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=e.ARGUMENTS_LENGTH_MISMATCH=e.INVALID_DECORATOR_OPERATION=e.INVALID_TO_SELF_VALUE=e.INVALID_FUNCTION_BINDING=e.INVALID_MIDDLEWARE_RETURN=e.NO_MORE_SNAPSHOTS_AVAILABLE=e.INVALID_BINDING_TYPE=e.NOT_IMPLEMENTED=e.CIRCULAR_DEPENDENCY=e.UNDEFINED_INJECT_ANNOTATION=e.MISSING_INJECT_ANNOTATION=e.MISSING_INJECTABLE_ANNOTATION=e.NOT_REGISTERED=e.CANNOT_UNBIND=e.AMBIGUOUS_MATCH=e.KEY_NOT_FOUND=e.NULL_ARGUMENT=e.DUPLICATED_METADATA=e.DUPLICATED_INJECTABLE_DECORATOR=void 0,e.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",e.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",e.NULL_ARGUMENT="NULL argument",e.KEY_NOT_FOUND="Key Not Found",e.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",e.CANNOT_UNBIND="Could not unbind serviceIdentifier:",e.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",e.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",e.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";e.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},e.CIRCULAR_DEPENDENCY="Circular dependency found:",e.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",e.INVALID_BINDING_TYPE="Invalid binding type:",e.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",e.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",e.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",e.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",e.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";e.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",e.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";e.POST_CONSTRUCT_ERROR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]};e.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},e.STACK_OVERFLOW="Maximum call stack size exceeded"},uCF8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenOnSyntax=void 0;var i=n("xk4U"),r=n("spEF"),o=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new r.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingWhenOnSyntax=o},uJO0:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},uSER:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pageRankAsync=e.minimumSpanningTreeAsync=e.louvainAsync=e.labelPropagationAsync=e.getOutDegreeAsync=e.getNeighborsAsync=e.getInDegreeAsync=e.getDegreeAsync=e.getAdjMatrixAsync=e.floydWarshallAsync=e.findShortestPathAsync=e.findAllPathAsync=e.dijkstraAsync=e.detectCycleAsync=e.detectAllUndirectedCycleAsync=e.detectAllDirectedCycleAsync=e.detectAllCyclesAsync=e.connectedComponentAsync=e.GADDIAsync=void 0;var i,r=(i=n("reIy"))&&i.__esModule?i:{default:i},o=n("LsnM");e.getAdjMatrixAsync=function(t,e){return(0,r.default)(o.ALGORITHM.getAdjMatrix).apply(void 0,[t,e])};e.connectedComponentAsync=function(t,e){return(0,r.default)(o.ALGORITHM.connectedComponent).apply(void 0,[t,e])};e.getDegreeAsync=function(t){return(0,r.default)(o.ALGORITHM.getDegree)(t)};e.getInDegreeAsync=function(t,e){return(0,r.default)(o.ALGORITHM.getInDegree)(t,e)};e.getOutDegreeAsync=function(t,e){return(0,r.default)(o.ALGORITHM.getOutDegree)(t,e)};e.detectCycleAsync=function(t){return(0,r.default)(o.ALGORITHM.detectCycle)(t)};e.detectAllCyclesAsync=function(t){return(0,r.default)(o.ALGORITHM.detectAllCycles)(t)};e.detectAllDirectedCycleAsync=function(t){return(0,r.default)(o.ALGORITHM.detectAllDirectedCycle)(t)};e.detectAllUndirectedCycleAsync=function(t){return(0,r.default)(o.ALGORITHM.detectAllUndirectedCycle)(t)};e.dijkstraAsync=function(t,e,n,i){return(0,r.default)(o.ALGORITHM.dijkstra).apply(void 0,[t,e,n,i])};e.findAllPathAsync=function(t,e,n,i){return(0,r.default)(o.ALGORITHM.findAllPath).apply(void 0,[t,e,n,i])};e.findShortestPathAsync=function(t,e,n,i,a){return(0,r.default)(o.ALGORITHM.findShortestPath).apply(void 0,[t,e,n,i,a])};e.floydWarshallAsync=function(t,e){return(0,r.default)(o.ALGORITHM.floydWarshall).apply(void 0,[t,e])};e.labelPropagationAsync=function(t,e,n,i){return void 0===i&&(i=1e3),(0,r.default)(o.ALGORITHM.labelPropagation)(t,e,n,i)};e.louvainAsync=function(t,e,n,i){return(0,r.default)(o.ALGORITHM.louvain)(t,e,n,i)};e.minimumSpanningTreeAsync=function(t,e,n){return(0,r.default)(o.ALGORITHM.minimumSpanningTree).apply(void 0,[t,e,n])};e.pageRankAsync=function(t,e,n){return(0,r.default)(o.ALGORITHM.pageRank).apply(void 0,[t,e,n])};e.getNeighborsAsync=function(t,e,n){return(0,r.default)(o.ALGORITHM.getNeighbors).apply(void 0,[t,e,n])};e.GADDIAsync=function(t,e,n,i,a,s,l){return void 0===n&&(n=!1),void 0===s&&(s="cluster"),void 0===l&&(l="cluster"),(0,r.default)(o.ALGORITHM.GADDI).apply(void 0,[t,e,n,i,a,s,l])}},"uaD/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findShortestPath=e.findAllPath=void 0;var i,r=(i=n("2j9C"))&&i.__esModule?i:{default:i},o=n("lSAc");e.findShortestPath=function(t,e,n,i,o){var a=(0,r.default)(t,e,i,o),s=a.length,l=a.path,u=a.allPath;return{length:s[n],path:l[n],allPath:u[n]}};e.findAllPath=function(t,e,n,i){var r;if(e===n)return[[e]];var a=t.edges,s=void 0===a?[]:a,l=[e],u=((r={})[e]=!0,r),c=[],h=[],d=i?(0,o.getNeighbors)(e,s,"target"):(0,o.getNeighbors)(e,s);for(c.push(d);l.length>0&&c.length>0;){var f=c[c.length-1];if(f.length){var p=f.shift();if(p&&(l.push(p),u[p]=!0,d=i?(0,o.getNeighbors)(p,s,"target"):(0,o.getNeighbors)(p,s),c.push(d.filter(function(t){return!u[t]}))),l[l.length-1]===n){var g=l.map(function(t){return t});h.push(g),v=l.pop(),u[v]=!1,c.pop()}}else{var v=l.pop();u[v]=!1,c.pop()}}return h}},ujcs:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?r-1:0,d=n?-1:1,f=t[e+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+t[e+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),o-=u}return(f?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*l-1)*Math.pow(2,r),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[n+f]=255&s,f+=p,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;t[n+f]=255&a,f+=p,a/=256,u-=8);t[n+f-p]|=128*g}},v69v:function(t,e){t.exports=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[3]*r+n[6],t[1]=n[1]*i+n[4]*r+n[7],t}},"vFc/":function(t,e,n){var i=n("TcQ7"),r=n("QRG4"),o=n("fkB2");t.exports=function(t){return function(e,n,a){var s,l=i(e),u=r(l.length),c=o(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},"vIB/":function(t,e,n){"use strict";var i=n("O4g8"),r=n("kM2E"),o=n("880/"),a=n("hJx8"),s=n("/bQp"),l=n("94VQ"),u=n("e6n0"),c=n("PzxK"),h=n("dSzd")("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,p,g,v,m){l(n,e,p);var y,b,x,w=function(t){if(!d&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},_=e+" Iterator",S="values"==g,M=!1,C=t.prototype,I=C[h]||C["@@iterator"]||g&&C[g],k=I||w(g),T=g?S?w("entries"):k:void 0,O="Array"==e&&C.entries||I;if(O&&(x=c(O.call(new t)))!==Object.prototype&&x.next&&(u(x,_,!0),i||"function"==typeof x[h]||a(x,h,f)),S&&I&&"values"!==I.name&&(M=!0,k=function(){return I.call(this)}),i&&!m||!d&&!M&&C[h]||a(C,h,k),s[e]=k,s[_]=f,g)if(y={values:S?k:w("values"),keys:v?k:w("keys"),entries:T},m)for(b in y)b in C||o(C,b,y[b]);else r(r.P+r.F*(d||M),e,y);return y}},vImi:function(t,e,n){var i=n("Y/tY");function r(t){var e=function(){for(var t={},e=Object.keys(i),n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var r=n.pop(),o=Object.keys(i[r]),a=o.length,s=0;s<a;s++){var l=o[s],u=e[l];-1===u.distance&&(u.distance=e[r].distance+1,u.parent=r,n.unshift(l))}return e}function o(t,e){return function(n){return e(t(n))}}function a(t,e){for(var n=[e[t].parent,t],r=i[e[t].parent][t],a=e[t].parent;e[a].parent;)n.unshift(e[a].parent),r=o(i[e[a].parent][a],r),a=e[a].parent;return r.conversion=n,r}t.exports=function(t){for(var e=r(t),n={},i=Object.keys(e),o=i.length,s=0;s<o;s++){var l=i[s];null!==e[l].parent&&(n[l]=a(l,e))}return n}},"vLi+":function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return d});var i,r=n("NM/j"),o=n.n(r),a=n("Z60a"),s=n.n(a),l=n("C9uT"),u=n.n(l),c=n("lVvd"),h=n("5A1W");!function(t){t[t.OUTSIDE=4294967295]="OUTSIDE",t[t.INSIDE=0]="INSIDE",t[t.INDETERMINATE=2147483647]="INDETERMINATE"}(i||(i={}));var d=function(){function t(e){if(s()(this,t),this.planes=[],e)this.planes=e;else for(var n=0;n<6;n++)this.planes.push(new h.a)}return u()(t,[{key:"extractFromVPMatrix",value:function(t){var e=o()(t,16),n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],h=e[7],d=e[8],f=e[9],p=e[10],g=e[11],v=e[12],m=e[13],y=e[14],b=e[15];c.e.set(this.planes[0].normal,a-n,h-s,g-d),this.planes[0].distance=-(b-v),c.e.set(this.planes[1].normal,a+n,h+s,g+d),this.planes[1].distance=-(b+v),c.e.set(this.planes[2].normal,a+i,h+l,g+f),this.planes[2].distance=-(b+m),c.e.set(this.planes[3].normal,a-i,h-l,g-f),this.planes[3].distance=-(b-m),c.e.set(this.planes[4].normal,a-r,h-u,g-p),this.planes[4].distance=-(b-y),c.e.set(this.planes[5].normal,a+r,h+u,g+p),this.planes[5].distance=-(b+y),this.planes.forEach(function(t){t.normalize(),t.updatePNVertexFlag()})}}]),t}()},vVQx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.LinkedListNode=void 0;var i=function(t,e){return t===e},r=function(){function t(t,e){void 0===e&&(e=null),this.value=t,this.next=e}return t.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},t}();e.LinkedListNode=r;var o=function(){function t(t){void 0===t&&(t=i),this.head=null,this.tail=null,this.compare=t}return t.prototype.prepend=function(t){var e=new r(t,this.head);return this.head=e,this.tail||(this.tail=e),this},t.prototype.append=function(t){var e=new r(t);return this.head?(this.tail.next=e,this.tail=e,this):(this.head=e,this.tail=e,this)},t.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare(this.head.value,t);)e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e},t.prototype.find=function(t){var e=t.value,n=void 0===e?void 0:e,i=t.callback,r=void 0===i?void 0:i;if(!this.head)return null;for(var o=this.head;o;){if(r&&r(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},t.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t},t.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},t.prototype.fromArray=function(t){var e=this;return t.forEach(function(t){return e.append(t)}),this},t.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},t.prototype.reverse=function(){for(var t=this.head,e=null,n=null;t;)n=t.next,t.next=e,e=t,t=n;this.tail=this.head,this.head=e},t.prototype.toString=function(t){return void 0===t&&(t=void 0),this.toArray().map(function(e){return e.toString(t)}).toString()},t}();e.default=o},vcfl:function(t,e){t.exports=function(t,e){e=e||1;var n=2*Math.random()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}},vfXu:function(t,e,n){"use strict";var i=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},r=function(t,e){return!!i(t)&&t.indexOf(e)>-1},o=function(t,e){if(!i(t))return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];e(o,r)&&n.push(o)}return n},a=function(t,e){return void 0===e&&(e=[]),o(t,function(t){return!r(e,t)})},s={}.toString,l=function(t,e){return s.call(t)==="[object "+e+"]"},u=function(t){return l(t,"Function")},c=function(t){return null===t||void 0===t},h=function(t){return Array.isArray?Array.isArray(t):l(t,"Array")},d=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var f=function(t,e){if(t)if(h(t))for(var n=0,i=t.length;n<i&&!1!==e(t[n],n);n++);else if(d(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break},p=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return f(t,function(n,i){u(t)&&"prototype"===i||e.push(i)}),e};var g=function(t,e){var n=p(e),i=n.length;if(c(t))return!i;for(var r=0;r<i;r+=1){var o=n[r];if(e[o]!==t[o]||!(o in t))return!1}return!0},v=function(t){return"object"==typeof t&&null!==t},m=function(t){if(!v(t)||!l(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var y=function(t,e){if(!h(t))return null;var n;if(u(e)&&(n=e),m(e)&&(n=function(t){return g(t,e)}),n)for(var i=0;i<t.length;i+=1)if(n(t[i]))return t[i];return null};var b=function(t,e,n){void 0===n&&(n=0);for(var i=n;i<t.length;i++)if(e(t[i],i))return i;return-1},x=function(t,e){for(var n=null,i=0;i<t.length;i++){var r=t[i][e];if(!c(r)){n=h(r)?r[0]:r;break}}return n},w=function(t){if(!h(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},_=function(t,e){if(void 0===e&&(e=[]),h(t))for(var n=0;n<t.length;n+=1)_(t[n],e);else e.push(t);return e},S=_,M=function(t){if(h(t))return t.reduce(function(t,e){return Math.max(t,e)},t[0])},C=function(t){if(h(t))return t.reduce(function(t,e){return Math.min(t,e)},t[0])},I=function(t){var e=t.filter(function(t){return!isNaN(t)});if(!e.length)return{min:0,max:0};if(h(t[0])){for(var n=[],i=0;i<t.length;i++)n=n.concat(t[i]);e=n}var r=M(e);return{min:C(e),max:r}},k=Array.prototype,T=k.splice,O=k.indexOf,E=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++)for(var r=e[i],o=-1;(o=O.call(t,r))>-1;)T.call(t,o,1);return t},A=Array.prototype.splice,N=function(t,e){if(!i(t))return[];for(var n=t?e.length:0,r=n-1;n--;){var o=void 0,a=e[n];n!==r&&a===o||(o=a,A.call(t,a,1))}return t},L=function(t,e,n){if(!h(t)&&!m(t))return t;var i=n;return f(t,function(t,n){i=e(i,t,n)}),i},D=function(t,e){var n=[];if(!i(t))return n;for(var r=-1,o=[],a=t.length;++r<a;){var s=t[r];e(s,r,t)&&(n.push(s),o.push(r))}return N(t,o),n},j=function(t){return l(t,"String")};var P=function(t,e){var n;if(u(e))n=function(t,n){return e(t)-e(n)};else{var i=[];j(e)?i.push(e):h(e)&&(i=e),n=function(t,e){for(var n=0;n<i.length;n+=1){var r=i[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0}}return t.sort(n),t};function R(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var o=t[i];e.has(o)||(n.push(o),e.set(o,!0))}return n}var z=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return R([].concat.apply([],t))},B=function(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r][e];if(!c(o)){h(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];i[s]||(n.push(s),i[s]=!0)}}}return n};function F(t){if(i(t))return t[0]}function G(t){if(i(t)){return t[t.length-1]}}var V=function(t,e){return!(!h(t)&&!j(t))&&t[0]===e};var W=function(t,e){return!(!h(t)&&!j(t))&&t[t.length-1]===e},H=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},U=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},Y=Object.prototype.hasOwnProperty;var J=function(t,e){if(!e||!h(t))return{};for(var n,i={},r=u(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=r(a),Y.call(i,n)?i[n].push(a):i[n]=[a]}return i};function Q(t,e){if(!e)return{0:t};if(!u(e)){var n=h(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",i=0,r=n.length;i<r;i++)e+=t[n[i]]&&t[n[i]].toString();return e}}return J(t,e)}var Z=function(t,e){if(!e)return[t];var n=Q(t,e),i=[];for(var r in n)i.push(n[r]);return i};var $=function(t,e){return t["_wrap_"+e]};var X=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n},K={};var q=function(t){var e=K[t];if(!e){for(var n=t.toString(16),i=n.length;i<6;i++)n="0"+n;e="#"+n,K[t]=e}return e};var tt=function(t){var e=0,n=0,i=0,r=0;return h(t)?1===t.length?e=n=i=r=t[0]:2===t.length?(e=i=t[0],n=r=t[1]):3===t.length?(e=t[0],n=r=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],r=t[3]):e=n=i=r=t,{r1:e,r2:n,r3:i,r4:r}},et=function(t,e,n){return t<e?e:t>n?n:t},nt=function(t,e){var n=e.toString(),i=n.indexOf(".");if(-1===i)return Math.round(t);var r=n.substr(i+1).length;return r>20&&(r=20),parseFloat(t.toFixed(r))},it=function(t){return l(t,"Number")},rt=function(t){return it(t)&&t%1!=0},ot=function(t){return it(t)&&t%2==0},at=Number.isInteger?Number.isInteger:function(t){return it(t)&&t%1==0},st=function(t){return it(t)&&t<0},lt=1e-5;function ut(t,e,n){return void 0===n&&(n=lt),Math.abs(t-e)<n}var ct=function(t){return it(t)&&t%2!=0},ht=function(t){return it(t)&&t>0},dt=function(t,e){if(h(t)){for(var n,i=-1/0,r=0;r<t.length;r++){var o=t[r],a=u(e)?e(o):o[e];a>i&&(n=o,i=a)}return n}},ft=function(t,e){if(h(t)){for(var n,i=1/0,r=0;r<t.length;r++){var o=t[r],a=u(e)?e(o):o[e];a<i&&(n=o,i=a)}return n}},pt=function(t,e){return(t%e+e)%e},gt=180/Math.PI,vt=function(t){return gt*t},mt=parseInt,yt=Math.PI/180,bt=function(t){return yt*t},xt=f,wt=function(t,e){return t.hasOwnProperty(e)},_t=wt,St=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return f(t,function(n,i){u(t)&&"prototype"===i||e.push(n)}),e},Mt=function(t,e){return r(St(t),e)},Ct=function(t){return c(t)?"":t.toString()},It=function(t){return Ct(t).toLowerCase()},kt=function(t){var e=Ct(t);return e.charAt(0).toLowerCase()+e.substring(1)};var Tt=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]}):t},Ot=function(t){return Ct(t).toUpperCase()},Et=function(t){var e=Ct(t);return e.charAt(0).toUpperCase()+e.substring(1)},At={}.toString,Nt=function(t){return At.call(t).replace(/^\[object /,"").replace(/]$/,"")},Lt=function(t){return l(t,"Arguments")},Dt=function(t){return l(t,"Boolean")},jt=function(t){return l(t,"Date")},Pt=function(t){return l(t,"Error")},Rt=function(t){return it(t)&&isFinite(t)},zt=function(t){return null===t},Bt=Object.prototype,Ft=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Bt)},Gt=function(t){return l(t,"RegExp")},Vt=function(t){return void 0===t},Wt=function(t){return t instanceof Element||t instanceof HTMLDocument};function Ht(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Ut(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Yt(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Jt(t,e,n,i){return e&&Yt(t,e),n&&Yt(t,n),i&&Yt(t,i),t}var Qt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],i=1;i<t.length;i++){var r=t[i];u(r)&&(r=r.prototype),Jt(n.prototype,r)}},Zt=function(t){if("object"!=typeof t||null===t)return t;var e;if(h(t)){e=[];for(var n=0,i=t.length;n<i;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=Zt(t[n]):e[n]=t[n]}else for(var r in e={},t)"object"==typeof t[r]&&null!=t[r]?e[r]=Zt(t[r]):e[r]=t[r];return e},$t=Zt;var Xt=function(t,e,n){var i;return function(){var r=this,o=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(r,o)},e),a&&t.apply(r,o)}},Kt=function(t,e){if(!u(t))throw new TypeError("Expected a function");var n=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,i);return a.set(o,s),s};return n.cache=new Map,n},qt=5;function te(t,e,n,i){for(var r in n=n||0,i=i||qt,e)if(e.hasOwnProperty(r)){var o=e[r];null!==o&&m(o)?(m(t[r])||(t[r]={}),n<i?te(t[r],o,n+1,i):t[r]=e[r]):h(o)?(t[r]=[],t[r]=t[r].concat(o)):void 0!==o&&(t[r]=o)}}var ee=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)te(t,e[i]);return t},ne=function(t,e,n,i){u(e)||(n=e,e=t,t=function(){});var r=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var i=new n;return i.constructor=e,i},o=r(e.prototype,t);return t.prototype=Jt(o,t.prototype),t.superclass=r(e.prototype,e),Jt(o,n),Jt(t,i),t},ie=function(t,e){if(!i(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,o=0;o<t.length;o++)if(t[o]===e){r=o;break}return r},re=Object.prototype.hasOwnProperty;var oe=function(t){if(c(t))return!0;if(i(t))return!t.length;var e=Nt(t);if("Map"===e||"Set"===e)return!t.size;if(Ft(t))return!Object.keys(t).length;for(var n in t)if(re.call(t,n))return!1;return!0},ae=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(j(t)||j(e))return!1;if(i(t)||i(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length&&(n=ae(t[r],e[r]));r++);return n}if(v(t)||v(e)){var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(n=!0,r=0;r<o.length&&(n=ae(t[o[r]],e[o[r]]));r++);return n}return!1},se=ae,le=function(t,e,n){return u(n)?!!n(t,e):se(t,e)},ue=function(t,e){if(!i(t))return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(e(o,r))}return n},ce=function(t){return t},he=function(t,e){void 0===e&&(e=ce);var n={};return d(t)&&!c(t)&&Object.keys(t).forEach(function(i){n[i]=e(t[i],i)}),n},de=function(t,e,n){for(var i=0,r=j(e)?e.split("."):e;t&&i<r.length;)t=t[r[i++]];return void 0===t||i<r.length?n:t},fe=function(t,e,n){var i=t,r=j(e)?e.split("."):e;return r.forEach(function(t,e){e<r.length-1?(d(i[t])||(i[t]=it(r[e+1])?[]:{}),i=i[t]):i[t]=n}),t},pe=Object.prototype.hasOwnProperty,ge=function(t,e){if(null===t||!m(t))return{};var n={};return f(e,function(e){pe.call(t,e)&&(n[e]=t[e])}),n},ve=function(t,e){return L(t,function(t,n,i){return e.includes(i)||(t[i]=n),t},{})},me=function(t,e,n){var i,r,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),i=null,a=t.apply(r,o),i||(r=o=null)},u=function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return r=this,o=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),s=u,a=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(i),s=0,i=r=o=null},u},ye=function(t){return i(t)?Array.prototype.slice.call(t):[]},be={},xe=function(t){return be[t=t||"g"]?be[t]+=1:be[t]=1,t+be[t]},we=function(){},_e=function(t){return t};function Se(t){return c(t)?0:i(t)?t.length:Object.keys(t).length}var Me,Ce=n("TToO"),Ie=Kt(function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,r=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return Me||(Me=document.createElement("canvas").getContext("2d")),Me.font=[o,a,r,n+"px",i].join(" "),Me.measureText(j(t)?t:"").width},function(t,e){return void 0===e&&(e={}),Object(Ce.__spreadArrays)([t],St(e)).join("")}),ke=function(t,e,n,i){void 0===i&&(i="...");var r,o,a=Ie(i,n),s=j(t)?t:Ct(t),l=e,u=[];if(Ie(t,n)<=e)return t;for(;r=s.substr(0,16),!((o=Ie(r,n))+a>l&&o>l);)if(u.push(r),l-=o,!(s=s.substr(16)))return u.join("");for(;r=s.substr(0,1),!((o=Ie(r,n))+a>l);)if(u.push(r),l-=o,!(s=s.substr(1)))return u.join("");return""+u.join("")+i},Te=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}();n.d(e,!1,function(){return r}),n.d(e,!1,function(){return r}),n.d(e,!1,function(){return a}),n.d(e,!1,function(){return y}),n.d(e,!1,function(){return b}),n.d(e,!1,function(){return x}),n.d(e,!1,function(){return w}),n.d(e,!1,function(){return S}),n.d(e,!1,function(){return I}),n.d(e,!1,function(){return E}),n.d(e,!1,function(){return N}),n.d(e,!1,function(){return L}),n.d(e,!1,function(){return D}),n.d(e,!1,function(){return P}),n.d(e,!1,function(){return z}),n.d(e,!1,function(){return R}),n.d(e,!1,function(){return B}),n.d(e,!1,function(){return F}),n.d(e,!1,function(){return G}),n.d(e,!1,function(){return V}),n.d(e,!1,function(){return W}),n.d(e,!1,function(){return o}),n.d(e,!1,function(){return H}),n.d(e,!1,function(){return U}),n.d(e,!1,function(){return Z}),n.d(e,!1,function(){return J}),n.d(e,!1,function(){return Q}),n.d(e,!1,function(){return $}),n.d(e,!1,function(){return X}),n.d(e,!1,function(){return q}),n.d(e,!1,function(){return tt}),n.d(e,!1,function(){return et}),n.d(e,!1,function(){return nt}),n.d(e,!1,function(){return rt}),n.d(e,!1,function(){return ot}),n.d(e,!1,function(){return at}),n.d(e,!1,function(){return st}),n.d(e,"g",function(){return ut}),n.d(e,!1,function(){return ct}),n.d(e,!1,function(){return ht}),n.d(e,"j",function(){return M}),n.d(e,!1,function(){return dt}),n.d(e,"k",function(){return C}),n.d(e,!1,function(){return ft}),n.d(e,!1,function(){return pt}),n.d(e,!1,function(){return vt}),n.d(e,!1,function(){return mt}),n.d(e,!1,function(){return bt}),n.d(e,!1,function(){return xt}),n.d(e,!1,function(){return wt}),n.d(e,!1,function(){return _t}),n.d(e,!1,function(){return Mt}),n.d(e,!1,function(){return p}),n.d(e,!1,function(){return g}),n.d(e,!1,function(){return St}),n.d(e,!1,function(){return It}),n.d(e,!1,function(){return kt}),n.d(e,!1,function(){return Tt}),n.d(e,!1,function(){return Ot}),n.d(e,"o",function(){return Et}),n.d(e,!1,function(){return Nt}),n.d(e,!1,function(){return Lt}),n.d(e,"b",function(){return h}),n.d(e,!1,function(){return i}),n.d(e,!1,function(){return Dt}),n.d(e,!1,function(){return jt}),n.d(e,!1,function(){return Pt}),n.d(e,"d",function(){return u}),n.d(e,!1,function(){return Rt}),n.d(e,"e",function(){return c}),n.d(e,!1,function(){return zt}),n.d(e,"f",function(){return it}),n.d(e,"h",function(){return d}),n.d(e,!1,function(){return v}),n.d(e,!1,function(){return m}),n.d(e,!1,function(){return Ft}),n.d(e,!1,function(){return Gt}),n.d(e,"i",function(){return j}),n.d(e,!1,function(){return l}),n.d(e,!1,function(){return Vt}),n.d(e,!1,function(){return Wt}),n.d(e,!1,function(){return Ht}),n.d(e,!1,function(){return Ut}),n.d(e,!1,function(){return Qt}),n.d(e,!1,function(){return $t}),n.d(e,!1,function(){return Xt}),n.d(e,!1,function(){return Kt}),n.d(e,!1,function(){return ee}),n.d(e,"a",function(){return f}),n.d(e,!1,function(){return ne}),n.d(e,!1,function(){return ie}),n.d(e,!1,function(){return oe}),n.d(e,"c",function(){return se}),n.d(e,!1,function(){return le}),n.d(e,!1,function(){return ue}),n.d(e,!1,function(){return he}),n.d(e,"l",function(){return Jt}),n.d(e,!1,function(){return Jt}),n.d(e,!1,function(){return de}),n.d(e,!1,function(){return fe}),n.d(e,!1,function(){return ge}),n.d(e,!1,function(){return ve}),n.d(e,!1,function(){return me}),n.d(e,!1,function(){return ye}),n.d(e,!1,function(){return Ct}),n.d(e,"n",function(){return xe}),n.d(e,"m",function(){return we}),n.d(e,!1,function(){return _e}),n.d(e,!1,function(){return Se}),n.d(e,!1,function(){return Ie}),n.d(e,!1,function(){return ke}),n.d(e,!1,function(){return Te})},vrXp:function(t,e,n){"use strict";var i=n("TToO"),r=n("i6H2");function o(t,e,n){var i=t.getTotalMatrix();if(i){var o=function(t,e){if(e){var n=Object(r.invert)(e);return Object(r.multiplyVec2)(n,t)}return t}([e,n,1],i);return[o[0],o[1]]}return[e,n]}function a(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!Object(r.isAllowCapture)(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var i=o(t,e,n),a=i[0],s=i[1];if(t.isClipped(a,s))return!1}var l=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=l.minX&&e<=l.maxX&&n>=l.minY&&n<=l.maxY}var s=n("3BVV"),l=n("SodV"),u=n("PDVq"),c=n("gosJ"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return s},e.prototype.getGroupBase=function(){return l.a},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Object(u.d)();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var i=this.get("context"),r=this.get("el"),o=this.getPixelRatio();r.width=o*e,r.height=o*n,o>1&&i.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(e,n){return this.get("quickHit")?function t(e,n,i){if(!a(e,n,i))return null;for(var r=null,s=e.getChildren(),l=s.length-1;l>=0;l--){var u=s[l];if(u.isGroup())r=t(u,n,i);else if(a(u,n,i)){var c=u,h=o(u,n,i),d=h[0],f=h[1];c.isInShape(d,f)&&(r=u)}if(r)break}return r}(this,e,n):t.prototype.getShape.call(this,e,n,null)},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();e.length&&e[0]===this?t=n:(t=Object(c.f)(e))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get("clipView")&&(t=Object(c.g)(t,n)));return t},e.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(Object(u.a)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Object(c.a)(t,this),Object(c.d)(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),i=this._getRefreshRegion();i?(t.clearRect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.save(),t.beginPath(),t.rect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.clip(),Object(c.a)(t,this),Object(c.b)(this,n,i),Object(c.d)(t,n,i),t.restore()):e.length&&Object(c.c)(e),Object(u.c)(e,function(t){t.get("hasChanged")&&t.set("hasChanged",!1)}),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=Object(u.n)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(r.AbstractCanvas);e.a=h},wHEO:function(t,e,n){"use strict";var i=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},r={}.toString,o=function(t,e){return r.call(t)==="[object "+e+"]"},a=function(t){return o(t,"Function")},s=function(t){return Array.isArray?Array.isArray(t):o(t,"Array")},l=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var u=function(t,e){if(t)if(s(t))for(var n=0,i=t.length;n<i&&!1!==e(t[n],n);n++);else if(l(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break};Object.keys;var c=function(t){return"object"==typeof t&&null!==t};var h=Array.prototype,d=(h.splice,h.indexOf,Array.prototype.splice,function(t){return o(t,"String")});Object.prototype.hasOwnProperty;var f=function(t){return o(t,"Number")};Number.isInteger&&Number.isInteger;var p=function(t,e){return(t%e+e)%e},g=(Math.PI,parseInt,Math.PI/180),v=function(t){return g*t},m=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return u(t,function(n,i){a(t)&&"prototype"===i||e.push(n)}),e};Object.prototype;Object.prototype.hasOwnProperty;var y=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(d(t)||d(e))return!1;if(i(t)||i(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length&&(n=y(t[r],e[r]));r++);return n}if(c(t)||c(e)){var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(n=!0,r=0;r<o.length&&(n=y(t[o[r]],e[o[r]]));r++);return n}return!1},b=y;Object.prototype.hasOwnProperty;var x,w=n("TToO"),_=(function(t,e){if(!a(t))throw new TypeError("Expected a function");var n=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,i);return a.set(o,s),s};n.cache=new Map}(function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,r=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return x||(x=document.createElement("canvas").getContext("2d")),x.font=[o,a,r,n+"px",i].join(" "),x.measureText(d(t)?t:"").width},function(t,e){return void 0===e&&(e={}),Object(w.__spreadArrays)([t],m(e)).join("")}),function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}(),/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi),S=/[^\s\,]+/gi;var M=function(t){var e=t||[];return s(e)?e:d(e)?(e=e.match(_),u(e,function(t,n){if((t=t.match(S))[0].length>1){var i=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=i}u(t,function(e,n){isNaN(e)||(t[n]=+e)}),e[n]=t}),e):void 0},C=n("lVvd");var I=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var i=!!e,r=[],o=0,a=t.length;o<a;o+=2)r.push([t[o],t[o+1]]);var s,l,u,c=function(t,e,n,i){var r,o,a,s,l,u,c,h=[],d=!!i;if(d){a=i[0],s=i[1];for(var f=0,p=t.length;f<p;f+=1){var g=t[f];a=C.d.min([0,0],a,g),s=C.d.max([0,0],s,g)}}f=0;for(var v=t.length;f<v;f+=1)if(g=t[f],0!==f||n)if(f!==v-1||n){r=t[[f?f-1:v-1,f-1][n?0:1]],o=t[n?(f+1)%v:f+1];var m=[0,0];m=C.d.sub(m,o,r),m=C.d.scale(m,m,e);var y=C.d.distance(g,r),b=C.d.distance(g,o),x=y+b;0!==x&&(y/=x,b/=x);var w=C.d.scale([0,0],m,-y),_=C.d.scale([0,0],m,b);u=C.d.add([0,0],g,w),l=C.d.add([0,0],g,_),l=C.d.min([0,0],l,C.d.max([0,0],o,g)),l=C.d.max([0,0],l,C.d.min([0,0],o,g)),w=C.d.sub([0,0],l,g),w=C.d.scale([0,0],w,-y/b),u=C.d.add([0,0],g,w),u=C.d.min([0,0],u,C.d.max([0,0],r,g)),u=C.d.max([0,0],u,C.d.min([0,0],r,g)),_=C.d.sub([0,0],g,u),_=C.d.scale([0,0],_,b/y),l=C.d.add([0,0],g,_),d&&(u=C.d.max([0,0],u,a),u=C.d.min([0,0],u,s),l=C.d.max([0,0],l,a),l=C.d.min([0,0],l,s)),h.push(c),h.push(u),c=l}else u=g,h.push(c),h.push(u);else c=g;return n&&h.push(h.shift()),h}(r,.4,i,n),h=r.length,d=[];for(o=0;o<h-1;o+=1)s=c[2*o],l=c[2*o+1],u=r[o+1],d.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]]);return i&&(s=c[h],l=c[h+1],u=r[0],d.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]])),d};function k(t,e){var n=[],i=[];return t.length&&function t(e,r){if(1===e.length)n.push(e[0]),i.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&i.push(e[a+1]),o[a]=[(1-r)*e[a][0]+r*e[a+1][0],(1-r)*e[a][1]+r*e[a+1][1]];t(o,r)}}(t,e),{left:n,right:i.reverse()}}function T(t,e,n){if(1===n)return[[].concat(t)];var i=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])i=i.concat(function(t,e,n){var i=[[t[1],t[2]]];n=n||2;var r=[];"A"===e[0]?(i.push(e[6]),i.push(e[7])):"C"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]]),i.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]])):i.push([e[1],e[2]]);for(var o=i,a=1/n,s=0;s<n-1;s++){var l=k(o,a/(1-a*s));r.push(l.left),o=l.right}return r.push(o),r.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])})}(t,e,n));else{var r=[].concat(t);"M"===r[0]&&(r[0]="L");for(var o=0;o<=n-1;o++)i.push(r)}return i}function O(t,e){if(1===t.length)return t;var n=t.length-1,i=e.length-1,r=n/i,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<i-n;a++)t.push(t[0]);return t}for(a=0;a<i;a++){var s=Math.floor(r*a);o[s]=(o[s]||0)+1}var l=o.reduce(function(e,i,r){return r===n?e.concat(t[n]):e.concat(T(t[r],t[r+1],i))},[]);return l.unshift(t[0]),"Z"!==e[i]&&"z"!==e[i]||l.push("Z"),l}function E(t,e,n){var i=null,r=n;return e<r&&(r=e,i="add"),t<r&&(r=t,i="del"),{type:i,min:r}}var A=function(t,e){var n,i,r=t.length,o=e.length,a=0;if(0===r||0===o)return null;for(var s=[],l=0;l<=r;l++)s[l]=[],s[l][0]={min:l};for(var u=0;u<=o;u++)s[0][u]={min:u};for(l=1;l<=r;l++){n=t[l-1];for(u=1;u<=o;u++){i=e[u-1],a=b(n,i)?0:1;var c=s[l-1][u].min+1,h=s[l][u-1].min+1,d=s[l-1][u-1].min+a;s[l][u]=E(c,h,d)}}return s};function N(t,e){var n=A(t,e),i=t.length,r=e.length,o=[],a=1,s=1;if(n[i][r]!==i){for(var l=1;l<=i;l++){var u=n[l][l].min;s=l;for(var c=a;c<=r;c++)n[l][c].min<u&&(u=n[l][c].min,s=c);a=s,n[l][a].type&&o.push({index:l-1,type:n[l][a].type})}for(l=o.length-1;l>=0;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}if((i=t.length)<r)for(l=0;l<r-i;l++)"z"===t[i-1][0]||"Z"===t[i-1][0]?t.splice(i-2,0,t[i-2]):t.push(t[i-1]);return t}function L(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}function D(t,e,n){for(var i,r=[].concat(t),o=1/(n+1),a=L(e)[0],s=1;s<=n;s++)o*=s,0===(i=Math.floor(t.length*o))?r.unshift([a[0]*o+t[i][0]*(1-o),a[1]*o+t[i][1]*(1-o)]):r.splice(i,0,[a[0]*o+t[i][0]*(1-o),a[1]*o+t[i][1]*(1-o)]);return r}function j(t,e){if(t.length<=1)return t;for(var n,i=0;i<e.length;i++)if(t[i][0]!==e[i][0])switch(n=L(t[i]),e[i][0]){case"M":t[i]=["M"].concat(n[0]);break;case"L":t[i]=["L"].concat(n[0]);break;case"A":t[i]=[].concat(e[i]),t[i][6]=n[0][0],t[i][7]=n[0][1];break;case"Q":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=D(n,t[i-1],1)}t[i]=["Q"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[i]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(i>0)){t[i]=e[i];break}n=D(n,t[i-1],2)}t[i]=["C"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=D(n,t[i-1],1)}t[i]=["S"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;default:t[i]=e[i]}return t}function P(t,e,n,i,r){return r?[["M",+t+ +r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]]}var R="\t\n\v\f\r   ᠎             　\u2028\u2029",z=new RegExp("([a-z])["+R+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+R+"]*,?["+R+"]*)+)","ig"),B=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+R+"]*,?["+R+"]*","ig");function F(t){if(!t)return null;if(s(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(z,function(t,i,r){var o=[],a=i.toLowerCase();if(r.replace(B,function(t,e){e&&o.push(+e)}),"m"===a&&o.length>2&&(n.push([i].concat(o.splice(0,2))),a="l",i="m"===i?"l":"L"),"o"===a&&1===o.length&&n.push([i,o[0]]),"r"===a)n.push([i].concat(o));else for(;o.length>=e[a]&&(n.push([i].concat(o.splice(0,e[a]))),e[a]););return""}),n}var G=/[a-z]/;function V(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function W(t){var e=F(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,i=0;i<e.length;i++){var r=e[i][0];if(G.test(r)||["V","H","T","S"].indexOf(r)>=0){n=!0;break}}if(!n)return e;var o=[],a=0,s=0,l=0,u=0,c=0,h=e[0];"M"!==h[0]&&"m"!==h[0]||(l=a=+h[1],u=s=+h[2],c++,o[0]=["M",a,s]);i=c;for(var d=e.length;i<d;i++){var f=e[i],p=o[i-1],g=[],v=(r=f[0]).toUpperCase();if(r!==v)switch(g[0]=v,v){case"A":g[1]=f[1],g[2]=f[2],g[3]=f[3],g[4]=f[4],g[5]=f[5],g[6]=+f[6]+a,g[7]=+f[7]+s;break;case"V":g[1]=+f[1]+s;break;case"H":g[1]=+f[1]+a;break;case"M":l=+f[1]+a,u=+f[2]+s,g[1]=l,g[2]=u;break;default:for(var m=1,y=f.length;m<y;m++)g[m]=+f[m]+(m%2?a:s)}else g=e[i];switch(v){case"Z":a=+l,s=+u;break;case"H":g=["L",a=g[1],s];break;case"V":g=["L",a,s=g[1]];break;case"T":a=g[1],s=g[2];var b=V([p[1],p[2]],[p[3],p[4]]);g=["Q",b[0],b[1],a,s];break;case"S":a=g[g.length-2],s=g[g.length-1];var x=p.length,w=V([p[x-4],p[x-3]],[p[x-2],p[x-1]]);g=["C",w[0],w[1],g[1],g[2],a,s];break;case"M":l=g[g.length-2],u=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}o.push(g)}return o}var H=2*Math.PI,U=function(t,e,n,i,r,o,a){var s=t.x,l=t.y;return{x:i*(s*=e)-r*(l*=n)+o,y:r*s+i*l+a}},Y=function(t,e){var n=1.5707963267948966===e?.551915024494:-1.5707963267948966===e?-.551915024494:4/3*Math.tan(e/4),i=Math.cos(t),r=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:i-r*n,y:r+i*n},{x:o+a*n,y:a-o*n},{x:o,y:a}]},J=function(t,e,n,i){var r=t*n+e*i;return r>1&&(r=1),r<-1&&(r=-1),(t*i-e*n<0?-1:1)*Math.acos(r)},Q=function(t){var e=t.px,n=t.py,i=t.cx,r=t.cy,o=t.rx,a=t.ry,s=t.xAxisRotation,l=void 0===s?0:s,u=t.largeArcFlag,c=void 0===u?0:u,h=t.sweepFlag,d=void 0===h?0:h,f=[];if(0===o||0===a)return[{x1:0,y1:0,x2:0,y2:0,x:i,y:r}];var p=Math.sin(l*H/360),g=Math.cos(l*H/360),v=g*(e-i)/2+p*(n-r)/2,m=-p*(e-i)/2+g*(n-r)/2;if(0===v&&0===m)return[{x1:0,y1:0,x2:0,y2:0,x:i,y:r}];o=Math.abs(o),a=Math.abs(a);var y=Math.pow(v,2)/Math.pow(o,2)+Math.pow(m,2)/Math.pow(a,2);y>1&&(o*=Math.sqrt(y),a*=Math.sqrt(y));var b=function(t,e,n,i,r,o,a,s,l,u,c,h){var d=Math.pow(r,2),f=Math.pow(o,2),p=Math.pow(c,2),g=Math.pow(h,2),v=d*f-d*g-f*p;v<0&&(v=0),v/=d*g+f*p;var m=(v=Math.sqrt(v)*(a===s?-1:1))*r/o*h,y=v*-o/r*c,b=u*m-l*y+(t+n)/2,x=l*m+u*y+(e+i)/2,w=(c-m)/r,_=(h-y)/o,S=(-c-m)/r,M=(-h-y)/o,C=J(1,0,w,_),I=J(w,_,S,M);return 0===s&&I>0&&(I-=H),1===s&&I<0&&(I+=H),[b,x,C,I]}(e,n,i,r,o,a,c,d,p,g,v,m),x=b[0],w=b[1],_=b[2],S=b[3],M=Math.abs(S)/(H/4);Math.abs(1-M)<1e-7&&(M=1);var C=Math.max(Math.ceil(M),1);S/=C;for(var I=0;I<C;I++)f.push(Y(_,S)),_+=S;return f.map(function(t){var e=U(t[0],o,a,g,p,x,w),n=e.x,i=e.y,r=U(t[1],o,a,g,p,x,w),s=r.x,l=r.y,u=U(t[2],o,a,g,p,x,w);return{x1:n,y1:i,x2:s,y2:l,x:u.x,y:u.y}})};function Z(t,e,n,i){return[t,e,n,i,n,i]}function $(t,e){"TQ".indexOf(t[0])<0&&(e.qx=null,e.qy=null);var n=t.slice(1),i=n[0],r=n[1];switch(t[0]){case"M":return e.x=i,e.y=r,t;case"A":return["C"].concat(function(t,e,n,i,r,o,a,s,l){return Q({px:t,py:e,cx:s,cy:l,rx:n,ry:i,xAxisRotation:r,largeArcFlag:o,sweepFlag:a}).reduce(function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,a=e.x,s=e.y;return t.push(n,i,r,o,a,s),t},[])}.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"Q":return e.qx=i,e.qy=r,["C"].concat(function(t,e,n,i,r,o){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]}.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"L":return["C"].concat(Z(e.x1,e.y1,t[1],t[2]));case"H":return["C"].concat(Z(e.x1,e.y1,t[1],e.y1));case"V":return["C"].concat(Z(e.x1,e.y1,e.x1,t[1]));case"Z":return["C"].concat(Z(e.x1,e.y1,e.x,e.y))}return t}function X(t,e){void 0===e&&(e=!1);for(var n,i,r=W(t),o={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},a=[],s="",l=r.length,u=[],c=0;c<l;c+=1)r[c]&&(s=r[c][0]),a[c]=s,r[c]=$(r[c],o),K(r,a,c),l=r.length,"Z"===s&&u.push(c),i=(n=r[c]).length,o.x1=+n[i-2],o.y1=+n[i-1],o.x2=+n[i-4]||o.x1,o.y2=+n[i-3]||o.y1;return e?[r,u]:r}function K(t,e,n){if(t[n].length>7){t[n].shift();for(var i=t[n],r=n;i.length;)e[n]="A",t.splice(r+=1,0,["C"].concat(i.splice(0,6)));t.splice(n,1)}}var q=function(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n},tt=function(t,e,n,i,r,o,a,s,l){null===l&&(l=1);for(var u=(l=l>1?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,f=0;f<12;f++){var p=u*c[f]+u,g=q(p,t,n,r,a),v=q(p,e,i,o,s),m=g*g+v*v;d+=h[f]*Math.sqrt(m)}return u*d},et=function(t,e,n,i,r,o,a,s){if(!(Math.max(t,n)<Math.min(r,a)||Math.min(t,n)>Math.max(r,a)||Math.max(e,i)<Math.min(o,s)||Math.min(e,i)>Math.max(o,s))){var l=(t-n)*(o-s)-(e-i)*(r-a);if(l){var u=((t*i-e*n)*(r-a)-(t-n)*(r*s-o*a))/l,c=((t*i-e*n)*(o-s)-(e-i)*(r*s-o*a))/l,h=+u.toFixed(2),d=+c.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(r,a).toFixed(2)||h>+Math.max(r,a).toFixed(2)||d<+Math.min(e,i).toFixed(2)||d>+Math.max(e,i).toFixed(2)||d<+Math.min(o,s).toFixed(2)||d>+Math.max(o,s).toFixed(2)))return{x:u,y:c}}}},nt=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},it=function(t,e,n,i){return null===t&&(t=e=n=i=0),null===e&&(e=t.y,n=t.width,i=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:i,h:i,x2:t+n,y2:e+i,cx:t+n/2,cy:e+i/2,r1:Math.min(n,i)/2,r2:Math.max(n,i)/2,r0:Math.sqrt(n*n+i*i)/2,path:P(t,e,n,i),vb:[t,e,n,i].join(" ")}},rt=function(t,e,n,i,r,o,a,l){s(t)||(t=[t,e,n,i,r,o,a,l]);var u=function(t,e,n,i,r,o,a,s){for(var l,u,c,h,d=[],f=[[],[]],p=0;p<2;++p)if(0===p?(u=6*t-12*n+6*r,l=-3*t+9*n-9*r+3*a,c=3*n-3*t):(u=6*e-12*i+6*o,l=-3*e+9*i-9*o+3*s,c=3*i-3*e),Math.abs(l)<1e-12){if(Math.abs(u)<1e-12)continue;(h=-c/u)>0&&h<1&&d.push(h)}else{var g=u*u-4*c*l,v=Math.sqrt(g);if(!(g<0)){var m=(-u+v)/(2*l);m>0&&m<1&&d.push(m);var y=(-u-v)/(2*l);y>0&&y<1&&d.push(y)}}for(var b,x=d.length,w=x;x--;)b=1-(h=d[x]),f[0][x]=b*b*b*t+3*b*b*h*n+3*b*h*h*r+h*h*h*a,f[1][x]=b*b*b*e+3*b*b*h*i+3*b*h*h*o+h*h*h*s;return f[0][w]=t,f[1][w]=e,f[0][w+1]=a,f[1][w+1]=s,f[0].length=f[1].length=w+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}}.apply(null,t);return it(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},ot=function(t,e,n,i,r,o,a,s,l){var u=1-l,c=Math.pow(u,3),h=Math.pow(u,2),d=l*l,f=d*l,p=t+2*l*(n-t)+d*(r-2*n+t),g=e+2*l*(i-e)+d*(o-2*i+e),v=n+2*l*(r-n)+d*(a-2*r+n),m=i+2*l*(o-i)+d*(s-2*o+i);return{x:c*t+3*h*l*n+3*u*l*l*r+f*a,y:c*e+3*h*l*i+3*u*l*l*o+f*s,m:{x:p,y:g},n:{x:v,y:m},start:{x:u*t+l*n,y:u*e+l*i},end:{x:u*r+l*a,y:u*o+l*s},alpha:90-180*Math.atan2(p-v,g-m)/Math.PI}},at=function(t,e,n){if(!function(t,e){return t=it(t),e=it(e),nt(e,t.x,t.y)||nt(e,t.x2,t.y)||nt(e,t.x,t.y2)||nt(e,t.x2,t.y2)||nt(t,e.x,e.y)||nt(t,e.x2,e.y)||nt(t,e.x,e.y2)||nt(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(rt(t),rt(e)))return n?0:[];for(var i=~~(tt.apply(0,t)/8),r=~~(tt.apply(0,e)/8),o=[],a=[],s={},l=n?0:[],u=0;u<i+1;u++){var c=ot.apply(0,t.concat(u/i));o.push({x:c.x,y:c.y,t:u/i})}for(u=0;u<r+1;u++){c=ot.apply(0,e.concat(u/r));a.push({x:c.x,y:c.y,t:u/r})}for(u=0;u<i;u++)for(var h=0;h<r;h++){var d=o[u],f=o[u+1],p=a[h],g=a[h+1],v=Math.abs(f.x-d.x)<.001?"y":"x",m=Math.abs(g.x-p.x)<.001?"y":"x",y=et(d.x,d.y,f.x,f.y,p.x,p.y,g.x,g.y);if(y){if(s[y.x.toFixed(4)]===y.y.toFixed(4))continue;s[y.x.toFixed(4)]=y.y.toFixed(4);var b=d.t+Math.abs((y[v]-d[v])/(f[v]-d[v]))*(f.t-d.t),x=p.t+Math.abs((y[m]-p[m])/(g[m]-p[m]))*(g.t-p.t);b>=0&&b<=1&&x>=0&&x<=1&&(n?l++:l.push({x:y.x,y:y.y,t1:b,t2:x}))}}return l},st=function(t,e,n){var i,r,o,a,s,l,u,c,h,d;t=X(t),e=X(e);for(var f=n?0:[],p=0,g=t.length;p<g;p++){var v=t[p];if("M"===v[0])i=s=v[1],r=l=v[2];else{"C"===v[0]?(i=(h=[i,r].concat(v.slice(1)))[6],r=h[7]):(h=[i,r,i,r,s,l,s,l],i=s,r=l);for(var m=0,y=e.length;m<y;m++){var b=e[m];if("M"===b[0])o=u=b[1],a=c=b[2];else{"C"===b[0]?(o=(d=[o,a].concat(b.slice(1)))[6],a=d[7]):(d=[o,a,o,a,u,c,u,c],o=u,a=c);var x=at(h,d,n);if(n)f+=x;else{for(var w=0,_=x.length;w<_;w++)x[w].segment1=p,x[w].segment2=m,x[w].bez1=h,x[w].bez2=d;f=f.concat(x)}}}}}return f};function lt(t,e){return st(t,e)}var ut=/,?([a-z]),?/gi;function ct(t){return t.join(",").replace(ut,"$1")}function ht(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function dt(t,e){return ht(t)*ht(e)?(t[0]*e[0]+t[1]*e[1])/(ht(t)*ht(e)):1}function ft(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(dt(t,e))}function pt(t,e){return t[0]===e[0]&&t[1]===e[1]}function gt(t,e){var n=e[1],i=e[2],r=p(v(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],u=e[6],c=e[7],h=Math.cos(r)*(s-u)/2+Math.sin(r)*(l-c)/2,d=-1*Math.sin(r)*(s-u)/2+Math.cos(r)*(l-c)/2,f=h*h/(n*n)+d*d/(i*i);f>1&&(n*=Math.sqrt(f),i*=Math.sqrt(f));var g=n*n*(d*d)+i*i*(h*h),m=g?Math.sqrt((n*n*(i*i)-g)/g):1;o===a&&(m*=-1),isNaN(m)&&(m=0);var y=i?m*n*d/i:0,b=n?m*-i*h/n:0,x=(s+u)/2+Math.cos(r)*y-Math.sin(r)*b,w=(l+c)/2+Math.sin(r)*y+Math.cos(r)*b,_=[(h-y)/n,(d-b)/i],S=[(-1*h-y)/n,(-1*d-b)/i],M=ft([1,0],_),C=ft(_,S);return dt(_,S)<=-1&&(C=Math.PI),dt(_,S)>=1&&(C=0),0===a&&C>0&&(C-=2*Math.PI),1===a&&C<0&&(C+=2*Math.PI),{cx:x,cy:w,rx:pt(t,[u,c])?0:n,ry:pt(t,[u,c])?0:i,startAngle:M,endAngle:M+C,xRotation:r,arcFlag:o,sweepFlag:a}}function vt(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function mt(t){for(var e=[],n=null,i=null,r=null,o=0,a=(t=M(t)).length,s=0;s<a;s++){var l=t[s];i=t[s+1];var u=l[0],c={command:u,prePoint:n,params:l,startTangent:null,endTangent:null};switch(u){case"M":r=[l[1],l[2]],o=s;break;case"A":var h=gt(n,l);c.arcParams=h}if("Z"===u)n=r,i=t[o+1];else{var d=l.length;n=[l[d-2],l[d-1]]}i&&"Z"===i[0]&&(i=t[o],e[o]&&(e[o].prePoint=n)),c.currentPoint=n,e[o]&&pt(n,e[o].currentPoint)&&(e[o].prePoint=c.prePoint);var f=i?[i[i.length-2],i[i.length-1]]:null;c.nextPoint=f;var p=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===u){var g=[l[1],l[2]];c.startTangent=[p[0]-g[0],p[1]-g[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===u){g=vt((y=e[s-1]).currentPoint,p);"Q"===y.command?(c.command="Q",c.startTangent=[p[0]-g[0],p[1]-g[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]]):(c.command="TL",c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===u){var v=[l[1],l[2]],m=[l[3],l[4]];c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]],0===c.startTangent[0]&&0===c.startTangent[1]&&(c.startTangent=[v[0]-m[0],v[1]-m[1]]),0===c.endTangent[0]&&0===c.endTangent[1]&&(c.endTangent=[m[0]-v[0],m[1]-v[1]])}else if("S"===u){var y;v=vt((y=e[s-1]).currentPoint,p),m=[l[1],l[2]];"C"===y.command?(c.command="C",c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]]):(c.command="SQ",c.startTangent=[p[0]-m[0],p[1]-m[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("A"===u){var b=.001,x=c.arcParams||{},w=x.cx,_=void 0===w?0:w,S=x.cy,C=void 0===S?0:S,I=x.rx,k=void 0===I?0:I,T=x.ry,O=void 0===T?0:T,E=x.sweepFlag,A=void 0===E?0:E,N=x.startAngle,L=void 0===N?0:N,D=x.endAngle,j=void 0===D?0:D;0===A&&(b*=-1);var P=k*Math.cos(L-b)+_,R=O*Math.sin(L-b)+C;c.startTangent=[P-r[0],R-r[1]];var z=k*Math.cos(L+j+b)+_,B=O*Math.sin(L+j-b)+C;c.endTangent=[p[0]-z,p[1]-B]}e.push(c)}return e}var yt=function(t,e,n){return t>=e&&t<=n};function bt(t,e,n,i){var r=n.x-t.x,o=n.y-t.y,a=e.x-t.x,s=e.y-t.y,l=i.x-n.x,u=i.y-n.y,c=a*u-s*l,h=null;if(c*c>.001*(a*a+s*s)*(l*l+u*u)){var d=(r*u-o*l)/c,f=(r*s-o*a)/c;yt(d,0,1)&&yt(f,0,1)&&(h={x:t.x+d*a,y:t.y+d*s})}return h}var xt=1e-6;function wt(t){return Math.abs(t)<xt?0:t<0?-1:1}function _t(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function St(t,e,n){var i=!1,r=t.length;if(r<=2)return!1;for(var o=0;o<r;o++){var a=t[o],s=t[(o+1)%r];if(_t(a,s,[e,n]))return!0;wt(a[1]-n)>0!=wt(s[1]-n)>0&&wt(e-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(i=!i)}return i}function Mt(t){for(var e=[],n=t.length,i=0;i<n-1;i++){var r=t[i],o=t[i+1];e.push({from:{x:r[0],y:r[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var a=t[0],s=t[n-1];e.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return e}function Ct(t){var e=t.map(function(t){return t[0]}),n=t.map(function(t){return t[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}function It(t,e){if(t.length<2||e.length<2)return!1;var n,i,r=Ct(t),o=Ct(e);if(n=r,(i=o).minX>n.maxX||i.maxX<n.minX||i.minY>n.maxY||i.maxY<n.minY)return!1;var a=!1;if(u(e,function(e){if(St(t,e[0],e[1]))return a=!0,!1}),a)return!0;if(u(t,function(t){if(St(e,t[0],t[1]))return a=!0,!1}),a)return!0;var s=Mt(t),l=Mt(e),c=!1;return u(l,function(t){if(function(t,e){var n=!1;return u(t,function(t){if(bt(t.from,t.to,e.from,e.to))return n=!0,!1}),n}(s,t))return c=!0,!1}),c}n.d(e,!1,function(){return M}),n.d(e,"a",function(){return I}),n.d(e,!1,function(){return O}),n.d(e,!1,function(){return N}),n.d(e,!1,function(){return j}),n.d(e,!1,function(){return lt}),n.d(e,!1,function(){return ct}),n.d(e,"b",function(){return F}),n.d(e,!1,function(){return X}),n.d(e,"c",function(){return W}),n.d(e,!1,function(){return P}),n.d(e,!1,function(){return gt}),n.d(e,"d",function(){return mt}),n.d(e,!1,function(){return bt}),n.d(e,!1,function(){return It}),n.d(e,!1,function(){return St})},wRLm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.secondReg=e.dateReg=void 0;e.secondReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;e.dateReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/},wYL2:function(t,e){t.exports=function(t,e){var n=e[0],i=e[1],r=n*n+i*i;r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r);return t}},wb0v:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("Z60a"),r=n.n(i),o=n("C9uT"),a=n.n(o),s=n("lVvd"),l=function(){function t(e,n){r()(this,t),this.center=void 0,this.halfExtents=void 0,this.min=s.e.create(),this.max=s.e.create(),this.update(e,n)}return a()(t,[{key:"update",value:function(t,e){this.center=t||s.e.create(),this.halfExtents=e||s.e.fromValues(.5,.5,.5),this.min=s.e.sub(this.min,this.center,this.halfExtents),this.max=s.e.add(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(t,e){s.e.add(this.center,e,t),s.e.scale(this.center,this.center,.5),s.e.sub(this.halfExtents,e,t),s.e.scale(this.halfExtents,this.halfExtents,.5),s.e.copy(this.min,t),s.e.copy(this.max,e)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(t){var e=this.center,n=e[0],i=e[1],r=e[2],o=this.halfExtents,a=o[0],s=o[1],l=o[2],u=n-a,c=n+a,h=i-s,d=i+s,f=r-l,p=r+l,g=t.center,v=g[0],m=g[1],y=g[2],b=t.halfExtents,x=b[0],w=b[1],_=b[2],S=v-x,M=v+x,C=m-w,I=m+w,k=y-_,T=y+_;S<u&&(u=S),M>c&&(c=M),C<h&&(h=C),I>d&&(d=I),k<f&&(f=k),T>p&&(p=T),e[0]=.5*(u+c),e[1]=.5*(h+d),e[2]=.5*(f+p),o[0]=.5*(c-u),o[1]=.5*(d-h),o[2]=.5*(p-f),this.min[0]=u,this.min[1]=h,this.min[2]=f,this.max[0]=c,this.max[1]=d,this.max[2]=p}},{key:"intersects",value:function(t){var e=this.getMax(),n=this.getMin(),i=t.getMax(),r=t.getMin();return n[0]<=i[0]&&e[0]>=r[0]&&n[1]<=i[1]&&e[1]>=r[1]&&n[2]<=i[2]&&e[2]>=r[2]}},{key:"containsPoint",value:function(t){var e=this.getMin(),n=this.getMax();return!(t[0]<e[0]||t[0]>n[0]||t[1]<e[1]||t[1]>n[1]||t[2]<e[2]||t[2]>n[2])}},{key:"getNegativeFarPoint",value:function(t){return 273===t.pnVertexFlag?s.e.copy(s.e.create(),this.min):272===t.pnVertexFlag?s.e.fromValues(this.min[0],this.min[1],this.max[2]):257===t.pnVertexFlag?s.e.fromValues(this.min[0],this.max[1],this.min[2]):256===t.pnVertexFlag?s.e.fromValues(this.min[0],this.max[1],this.max[2]):17===t.pnVertexFlag?s.e.fromValues(this.max[0],this.min[1],this.min[2]):16===t.pnVertexFlag?s.e.fromValues(this.max[0],this.min[1],this.max[2]):1===t.pnVertexFlag?s.e.fromValues(this.max[0],this.max[1],this.min[2]):s.e.fromValues(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(t){return 273===t.pnVertexFlag?s.e.copy(s.e.create(),this.max):272===t.pnVertexFlag?s.e.fromValues(this.max[0],this.max[1],this.min[2]):257===t.pnVertexFlag?s.e.fromValues(this.max[0],this.min[1],this.max[2]):256===t.pnVertexFlag?s.e.fromValues(this.max[0],this.min[1],this.min[2]):17===t.pnVertexFlag?s.e.fromValues(this.min[0],this.max[1],this.max[2]):16===t.pnVertexFlag?s.e.fromValues(this.min[0],this.max[1],this.min[2]):1===t.pnVertexFlag?s.e.fromValues(this.min[0],this.min[1],this.max[2]):s.e.fromValues(this.min[0],this.min[1],this.min[2])}}]),t}()},woOf:function(t,e,n){t.exports={default:n("V3tA"),__esModule:!0}},wyYT:function(t,e,n){"use strict";var i=n("AHH9");e.a={props:{lockScroll:{type:Boolean,default:!0}},methods:{checkScrollBar(){let t=window.innerWidth;if(!t){const e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.bodyIsOverflowing&&(this.scrollBarWidth=Object(i.c)())},checkMaskInVisible(){let t=document.getElementsByClassName("ivu-modal-mask")||[];return Array.from(t).every(t=>"none"===t.style.display||t.classList.contains("fade-leave-to"))},setScrollBar(){this.bodyIsOverflowing&&void 0!==this.scrollBarWidth&&(document.body.style.paddingRight=`${this.scrollBarWidth}px`)},resetScrollBar(){document.body.style.paddingRight=""},addScrollEffect(){this.lockScroll&&(this.checkScrollBar(),this.setScrollBar(),document.body.style.overflow="hidden")},removeScrollEffect(){this.lockScroll&&this.checkMaskInVisible()&&(document.body.style.overflow="",this.resetScrollBar())}}}},"x+ND":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i,r,o=n("Z60a"),a=n.n(o),s=n("C9uT"),l=n.n(s),u=n("YulH");n.n(u);!function(t){t.PANSTART="PANSTART",t.PANEND="PANEND",t.PANMOVE="PANMOVE",t.PINCH="PINCH",t.KEYDOWN="KEYDOWN",t.KEYUP="KEYUP",t.HOVER="HOVER"}(r||(r={}));var c=Object(u.injectable)()(i=function(){function t(){a()(this,t)}return l()(t,[{key:"listen",value:function(t){}},{key:"on",value:function(t,e){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),t}())||i},xGkn:function(t,e,n){"use strict";var i=n("4mcu"),r=n("EGZi"),o=n("/bQp"),a=n("TcQ7");t.exports=n("vIB/")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},"xH/j":function(t,e,n){var i=n("hJx8");t.exports=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:i(t,r,e[r]);return t}},xLtR:function(t,e,n){"use strict";var i=n("cGG2"),r=n("TNV1"),o=n("pBtG"),a=n("KCLY");function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return s(t),e.data=r(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},xQxY:function(t,e,n){"use strict";e.a={methods:{dispatch(t,e,n){let i=this.$parent||this.$root,r=i.$options.name;for(;i&&(!r||r!==t);)(i=i.$parent)&&(r=i.$options.name);i&&i.$emit.apply(i,[e].concat(n))},broadcast(t,e,n){(function t(e,n,i){this.$children.forEach(r=>{r.$options.name===e?r.$emit.apply(r,[n].concat(i)):t.apply(r,[e,n].concat([i]))})}).call(this,t,e,n)}}}},xk4U:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingOnSyntax=void 0;var i=n("spEF"),r=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new i.BindingWhenSyntax(this._binding)},t}();e.BindingOnSyntax=r},xnc9:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},xtqr:function(t,e,n){"use strict";var i=this&&this.__spreadArray||function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.getFunctionName=e.getBaseClassDependencyCount=e.getDependencies=void 0;var r=n("dv2D"),o=n("tuOO"),a=n("3gih"),s=n("cEWm"),l=n("ETa/");Object.defineProperty(e,"getFunctionName",{enumerable:!0,get:function(){return l.getFunctionName}});var u=n("zI0I");function c(t,e,n,r){var s=t.getConstructorMetadata(n),l=s.compilerGeneratedMetadata;if(void 0===l){var c=o.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(c)}var f=s.userGeneratedMetadata,p=Object.keys(f),g=0===n.length&&p.length>0,v=p.length>n.length,m=function(t,e,n,i,r){for(var o=[],a=0;a<r;a++){var s=a,l=h(s,t,e,n,i);null!==l&&o.push(l)}return o}(r,e,l,f,g||v?p.length:n.length),y=function t(e,n){var r=e.getPropertiesMetadata(n);var o=[];var s=Object.keys(r);for(var l=0,c=s;l<c.length;l++){var h=c[l],f=r[h],p=d(r[h]),g=p.targetName||h,v=p.inject||p.multiInject,m=new u.Target(a.TargetTypeEnum.ClassProperty,g,v);m.metadata=f,o.push(m)}var y=Object.getPrototypeOf(n.prototype).constructor;if(y!==Object){var b=t(e,y);o=i(i([],o),b)}return o}(t,n);return i(i([],m),y)}function h(t,e,n,i,s){var l=s[t.toString()]||[],c=d(l),h=!0!==c.unmanaged,f=i[t],p=c.inject||c.multiInject;if((f=p||f)instanceof r.LazyServiceIdentifer&&(f=f.unwrap()),h){var g=f===Object,v=f===Function;if(!e&&(g||v||void 0===f)){var m=o.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+n+".";throw new Error(m)}var y=new u.Target(a.TargetTypeEnum.ConstructorArgument,c.targetName,f);return y.metadata=l,y}return null}function d(t){var e={};return t.forEach(function(t){e[t.key.toString()]=t.value}),{inject:e[s.INJECT_TAG],multiInject:e[s.MULTI_INJECT_TAG],targetName:e[s.NAME_TAG],unmanaged:e[s.UNMANAGED_TAG]}}e.getDependencies=function(t,e){return c(t,l.getFunctionName(e),e,!1)},e.getBaseClassDependencyCount=function t(e,n){var i=Object.getPrototypeOf(n.prototype).constructor;if(i!==Object){var r=c(e,l.getFunctionName(i),i,!0),o=r.map(function(t){return t.metadata.filter(function(t){return t.key===s.UNMANAGED_TAG})}),a=[].concat.apply([],o).length,u=r.length-a;return u>0?u:t(e,i)}return 0}},xu9d:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagProperty=e.tagParameter=e.decorate=void 0;var i=n("tuOO"),r=n("cEWm");function o(t,e,n,r,o){var a={},s="number"==typeof o,l=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(i.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,e)&&(a=Reflect.getMetadata(t,e));var u=a[l];if(Array.isArray(u))for(var c=0,h=u;c<h.length;c++){var d=h[c];if(d.key===r.key)throw new Error(i.DUPLICATED_METADATA+" "+d.key.toString())}else u=[];u.push(r),a[l]=u,Reflect.defineMetadata(t,a,e)}function a(t,e){Reflect.decorate(t,e)}e.tagParameter=function(t,e,n,i){o(r.TAGGED,t,e,i,n)},e.tagProperty=function(t,e,n){o(r.TAGGED_PROP,t.constructor,e,n)},e.decorate=function(t,e,n){"number"==typeof n?a([function(t,e){return function(n,i){e(n,i,t)}}(n,t)],e):"string"==typeof n?Reflect.decorate([t],e,n):a([t],e)}},xuDd:function(t,e,n){var i=n("QGUm");t.exports=function(t){var e=0,n=[],r={},o=[];return t.nodes().forEach(function(a){i.has(r,a)||function a(s){var l=r[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach(function(t){i.has(r,t)?r[t].onStack&&(l.lowlink=Math.min(l.lowlink,r[t].index)):(a(t),l.lowlink=Math.min(l.lowlink,r[t].lowlink))}),l.lowlink===l.index){var u,c=[];do{u=n.pop(),r[u].onStack=!1,c.push(u)}while(s!==u);o.push(c)}}(a)}),o}},yJKB:function(t,e,n){"use strict";var i=n("TToO"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),i=0;i<n.length;i++){var r=n[i];e.add(r.clone())}return e},e}(n("JwB+").a);e.a=r},"yqJ/":function(t,e,n){var i=n("QGUm"),r=n("O11n");t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:function(t){return i.map(t.nodes(),function(e){var n=t.node(e),r=t.parent(e),o={v:e};return i.isUndefined(n)||(o.value=n),i.isUndefined(r)||(o.parent=r),o})}(t),edges:function(t){return i.map(t.edges(),function(e){var n=t.edge(e),r={v:e.v,w:e.w};return i.isUndefined(e.name)||(r.name=e.name),i.isUndefined(n)||(r.value=n),r})}(t)};i.isUndefined(t.graph())||(e.value=i.clone(t.graph()));return e},read:function(t){var e=new r(t.options).setGraph(t.value);return i.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),i.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}}},"z/wH":function(t,e){var n=[],i=[],r="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function o(t,e){if(e=e||{},void 0===t)throw new Error(r);var o,a=!0===e.prepend?"prepend":"append",s=void 0!==e.container?e.container:document.querySelector("head"),l=n.indexOf(s);return-1===l&&(l=n.push(s)-1,i[l]={}),void 0!==i[l]&&void 0!==i[l][a]?o=i[l][a]:(o=i[l][a]=function(){var t=document.createElement("style");return t.setAttribute("type","text/css"),t}(),"prepend"===a?s.insertBefore(o,s.childNodes[0]):s.appendChild(o)),65279===t.charCodeAt(0)&&(t=t.substr(1,t.length)),o.styleSheet?o.styleSheet.cssText+=t:o.textContent+=t,o}t.exports=o,t.exports.insertCss=o},zFdN:function(t,e){t.exports=function(t,e,n){var i=Math.cos(n),r=Math.sin(n),o=e[0],a=e[1];return t[0]=o*i-a*r,t[1]=o*r+a*i,t}},zI0I:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Target=void 0;var i=n("cEWm"),r=n("fwdJ"),o=n("gNUp"),a=n("00+W"),s=function(){function t(t,e,n,s){this.id=r.id(),this.type=t,this.serviceIdentifier=n,this.name=new a.QueryableString(e||""),this.metadata=new Array;var l=null;"string"==typeof s?l=new o.Metadata(i.NAMED_TAG,s):s instanceof o.Metadata&&(l=s),null!==l&&this.metadata.push(l)}return t.prototype.hasTag=function(t){for(var e=0,n=this.metadata;e<n.length;e++){if(n[e].key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(i.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(i.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(i.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some(function(t){return i.NON_CUSTOM_TAG_KEYS.every(function(e){return t.key!==e})})},t.prototype.isOptional=function(){return this.matchesTag(i.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(t){return t.key===i.NAMED_TAG})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(t){return i.NON_CUSTOM_TAG_KEYS.every(function(e){return t.key!==e})}):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(i.NAMED_TAG)(t)},t.prototype.matchesTag=function(t){var e=this;return function(n){for(var i=0,r=e.metadata;i<r.length;i++){var o=r[i];if(o.key===t&&o.value===n)return!0}return!1}},t}();e.Target=s},zMj2:function(t,e,n){"use strict";var i=function(){return function(t){this.value=t}}(),r=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new i(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),o=function(){function t(t){this._list=new r,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var n=this._list,r=this._map,o=null;if(null==r[t]){var a=n.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=n.head;n.remove(l),delete r[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new i(e),s.key=t,n.insertEntry(s),r[t]=s}return o},t.prototype.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}();e.a=o},zOqJ:function(t,e,n){var i=n("Y/tY"),r=n("vImi"),o={};Object.keys(i).forEach(function(t){o[t]={},Object.defineProperty(o[t],"channels",{value:i[t].channels}),Object.defineProperty(o[t],"labels",{value:i[t].labels});var e=r(t);Object.keys(e).forEach(function(n){var i=e[n];o[t][n]=function(t){var e=function(e){if(void 0===e||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var i=n.length,r=0;r<i;r++)n[r]=Math.round(n[r]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(i),o[t][n].raw=function(t){var e=function(e){return void 0===e||null===e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(i)})}),t.exports=o},zQR9:function(t,e,n){"use strict";var i=n("h65t")(!0);n("vIB/")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},zxJY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiInject=void 0;var i=n("cEWm"),r=n("gNUp"),o=n("xu9d");e.multiInject=function(t){return function(e,n,a){var s=new r.Metadata(i.MULTI_INJECT_TAG,t);"number"==typeof a?o.tagParameter(e,n,a,s):o.tagProperty(e,n,s)}}},zxr4:function(t,e){}});